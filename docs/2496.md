# è½¦è¾†è·¯å¾„é—®é¢˜ï¼šç²¾ç¡®ä¸å¯å‘å¼è§£å†³æ–¹æ¡ˆ

> [åŸæ–‡](https://towardsdatascience.com/the-vehicle-routing-problem-exact-and-heuristic-solutions-c411c0f4d734?source=collection_archive---------0-----------------------#2023-08-04)

## äº†è§£å¦‚ä½•ç”¨Pythonè§£å†³å¤æ‚çš„è·¯ç”±é—®é¢˜

[](https://medium.com/@bruscalia12?source=post_page-----c411c0f4d734--------------------------------)[![å¸ƒé²è¯ºÂ·æ–¯å¡åˆ©äºš C. F. è±ç‰¹](../Images/1042cd04be047c0811fef79ecd04e69c.png)](https://medium.com/@bruscalia12?source=post_page-----c411c0f4d734--------------------------------)[](https://towardsdatascience.com/?source=post_page-----c411c0f4d734--------------------------------)[![Towards Data Science](../Images/a6ff2676ffcc0c7aad8aaf1d79379785.png)](https://towardsdatascience.com/?source=post_page-----c411c0f4d734--------------------------------) [å¸ƒé²è¯ºÂ·æ–¯å¡åˆ©äºš C. F. è±ç‰¹](https://medium.com/@bruscalia12?source=post_page-----c411c0f4d734--------------------------------)

Â·

[å…³æ³¨](https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F3ce9b7482ef0&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fthe-vehicle-routing-problem-exact-and-heuristic-solutions-c411c0f4d734&user=Bruno+Scalia+C.+F.+Leite&userId=3ce9b7482ef0&source=post_page-3ce9b7482ef0----c411c0f4d734---------------------post_header-----------) å‘è¡¨åœ¨ [Towards Data Science](https://towardsdatascience.com/?source=post_page-----c411c0f4d734--------------------------------) Â·13åˆ†é’Ÿé˜…è¯»Â·2023å¹´8æœˆ4æ—¥[](https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fc411c0f4d734&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fthe-vehicle-routing-problem-exact-and-heuristic-solutions-c411c0f4d734&user=Bruno+Scalia+C.+F.+Leite&userId=3ce9b7482ef0&source=-----c411c0f4d734---------------------clap_footer-----------)

--

[](https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fc411c0f4d734&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fthe-vehicle-routing-problem-exact-and-heuristic-solutions-c411c0f4d734&source=-----c411c0f4d734---------------------bookmark_footer-----------)![](../Images/f93bccab1e4c779b83d2245412c6d584.png)

ç…§ç‰‡ç”± [Nik Shuliahin ğŸ’›ğŸ’™](https://unsplash.com/@tjump?utm_source=medium&utm_medium=referral) æä¾›ï¼Œæ¥æºäº [Unsplash](https://unsplash.com/?utm_source=medium&utm_medium=referral)

è½¦è¾†è·¯å¾„é—®é¢˜ï¼ˆVRPï¼‰çš„ç›®æ ‡æ˜¯ç¡®å®šç”±ä¸€ç»„è½¦è¾†æ‰§è¡Œçš„æœ€ä½³è·¯å¾„é›†åˆï¼Œä»¥æœåŠ¡äºä¸€ç»„æŒ‡å®šçš„å®¢æˆ·ã€‚ç”±äºå…¶å¤šç§åº”ç”¨å’Œå…·æœ‰æŒ‘æˆ˜æ€§çš„ç»„åˆç‰¹æ€§ï¼Œå®ƒæ˜¯è¿ç­¹å­¦å’Œæ•°å€¼ä¼˜åŒ–ä¸­ç ”ç©¶æœ€å¤šçš„é—®é¢˜ä¹‹ä¸€ã€‚

å…·æœ‰è´Ÿè½½ï¼ˆå’ŒæŒç»­æ—¶é—´ï¼‰çº¦æŸçš„å®¹é‡è½¦è¾†è·¯å¾„é—®é¢˜ï¼ˆCVRPï¼‰æ˜¯æœ€å¸¸è§çš„å˜ç§ä¹‹ä¸€ï¼Œå› ä¸ºå®ƒå¼•å…¥äº†è´Ÿè½½å®¹é‡æœ‰é™çš„è½¦è¾†ä»¥åŠå¯èƒ½çš„æŒç»­æ—¶é—´/è·ç¦»çº¦æŸã€‚å…¶ä»–å¸¸è§çš„å˜ç§è¿˜å¼•å…¥äº†å¤šä¸ªä»“åº“ã€å¼‚è´¨è½¦é˜Ÿã€å–è´§å’Œé…é€ä»¥åŠæ—¶é—´çª—çº¦æŸã€‚

è¿™äº›é—®é¢˜çš„ç»„åˆæ–¹é¢ä½¿å¾—è€ƒè™‘ä¸€ä¸ªç®€å•çš„15ç‚¹é›†åˆæ—¶ï¼Œæœ‰6 Ã— 10Â¹Â¹æ¡å¯èƒ½çš„è·¯çº¿å°†å…¶è¿æ¥èµ·æ¥ï¼ˆDantzig & Ramser, 1959ï¼‰ã€‚å› æ­¤ï¼ŒæŸäº›ç°å®ä¸–ç•Œçš„åº”ç”¨åœ¨è¿‡å»å‡ åå¹´ä¸­è®¡ç®—å’Œç®—æ³•ç ”ç©¶è¿›å±•ä¹‹å‰å¯èƒ½ä»ä¸åˆ‡å®é™…ã€‚Branch-Cut-and-Priceç®—æ³•å·²èƒ½å¤Ÿè¯æ˜å…·æœ‰æ•°ç™¾åå®¢æˆ·çš„CVRPå®ä¾‹çš„æœ€ä¼˜æ€§ï¼ˆFukasawa et al., 2006; Pecin et al., 2017ï¼‰ï¼Œè€Œæœ€å…ˆè¿›çš„å…ƒå¯å‘å¼ç®—æ³•ç»“åˆå±€éƒ¨æœç´¢æŠ€æœ¯å¯ä»¥åœ¨å‡ ç§’é’Ÿå†…ä¸ºè¿™äº›å®ä¾‹æä¾›é«˜è´¨é‡ï¼ˆæœ‰æ—¶æœ€ä¼˜ï¼‰çš„è§£ï¼ˆVidal et al., 2012; Vidal, 2022ï¼‰ã€‚

åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬å°†ä»‹ç»å…·æœ‰è´Ÿè½½ï¼ˆå’ŒæŒç»­æ—¶é—´ï¼‰çº¦æŸçš„å®¹é‡è½¦è¾†è·¯å¾„é—®é¢˜ï¼Œå¹¶ä½¿ç”¨æ··åˆæ•´æ•°è§„åˆ’ï¼ˆMIPï¼‰å’Œä¸“é—¨çš„ï¼ˆå…ƒï¼‰å¯å‘å¼ç®—æ³•è¿›è¡Œæ±‚è§£ã€‚åœ¨ç¬¬ä¸€éƒ¨åˆ†ä¸­ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨Python AML *Pyomo*ï¼Œé…åˆHiGHSæ±‚è§£å™¨ï¼Œè€Œåœ¨ç¬¬äºŒéƒ¨åˆ†ä¸­ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨Google *OR Tools* åŒ…ã€‚

é‚£äº›å¯¹é—®é¢˜çš„ç°å®ä¸–ç•Œåº”ç”¨æ›´æ„Ÿå…´è¶£è€Œä¸æ˜¯ç†è®ºæ–¹é¢çš„è¯»è€…å¯èƒ½ä¼šå¿«é€Ÿæµè§ˆ*MIP*éƒ¨åˆ†ï¼Œå¹¶å¯¹[*ä¸“é—¨ï¼ˆå…ƒï¼‰å¯å‘å¼*](#45ff)å’Œ[*æœ‰ç”¨æ‰©å±•*](#cb69)éƒ¨åˆ†æ›´æ„Ÿå…´è¶£ã€‚

é‚£äº›å¯¹MIPå…¬å¼æ„Ÿå…´è¶£ä½†å°šä¸ç†Ÿæ‚‰æ•°å€¼ä¼˜åŒ–çš„äººå¯èƒ½ä¼šå‘ç°æŸ¥çœ‹æˆ‘ä¹‹å‰å…³äº[*çº¿æ€§è§„åˆ’*](https://medium.com/towards-data-science/linear-programming-theory-and-applications-c67600591612)å’Œ[*åˆ†æ”¯å®šç•Œ*](/a-gentle-introduction-to-branch-bound-d00a4ee1cad)æ–¹æ³•çš„æ•…äº‹ä¼šå¾ˆæœ‰å¸®åŠ©ï¼Œç„¶åå†ç»§ç»­é˜…è¯»æœ¬æ–‡ã€‚

ä¸å¾€å¸¸ä¸€æ ·ï¼Œä½ å¯ä»¥åœ¨è¿™ä¸ª [git ä»“åº“](https://github.com/bruscalia/optimization-demo-files/tree/27ccb5d2fc9e85e07436d1120f5c3f4073960448/vrp) ä¸­æ‰¾åˆ°å®Œæ•´çš„ä»£ç ã€‚

ç°åœ¨ï¼Œè®©æˆ‘ä»¬æ·±å…¥äº†è§£å§ï¼

# æ··åˆæ•´æ•°è§„åˆ’

æœ¬èŠ‚ä¸­æå‡ºçš„æ•°å­¦å…¬å¼å°†ä½¿ç”¨Toth & Vigo (2002)ä¸­æ‰€å±•ç¤ºçš„ç›¸åŒæ–¹ç¨‹ï¼Œè¯¥æ¨¡å‹è¢«ç§°ä¸ºâ€œä¸‰æŒ‡æ•°è½¦è¾†æµé‡å…¬å¼â€ã€‚

è€ƒè™‘ä¸€ä¸ªèŠ‚ç‚¹é›†åˆ*V*ï¼ˆéœ€æ±‚å’Œä»“åº“ï¼‰å’Œä¸€ä¸ªè½¦è¾†é›†åˆ*K*ã€‚æˆ‘ä»¬å°†ä½¿ç”¨å°å†™çš„*i*å’Œ*j*æ¥è¡¨ç¤ºèŠ‚ç‚¹ç´¢å¼•ï¼Œå°å†™çš„*k*æ¥è¡¨ç¤ºè½¦è¾†ç´¢å¼•ã€‚ç”±äºè¯¥æ¨¡å‹é€‚ç”¨äºä¸å¯¹ç§°æƒ…å†µï¼Œå‡è®¾èŠ‚ç‚¹æ˜¯ä¸€ä¸ªå®Œæ•´çš„æœ‰å‘å›¾*G*(*V*, *A*)çš„ä¸€éƒ¨åˆ†ï¼Œå…¶ä¸­*A*æ˜¯å¼§ã€‚åœ¨è¿™ä¸ªé—®é¢˜ä¸­ï¼Œæœ‰ä¸€ä¸ªå•ä¸€çš„ä»“åº“èŠ‚ç‚¹ï¼Œç´¢å¼•ä¸º0ï¼Œæ‰€æœ‰è½¦è¾†çš„å®¹é‡éƒ½æ˜¯*Q*ã€‚è€ƒè™‘ä¸¤ä¸ªå†³ç­–å˜é‡ç»„ï¼š

+   *x*_{*i, j, k*}: æ˜¯ä¸€ä¸ªäºŒè¿›åˆ¶å˜é‡ï¼Œè¡¨ç¤ºç”±è½¦è¾† *k* æ‰§è¡Œçš„ä»èŠ‚ç‚¹ *i* åˆ°èŠ‚ç‚¹ *j* çš„æ´»è·ƒå¼§ã€‚

+   *y*_{*i, k*}: æ˜¯ä¸€ä¸ªäºŒè¿›åˆ¶å˜é‡ï¼Œè¡¨ç¤ºèŠ‚ç‚¹ *i* çš„éœ€æ±‚ç”±è½¦è¾† *k* æ»¡è¶³ã€‚

æˆ‘ä»¬çš„ç›®æ ‡æ˜¯æœ€å°åŒ–ä¸æ´»è·ƒå¼§ç›¸å…³çš„æˆæœ¬å€¼ã€‚æ€»æŒç»­æ—¶é—´æˆ–è·ç¦»æ˜¯å¸¸è§çš„ä¾‹å­ã€‚å‡è®¾å¼§ *i*ï¼Œ*j* çš„æˆæœ¬æ˜¯ *cáµ¢â±¼*ã€‚ç›®æ ‡å‡½æ•°å¯ä»¥è¡¨ç¤ºä¸ºå¦‚ä¸‹ã€‚

![](../Images/6edb8e70ffd7f3b0b7621fcc56c702c8.png)

CVRP çš„ç›®æ ‡å‡½æ•°ã€‚ï¼ˆä½œè€…æä¾›çš„å›¾åƒï¼‰ã€‚

æˆ‘ä»¬è¿˜éœ€è¦åŒ…æ‹¬ç¡®ä¿ä»¥ä¸‹æ¡ä»¶çš„çº¦æŸï¼š

+   æ¯ä¸ªå®¢æˆ· *i* åªè¢«è®¿é—®ä¸€æ¬¡ï¼Œå› æ­¤æœ‰ä¸€ä¸ªä»å®ƒå‡ºå‘çš„æ´»è·ƒå¼§å’Œä¸€ä¸ªåˆ°è¾¾å®ƒçš„æ´»è·ƒå¼§ã€‚

+   å¦‚æœä»»ä½•ç”±è½¦è¾† *k* ç´¢å¼•çš„å¼§å˜é‡è¿›å…¥ä¸€ä¸ªèŠ‚ç‚¹ *i* æˆ–ä»ä¸­å‡ºå»ï¼Œåˆ™è¯¥èŠ‚ç‚¹çš„éœ€æ±‚ *q* åˆ†é…ç»™è½¦è¾† *k*ã€‚

+   åˆ†é…ç»™ä¸€è¾†è½¦çš„æ€»éœ€æ±‚ä¸èƒ½è¶…è¿‡å…¶å®¹é‡ *Q*ã€‚

+   æ°å¥½ |*K*| ä¸ªèŠ‚ç‚¹ä»ä»“åº“å‡ºå‘å¹¶åˆ°è¾¾ä»“åº“ã€‚

+   æ²¡æœ‰å­å›è·¯â€¦â€¦ç„¶è€Œï¼Œå­å›è·¯çš„æ•°é‡å¯èƒ½å¤ªå¤§ï¼Œæ— æ³•ä»ä¸€å¼€å§‹å°±æšä¸¾å‡ºæ¥ã€‚æˆ‘ä»¬å°†è¯¦ç»†è®¨è®ºå¦‚ä½•è¿›è¡Œå¤„ç†ã€‚

![](../Images/27107a239f4062abd402f7f61d187d3d.png)

CVRP çš„çº¦æŸã€‚ï¼ˆä½œè€…æä¾›çš„å›¾åƒï¼‰ã€‚

å’Œå¾€å¸¸ä¸€æ ·ï¼Œåœ¨ Python æ•™ç¨‹ä¸­ï¼Œè®©æˆ‘ä»¬é€šè¿‡å¯¼å…¥æœ¬èŠ‚ä¸­ä½¿ç”¨çš„åº“å¼€å§‹æˆ‘ä»¬çš„ *åŠ¨æ‰‹* éƒ¨åˆ†ï¼š

```py
import time
from itertools import cycle

import numpy as np
from scipy.spatial.distance import pdist, squareform
import matplotlib.pyplot as plt
import matplotlib as mpl
import networkx as nx
import pyomo.environ as pyo
from pyomo.contrib.appsi.solvers.highs import Highs
```

ç°åœ¨è®©æˆ‘ä»¬å®ä¾‹åŒ–ä¸€ä¸ªå…·æœ‰ *N* ä¸ªéœ€æ±‚èŠ‚ç‚¹çš„éšæœºé—®é¢˜ã€‚åœ¨æ­¤ç¤ºä¾‹ä¸­ï¼Œ*depot* èŠ‚ç‚¹è¢«å‡è®¾ä¸ºç¬¬ä¸€ä¸ªèŠ‚ç‚¹ï¼ˆç´¢å¼• 0ï¼‰ï¼Œå› æ­¤æˆ‘ä»¬ç¡®ä¿å…¶å¯¹åº”çš„éœ€æ±‚ä¹Ÿä¸ºé›¶ã€‚

```py
np.random.seed(42)  # Results should be always the same

N = 10
demands = np.random.randint(1, 10, size=N)
demands[0] = 0

capacity = 15
n_vehicles = 4

coordinates = np.random.rand(N, 2)
distances = squareform(pdist(coordinates, metric="euclidean"))
distances = np.round(distances, decimals=4)  # avoid numerical errors
```

å¿…è¦çš„è½¦è¾†æ•°é‡å¯ä»¥é€šè¿‡ä½¿ç”¨äºŒè¿›åˆ¶è£…ç®±é—®é¢˜æ¥è®¡ç®—ã€‚å¦‚ä½•æ‰§è¡Œçš„ç¤ºä¾‹ä¹ŸåŒ…å«åœ¨ [å®Œæ•´æºä»£ç ](https://github.com/bruscalia/optimization-demo-files/tree/27ccb5d2fc9e85e07436d1120f5c3f4073960448/vrp) ä¸­ã€‚

åœ¨ *pyomo* ä¸­å»ºæ¨¡é—®é¢˜æœ‰ä¸¤ç§æ–¹æ³•ï¼š*Abstract* å’Œ *Concrete* æ¨¡å‹ã€‚åœ¨ç¬¬ä¸€ç§æ–¹æ³•ä¸­ï¼Œé—®é¢˜çš„ä»£æ•°è¡¨è¾¾å¼åœ¨æä¾›ä¸€äº›æ•°æ®å€¼ä¹‹å‰è¢«å®šä¹‰ï¼Œè€Œåœ¨ç¬¬äºŒç§æ–¹æ³•ä¸­ï¼Œæ¨¡å‹å®ä¾‹åœ¨å®šä¹‰å…¶å…ƒç´ æ—¶ç«‹å³åˆ›å»ºã€‚ä½ å¯ä»¥åœ¨ [åº“æ–‡æ¡£](https://pyomo.readthedocs.io/en/stable/pyomo_overview/abstract_concrete.html) æˆ– Bynum ç­‰äººï¼ˆ2021ï¼‰çš„ä¹¦ä¸­æ‰¾åˆ°æ›´å¤šå…³äºè¿™äº›æ–¹æ³•çš„ä¿¡æ¯ã€‚æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬å°†é‡‡ç”¨ *Concrete* æ¨¡å‹çš„è¡¨è¿°ã€‚

```py
model = pyo.ConcreteModel()
```

è®©æˆ‘ä»¬å®ä¾‹åŒ–éœ€æ±‚èŠ‚ç‚¹ *V*ã€å¼§ *A* å’Œè½¦è¾† *K* çš„é›†åˆã€‚æ³¨æ„ï¼Œä»“åº“èŠ‚ç‚¹åŒ…å«åœ¨èŠ‚ç‚¹ *V* é›†åˆä¸­ï¼Œå¦‚åŸå§‹æ•°å­¦å…¬å¼æ‰€ç¤ºã€‚

```py
model.V = pyo.Set(initialize=range(len(demands)))
model.A = pyo.Set(initialize=[(i, j) for i in model.V for j in model.V if i != j])
model.K = pyo.Set(initialize=range(n_vehicles))
```

ç°åœ¨æˆ‘ä»¬è®¾ç½®å®¹é‡ã€éœ€æ±‚è´Ÿè·å’Œå¼§æˆæœ¬çš„å‚æ•°ã€‚

```py
model.Q = pyo.Param(initialize=capacity)
model.q = pyo.Param(model.V, initialize={i: d for (i, d) in enumerate(demands)})
model.c = pyo.Param(model.A, initialize={(i, j): distances[i, j] for (i, j) in model.A})
```

ä»¥åŠæŒ‡ç¤ºç»™å®šè½¦è¾†ä¸­çš„æ´»è·ƒå¼§å’Œè½¦è¾†è®¿é—®çš„èŠ‚ç‚¹çš„å†³ç­–å˜é‡ã€‚

```py
model.x = pyo.Var(model.A, model.K, within=pyo.Binary)
model.y = pyo.Var(model.V, model.K, within=pyo.Binary)
```

åœ¨åŒ…å«çº¦æŸä¹‹å‰ï¼Œæˆ‘å°†åˆ›å»ºæˆ‘ä»¬çš„ç›®æ ‡ï¼Œè®¡ç®—æ´»è·ƒå¼§çš„æ€»æˆæœ¬ã€‚

```py
model.obj = pyo.Objective(
    expr=sum(
        model.x[i, j, k] * model.c[i, j]
        for (i, j) in model.A
        for k in model.K
    ),
    sense=pyo.minimize,
)
```

æˆ‘ä»¬è¿˜å¿…é¡»åŒ…æ‹¬ä¹‹å‰åˆ—å‡ºçš„çº¦æŸæ¡ä»¶ã€‚é¦–å…ˆï¼Œè®©æˆ‘ä»¬ä½¿ç”¨å¸¸è§çš„*Pyomo*ç­¾åæ¥å®ç°å®ƒä»¬ï¼š*function(model, *domain)*ã€‚

```py
def arcs_in(model, i):
    if i == model.V.first():
        return sum(model.x[:, i, :]) == len(model.K)
    else:
        return sum(model.x[:, i, :]) == 1.0

def arcs_out(model, i):
    if i == model.V.first():
        return sum(model.x[i, :, :]) == len(model.K)
    else:
        return sum(model.x[i, :, :]) == 1.0

def vehicle_assignment(model, i, k):
    return sum(model.x[:, i, k]) == model.y[i, k]

def comp_vehicle_assignment(model, i, k):
    return sum(model.x[i, :, k]) == model.y[i, k]

def capacity_constraint(model, k):
    return sum(model.y[i, k] * model.q[i] for i in model.V) <= model.Q
```

ç„¶åå°†å®ƒä»¬çº³å…¥æˆ‘ä»¬çš„æ¨¡å‹ä¸­ã€‚

```py
model.arcs_in = pyo.Constraint(model.V, rule=arcs_in)
model.arcs_out = pyo.Constraint(model.V, rule=arcs_out)
model.vehicle_assignment = pyo.Constraint(model.V, model.K, rule=vehicle_assignment)
model.comp_vehicle_assignment = pyo.Constraint(model.V, model.K, rule=comp_vehicle_assignment)
model.capacity_constraint = pyo.Constraint(model.K, rule=capacity_constraint)
```

è¯·æ³¨æ„ï¼Œæˆ‘è¿˜æ²¡æœ‰åŒ…æ‹¬å­æ—…è¡Œæ¶ˆé™¤çº¦æŸã€‚æˆ‘ä»¬åº”è¯¥è€ƒè™‘æ‰€æœ‰å¯èƒ½çš„*N*ä¸ªèŠ‚ç‚¹çš„æ’åˆ—ï¼Œæ¯æ¬¡å–*k*ä¸ªï¼Œè¿™å¯èƒ½ä¼šå˜å¾—éå¸¸åºå¤§ï¼Œå³ä½¿å¯¹äºä¸­ç­‰è§„æ¨¡çš„å®ä¾‹ä¹Ÿå¾ˆéš¾æšä¸¾ã€‚æˆ–è€…ï¼Œåœ¨æˆ‘ä»¬çš„è§£å†³è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬å°†é€’å½’åœ°åœ¨æ¯æ¬¡æ‰¾åˆ°æ–°è§£æ—¶åŒ…æ‹¬å­æ—…è¡Œæ¶ˆé™¤çº¦æŸï¼Œå¦‚æœæˆ‘ä»¬éªŒè¯è¿™ä¸ªè§£äº§ç”Ÿäº†å­æ—…è¡Œçš„è¯ã€‚åœ¨ä¸€äº›å•†ä¸šæ±‚è§£å™¨ä¸­ï¼Œè¿™äº›ç§°ä¸ºâ€œ*æ‡’æƒ°çº¦æŸ*â€ï¼Œå¯ä»¥é€šè¿‡å›è°ƒç›´æ¥çº³å…¥æ±‚è§£å™¨ã€‚

é¦–å…ˆï¼Œè®©æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªå‡½æ•°ï¼Œç»™å®šä¸€ä¸ªå­æ—…è¡Œã€æ‰€æœ‰å‰©ä½™èŠ‚ç‚¹ã€ä¸€ä¸ªå­æ—…è¡Œä¸­çš„èŠ‚ç‚¹å’Œä¸€è¾†è½¦ï¼Œè¿”å›ä¸€ä¸ª*Pyomo*è¡¨è¾¾å¼ï¼Œå¯¹åº”äºä¹‹å‰é™ˆè¿°çš„æ•°å­¦å…¬å¼ã€‚æ­¤å¤–ï¼Œè®©æˆ‘ä»¬åŒ…æ‹¬ä¸€ä¸ª*ConstraintList*ï¼Œåœ¨è§£å†³è¿‡ç¨‹ä¸­æˆ‘ä»¬å°†å‘å…¶ä¸­æ·»åŠ æ–°çš„å…ƒç´ ã€‚

```py
def subtour_elimination(model, S, Sout, h, k):
    nodes_out = sum(model.x[i, j, k] for i in S for j in Sout)
    return model.y[h, k] <= nodes_out

model.subtour_elimination = pyo.ConstraintList()
```

æˆ‘ä»¬å¿…é¡»åˆ›å»ºä¸€äº›å‡½æ•°ï¼Œç»™å®šä¸€ä¸ªè§£ï¼Œè¿”å›åˆ›å»ºçš„å­æ—…è¡Œï¼ˆå¦‚æœå­˜åœ¨ï¼‰ã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬å°†é¦–å…ˆä½¿ç”¨*find_arcs*å‡½æ•°åˆ›å»ºä¸€ä¸ªæ´»åŠ¨å¼§çš„åˆ—è¡¨ã€‚è¿™ä¸ªåˆ—è¡¨å°†ç”¨äºåˆ›å»ºä¸€ä¸ªä¸å®Œæ•´çš„æœ‰å‘å›¾ï¼Œä½¿ç”¨*Networkx*çš„*DiGraph*ç±»ã€‚*find_subtours*å‡½æ•°åº”è¯¥è¿”å›ä¸€ä¸ª*list*çš„*sets*ï¼Œè¡¨ç¤ºè¿æ¥ç»„ä»¶ã€‚

```py
def find_arcs(model):
    arcs = []
    for i, j in model.A:
        for k in model.K:
            if np.isclose(model.x[i, j, k].value, 1):
                arcs.append((i, j))
    return arcs

def find_subtours(arcs):
    G = nx.DiGraph(arcs)
    subtours = list(nx.strongly_connected_components(G))
    return subtours
```

æˆ‘ä»¬çš„ç›®æ ‡æ˜¯æ¶ˆé™¤ä¸åŒ…å«ä»“åº“èŠ‚ç‚¹çš„è¿æ¥ç»„ä»¶ç»„ã€‚å› æ­¤ï¼Œåœ¨ä¸‹ä¸€æ­¥ä¸­ï¼Œæˆ‘ä»¬å°†åˆ›å»ºå‡½æ•°ï¼Œéå†é›†åˆåˆ—è¡¨ï¼Œå¹¶åŒ…æ‹¬æ–°çš„çº¦æŸæ¡ä»¶ï¼Œå¦‚æœç»„ä»¶é›†åˆä¸åŒ…æ‹¬ä»“åº“èŠ‚ç‚¹çš„è¯ã€‚è¿™å°†ä½¿ç”¨*ConstraintList*ç±»çš„*add*æ–¹æ³•ã€‚

```py
def eliminate_subtours(model, subtours):
    proceed = False
    for S in subtours:
        if 0 not in S:
            proceed = True
            Sout = {i for i in model.V if i not in S}
            for h in S:
                for k in model.K:
                    model.subtour_elimination.add(
                      subtour_elimination(model, S, Sout, h, k)
                    )
    return proceed
```

ç°åœ¨æˆ‘ä»¬å·²å‡†å¤‡å¥½æå‡ºä¸€ä¸ªè§£å†³ç¨‹åºï¼Œå®ƒè¿­ä»£åœ°æ±‚è§£MIPï¼ŒéªŒè¯å½“å‰è§£æ˜¯å¦æœ‰å­æ—…è¡Œï¼Œå¦‚æœæœ‰ï¼Œåˆ™åŒ…æ‹¬æ–°çš„çº¦æŸä»¥æ¶ˆé™¤å®ƒä»¬ã€‚å¦åˆ™ï¼Œæ‰¾åˆ°çš„è§£å°±æ˜¯æœ€ä¼˜çš„ã€‚

```py
def solve_step(model, solver):
    sol = solver.solve(model)
    arcs = find_arcs(model)
    subtours = find_subtours(arcs)
    time.sleep(0.1)
    proceed = eliminate_subtours(model, subtours)
    return sol, proceed 

def solve(model, solver):
    proceed = True
    while proceed:
        sol, proceed = solve_step(model, solver)
    return sol
```

ç°åœ¨è®©æˆ‘ä»¬å®ä¾‹åŒ–æ±‚è§£å™¨å¹¶æ±‚è§£æˆ‘ä»¬çš„æ¨¡å‹ã€‚å¦‚æœå®‰è£…äº†*highspy*åŒ…ï¼Œ*Highs*æ±‚è§£å™¨å¯ä»¥åœ¨*Pyomo*ä¸­ä½¿ç”¨ï¼ˆæ£€æŸ¥å¯¼å…¥ï¼‰ã€‚æ‰€ä»¥ç¡®ä¿è¿è¡Œ`pip install highspy`ã€‚

```py
solver = Highs()
solver.highs_options = {
    "log_file": "Highs.log",
    "mip_heuristic_effort": 0.2,
    "mip_detect_symmetry": True,
    "mip_rel_gap": 1e-6,
}

solution = solve(model, solver)
```

è¿˜éœ€è¦ä¸€ä¸ªå‡½æ•°æ¥æ‰¾åˆ°åˆ›å»ºçš„è·¯å¾„ï¼Œç„¶åæˆ‘ä»¬å°±å‡†å¤‡å¥½ç»˜åˆ¶ç»“æœäº†ã€‚

```py
def find_tours(model):
    tours = []
    for k in model.K:
        node = 0
        tours.append([0])
        while True:
            for j in model.V:
                if (node, j) in model.A:
                    if np.isclose(model.x[node, j, k].value, 1):
                        node = j
                        tours[-1].append(node)
                        break
            if node == 0:
                break
    return tours
```

![](../Images/6fb03fe9219dd011aed7342e92b71ae5.png)

ä½¿ç”¨MIPäº§ç”Ÿçš„CVRPè·¯å¾„ã€‚ï¼ˆä½œè€…æä¾›çš„å›¾åƒï¼‰ã€‚

å¯¹äºæ€»å…±æœ‰10ä¸ªèŠ‚ç‚¹çš„å°è§„æ¨¡å®ä¾‹ï¼Œç»“æœä»¤äººæƒŠè®¶ã€‚ç„¶è€Œï¼Œå³ä½¿å¯¹äºè¿™ä¸ªå°è§„æ¨¡å®ä¾‹ï¼Œæ±‚è§£å™¨ä¹ŸèŠ±è´¹äº†å°†è¿‘åŠåˆ†é’Ÿæ¥è·å¾—è§£ï¼Œè€Œä¸”éšç€éœ€æ±‚ç‚¹å¢åŠ ï¼Œå¤æ‚æ€§æ˜¾è‘—å¢åŠ ã€‚å¹¸è¿çš„æ˜¯ï¼Œæœ‰ä¸“é—¨çš„ç®—æ³•å…¬å¼€å¯ç”¨ï¼Œç”¨äºåœ¨çŸ­æ—¶é—´å†…æ‰¾åˆ°æ›´å¤§å®ä¾‹çš„ä¼˜è´¨è§£ã€‚è®©æˆ‘ä»¬åœ¨ä¸‹ä¸€èŠ‚ä¸­æŸ¥çœ‹å®ƒä»¬ã€‚

# ä¸“é—¨çš„ï¼ˆå…ƒï¼‰å¯å‘å¼ç®—æ³•

å¤šå¹´æ¥ï¼Œå·²ç»æå‡ºäº†å‡ ç§é’ˆå¯¹ VRP å˜ä½“çš„ä¸“é—¨ï¼ˆå…ƒï¼‰å¯å‘å¼ç®—æ³•ã€‚å®ƒä»¬å¤§å¤šä¾èµ–äºå±€éƒ¨æœç´¢ç®—æ³•ï¼Œä»¥ä¾¿åœ¨ç»™å®šçš„è§£ä¸­å°è¯•ä¸åŒçš„æ‰°åŠ¨ï¼Œä»è€Œé¡ºåºåœ°æ”¹è¿›å…¶æˆæœ¬ï¼Œç›´åˆ°åœ¨ç»™å®šçš„é‚»åŸŸä¸­æ— æ³•è¿›ä¸€æ­¥æ”¹è¿›ã€‚ä½¿ç”¨ Google *Or Tools* æ—¶ï¼Œæˆ‘ä»¬ä¹Ÿå°†ä½¿ç”¨ä¸æ„é€ ç®—æ³•ç›¸å…³çš„å±€éƒ¨æœç´¢æ–¹æ³•ã€‚

åœ¨è¿™ä¸€éƒ¨åˆ†ä¸­ï¼Œå°†ä½¿ç”¨ Rochat å’Œ Taillard (1995) çš„å®ä¾‹ 150dã€‚å…¶æ•°æ®æ¥æºäº [CVRPLIB](http://vrp.atd-lab.inf.puc-rio.br/index.php/en/plotted-instances?data=tai150d)ã€‚è¯¥å®ä¾‹æœ‰ 150 ä¸ªå®¢æˆ·å’Œä¸€ä¸ªä»“åº“èŠ‚ç‚¹ï¼Œå› æ­¤æˆ‘ä»¬è‚¯å®šæ— æ³•ä½¿ç”¨ä¹‹å‰å±•ç¤ºçš„ MIP ç­–ç•¥æ¥è§£å†³å®ƒã€‚

è®©æˆ‘ä»¬å†æ¬¡ä»å¯¼å…¥æ‰€ä½¿ç”¨çš„åº“å¼€å§‹ã€‚

```py
from itertools import cycle

import numpy as np
import pandas as pd
from scipy.spatial.distance import pdist, squareform
import matplotlib.pyplot as plt
import matplotlib as mpl
from ortools.constraint_solver import routing_enums_pb2
from ortools.constraint_solver import pywrapcp
```

è®©æˆ‘ä»¬ä»ä¸€ä¸ªåŒ…å«æ¯ä¸ªèŠ‚ç‚¹åæ ‡å’Œéœ€æ±‚çš„æ•°æ®æ–‡ä»¶ä¸­åŠ è½½é—®é¢˜æ•°æ®ã€‚

```py
dataset = pd.read_csv("./data/tai150d.csv", index_col=0)
coordinates = dataset.loc[:, ["x", "y"]]
demands = dataset.d.values

capacity = 1874
n_vehicles = 15
N = coordinates.shape[0]

distances = squareform(pdist(coordinates, metric="euclidean"))
distances = np.round(distances, decimals=4)
```

ä½¿ç”¨ *OR Tools* VRP æ±‚è§£å™¨çš„ç¬¬ä¸€æ­¥æ˜¯å®ä¾‹åŒ–ä¸€ä¸ªè·¯ç”±ç®¡ç†å™¨å’Œä¸€ä¸ªæ¨¡å‹ã€‚

```py
# Create the routing index manager: number of nodes, number of vehicles, depot node
manager = pywrapcp.RoutingIndexManager(
    N, n_vehicles, 0
)

# Create Routing Model
routing = pywrapcp.RoutingModel(manager)
```

æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†æ·»åŠ å›è°ƒå‡½æ•°ä»¥é‡åŒ–ä¸å¼§/è¾¹å’ŒèŠ‚ç‚¹ç›¸å…³çš„ç»´åº¦ã€‚æˆ‘ä»¬ *routing* å®ä¾‹çš„ *RegisterTransitCallback* æ–¹æ³•å¯ä»¥ç”¨æ¥é‡åŒ–ä¸å¼§/è¾¹ç›¸å…³çš„ä»»ä½•ç»´åº¦ï¼Œè€Œ *RegisterUnaryTransitCallback* æ–¹æ³•å¯ä»¥é‡åŒ–ä¸èŠ‚ç‚¹ç›¸å…³çš„å€¼ã€‚æ ¹æ®å‚æ•°çš„åŸå§‹å¤§å°ï¼Œå¯èƒ½éœ€è¦é‡æ–°ç¼©æ”¾ä½ çš„å‚æ•°ï¼Œå› ä¸º *ortools* åªè€ƒè™‘ç»´åº¦ä¸­çš„æ•´æ•°å€¼ã€‚

```py
# Same valid for any callback related to arcs/edges
def distance_callback(from_index, to_index):
    from_node = manager.IndexToNode(from_index)
    to_node = manager.IndexToNode(to_index)
    return distances[from_node, to_node]

transit_callback_index = routing.RegisterTransitCallback(distance_callback)

# Same valid for any callback related to nodes
def demand_callback(from_index):
    from_node = manager.IndexToNode(from_index)
    return demands[from_node]

demand_callback_index = routing.RegisterUnaryTransitCallback(demand_callback)
```

ç°åœ¨ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ä¹‹å‰å®šä¹‰çš„ *demand_callback_index* æ¥åŠ å…¥å®¹é‡çº¦æŸã€‚è¯·æ³¨æ„ï¼ŒæŒç»­æ—¶é—´çº¦æŸä¹Ÿå¯ä»¥ä½¿ç”¨ç›¸åŒçš„è¯­æ³•å®šä¹‰ï¼Œåªéœ€å°† *RegisterTransitCallback* çš„å®ä¾‹ä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°ä¼ é€’ã€‚æ­¤å¤–ï¼Œéœ€è¦å¼ºè°ƒçš„æ˜¯ï¼Œ*routing* æ¨¡å‹å¤„ç†å¼‚è´¨è½¦é˜Ÿï¼Œå› æ­¤æˆ‘ä»¬å¿…é¡»åœ¨ç¬¬ä¸‰ä¸ªå‚æ•°ä¸­ä¼ é€’ä¸€ä¸ªå€¼çš„åˆ—è¡¨ã€‚

```py
# Any constraint associated with vehicles can take same arguments
routing.AddDimensionWithVehicleCapacity(
    demand_callback_index,
    0,  # null capacity slack
    [capacity,] * n_vehicles,  # vehicle maximum capacities (list for each vehicle)
    True,  # start cumul to zero
    'Capacity'
)
```

åŒæ ·ï¼Œç›®æ ‡çš„å®šä¹‰ä¹Ÿå°† *callback* ä½œä¸ºä¸»è¦å‚æ•°ã€‚åœ¨è¿™ä¸ªç¤ºä¾‹ä¸­ï¼Œè®©æˆ‘ä»¬æœ€å°åŒ–åœ¨ *transit_callback_index* ä¸­å®šä¹‰çš„è·ç¦»ã€‚

```py
routing.SetArcCostEvaluatorOfAllVehicles(transit_callback_index)
```

æœ€åï¼Œæˆ‘ä»¬å¿…é¡»å®šä¹‰æ±‚è§£å™¨å‚æ•°å¹¶è§£å†³æˆ‘ä»¬çš„æ¨¡å‹ã€‚

```py
# Setting heuristic strategies
search_parameters = pywrapcp.DefaultRoutingSearchParameters()
search_parameters.first_solution_strategy = (
    routing_enums_pb2.FirstSolutionStrategy.CHRISTOFIDES
)
search_parameters.local_search_metaheuristic = (
    routing_enums_pb2.LocalSearchMetaheuristic.GUIDED_LOCAL_SEARCH
)
search_parameters.time_limit.FromSeconds(300)

# Solve the problem
solution = routing.SolveWithParameters(search_parameters)
```

ä»¥ä¸‹ä»£ç ç‰‡æ®µå¯ç”¨äºæå–æˆ‘ä»¬è§£å†³æ–¹æ¡ˆä¸­ä½¿ç”¨çš„è·¯çº¿ã€‚

```py
tours = []
for vehicle_id in range(n_vehicles):
    index = routing.Start(vehicle_id)
    tours.append([])
    while not routing.IsEnd(index):
        node_index = manager.IndexToNode(index)
        previous_index = index
        index = solution.Value(routing.NextVar(index))
        tours[-1].append(node_index)
    else:
        node_index = manager.IndexToNode(index)
        tours[-1].append(node_index)
```

å¯ä»¥é€šè¿‡è¿è¡Œç®€å•çš„ä»£ç  `solution.ObjectiveValue()` æ¥è®¿é—®ç›®æ ‡å€¼ã€‚ä½¿ç”¨æ‰€æä¾›çš„é…ç½®ï¼Œæˆ‘å¾—åˆ°çš„ç›®æ ‡å€¼ä¸º 2679ï¼Œè¿™ä¸è¯æ˜çš„æœ€ä¼˜å€¼ 2645 éå¸¸æ¥è¿‘ï¼ˆ1.2% çš„å·®è·ï¼‰ã€‚è·å¾—çš„è·¯çº¿å¦‚ä¸‹å›¾æ‰€ç¤ºã€‚

![](../Images/8b71961f6789302f5c15f3eb698c493f.png)

ä½¿ç”¨ ortools åœ¨å®ä¾‹ tai150d ä¸­è·å¾—çš„è·¯çº¿ã€‚ï¼ˆå›¾ç‰‡æ¥æºäºä½œè€…ï¼‰ã€‚

å®Œæ•´çš„ä»£ç ï¼ˆåŒ…æ‹¬å›¾è¡¨ï¼‰å¯ä»¥åœ¨è¿™ä¸ª [git ä»“åº“](https://github.com/bruscalia/optimization-demo-files/tree/27ccb5d2fc9e85e07436d1120f5c3f4073960448/vrp) ä¸­æ‰¾åˆ°ã€‚

# æœ‰ç”¨çš„æ‰©å±•

*OR Tools* åº“ä½œä¸ºè·¯ç”±é—®é¢˜çš„ä¸€èˆ¬æ±‚è§£å™¨éå¸¸å‡ºè‰²ï¼Œå› ä¸ºå®ƒå¤„ç†äº†å¤šç§å˜ä½“çš„ VRPï¼Œä¾‹å¦‚æ—¶é—´çª—ã€å¼‚æ„è½¦é˜Ÿå’Œå¤šä¸ªä»“åº“ã€‚ç„¶è€Œï¼Œé€‚ç”¨äºç»å…¸ CVRP çš„ç®—æ³•è¡¨ç°å¯èƒ½æ›´ä½³ã€‚å®Œå…¨å€¼å¾—æŸ¥çœ‹ä¸€ä¸‹ [*HGS-CVRP*](https://github.com/vidalt/HGS-CVRP) åŒ…ï¼ˆVidal, 2022ï¼‰ï¼Œå®ƒç»“åˆäº†æœ€å…ˆè¿›çš„é—ä¼ ç®—æ³•å’Œå‡ ç§å±€éƒ¨æœç´¢ç­–ç•¥ã€‚è¯¥ç®—æ³•èƒ½åœ¨ä¸åˆ° 20 ç§’çš„æ—¶é—´å†…æ‰¾åˆ°å®ä¾‹ *tai150d* çš„æœ€ä¼˜è§£ã€‚

å…³äºä¸€äº›å®é™…åº”ç”¨ï¼Œå¯èƒ½éœ€è¦ä¾èµ–äºé“è·¯è·ç¦»ï¼ˆæˆ–æŒç»­æ—¶é—´ï¼‰è€Œéæ¬§å‡ é‡Œå¾—è·ç¦»æ¥è¿æ¥ä½ç½®ã€‚è°·æ­Œæä¾›äº†ä¸€ä¸ªå¾ˆå¥½çš„ä»˜è´¹æ¥å£ï¼Œä½ å¯ä»¥åœ¨ [è¿™ä¸ªæ•™ç¨‹](https://developers.google.com/optimization/routing/google_direction) ä¸­æŸ¥çœ‹ã€‚ç„¶è€Œï¼Œå¦‚æœä½ åœ¨å¯»æ‰¾å¼€æºæ›¿ä»£æ–¹æ¡ˆï¼Œå€¼å¾—æŸ¥çœ‹ [OpenStreetMap API](https://wiki.openstreetmap.org/wiki/Main_Page)ã€‚ä¸€äº›æœ‰ç”¨çš„è¯·æ±‚åŒ…æ‹¬ï¼š

+   https://router.project-osrm.org/table/v1/driving/<LOCATIONS>

+   http://router.project-osrm.org/route/v1/car/<LOCATIONS>?overview=false&steps=true

åœ¨ *<LOCATIONS>* ä¸­åº”è¯¥æ˜¯ä»¥é€—å·åˆ†éš”çš„ç»çº¬åº¦å¯¹çš„åˆ—è¡¨ï¼Œåœ¨ä¸åŒå¯¹ä¹‹é—´ç”¨åˆ†å·åˆ†éš”ã€‚ä½ è¿˜å¯ä»¥åœ¨ *table* è¯·æ±‚ä¸­æŒ‡å®šèµ·ç‚¹å’Œç»ˆç‚¹ï¼Œè¿™åœ¨å®Œæ•´è¡¨æ ¼å¤ªå¤§è€Œæ— æ³•åœ¨å•ä¸ªè¯·æ±‚ä¸­å¤„ç†æ—¶å¾ˆæœ‰ç”¨ã€‚

é™¤äº†è¿›è¡Œç²¾ç¡®çš„è·¯ç”±è®¡ç®—å¤–ï¼Œæ•°æ®å¯è§†åŒ–ä¹Ÿæ˜¯ä¸€ä¸ªé‡è¦å·¥å…·ã€‚*Python* åº“ [*folium*](https://python-visualization.github.io/folium/) å¯ä»¥éå¸¸æœ‰ç”¨ã€‚ç»å¯¹å€¼å¾—æŸ¥çœ‹ä¸€ä¸‹ã€‚

# è¿›ä¸€æ­¥é˜…è¯»

åœ¨æœ¬æ–‡æ—©äº›æ—¶å€™ï¼Œæˆ‘ä»¬å®ç°äº†ä¸€ä¸ªç²¾ç¡®çš„ MIP æ¨¡å‹ç”¨äº CVRPï¼Œè¿™å¯¹äºä¸­ç­‰è§„æ¨¡çš„å®ä¾‹å¹¶ä¸é€‚ç”¨ã€‚ç„¶è€Œï¼Œç»“åˆ *åˆ—ç”Ÿæˆ* å’Œ *åˆ†æ”¯å®šç•Œ* çš„ç®—æ³•åœ¨è§£å†³ä¸Šç™¾å®¢æˆ·çš„å®ä¾‹æ—¶è¡¨ç°æˆåŠŸã€‚å€¼å¾—æŸ¥çœ‹ Fukasawa ç­‰äººï¼ˆ2006ï¼‰å’Œ Pecin ç­‰äººï¼ˆ2017ï¼‰çš„ç ”ç©¶è®ºæ–‡ã€‚

å¯¹äºæ„Ÿå…´è¶£çš„åˆ—ç”Ÿæˆä»‹ç»ï¼Œå¯ä»¥åœ¨æˆ‘ä¹‹å‰çš„ [Medium æ–‡ç« ](https://medium.com/towards-data-science/column-generation-in-linear-programming-and-the-cutting-stock-problem-3c697caf4e2b) ä¸­æ‰¾åˆ°ã€‚

å…³äº *å…ƒå¯å‘å¼ç®—æ³•*ï¼ŒVidal ç­‰äººï¼ˆ2012ï¼‰å’Œ Vidalï¼ˆ2022ï¼‰çš„è®ºæ–‡éå¸¸å‡ºè‰²ã€‚ä¸¤è€…ä¹Ÿä»¥æŠ€æœ¯æŠ¥å‘Šçš„å½¢å¼æä¾›ï¼Œé“¾æ¥å¯ä»¥åœ¨ [*HGS-CVRP*](https://github.com/vidalt/HGS-CVRP) ä»“åº“ä¸­æ‰¾åˆ°ã€‚

# ç»“è®º

åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œä»‹ç»äº†ä¸¤ç§è§£å†³å®¹é‡å—é™è½¦è¾†è·¯å¾„é—®é¢˜ï¼ˆCVRPï¼‰çš„æ–¹æ³•ï¼šæ··åˆæ•´æ•°è§„åˆ’å’Œï¼ˆå…ƒï¼‰å¯å‘å¼æ–¹æ³•ã€‚ç¬¬ä¸€ç§æ–¹æ³•ç”¨äºè§£å†³ä¸€ä¸ªå°è§„æ¨¡å®ä¾‹ï¼Œå¹¶ä¸”æˆåŠŸè§£å†³äº†è¯¥é—®é¢˜ï¼Œä½†æ— æ³•å¤„ç†ä¸­ç­‰è§„æ¨¡æˆ–å¤§å‹å®ä¾‹ã€‚ç¬¬äºŒç§æ–¹æ³•åˆ™ç”¨äºè§£å†³æ–‡çŒ®ä¸­çš„ä¸€ä¸ªå…·æœ‰æŒ‘æˆ˜æ€§çš„é—®é¢˜ï¼Œè¯¥é—®é¢˜æœ‰150ä¸ªå®¢æˆ·ï¼Œè§£ç®—å™¨åœ¨300ç§’å†…æ‰¾åˆ°äº†ä¸€ä¸ªä¸å·²çŸ¥æœ€ä¼˜è§£ç›¸å·®1.2%çš„é«˜è´¨é‡è§£ã€‚

# å‚è€ƒæ–‡çŒ®

Bynum, M. L. ç­‰, 2021\. *Pyomo-optimization modeling in python.* Springer.

Dantzig, G. B., & Ramser, J. H., 1959\. The truck dispatching problem. *ç®¡ç†ç§‘å­¦*, *6*(1), 80â€“91.

Fukasawa, R., Longo, H., Lysgaard, J., AragÃ£o, M. P. D., Reis, M., Uchoa, E., & Werneck, R. F., 2006\. é’ˆå¯¹å®¹é‡å—é™è½¦è¾†è·¯å¾„é—®é¢˜çš„é²æ£’åˆ†æ”¯å®šç•Œä¸å®šä»·æ–¹æ³•. *æ•°å­¦è§„åˆ’*, *106*, 491â€“511.

Pecin, D., Pessoa, A., Poggi, M., & Uchoa, E., 2017\. æ”¹è¿›çš„åˆ†æ”¯å®šç•Œä¸å®šä»·æ–¹æ³•ç”¨äºå®¹é‡å—é™è½¦è¾†è·¯å¾„é—®é¢˜. *æ•°å­¦è§„åˆ’è®¡ç®—*, *9*, 61â€“100.

Rochat, Y., & Taillard, Ã‰. D., 1995\. åœ¨è½¦è¾†è·¯å¾„é—®é¢˜çš„å±€éƒ¨æœç´¢ä¸­è¿›è¡Œæ¦‚ç‡æ€§å¤šæ ·åŒ–å’Œå¼ºåŒ–. *å¯å‘å¼æœŸåˆŠ*, *1*, 147â€“167.

Toth, P., & Vigo, D., 2002\. è½¦è¾†è·¯å¾„é—®é¢˜æ¦‚è¿°. *è½¦è¾†è·¯å¾„é—®é¢˜*, 1â€“26.

Vidal, T., 2022\. é’ˆå¯¹CVRPçš„æ··åˆé—ä¼ æœç´¢ï¼šå¼€æºå®ç°å’ŒSWAP*é‚»åŸŸ. *è®¡ç®—æœºä¸è¿ç­¹ç ”ç©¶*, *140*, 105643.

Vidal, T., Crainic, T. G., Gendreau, M., Lahrichi, N., & Rei, W., 2012\. ä¸€ç§ç”¨äºå¤šè½¦åº“å’Œå‘¨æœŸæ€§è½¦è¾†è·¯å¾„é—®é¢˜çš„æ··åˆé—ä¼ ç®—æ³•. *è¿ç­¹å­¦*, *60*(3), 611â€“624.
