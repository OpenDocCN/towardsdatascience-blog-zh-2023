["```py\nimport requests import time from multiprocessing import cpu_count from multiprocessing.pool import ThreadPool\n```", "```py\nurls = ['https://www.northwestknowledge.net/metdata/data/pr_1979.nc', 'https://www.northwestknowledge.net/metdata/data/pr_1980.nc', 'https://www.northwestknowledge.net/metdata/data/pr_1981.nc', 'https://www.northwestknowledge.net/metdata/data/pr_1982.nc']\n```", "```py\nfns = [r'C:\\Users\\konrad\\Downloads\\pr_1979.nc', r'C:\\Users\\konrad\\Downloads\\pr_1980.nc', r'C:\\Users\\konrad\\Downloads\\pr_1981.nc', r'C:\\Users\\konrad\\Downloads\\pr_1982.nc']\n```", "```py\ninputs = zip(urls, fns)\n```", "```py\ndef download_url(args): \n  t0 = time.time() \n  url, fn = args[0], args[1] \n  try: \n    r = requests.get(url) \n    with open(fn, 'wb') as f: \n      f.write(r.content) \n      return(url, time.time() - t0) \n  except Exception as e: \n    print('Exception in download_url():', e)\n```", "```py\nt0 = time.time() \nfor i in inputs: \n  result = download_url(i) \n  print('url:', result[0], 'time:', result[1]) \n  print('Total time:', time.time() - t0)\n```", "```py\nurl: https://www.northwestknowledge.net/metdata/data/pr_1979.nc time: 16.381176710128784 \nurl: https://www.northwestknowledge.net/metdata/data/pr_1980.nc time: 11.475878953933716 \nurl: https://www.northwestknowledge.net/metdata/data/pr_1981.nc time: 13.059367179870605\nurl: https://www.northwestknowledge.net/metdata/data/pr_1982.nc time: 12.232381582260132 \nTotal time: 53.15849542617798\n```", "```py\ndef download_parallel(args): \n  cpus = cpu_count() \n  results = ThreadPool(cpus - 1).imap_unordered(download_url, args) \n  for result in results: \n    print('url:', result[0], 'time (s):', result[1])\n```", "```py\ndownload_parallel(inputs)\n```", "```py\nurl: https://www.northwestknowledge.net/metdata/data/pr_1980.nc time (s): 14.641696214675903 \nurl: https://www.northwestknowledge.net/metdata/data/pr_1981.nc time (s): 14.789752960205078 \nurl: https://www.northwestknowledge.net/metdata/data/pr_1979.nc time (s): 15.052601337432861 \nurl: https://www.northwestknowledge.net/metdata/data/pr_1982.nc time (s): 23.287317752838135 \nTotal time: 23.32273244857788\n```"]