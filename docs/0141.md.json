["```py\npython train.py\n# Output: model.pth -> the trained weights of the model\n```", "```py\npython export_to_ts.py -c model.pth -o model.ts\n# Output: model.ts \n# -> serialized model containing both trained weights and the model's architecture\n```", "```py\n<model-repository-path>/\n    <model-name>/\n      [config.pbtxt]\n      [<output-labels-file> ...]\n      <version>/\n        <model-definition-file>\n      <version>/\n        <model-definition-file>\n      ...\n    <model-name>/\n      [config.pbtxt]\n      [<output-labels-file> ...]\n      <version>/\n        <model-definition-file>\n      <version>/\n        <model-definition-file>\n      ...\n    ...\n```", "```py\ncifar10-model\n└── cifar10-pytorch\n    ├── 1\n    │   └── model.ts\n    └── config.pbtxt\n```", "```py\nplatform: \"pytorch_libtorch\"\ndefault_model_filename: \"model.ts\"\nmax_batch_size: 0\ninput [\n  {\n    name: \"image__0\"\n    data_type: TYPE_UINT8\n    dims: [-1, 3, -1, -1]\n  }\n]\noutput [\n  {\n    name: \"probs__0\"\n    data_type: TYPE_FP32\n    dims: [-1, 10]\n  }\n]\n```", "```py\naws s3 cp --recursive cifar10-model s3://<YOUR_BUCKET>/cifar10-model\n```", "```py\nkind create cluster --name seldon --image kindest/node:v1.24.7\n```", "```py\nkubectl cluster-info --context kind-seldon\n```", "```py\nkubectl get svc -n istio-system\n# NAME                   TYPE           CLUSTER-IP     EXTERNAL-IP   PORT(S)                                                                      AGE\n# istio-egressgateway    ClusterIP      10.96.90.103   <none>        80/TCP,443/TCP                                                               3m29s\n# istio-ingressgateway   LoadBalancer   10.96.229.8    <pending>     15021:30181/TCP,80:32431/TCP,443:30839/TCP,31400:32513/TCP,15443:32218/TCP   3m28s\n# istiod                 ClusterIP      10.96.195.7    <none>        15010/TCP,15012/TCP,443/TCP,15014/TCP                                        8m48s\n```", "```py\nkubectl get gateway -n istio-system\n# NAME             AGE\n# seldon-gateway   5m17s\n```", "```py\nkubectl get pods -n seldon-system\n# NAME                                        READY   STATUS    RESTARTS   AGE\n# seldon-controller-manager-b74d66684-qndf6   1/1     Running   0          4m18Create an Istio gateway to manage the cluster’s traffic:\n```", "```py\nkubectl label namespace default istio-injection=enabled\n```", "```py\nkubectl port-forward -n istio-system svc/istio-ingressgateway 8080:80\n```", "```py\napiVersion: v1\nkind: Secret\nmetadata:\n  name: seldon-rclone-secret\ntype: Opaque\nstringData:\n  RCLONE_CONFIG_S3_TYPE: s3\n  RCLONE_CONFIG_S3_PROVIDER: aws\n  RCLONE_CONFIG_S3_ENV_AUTH: \"false\"\n  RCLONE_CONFIG_S3_ACCESS_KEY_ID: \"<AWS_ACCESS_KEY_ID>\"\n  RCLONE_CONFIG_S3_SECRET_ACCESS_KEY: \"<AWS_SECRET_ACCESS_KEY>\"\n```", "```py\nkubectl apply -f secret.yaml\n```", "```py\nkubectl apply -f cifar10-deploy.yaml\n```", "```py\nkubectl get deploy\n# NAME                                READY   UP-TO-DATE   AVAILABLE   AGE\n# cifar10-default-0-cifar10-pytorch   1/1     1            1           41m\n```", "```py\npip install -r requirements.txt\n```", "```py\nlocust -f test.py --headless -u 100 -r 10 --run-time 180 -H http://localhost:8080\n```", "```py\n/seldon/{namespace}/{model_repo}/v2/models/{model_name}/versions/{model_version}/infer\n```", "```py\nkubectl apply -f https://github.com/kubernetes-sigs/metrics-server/releases/latest/download/components.yaml\n```", "```py\nkubectl patch -n kube-system deployment metrics-server --type=json \\\n  -p '[{\"op\":\"add\",\"path\":\"/spec/template/spec/containers/0/args/-\",\"value\":\"--kubelet-insecure-tls\"}]'\n```", "```py\nhpaSpec:\n  maxReplicas: 2\n  metrics:\n  - resource:\n      name: cpu  # This can be either \"cpu\" or \"memory\"\n      targetAverageUtilization: 50\n    type: Resource\n  minReplicas: 1\n```", "```py\nkubectl apply -f cifar10-deploy-hpa.yaml\n```", "```py\nkubectl get hpa\n# NAME                                REFERENCE                                      TARGETS   MINPODS   MAXPODS   REPLICAS   AGE\n# cifar10-default-0-cifar10-pytorch   Deployment/cifar10-default-0-cifar10-pytorch   0%/50%    1         2         1          98m\n```", "```py\nkubectl get pods\n# NAME                                                 READY   STATUS    RESTARTS   AGE\n# cifar10-default-0-cifar10-pytorch-7744fdc4dd-vzx4x   3/3     Running   0          101m\n```", "```py\nlocust -f test.py --headless -u 100 -r 10 --run-time 180 -H http://localhost:8080\n```", "```py\nkubectl get pods\n# NAME                                                 READY   STATUS    RESTARTS   AGE\n# cifar10-default-0-cifar10-pytorch-7744fdc4dd-pgpxm   3/3     Running   0          10s\n# cifar10-default-0-cifar10-pytorch-7744fdc4dd-vzx4x   3/3     Running   0          108m\n```", "```py\nkubectl get pods\n# NAME                                                 READY   STATUS        RESTARTS   AGE\n# cifar10-default-0-cifar10-pytorch-7744fdc4dd-pgpxm   3/3     Terminating   0          7m3s\n# cifar10-default-0-cifar10-pytorch-7744fdc4dd-vzx4x   3/3     Running       0          114m\n```", "```py\nkubectl get pods -n seldon-monitoring\n# NAME                                                    READY   STATUS    RESTARTS     AGE\n# alertmanager-seldon-monitoring-alertmanager-0           2/2     Running   3 (8h ago)   26h\n# prometheus-seldon-monitoring-prometheus-0               2/2     Running   2 (8h ago)   26h\n# seldon-monitoring-blackbox-exporter-dbbcd845d-qszj8     1/1     Running   1 (8h ago)   26h\n# seldon-monitoring-kube-state-metrics-7588b77796-nrd9g   1/1     Running   1 (8h ago)   26h\n# seldon-monitoring-node-exporter-fmlh6                   1/1     Running   1 (8h ago)   26h\n# seldon-monitoring-operator-6dc8898f89-fkwx8             1/1     Running   1 (8h ago)   26h\n```", "```py\nkubectl get PodMonitor -n seldon-monitoring\n# NAME                AGE\n# seldon-podmonitor   26h\n```", "```py\nhelm upgrade seldon-core seldon-core-operator \\\n    --repo https://storage.googleapis.com/seldon-charts \\\n    --set keda.enabled=true \\\n    --set usageMetrics.enabled=true \\\n    --set istio.enabled=true \\\n    --namespace seldon-system\n```", "```py\nkubectl delete -f https://github.com/kedacore/keda/releases/download/v2.9.1/keda-2.9.1.yaml\nkubectl apply -f https://github.com/kedacore/keda/releases/download/v2.9.1/keda-2.9.1.yaml\n```", "```py\nkedaSpec:\n  pollingInterval: 15\n  minReplicaCount: 1\n  maxReplicaCount: 2\n  triggers:\n  - type: prometheus\n    metadata:\n      serverAddress: http://seldon-monitoring-prometheus.seldon-monitoring.svc.cluster.local:9090\n      metricName: access_frequency\n      threshold: '20'\n      query: avg(rate(seldon_api_executor_client_requests_seconds_count{deployment_name=~\"cifar10\"}[1m]))\n```", "```py\nkubectl apply -f cifar10-deploy-keda.yaml\n```", "```py\nlocust -f test.py --headless -u 100 -r 10 --run-time 180 -H http://localhost:8080\n```", "```py\nkubectl get pods\n# NAME                                                 READY   STATUS     RESTARTS      AGE\n# cifar10-default-0-cifar10-pytorch-5dc484599c-2zrv8   3/3     Running    3 (18m ago)   35h\n# cifar10-default-0-cifar10-pytorch-5dc484599c-ljk74   0/3     Init:0/2   0             9s\n```", "```py\nkubectl get pods -w\n# NAME                                                 READY   STATUS    RESTARTS      AGE\n# cifar10-default-0-cifar10-pytorch-5dc484599c-2zrv8   3/3     Running   3 (22m ago)   35h\n# cifar10-default-0-cifar10-pytorch-5dc484599c-ljk74   3/3     Running   0             3m55s\n# cifar10-default-0-cifar10-pytorch-5dc484599c-ljk74   3/3     Terminating   0             5m49s\n# cifar10-default-0-cifar10-pytorch-5dc484599c-ljk74   2/3     Terminating   0             6m\n# cifar10-default-0-cifar10-pytorch-5dc484599c-ljk74   1/3     Terminating   0             6m1s\n# cifar10-default-0-cifar10-pytorch-5dc484599c-ljk74   0/3     Terminating   0             6m3s\n```"]