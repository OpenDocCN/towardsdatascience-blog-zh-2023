["```py\ncor_results <- cor.test(my_data$x, my_data$y,\n                        method = \"pearson\")\n\ncor_results\n```", "```py\ninstall.packages(\"WDI\")\nlibrary(WDI)\n```", "```py\nbulk <- WDIbulk(timeout = 600)\n```", "```py\n# Create a filtered set with only annual variables\nfiltered <- bulk$Series %>% filter(Periodicity == \"Annual\")\n\n# Create a list of variables to correlate against trade levels\nbulk$Data %>% \n  filter(Indicator.Code %in% c(filtered$Series.Code)) %>% \n  filter(year == 2020) %>% \n  group_by(Indicator.Code) %>%\n  filter(!is.na(value)) %>% \n  count() %>% \n  arrange(n) %>% \n  filter(n>100) -> vars_list\n```", "```py\n# Because WDI contains regional data as well, we'll create a list that only has country codes, and filter our input based on that list\ncountries <- bulk$Country %>% filter(!Region == \"\") %>% as_tibble()\n\nbulk$Data %>% \n  filter(Indicator.Code %in% c(vars_list$Indicator.Code)) %>%\n  filter(year == 2020) %>%\n  filter(Country.Code %in% c(countries$Country.Code)) %>% \n  select(-Indicator.Name) %>% \n  pivot_wider(names_from = Indicator.Code,\n              values_from = value) %>% \n  cor_test(NE.TRD.GNFS.ZS, \n           method = \"pearson\",\n           use = \"complete.obs\") -> results\n\nresults\n```", "```py\nindicator_explanation <- bulk$Series %>% select(Series.Code, Indicator.Name, Short.definition) %>% as_tibble()\n\nresults %>% \n  left_join(indicator_explanation, c(\"var2\" = \"Series.Code\")) %>% \n  arrange(desc(cor)) %>%\n  filter(p<0.05) %>% \n  View()\n```", "```py\nbulk$Data %>% \n  filter(Indicator.Code %in% c(\"NE.TRD.GNFS.ZS\", \"DT.ODA.ODAT.GI.ZS\")) %>% \n  filter(Country.Code %in% c(countries$Country.Code)) %>% \n  select(-Indicator.Name) %>% \n  filter(year<2021) %>% \n  pivot_wider(names_from = Indicator.Code,\n              values_from = value) %>%\n  group_by(year) %>%\n  cor_test(NE.TRD.GNFS.ZS, DT.ODA.ODAT.GI.ZS,\n           method = \"pearson\",\n           use = \"complete.obs\") -> results_time\n```", "```py\nresults_time %>% \n  mutate(`Significant?` = if_else(p<0.05, \"Yes\", \"No\")) %>% \n  ggplot(aes(x = year, y = cor)) +\n  geom_hline(yintercept = 0, \n             linetype = \"dashed\") +\n  geom_line() + \n  ylab(\"cor (r)\") +\n  geom_point(aes(color = `Significant?`)) +\n  theme_minimal()\n```"]