- en: Build Trail Recommender for TrailForks
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: ä¸º TrailForks æ„å»ºæ¨èç³»ç»Ÿ
- en: åŸæ–‡ï¼š[https://towardsdatascience.com/build-trail-recommender-for-trailforks-8ea64b1a2fe4?source=collection_archive---------13-----------------------#2023-01-04](https://towardsdatascience.com/build-trail-recommender-for-trailforks-8ea64b1a2fe4?source=collection_archive---------13-----------------------#2023-01-04)
  id: totrans-1
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: åŸæ–‡ï¼š[https://towardsdatascience.com/build-trail-recommender-for-trailforks-8ea64b1a2fe4?source=collection_archive---------13-----------------------#2023-01-04](https://towardsdatascience.com/build-trail-recommender-for-trailforks-8ea64b1a2fe4?source=collection_archive---------13-----------------------#2023-01-04)
- en: How I won the Outside 2022 Innovation Days Award
  id: totrans-2
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: æˆ‘æ˜¯å¦‚ä½•èµ¢å¾— Outside 2022 åˆ›æ–°æ—¥å¥–çš„
- en: '[](https://medium.com/@wen_yang?source=post_page-----8ea64b1a2fe4--------------------------------)[![Wen
    Yang](../Images/5eac438762d015a0ab128757cc951967.png)](https://medium.com/@wen_yang?source=post_page-----8ea64b1a2fe4--------------------------------)[](https://towardsdatascience.com/?source=post_page-----8ea64b1a2fe4--------------------------------)[![Towards
    Data Science](../Images/a6ff2676ffcc0c7aad8aaf1d79379785.png)](https://towardsdatascience.com/?source=post_page-----8ea64b1a2fe4--------------------------------)
    [Wen Yang](https://medium.com/@wen_yang?source=post_page-----8ea64b1a2fe4--------------------------------)'
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: '[](https://medium.com/@wen_yang?source=post_page-----8ea64b1a2fe4--------------------------------)[![Wen
    Yang](../Images/5eac438762d015a0ab128757cc951967.png)](https://medium.com/@wen_yang?source=post_page-----8ea64b1a2fe4--------------------------------)[](https://towardsdatascience.com/?source=post_page-----8ea64b1a2fe4--------------------------------)[![Towards
    Data Science](../Images/a6ff2676ffcc0c7aad8aaf1d79379785.png)](https://towardsdatascience.com/?source=post_page-----8ea64b1a2fe4--------------------------------)
    [Wen Yang](https://medium.com/@wen_yang?source=post_page-----8ea64b1a2fe4--------------------------------)'
- en: Â·
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: Â·
- en: '[Follow](https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fcbb5383bd438&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbuild-trail-recommender-for-trailforks-8ea64b1a2fe4&user=Wen+Yang&userId=cbb5383bd438&source=post_page-cbb5383bd438----8ea64b1a2fe4---------------------post_header-----------)
    Published in [Towards Data Science](https://towardsdatascience.com/?source=post_page-----8ea64b1a2fe4--------------------------------)
    Â·11 min readÂ·Jan 4, 2023[](https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F8ea64b1a2fe4&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbuild-trail-recommender-for-trailforks-8ea64b1a2fe4&user=Wen+Yang&userId=cbb5383bd438&source=-----8ea64b1a2fe4---------------------clap_footer-----------)'
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: '[å…³æ³¨](https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fcbb5383bd438&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbuild-trail-recommender-for-trailforks-8ea64b1a2fe4&user=Wen+Yang&userId=cbb5383bd438&source=post_page-cbb5383bd438----8ea64b1a2fe4---------------------post_header-----------)
    å‘è¡¨åœ¨ [Towards Data Science](https://towardsdatascience.com/?source=post_page-----8ea64b1a2fe4--------------------------------)
    Â· 11 åˆ†é’Ÿé˜…è¯» Â· 2023 å¹´ 1 æœˆ 4 æ—¥ [](https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F8ea64b1a2fe4&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbuild-trail-recommender-for-trailforks-8ea64b1a2fe4&user=Wen+Yang&userId=cbb5383bd438&source=-----8ea64b1a2fe4---------------------clap_footer-----------)'
- en: --
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: --
- en: '[](https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F8ea64b1a2fe4&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbuild-trail-recommender-for-trailforks-8ea64b1a2fe4&source=-----8ea64b1a2fe4---------------------bookmark_footer-----------)![](../Images/8c1b04655799b55dc2ea6e187f82f7a4.png)'
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: '[](https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F8ea64b1a2fe4&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbuild-trail-recommender-for-trailforks-8ea64b1a2fe4&source=-----8ea64b1a2fe4---------------------bookmark_footer-----------)![](../Images/8c1b04655799b55dc2ea6e187f82f7a4.png)'
- en: Photo by [Kristin Snippe](https://unsplash.com/@frausnippe?utm_source=medium&utm_medium=referral)
    on [Unsplash](https://unsplash.com/?utm_source=medium&utm_medium=referral)
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: æ‘„å½±ï¼š[Kristin Snippe](https://unsplash.com/@frausnippe?utm_source=medium&utm_medium=referral)
    æ‘„äº [Unsplash](https://unsplash.com/?utm_source=medium&utm_medium=referral)
- en: Long Background Story
  id: totrans-9
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: é•¿èƒŒæ™¯æ•…äº‹
- en: When I first joined [Outside Inc](https://www.outsideinc.com/) in May 2021,
    my job was about building a personalized recommender system to power Outside Feed,
    which comprises a wide range of outdoor and active lifestyle content in a mixed
    medium format such as articles, videos, Outside films, and podcasts. Our goal
    is to inspire people to go outside.
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: å½“æˆ‘åœ¨ 2021 å¹´ 5 æœˆé¦–æ¬¡åŠ å…¥ [Outside Inc](https://www.outsideinc.com/) æ—¶ï¼Œæˆ‘çš„å·¥ä½œæ˜¯æ„å»ºä¸€ä¸ªä¸ªæ€§åŒ–æ¨èç³»ç»Ÿï¼Œä»¥é©±åŠ¨
    Outside Feedã€‚Outside Feed åŒ…å«å„ç§æˆ·å¤–å’Œæ´»è·ƒç”Ÿæ´»æ–¹å¼çš„å†…å®¹ï¼Œä»¥æ–‡ç« ã€è§†é¢‘ã€Outside ç”µå½±å’Œæ’­å®¢ç­‰æ··åˆåª’ä»‹æ ¼å¼å‘ˆç°ã€‚æˆ‘ä»¬çš„ç›®æ ‡æ˜¯æ¿€åŠ±äººä»¬èµ°å‡ºæˆ·å¤–ã€‚
- en: 'Fast-forward to 17 months later, we have made two major transformations for
    Outside Feedâ€™s recommender system:'
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: å¿«è¿›åˆ° 17 ä¸ªæœˆåï¼Œæˆ‘ä»¬å¯¹ Outside Feed çš„æ¨èç³»ç»Ÿè¿›è¡Œäº†ä¸¤æ¬¡é‡å¤§æ”¹é€ ï¼š
- en: 'From reverse chronological feed to a hybrid-recommender powered feed, which
    includes three classic recsys functionalities: Collaborative Filtering, Content-based
    Filtering, and Hot & Trending. Model training and inference are batch-based. To
    use the 80â€“20 rule, this kind of system can get you from 0 to 80% in terms of
    providing personalized recommendations with relatively low effort. â€œLowâ€ effort
    here is mainly meant in the sense of algorithm complexity.'
  id: totrans-12
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: ä»é€†æ—¶é—´é¡ºåºçš„åŠ¨æ€ä¿¡æ¯æµåˆ°ç”±æ··åˆæ¨èå™¨é©±åŠ¨çš„åŠ¨æ€ä¿¡æ¯æµï¼Œå…¶ä¸­åŒ…æ‹¬ä¸‰ç§ç»å…¸çš„æ¨èç³»ç»ŸåŠŸèƒ½ï¼šååŒè¿‡æ»¤ã€åŸºäºå†…å®¹çš„è¿‡æ»¤å’Œçƒ­é—¨ä¸è¶‹åŠ¿ã€‚æ¨¡å‹è®­ç»ƒå’Œæ¨ç†æ˜¯åŸºäºæ‰¹æ¬¡çš„ã€‚ä½¿ç”¨
    80â€“20 æ³•åˆ™ï¼Œè¿™ç§ç³»ç»Ÿå¯ä»¥è®©ä½ åœ¨æä¾›ä¸ªæ€§åŒ–æ¨èæ—¶ï¼Œå€ŸåŠ©ç›¸å¯¹è¾ƒå°‘çš„åŠªåŠ›è¾¾åˆ° 80%ã€‚è¿™é‡Œçš„â€œä½â€åŠªåŠ›ä¸»è¦æ˜¯æŒ‡ç®—æ³•å¤æ‚æ€§æ–¹é¢ã€‚
- en: From a batch-based hybrid recommendation system to a real-time recommender system.
    We started to integrate [Miso.ai](https://miso.ai/) â€” a third-party tool to make
    the best use of clickstream events data collected by MetaRouter, and generate
    real-time recommendations. Since we use GraphQL, there are many lessons learned
    about wrapping rest API in Apollo as well as monitoring in DataDog, which deserves
    its own post for another day.
  id: totrans-13
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: ä»åŸºäºæ‰¹æ¬¡çš„æ··åˆæ¨èç³»ç»Ÿåˆ°å®æ—¶æ¨èç³»ç»Ÿã€‚æˆ‘ä»¬å¼€å§‹é›†æˆ [Miso.ai](https://miso.ai/) â€”â€” ä¸€ä¸ªç¬¬ä¸‰æ–¹å·¥å…·ï¼Œç”¨æ¥å……åˆ†åˆ©ç”¨ MetaRouter
    æ”¶é›†çš„ç‚¹å‡»æµäº‹ä»¶æ•°æ®ï¼Œå¹¶ç”Ÿæˆå®æ—¶æ¨èã€‚ç”±äºæˆ‘ä»¬ä½¿ç”¨ GraphQLï¼Œå…³äºåœ¨ Apollo ä¸­å°è£… REST API ä»¥åŠåœ¨ DataDog ä¸­è¿›è¡Œç›‘æ§ï¼Œæˆ‘ä»¬å­¦åˆ°äº†å¾ˆå¤šç»éªŒï¼Œè¿™äº›ç»éªŒå€¼å¾—å¦å†™ä¸€ç¯‡æ–‡ç« ã€‚
- en: 'For this post, I documented my experience participating in Outside Innovation
    Day, in which I built a prototype trail recommender using trailforks data within
    one day. (PS: yes trailforks is part of the Outside family now!) Perhaps it is
    because a lot of my coworkers are avid hikers, mountain bikers, and outdoor enthusiasts,
    and they know firsthand the joy and relaxation of having a trail recommender to
    help discover trails to explore. They all kindly voted for my project and I won
    the Outside Innovation Day Award for Best embodying our mission to get people
    outside! ( Very fortunate and happy ğŸ˜ ~~~).'
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘è®°å½•äº†æˆ‘å‚åŠ  Outside Innovation Day çš„ç»éªŒï¼Œåœ¨ä¸€å¤©å†…ä½¿ç”¨ Trailforks æ•°æ®æ„å»ºäº†ä¸€ä¸ªåŸå‹å°å¾„æ¨èç³»ç»Ÿã€‚ï¼ˆPSï¼šæ˜¯çš„ï¼ŒTrailforks
    ç°åœ¨æ˜¯ Outside å®¶æ—çš„ä¸€éƒ¨åˆ†ï¼ï¼‰ä¹Ÿè®¸å› ä¸ºæˆ‘çš„å¾ˆå¤šåŒäº‹éƒ½æ˜¯çƒ­è¡·çš„å¾’æ­¥æ—…è¡Œè€…ã€å±±åœ°è‡ªè¡Œè½¦çˆ±å¥½è€…å’Œæˆ·å¤–è¿åŠ¨çˆ±å¥½è€…ï¼Œä»–ä»¬äº²èº«ä½“éªŒäº†æœ‰ä¸€ä¸ªå°å¾„æ¨èç³»ç»Ÿæ¥å¸®åŠ©å‘ç°æ¢ç´¢å°å¾„çš„ä¹è¶£å’Œæ”¾æ¾ã€‚ä»–ä»¬éƒ½å‹å¥½åœ°ä¸ºæˆ‘çš„é¡¹ç›®æŠ•äº†ç¥¨ï¼Œæˆ‘èµ¢å¾—äº†
    Outside Innovation Day æœ€èƒ½ä½“ç°æˆ‘ä»¬ä½¿å‘½çš„å¥–é¡¹ï¼ï¼ˆéå¸¸å¹¸è¿å’Œå¼€å¿ƒ ğŸ˜ ~~~ï¼‰ã€‚
- en: 'Below I will share three things:'
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: ä»¥ä¸‹æ˜¯æˆ‘å°†åˆ†äº«çš„ä¸‰ä»¶äº‹ï¼š
- en: ğŸ”ï¸ 1\. How to build an 80% personalized recommender system with 20% effort (with
    Trailforks data)?
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: ğŸ”ï¸ 1\. å¦‚ä½•ä»¥ 20% çš„åŠªåŠ›æ„å»º 80% ä¸ªæ€§åŒ–çš„æ¨èç³»ç»Ÿï¼ˆä½¿ç”¨ Trailforks æ•°æ®ï¼‰ï¼Ÿ
- en: ğŸ”ï¸ 2\. Things to consider for preparing hackathon type of projects
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: ğŸ”ï¸ 2\. ä¸ºå‡†å¤‡é»‘å®¢é©¬æ‹‰æ¾ç±»å‹çš„é¡¹ç›®è€ƒè™‘çš„äº‹é¡¹
- en: ğŸ”ï¸ 3\. Further considerations for productionize recommender system
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: ğŸ”ï¸ 3\. ç”Ÿäº§åŒ–æ¨èç³»ç»Ÿçš„è¿›ä¸€æ­¥è€ƒè™‘
- en: ğŸ”ï¸ 1\. The 80â€“20 Rule of Trail Recommender
  id: totrans-19
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: ğŸ”ï¸ 1\. Trail Recommender çš„ 80â€“20 æ³•åˆ™
- en: There are so many advanced recommender systems, but a hybrid of Collaborative
    filtering + Content-based recommenders is really the sweet spot of personalized
    recsys. It can cover 80% of the ground with about 20% of engineering effort.
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: æœ‰å¾ˆå¤šé«˜çº§æ¨èç³»ç»Ÿï¼Œä½†ååŒè¿‡æ»¤ + åŸºäºå†…å®¹çš„æ¨èç³»ç»Ÿçš„æ··åˆçœŸçš„æ˜¯ä¸ªæ€§åŒ–æ¨èç³»ç»Ÿçš„æœ€ä½³é€‰æ‹©ã€‚å®ƒå¯ä»¥ä»¥çº¦ 20% çš„å·¥ç¨‹åŠªåŠ›è¦†ç›– 80% çš„å†…å®¹ã€‚
- en: Collaborative filtering involves analyzing the preferences of other users who
    have similar tastes to the current user and recommending trails based on those
    usersâ€™ preferences.
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: ååŒè¿‡æ»¤æ¶‰åŠåˆ†æå…¶ä»–å…·æœ‰ç›¸ä¼¼å£å‘³çš„ç”¨æˆ·çš„åå¥½ï¼Œå¹¶åŸºäºè¿™äº›ç”¨æˆ·çš„åå¥½æ¨èå°å¾„ã€‚
- en: '![](../Images/886a3fc481dc5d4448af5d0f4e0240f7.png)'
  id: totrans-22
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/886a3fc481dc5d4448af5d0f4e0240f7.png)'
- en: image created by Wen Yang
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: ç”± Wen Yang åˆ›å»ºçš„å›¾åƒ
- en: Content-based filtering, on the other hand, involves analyzing the characteristics
    of the trails themselves and recommending trails with similar characteristics
    to the userâ€™s preferences.
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: å¦ä¸€æ–¹é¢ï¼ŒåŸºäºå†…å®¹çš„è¿‡æ»¤æ¶‰åŠåˆ†æå°å¾„æœ¬èº«çš„ç‰¹å¾ï¼Œå¹¶æ¨èä¸ç”¨æˆ·åå¥½ç›¸ä¼¼çš„å°å¾„ã€‚
- en: '![](../Images/04c0fdaa440136b442203dbff7fe2393.png)'
  id: totrans-25
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/04c0fdaa440136b442203dbff7fe2393.png)'
- en: image by Wen Yang
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: Wen Yang åˆ¶ä½œçš„å›¾åƒ
- en: Building an 80â€“20 trail recommender involves three steps.
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: æ„å»ºä¸€ä¸ª 80â€“20 å°å¾„æ¨èç³»ç»Ÿæ¶‰åŠä¸‰ä¸ªæ­¥éª¤ã€‚
- en: '**Step 1: First, you need to gather data.**'
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: '**æ­¥éª¤ 1ï¼šé¦–å…ˆï¼Œä½ éœ€è¦æ”¶é›†æ•°æ®ã€‚**'
- en: There are two types of data most useful for building recommender systems.
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: æœ‰ä¸¤ç§æ•°æ®å¯¹äºæ„å»ºæ¨èç³»ç»Ÿç‰¹åˆ«æœ‰ç”¨ã€‚
- en: '**Interaction dataset**: includes `userid` , `trailid` , and `activitytype`
    . The first two are most essential, and the third feature `activitytype` is not
    used in my project.'
  id: totrans-30
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**äº¤äº’æ•°æ®é›†**ï¼šåŒ…æ‹¬ `userid`ã€`trailid` å’Œ `activitytype`ã€‚å‰ä¸¤ä¸ªæœ€ä¸ºé‡è¦ï¼Œè€Œç¬¬ä¸‰ä¸ªç‰¹å¾ `activitytype`
    åœ¨æˆ‘çš„é¡¹ç›®ä¸­æœªä½¿ç”¨ã€‚'
- en: '![](../Images/53860b726aa3889cc1812f4f65fa82dc.png)'
  id: totrans-31
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/53860b726aa3889cc1812f4f65fa82dc.png)'
- en: Preview Trailforks Interaction dataset
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: é¢„è§ˆ Trailforks äº’åŠ¨æ•°æ®é›†
- en: '**Catalog dataset**: includes selected trail information such as the trailâ€™s
    location, length, difficulty level, global rank score and etc.'
  id: totrans-33
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**ç›®å½•æ•°æ®é›†**: åŒ…æ‹¬é€‰å®šå°å¾„çš„ä¿¡æ¯ï¼Œå¦‚å°å¾„çš„ä½ç½®ã€é•¿åº¦ã€éš¾åº¦ç­‰çº§ã€å…¨çƒæ’ååˆ†æ•°ç­‰ã€‚'
- en: '![](../Images/8fbb63a0c303d99b4264c46df888e589.png)'
  id: totrans-34
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/8fbb63a0c303d99b4264c46df888e589.png)'
- en: '**Step 2: Data Visualization with Altair**'
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: '**æ­¥éª¤ 2: ä½¿ç”¨ Altair è¿›è¡Œæ•°æ®å¯è§†åŒ–**'
- en: From the interaction dataset, there are only 10 users, and one user alone (userid
    = 454369) explored 2524 unique trails. (PS. His name is Trevor and he is our founding
    engineer at TrailForks â€” totally makes sense!)
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: ä»äº’åŠ¨æ•°æ®é›†ä¸­ï¼Œåªæœ‰ 10 ä¸ªç”¨æˆ·ï¼Œå…¶ä¸­ä¸€ä¸ªç”¨æˆ·ï¼ˆuserid = 454369ï¼‰æ¢ç´¢äº† 2524 æ¡ç‹¬ç‰¹çš„å°å¾„ã€‚ï¼ˆPSï¼šä»–çš„åå­—æ˜¯ Trevorï¼Œä»–æ˜¯
    TrailForks çš„åˆ›å§‹å·¥ç¨‹å¸ˆâ€”â€”è¿™å®Œå…¨åˆç†ï¼ï¼‰
- en: '[PRE0]'
  id: totrans-37
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: '![](../Images/cf1c1f11f32a3e3927c4e614e18975a9.png)'
  id: totrans-38
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/cf1c1f11f32a3e3927c4e614e18975a9.png)'
- en: 'The below code can make a bar chart per variable name:'
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: ä»¥ä¸‹ä»£ç å¯ä»¥ä¸ºæ¯ä¸ªå˜é‡åç”Ÿæˆä¸€ä¸ªæŸ±çŠ¶å›¾ï¼š
- en: '[PRE1]'
  id: totrans-40
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: 'For example, letâ€™s look at trail direction, physical rating difficulty title,
    and country name:'
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: æ¯”å¦‚ï¼Œæˆ‘ä»¬æ¥çœ‹çœ‹å°å¾„æ–¹å‘ã€ç‰©ç†è¯„åˆ†éš¾åº¦æ ‡é¢˜å’Œå›½å®¶åç§°ï¼š
- en: '![](../Images/ce682760565f644e135762906c6d43b6.png)'
  id: totrans-42
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/ce682760565f644e135762906c6d43b6.png)'
- en: Initially, I was trying to use `global_rank_score` as the â€œpopularityâ€ feature,
    but there are too many records missing this feature. Fortunately, `rating` is
    positively correlated to `global_rank_score` . Below is one of my favorite types
    of visualizations, which can be done with `altair` fairly easily.
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: èµ·åˆï¼Œæˆ‘å°è¯•ä½¿ç”¨ `global_rank_score` ä½œä¸ºâ€œæµè¡Œåº¦â€ç‰¹å¾ï¼Œä½†æœ‰å¤ªå¤šè®°å½•ç¼ºå°‘è¿™ä¸ªç‰¹å¾ã€‚å¹¸è¿çš„æ˜¯ï¼Œ`rating` ä¸ `global_rank_score`
    å­˜åœ¨æ­£ç›¸å…³ã€‚ä¸‹é¢æ˜¯æˆ‘æœ€å–œæ¬¢çš„å¯è§†åŒ–ç±»å‹ä¹‹ä¸€ï¼Œä½¿ç”¨ `altair` å¯ä»¥å¾ˆå®¹æ˜“åœ°å®Œæˆã€‚
- en: '[PRE2]'
  id: totrans-44
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: '![](../Images/ba5b73d62b18134ec20350beb2406f28.png)'
  id: totrans-45
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/ba5b73d62b18134ec20350beb2406f28.png)'
- en: Similarly, we can use `difficulty_title` instead of `physical_rating` to represent
    the difficulty level, since the former has fewer missing values than the latter.
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: åŒæ ·ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ `difficulty_title` æ›¿ä»£ `physical_rating` æ¥è¡¨ç¤ºéš¾åº¦ç­‰çº§ï¼Œå› ä¸ºå‰è€…çš„ç¼ºå¤±å€¼æ¯”åè€…å°‘ã€‚
- en: Moderate â†’ Blue, Black Diamond
  id: totrans-47
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ä¸­ç­‰ â†’ è“è‰²ï¼Œé»‘é’»
- en: Hard â†’ Black Diamond, Blue
  id: totrans-48
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å›°éš¾ â†’ é»‘é’»ï¼Œè“è‰²
- en: Extreme â†’ Double Black Diamond
  id: totrans-49
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æç«¯ â†’ åŒé»‘é’»
- en: Easy â†’ Green
  id: totrans-50
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ç®€å• â†’ ç»¿è‰²
- en: '[PRE3]'
  id: totrans-51
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: '![](../Images/0ead52bffcd14b16db778c925d14fdfa.png)'
  id: totrans-52
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/0ead52bffcd14b16db778c925d14fdfa.png)'
- en: '**Step 3a: Build a collaborative filtering model using** `**implicit**`'
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: '**æ­¥éª¤ 3a: ä½¿ç”¨** `**implicit**` **æ„å»ºååŒè¿‡æ»¤æ¨¡å‹**'
- en: 'For collaborative filtering, the only dataset you need is the interaction dataset.
    Here I calculated three other features:'
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: å¯¹äºååŒè¿‡æ»¤ï¼Œä½ æ‰€éœ€è¦çš„å”¯ä¸€æ•°æ®é›†æ˜¯äº’åŠ¨æ•°æ®é›†ã€‚è¿™é‡Œæˆ‘è®¡ç®—äº†ä¸‰ä¸ªå…¶ä»–ç‰¹å¾ï¼š
- en: '`n_times_interacted` : how many times has this user interacted with this trail'
  id: totrans-55
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`n_times_interacted` : è¯¥ç”¨æˆ·ä¸æ­¤å°å¾„äº’åŠ¨äº†å¤šå°‘æ¬¡'
- en: '`n_trails_interacted` : how many trails were explored by this user'
  id: totrans-56
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`n_trails_interacted` : è¯¥ç”¨æˆ·æ¢ç´¢äº†å¤šå°‘æ¡å°å¾„'
- en: '`n_users_interacted` : how many unique users explored this trail'
  id: totrans-57
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`n_users_interacted` : å¤šå°‘ç‹¬ç‰¹ç”¨æˆ·æ¢ç´¢äº†è¿™æ¡å°å¾„'
- en: 'The idea is the use `n_times_interacted` as an implicit feedback feature: the
    more times a user explored a certain trail, the more confidence that the user
    likes this trail.'
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: æ€è·¯æ˜¯ä½¿ç”¨ `n_times_interacted` ä½œä¸ºéšå¼åé¦ˆç‰¹å¾ï¼šç”¨æˆ·æ¢ç´¢æŸæ¡å°å¾„çš„æ¬¡æ•°è¶Šå¤šï¼Œå°±è¶Šèƒ½ç¡®å®šç”¨æˆ·å–œæ¬¢è¿™æ¡å°å¾„ã€‚
- en: '![](../Images/c773975dfc96646a4944a445c1ff8d27.png)'
  id: totrans-59
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/c773975dfc96646a4944a445c1ff8d27.png)'
- en: 'Model Training:'
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: æ¨¡å‹è®­ç»ƒï¼š
- en: '[PRE4]'
  id: totrans-61
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: 'Useful functions for inference:'
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: æ¨ç†çš„æœ‰ç”¨å‡½æ•°ï¼š
- en: '[PRE5]'
  id: totrans-63
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: 'ğŸŒ„ DEMO: recommend trails for Trevor using Collaborative Filtering'
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: 'ğŸŒ„ DEMO: ä½¿ç”¨ååŒè¿‡æ»¤ä¸º Trevor æ¨èå°å¾„'
- en: 'I used `pandas-profiling` to find out Trevorâ€™s preference on trails, and hereâ€™s
    the observation:'
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä½¿ç”¨äº† `pandas-profiling` æ¥äº†è§£ Trevor å¯¹å°å¾„çš„åå¥½ï¼Œä»¥ä¸‹æ˜¯è§‚å¯Ÿç»“æœï¼š
- en: 'physical_rating: moderate, hard'
  id: totrans-66
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 'physical_rating: ä¸­ç­‰ï¼Œå›°éš¾'
- en: 'difficulty_title: Blue, Black Diamond'
  id: totrans-67
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 'difficulty_title: è“è‰²ï¼Œé»‘é’»'
- en: 'trailtype: Singletrack'
  id: totrans-68
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 'trailtype: å•è½¨'
- en: 'direction: Downhill Only'
  id: totrans-69
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æ–¹å‘ï¼šä»…é™ä¸‹å¡
- en: 'most explored trail: Fitzsimmons Connector (319 times!)'
  id: totrans-70
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æœ€å¤šè¢«æ¢ç´¢çš„å°å¾„ï¼šFitzsimmons Connectorï¼ˆ319 æ¬¡ï¼ï¼‰
- en: '![](../Images/076484d011994423377d05dba4643b31.png)![](../Images/f47ad8752446f8cdccdf56e5a08092f7.png)'
  id: totrans-71
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/076484d011994423377d05dba4643b31.png)![](../Images/f47ad8752446f8cdccdf56e5a08092f7.png)'
- en: Letâ€™s get recommendations from the Collaborative Filtering Model â†’
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: è®©æˆ‘ä»¬ä»ååŒè¿‡æ»¤æ¨¡å‹ä¸­è·å–æ¨è â†’
- en: '![](../Images/e67b2d492610b6b63dcbb6ea3f458ee1.png)'
  id: totrans-73
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/e67b2d492610b6b63dcbb6ea3f458ee1.png)'
- en: 'And the photo and map for the first recommended trail:'
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: ä»¥åŠç¬¬ä¸€ä¸ªæ¨èå°å¾„çš„ç…§ç‰‡å’Œåœ°å›¾ï¼š
- en: '![](../Images/b06915379122cf1299c6aece3e2436b9.png)'
  id: totrans-75
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/b06915379122cf1299c6aece3e2436b9.png)'
- en: '**Step 3b: Content-based Filtering**'
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: '**æ­¥éª¤ 3b: åŸºäºå†…å®¹çš„è¿‡æ»¤**'
- en: Since Collaborative filtering is based on the interaction dataset, this means
    that it wonâ€™t work for the cold-user scenario. If a new user hasnâ€™t explored any
    trails, we wonâ€™t be able to find similar users to this new user. Thatâ€™s why we
    need Content-based filtering to fill the gap.
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
  zh: ç”±äºååŒè¿‡æ»¤åŸºäºäº¤äº’æ•°æ®é›†ï¼Œè¿™æ„å‘³ç€å®ƒåœ¨å†·å¯åŠ¨ç”¨æˆ·åœºæ™¯ä¸‹ä¸èµ·ä½œç”¨ã€‚å¦‚æœæ–°ç”¨æˆ·æ²¡æœ‰æ¢ç´¢ä»»ä½•è·¯çº¿ï¼Œæˆ‘ä»¬å°†æ— æ³•æ‰¾åˆ°ä¸è¯¥æ–°ç”¨æˆ·ç›¸ä¼¼çš„ç”¨æˆ·ã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆæˆ‘ä»¬éœ€è¦åŸºäºå†…å®¹çš„è¿‡æ»¤æ¥å¡«è¡¥è¿™ä¸ªç©ºç™½ã€‚
- en: 'Content-based filtering is all about finding â€œsimilar trailsâ€, therefore we
    need to decide two things:'
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: åŸºäºå†…å®¹çš„è¿‡æ»¤å®Œå…¨æ˜¯å…³äºå¯»æ‰¾â€œç›¸ä¼¼çš„è·¯çº¿â€ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦å†³å®šä¸¤ä»¶äº‹ï¼š
- en: similar in what characteristics
  id: totrans-79
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: åœ¨ä»€ä¹ˆç‰¹å¾ä¸Šç›¸ä¼¼
- en: how to measure similarity
  id: totrans-80
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å¦‚ä½•æµ‹é‡ç›¸ä¼¼æ€§
- en: 'The first question is a feature engineering question. The below features are
    selected as trail characteristics:'
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: ç¬¬ä¸€ä¸ªé—®é¢˜æ˜¯ç‰¹å¾å·¥ç¨‹é—®é¢˜ã€‚ä»¥ä¸‹ç‰¹å¾è¢«é€‰ä¸ºè·¯çº¿ç‰¹å¾ï¼š
- en: 'Numerical features: `stat_climb` , `stat_descent` , `stat_distance` , `rating`'
  id: totrans-82
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æ•°å€¼ç‰¹å¾ï¼š`stat_climb` ã€`stat_descent` ã€`stat_distance` ã€`rating`
- en: 'Text features: `title`, `difficulty_title` , `trailtype` , `direction` and
    `country_title`'
  id: totrans-83
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æ–‡æœ¬ç‰¹å¾ï¼š`title`ã€`difficulty_title`ã€`trailtype`ã€`direction` å’Œ `country_title`
- en: As for the second question, we use cosine similarity which is a commonly used
    measure in terms of RecSys practice.
  id: totrans-84
  prefs: []
  type: TYPE_NORMAL
  zh: å¯¹äºç¬¬äºŒä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬ä½¿ç”¨ä½™å¼¦ç›¸ä¼¼åº¦ï¼Œè¿™æ˜¯åœ¨æ¨èç³»ç»Ÿå®è·µä¸­å¸¸ç”¨çš„åº¦é‡æ–¹æ³•ã€‚
- en: ğŸ’» Code example for feature engineering and similarity calculation
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: ğŸ’» ç‰¹å¾å·¥ç¨‹å’Œç›¸ä¼¼åº¦è®¡ç®—çš„ä»£ç ç¤ºä¾‹
- en: '[PRE6]'
  id: totrans-86
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: 'ğŸŒ„ DEMO: recommend trails for Trevor using Content-based Filtering'
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
  zh: ğŸŒ„ DEMOï¼šä½¿ç”¨åŸºäºå†…å®¹çš„è¿‡æ»¤ä¸º Trevor æ¨èè·¯çº¿
- en: Letâ€™s find trails similar to Trevorâ€™s second most explored trail (â€˜A-Line â€”
    Lowerâ€™)
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: è®©æˆ‘ä»¬æ‰¾åˆ°ä¸ Trevor çš„ç¬¬äºŒæ¡æœ€å¸¸æ¢ç´¢çš„è·¯çº¿ï¼ˆâ€˜A-Line â€” Lowerâ€™ï¼‰ç›¸ä¼¼çš„è·¯çº¿
- en: '![](../Images/6828e474a35e00a6a97a82eff7f6e82d.png)![](../Images/0986a632ebcd8e64f77ca19a62f4c360.png)'
  id: totrans-89
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/6828e474a35e00a6a97a82eff7f6e82d.png)![](../Images/0986a632ebcd8e64f77ca19a62f4c360.png)'
- en: Wow! The content-based recommender is pretty impressive, which recommended most
    medium to hard difficulty levels, and downhill direction trails. My coworker Trevor
    is a serious mountain biker, and heâ€™s quite pleased about such recommendations!
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: å“‡ï¼åŸºäºå†…å®¹çš„æ¨èå™¨éå¸¸ä»¤äººå°è±¡æ·±åˆ»ï¼Œå®ƒæ¨èäº†å¤§å¤šæ•°ä¸­ç­‰åˆ°å›°éš¾éš¾åº¦çš„å±±åœ°è½¦è·¯çº¿å’Œä¸‹å¡æ–¹å‘çš„è·¯çº¿ã€‚æˆ‘çš„åŒäº‹ Trevor æ˜¯ä¸€ä¸ªèµ„æ·±çš„å±±åœ°è½¦éª‘è¡Œè€…ï¼Œä»–å¯¹è¿™æ ·çš„æ¨èéå¸¸æ»¡æ„ï¼
- en: OK, now the hard work is done. Iâ€™d like to share a few reflections.
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
  zh: å¥½å§ï¼Œç°åœ¨è‰°è‹¦çš„å·¥ä½œå·²ç»å®Œæˆã€‚æˆ‘æƒ³åˆ†äº«ä¸€äº›åæ€ã€‚
- en: ğŸ”ï¸ 2\. Things to consider for preparing hackathon type of projects
  id: totrans-92
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: ğŸ”ï¸ 2. å‡†å¤‡é»‘å®¢é©¬æ‹‰æ¾ç±»å‹é¡¹ç›®æ—¶éœ€è¦è€ƒè™‘çš„äº‹é¡¹
- en: 'The biggest lesson I learned from participating in hackathon type of projects
    is that â€œless is moreâ€. Itâ€™s very tempting to build a recommender system including
    both the data science component, the backend database component, and the frontend
    or just streamlit component for a nicer demo. But hackathons are typical with
    time limitations, you need to be aware of which parts you are willing to sacrifice
    a bit to give time for other things. For me, such parts are:'
  id: totrans-93
  prefs: []
  type: TYPE_NORMAL
  zh: ä»å‚ä¸é»‘å®¢é©¬æ‹‰æ¾ç±»å‹çš„é¡¹ç›®ä¸­æˆ‘å­¦åˆ°çš„æœ€å¤§æ•™è®­æ˜¯â€œå°‘å³æ˜¯å¤šâ€ã€‚å°½ç®¡å¾ˆè¯±äººå»æ„å»ºä¸€ä¸ªåŒ…æ‹¬æ•°æ®ç§‘å­¦ç»„ä»¶ã€åç«¯æ•°æ®åº“ç»„ä»¶ä»¥åŠå‰ç«¯æˆ–åªæ˜¯ç”¨äºæ›´å¥½æ¼”ç¤ºçš„ streamlit
    ç»„ä»¶çš„æ¨èç³»ç»Ÿï¼Œä½†é»‘å®¢é©¬æ‹‰æ¾é€šå¸¸æ—¶é—´æœ‰é™ï¼Œä½ éœ€è¦æ„è¯†åˆ°å“ªäº›éƒ¨åˆ†ä½ æ„¿æ„ç¨å¾®ç‰ºç‰²ä¸€ç‚¹ï¼Œä»¥ä¾¿ç•™å‡ºæ—¶é—´åšå…¶ä»–äº‹æƒ…ã€‚å¯¹æˆ‘æ¥è¯´ï¼Œè¿™äº›éƒ¨åˆ†æ˜¯ï¼š
- en: 'EDA and data visualization: exploratory data analysis is like a black hole,
    it can suck you in and it feels no obvious ending point. The same goes for data
    visualization, you could spend endless time to make one chart pretty and prettier,
    but that would only benefit your project from 80 to 82, which is the opposite
    of the 80â€“20 rule. My solutions are `pandas-profiling` and `altair` . Before performing
    any data analysis, I would use `pandas-profiling` to check the missing values,
    the general distribution, and correlations, this will help me narrow down the
    data I can keep and prepare for feature engineering. `altair` is really simple
    to use and with a few compacted lines, you can easily make nice-looking bar charts
    and scatter+distribution charts. One of my tips is that I would just copy a few
    code snippets on the notebook beforehand, and only use those already in my notebook
    to remove any further temptations.'
  id: totrans-94
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: EDA å’Œæ•°æ®å¯è§†åŒ–ï¼šæ¢ç´¢æ€§æ•°æ®åˆ†æå°±åƒä¸€ä¸ªé»‘æ´ï¼Œå®ƒå¯ä»¥æŠŠä½ å¸è¿›å»ï¼Œå¹¶ä¸”æ²¡æœ‰æ˜æ˜¾çš„ç»“æŸç‚¹ã€‚æ•°æ®å¯è§†åŒ–ä¹Ÿæ˜¯å¦‚æ­¤ï¼Œä½ å¯èƒ½ä¼šèŠ±è´¹æ— å°½çš„æ—¶é—´æ¥ç¾åŒ–ä¸€ä¸ªå›¾è¡¨ï¼Œä½†è¿™åªä¼šå°†ä½ çš„é¡¹ç›®ä»
    80 æå‡åˆ° 82ï¼Œè¿™ä¸ 80-20 è§„åˆ™ç›¸åã€‚æˆ‘çš„è§£å†³æ–¹æ¡ˆæ˜¯`pandas-profiling` å’Œ `altair`ã€‚åœ¨è¿›è¡Œä»»ä½•æ•°æ®åˆ†æä¹‹å‰ï¼Œæˆ‘ä¼šä½¿ç”¨
    `pandas-profiling` æ¥æ£€æŸ¥ç¼ºå¤±å€¼ã€æ€»ä½“åˆ†å¸ƒå’Œç›¸å…³æ€§ï¼Œè¿™å°†å¸®åŠ©æˆ‘ç¼©å°å¯ä»¥ä¿ç•™çš„æ•°æ®èŒƒå›´å¹¶ä¸ºç‰¹å¾å·¥ç¨‹åšå‡†å¤‡ã€‚`altair` ä½¿ç”¨èµ·æ¥éå¸¸ç®€å•ï¼Œé€šè¿‡å‡ è¡Œç´§å‡‘çš„ä»£ç ï¼Œä½ å¯ä»¥è½»æ¾åˆ¶ä½œå‡ºæ¼‚äº®çš„æ¡å½¢å›¾å’Œæ•£ç‚¹+åˆ†å¸ƒå›¾ã€‚æˆ‘æœ‰ä¸€ä¸ªå°æŠ€å·§ï¼Œå°±æ˜¯æå‰åœ¨ç¬”è®°æœ¬ä¸­å¤åˆ¶å‡ ä¸ªä»£ç ç‰‡æ®µï¼Œåªä½¿ç”¨å·²ç»åœ¨ç¬”è®°æœ¬ä¸­çš„é‚£äº›ä»£ç ï¼Œä»¥é¿å…ä»»ä½•è¿›ä¸€æ­¥çš„è¯±æƒ‘ã€‚
- en: The demo is about storytelling. You can spend all-nighters to have the fanciest
    and most complex hackathon project, but you need to reserve enough time to prepare
    how you want to tell the story. A story can start with a Why (the motivation and
    background of why you want to do this project), a What (what happened, whatâ€™s
    surprising, what works), a little bit of How (keep it at a high level, equations
    and code are impressive in itself but it creates unnecessary intimidation and
    fatigue for people who only have 5 mins to understand your project). For example,
    this post is definitely too long and has too many details to demo standard. Lastly,
    adding a bit of drama and humor is always an advantage.
  id: totrans-95
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æ¼”ç¤ºæ˜¯å…³äºè®²æ•…äº‹çš„ã€‚ä½ å¯ä»¥ç†¬å¤œåˆ¶ä½œæœ€åä¸½å’Œæœ€å¤æ‚çš„é»‘å®¢æ¾é¡¹ç›®ï¼Œä½†ä½ éœ€è¦ç•™å‡ºè¶³å¤Ÿçš„æ—¶é—´æ¥å‡†å¤‡å¦‚ä½•è®²è¿°è¿™ä¸ªæ•…äº‹ã€‚ä¸€ä¸ªæ•…äº‹å¯ä»¥ä» Whyï¼ˆä½ ä¸ºä»€ä¹ˆè¦åšè¿™ä¸ªé¡¹ç›®çš„åŠ¨æœºå’ŒèƒŒæ™¯ï¼‰ã€Whatï¼ˆå‘ç”Ÿäº†ä»€ä¹ˆï¼Œä»€ä¹ˆä»¤äººæƒŠè®¶ï¼Œä»€ä¹ˆæœ‰æ•ˆï¼‰ã€ä¸€ç‚¹ç‚¹
    Howï¼ˆä¿æŒåœ¨é«˜å±‚æ¬¡ï¼Œæ–¹ç¨‹å¼å’Œä»£ç æœ¬èº«å¾ˆä»¤äººå°è±¡æ·±åˆ»ï¼Œä½†å®ƒä¼šç»™é‚£äº›åªæœ‰5åˆ†é’Ÿæ—¶é—´ç†è§£ä½ çš„é¡¹ç›®çš„äººå¸¦æ¥ä¸å¿…è¦çš„å¨æ…‘å’Œç–²æƒ«ï¼‰å¼€å§‹ã€‚ä¾‹å¦‚ï¼Œè¿™ç¯‡æ–‡ç« ç»å¯¹è¿‡é•¿ï¼Œç»†èŠ‚è¿‡å¤šï¼Œä¸ç¬¦åˆæ¼”ç¤ºæ ‡å‡†ã€‚æœ€åï¼ŒåŠ å…¥ä¸€äº›æˆå‰§æ€§å’Œå¹½é»˜æ„Ÿæ€»æ˜¯ä¸€ä¸ªä¼˜åŠ¿ã€‚
- en: ğŸ”ï¸ 3\. Further considerations for productionize recommender system
  id: totrans-96
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: ğŸ”ï¸ 3\. å°†æ¨èç³»ç»Ÿç”Ÿäº§åŒ–çš„è¿›ä¸€æ­¥è€ƒè™‘
- en: 'Lastly, if you made it this far, and you really want to productionize the prototype
    recommender system, there are three pieces of ghost knowledge* Iâ€™d like to share:'
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
  zh: æœ€åï¼Œå¦‚æœä½ å·²ç»çœ‹åˆ°è¿™é‡Œï¼Œå¹¶ä¸”çœŸçš„æƒ³å°†åŸå‹æ¨èç³»ç»ŸæŠ•å…¥ç”Ÿäº§ï¼Œæˆ‘æœ‰ä¸‰ç‚¹å¹½çµçŸ¥è¯†*æƒ³ä¸å¤§å®¶åˆ†äº«ï¼š
- en: '*ghost knowledge (*[*source*](https://vickiboykis.com/2021/03/26/the-ghosts-in-the-data/)*)
    :*'
  id: totrans-98
  prefs: []
  type: TYPE_NORMAL
  zh: '*å¹½çµçŸ¥è¯† (*[*æ¥æº*](https://vickiboykis.com/2021/03/26/the-ghosts-in-the-data/)*)
    :*'
- en: Knowledge that is present somewhere in the epistemic community, and is perhaps
    readily accessible to some central member of that community, but it is not really
    written down anywhere and itâ€™s not clear how to access it.
  id: totrans-99
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: çŸ¥è¯†å­˜åœ¨äºæŸä¸ªè®¤çŸ¥ç¤¾åŒºä¸­ï¼Œä¹Ÿè®¸æŸä¸ªç¤¾åŒºçš„æ ¸å¿ƒæˆå‘˜å¾ˆå®¹æ˜“è·å¾—ï¼Œä½†å®é™…ä¸Šå¹¶æ²¡æœ‰è¢«å†™ä¸‹æ¥ï¼Œä¹Ÿä¸æ¸…æ¥šå¦‚ä½•è·å–å®ƒã€‚
- en: 'Batch vs real-time recommender system: batch system sounds simple and straightforward,
    but it has its own complications. If you use `implicit` for collaborative filtering
    and using `cosine similarity` to retrieve similar content, it is very likely the
    latency will not satisfy your frontend API requirement. You can try to improve
    it using indexing like FAISS, but it might still be higher than 500ms. Thatâ€™s
    why you might consider doing batch computations for each user and each item. Depending
    on the size of users and items, the batch recommendations might take more than
    4hours and it will not refresh until you retrain the model. A quick tip is that
    only using users have any interactions in the past 90 days, or only do batch updates
    for items published in the past 90 days.'
  id: totrans-100
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: æ‰¹é‡ vs å®æ—¶æ¨èç³»ç»Ÿï¼šæ‰¹é‡ç³»ç»Ÿå¬èµ·æ¥ç®€å•ç›´æ¥ï¼Œä½†å®ƒæœ‰å…¶è‡ªèº«çš„å¤æ‚æ€§ã€‚å¦‚æœä½ ä½¿ç”¨`implicit`è¿›è¡ŒååŒè¿‡æ»¤å¹¶ä½¿ç”¨`cosine similarity`æ£€ç´¢ç±»ä¼¼å†…å®¹ï¼Œå¾ˆå¯èƒ½å»¶è¿Ÿæ— æ³•æ»¡è¶³ä½ çš„å‰ç«¯
    API è¦æ±‚ã€‚ä½ å¯ä»¥å°è¯•ä½¿ç”¨åƒ FAISS è¿™æ ·çš„ç´¢å¼•æ¥æé«˜é€Ÿåº¦ï¼Œä½†å®ƒå¯èƒ½ä»ç„¶é«˜äº500msã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆä½ å¯èƒ½è€ƒè™‘å¯¹æ¯ä¸ªç”¨æˆ·å’Œæ¯ä¸ªé¡¹ç›®è¿›è¡Œæ‰¹é‡è®¡ç®—ã€‚æ ¹æ®ç”¨æˆ·å’Œé¡¹ç›®çš„è§„æ¨¡ï¼Œæ‰¹é‡æ¨èå¯èƒ½éœ€è¦è¶…è¿‡4å°æ—¶ï¼Œå¹¶ä¸”ç›´åˆ°ä½ é‡æ–°è®­ç»ƒæ¨¡å‹æ‰ä¼šåˆ·æ–°ã€‚ä¸€ä¸ªå¿«é€Ÿæç¤ºæ˜¯ï¼Œä»…ä½¿ç”¨è¿‡å»90å¤©å†…æœ‰ä»»ä½•äº’åŠ¨çš„ç”¨æˆ·ï¼Œæˆ–ä»…å¯¹è¿‡å»90å¤©å†…å‘å¸ƒçš„é¡¹ç›®è¿›è¡Œæ‰¹é‡æ›´æ–°ã€‚
- en: 'â€œCold-Startâ€ might not be as severe as you think: I remember when I first learned
    the recommender system, books and talks made sure to emphasize the â€œcold-startâ€
    problem as if it is the most difficult scenario to solve. But for Outside Feed,
    this problem is not even top-3\. The reason is that a lot of people are used to
    reading the freshest and most recent content on their Outside Feed, and it is
    fairly easy to rank content by publish date to surface the new items (cold items),
    thus it is easy to guarantee new items get pageview (interactions) data. For us,
    the much harder problem is actually â€œhow to recommend ever-green contentâ€? If
    we recommend an all-time popular article first written in 2016, even though this
    piece of content might be relevant to users'' tastes, users might get the impression
    that we didnâ€™t have fresh content to recommend.'
  id: totrans-101
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: â€œCold-Startâ€ å¯èƒ½å¹¶ä¸åƒä½ æƒ³è±¡çš„é‚£ä¹ˆä¸¥é‡ï¼šæˆ‘è®°å¾—å½“æˆ‘ç¬¬ä¸€æ¬¡å­¦ä¹ æ¨èç³»ç»Ÿæ—¶ï¼Œä¹¦ç±å’Œè®²åº§æ€»æ˜¯å¼ºè°ƒâ€œcold-startâ€é—®é¢˜ï¼Œå¥½åƒè¿™æ˜¯æœ€éš¾è§£å†³çš„åœºæ™¯ã€‚ç„¶è€Œï¼Œå¯¹äº
    Outside Feed æ¥è¯´ï¼Œè¿™ä¸ªé—®é¢˜ç”šè‡³ä¸åœ¨å‰3åã€‚åŸå› æ˜¯å¾ˆå¤šäººä¹ æƒ¯äºåœ¨ Outside Feed ä¸Šé˜…è¯»æœ€æ–°çš„å†…å®¹ï¼Œå› æ­¤é€šè¿‡å‘å¸ƒæ—¥æœŸå¯¹å†…å®¹è¿›è¡Œæ’åºï¼Œä»¥ä¾¿å±•ç¤ºæ–°é¡¹ï¼ˆå†·é¡¹ï¼‰æ˜¯ç›¸å½“å®¹æ˜“çš„ï¼Œä»è€Œèƒ½å¤Ÿä¿è¯æ–°é¡¹è·å¾—é¡µé¢æµè§ˆï¼ˆäº’åŠ¨ï¼‰æ•°æ®ã€‚å¯¹æˆ‘ä»¬æ¥è¯´ï¼Œæ›´éš¾çš„é—®é¢˜å®é™…ä¸Šæ˜¯â€œå¦‚ä½•æ¨èæ°¸æ’çš„å†…å®¹â€ï¼Ÿå¦‚æœæˆ‘ä»¬æ¨èä¸€ç¯‡æœ€åˆäº2016å¹´æ’°å†™çš„å…¨æ—¶çƒ­é—¨æ–‡ç« ï¼Œå³ä½¿è¿™ç¯‡å†…å®¹å¯èƒ½ç¬¦åˆç”¨æˆ·çš„å£å‘³ï¼Œç”¨æˆ·å¯èƒ½ä¼šè§‰å¾—æˆ‘ä»¬æ²¡æœ‰æ–°é²œçš„å†…å®¹å¯ä»¥æ¨èã€‚
- en: 'The third piece of knowledge is an anecdote I heard from another recommender
    system practitioner (Andy - the CTO from [miso.ai](https://miso.ai/)): he once
    built a homepage recommender for a clothing website. Even though the learn-to-rank
    ranking system learned that the â€œBlackâ€ color is likely to be the most popular
    one, thus it recommended the first page with all clothing in different styles
    but all in black color. Well, the model isnâ€™t wrong, but it looks terrible at
    first glance and it performed poorly in terms of enticing people to buy clothes.
    He joked that heâ€™s been studying recommender systems for years and years, but
    nobody mentioned that a good color complementary design might have a huge effect.'
  id: totrans-102
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: ç¬¬ä¸‰ä¸ªçŸ¥è¯†ç‚¹æ˜¯æˆ‘ä»å¦ä¸€ä½æ¨èç³»ç»Ÿä»ä¸šè€…ï¼ˆAndy - æ¥è‡ª[miso.ai](https://miso.ai/)çš„CTOï¼‰é‚£é‡Œå¬åˆ°çš„è¶£é—»ï¼šä»–æ›¾ç»ä¸ºä¸€ä¸ªæœè£…ç½‘ç«™æ„å»ºäº†ä¸€ä¸ªä¸»é¡µæ¨èç³»ç»Ÿã€‚å°½ç®¡å­¦ä¹ æ’åçš„ç³»ç»Ÿäº†è§£åˆ°â€œé»‘è‰²â€å¯èƒ½æ˜¯æœ€å—æ¬¢è¿çš„é¢œè‰²ï¼Œå› æ­¤æ¨èäº†é¦–é¡µä¸Šå…¨æ˜¯é»‘è‰²çš„ä¸åŒé£æ ¼çš„æœè£…ã€‚å¥½å§ï¼Œæ¨¡å‹å¹¶æ²¡æœ‰é”™ï¼Œä½†ä¹ä¸€çœ‹æ•ˆæœå¾ˆç³Ÿç³•ï¼Œå¹¶ä¸”åœ¨å¸å¼•äººä»¬è´­ä¹°è¡£ç‰©æ–¹é¢è¡¨ç°ä¸ä½³ã€‚ä»–å¼€ç©ç¬‘è¯´ï¼Œä»–ç ”ç©¶æ¨èç³»ç»Ÿå·²ç»å¾ˆå¤šå¹´äº†ï¼Œä½†æ²¡æœ‰äººæåˆ°å¥½çš„é¢œè‰²æ­é…è®¾è®¡å¯èƒ½ä¼šæœ‰å¾ˆå¤§çš„å½±å“ã€‚
- en: Thatâ€™s it for my last medium post in the year 2022\. Thank you tremendously
    for the support. If you have any thoughts or reflections or better yet â€” more
    recsys anecdotes, please send them my way! Love to compile them into the fascinating
    book I dream to write < The Pleasure and Sorrow of Building RecSys> ğŸ³~~~
  id: totrans-103
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™å°±æ˜¯æˆ‘åœ¨2022å¹´çš„æœ€åä¸€ç¯‡ä¸­ç­‰å¸–å­ã€‚éå¸¸æ„Ÿè°¢ä½ çš„æ”¯æŒã€‚å¦‚æœä½ æœ‰ä»»ä½•æƒ³æ³•æˆ–åæ€ï¼Œæˆ–è€…æ›´å¥½â€”â€”æ›´å¤šçš„æ¨èç³»ç»Ÿè¶£é—»ï¼Œè¯·å‘é€ç»™æˆ‘ï¼æˆ‘å¾ˆä¹æ„å°†å®ƒä»¬ç¼–å…¥æˆ‘æ¢¦æƒ³å†™çš„è¿·äººä¹¦ç±ã€Šæ„å»ºæ¨èç³»ç»Ÿçš„ä¹è¶£ä¸æ‚²å“€ã€‹ä¸­
    < The Pleasure and Sorrow of Building RecSys> ğŸ³~~~
