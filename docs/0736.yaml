- en: How to Deploy and Interpret AlphaFold2 with Minimal Compute
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 原文：[https://towardsdatascience.com/how-to-deploy-and-interpret-alphafold2-with-minimal-compute-9bf75942c6d7?source=collection_archive---------1-----------------------#2023-02-24](https://towardsdatascience.com/how-to-deploy-and-interpret-alphafold2-with-minimal-compute-9bf75942c6d7?source=collection_archive---------1-----------------------#2023-02-24)
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '**Use Alphafold2 with limited computational resources**'
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: '[](https://medium.com/@temitope.sobodu?source=post_page-----9bf75942c6d7--------------------------------)[![Temitope
    Sobodu](../Images/04bf69e0b2c024ab47ed98b3d3f9ec3c.png)](https://medium.com/@temitope.sobodu?source=post_page-----9bf75942c6d7--------------------------------)[](https://towardsdatascience.com/?source=post_page-----9bf75942c6d7--------------------------------)[![Towards
    Data Science](../Images/a6ff2676ffcc0c7aad8aaf1d79379785.png)](https://towardsdatascience.com/?source=post_page-----9bf75942c6d7--------------------------------)
    [Temitope Sobodu](https://medium.com/@temitope.sobodu?source=post_page-----9bf75942c6d7--------------------------------)'
  prefs: []
  type: TYPE_NORMAL
- en: ·
  prefs: []
  type: TYPE_NORMAL
- en: '[Follow](https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F3b87c271bf6&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-deploy-and-interpret-alphafold2-with-minimal-compute-9bf75942c6d7&user=Temitope+Sobodu&userId=3b87c271bf6&source=post_page-3b87c271bf6----9bf75942c6d7---------------------post_header-----------)
    Published in [Towards Data Science](https://towardsdatascience.com/?source=post_page-----9bf75942c6d7--------------------------------)
    ·9 min read·Feb 24, 2023[](https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F9bf75942c6d7&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-deploy-and-interpret-alphafold2-with-minimal-compute-9bf75942c6d7&user=Temitope+Sobodu&userId=3b87c271bf6&source=-----9bf75942c6d7---------------------clap_footer-----------)'
  prefs: []
  type: TYPE_NORMAL
- en: --
  prefs: []
  type: TYPE_NORMAL
- en: '[](https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F9bf75942c6d7&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-deploy-and-interpret-alphafold2-with-minimal-compute-9bf75942c6d7&source=-----9bf75942c6d7---------------------bookmark_footer-----------)![](../Images/3325dbea4f4737a189c1ff5eccaa950d.png)'
  prefs: []
  type: TYPE_NORMAL
- en: Photo by [Luke Jones](https://unsplash.com/@lukejonesdesign?utm_source=medium&utm_medium=referral)
    on [Unsplash](https://unsplash.com/?utm_source=medium&utm_medium=referral)
  prefs: []
  type: TYPE_NORMAL
- en: It is no longer news that one of the steepest challenges in biology has been
    leveled by a London-based artificial intelligence outfit — DeepMind. They won
    the Critical Assessment of protein-Structure Prediction 14 edition (CASP14) with
    a ground truth score of 90\. DeepMind proceeded to publish a landmark paper in
    the summer of 2021.
  prefs: []
  type: TYPE_NORMAL
- en: '[](https://www.nature.com/articles/s41586-021-03819-2?source=post_page-----9bf75942c6d7--------------------------------#Sec3)
    [## Highly accurate protein structure prediction with AlphaFold - Nature'
  prefs: []
  type: TYPE_NORMAL
- en: Proteins are essential to life, and understanding their structure can facilitate
    a mechanistic understanding of their…
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: www.nature.com](https://www.nature.com/articles/s41586-021-03819-2?source=post_page-----9bf75942c6d7--------------------------------#Sec3)
  prefs: []
  type: TYPE_NORMAL
- en: DeepMind named their protein-folding platform AlphaFold (updated version —AlphaFold
    v2.3.0 at the time of writing). They released the source code on GitHub for open
    access. However, deploying AlphaFold2 open source code on GitHub requires humongous
    computational resources; downloading the database requires 12 vCPUs, 85 GB RAM,
    a 100 GB boot disk, 3 TB disk, and an A100 GPU. Also, the user must be vast in
    Linux, and deploy docker containers and other dependencies. The purpose of this
    article is to guide readers through seamless alternative tools available to tap
    into the AlphaFold miracle.
  prefs: []
  type: TYPE_NORMAL
- en: This article is of medium length (no pun intended), so please stay with me.
  prefs: []
  type: TYPE_NORMAL
- en: 'I will be discussing:'
  prefs: []
  type: TYPE_NORMAL
- en: · How AlphaFold works
  prefs: []
  type: TYPE_NORMAL
- en: · Performance evaluation metrics
  prefs: []
  type: TYPE_NORMAL
- en: · The EMBL-EBI method
  prefs: []
  type: TYPE_NORMAL
- en: · The Colab notebook method
  prefs: []
  type: TYPE_NORMAL
- en: · AlphaFold2’s limitations
  prefs: []
  type: TYPE_NORMAL
- en: · Conclusion
  prefs: []
  type: TYPE_NORMAL
- en: '***So how does AlphaFold2 work?***'
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: Integrally, AlphaFold2 consists of a trained multiple sequence alignment (MSA),
    paired residues, and PDB templates of 100000 known protein structures (validated
    experimentally by NMR, X-ray crystallography, cryo-EM) from metagenomic databases.
    The AlphaFold2 evoformer, a 48-block neural network, was built based on concepts
    derived from large language models (LLM), tokenization, transformers, and attention.
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/d2b119bc8d8fc946da5a896a3e29fafe.png)'
  prefs: []
  type: TYPE_IMG
- en: 'Image Source: [Jumper et al](https://www.nature.com/articles/s41586-021-03819-2#Sec3).'
  prefs: []
  type: TYPE_NORMAL
- en: 'The evoformer outputs MSA and pair representations which is fed into the structure
    prediction module. These blocks employ invariant point attention to predict the
    single representation copy of the first row of the MSA, which is consequently
    funnelled to predict the 𝛘 torsional angles between predicted protein residue
    atoms: in essence, the placing of interconnected atoms adjacent to a peptide backbone
    in an XYZ dimension. The final predicted protein structure is relaxed to optimize
    their energy landscape using openMM from Amber forcefields, reducing steric clashes
    and energy violations.'
  prefs: []
  type: TYPE_NORMAL
- en: '***Performance evaluation metrics***'
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: AlphaFold2 (AF2) outputs a 3D protein structure, and the model performance is
    evaluated with a three confidence metrics.
  prefs: []
  type: TYPE_NORMAL
- en: '*Predicted Local difference Test* (pLDDT), ranging from 0–100, is a per residue
    confidence score, signifying the confidence of the model prediction for each amino
    acid residue relative to the 𝛂 carbon atoms.'
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/587c44c9b8757071eee71c02642cd9cb.png)'
  prefs: []
  type: TYPE_IMG
- en: 'Image Source: Author'
  prefs: []
  type: TYPE_NORMAL
- en: For instance, the image above depicts pLDDT color-coded prediction of the human
    mammalian Target of Rapamycin (mTOR) serine/threonine kinase. pLDDT > 90 signifies
    very high confidence, 70–90 good enough confidence, while <70 connotes low model
    confidence. The pLDDT can help us gauge how well the model has performed with
    respect to protein regions or domains.
  prefs: []
  type: TYPE_NORMAL
- en: '*Predicted Aligned Error (PAE)* gives us the inter-domain/intra-domain distances
    between two residues X and Y relative to the true structures when aligned on the
    same plane. Simply, how well the residues are arranged relative to other residues
    in space. Typically, the distances range from 0-35 Ångstroms for a confident prediction.
    AF2 prides itself at being able to better predict the relative positions of residues
    within the same domain (intra-domain residues), compared to residues in different
    domains (inter-domain residues). This makes sense because residues within a domain
    are more static compared to residues in other domains. The model outputs a PAE
    plot which juxtaposes residue positions along X/Y axes.'
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/3a5a86201245eb940b728a2bb92f3f99.png)'
  prefs: []
  type: TYPE_IMG
- en: 'Image Source: Author'
  prefs: []
  type: TYPE_NORMAL
- en: '*Predicted Template Modeling Score* (pTM) measures the structural congruency
    between two folded protein structures. AlphaFold2 allows the inclusion of PDB
    templates for modeling, as part of the modeling options. Although the templates
    are not required for predictions, they can improve model performance. The pTM
    ranges from 0 to 1, provides a framework for AF2 to rank its 5 predicted outputs.
    Predictions with pTM < 0.2 are either stochastically assigned residue patterns,
    with negligible or no correlation with the supposed native structure, or are intrinsically
    disordered proteins. A pTM >0.5 is usually strong enough to make inference.'
  prefs: []
  type: TYPE_NORMAL
- en: Now that we have discussed AlphaFold’s fundamentals and its metrics, we can
    deep-dive into low-compute methods to explore AlphaFold.
  prefs: []
  type: TYPE_NORMAL
- en: '***The EMBL-EBI method***'
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: To provide easy access to AlphaFold2, DeepMind collaborated with the European
    Molecular Biology Lab, Bioinformatics group to curate proteins for 48 commonly
    studied species including humans, mice, rats, apes, fruitfly, and yeast. The database
    contains over 1 million structures spanning 48 organismic proteomes. Although,
    a miserly number compared to the 200 million open source AlphaFold2 has to offer.
    However, this super-easy API subsidizes the heavy cost of computation associated
    with the open source code. The webpage can be accessed via the link below
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/294007d3676f96a772f729e5df24542d.png) [## AlphaFold Protein Structure
    Database'
  prefs: []
  type: TYPE_NORMAL
- en: AlphaFold Protein Structure Database
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: AlphaFold Protein Structure Databasealphafold.ebi.ac.uk](https://alphafold.ebi.ac.uk/?source=post_page-----9bf75942c6d7--------------------------------)
  prefs: []
  type: TYPE_NORMAL
- en: On the webpage, users can search for their protein of interest with protein
    name, gene name, UniProt accession, and UniProt ID. An additional alternative
    search process would be the sequence if the protein name is unknown. Unknown proteins
    can be deciphered by inputing the protein sequence into another tool called Fasta
    (link below).
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/a86b75baf1c78dcf755b2ad29d1b00d0.png) [## FASTA/SSEARCH/GGSEARCH/GLSEARCH
    < Sequence Similarity Searching < EMBL-EBI'
  prefs: []
  type: TYPE_NORMAL
- en: FASTA (pronounced FAST-AYE) is a suite of programs for searching nucleotide
    or protein databases with a query sequence…
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: www.ebi.ac.uk](https://www.ebi.ac.uk/Tools/sss/fasta/?source=post_page-----9bf75942c6d7--------------------------------)
  prefs: []
  type: TYPE_NORMAL
- en: On Fasta users can search for macromolecules including proteins inputing the
    known sequence referenced to a universal protein database e.g. UniProt.
  prefs: []
  type: TYPE_NORMAL
- en: The EMBL-EBI webpage outputs the folded structure in HTML color-coded by the
    pLDDT and generates a PAE plot. Users can download the predicted protein structure
    in PDB, mmCIF, or JSON format. The EMBL-EBI is fast and nearly instantaneous.
    It requires no installations or dependencies. The cons of the EMBL-EBI webpage
    includes its lack of flexibility with sequence inputs and that it can only work
    for monomeric structures. Further, these models cannot be tweaked to predict destabilizing
    mutant residues or domains. They are essentially good for ready-made predictions,
    and contribute pittance to inference or hypothesis generation.
  prefs: []
  type: TYPE_NORMAL
- en: '***The Colab notebook method***'
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: A colab notebook is a website that hosts an application written in python. The
    AlphaFold colab notebook is hosted on google cloud servers. Users need to initialize
    and connect to the server, which allocate GPU or TPU resources (RAM & disk) for
    each colab notebook session. In user experience terms, this is the closest in
    function to open source predictions. The AF2 colab notebook allocate computational
    resources to users, however, the allocated resources are not finite, and compels
    users to a limit of 800 residues for prediction optimization. Above this ceiling,
    AF2 performance may drop drastically. Other downsides of the colab notebook includes,
    substantial wait time (dependent on allocate resources for that instance). Not
    suitable for large batch jobs, essentially optimal for single sequence predictions.
    Nonetheless, in comparison to the EMBI-EBI database, colab notebook permits some
    modifications to prediction modalities.
  prefs: []
  type: TYPE_NORMAL
- en: '*A step by step instruction on how to use AlphaFold2 colab notebooks*'
  prefs: []
  type: TYPE_NORMAL
- en: Search ‘AlphaFold2 colab notebooks’ on google or use this link
  prefs: []
  type: TYPE_NORMAL
- en: '[](https://colab.research.google.com/github/sokrypton/ColabFold/blob/main/AlphaFold2.ipynb?source=post_page-----9bf75942c6d7--------------------------------)
    [## Google Colaboratory'
  prefs: []
  type: TYPE_NORMAL
- en: Edit description
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: colab.research.google.com](https://colab.research.google.com/github/sokrypton/ColabFold/blob/main/AlphaFold2.ipynb?source=post_page-----9bf75942c6d7--------------------------------)
  prefs: []
  type: TYPE_NORMAL
- en: The reconnect dropdown menu connects users to google cloud servers. This step
    allocates GPU to the user for the session. Be careful to prudently utilize your
    sessions because the GPU allocation is tenured, and the connection is terminated
    when the allocated GPU is exhausted. However, google offers a premium user service
    which allocates you near infinite GPU. The protein MSA goes in the **query_sequence
    box**.
  prefs: []
  type: TYPE_NORMAL
- en: Also, Be sure to inspect the sequence, close the spaces and indentations before
    running the job. Interchain breaks can be signified with a colon (:). For example
    —EQVTNVGGAVVTGVTAVA:EQVTNVGGAVVTGVTAVA connotes a homodimer. **Amber Forcefields**
    relaxes the protein 3D structure. This permits the side chains to rotate freely
    with minimal steric clashes and thermodynamic violations. This step is optional
    and doesn’t significantly improve the model performance.
  prefs: []
  type: TYPE_NORMAL
- en: Furthermore, the **msa_mode** provides options for the sequence search modality.
    The Many-against-Many sequence searching mode with uniRef and environmental is
    the default. There is an option for users to use MMseq2 uniRef only or provide
    a custom sequence search mode.
  prefs: []
  type: TYPE_NORMAL
- en: The **model_type** feature allows users to choose the structural dimensions
    of the protein to be predicted. This feature enables predictions for oligomeric
    or multimeric structures. Choose Alphafold-multimer v1 or v2 option if you are
    working with an oligomeric sequence, Alphafold2-ptm if the structure is monomeric.
    The auto option permits the model to decide. Auto is the default.
  prefs: []
  type: TYPE_NORMAL
- en: The **num-recycles** function enables the model to reiterate through the sequence
    and predictions multiple times. This is one of the reasons a GPU is required because
    it empowers the machine to run parallel jobs. The default number of recycles is
    3, however, it advised to scale to 6 or more until a near accurate prediction
    is achieved by the model. Also, it is noteworthy the runtime increases with number
    of recycles.
  prefs: []
  type: TYPE_NORMAL
- en: To run the job, click the **runtime** dropdown menu then choose ‘Run all’. This
    is the last and probably the easiest step. However, if the job is interrupted
    with a disruption to the internet connection or GPU availability, the whole process
    may be stalled. Therefore, the Run all option requires the user to keep the internet
    connection intact and the colab notebook page open till the job is completed.
  prefs: []
  type: TYPE_NORMAL
- en: After completion, AlphaFold2 colab notebook returns 5 models predictions with
    their respective pTM and pLDDT. The ‘best’ predicted structure is ranked and the
    output can be downloaded into the users’ computer local drive or google drive.
    The zip file contains the PDB structures for the 5 predictions (10 if you used
    the amber relax option), a corresponding PAE plot and 5 JSON files for the PAE
    and pTM coordinates or matrices.
  prefs: []
  type: TYPE_NORMAL
- en: '***AlphaFold2''s limitations***'
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: AlphaFold2 has usurped the current paradigm in protein and structural biology
    as a whole. It is definitely one of the most impactful applications of AI in biology.
    Notwithstanding this giant stride, AF2 has its limitations. AF2 has negligible
    predicting accuracy with variant proteins, missense deletions or mutations. Here
    are two publications expressing this limitation.
  prefs: []
  type: TYPE_NORMAL
- en: '[](https://www.nature.com/articles/s41594-021-00714-2?source=post_page-----9bf75942c6d7--------------------------------)
    [## Can AlphaFold2 predict the impact of missense mutations on structure? - Nature
    Structural &…'
  prefs: []
  type: TYPE_NORMAL
- en: We are grateful to H. Matsuo for critical reading of the manuscript. This work
    was supported by the Intramural Research…
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: www.nature.com](https://www.nature.com/articles/s41594-021-00714-2?source=post_page-----9bf75942c6d7--------------------------------)
    [](https://www.biorxiv.org/content/10.1101/2021.09.19.460937v1?source=post_page-----9bf75942c6d7--------------------------------)
    [## Using AlphaFold to predict the impact of single mutations on protein stability
    and function
  prefs: []
  type: TYPE_NORMAL
- en: AlphaFold changed the field of structural biology by achieving three-dimensional
    (3D) structure prediction from protein…
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: www.biorxiv.org](https://www.biorxiv.org/content/10.1101/2021.09.19.460937v1?source=post_page-----9bf75942c6d7--------------------------------)
  prefs: []
  type: TYPE_NORMAL
- en: However, don’t fret! David Baker’s group at the University of Washington developed
    a sister project to AlphaFold2, named RosettaFold. RosettaFold does a more compelling
    job in predicting mutant protein structures(1.25 folds better model performance
    compared to MSA transformers e.g. AF2) . Here’s the paper.
  prefs: []
  type: TYPE_NORMAL
- en: '[](https://www.biorxiv.org/content/10.1101/2022.11.04.515218v1?rss=1&source=post_page-----9bf75942c6d7--------------------------------)
    [## Accurate Mutation Effect Prediction using RoseTTAFold'
  prefs: []
  type: TYPE_NORMAL
- en: Predicting the effects of mutations on protein function is an outstanding challenge.
    Here we assess the performance of…
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: www.biorxiv.org](https://www.biorxiv.org/content/10.1101/2022.11.04.515218v1?rss=1&source=post_page-----9bf75942c6d7--------------------------------)
  prefs: []
  type: TYPE_NORMAL
- en: All in all, AF2 performed exceedingly better than other available options prior
    to its advent. Be it in predicting proteins building block’s torsional angles
    and convolutional directions, or their relative positioning in space.
  prefs: []
  type: TYPE_NORMAL
- en: '***Conclusion***'
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: The EMBL-EBI database and AF2’s google colab notebook provides access to AF2’s
    models, relieving users of computational hassles associated with high performance
    computing environments. I hope I have been able to point you in the right direction,
    and provide some insight into AF2’s utility without having to employ the traditional
    computational command prompt and resources.
  prefs: []
  type: TYPE_NORMAL
- en: Have fun using AlphaFold2! truly a revolutionary tool.
  prefs: []
  type: TYPE_NORMAL
- en: '*References*'
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: Jumper J, Evans R, Pritzel A. [Highly accurate protein structure prediction
    with AlphaFold](https://www.nature.com/articles/s41586-021-03819-2#Sec3). (2021),*Nature*.
    ;596(7873):583–589\. doi:10.1038/s41586–021–03819–2
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Baumkötter F, Schmidt N, Vargas C, et al. [Amyloid precursor protein dimerization
    and synaptogenic function depend on copper binding to the growth factor-like domain](https://www.jneurosci.org/content/34/33/11159.short).
    (2014), *J Neurosci*.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Wang M, Audas TE, Lee S. [Disentangling a Bad Reputation: Changing Perceptions
    of Amyloids](https://www.sciencedirect.com/science/article/abs/pii/S0962892417300338).
    (2017), *Trends Cell Biol*. ;27(7):465–467\. doi:10.1016/j.tcb.2017.03.001'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
