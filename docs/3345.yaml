- en: Customer Lifetime Value Prediction with PyMC-Marketing
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 使用 PyMC-Marketing 进行客户生命周期价值预测
- en: 原文：[https://towardsdatascience.com/pymc-marketing-the-key-to-advanced-clv-customer-lifetime-value-forecasting-bc0730973c0a?source=collection_archive---------1-----------------------#2023-11-10](https://towardsdatascience.com/pymc-marketing-the-key-to-advanced-clv-customer-lifetime-value-forecasting-bc0730973c0a?source=collection_archive---------1-----------------------#2023-11-10)
  id: totrans-1
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 原文：[https://towardsdatascience.com/pymc-marketing-the-key-to-advanced-clv-customer-lifetime-value-forecasting-bc0730973c0a?source=collection_archive---------1-----------------------#2023-11-10](https://towardsdatascience.com/pymc-marketing-the-key-to-advanced-clv-customer-lifetime-value-forecasting-bc0730973c0a?source=collection_archive---------1-----------------------#2023-11-10)
- en: Explore the Depths of Buy-till-You-Die (BTYD) Modeling and Practical Coding
    Techniques
  id: totrans-2
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 探索**买到死（BTYD）**建模的深度及实际编码技巧
- en: '[](https://medium.com/@hajime.takeda?source=post_page-----bc0730973c0a--------------------------------)[![Hajime
    Takeda](../Images/42ffd8c9416240fa43773817e76a55fa.png)](https://medium.com/@hajime.takeda?source=post_page-----bc0730973c0a--------------------------------)[](https://towardsdatascience.com/?source=post_page-----bc0730973c0a--------------------------------)[![Towards
    Data Science](../Images/a6ff2676ffcc0c7aad8aaf1d79379785.png)](https://towardsdatascience.com/?source=post_page-----bc0730973c0a--------------------------------)
    [Hajime Takeda](https://medium.com/@hajime.takeda?source=post_page-----bc0730973c0a--------------------------------)'
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: '[](https://medium.com/@hajime.takeda?source=post_page-----bc0730973c0a--------------------------------)[![Hajime
    Takeda](../Images/42ffd8c9416240fa43773817e76a55fa.png)](https://medium.com/@hajime.takeda?source=post_page-----bc0730973c0a--------------------------------)[](https://towardsdatascience.com/?source=post_page-----bc0730973c0a--------------------------------)[![Towards
    Data Science](../Images/a6ff2676ffcc0c7aad8aaf1d79379785.png)](https://towardsdatascience.com/?source=post_page-----bc0730973c0a--------------------------------)
    [Hajime Takeda](https://medium.com/@hajime.takeda?source=post_page-----bc0730973c0a--------------------------------)'
- en: ·
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: ·
- en: '[Follow](https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F6d7012b72e49&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpymc-marketing-the-key-to-advanced-clv-customer-lifetime-value-forecasting-bc0730973c0a&user=Hajime+Takeda&userId=6d7012b72e49&source=post_page-6d7012b72e49----bc0730973c0a---------------------post_header-----------)
    Published in [Towards Data Science](https://towardsdatascience.com/?source=post_page-----bc0730973c0a--------------------------------)
    ·15 min read·Nov 10, 2023[](https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fbc0730973c0a&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpymc-marketing-the-key-to-advanced-clv-customer-lifetime-value-forecasting-bc0730973c0a&user=Hajime+Takeda&userId=6d7012b72e49&source=-----bc0730973c0a---------------------clap_footer-----------)'
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: '[关注](https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F6d7012b72e49&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpymc-marketing-the-key-to-advanced-clv-customer-lifetime-value-forecasting-bc0730973c0a&user=Hajime+Takeda&userId=6d7012b72e49&source=post_page-6d7012b72e49----bc0730973c0a---------------------post_header-----------)
    发布于 [Towards Data Science](https://towardsdatascience.com/?source=post_page-----bc0730973c0a--------------------------------)
    · 15 min 阅读 · 2023年11月10日[](https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fbc0730973c0a&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpymc-marketing-the-key-to-advanced-clv-customer-lifetime-value-forecasting-bc0730973c0a&user=Hajime+Takeda&userId=6d7012b72e49&source=-----bc0730973c0a---------------------clap_footer-----------)'
- en: --
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: --
- en: '[](https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fbc0730973c0a&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpymc-marketing-the-key-to-advanced-clv-customer-lifetime-value-forecasting-bc0730973c0a&source=-----bc0730973c0a---------------------bookmark_footer-----------)![](../Images/911c8fd8f93c5e4448f5294fe42fabe9.png)'
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: '[](https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fbc0730973c0a&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fpymc-marketing-the-key-to-advanced-clv-customer-lifetime-value-forecasting-bc0730973c0a&source=-----bc0730973c0a---------------------bookmark_footer-----------)![](../Images/911c8fd8f93c5e4448f5294fe42fabe9.png)'
- en: Photo by [Boxed Water Is Better](https://unsplash.com/@boxedwater?utm_source=medium&utm_medium=referral)
    on [Unsplash](https://unsplash.com/?utm_source=medium&utm_medium=referral)
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: 图片由 [Boxed Water Is Better](https://unsplash.com/@boxedwater?utm_source=medium&utm_medium=referral)
    提供，发布于 [Unsplash](https://unsplash.com/?utm_source=medium&utm_medium=referral)
- en: '**TL; DR:** The Customer Lifetime Value (CLV) model is a key technique in customer
    analytics which help companies identify who valuable customers are. Neglecting
    CLV can lead to overinvestment in short-term customers who may only make a single
    purchase. ‘Buy Till You Die’ modeling, which utilizes the BG/NBD and Gamma-Gamma
    models, can estimate CLV. Although the best practices vary depending on data size
    and modeling priorities, [PyMC-Marketing](https://github.com/pymc-labs/pymc-marketing)
    is a recommended Python library for those looking to quickly implement CLV modeling.'
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: '**TL; DR：** 客户生命周期价值（CLV）模型是客户分析中的关键技术，有助于公司识别出哪些是有价值的客户。忽视CLV可能导致对短期客户过度投资，这些客户可能只会进行一次购买。‘Buy
    Till You Die’建模，利用BG/NBD和Gamma-Gamma模型，可以估算CLV。尽管最佳实践因数据规模和建模优先级而异，[PyMC-Marketing](https://github.com/pymc-labs/pymc-marketing)
    是推荐的Python库，适合那些希望快速实现CLV建模的人。'
- en: For those eager to dive straight into the sample code, please refer to my [GitHub
    repository](https://github.com/takechanman1228/Effective-CLV-Modeling/blob/main/PyMC_Marketing_CLV_demo.ipynb).
    I’d be thrilled if you could leave a star!
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: 对于那些急于直接查看示例代码的人，请参考我的[GitHub仓库](https://github.com/takechanman1228/Effective-CLV-Modeling/blob/main/PyMC_Marketing_CLV_demo.ipynb)。如果你能留下一个星标，我将非常高兴！
- en: '[](https://github.com/takechanman1228/Effective-CLV-Modeling/tree/main?source=post_page-----bc0730973c0a--------------------------------)
    [## GitHub - takechanman1228/Effective-CLV-Modeling'
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: '[](https://github.com/takechanman1228/Effective-CLV-Modeling/tree/main?source=post_page-----bc0730973c0a--------------------------------)
    [## GitHub - takechanman1228/Effective-CLV-Modeling'
- en: Contribute to takechanman1228/Effective-CLV-Modeling development by creating
    an account on GitHub.
  id: totrans-12
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 通过在GitHub上创建账户来为takechanman1228/Effective-CLV-Modeling的发展做贡献。
- en: github.com](https://github.com/takechanman1228/Effective-CLV-Modeling/tree/main?source=post_page-----bc0730973c0a--------------------------------)
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: github.com](https://github.com/takechanman1228/Effective-CLV-Modeling/tree/main?source=post_page-----bc0730973c0a--------------------------------)
- en: 1\. What is CLV?
  id: totrans-14
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 1\. 什么是CLV？
- en: '**The definition of CLV is the total net revenue a company can expect from
    a single customer throughout their relationship.** Some of you might be more familiar
    with the term ‘LTV’ (Lifetime Value). Yes, CLV and LTV are interchangeable.'
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: '**CLV的定义是公司在客户整个关系期间可以期望获得的总净收入。** 你们中的一些人可能更熟悉‘LTV’（生命周期价值）这个术语。是的，CLV和LTV是可以互换的。'
- en: '![](../Images/a087a3d1f6f110149bfe94b51f0a7e31.png)'
  id: totrans-16
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/a087a3d1f6f110149bfe94b51f0a7e31.png)'
- en: Image by Author
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: 图片由作者提供
- en: The first goal is to calculate and predict future CLV, which will help you find
    out how much money can be expected from each customer.
  id: totrans-18
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 第一个目标是计算和预测未来的CLV，这将帮助你了解每个客户能带来多少预期收入。
- en: The second objective is to identify profitable customers. The model will tell
    you who those valuable customers are by analyzing the characteristics of the high
    CLV customers.
  id: totrans-19
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 第二个目标是识别盈利客户。模型将通过分析高CLV客户的特征来告诉你这些有价值的客户是谁。
- en: The third goal is to take marketing actions based on the analysis and from there,
    you will be able to optimize your marketing budget allocation accordingly.
  id: totrans-20
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 第三个目标是根据分析采取营销行动，从而优化你的营销预算分配。
- en: '![](../Images/d7a027532b930fc16aecb49dc06a9865.png)'
  id: totrans-21
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/d7a027532b930fc16aecb49dc06a9865.png)'
- en: Image by Author
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: 图片由作者提供
- en: 2\. Business Context
  id: totrans-23
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 2\. 业务背景
- en: Let’s take the e-commerce site of a fashion brand like Nike, for example, which
    might use advertisements and coupons to attract new customers. Now, let’s assume
    that college students and working professionals are two major important customer
    segments. For first-time purchases, the company spends $10 on advertising for
    college students and $20 for working professionals. And both segments make purchases
    worth around $100.
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 以像Nike这样的时尚品牌的电子商务网站为例，该网站可能会利用广告和优惠券来吸引新客户。现在，假设大学生和在职专业人士是两个主要的重要客户群体。对于首次购买，公司在大学生身上花费了$10的广告费，在在职专业人士身上花费了$20。两者的购买金额都在$100左右。
- en: If you were in charge of marketing, which segment would you want to invest more
    in? You might naturally think it’s more logical to invest more in the college
    students segment, considering their lower cost and higher ROI.
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你负责营销，你会更愿意在哪个细分市场上投入更多？你可能会自然地认为，考虑到大学生的较低成本和较高的投资回报率，将更多资金投入大学生市场是更有逻辑的。
- en: '![](../Images/b2d5573d2b3a26a22b53a494f2efcbbe.png)'
  id: totrans-26
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/b2d5573d2b3a26a22b53a494f2efcbbe.png)'
- en: Image by author, with photos used from Pixabay
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: 图片由作者提供，照片来自Pixabay
- en: So, what if you knew this information?
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: 那么，如果你知道了这些信息会怎样呢？
- en: The college student segment tends to have a high churn rate, meaning they don’t
    purchase anymore after that one purchase, resulting in $100 being spent on average.
    On the other hand, the working professionals segment has a higher rate of repeat
    purchases, resulting in an average of $400 per customer.
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: 大学生细分市场往往有较高的流失率，这意味着他们在首次购买后不会再购买，导致平均每位顾客花费 $100。另一方面，工作专业人士细分市场的重复购买率较高，每位顾客平均花费
    $400。
- en: In that case, you would likely prefer to invest more in the business professionals
    segment, as it promises a higher ROI. This may seem like a simple thing that anyone
    can understand. However, surprisingly, most marketing people are focused on achieving
    the Cost Per Acquisition (CPA), but they are not considering who the profitable
    customers are in the long run.
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: 在这种情况下，你可能更愿意将更多资源投入到商务专业人士的细分市场，因为它承诺更高的投资回报率。这看起来是一个简单的概念，任何人都可以理解。然而，令人惊讶的是，大多数营销人员专注于实现每次获取成本（CPA），但他们没有考虑到长期内盈利的顾客是谁。
- en: '![](../Images/ff1f97ad3e16294afb7a08e9b97d555c.png)'
  id: totrans-31
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/ff1f97ad3e16294afb7a08e9b97d555c.png)'
- en: Image by author, with photos used from Pixabay
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: 图片由作者提供，照片来自Pixabay
- en: By adjusting the “cost per acquisition”, CPA, we can attract more high-value
    customers and improve our ROI. This graph on the left represents the approach
    without considering CLV. The red line represents CPA.’ , which is the maximum
    cost we can spend to get a new customer. Using the same marketing budget for every
    customer leads to overinvestment in low-value customers and underinvestment in
    high-value customers.
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: 通过调整“每次获取成本”（CPA），我们可以吸引更多高价值顾客并改善投资回报率。左侧的图表表示没有考虑 CLV 的方法。红线表示 CPA，即我们可以花费的最大成本来获取新顾客。对每位顾客使用相同的营销预算会导致对低价值顾客的过度投资和对高价值顾客的投资不足。
- en: Now, the graph on the right side shows the ideal spending allocation when utilizing
    CLV. We set a higher CPA for high-value customers, and a lower CPA for low-value
    customers.
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，右侧的图表显示了利用 CLV 时的理想支出分配。我们为高价值顾客设置了更高的 CPA，为低价值顾客设置了更低的 CPA。
- en: '![](../Images/1ce5265ad118b6a8775d95eb1bd56cb7.png)'
  id: totrans-35
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/1ce5265ad118b6a8775d95eb1bd56cb7.png)'
- en: Image by author, with photos used from Pixabay
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: 图片由作者提供，照片来自Pixabay
- en: It’s similar to the hiring process. If you aim to hire ex-Goolers, offering
    a competitive salary is essential, right? By doing this, we can acquire more high-value
    customers without changing the total marketing budget.
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: 这类似于招聘过程。如果你打算招聘前谷歌员工，提供具有竞争力的薪水是必要的，对吧？通过这样做，我们可以在不改变总营销预算的情况下获得更多高价值顾客。
- en: 3\. Required Data
  id: totrans-38
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 3\. 所需数据
- en: 'The CLV model I’m introducing only uses sales transaction data. As you can
    see, we have threedata columns: customer_id, transaction date, and transaction
    value. In terms of data volume, CLVs typically require two to three years of transaction
    data.'
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: 我介绍的 CLV 模型仅使用销售交易数据。正如你所见，我们有三列数据：customer_id、交易日期和交易金额。在数据量方面，CLV 通常需要两到三年的交易数据。
- en: '![](../Images/e21fa6fa3331c5c080bc6f6dad3dce88.png)'
  id: totrans-40
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/e21fa6fa3331c5c080bc6f6dad3dce88.png)'
- en: Image by Author
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: 图片由作者提供
- en: 4\. Traditional CLV Formula
  id: totrans-42
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 4\. 传统 CLV 公式
- en: '**4.1 Approaches for CLV Modeling**'
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: '**4.1 CLV 建模方法**'
- en: 'Let’s start by understanding the two broad types to calculate CLV: the Historical
    Approach and the Predictive Approach. Under the Predictive approach, there are
    two models. The Probabilistic Model and the Machine Learning Models.'
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们从了解计算 CLV 的两种主要方法开始：历史方法和预测方法。在预测方法下，有两种模型。即概率模型和机器学习模型。
- en: '![](../Images/a6ff97d19373dc0e4c83be5a02e70694.png)'
  id: totrans-45
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/a6ff97d19373dc0e4c83be5a02e70694.png)'
- en: Image by Author
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: 图片由作者提供
- en: '**4.2 Traditional CLV Formula**'
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: '**4.2 传统 CLV 公式**'
- en: 'First, let’s start by considering a traditional CLV formula. Here, CLV can
    be broken down into three components. : Average order value, Purchase Frequency,
    and Customer lifespan.'
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: 首先，让我们考虑一个传统的 CLV 公式。在这里，CLV 可以分解为三个组成部分：平均订单价值、购买频率和顾客生命周期。
- en: '![](../Images/c53d565bec6b3c835317311da0d8e329.png)'
  id: totrans-49
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/c53d565bec6b3c835317311da0d8e329.png)'
- en: Image by Author
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: 图片由作者提供
- en: 'Let’s consider a fashion company for example, on average:'
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: 以一家时尚公司为例，平均来看：
- en: Customers spend $100 per order
  id: totrans-52
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 顾客每次订单消费 $100
- en: They shop 4 times per year
  id: totrans-53
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 他们每年购物 4 次
- en: They stay loyal for 3 years
  id: totrans-54
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 他们保持忠诚度达 3 年
- en: In this case, the CLV is calculated as 100 times 4 times 3, which equals $1,200
    per customer. This Formula is very simple and looks straightforward, right? However,
    there are some limitations.
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: 在这种情况下，CLV 的计算公式为 100 乘以 4 乘以 3，即每位顾客 $1,200。这个公式非常简单，看起来很直接，对吧？然而，它也有一些局限性。
- en: '**4.3 Limitations of Traditional CLV Formula**'
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: '**4.3 传统 CLV 公式的限制**'
- en: '![](../Images/748db88585c29f5c086b9aaaaee0899b.png)'
  id: totrans-57
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/748db88585c29f5c086b9aaaaee0899b.png)'
- en: Image by Author
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: 作者提供的图片
- en: '**Limitation #1: Not All Customers Are The Same**'
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: '**限制 #1: 并非所有顾客都一样**'
- en: This traditional formula assumes that all customers are homogenous by assigning
    one average number. When some customers make exceptionally large purchases, the
    average doesn’t represent the characteristics of all customers. Therefore, instead
    of aggregating everyone together, we need to do modeling at the individual level.
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: 这个传统公式假设所有顾客都是同质的，通过分配一个平均数来表示。当一些顾客进行异常大的购买时，平均数并不能代表所有顾客的特点。因此，我们需要在个体层面上进行建模，而不是将所有人聚合在一起。
- en: '**Limitation #2 : Differences in First Purchase Timing**'
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: '**限制 #2 : 首次购买时间的差异**'
- en: Let’s say, we use the last 12 months as our data collection period.
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: 假设我们使用过去12个月作为数据收集周期。
- en: '![](../Images/cd1e21953f9a99f1c7d44fa6d4b6ebb8.png)'
  id: totrans-63
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/cd1e21953f9a99f1c7d44fa6d4b6ebb8.png)'
- en: Image by author, with photos used from Pixabay
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: 作者提供的图片，图片来源于 Pixabay
- en: This man made his first purchase about a year ago. In this case, we can accurately
    calculate his purchase frequency per year. It’s 8.
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: 这个人大约在一年前进行了第一次购买。在这种情况下，我们可以准确计算他每年的购买频率。是8次。
- en: How about two customers? One started purchasing 6 months ago, and the other
    began 3 months ago. Everyone has been buying at the same pace. However, when we
    look at the total number of purchases over the past year, they differ. The key
    point here is we need to consider the tenure of the customer, meaning the duration
    since they made their first purchase.
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: 那两个顾客怎么样？一个人六个月前开始购买，另一个人三个月前开始购买。他们的购买节奏相同。然而，当我们查看过去一年的总购买次数时，它们有所不同。关键是我们需要考虑顾客的任期，即自第一次购买以来的时间长度。
- en: '**Limitation #3 : Dead or Alive?**'
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: '**限制 #3 : 活着还是死亡？**'
- en: Determining when a customer is considered “churned” is tricky. For subscription
    services like Netflix, we can consider a customer to have churned once they unsubscribe.
    However, in the case of retail or E-commerce, whether a customer is ‘Alive’ or
    ‘Dead’ is ambiguous.
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: 确定顾客何时被视为“流失”是很棘手的。对于像 Netflix 这样的订阅服务，我们可以认为顾客一旦取消订阅就已经流失。然而，对于零售或电子商务来说，顾客是否“活着”或“死亡”是模糊的。
- en: A customer’s ‘Probability of Being Alive’ depends on their past purchasing patterns.
    For example, if someone who normally buys every month doesn’t make a purchase
    in the next three months, they might switch to a different brand. However, there’s
    no need to worry if a person who typically shops only once every six months doesn’t
    buy anything in the next three months.
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: 顾客的“存活概率”取决于他们过去的购买模式。例如，如果一个通常每月购买的人在接下来的三个月内没有购买，他们可能会转向其他品牌。然而，如果一个通常每六个月购买一次的人在接下来的三个月内没有购买，也不必担心。
- en: '![](../Images/3dba306eb464405b6803a778c9576f3a.png)'
  id: totrans-70
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/3dba306eb464405b6803a778c9576f3a.png)'
- en: Image by author, with photos used from Pixabay
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: 作者提供的图片，图片来源于 Pixabay
- en: 5\. **Buy-Till-You-Die (BTYD) Model**
  id: totrans-72
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 5\. **买到死（BTYD）模型**
- en: 'To address these challenges, we often turn to [‘Buy Till You Die’ (BTYD) modeling](https://en.wikipedia.org/wiki/Buy_Till_you_Die).
    This approach comprises two sub-models:'
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: 为了应对这些挑战，我们通常转向[“买到死”（BTYD）建模](https://en.wikipedia.org/wiki/Buy_Till_you_Die)。这种方法包括两个子模型：
- en: BG-NBD model:This predicts the likelihood of a customer being active and their
    transaction frequency.
  id: totrans-74
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: BG-NBD 模型：预测顾客活跃的可能性及其交易频率。
- en: 'Gamma-Gamma model: This estimates the average order value.'
  id: totrans-75
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: Gamma-Gamma 模型：估计平均订单值。
- en: By combining the results from these sub-models, we can effectively forecast
    the Customer Lifetime Value (CLV).
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: 通过结合这些子模型的结果，我们可以有效预测顾客终身价值（CLV）。
- en: '![](../Images/4d74137dd9e592c1ab0a3af3c37ea317.png)'
  id: totrans-77
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/4d74137dd9e592c1ab0a3af3c37ea317.png)'
- en: Image by Author
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: 作者提供的图片
- en: '**5.1 BG/NBD model**'
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
  zh: '**5.1 BG/NBD 模型**'
- en: 'We believe that there are two processes in the customer’s status: the ‘Purchase
    Process,’ where customers are actively buying, and the ‘Dropout Process,’ where
    customers have stopped purchasing.'
  id: totrans-80
  prefs: []
  type: TYPE_NORMAL
  zh: 我们认为顾客的状态有两个过程：“购买过程”，即顾客正在积极购买，以及“流失过程”，即顾客停止了购买。
- en: During the Active Purchasing Phase, the model forecasts the customer’s purchase
    frequency with the “Poisson process”.
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: 在活跃购买阶段，模型通过“泊松过程”预测顾客的购买频率。
- en: There’s always a chance that a customer might drop out after each purchase.
    The BG/NBD model assigns a probability ‘p’ to this possibility.
  id: totrans-82
  prefs: []
  type: TYPE_NORMAL
  zh: 顾客在每次购买后总有可能流失。BG/NBD 模型为这种可能性分配一个概率‘p’。
- en: Consider the image below for illustration. The data indicates this customer
    made five purchases. However, under the assumption, the model thinks that if the
    customer had remained active, they would have made eight purchases in total. But,
    because the probability of being alive dropped at some point, we only see five
    actual purchases.
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/589a40c0d68cf1d19f03d9f03f27359e.png)'
  id: totrans-84
  prefs: []
  type: TYPE_IMG
- en: Image by Author
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
- en: The purchase frequency follows a Poisson process while they are considered ‘active’.
    The Poisson distribution typically represents the count of randomly occurring
    events. Here, ‘λ’ symbolizes the purchase frequency for each customer. However,
    the customer’s purchase frequency can fluctuate. The Poisson distribution accounts
    for such variability in purchase frequency.
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/fd0ddbecf6cef9adccef94e7042f4c00.png)'
  id: totrans-87
  prefs: []
  type: TYPE_IMG
- en: Image by Author; Graph sourced from Wikipedia
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
- en: The graph below illustrates how ‘p’ changes over time. As the time since the
    last purchase increases (T=31), the probability of a customer being ‘alive’ decreases.
    When a repurchase occurs (around T=36), you’ll notice that ‘p’ increases once
    again.
  id: totrans-89
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/8e1c21c76bf8e21d0d251380c7610b25.png)'
  id: totrans-90
  prefs: []
  type: TYPE_IMG
- en: Image by Author
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
- en: This is the graphical model. As mentioned earlier, it includes lambda (λ) and
    p. Here, λ and p vary from person to person. To account for this diversity, we
    assume that heterogeneity in λ follows a gamma distribution and Heterogeneity
    in p follows a “beta distribution. In other words, this model uses a layered approach
    informed by Bayes’ theorem, which is also called Bayesian hierarchical modeling.
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/e28328bbafd56a1495c9c256fa0a12de.png)'
  id: totrans-93
  prefs: []
  type: TYPE_IMG
- en: Image by Author
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
- en: 'For a detailed derivation of the formulas, please refer to this paper: [https://www.brucehardie.com/papers/bgnbd_2004-04-20.pdf](https://www.brucehardie.com/papers/bgnbd_2004-04-20.pdf)'
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
- en: '**5.2 Gamma-Gamma model**'
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
- en: 'The gamma distribution is ideal for modeling Average Order Value because it
    naturally accounts for the continuous and strictly positive nature of spend data,
    which tends to be right-skewed. The Gamma Distribution is shaped by two parameters:
    the shape parameter and the scale parameter. As this graph shows, the form of
    the Gamma distribution can change quite a bit by changing these two parameters.'
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/c35786954801dafebc941d8e0903a27e.png)'
  id: totrans-98
  prefs: []
  type: TYPE_IMG
- en: Image by Author; Graph sourced from Wikipedia
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
- en: This diagram illustrates the graphical model in use. The model employs two Gamma
    distributions within a Bayesian hierarchical approach. The first Gamma distribution
    represents the “average order value” for each customer. Since this value differs
    among customers, the second Gamma distribution captures the variation in average
    order value across the entire customer base. The parameters p, q, and γ (gamma)
    for the prior distributions are determined by using Half-flat priors.
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/1f4c2584fe48a9f2541d99d7c575af08.png)'
  id: totrans-101
  prefs: []
  type: TYPE_IMG
- en: Image by Author
  id: totrans-102
  prefs: []
  type: TYPE_NORMAL
- en: 'For a detailed derivation of the formulas, please refer to this paper: [https://www.brucehardie.com/notes/025/gamma_gamma.pdf](https://www.brucehardie.com/notes/025/gamma_gamma.pdf)'
  id: totrans-103
  prefs: []
  type: TYPE_NORMAL
  zh: 有关公式的详细推导，请参考这篇论文：[https://www.brucehardie.com/notes/025/gamma_gamma.pdf](https://www.brucehardie.com/notes/025/gamma_gamma.pdf)
- en: 6\. Sample Code
  id: totrans-104
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 6\. 示例代码
- en: '**Useful CLV libraries**'
  id: totrans-105
  prefs: []
  type: TYPE_NORMAL
  zh: '**有用的 CLV 库**'
- en: Here, let me introduce two great OSS libraries for CLV modeling. The first one
    is PyMC-Marketing and the second is CLVTools. Both libraries incorporate Buy-till-you-die
    modeling. The most significant difference is that PyMC-Marketing is a Python-based
    library, while CLVTools is R-based. PyMC-Marketing is built on PyMC, a popular
    Bayesian library. Previously, there was a well-known library called ‘Lifetimes’.
    However, ‘Lifetimes’ is now in maintenance mode, so it has transitioned into a
    PyMC-Marketing.
  id: totrans-106
  prefs: []
  type: TYPE_NORMAL
  zh: 这里，我想介绍两个用于 CLV 建模的优秀 OSS 库。第一个是 PyMC-Marketing，第二个是 CLVTools。这两个库都包含 Buy-till-you-die
    模型。最显著的区别在于，PyMC-Marketing 是一个基于 Python 的库，而 CLVTools 是基于 R 的。PyMC-Marketing 是建立在流行的贝叶斯库
    PyMC 上的。之前有一个知名的库叫做 ‘Lifetimes’，但 ‘Lifetimes’ 现在已经进入维护模式，因此它已经转变为 PyMC-Marketing。
- en: '**Full code**'
  id: totrans-107
  prefs: []
  type: TYPE_NORMAL
  zh: '**完整代码**'
- en: The full code can be found on my Github below. My sample code is based on yMC-Marketing’s
    official quick start.
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
  zh: 完整代码可以在我的 Github 上找到。我的示例代码基于 yMC-Marketing 的官方快速入门指南。
- en: '[](https://github.com/takechanman1228/Effective-CLV-Modeling?source=post_page-----bc0730973c0a--------------------------------)
    [## GitHub - takechanman1228/Effective-CLV-Modeling'
  id: totrans-109
  prefs: []
  type: TYPE_NORMAL
  zh: '[## GitHub - takechanman1228/Effective-CLV-Modeling](https://github.com/takechanman1228/Effective-CLV-Modeling?source=post_page-----bc0730973c0a--------------------------------)'
- en: Contribute to takechanman1228/Effective-CLV-Modeling development by creating
    an account on GitHub.
  id: totrans-110
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 通过在 GitHub 上创建帐户来为 takechanman1228/Effective-CLV-Modeling 开发做出贡献。
- en: github.com](https://github.com/takechanman1228/Effective-CLV-Modeling?source=post_page-----bc0730973c0a--------------------------------)
  id: totrans-111
  prefs: []
  type: TYPE_NORMAL
  zh: '[github.com](https://github.com/takechanman1228/Effective-CLV-Modeling?source=post_page-----bc0730973c0a--------------------------------)'
- en: '**Code Walkthrough**'
  id: totrans-112
  prefs: []
  type: TYPE_NORMAL
  zh: '**代码讲解**'
- en: First, you will need to import pymc_marketing and other libraries.
  id: totrans-113
  prefs: []
  type: TYPE_NORMAL
  zh: 首先，你需要导入 pymc_marketing 和其他库。
- en: '[PRE0]'
  id: totrans-114
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: You will need to download the [“Online Retail Dataset” from the “UCI Machine
    Learning Repository”](https://archive.ics.uci.edu/dataset/352/online+retail).
    This dataset contains transactional data from a UK-based online retailer and is
    licensed under a Creative Commons Attribution 4.0 International (CC BY 4.0) license.
  id: totrans-115
  prefs: []
  type: TYPE_NORMAL
  zh: 你需要下载 [“在线零售数据集”来自 “UCI 机器学习库”](https://archive.ics.uci.edu/dataset/352/online+retail)。该数据集包含来自一家总部位于英国的在线零售商的交易数据，并且是根据创作共享署名
    4.0 国际（CC BY 4.0）许可授权的。
- en: '[PRE1]'
  id: totrans-116
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: '![](../Images/805019ed21336f546a08b99f8f7463a1.png)'
  id: totrans-117
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/805019ed21336f546a08b99f8f7463a1.png)'
- en: '**Data Cleansing**'
  id: totrans-118
  prefs: []
  type: TYPE_NORMAL
  zh: '**数据清理**'
- en: A quick data cleansing is needed. For instance, we need to handle return orders,
    filter out records without a customer ID, and create a ‘total sales’ column by
    multiplying the quantity and unit price together.
  id: totrans-119
  prefs: []
  type: TYPE_NORMAL
  zh: 需要进行快速数据清理。例如，我们需要处理退货订单，筛选出没有客户 ID 的记录，并通过将数量和单价相乘来创建一个 ‘总销售额’ 列。
- en: '[PRE2]'
  id: totrans-120
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: '![](../Images/83830ea13d626064fdf07893f32a7b64.png)'
  id: totrans-121
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/83830ea13d626064fdf07893f32a7b64.png)'
- en: Image by Author
  id: totrans-122
  prefs: []
  type: TYPE_NORMAL
  zh: 作者提供的图片
- en: Then, we need to create a summary table using this ‘clv_summary’ function. The
    function returns the dataframe in an RFM-T format. RFM-T means Recency, Frequency,
    Monetary, and Tenure of each customer. These metrics are popular in shopper analysis.
  id: totrans-123
  prefs: []
  type: TYPE_NORMAL
  zh: 然后，我们需要使用 ‘clv_summary’ 函数创建一个摘要表。该函数返回一个 RFM-T 格式的数据框。RFM-T 代表每个客户的近期性、频率、货币量和在职时间。这些指标在购物者分析中很受欢迎。
- en: '[PRE3]'
  id: totrans-124
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: '![](../Images/5f4aa39e85182f00572b99583822652b.png)'
  id: totrans-125
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/5f4aa39e85182f00572b99583822652b.png)'
- en: '**BG/NBD model**'
  id: totrans-126
  prefs: []
  type: TYPE_NORMAL
  zh: '**BG/NBD 模型**'
- en: The BG/NBD model is available as a BetaGeoModel function in this library. When
    you execute bgm.fit(), your model begins the training.
  id: totrans-127
  prefs: []
  type: TYPE_NORMAL
  zh: BG/NBD 模型在这个库中作为 BetaGeoModel 函数提供。当你执行 `bgm.fit()` 时，你的模型开始训练。
- en: When you execute bgm.fit_summary(), the system provides a statistical summary
    of the learning process. For example, this table shows the mean, standard deviation,
    High-Density Interval, HDI for short, etc. for the parameters. We can also check
    r_hat value, which helps assess whether a Markov Chain Monte Carlo (MCMC) simulation
    has converged. R-hat is considered acceptable if it’s 1.1 or less.
  id: totrans-128
  prefs: []
  type: TYPE_NORMAL
  zh: 当你执行 `bgm.fit_summary()` 时，系统会提供学习过程的统计摘要。例如，这个表格显示了参数的均值、标准差、高密度区间（HDI）等。我们还可以检查
    r_hat 值，这有助于评估 Markov Chain Monte Carlo (MCMC) 模拟是否已经收敛。如果 r-hat 小于或等于 1.1，则认为是可接受的。
- en: '[PRE4]'
  id: totrans-129
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: '![](../Images/afce79c5a5316b732e87c915fd29ae3d.png)'
  id: totrans-130
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/afce79c5a5316b732e87c915fd29ae3d.png)'
- en: 'The matrix below is called the Probability Alive Matrix. With this, we can
    infer users who are likely to return and those who are unlikely to return. The
    X-axis represents the customer’s historical purchase frequency and the y-axis
    represents the customers’ recency. The color shows the probability of being alive.
    Our new customers are in the bottom-left corner: Low frequency and high recency.
    Those customers have a high probability of being alive. Our loyal customers are
    those on the bottom-right: High-frequency and High-recency customers. If they
    don’t purchase for a long time, loyal customers become at-risk customers, which
    have low probability of being alive.'
  id: totrans-131
  prefs: []
  type: TYPE_NORMAL
  zh: 下面的矩阵被称为概率存活矩阵。通过这个矩阵，我们可以推断哪些用户可能会返回，哪些用户可能不会返回。X轴表示客户的历史购买频率，Y轴表示客户的最近一次购买时间。颜色表示存活的概率。我们的新客户位于左下角：低频率和高最近性。这些客户的存活概率较高。我们的忠实客户位于右下角：高频率和高最近性客户。如果他们长时间没有购买，忠实客户将成为高风险客户，其存活概率较低。
- en: '[PRE5]'
  id: totrans-132
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: '![](../Images/b3e29e13012ac77d73a7d1a12c31e6a4.png)'
  id: totrans-133
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/b3e29e13012ac77d73a7d1a12c31e6a4.png)'
- en: Image by Author
  id: totrans-134
  prefs: []
  type: TYPE_NORMAL
  zh: 作者提供的图片
- en: The next thing we can do is to predict the future transactions for each customer.
    You can use the expected_num_purchases function. Having fit the model, we can
    ask what is the expected number of purchases in the next period.
  id: totrans-135
  prefs: []
  type: TYPE_NORMAL
  zh: 下一步，我们可以预测每个客户的未来交易。你可以使用`expected_num_purchases`函数。在模型拟合之后，我们可以询问下一期间预期的购买次数。
- en: '[PRE6]'
  id: totrans-136
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: '![](../Images/7ba8489861c0c8c150165770b839dc5a.png)'
  id: totrans-137
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/7ba8489861c0c8c150165770b839dc5a.png)'
- en: '**Gamma-Gamma model**'
  id: totrans-138
  prefs: []
  type: TYPE_NORMAL
  zh: '**Gamma-Gamma模型**'
- en: Next, we will move on to the Gamma-Gamma model to predict the average order
    value. We can predict the expected “average order value” with ‘Expected_customer_spend’
    function.
  id: totrans-139
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，我们将转到Gamma-Gamma模型来预测平均订单值。我们可以通过`Expected_customer_spend`函数预测预期的“平均订单值”。
- en: '[PRE7]'
  id: totrans-140
  prefs: []
  type: TYPE_PRE
  zh: '[PRE7]'
- en: The graph below shows the expected average order value of 5 customers. The average
    order value of these two customers is more than $500, while the average order
    value of these three customers is around $350.
  id: totrans-141
  prefs: []
  type: TYPE_NORMAL
  zh: 下面的图表显示了5个客户的预期平均订单值。这两位客户的平均订单值超过$500，而这三位客户的平均订单值约为$350。
- en: '[PRE8]'
  id: totrans-142
  prefs: []
  type: TYPE_PRE
  zh: '[PRE8]'
- en: '![](../Images/05bd826e68482b82c88a33692f70105a.png)'
  id: totrans-143
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/05bd826e68482b82c88a33692f70105a.png)'
- en: Image by Author
  id: totrans-144
  prefs: []
  type: TYPE_NORMAL
  zh: 作者提供的图片
- en: '**Outcomes**'
  id: totrans-145
  prefs: []
  type: TYPE_NORMAL
  zh: '**结果**'
- en: 'Finally, we can combine two sub-models to estimate the CLV of each customer.
    One thing I want to mention here is the parameter: Discount_rate. This function
    uses the DCF method, short for “discounted cash flow.” When a monthly discount
    rate is 1%, $100 in one month is worth $99 today.'
  id: totrans-146
  prefs: []
  type: TYPE_NORMAL
  zh: 最后，我们可以结合两个子模型来估算每个客户的CLV。我想提到的一点是参数：**Discount_rate**。该函数使用折现现金流（DCF）方法。当月折现率为1%时，一个月后的$100在今天的价值是$99。
- en: '[PRE9]'
  id: totrans-147
  prefs: []
  type: TYPE_PRE
  zh: '[PRE9]'
- en: Now, I am going to show you how we can improve our marketing actions. The graph
    below shows an estimated CLV by Country.
  id: totrans-148
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，我将向你展示如何改进我们的营销行动。下面的图表显示了按国家估算的CLV。
- en: '[PRE10]'
  id: totrans-149
  prefs: []
  type: TYPE_PRE
  zh: '[PRE10]'
- en: '![](../Images/ab11faf31ba96af8fa215c012d66f245.png)'
  id: totrans-150
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/ab11faf31ba96af8fa215c012d66f245.png)'
- en: Image by Author
  id: totrans-151
  prefs: []
  type: TYPE_NORMAL
  zh: 作者提供的图片
- en: Customers in France tend to have a high CLV. On the other hand, customers in
    Belgium tend to have a lower CLV. From this output, I recommend increasing the
    marketing budget for acquiring customers in France and reducing the marketing
    budget for acquiring customers in Belgium. When we do the modeling with the U.S.-based
    data., we would use the states instead of the country.
  id: totrans-152
  prefs: []
  type: TYPE_NORMAL
  zh: 法国的客户通常拥有较高的CLV。另一方面，比利时的客户通常拥有较低的CLV。根据这个结果，我建议增加在法国获取客户的营销预算，并减少在比利时获取客户的营销预算。当我们用基于美国的数据进行建模时，我们会使用各州而不是国家。
- en: 7\. How can you improve the model’s accuracy?
  id: totrans-153
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 7\. 你如何提高模型的准确性？
- en: 'You might be wondering:'
  id: totrans-154
  prefs: []
  type: TYPE_NORMAL
  zh: 你可能会想知道：
- en: Can we utilize additional types of data, such as access logs?
  id: totrans-155
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 我们能否利用其他类型的数据，例如访问日志？
- en: Is it possible to incorporate more features like demographic information or
    marketing activity into the model?
  id: totrans-156
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 是否可以将更多特征，如人口统计信息或营销活动，纳入模型中？
- en: Basically, the BTYD model only requires transaction data. If you want to use
    other data or other features, an ML approach might be an option. After that, you
    can assess the performance of both Bayesian and ML models, choosing the one that
    offers better accuracy and interpretability.
  id: totrans-157
  prefs: []
  type: TYPE_NORMAL
  zh: 基本上，BTYD模型只需要交易数据。如果你想使用其他数据或其他特征，机器学习（ML）方法可能是一个选择。之后，你可以评估贝叶斯和ML模型的性能，选择准确性和解释性更好的模型。
- en: The flowchart below shows a guideline for better CLV modeling.
  id: totrans-158
  prefs: []
  type: TYPE_NORMAL
  zh: 下面的流程图展示了更好的CLV建模指南。
- en: '![](../Images/2be43fbfbc79f5cb3b79b28dc9baa14a.png)'
  id: totrans-159
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/2be43fbfbc79f5cb3b79b28dc9baa14a.png)'
- en: Image by Author
  id: totrans-160
  prefs: []
  type: TYPE_NORMAL
- en: First, consider your data size. If your data isn’t large enough or you only
    have transaction data, BTYD modeling using PyMC Marketing might be the best choice.
    Even though your data is large enough, I think a good approach is to start with
    a BTYD model and if it underperforms, try a different approach. Specifically,
    if your priority is accuracy over interpretability, neural networks, XGboost,
    LightGBM, or ensemble techniques could be beneficial. If interpretability is still
    important to you, consider methods like Random Forest or the explainable AI approach.
  id: totrans-161
  prefs: []
  type: TYPE_NORMAL
- en: In summary, I recommend starting with PyMC Marketing is a good first step in
    any case!
  id: totrans-162
  prefs: []
  type: TYPE_NORMAL
- en: 8\. Conclusion
  id: totrans-163
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Here are some key takeaways.
  id: totrans-164
  prefs: []
  type: TYPE_NORMAL
- en: Customer lifetime value (CLV) is the total net profit a company can expect from
    a single customer throughout their relationship.
  id: totrans-165
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: We can build a Probabilistic model (BTYD) using the BG/NBD model and the Gamma-Gamma
    model.
  id: totrans-166
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: If you are familiar with Python, PyMC-Marketing is where you can start.
  id: totrans-167
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Thank you for reading! If you have any questions/suggestions, feel free to contact
    me on [Linkedin](https://www.linkedin.com/in/hajime-takeda/)! Also, I would be
    happy if you follow me on Towards Data Science.
  id: totrans-168
  prefs: []
  type: TYPE_NORMAL
- en: 9\. Reference
  id: totrans-169
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: '**BG/NBD Model :** [https://www.brucehardie.com/papers/bgnbd_2004-04-20.pdf](https://www.brucehardie.com/papers/bgnbd_2004-04-20.pdf)'
  id: totrans-170
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Gamma-Gamma Model :** [https://www.brucehardie.com/notes/025/gamma_gamma.pdf](https://www.brucehardie.com/notes/025/gamma_gamma.pdf)'
  id: totrans-171
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**PyMC Marketing :** [https://github.com/pymc-labs/pymc-marketing](https://github.com/pymc-labs/pymc-marketing)'
  id: totrans-172
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Online Retail Dataset (**LicenseCC BY 4.0**)**[: https://archive.ics.uci.edu/dataset/352/online+retail](https://archive.ics.uci.edu/dataset/352/online+retail)'
  id: totrans-173
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
