- en: 4 Useful BigQuery SQL Functions You May Not Know
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 原文：[https://towardsdatascience.com/4-useful-bigquery-sql-functions-you-may-not-know-82e830d994ca?source=collection_archive---------2-----------------------#2023-01-26](https://towardsdatascience.com/4-useful-bigquery-sql-functions-you-may-not-know-82e830d994ca?source=collection_archive---------2-----------------------#2023-01-26)
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: And how to use them
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: '[](https://madfordata.medium.com/?source=post_page-----82e830d994ca--------------------------------)[![Vicky
    Yu](../Images/54a32f45ebd13a18811912877f60f2f7.png)](https://madfordata.medium.com/?source=post_page-----82e830d994ca--------------------------------)[](https://towardsdatascience.com/?source=post_page-----82e830d994ca--------------------------------)[![Towards
    Data Science](../Images/a6ff2676ffcc0c7aad8aaf1d79379785.png)](https://towardsdatascience.com/?source=post_page-----82e830d994ca--------------------------------)
    [Vicky Yu](https://madfordata.medium.com/?source=post_page-----82e830d994ca--------------------------------)'
  prefs: []
  type: TYPE_NORMAL
- en: ·
  prefs: []
  type: TYPE_NORMAL
- en: '[Follow](https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fcd08464b29cc&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2F4-useful-bigquery-sql-functions-you-may-not-know-82e830d994ca&user=Vicky+Yu&userId=cd08464b29cc&source=post_page-cd08464b29cc----82e830d994ca---------------------post_header-----------)
    Published in [Towards Data Science](https://towardsdatascience.com/?source=post_page-----82e830d994ca--------------------------------)
    ·4 min read·Jan 26, 2023[](https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F82e830d994ca&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2F4-useful-bigquery-sql-functions-you-may-not-know-82e830d994ca&user=Vicky+Yu&userId=cd08464b29cc&source=-----82e830d994ca---------------------clap_footer-----------)'
  prefs: []
  type: TYPE_NORMAL
- en: --
  prefs: []
  type: TYPE_NORMAL
- en: '[](https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F82e830d994ca&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2F4-useful-bigquery-sql-functions-you-may-not-know-82e830d994ca&source=-----82e830d994ca---------------------bookmark_footer-----------)![](../Images/1c2be453429ef62ac777a6d882068008.png)'
  prefs: []
  type: TYPE_NORMAL
- en: Photo by [Priscilla Du Preez](https://unsplash.com/@priscilladupreez?utm_source=medium&utm_medium=referral)
    on [Unsplash](https://unsplash.com/?utm_source=medium&utm_medium=referral)
  prefs: []
  type: TYPE_NORMAL
- en: As a long-time SQL user, I’m always looking for ways to make it easier to analyze
    data with SQL. In a previous article, I reviewed [6 BigQuery SQL functions](/6-bigquery-sql-functions-every-user-should-know-9ed97b1cf72e)
    I wish I had known earlier, and today I want to share 4 more functions I hope
    you’ll find useful.
  prefs: []
  type: TYPE_NORMAL
- en: 1\. PERCENTILE_CONT
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: '[PERCENTILE_CONT](https://cloud.google.com/bigquery/docs/reference/standard-sql/navigation_functions#percentile_cont)
    calculates the percentile from a column of values. BigQuery doesn’t have a **MEDIAN**
    function but you can use **PERCENTILE_CONT** to calculate the [median because
    it’s equivalent to the 50th percentile](https://www.statisticshowto.com/probability-and-statistics/percentiles-rank-range/).
    Calculating the median and percentiles is useful to get a sense of the distribution
    and determine outliers that may affect your analysis.'
  prefs: []
  type: TYPE_NORMAL
- en: In the example below, I have 6 numbers ( 1, 3, 5, 8, 10, and 1000 ) in an array
    that are expanded into rows using the **UNNEST** function. Row 4 calculates the
    median with 0.5 as the argument indicating the 50th percentile and row 5 uses
    0.95 to calculate the 95th percentile. Notice the results show the **95th percentile**
    is **752** while the **25th percentile** is **3.5** and the **median** is **6.5**.
    This indicates outliers may need to be removed for analysis because the differences
    are very large.
  prefs: []
  type: TYPE_NORMAL
