["```py\ncurl \"https://awscli.amazonaws.com/awscli-exe-linux-x86_64.zip\" -o \"awscliv2.zip\"\nsudo apt install unzip\nunzip awscliv2.zip\nsudo ./aws/install\n```", "```py\ncurl --silent --location \"https://github.com/weaveworks/eksctl/releases/latest/download/eksctl_$(uname -s)_amd64.tar.gz\" | tar xz -C /tmp\nsudo mv /tmp/eksctl /usr/local/bin\neksctl version\n```", "```py\ncurl -Lo aws-iam-authenticator https://github.com/kubernetes-sigs/aws-iam-authenticator/releases/download/v0.5.9/aws-iam-authenticator_0.5.9_linux_amd64\nchmod +x ./aws-iam-authenticator\nmkdir -p $HOME/bin && cp ./aws-iam-authenticator $HOME/bin/aws-iam-authenticator && export PATH=$PATH:$HOME/bin\necho 'export PATH=$PATH:$HOME/bin' >> ~/.bashrc\naws-iam-authenticator help\n```", "```py\ncurl -LO \"https://dl.k8s.io/release/$(curl -L -s https://dl.k8s.io/release/stable.txt)/bin/linux/amd64/kubectl\"\ncurl -LO \"https://dl.k8s.io/$(curl -L -s https://dl.k8s.io/release/stable.txt)/bin/linux/amd64/kubectl.sha256\"\necho \"$(cat kubectl.sha256)  kubectl\" | sha256sum --check\nsudo install -o root -g root -m 0755 kubectl /usr/local/bin/kubectl\n```", "```py\n├───app/\n|   ├───loan_default/\n|   |   ├───__init__.py\n|   |   ├───data.py\n|   |   ├───model.py\n|   |   └───predict.py\n|   ├───utils/\n|   |   ├───__init__.py\n|   |   ├───base_model.py\n|   |   ├───logger.py\n|   |   └───storage.py  \n|   ├───logs/\n|   ├───server.py\n|   └───requirements.txt    \n|\n├───kubernetes/\n|   ├───cluster.yaml\n|   ├───deployment.yaml\n|   ├───service.yaml\n|   └───serviceaccount.yaml\n|\n├─README.md\n├─Dockerfile\n├─SECURITY.md\n```", "```py\ndef train(self):\n        # define model\n        params = {\n            \"objective\": \"binary:logistic\",\n            \"eval_metric\": \"logloss\",\n            \"nthread\": 4,  # flags.num_cpu\n            \"tree_method\": \"hist\",\n            \"learning_rate\": 0.02,\n            \"max_depth\": 10,\n            \"min_child_weight\": 6,\n            \"n_jobs\": 4,  # flags.num_cpu,\n            \"verbosity\": 0,\n            \"silent\": 1,\n        }\n\n        log.info(\"Training XGBoost model\")\n        self.clf = xgb.train(params, self.DMatrix, num_boost_round=500)\n        self.clf = d4p.get_gbt_model_from_xgboost(self.clf)\n```", "```py\napiVersion: eksctl.io/v1alpha5\nkind: ClusterConfig\n\nmetadata:\n  name: \"eks-cluster-loanDefault\"\n  version: \"1.23\"\n  region: \"us-east-1\"\n\nmanagedNodeGroups:\n- name: \"eks-cluster-loanDefault-mng\"\n  desiredCapacity: 3\n  instanceType: \"m6i.large\"\n```", "```py\nkubectl create namespace loan-default-app\n```", "```py\napiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: \"eks-loan-default-app\"\n  namespace: \"loan-default-app\"\n  labels:\n    app: \"loan-default\"\nspec:\n  replicas: 3\n  selector:\n    matchLabels:\n      app: \"loan-default\"\n  template:\n    metadata:\n      labels:\n        app: \"loan-default\"\n    spec:\n     serviceAccountName: \"loan-default-service-account\"\n     topologySpreadConstraints:\n        - maxSkew: 1\n          topologyKey: kubernetes.io/hostname\n          whenUnsatisfiable: ScheduleAnyway\n          labelSelector:\n            matchLabels:\n              app: \"loan-default\"\n     containers:\n       - name: \"loan-app-image\"\n         image: <insert image uri>\n         ports:\n           - containerPort: 80\n         imagePullPolicy: \"Always\"\n```", "```py\napiVersion: v1\nkind: Service\nmetadata:\n  name: \"loan-default-service\"\n  namespace: \"loan-default-app\"\n\nspec:\n  ports:\n  - port: 8080\n    targetPort: 5000\n  selector:\n    app: \"loan-default\"\n  type: \"LoadBalancer\"\n```", "```py\n# create S3 Bucket for data\naws s3api create-bucket --bucket loan-default --region us-east-1\n\n# upload dataset\naws s3api put-object --bucket loan-default --key data/credit_risk_dataset.csv --body <local path to data\n```", "```py\ncurl -X POST <loadbalancerdns>:8080/data -H 'Content-Type: application/json' -d '{\"bucket\":\"loan-default\",\"backend\":\"s3\",\"key\":\"data/credit_risk_dataset.csv\",\"target_path\":\"None\",\"local_path\":\"None\",\"size\":400000}'\n```", "```py\ncurl -X POST <loadbalancerdns>:8080/train -H 'Content-Type: application/json' -d '{\"bucket\":\"loan-default\",\"backend\":\"s3\",\"local_model_path\":\"None\",\"data_key\":\"data\",\"model_key\":\"model\",\"model_name\":\"model.joblib\",\"local_data_path\":\"None\"}'\n```", "```py\ncurl -X POST <loadbalancerdns>:8080/predict -H 'Content-Type: application/json' -d '{\"backend\":\"s3\",\"model_name\":\"model.joblib\",\"data_key\":\"data\",\"bucket\":\"loan-default\",\"model_key\":\"model\",\"sample\":[{\"person_age\":22,\"person_income\":59000,\"person_home_ownership\":\"RENT\",\"person_emp_length\":123,\"loan_intent\":\"PERSONAL\",\"loan_grade\":\"D\",\"loan_amnt\":35000,\"loan_int_rate\":16.02,\"loan_percent_income\":0.59,\"cb_person_default_on_file\":\"Y\",\"cb_person_cred_hist_length\":3},{\"person_age\":22,\"person_income\":59000,\"person_home_ownership\":\"RENT\",\"person_emp_length\":123,\"loan_intent\":\"PERSONAL\",\"loan_grade\":\"D\",\"loan_amnt\":35000,\"loan_int_rate\":55.02,\"loan_percent_income\":0.59,\"cb_person_default_on_file\":\"Y\",\"cb_person_cred_hist_length\":0}],\"local_model_path\":\"None\",\"preprocessor_path\":\"None\"}'\n```"]