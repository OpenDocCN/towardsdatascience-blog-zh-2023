# A/B 测试中的四个常见错误及解决方法

> 原文：[`towardsdatascience.com/four-common-mistakes-when-a-b-testing-and-how-to-solve-them-384072b57d75`](https://towardsdatascience.com/four-common-mistakes-when-a-b-testing-and-how-to-solve-them-384072b57d75)

## 提升你的 A/B 测试技能：解决四个关键错误以获得更好的结果

[](https://terenceshin.medium.com/?source=post_page-----384072b57d75--------------------------------)![Terence Shin, MSc, MBA](https://terenceshin.medium.com/?source=post_page-----384072b57d75--------------------------------)[](https://towardsdatascience.com/?source=post_page-----384072b57d75--------------------------------)![Towards Data Science](https://towardsdatascience.com/?source=post_page-----384072b57d75--------------------------------) [Terence Shin, MSc, MBA](https://terenceshin.medium.com/?source=post_page-----384072b57d75--------------------------------)

·发布于 [Towards Data Science](https://towardsdatascience.com/?source=post_page-----384072b57d75--------------------------------) ·7 分钟阅读·2023 年 6 月 29 日

--

![](img/909720c0f939dfbc701dde079094506a.png)

图片来源 [Oscar Ivan Esquivel Arteaga](https://unsplash.com/@oscaresquivel?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText) 在 [Unsplash](https://unsplash.com/photos/iT15xdxmLxw?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText)

A/B 测试就像 Jenga，一种由相互关联的部分组成的微妙平衡，形成了成功实验的基础。就像在 Jenga 游戏中，移除错误的块可能会导致整个塔崩溃一样，A/B 测试依赖于多个组件的共同工作。每个部分代表测试的一个关键元素，如果其中任何一个失败了，实验的完整性可能会受到威胁，导致不准确的结果或错失机会。

在我的经验中，我见证了许多出色的实验创意因为许多数据科学家，包括我自己，犯的常见错误而失败！因此，我想和你探讨四个在 A/B 测试中最常见的错误（以及如何解决这些错误！）。

*如果你对 A/B 测试不熟悉，并且有意从事数据科学职业，我强烈建议你至少熟悉一下这个概念。*

*如果你想了解 A/B 测试的入门知识，可以查看我的下文：*

[](/a-simple-guide-to-a-b-testing-for-data-science-73d08bdd0076?source=post_page-----384072b57d75--------------------------------) ## 数据科学 A/B 测试简明指南

### 这是数据科学家最重要的统计方法之一

towardsdatascience.com

说到这里，让我们深入探讨吧！

# 问题 #1：统计功效设定得过低。

总结一下，统计功效表示正确检测真实效应的概率，或者更准确地说，它是*在零假设为假时*拒绝零假设的条件概率。统计功效与犯第二类错误（假阴性）的概率成反比。

通常，在进行研究时，将功效设置为 80% 是一种常见做法。根据其定义，这意味着如果你将功效设置为 80%，那么当零假设为假时，你将有 20% 的概率未能拒绝零假设。简单来说，如果在 100 次实验中存在真实效应，你只会检测到 80 次。

## **这为什么是个问题？**

在商业中，尤其是在科技公司中，一个主要目标是尽可能快速地学习、构建和迭代。大型科技公司，如 Airbnb 和 Uber，能够如此快速地增长并维持市场份额，其中一个原因就是它们能够不断进化。

当你将统计功效设置为 80% 时，这意味着 20% 的真实效应没有被捕捉到，也就是说少了 20% 的迭代。现在将这个问题扩大到，比如说 10 年，你就能理解这可能产生的影响。

## 解决方案是什么？

对此显而易见的解决办法是提高统计功效。而如何做到这一点并不是那么明显——**统计功效直接与其他几个实验参数相关**，这意味着有几种方法可以提高统计功效：

+   **增加样本大小**。提高统计功效的主要方法是增加样本大小。通过增加样本大小，数据的变异性减少，从而导致更窄的置信区间和更准确的估计。这就是为什么如果你使用像 Evan Miller 的 A/B 测试计算器这样的功效分析工具，设置更高的功效会导致推荐的样本大小更大。

+   **调整 alpha 值**。功效和 alpha 值是反相关的，这一点如果你仔细考虑就会明白。如果你将 alpha 值从 0.05 降低到 0.01，拒绝零假设的阈值会变得更严格，从而使得拒绝变得更加困难，这会导致统计功效降低。反之亦然——如果你的 alpha 值过低，通过增加 alpha 值，你更可能拒绝零假设，并获得更高的统计功效。

+   **减少效应大小（最小可检测效应）**。通过减少效应大小，测试的统计功效会增强，因为这会增加检测较小效应的能力。不过，这并不是总是推荐的做法，这引出了我的下一个要点！

# 问题 #2：将最小可检测效应（MDE）设置得过低。

最小可检测效应（MDE）代表实验可以可靠检测到的最小效应大小。如果观察到的效应大小低于 MDE，说明该效应如此微小，以至于可能只是由于数据中的随机变异或噪音，而不是实际的有意义的效应。

如果是这样的话，那为什么*不*希望将 MDE 设定得尽可能低呢？这就是**统计显著性与实际显著性**的概念发挥作用的地方——**统计显著性**关注的是效应不是由于随机机会的概率，而**实际显著性**则考虑了效应在实际中的大小和影响。

举个例子，我在 KOHO 进行了一项定价实验，以确定某一产品的价格弹性。最终结果在*统计上显著*，因为价格的降低导致了产品采纳的增加。然而，我们降低价格的幅度并不*实际显著*，因为尽管用户数量增加了，但价格的降低最终导致了总体利润的减少。

## 解决方案是什么？

你应该根据与上下文相关的实际效应大小来选择最小可检测效应（MDE），并使其与实验的目标保持一致。这确保了检测到的效应既在统计上显著，又在实际中有意义，同时优化资源分配，避免假阴性风险。

# 问题 #3：进行过多的假设检验。

我经常看到进行几十次 A/B 测试（假设检验）来测试几乎相同的内容，比如测试某一产品的多个价格点、测试各种网站配置和测试多个营销活动。

## **为什么这是个问题？**

问题在于，当你进行更多的假设检验时，你更有可能偶然获得统计显著的结果。从统计学角度看，这是因为 A/B 测试时设定的 alpha 值。alpha 代表了在原假设为真的情况下拒绝原假设的概率，因此如果我们将 alpha 设为 0.05，那么 100 个真实测试的假设中有 5 个将被拒绝。

## 解决方案是什么？

解决方案是控制虚假发现（假阳性），有几种方法可以实现这一点。最常见的技术是**Bonferroni 校正**，它通过将显著性水平（alpha）除以测试的数量来进行调整。例如，如果你进行 10 次假设检验并希望保持整体 alpha 为 0.05，你需要将 0.05 除以 10，从而为每个测试得到调整后的 alpha 值 0.005。此校正确保了更严格的统计显著性标准，减少了假阳性的可能性。

# 问题 #4：没有考虑幸存者偏差。

我看到的另一个问题是，实验设计中往往没有调整幸存者偏差。

## **这有什么问题？**

**幸存者偏差**和**用户任期**之间有很强的关系。考虑这一点：不活跃或不盈利的用户不太可能与公司保持长期关系——那些没有从产品中获得价值的用户不太可能在公司停留太久。因此，考虑不同任期用户行为的潜在差异非常重要。

在拆分对照组和测试组时，如果未考虑用户任期，可能会因行为差异显著而影响结果。一组可能有更高的平均用户任期，这会影响盈利能力和参与度等因素。换句话说，未考虑用户任期可能引入混杂变量，并阻碍对感兴趣的特定因果关系的分析。

## 解决方案是什么？

**分层抽样**可以用来解决用户任期未控制而导致 A/B 测试结果偏差的问题。这包括将总体分成特定段，然后随机抽取每个组。可以通过以下步骤完成：

1.  定义用户任期组：将用户群体按与公司关系的任期分成不同组。例如，你可以创建“新用户”（短期任期）、“中期用户”（中等任期）和“长期用户”（长期任期）等组。

1.  确定样本大小：确定每个任期组所需的样本大小。样本大小可以与总体用户群体中每组的大小成比例，或基于特定考虑因素，例如每组的重要性或所需的统计功效。

1.  在每个组内随机抽样：从每个任期组中随机选择用户，形成对照组和测试组。确保选择代表每组中的用户，保持不同任期级别用户的比例。

1.  进行 A/B 测试：通过分层抽样，你将减少实验中的偏差，并为更可靠的结果做好准备。现在你可以以一种控制其他变量的方法来正确进行实验。

阅读完这些内容后，你应该知道四种常见的 A/B 测试错误及其解决方法——具体来说，你应该知道如何考虑：

1.  将统计功效设得太低

1.  将最小可检测效应（MDE）设得太低

1.  进行过多的假设检验

1.  未考虑幸存者偏差

考虑这些错误肯定会提高你 A/B 测试的有效性和可靠性，从而提供有意义的见解和信息化决策。

现在出去看看你能发现什么！

# 感谢阅读！

> *如果你喜欢这篇文章，* [***立即订阅并成为会员***](https://terenceshin.medium.com/membership)*，以便不错过有关数据科学指南、技巧和窍门、生活经验等的任何文章！*

[](https://terenceshin.medium.com/membership?source=post_page-----384072b57d75--------------------------------) [## 使用我的推荐链接加入 Medium - Terence Shin

### 解锁独家见解，保持领先：订阅体验知识的世界。发现一座宝藏...

terenceshin.medium.com](https://terenceshin.medium.com/membership?source=post_page-----384072b57d75--------------------------------)

**不确定接下来读什么？我为你挑选了另一篇文章：**

[](https://terenceshin.medium.com/all-machine-learning-algorithms-you-should-know-for-2023-843dba11419c?source=post_page-----384072b57d75--------------------------------) [## 你应该了解的所有机器学习算法（2023 年版）

### 最受欢迎的机器学习模型的直观解释

terenceshin.medium.com](https://terenceshin.medium.com/all-machine-learning-algorithms-you-should-know-for-2023-843dba11419c?source=post_page-----384072b57d75--------------------------------)

**或者你可以查看我的 Medium 页面：**

[](https://terenceshin.medium.com/?source=post_page-----384072b57d75--------------------------------) [## Terence Shin - Medium

### 阅读 Terence Shin 在 Medium 上的文章。数据科学 @ KOHO, Saturn Cloud | 硕士, MBA |…

terenceshin.medium.com](https://terenceshin.medium.com/?source=post_page-----384072b57d75--------------------------------)

# Terence Shin

+   [*订阅并成为会员*](https://terenceshin.medium.com/membership)

+   [*关注我的 Medium*](https://medium.com/@terenceshin)

+   [*在 LinkedIn 上关注我*](https://www.linkedin.com/in/terenceshin/)
