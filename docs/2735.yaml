- en: 'Missing Data Demystified: The Absolute Primer for Data Scientists'
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 缺失数据解密：数据科学家的绝对入门指南
- en: 原文：[https://towardsdatascience.com/missing-data-demystified-the-absolute-primer-for-data-scientists-8c9244c764c4?source=collection_archive---------1-----------------------#2023-08-29](https://towardsdatascience.com/missing-data-demystified-the-absolute-primer-for-data-scientists-8c9244c764c4?source=collection_archive---------1-----------------------#2023-08-29)
  id: totrans-1
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 原文：[https://towardsdatascience.com/missing-data-demystified-the-absolute-primer-for-data-scientists-8c9244c764c4?source=collection_archive---------1-----------------------#2023-08-29](https://towardsdatascience.com/missing-data-demystified-the-absolute-primer-for-data-scientists-8c9244c764c4?source=collection_archive---------1-----------------------#2023-08-29)
- en: Data Quality Chronicles
  id: totrans-2
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 数据质量编年史
- en: Missing data, missing mechanisms, and missing data profiling
  id: totrans-3
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 缺失数据、缺失机制以及缺失数据分析
- en: '[](https://medium.com/@miriam.santos?source=post_page-----8c9244c764c4--------------------------------)[![Miriam
    Santos](../Images/decbc6528a641e7b02934a03e136284a.png)](https://medium.com/@miriam.santos?source=post_page-----8c9244c764c4--------------------------------)[](https://towardsdatascience.com/?source=post_page-----8c9244c764c4--------------------------------)[![Towards
    Data Science](../Images/a6ff2676ffcc0c7aad8aaf1d79379785.png)](https://towardsdatascience.com/?source=post_page-----8c9244c764c4--------------------------------)
    [Miriam Santos](https://medium.com/@miriam.santos?source=post_page-----8c9244c764c4--------------------------------)'
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: '[](https://medium.com/@miriam.santos?source=post_page-----8c9244c764c4--------------------------------)[![Miriam
    Santos](../Images/decbc6528a641e7b02934a03e136284a.png)](https://medium.com/@miriam.santos?source=post_page-----8c9244c764c4--------------------------------)[](https://towardsdatascience.com/?source=post_page-----8c9244c764c4--------------------------------)[![Towards
    Data Science](../Images/a6ff2676ffcc0c7aad8aaf1d79379785.png)](https://towardsdatascience.com/?source=post_page-----8c9244c764c4--------------------------------)
    [Miriam Santos](https://medium.com/@miriam.santos?source=post_page-----8c9244c764c4--------------------------------)'
- en: ·
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: ·
- en: '[Follow](https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F243289394aaa&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmissing-data-demystified-the-absolute-primer-for-data-scientists-8c9244c764c4&user=Miriam+Santos&userId=243289394aaa&source=post_page-243289394aaa----8c9244c764c4---------------------post_header-----------)
    Published in [Towards Data Science](https://towardsdatascience.com/?source=post_page-----8c9244c764c4--------------------------------)
    ·12 min read·Aug 29, 2023[](https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F8c9244c764c4&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmissing-data-demystified-the-absolute-primer-for-data-scientists-8c9244c764c4&user=Miriam+Santos&userId=243289394aaa&source=-----8c9244c764c4---------------------clap_footer-----------)'
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: '[关注](https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F243289394aaa&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmissing-data-demystified-the-absolute-primer-for-data-scientists-8c9244c764c4&user=Miriam+Santos&userId=243289394aaa&source=post_page-243289394aaa----8c9244c764c4---------------------post_header-----------)
    发布于 [Towards Data Science](https://towardsdatascience.com/?source=post_page-----8c9244c764c4--------------------------------)
    · 12 min read · 2023年8月29日 [](https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F8c9244c764c4&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmissing-data-demystified-the-absolute-primer-for-data-scientists-8c9244c764c4&user=Miriam+Santos&userId=243289394aaa&source=-----8c9244c764c4---------------------clap_footer-----------)'
- en: --
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: --
- en: '[](https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F8c9244c764c4&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmissing-data-demystified-the-absolute-primer-for-data-scientists-8c9244c764c4&source=-----8c9244c764c4---------------------bookmark_footer-----------)![](../Images/d1b6aa6dc0c36a8d42a5c4ac80b9de11.png)'
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: '[](https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F8c9244c764c4&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmissing-data-demystified-the-absolute-primer-for-data-scientists-8c9244c764c4&source=-----8c9244c764c4---------------------bookmark_footer-----------)![](../Images/d1b6aa6dc0c36a8d42a5c4ac80b9de11.png)'
- en: Missing Data prevents data scientists to see the entire story the data has to
    tell. Sometimes, even the smallest pieces of information can provide a completely
    unique view of the world. Photo by [Ronan Furuta](https://unsplash.com/@ronan18?utm_source=medium&utm_medium=referral)
    on [Unsplash](https://unsplash.com/?utm_source=medium&utm_medium=referral).
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: 缺失数据使数据科学家无法看到数据要讲述的完整故事。有时，即使是最小的信息片段也能提供一个完全独特的世界观。图片由 [Ronan Furuta](https://unsplash.com/@ronan18?utm_source=medium&utm_medium=referral)
    拍摄，来源于 [Unsplash](https://unsplash.com/?utm_source=medium&utm_medium=referral)。
- en: Earlier this year, I started a piece on [several data quality issues](https://medium.com/towards-data-science/data-quality-issues-that-kill-your-machine-learning-models-961591340b40)
    (or characteristics) that heavily compromise our machine learning models.
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
- en: '**One of them was, unsurprisingly, Missing Data.**'
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
- en: I’ve been studying this topic for many years now (*I know, right?!*) but along
    some projects I contribute to in the [Data-Centric Community](https://datacentricai.community/),
    I realized that many data scientists still haven’t fully grasped the full complexity
    of the problem, which inspired me to create this comprehensive tutorial.
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
- en: '*Today, we will delve into the intricacies the* ***problem of missing data****,
    discover the different* ***types of missing data*** *we may find in the wild,
    and explore how we can* ***identify and mark missing values*** *in real-world
    datasets.*'
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
- en: The Problem of Missing Data
  id: totrans-14
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Missing Data is an interesting data imperfection since it may arise naturally
    due to the nature of the domain, or be inadvertently created during data, collection,
    transmission, or processing.
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
- en: '**In essence, missing data is characterized by the appearance of absent values
    in data**, i.e., missing values in some records or observations in the dataset,
    and can either be *univariate* (one feature has missing values) or *multivariate*
    (several features have missing values):'
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/25cad1d919f7bd44e6d54fcb2498f962.png)'
  id: totrans-17
  prefs: []
  type: TYPE_IMG
- en: Univariate versus Multivariate missing data patterns. Image by Author.
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
- en: '*Let’s consider an example.* Let’s say we are conducting a study on a patient
    cohort regarding diabetes, for instance.'
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
- en: '**Medical data is a great example for this, because it is often highly subjected
    to missing values:** patient values are taken from both surveys and laboratory
    results, can be measured several times throughout the course of diagnosis or treatment,
    are stored in different formats (sometimes distributed across institutions), and
    are often handled by different people. *It can (and most certainly will) get messy!*'
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
- en: '**In our diabetes study, a the presence of missing values might be related
    to the study being conducted or the data being collected.**'
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
- en: For instance, missing data may arise due to a faulty sensor that shuts down
    for high values of blood pressure. Another possibility is that missing values
    in feature “weight” are more likely to be missing for older women, which are less
    inclined to reveal this information. Or obese patients may be less likely to share
    their weight.
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
- en: '**On the other hand, data can also be missing for reasons that are in no way
    related to the study.**'
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
- en: 'A patient may have some of his information missing because a flat tire caused
    him to miss a doctors appointment. Data may also be missing due to human error:
    for instance, if the person conducting the analysis misplaces of misreads some
    documents.'
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
- en: '**Regardless of the reason why data is missing, it is important to investigate
    whether the datasets contain missing data prior to model building, as this problem
    may have** [**severe consequences**](https://ydata.ai/resources/what-is-missing-data-in-machine-learning)
    **for classifiers:**'
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
- en: '**Some classifiers cannot handle missing values internally:** This makes them
    inapplicable when handling datasets with missing data. In some scenarios, these
    values are encoded with a pre-defined value, e.g., “0” so that machine learning
    algorithms are able to cope with them, although this is not the best practice,
    especially for higher percentages of missing data (or more complex missing mechanisms);'
  id: totrans-26
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Predictions based on missing data can be biased and unreliable:** Although
    some classifiers can handle missing data internally, their predictions might be
    compromised, since an important piece of information might be missing from the
    training data.'
  id: totrans-27
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Moreover, although missing values may *“all look the same”*, the truth is that
    their underlying mechanisms (that reason why they are missing) can follow 3 main
    patters: **Missing Completely At Random (MCAR), Missing At Random (MAR), and Missing
    Not At Random (MNAR)**.'
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
- en: Keeping these [different types of missing mechanisms](https://ydata.ai/resources/understanding-missing-data-mechanisms)
    in mind is important because they determine the choice for appropriate methods
    to handle missing data efficiently and the validity of the inferences derived
    from them.
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
- en: '*Let’s go over each mechanism real quick!*'
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
- en: Missing Data Mechanisms
  id: totrans-31
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: If you’re a mathy person, I’d suggest a pass [through this paper](https://ieeexplore.ieee.org/document/8605316)
    (*cof cof*), namely Sections II and III, which contains all the notation and mathematical
    formulation you might be looking for (I was actually [inspired by this book](https://stefvanbuuren.name/fimd/),
    which is also a very interesting primer, check Section 2.2.3\. and 2.2.4.).
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
- en: If you’re also a visual learner like me, you’d like to “*see*” it, right?
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
- en: 'For that matter, we’ll take a look at the **adolescent tobacco study example**,
    used in the paper. We’ll consider dummy data to showcase each missing mechanism:'
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/c8c868e600c9f4678100bf1740a54c05.png)'
  id: totrans-35
  prefs: []
  type: TYPE_IMG
- en: 'Missing mechanisms example: a simulated dataset of a study in adolescent tobacco
    use, where the daily average of smoked cigarettes is missing under different mechanisms
    (MCAR, MAR, and MNAR). Image by Author.'
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
- en: 'One thing to keep in mind this: **the missing mechanisms describe whether and
    how the missingness pattern can be explained by the observed data and/or the missing
    data.** *It’s tricky, I know. But it will get more clear with the example!*'
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
- en: In our tobacco study, we are focusing on adolescent tobacco use. There are 20
    observations, relative to 20 participants, and feature `Age` is completely observed,
    whereas the `Number of Cigarettes` (smoked per day) will be missing according
    to different mechanisms.
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
- en: 'Missing Completely At Random (MCAR): No harm, no foul!'
  id: totrans-39
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 完全随机缺失（MCAR）：无害，无错！
- en: In Missing Completely At Random (MCAR) mechanism, *the missingness process is
    completely unrelated to both the observed and missing data.* That means that the
    probability that a feature has missing values is *completely random.*
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: 在完全随机缺失（MCAR）机制中，*缺失过程与观测数据和缺失数据完全无关*。这意味着特征缺失值的概率是*完全随机的*。
- en: '![](../Images/54f9465e87851c660d650a82d96518fb.png)'
  id: totrans-41
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/54f9465e87851c660d650a82d96518fb.png)'
- en: 'MCAR mechanism: (a) Missing values in number of cigarettes are completely random;
    (b) Example of a MCAR pattern in a real-world dataset. Image by Author.'
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: MCAR机制：（a）香烟数量的缺失值完全是随机的；（b）真实数据集中MCAR模式的示例。图片由作者提供。
- en: In our example, I simply removed some values randomly. Note how the missing
    values are not located in a particular range of `Age`or `Number of Cigaretters`
    values. **This mechanism can therefore occur due to unexpected events happening
    during the study:** say, the person responsible for registering the participants’
    responses accidentally skipped a question of the survey.
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: 在我们的例子中，我只是随机删除了一些值。注意缺失值没有集中在特定的`Age`或`Number of Cigarettes`值范围内。**因此，这种机制可能由于研究过程中发生了意外事件**：比如负责记录参与者回答的人不小心跳过了调查中的一个问题。
- en: 'Missing At Random (MAR): Look for the tell-tale signs!'
  id: totrans-44
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 随机缺失（MAR）：寻找明显的迹象！
- en: The name is actually misleading, since the Missing At Random (MAR) occurs when
    the *missingness process can be linked to the observed information in data* (though
    not to the missing information itself).
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: 这个名称实际上是误导性的，因为随机缺失（MAR）发生在*缺失过程可以与数据中的观测信息相关联*（尽管与缺失信息本身无关）。
- en: Consider the next example, where I removed the values of `Number of Cigarettes`
    for younger participants only (between 15 and 16 years). Note that, despite the
    missingess process being clearly related to the observed values in `Age`, it is
    completely *unrelated to the number of cigarettes smoked by these teens*, had
    it been reported (note the “Complete” column, where a low and high number of cigarettes
    would be found among the missing values, had they been observed).
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: 考虑以下例子，其中我只删除了年轻参与者（15至16岁）的`Number of Cigarettes`值。请注意，尽管缺失过程明显与`Age`中的观测值相关，但与这些青少年*吸烟数量无关*（请注意“Complete”列，如果报告了这些值，其中缺失值中会有低值和高值）。
- en: '![](../Images/f2dc00dc53700d1277aae381c4c27212.png)'
  id: totrans-47
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/f2dc00dc53700d1277aae381c4c27212.png)'
- en: 'MAR mechanism: (a) Missing values in number of cigarettes are related to the
    Age; (b) Example of a MAR pattern in a real-world dataset: values in X_miss_1,
    X_miss_3, and X_miss_p are missing depending on the values of X_obs. Values corresponding
    to highest/darkest values are missing. Image by Author.'
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: MAR机制：（a）香烟数量的缺失值与年龄相关；（b）真实数据集中MAR模式的示例：X_miss_1、X_miss_3和X_miss_p的缺失值取决于X_obs的值。与最高/最暗值对应的值缺失。图片由作者提供。
- en: This would be the case if younger kids would be less inclined to reveal their
    number of smoked cigarettes per day, avoiding to admit that they are regular smokers
    (regardless of the amount they smoke).
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: 例如，年轻孩子可能不愿意透露他们每天吸烟的数量，避免承认他们是常规吸烟者（无论他们吸烟的数量如何）。
- en: 'Missing Not At Random (MNAR): That ah-ha moment!'
  id: totrans-50
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 缺失非随机（MNAR）：那一刻的顿悟！
- en: As expected, the Missing Not At Random (MNAR) mechanism is the trickiest of
    them all, since *the missingness process may depend on both the observed and missing
    information in the data*. This means that the probability of missing values occurring
    in a feature may be related to the observed values of other feature in the data,
    as well as to the missing values of that feature itself!
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: 如预期所示，缺失非随机（MNAR）机制是最棘手的，因为*缺失过程可能依赖于数据中的观测信息和缺失信息*。这意味着特征中缺失值的发生概率可能与数据中其他特征的观测值相关，也可能与该特征本身的缺失值相关！
- en: 'Take a look at the next example: values are missing for higher amounts of `Number
    of Cigarettes`, which means that the probability of missing values in `Number
    of Cigarettes` is related to the missing values themselves, had they been observed
    (note the “Complete” column).'
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: 看下一个例子：`Number of Cigarettes`的较高值缺失，这意味着`Number of Cigarettes`缺失值的概率与缺失值本身相关（请注意“Complete”列）。
- en: '![](../Images/c5533e855f28bf7bb6f7b3bc346f5438.png)'
  id: totrans-53
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/c5533e855f28bf7bb6f7b3bc346f5438.png)'
- en: 'MNAR mechanism: (a) Missing values in number of cigarettes are correspondent
    to the highest values, had they been observed; (b) Example of a MNAR pattern in
    a real-world dataset: values in X_miss depend on the values themselves (highest/darker
    values are removed). Image by Author.'
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: MNAR 机制：（a）香烟数量中的缺失值对应于如果观察到的最高值；（b）现实世界数据集中 MNAR 模式的例子：X_miss 中的值取决于自身的值（最高/较暗的值被删除）。图片由作者提供。
- en: This would be the case of teens that refused to report their number of smoked
    cigarettes per day since they smoked a very large quantity.
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: 这将是那些由于吸烟量非常大的青少年拒绝报告他们每天吸烟数量的情况。
- en: The Impact of Missing Data Mechanisms
  id: totrans-56
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 缺失数据机制的影响
- en: Along our simple example, **we’ve seen how *MCAR is the simplest of the missing
    mechanisms***. In such scenario, we may ignore many of the complexities that arise
    due to the appearance of missing values, and **some simple fixes such as case
    listwise or casewise deletion, as well as simpler statistical imputation techniques,
    may do the trick.**
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: 根据我们的简单示例，**我们已经看到*MCAR 是缺失机制中最简单的一种***。在这种情况下，我们可以忽略由于缺失值出现而产生的许多复杂性，**一些简单的解决方法，比如列表删除或逐例删除，以及更简单的统计插补技术，可能就能解决问题。**
- en: However, although convenient, the truth is that in real-world domains, *MCAR
    is often unrealistic*, and **most researchers usually assume at least MAR** in
    their studies, which is more general and realistic than MCAR. In this scenario,
    **we may consider more robust strategies than can infer the missing information
    from the observed data**. In this regard, data i*mputation strategies based on
    machine learning* are generally the most popular.
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: 然而，尽管方便，但现实中*MCAR 往往是不现实的*，**大多数研究人员通常在研究中至少假设 MAR**，这比 MCAR 更具普遍性和现实性。在这种情况下，**我们可能会考虑比
    MCAR 更强大的策略，这些策略可以从观察到的数据中推断缺失的信息**。在这方面，基于机器学习的*插补策略*通常是最受欢迎的。
- en: Finally, **MNAR is by far the most complex case**, since it is very difficult
    to infer the causes for the missingess. Current approaches focus on *mapping the
    causes for the missing values* using correction factors defined by domain experts,
    *inferring missing data* from distributed systems, extending state-of-the-art
    models (e.g., generative models) to incorporate *multiple imputation*, or *performing
    sensitivity analysis* to determine how results change under different circumstances.
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: 最后，**MNAR 迄今为止是最复杂的情况**，因为很难推断缺失的原因。当前的方法集中于*使用领域专家定义的校正因子来映射缺失值的原因*，*从分布式系统中推断缺失数据*，扩展最先进的模型（例如生成模型）以纳入*多重插补*，或*进行敏感性分析*以确定在不同情况下结果如何变化。
- en: '**Also, on the topic of identifiability, the problem doesn’t get any easier.**'
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: '**此外，在可识别性问题上，问题也不会变得更容易。**'
- en: Although *there are some tests to distinguish MCAR from MAR*, they are not widely
    popular and have restrictive assumptions that do not hold for complex, real-world
    datasets. It is also *not possible to distinguish MNAR from MAR* since the information
    that would be needed is missing.
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: 虽然*有一些测试可以区分 MCAR 和 MAR*，但它们并不广泛流行，并且有一些对复杂现实世界数据集不适用的限制性假设。也*无法区分 MNAR 和 MAR*，因为所需的信息缺失了。
- en: '**To diagnose and distinguish missing mechanisms in practice, we may focus
    on hypothesis testing, sensitivity analysis, getting some insights from domain
    experts, and investigating vizualization techniques that can provide some understanding
    of the domains.**'
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: '**要在实践中诊断和区分缺失机制，我们可以关注假设检验、敏感性分析、从领域专家那里获取一些见解，以及调查可以提供领域理解的可视化技术。**'
- en: Naturally, there are other complexities to account for which condition the application
    of treatment strategies for missing data, namely the *percentage of data* that
    is missing, the *number of features* it affects, and the *end goal of the technique*
    (e.g., feed a training model for classification or regression, reconstruct the
    original values in the most authentic way possible?).
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: 自然，还有其他复杂因素需要考虑，这些因素决定了缺失数据处理策略的应用，例如*缺失数据的百分比*、*影响的特征数量*以及*技术的最终目标*（例如，为分类或回归提供训练模型，还是以尽可能真实的方式重建原始值？）。
- en: '*All in all, not an easy job.*'
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: '*总的来说，这不是一项简单的工作。*'
- en: Identifying and Marking Missing Data
  id: totrans-65
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 识别和标记缺失数据
- en: Let’s take this bit by bit. We’ve just learned an overload of information on
    missing data and its complex entanglements.
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们一点一点地来。我们刚刚学到了关于缺失数据及其复杂纠缠的大量信息。
- en: '*In this example, we’ll cover the basics of how to mark and visualize missing
    data in a real-world dataset, and confirm the problems that missing data introduces
    to data science projects.*'
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: '*在这个示例中，我们将介绍如何标记和可视化真实数据集中的缺失数据，并确认缺失数据对数据科学项目造成的问题。*'
- en: 'For that purpose, we’ll use the [Pima Indians Diabetes](https://www.kaggle.com/datasets/uciml/pima-indians-diabetes-database)
    dataset, available on Kaggle (License — [CC0: Public Domain](https://creativecommons.org/publicdomain/zero/1.0/)).
    If you’d like to follow along the tutorial, feel free to [download the notebook](https://github.com/Data-Centric-AI-Community/awesome-python-for-data-science/blob/main/tutorials/data_preparation/missing_data/missing_data_introduction.ipynb)
    from the Data-Centric AI Community [GitHub repository](https://github.com/Data-Centric-AI-Community).'
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: '为此，我们将使用[皮马印第安人糖尿病](https://www.kaggle.com/datasets/uciml/pima-indians-diabetes-database)数据集，该数据集可以在Kaggle上找到（许可证
    — [CC0: 公共领域](https://creativecommons.org/publicdomain/zero/1.0/)）。如果你想跟随教程，可以随时[下载笔记本](https://github.com/Data-Centric-AI-Community/awesome-python-for-data-science/blob/main/tutorials/data_preparation/missing_data/missing_data_introduction.ipynb)来自Data-Centric
    AI Community [GitHub仓库](https://github.com/Data-Centric-AI-Community)。'
- en: To make a quick profiling of your data, we’ll also use `[ydata-profiling](https://github.com/ydataai/ydata-profiling)`,
    that gets us a full overview of our dataset in just a few line of codes. *Let’s
    start by installing it:*
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: 为了快速分析数据，我们还将使用`[ydata-profiling](https://github.com/ydataai/ydata-profiling)`，它可以通过几行代码给我们提供数据集的全面概览。*让我们开始安装它吧：*
- en: Installing the latest release of [ydata-profiling](https://github.com/ydataai/ydata-profiling).
    Snippet by Author.
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: 安装最新版本的[ydata-profiling](https://github.com/ydataai/ydata-profiling)。作者提供的代码片段。
- en: Now, we can load the data and **make a quick profile:**
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，我们可以加载数据并**快速创建概况：**
- en: Loading the data and creating the profiling report. Snippet by Author.
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: 加载数据并创建数据概况报告。作者提供的代码片段。
- en: Looking at the data, we can determine that this dataset is composed by 768 records/rows/observations
    (768 patients), and 9 attributes or features. In fact, `Outcome` is the target
    class (1/0), so we have 8 predictors (8 numerical features and 1 categorical).
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: 通过查看数据，我们可以确定这个数据集包含768条记录/行/观察（768名患者），以及9个属性或特征。实际上，`Outcome`是目标类（1/0），所以我们有8个预测变量（8个数值特征和1个分类特征）。
- en: '![](../Images/55ecb658e2c7bdb3c9e28739aede5403.png)'
  id: totrans-74
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/55ecb658e2c7bdb3c9e28739aede5403.png)'
- en: 'Profiling Report: Overall data characteristics. Image by Author.'
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
  zh: 数据质量报告：总体数据特征。作者提供的图片。
- en: At a first glance, the dataset does not seem to have missing data. **However,
    this dataset is known to be affected by missing data!***How can we confirm that?*
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: 初看之下，数据集似乎没有缺失数据。**然而，这个数据集已知受到缺失数据的影响！** *我们怎么确认这一点呢？*
- en: Looking at the “*Alerts*” section, we can see **several “*Zeros*” alerts that
    indicate us that there are several features for which zero values make no sense
    or are biologically impossible:** e.g., a zero-value for body mass index or blood
    pressure is invalid!
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
  zh: 查看“*警报*”部分，我们可以看到**几个“*零值*”警报，表明有几个特征的零值没有意义或在生物学上是不可能的：** 例如，体重指数或血压的零值是无效的！
- en: 'Skimming through all features, we can determine that pregnancies seems fine
    (have zero pregnancies is reasonable), but for the remaining features, zero values
    are suspicious:'
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: 浏览所有特征，我们可以确定怀孕数似乎正常（零怀孕数是合理的），但对于其余特征，零值则值得怀疑：
- en: '![](../Images/660d92893d4366b0468759ca4bbe79f5.png)'
  id: totrans-79
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/660d92893d4366b0468759ca4bbe79f5.png)'
- en: 'Profiling Report: Data Quality Alerts. Image by Author.'
  id: totrans-80
  prefs: []
  type: TYPE_NORMAL
  zh: 数据质量报告：数据质量警报。作者提供的图片。
- en: 'In most real-world datasets, missing data is encoded by *sentinel values*:'
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: 在大多数真实世界的数据集中，缺失数据通常由*哨兵值*编码：
- en: Out-of-range entries, such as `999`;
  id: totrans-82
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 超出范围的条目，例如`999`；
- en: Negative numbers where the feature has only positive values, e.g. `-1`;
  id: totrans-83
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 特征本应仅有正值时的负数，例如`-1`；
- en: Zero-values in a feature that could never be 0.
  id: totrans-84
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在一个本不应为0的特征中出现零值。
- en: 'In our case, `Glucose`, `BloodPressure`, `SkinThickness`, `Insulin`, and `BMI`
    all have missing data. Let’s count the number of zeros that these features have:'
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: 在我们的案例中，`Glucose`、`BloodPressure`、`SkinThickness`、`Insulin`和`BMI`都存在缺失数据。让我们统计这些特征中的零值数量：
- en: Counting the number of zero values. Snippet by Author.
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
  zh: 统计零值的数量。作者提供的代码片段。
- en: We can see that `Glucose`, `BloodPressure` and `BMI` have just a few zero values,
    whereas `SkinThickness` and `Insulin` have a lot more, covering nearly half of
    the existing observations. **This means we might consider different strategies
    to handle these features:** some might require more complex imputation techniques
    than others, for instance.
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
  zh: 我们可以看到，`Glucose`、`BloodPressure` 和 `BMI` 只有少量的零值，而 `SkinThickness` 和 `Insulin`
    有更多的零值，几乎覆盖了现有观察值的一半。**这意味着我们可能需要考虑不同的策略来处理这些特征：** 有些特征可能需要比其他特征更复杂的插补技术。
- en: '**To make our dataset consistent with data-specific conventions, we should
    make these missing values as** `NaN` **values.**'
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: '**为了使我们的数据集与特定数据的惯例一致，我们应该将这些缺失值标记为** `NaN` **值。**'
- en: This is the standard way to treat missing data in python and the convention
    followed by popular packages like `pandas` and `scikit-learn`. These values are
    ignored from certain computations like `sum` or `count`, and are recognized by
    some functions to perform other operations (e.g., drop the missing values, impute
    them, replace them with a fixed value, etc).
  id: totrans-89
  prefs: []
  type: TYPE_NORMAL
  zh: 这是在 Python 中处理缺失数据的标准方法，也是像 `pandas` 和 `scikit-learn` 等流行包遵循的惯例。这些值会在某些计算中被忽略，如
    `sum` 或 `count`，并且一些函数会识别这些值以执行其他操作（例如，删除缺失值、插补它们、用固定值替换等）。
- en: 'We’ll mark our missing values using the `replace()` function, and then calling
    `isnan()` to verify if they were correctly encoded:'
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将使用 `replace()` 函数标记缺失值，然后调用 `isnan()` 来验证它们是否被正确编码：
- en: Marking zero values as NaN values. Snippet by Author.
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
  zh: 将零值标记为 NaN 值。作者提供的代码片段。
- en: 'The count of `NaN` values is the same as the `0` values, which means that we
    have marked our missing values correctly! We could then use the profile report
    agains to check that now the missing data is recognized. Here’s how our “new”
    data looks like:'
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: '`NaN` 值的数量与 `0` 值的数量相同，这意味着我们已经正确标记了缺失值！然后，我们可以使用配置文件报告来检查现在缺失数据是否被识别。以下是我们“新”数据的样子：'
- en: '![](../Images/5fbe8327925ecb0db26f7f4f93ece6a0.png)'
  id: totrans-93
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/5fbe8327925ecb0db26f7f4f93ece6a0.png)'
- en: 'Checking the generated alerts: “Missing” alerts are now highlighted. Image
    by Author.'
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: 检查生成的警报：“缺失”警报现在已被突出显示。作者提供的图像。
- en: 'We can further check for some characteristics of the missingness process, skimming
    through the **“Missing Values”** section of the report:'
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
  zh: 我们可以进一步检查缺失过程的一些特征，浏览报告中的**“缺失值”**部分：
- en: '![](../Images/dde63dae33636c0dd008b214d0bb3ba8.png)'
  id: totrans-96
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/dde63dae33636c0dd008b214d0bb3ba8.png)'
- en: 'Profiling Report: Investigating Missing Data. Screencast by Author.'
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
  zh: 配置文件报告：调查缺失数据。作者录制的屏幕录像。
- en: 'Besided the “*Count*” plot, that gives us an overview of all missing values
    per feature, we can explore the “*Matrix*” and “*Heatmap*” plots in more detail
    to hypothesize on the underlying missing mechanisms the data may suffer from.
    In particular, **the correlation between missing features might be informative**.
    In this case, there seems to be a significant correlation between `Insulin` and
    `SkinThicknes` : both values seem to be simultaneously missing for some patients.
    Whether this is a coincidence (*unlikely*), or the missingness process can be
    explained by known factors, namely portraying MAR or MNAR mechanisms would be
    something for us to dive our noses into!'
  id: totrans-98
  prefs: []
  type: TYPE_NORMAL
  zh: 除了“*计数*”图表，它为我们提供了每个特征所有缺失值的概述，我们可以更详细地探索“*矩阵*”和“*热图*”图表，以对数据可能存在的潜在缺失机制进行假设。特别是，**缺失特征之间的相关性可能会提供信息**。在这种情况下，`Insulin`
    和 `SkinThickness` 之间似乎存在显著的相关性：对于某些患者，这两个值似乎同时缺失。这是否是巧合（*不太可能*），或者缺失过程是否可以通过已知因素来解释，即表现出
    MAR 或 MNAR 机制，这将是我们深入探讨的内容！
- en: 'Regardless, now we have our data ready for analysis! **Unfortunately, the process
    of handling missing data is far from being over.** Many classic machine learning
    algorithms cannot handle missing data, and we need find expert ways to mitigate
    the issue. Let’s try to evaluate the *Linear Discriminant Analysis (LDA) algorithm*
    on this dataset:'
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: 不管怎样，现在我们的数据已经准备好进行分析了！**不幸的是，处理缺失数据的过程远未结束。** 许多经典的机器学习算法无法处理缺失数据，我们需要找到专家的方法来缓解这个问题。让我们尝试在这个数据集上评估*线性判别分析（LDA）算法*：
- en: Evaluating the *Linear Discriminant Analysis (LDA) algorithm with missing values*.
    Snippet by Author.
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
  zh: 评估带有缺失值的*线性判别分析（LDA）算法*。作者提供的代码片段。
- en: 'If you try to run this code, it will immediately throw an error:'
  id: totrans-101
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你尝试运行这段代码，它会立即抛出一个错误：
- en: '![](../Images/5d49fa9f4ddb0fd8fa63e487934e589d.png)'
  id: totrans-102
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/5d49fa9f4ddb0fd8fa63e487934e589d.png)'
- en: '*LDA algorithm cannot cope with missing values internall, throwing and error
    message*. Image by Author.'
  id: totrans-103
  prefs: []
  type: TYPE_NORMAL
  zh: '*LDA算法无法内部处理缺失值，抛出错误信息*。图片由作者提供。'
- en: The simplest way to fix this (*and the most naive!*) would be to **remove all
    records that contain missing values.** We can do this by creating a new data frame
    with the rows containing missing values removed, using the `dropna()` function…
  id: totrans-104
  prefs: []
  type: TYPE_NORMAL
  zh: 解决这个问题的最简单方法（*也是最天真的方法！*）是**删除所有包含缺失值的记录**。我们可以通过创建一个新数据框，使用`dropna()`函数删除包含缺失值的行来实现这一点……
- en: Dropping all rows/observations with missing values. Snippet by Author.
  id: totrans-105
  prefs: []
  type: TYPE_NORMAL
  zh: 删除所有缺失值的行/观察值。代码片段由作者提供。
- en: '… and trying again:'
  id: totrans-106
  prefs: []
  type: TYPE_NORMAL
  zh: … 再次尝试：
- en: Evaluating the LDA *algorithm without missing values*. Snippet by Author.
  id: totrans-107
  prefs: []
  type: TYPE_NORMAL
  zh: 评估没有缺失值的LDA*算法*。代码片段由作者提供。
- en: '![](../Images/1a429389b044e98ad76f7478d6b9b890.png)'
  id: totrans-108
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/1a429389b044e98ad76f7478d6b9b890.png)'
- en: LDA can now operate, althought the dataset size is nearly cut in half. Image
    by Author.
  id: totrans-109
  prefs: []
  type: TYPE_NORMAL
  zh: LDA现在可以运行，尽管数据集的大小几乎减少了一半。图片由作者提供。
- en: '**And there you have it!** By the dropping the missing values, *the LDA algorithm
    can now operate normally*.'
  id: totrans-110
  prefs: []
  type: TYPE_NORMAL
  zh: '**就这样！** 通过删除缺失值，*LDA算法现在可以正常运行*。'
- en: '**However, the dataset size was substantially reduced to 392 observations only,
    which means we are losing nearly half of the available information.**'
  id: totrans-111
  prefs: []
  type: TYPE_NORMAL
  zh: '**然而，数据集的大小被大幅缩减至仅392个观察值，这意味着我们失去了近一半的可用信息**。'
- en: For that reason, instead of simply dropping observations, *we should look for
    imputation strategies, either* [*statistical*](https://ydata.ai/resources/advanced-data-visualisation-with-pandas-profiling)
    *or machine-learning based*. We could also use [*synthetic data*](https://ydata.ai/resources/conditional-synthetic-data-generation-for-robust-machine-learning-applications)
    to replace the missing values, depending on our final application.
  id: totrans-112
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，我们应该寻找插补策略，而不是仅仅删除观察值，*可以是* [*统计学的*](https://ydata.ai/resources/advanced-data-visualisation-with-pandas-profiling)
    *或基于机器学习的*。我们还可以使用[*合成数据*](https://ydata.ai/resources/conditional-synthetic-data-generation-for-robust-machine-learning-applications)来替换缺失值，具体取决于我们的最终应用。
- en: And for that, we might try to get some insight on the underlying missing mechanisms
    in the data. *Something to look forward to in future articles?*
  id: totrans-113
  prefs: []
  type: TYPE_NORMAL
  zh: 为此，我们可能需要尝试了解数据中潜在的缺失机制。*这将是未来文章中的一个期待点？*
- en: Final Thoughts
  id: totrans-114
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 结语
- en: In this piece, we’ve covered all the basics that data scientists need to master
    as they start working with missing data.
  id: totrans-115
  prefs: []
  type: TYPE_NORMAL
  zh: 在这篇文章中，我们已经覆盖了数据科学家在开始处理缺失数据时需要掌握的所有基础知识。
- en: From the problem itself, to the missing mechanisms, we’ve discovered the impact
    that missing information can have on our data science projects, and that, despite
    all `NaNs` may look the same, *they may tell very different stories.*
  id: totrans-116
  prefs: []
  type: TYPE_NORMAL
  zh: 从问题本身到缺失机制，我们发现了缺失信息对我们的数据科学项目可能造成的影响，尽管所有的`NaNs`看起来可能相同，*它们可能讲述非常不同的故事*。
- en: In my following articles, I’ll take each missing mechanism specifically, focusing
    on ***generation***, ***imputation***, and ***visualization*** strategies for
    each one, so stay tuned for new blogposts and don’t forget to star the [Data-Centric
    AI Repository](https://github.com/Data-Centric-AI-Community/awesome-python-for-data-science)
    to never miss a code update!
  id: totrans-117
  prefs: []
  type: TYPE_NORMAL
  zh: 在接下来的文章中，我将逐一介绍每种缺失机制，重点关注***生成***、***插补***和***可视化***策略，所以请关注新的博客文章，并不要忘记给[数据驱动的AI仓库](https://github.com/Data-Centric-AI-Community/awesome-python-for-data-science)加星标，以便随时获取代码更新！
- en: As always, feedback, questions, and suggestions are very much welcome! You can
    leave me a comment, contribute to the repo, and even find me at the [Data-Centric
    AI Community](https://tiny.ydata.ai/dcai-medium) to discuss other data-related
    topics. *See you there?*
  id: totrans-118
  prefs: []
  type: TYPE_NORMAL
  zh: 一如既往，欢迎反馈、问题和建议！你可以给我留言，贡献代码到仓库，甚至可以在[数据驱动的AI社区](https://tiny.ydata.ai/dcai-medium)找到我，讨论其他与数据相关的话题。*到时候见？*
- en: About me
  id: totrans-119
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 关于我
- en: Ph.D., Machine Learning Researcher, Educator, Data Advocate, and overall “jack-of-all-trades”.
    Here on Medium, I write about **Data-Centric AI and Data Quality**, educating
    the Data Science & Machine Learning communities on how to move from imperfect
    to intelligent data.
  id: totrans-120
  prefs: []
  type: TYPE_NORMAL
  zh: 博士，机器学习研究员，教育者，数据倡导者，以及全能“万金油”。在Medium上，我写关于**数据驱动的人工智能和数据质量**，为数据科学与机器学习社区提供如何从不完美数据转向智能数据的教育。
- en: '[Data-Centric AI Community](https://tiny.ydata.ai/dcai-medium) | [GitHub](https://github.com/Data-Centric-AI-Community)
    | [Google Scholar](https://scholar.google.com/citations?user=isaI6u8AAAAJ&hl=en)
    | [LinkedIn](https://www.linkedin.com/in/miriamseoanesantos/)'
  id: totrans-121
  prefs: []
  type: TYPE_NORMAL
  zh: '[以数据为中心的人工智能社区](https://tiny.ydata.ai/dcai-medium) | [GitHub](https://github.com/Data-Centric-AI-Community)
    | [谷歌学术](https://scholar.google.com/citations?user=isaI6u8AAAAJ&hl=en) | [领英](https://www.linkedin.com/in/miriamseoanesantos/)'
