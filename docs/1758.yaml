- en: Lineage + Hamilton in 10 minutes
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '**10åˆ†é’Ÿç†è§£Lineageå’ŒHamilton**'
- en: åŸæ–‡ï¼š[https://towardsdatascience.com/lineage-hamilton-in-10-minutes-c2b8a944e2e6?source=collection_archive---------8-----------------------#2023-05-26](https://towardsdatascience.com/lineage-hamilton-in-10-minutes-c2b8a944e2e6?source=collection_archive---------8-----------------------#2023-05-26)
  id: totrans-1
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: åŸæ–‡ï¼š[https://towardsdatascience.com/lineage-hamilton-in-10-minutes-c2b8a944e2e6?source=collection_archive---------8-----------------------#2023-05-26](https://towardsdatascience.com/lineage-hamilton-in-10-minutes-c2b8a944e2e6?source=collection_archive---------8-----------------------#2023-05-26)
- en: Spend less time debugging your pipelines by using [Hamilton](https://github.com/dagworks-inc/hamilton)â€™s
    out of the box lineage capabilities.
  id: totrans-2
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: é€šè¿‡ä½¿ç”¨ [Hamilton](https://github.com/dagworks-inc/hamilton) çš„å¼€ç®±å³ç”¨çš„LineageåŠŸèƒ½ï¼Œå‡å°‘è°ƒè¯•ç®¡é“çš„æ—¶é—´ã€‚
- en: '[](https://medium.com/@stefan.krawczyk?source=post_page-----c2b8a944e2e6--------------------------------)[![Stefan
    Krawczyk](../Images/150405abaad9590e1dc2589168ed2fa3.png)](https://medium.com/@stefan.krawczyk?source=post_page-----c2b8a944e2e6--------------------------------)[](https://towardsdatascience.com/?source=post_page-----c2b8a944e2e6--------------------------------)[![Towards
    Data Science](../Images/a6ff2676ffcc0c7aad8aaf1d79379785.png)](https://towardsdatascience.com/?source=post_page-----c2b8a944e2e6--------------------------------)
    [Stefan Krawczyk](https://medium.com/@stefan.krawczyk?source=post_page-----c2b8a944e2e6--------------------------------)'
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: '[](https://medium.com/@stefan.krawczyk?source=post_page-----c2b8a944e2e6--------------------------------)[![Stefan
    Krawczyk](../Images/150405abaad9590e1dc2589168ed2fa3.png)](https://medium.com/@stefan.krawczyk?source=post_page-----c2b8a944e2e6--------------------------------)[](https://towardsdatascience.com/?source=post_page-----c2b8a944e2e6--------------------------------)[![æ•°æ®ç§‘å­¦å‰æ²¿](../Images/a6ff2676ffcc0c7aad8aaf1d79379785.png)](https://towardsdatascience.com/?source=post_page-----c2b8a944e2e6--------------------------------)
    [Stefan Krawczyk](https://medium.com/@stefan.krawczyk?source=post_page-----c2b8a944e2e6--------------------------------)'
- en: Â·
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: Â·
- en: '[Follow](https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F193628e26f00&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Flineage-hamilton-in-10-minutes-c2b8a944e2e6&user=Stefan+Krawczyk&userId=193628e26f00&source=post_page-193628e26f00----c2b8a944e2e6---------------------post_header-----------)
    Published in [Towards Data Science](https://towardsdatascience.com/?source=post_page-----c2b8a944e2e6--------------------------------)
    Â·11 min readÂ·May 26, 2023[](https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fc2b8a944e2e6&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Flineage-hamilton-in-10-minutes-c2b8a944e2e6&user=Stefan+Krawczyk&userId=193628e26f00&source=-----c2b8a944e2e6---------------------clap_footer-----------)'
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: '[å…³æ³¨](https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F193628e26f00&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Flineage-hamilton-in-10-minutes-c2b8a944e2e6&user=Stefan+Krawczyk&userId=193628e26f00&source=post_page-193628e26f00----c2b8a944e2e6---------------------post_header-----------)
    å‘è¡¨åœ¨ [æ•°æ®ç§‘å­¦å‰æ²¿](https://towardsdatascience.com/?source=post_page-----c2b8a944e2e6--------------------------------)
    Â· 11 åˆ†é’Ÿé˜…è¯» Â· 2023å¹´5æœˆ26æ—¥[](https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fc2b8a944e2e6&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Flineage-hamilton-in-10-minutes-c2b8a944e2e6&user=Stefan+Krawczyk&userId=193628e26f00&source=-----c2b8a944e2e6---------------------clap_footer-----------)'
- en: --
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: --
- en: '[](https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fc2b8a944e2e6&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Flineage-hamilton-in-10-minutes-c2b8a944e2e6&source=-----c2b8a944e2e6---------------------bookmark_footer-----------)![](../Images/18b9188673f75ef0764b9b84979467c2.png)'
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: '[](https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fc2b8a944e2e6&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Flineage-hamilton-in-10-minutes-c2b8a944e2e6&source=-----c2b8a944e2e6---------------------bookmark_footer-----------)![](../Images/18b9188673f75ef0764b9b84979467c2.png)'
- en: 'Hamilton + Lineage: Enabling you to visualize and understand how things connect.
    This was created using driver.visualize_path_between(). Image by author.'
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: Hamilton + Lineageï¼šä½¿æ‚¨èƒ½å¤Ÿå¯è§†åŒ–å’Œç†è§£äº‹ç‰©ä¹‹é—´çš„è”ç³»ã€‚è¿™æ˜¯é€šè¿‡driver.visualize_path_between()åˆ›å»ºçš„ã€‚å›¾åƒç”±ä½œè€…æä¾›ã€‚
- en: '[Hamilton](https://github.com/dagworks-inc/hamilton) is a general purpose open-source
    micro-framework for describing dataflows. It is great for data & Machine Learning
    (ML) work. In this post, weâ€™re going to walk you through [Hamiltonâ€™s](https://github.com/dagworks-inc/hamilton)
    lineage capabilities that can help you quickly answer common questions that arise
    while working with data & ML, so that you can work more efficiently and collaborate
    more effectively with colleagues. If youâ€™re not familiar with Hamilton we invite
    you to browse the following:'
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: '[Hamilton](https://github.com/dagworks-inc/hamilton) æ˜¯ä¸€ä¸ªé€šç”¨çš„å¼€æºå¾®æ¡†æ¶ï¼Œç”¨äºæè¿°æ•°æ®æµã€‚å®ƒéå¸¸é€‚ç”¨äºæ•°æ®å’Œæœºå™¨å­¦ä¹ ï¼ˆMLï¼‰å·¥ä½œã€‚åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬å°†å¼•å¯¼ä½ äº†è§£
    [Hamilton](https://github.com/dagworks-inc/hamilton) çš„è¡€ç¼˜å…³ç³»åŠŸèƒ½ï¼Œè¿™äº›åŠŸèƒ½å¯ä»¥å¸®åŠ©ä½ å¿«é€Ÿå›ç­”åœ¨æ•°æ®å’Œæœºå™¨å­¦ä¹ å·¥ä½œä¸­å¸¸è§çš„é—®é¢˜ï¼Œä»è€Œæé«˜å·¥ä½œæ•ˆç‡ï¼Œæ›´æœ‰æ•ˆåœ°ä¸åŒäº‹åˆä½œã€‚å¦‚æœä½ ä¸ç†Ÿæ‚‰
    Hamiltonï¼Œæˆ‘ä»¬é‚€è¯·ä½ æµè§ˆä»¥ä¸‹å†…å®¹ï¼š'
- en: '[www.tryhamilton.dev](http://www.tryhamilton.dev) (interactive in the browser
    overview)'
  id: totrans-10
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[www.tryhamilton.dev](http://www.tryhamilton.dev) ï¼ˆæµè§ˆå™¨ä¸­çš„äº’åŠ¨æ¦‚è¿°ï¼‰'
- en: '[Introducing Hamilton](/functions-dags-introducing-hamilton-a-microframework-for-dataframe-generation-more-8e34b84efc1d)
    (backstory and introduction)'
  id: totrans-11
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[Introducing Hamilton](/functions-dags-introducing-hamilton-a-microframework-for-dataframe-generation-more-8e34b84efc1d)
    ï¼ˆèƒŒæ™¯æ•…äº‹å’Œä»‹ç»ï¼‰'
- en: '[Hamilton + Pandas in 5 minutes](/how-to-use-hamilton-with-pandas-in-5-minutes-89f63e5af8f5)'
  id: totrans-12
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[Hamilton + Pandas in 5 minutes](/how-to-use-hamilton-with-pandas-in-5-minutes-89f63e5af8f5)'
- en: Github â€” [https://github.com/dagworks-inc/hamilton](https://github.com/dagworks-inc/hamilton)
  id: totrans-13
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Github â€” [https://github.com/dagworks-inc/hamilton](https://github.com/dagworks-inc/hamilton)
- en: Lineage
  id: totrans-14
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: è¡€ç¼˜å…³ç³»
- en: What do I mean by lineage you may ask? In the context of machine learning and
    data work, â€œlineageâ€ refers to the historical record or traceability of data as
    it is transformed and manipulated into things like tables, statistical models,
    etc. Lineage helps one to determine the provenance, quality, and reliability of
    â€œdataâ€, as it aids in understanding how data has been transformed.
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: ä½ å¯èƒ½ä¼šé—®ï¼Œæˆ‘æ‰€è¯´çš„è¡€ç¼˜å…³ç³»æ˜¯ä»€ä¹ˆæ„æ€ï¼Ÿåœ¨æœºå™¨å­¦ä¹ å’Œæ•°æ®å·¥ä½œä¸­ï¼Œâ€œè¡€ç¼˜å…³ç³»â€æŒ‡çš„æ˜¯æ•°æ®åœ¨è½¬åŒ–å’Œå¤„ç†æˆè¡¨æ ¼ã€ç»Ÿè®¡æ¨¡å‹ç­‰å½¢å¼æ—¶çš„å†å²è®°å½•æˆ–å¯è¿½æº¯æ€§ã€‚è¡€ç¼˜å…³ç³»å¸®åŠ©ç¡®å®šâ€œæ•°æ®â€çš„æ¥æºã€è´¨é‡å’Œå¯é æ€§ï¼Œå› ä¸ºå®ƒæœ‰åŠ©äºç†è§£æ•°æ®å¦‚ä½•è¢«è½¬åŒ–ã€‚
- en: Why you should care about lineage?
  id: totrans-16
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: ä½ ä¸ºä»€ä¹ˆåº”è¯¥å…³æ³¨è¡€ç¼˜å…³ç³»ï¼Ÿ
- en: 'If youâ€™re the author of what you have to manage, you probably have a fair idea
    how everything that youâ€™ve written connects. **But**, for someone to inherit your
    work, or to bring on a collaborator, or having to debug something you wrote six
    months ago, **getting up to speed can be a challenge**! Iâ€™ve heard of teams taking
    over a quarter to understand work a colleague left behind (theyâ€™re obviously not
    using Hamilton)! In situations such as these, is where *lineage* can be a great
    help. To provide some more context, here are some common situations that result
    in lost productivity, general unhappiness, and even outages:'
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: å¦‚æœä½ æ˜¯ä½ å¿…é¡»ç®¡ç†çš„å†…å®¹çš„ä½œè€…ï¼Œä½ å¯èƒ½å¯¹ä½ å†™çš„æ‰€æœ‰å†…å®¹å¦‚ä½•è¿æ¥æœ‰ä¸€ä¸ªå¤§è‡´çš„äº†è§£ã€‚**ä½†**ï¼Œå¯¹äºç»§æ‰¿ä½ å·¥ä½œçš„å…¶ä»–äººï¼Œæˆ–å¼•å…¥ä¸€ä¸ªåˆä½œè€…ï¼Œæˆ–è€…è°ƒè¯•ä½ å…­ä¸ªæœˆå‰å†™çš„ä¸œè¥¿ï¼Œ**è¿…é€Ÿäº†è§£æƒ…å†µå¯èƒ½ä¼šæ˜¯ä¸€ä¸ªæŒ‘æˆ˜**ï¼æˆ‘å¬è¯´è¿‡æœ‰å›¢é˜ŸèŠ±è´¹è¶…è¿‡å››åˆ†ä¹‹ä¸€çš„æ—¶é—´æ¥ç†è§£åŒäº‹ç•™ä¸‹çš„å·¥ä½œï¼ˆä»–ä»¬æ˜¾ç„¶æ²¡æœ‰ä½¿ç”¨Hamiltonï¼‰ï¼åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œ*è¡€ç¼˜å…³ç³»*å¯ä»¥æä¾›å¾ˆå¤§çš„å¸®åŠ©ã€‚ä¸ºäº†æä¾›æ›´å¤šèƒŒæ™¯ï¼Œä»¥ä¸‹æ˜¯ä¸€äº›å¯¼è‡´ç”Ÿäº§åŠ›æŸå¤±ã€æ™®éä¸æ»¡ç”šè‡³ä¸­æ–­çš„å¸¸è§æƒ…å†µï¼š
- en: (a) debugging a data problem with your training set/model (that turned out to
    be an upstream data issue).
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: (a) è°ƒè¯•ä½ çš„è®­ç»ƒé›†/æ¨¡å‹ä¸­çš„æ•°æ®é—®é¢˜ï¼ˆç»“æœå‘ç°æ˜¯ä¸Šæ¸¸æ•°æ®é—®é¢˜ï¼‰ã€‚
- en: (b) trying to determine how someone elseâ€™s pipeline works (because you inherited
    it, or have to collaborate with them).
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: (b) å°è¯•ç¡®å®šä»–äººçš„ç®¡é“å¦‚ä½•å·¥ä½œï¼ˆå› ä¸ºä½ ç»§æ‰¿äº†å®ƒï¼Œæˆ–å¿…é¡»ä¸ä»–ä»¬åˆä½œï¼‰ã€‚
- en: (c) having to fulfill an auditing requirement on how some data got somewhere
    (e.g. GDPR, data usage policies, etc.).
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: (c) éœ€è¦æ»¡è¶³æŸäº›æ•°æ®å¦‚ä½•åˆ°è¾¾æŸå¤„çš„å®¡è®¡è¦æ±‚ï¼ˆä¾‹å¦‚ GDPRã€æ•°æ®ä½¿ç”¨æ”¿ç­–ç­‰ï¼‰ã€‚
- en: (d) wanting to make a change to a feature/column, but not having a good way
    to assess potential impacts (e.g. the business changed and so did data collected).
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: (d) æƒ³è¦å¯¹ä¸€ä¸ªåŠŸèƒ½/åˆ—è¿›è¡Œæ›´æ”¹ï¼Œä½†æ²¡æœ‰å¥½çš„æ–¹æ³•æ¥è¯„ä¼°æ½œåœ¨å½±å“ï¼ˆä¾‹å¦‚ï¼Œä¸šåŠ¡å‘ç”Ÿäº†å˜åŒ–ï¼Œæ”¶é›†çš„æ•°æ®ä¹Ÿå‘ç”Ÿäº†å˜åŒ–ï¼‰ã€‚
- en: Practically speaking, most people working in data and machine learning donâ€™t
    encounter or understand the value of having â€œlineageâ€ because more often than
    not, itâ€™s a headache to do well. Usually an external system is needed (e.g. [open
    lineage](https://openlineage.io/), [Amundsen](https://www.amundsen.io/), [Datahub](https://datahub.io/),
    etc), which then needs users to do extra work to populate it with information.
    The good news is, if you use Hamilton, there isnâ€™t the need for another system
    to get lineage; making use of lineage is straightforward too!
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: ä»å®é™…è§’åº¦æ¥çœ‹ï¼Œå¤§å¤šæ•°ä»äº‹æ•°æ®å’Œæœºå™¨å­¦ä¹ çš„äººä¸ä¼šé‡åˆ°æˆ–ç†è§£â€œè¡€ç»Ÿâ€çš„ä»·å€¼ï¼Œå› ä¸ºå¾€å¾€åšåˆ°è¿™ä¸€ç‚¹å¾ˆéº»çƒ¦ã€‚é€šå¸¸éœ€è¦ä¸€ä¸ªå¤–éƒ¨ç³»ç»Ÿï¼ˆå¦‚ [open lineage](https://openlineage.io/)ã€[Amundsen](https://www.amundsen.io/)ã€[Datahub](https://datahub.io/)
    ç­‰ï¼‰ï¼Œç„¶åç”¨æˆ·éœ€è¦é¢å¤–å·¥ä½œä»¥å¡«å……ä¿¡æ¯ã€‚å¥½æ¶ˆæ¯æ˜¯ï¼Œå¦‚æœä½ ä½¿ç”¨ Hamiltonï¼Œä¸éœ€è¦å¦ä¸€ä¸ªç³»ç»Ÿæ¥è·å–è¡€ç»Ÿï¼›ä½¿ç”¨è¡€ç»Ÿä¹Ÿå¾ˆç›´æ¥ï¼
- en: '**Lineage as Code**'
  id: totrans-23
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: '**è¡€ç»Ÿå³ä»£ç **'
- en: W*ith Hamilton, you do not need to add anything else, and you get lineage.*
  id: totrans-24
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '*ä½¿ç”¨ Hamiltonï¼Œä½ ä¸éœ€è¦æ·»åŠ ä»»ä½•å…¶ä»–å†…å®¹ï¼Œä½ å°±å¯ä»¥è·å¾—è¡€ç»Ÿã€‚*'
- en: '![](../Images/7f3aaa34a9ff82b39fc82fd81e3932a9.png)'
  id: totrans-25
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/7f3aaa34a9ff82b39fc82fd81e3932a9.png)'
- en: Write code. Get lineage like this. This was created using the Hamilton Driverâ€™s
    visualize_execution() function. Image by author.
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: ç¼–å†™ä»£ç ã€‚è·å–ç±»ä¼¼è¿™æ ·çš„è¡€ç»Ÿã€‚è¿™æ˜¯ä½¿ç”¨ Hamilton Driver çš„ visualize_execution() å‡½æ•°åˆ›å»ºçš„ã€‚å›¾ç‰‡ç”±ä½œè€…æä¾›ã€‚
- en: By virtue of writing code in the Hamiltonian way, you are defining computation
    within functions, and then specifying via function input arguments, how things
    connect, encoding lineage. Taking this code and connecting with e.g. a version
    control system (e.g. [git](https://git-scm.com/book/en/v2/Getting-Started-About-Version-Control)),
    then also provides you with the means to snapshot lineage at points in time! Because
    you have to update code to change how computation operates, you, by definition,
    then update lineage without you having to do anything ğŸ˜.
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: é€šè¿‡ä»¥ Hamilton æ–¹å¼ç¼–å†™ä»£ç ï¼Œä½ åœ¨å‡½æ•°ä¸­å®šä¹‰äº†è®¡ç®—ï¼Œç„¶åé€šè¿‡å‡½æ•°è¾“å…¥å‚æ•°æŒ‡å®šäº‹ç‰©å¦‚ä½•è¿æ¥ï¼Œç¼–ç è¡€ç»Ÿã€‚å°†æ­¤ä»£ç ä¸ä¾‹å¦‚ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿï¼ˆå¦‚ [git](https://git-scm.com/book/en/v2/Getting-Started-About-Version-Control)ï¼‰è¿æ¥èµ·æ¥ï¼Œä¹Ÿä¸ºä½ æä¾›äº†åœ¨æ—¶é—´ç‚¹å¿«ç…§è¡€ç»Ÿçš„æ‰‹æ®µï¼å› ä¸ºä½ å¿…é¡»æ›´æ–°ä»£ç ä»¥æ›´æ”¹è®¡ç®—æ“ä½œæ–¹å¼ï¼Œå› æ­¤ï¼ŒæŒ‰å®šä¹‰ï¼Œä½ ä¹Ÿæ›´æ–°äº†è¡€ç»Ÿï¼Œè€Œæ— éœ€åšä»»ä½•é¢å¤–çš„æ“ä½œ
    ğŸ˜ã€‚
- en: '![](../Images/067e1140bf8a39c935158394428e1116.png)'
  id: totrans-28
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/067e1140bf8a39c935158394428e1116.png)'
- en: Overview of the Hamilton paradigm. Instead of procedural code you write functions,
    that define how computation should proceed. Defining functions in this way maps
    exactly to lineage!
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: Hamilton èŒƒå¼æ¦‚è¿°ã€‚ä½ ç¼–å†™çš„å‡½æ•°å®šä¹‰äº†è®¡ç®—åº”å¦‚ä½•è¿›è¡Œï¼Œè€Œä¸æ˜¯ç¼–å†™è¿‡ç¨‹æ€§ä»£ç ã€‚ä»¥è¿™ç§æ–¹å¼å®šä¹‰å‡½æ•°å®Œå…¨æ˜ å°„åˆ°è¡€ç»Ÿï¼
- en: 'At a high level the recipe for â€˜Lineage as Codeâ€™ and then subsequently accessing
    it is:'
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: é«˜å±‚æ¬¡çš„â€œè¡€ç»Ÿå³ä»£ç â€åŠå…¶åç»­è®¿é—®çš„æ­¥éª¤æ˜¯ï¼š
- en: Write Hamilton code & version it.
  id: totrans-31
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: ç¼–å†™ Hamilton ä»£ç å¹¶è¿›è¡Œç‰ˆæœ¬æ§åˆ¶ã€‚
- en: Instantiate a Hamilton Driver, itâ€™ll then have a representation of how data
    and compute flow as defined by your Hamilton code. The Driver object can then
    emit/provide information on lineage!
  id: totrans-32
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: å®ä¾‹åŒ–ä¸€ä¸ª Hamilton Driverï¼Œå®ƒå°†ä¼šæœ‰ä¸€ä¸ªè¡¨ç¤ºæ•°æ®å’Œè®¡ç®—æµåŠ¨çš„æ–¹å¼ï¼Œæ­£å¦‚ä½ çš„ Hamilton ä»£ç æ‰€å®šä¹‰çš„ã€‚Driver å¯¹è±¡å¯ä»¥å‘å‡º/æä¾›å…³äºè¡€ç»Ÿçš„ä¿¡æ¯ï¼
- en: Using your version control system, you can then go back in time to understand
    how lineage changes over time, since itâ€™s encoded in code!
  id: totrans-33
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: ä½¿ç”¨ä½ çš„ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿï¼Œä½ å¯ä»¥å›æº¯åˆ°è¿‡å»ï¼Œä»¥ç†è§£è¡€ç»Ÿå¦‚ä½•éšç€æ—¶é—´çš„æ¨ç§»è€Œå˜åŒ–ï¼Œå› ä¸ºå®ƒè¢«ç¼–ç åœ¨ä»£ç ä¸­ï¼
- en: Adding metadata to make lineage more useful!
  id: totrans-34
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: æ·»åŠ å…ƒæ•°æ®ä»¥ä½¿è¡€ç»Ÿæ›´åŠ æœ‰ç”¨ï¼
- en: Lineage gets more useful, when you can also attach metadata to it. Hamilton
    by default enables you to express how things connect, but by attaching extra metadata,
    we can now connect business and company concepts via the lineage you have encoded
    with Hamilton.
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: å½“ä½ è¿˜å¯ä»¥å°†å…ƒæ•°æ®é™„åŠ åˆ°è¡€ç»Ÿä¸Šæ—¶ï¼Œè¡€ç»Ÿä¼šå˜å¾—æ›´åŠ æœ‰ç”¨ã€‚Hamilton é»˜è®¤ä½¿ä½ èƒ½å¤Ÿè¡¨è¾¾äº‹ç‰©å¦‚ä½•è¿æ¥ï¼Œä½†é€šè¿‡é™„åŠ é¢å¤–çš„å…ƒæ•°æ®ï¼Œæˆ‘ä»¬ç°åœ¨å¯ä»¥é€šè¿‡ Hamilton
    ç¼–ç çš„è¡€ç»Ÿè¿æ¥ä¸šåŠ¡å’Œå…¬å¸æ¦‚å¿µã€‚
- en: For example, you can annotate functions that pull data with concerns such as
    [PII](https://en.wikipedia.org/wiki/Personal_data), ownership, importance, etc.,
    and annotate functions that create important artifacts, e.g. models, data sets,
    with similar information. With these functions now annotated, the set of questions
    lineage can answer is now much greater! Other systems, in contrast, require you
    to put this metadata somewhere else; a YAML file, a different part of the code
    base, or separately curate this information in some other place. Philosophically
    with Hamilton, *we believe it makes the most sense* to annotate the actual code
    directly, since that ensures that the source of truth of code & metadata is always
    up to date. With Hamilton, itâ€™s easier to maintain both since thereâ€™s only a single
    place needed to make a change.
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: ä¾‹å¦‚ï¼Œä½ å¯ä»¥ä¸ºæå–æ•°æ®çš„å‡½æ•°æ·»åŠ å…³åˆ‡ç‚¹ï¼Œå¦‚[PII](https://en.wikipedia.org/wiki/Personal_data)ã€æ‰€æœ‰æƒã€é‡è¦æ€§ç­‰ï¼Œå¹¶ä¸ºåˆ›å»ºé‡è¦æ–‡ç‰©çš„å‡½æ•°ï¼ˆå¦‚æ¨¡å‹ã€æ•°æ®é›†ï¼‰æ·»åŠ ç±»ä¼¼ä¿¡æ¯ã€‚ç°åœ¨è¿™äº›å‡½æ•°å·²è¢«æ³¨è§£ï¼Œèƒ½å¤Ÿå›ç­”çš„é—®é¢˜é›†å°±å¤§å¤§å¢åŠ äº†ï¼ç›¸æ¯”ä¹‹ä¸‹ï¼Œå…¶ä»–ç³»ç»Ÿè¦æ±‚ä½ å°†è¿™äº›å…ƒæ•°æ®æ”¾åœ¨å…¶ä»–åœ°æ–¹ï¼›ä¾‹å¦‚ä¸€ä¸ª
    YAML æ–‡ä»¶ã€ä»£ç åº“çš„ä¸åŒéƒ¨åˆ†ï¼Œæˆ–åœ¨å…¶ä»–åœ°æ–¹å•ç‹¬æ•´ç†è¿™äº›ä¿¡æ¯ã€‚åœ¨ Hamilton çš„å“²å­¦ä¸­ï¼Œ*æˆ‘ä»¬è®¤ä¸ºç›´æ¥æ³¨è§£å®é™…ä»£ç æœ€ä¸ºåˆç†*ï¼Œå› ä¸ºè¿™æ ·å¯ä»¥ç¡®ä¿ä»£ç å’Œå…ƒæ•°æ®çš„çœŸå®æ¥æºå§‹ç»ˆä¿æŒæœ€æ–°ã€‚ä½¿ç”¨
    Hamilton æ›´å®¹æ˜“ç»´æŠ¤ï¼Œå› ä¸ºåªéœ€åœ¨ä¸€ä¸ªåœ°æ–¹è¿›è¡Œæ›´æ”¹ã€‚
- en: In Hamilton, the way to add extra metadata is through the use of the `[@tag](https://hamilton.dagworks.io/en/latest/reference/decorators/tag/#hamilton.function_modifiers.tag)`
    and `[@tag_outputs](https://hamilton.dagworks.io/en/latest/reference/decorators/tag/#hamilton.function_modifiers.tag)`
    decorators. They allow one to specify arbitrary string key-value pairs. This provides
    flexibility and the ability for you and your organization to define tags and values
    that make sense for your context.
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨ Hamilton ä¸­ï¼Œæ·»åŠ é¢å¤–å…ƒæ•°æ®çš„æ–¹æ³•æ˜¯é€šè¿‡ä½¿ç”¨ `[@tag](https://hamilton.dagworks.io/en/latest/reference/decorators/tag/#hamilton.function_modifiers.tag)`
    å’Œ `[@tag_outputs](https://hamilton.dagworks.io/en/latest/reference/decorators/tag/#hamilton.function_modifiers.tag)`
    è£…é¥°å™¨ã€‚å®ƒä»¬å…è®¸æŒ‡å®šä»»æ„çš„å­—ç¬¦ä¸²é”®å€¼å¯¹ã€‚è¿™æä¾›äº†çµæ´»æ€§ï¼Œä½¿ä½ å’Œä½ çš„ç»„ç»‡èƒ½å¤Ÿå®šä¹‰é€‚åˆä½ ä»¬ä¸Šä¸‹æ–‡çš„æ ‡ç­¾å’Œå€¼ã€‚
- en: 'For example, the following code adds a bunch of metadata to:'
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: ä¾‹å¦‚ï¼Œä»¥ä¸‹ä»£ç ä¸ºï¼š
- en: The `titanic_data` function specifying its `source`, an `owner`, `importance`,
    contains PII, and links to some internal wiki.
  id: totrans-39
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '`titanic_data` å‡½æ•°æŒ‡å®šäº†å…¶ `source`ã€`owner`ã€`importance`ï¼ŒåŒ…å« PIIï¼Œå¹¶é“¾æ¥åˆ°ä¸€äº›å†…éƒ¨ç»´åŸºã€‚'
- en: The `age` and `sex` columns, specifying that they are PII.
  id: totrans-40
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '`age` å’Œ `sex` åˆ—æ·»åŠ äº†å¤§é‡å…ƒæ•°æ®ï¼ŒæŒ‡å®šå®ƒä»¬æ˜¯ PIIã€‚'
- en: 'Note: Iâ€™m showing a slightly more complex example with multiple decorators
    just to show that things donâ€™t get more complex than this â€” the code is still
    quite readable!'
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: æ³¨æ„ï¼šæˆ‘å±•ç¤ºäº†ä¸€ä¸ªç¨å¾®å¤æ‚çš„ç¤ºä¾‹ï¼Œä½¿ç”¨äº†å¤šä¸ªè£…é¥°å™¨ï¼Œåªæ˜¯ä¸ºäº†è¯´æ˜æƒ…å†µä¸ä¼šæ¯”è¿™æ›´å¤æ‚â€”â€”ä»£ç ä»ç„¶ç›¸å½“æ˜“è¯»ï¼
- en: '[PRE0]'
  id: totrans-42
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: 'While the following code helps provide more context from a business perspective
    on the model being created:'
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: ä»¥ä¸‹ä»£ç ä»ä¸šåŠ¡è§’åº¦æä¾›æœ‰å…³æ­£åœ¨åˆ›å»ºçš„æ¨¡å‹çš„æ›´å¤šä¸Šä¸‹æ–‡ï¼š
- en: '[PRE1]'
  id: totrans-44
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: With this extra metadata now attached to functions and therefore lineage, we
    can use that as context to ask more useful questions. More on that below.
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: ç°åœ¨è¿™äº›é¢å¤–çš„å…ƒæ•°æ®é™„åŠ åˆ°å‡½æ•°å’Œè¡€ç¼˜ä¸Šï¼Œæˆ‘ä»¬å¯ä»¥å°†å…¶ä½œä¸ºä¸Šä¸‹æ–‡æ¥æå‡ºæ›´æœ‰ç”¨çš„é—®é¢˜ã€‚æ›´å¤šå†…å®¹è§ä¸‹æ–‡ã€‚
- en: How to answer lineage questions with Hamilton
  id: totrans-46
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: å¦‚ä½•ä½¿ç”¨ Hamilton å›ç­”è¡€ç¼˜é—®é¢˜
- en: The basic mechanics of answering lineage questions relies on instantiating a
    [Hamilton Driver](https://hamilton.dagworks.io/en/latest/reference/drivers/Driver/#driver),
    which under the hood creates a directed acyclic graph (DAG) to represent its view
    of the world, and then using the functions the Driver has. Letâ€™s list the relevant
    Driver functions and what they do.
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: å›ç­”è¡€ç¼˜é—®é¢˜çš„åŸºæœ¬æœºåˆ¶ä¾èµ–äºå®ä¾‹åŒ–ä¸€ä¸ª [Hamilton Driver](https://hamilton.dagworks.io/en/latest/reference/drivers/Driver/#driver)ï¼Œè¯¥
    Driver åœ¨åº•å±‚åˆ›å»ºä¸€ä¸ªæœ‰å‘æ— ç¯å›¾ (DAG) æ¥è¡¨ç¤ºå…¶ä¸–ç•Œè§‚ï¼Œç„¶åä½¿ç”¨ Driver æ‹¥æœ‰çš„å‡½æ•°ã€‚è®©æˆ‘ä»¬åˆ—å‡ºç›¸å…³çš„ Driver å‡½æ•°åŠå…¶åŠŸèƒ½ã€‚
- en: '**Visualizing lineage** (i.e. displaying the DAG):'
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: '**å¯è§†åŒ–è¡€ç¼˜**ï¼ˆå³æ˜¾ç¤º DAGï¼‰ï¼š'
- en: '[display_*()](https://hamilton.dagworks.io/en/latest/reference/drivers/Driver/#hamilton.driver.Driver.display_all_functions)
    there are three **display_*** functions. One that helps you display how everything
    defined connects. Then a function to only visualize whatâ€™s upstream, and then
    one to visualize what is downstream of a given function/node.'
  id: totrans-49
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[display_*()](https://hamilton.dagworks.io/en/latest/reference/drivers/Driver/#hamilton.driver.Driver.display_all_functions)
    æœ‰ä¸‰ä¸ª **display_*** å‡½æ•°ã€‚ä¸€ä¸ªå¸®åŠ©ä½ æ˜¾ç¤ºå®šä¹‰çš„æ‰€æœ‰è¿æ¥å…³ç³»ã€‚ç„¶åä¸€ä¸ªå‡½æ•°ç”¨äºä»…å¯è§†åŒ–ä¸Šæ¸¸å†…å®¹ï¼Œæœ€åä¸€ä¸ªå‡½æ•°å¯è§†åŒ–ç»™å®šå‡½æ•°/èŠ‚ç‚¹çš„ä¸‹æ¸¸å†…å®¹ã€‚'
- en: '[visualize_execution()](https://hamilton.dagworks.io/en/latest/reference/drivers/Driver/#hamilton.driver.Driver.visualize_execution)
    which helps visualize everything that is required to produce some outputs. Useful
    for displaying what `.execute()` does.'
  id: totrans-50
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[visualize_execution()](https://hamilton.dagworks.io/en/latest/reference/drivers/Driver/#hamilton.driver.Driver.visualize_execution)
    å¸®åŠ©å¯è§†åŒ–ç”ŸæˆæŸäº›è¾“å‡ºæ‰€éœ€çš„ä¸€åˆ‡ã€‚ç”¨äºå±•ç¤º `.execute()` çš„ä½œç”¨ã€‚'
- en: '[visualize_path_between()](https://hamilton.dagworks.io/en/latest/reference/drivers/Driver/#hamilton.driver.Driver.visualize_path_between)
    which helps visualize a path between two nodes.'
  id: totrans-51
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[visualize_path_between()](https://hamilton.dagworks.io/en/latest/reference/drivers/Driver/#hamilton.driver.Driver.visualize_path_between)
    å¸®åŠ©å¯è§†åŒ–ä¸¤ä¸ªèŠ‚ç‚¹ä¹‹é—´çš„è·¯å¾„ã€‚'
- en: '**Getting access to metadata for lineage needs:**'
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: '**è·å–è°±ç³»éœ€æ±‚çš„å…ƒæ•°æ®è®¿é—®æƒé™ï¼š**'
- en: '[list_available_variables()](https://hamilton.dagworks.io/en/latest/reference/drivers/Driver/#hamilton.driver.Driver.list_available_variables)
    Enables one to get all the â€œfunctions/nodesâ€ and access to their tags.'
  id: totrans-53
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[list_available_variables()](https://hamilton.dagworks.io/en/latest/reference/drivers/Driver/#hamilton.driver.Driver.list_available_variables)
    ä½¿ç”¨æˆ·èƒ½å¤Ÿè·å–æ‰€æœ‰â€œå‡½æ•°/èŠ‚ç‚¹â€åŠå…¶æ ‡ç­¾ã€‚'
- en: '[what_is_downstream_of()](https://hamilton.dagworks.io/en/latest/reference/drivers/Driver/#hamilton.driver.Driver.what_is_downstream_of)
    Enables one to get all the â€œfunctions/nodesâ€ that are downstream of the one specified.'
  id: totrans-54
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[what_is_downstream_of()](https://hamilton.dagworks.io/en/latest/reference/drivers/Driver/#hamilton.driver.Driver.what_is_downstream_of)
    ä½¿ç”¨æˆ·èƒ½å¤Ÿè·å–æŒ‡å®šèŠ‚ç‚¹ä¸‹æ¸¸çš„æ‰€æœ‰â€œå‡½æ•°/èŠ‚ç‚¹â€ã€‚'
- en: '[what_is_upstream_of()](https://hamilton.dagworks.io/en/latest/reference/drivers/Driver/#hamilton.driver.Driver.what_is_upstream_of)
    Enables one to get all the â€œfunctions/nodesâ€ that are upstream of the one specified.'
  id: totrans-55
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[what_is_upstream_of()](https://hamilton.dagworks.io/en/latest/reference/drivers/Driver/#hamilton.driver.Driver.what_is_upstream_of)
    ä½¿ç”¨æˆ·èƒ½å¤Ÿè·å–æŒ‡å®šèŠ‚ç‚¹ä¸Šæ¸¸çš„æ‰€æœ‰â€œå‡½æ•°/èŠ‚ç‚¹â€ã€‚'
- en: '[what_is_the_path_between()](https://hamilton.dagworks.io/en/latest/reference/drivers/Driver/#hamilton.driver.Driver.what_is_the_path_between)
    Enables one to get all the â€œfunctions/nodesâ€ that comprise the path between two
    specified â€œfunctions/nodesâ€.'
  id: totrans-56
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[what_is_the_path_between()](https://hamilton.dagworks.io/en/latest/reference/drivers/Driver/#hamilton.driver.Driver.what_is_the_path_between)
    ä½¿ç”¨æˆ·èƒ½å¤Ÿè·å–ä¸¤ä¸ªæŒ‡å®šâ€œå‡½æ•°/èŠ‚ç‚¹â€ä¹‹é—´è·¯å¾„çš„æ‰€æœ‰â€œå‡½æ•°/èŠ‚ç‚¹â€ã€‚'
- en: With Hamilton, using the functions above, you get programmatic access to lineage
    as well as visualizing it, which means that you can ask these questions in your
    CI systems, or in a notebook that uses the code thatâ€™s running in production,
    or anywhere that python runs!
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: ä½¿ç”¨ Hamilton å’Œä¸Šè¿°å‡½æ•°ï¼Œä½ å¯ä»¥å¯¹è°±ç³»è¿›è¡Œç¼–ç¨‹è®¿é—®ä»¥åŠå¯è§†åŒ–ï¼Œè¿™æ„å‘³ç€ä½ å¯ä»¥åœ¨ CI ç³»ç»Ÿä¸­ã€åœ¨è¿è¡Œç”Ÿäº§ä»£ç çš„ç¬”è®°æœ¬ä¸­ï¼Œæˆ–åœ¨ä»»ä½• Python
    è¿è¡Œçš„åœ°æ–¹æå‡ºè¿™äº›é—®é¢˜ï¼
- en: 'To recap what weâ€™ve talked about thus far, the general recipe to answer lineage
    questions is therefore as follows:'
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: å›é¡¾ä¸€ä¸‹åˆ°ç›®å‰ä¸ºæ­¢è®¨è®ºçš„å†…å®¹ï¼Œå›ç­”è°±ç³»é—®é¢˜çš„ä¸€èˆ¬æ–¹æ³•å¦‚ä¸‹ï¼š
- en: Write Hamilton code.
  id: totrans-59
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: ç¼–å†™ Hamilton ä»£ç ã€‚
- en: Use `@tag` to annotate functions.
  id: totrans-60
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: ä½¿ç”¨ `@tag` æ¥æ³¨é‡Šå‡½æ•°ã€‚
- en: Instantiate a Driver that creates your DAG.
  id: totrans-61
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: å®ä¾‹åŒ–ä¸€ä¸ª Driver æ¥åˆ›å»ºä½ çš„ DAGã€‚
- en: Use the Driver functions to ask/answer questions.
  id: totrans-62
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: ä½¿ç”¨ Driver å‡½æ•°æ¥æé—®/å›ç­”é—®é¢˜ã€‚
- en: 'To keep this post short, we wonâ€™t do an extensive deep dive into their use,
    weâ€™ll just surface some general questions that you can answer in a straightforward
    manner with Hamilton, with some examples using the functions above. The toy problem
    weâ€™ll be using is an end-to-end model pipeline in Hamilton that builds a model
    to predict Titanic survival; the code and more information can be found in the
    [Hamilton repositoryâ€™s Lineage example](https://github.com/DAGWorks-Inc/hamilton/tree/main/examples/lineage).
    Terminology side note: we use `function` and `node` interchangeably, since in
    Hamilton a `function` becomes a `node` in our visualizations.'
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸ºäº†ç®€çŸ­èµ·è§ï¼Œæˆ‘ä»¬ä¸ä¼šæ·±å…¥æ¢è®¨å®ƒä»¬çš„ä½¿ç”¨ï¼Œæˆ‘ä»¬å°†ç®€å•å±•ç¤ºä¸€äº›ä½ å¯ä»¥ç”¨ Hamilton ç›´æ¥å›ç­”çš„ä¸€èˆ¬é—®é¢˜ï¼Œå¹¶ç»“åˆä¸Šé¢æåˆ°çš„å‡½æ•°ä¸¾ä¾‹ã€‚æˆ‘ä»¬å°†ä½¿ç”¨çš„ç¤ºä¾‹é—®é¢˜æ˜¯ä¸€ä¸ª
    Hamilton ä¸­çš„ç«¯åˆ°ç«¯æ¨¡å‹ç®¡é“ï¼Œç”¨äºé¢„æµ‹æ³°å¦å°¼å…‹å·çš„ç”Ÿå­˜ç‡ï¼›ä»£ç å’Œæ›´å¤šä¿¡æ¯å¯ä»¥åœ¨ [Hamilton ä»“åº“çš„è°±ç³»ç¤ºä¾‹](https://github.com/DAGWorks-Inc/hamilton/tree/main/examples/lineage)
    ä¸­æ‰¾åˆ°ã€‚æœ¯è¯­è¯´æ˜ï¼šæˆ‘ä»¬å°† `function` å’Œ `node` äº’æ¢ä½¿ç”¨ï¼Œå› ä¸ºåœ¨ Hamilton ä¸­ï¼Œ`function` åœ¨æˆ‘ä»¬çš„å¯è§†åŒ–ä¸­ä¼šå˜æˆ `node`ã€‚
- en: (1) What sequence of operations produced this data/model?
  id: totrans-64
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: (1) ç”Ÿæˆè¿™ä¸ªæ•°æ®/æ¨¡å‹çš„æ“ä½œåºåˆ—æ˜¯ä»€ä¹ˆï¼Ÿ
- en: This is a common question to ask, how do we get from **A->B**, where **A** can
    be some data, `**->**` is opaque to us, and **B** can be some artifact (either
    more data or a model/object).
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™æ˜¯ä¸€ä¸ªå¸¸è§çš„é—®é¢˜ï¼Œå¦‚ä½•ä»**A->B**ï¼Œå…¶ä¸­**A**å¯ä»¥æ˜¯æŸäº›æ•°æ®ï¼Œ`**->**` å¯¹æˆ‘ä»¬æ¥è¯´æ˜¯ä¸é€æ˜çš„ï¼Œ**B** å¯ä»¥æ˜¯æŸä¸ªå·¥ä»¶ï¼ˆå¯ä»¥æ˜¯æ›´å¤šæ•°æ®æˆ–æ¨¡å‹/å¯¹è±¡ï¼‰ã€‚
- en: 'With Hamilton, by virtue of writing code in the style prescribed by Hamilton,
    you clearly and easily define the sequence of operations of what should happen
    and how it relates! So if you canâ€™t answer the question by looking at the code
    itself, you can ask Hamilton for help. In the context of our example, to understand
    how say the `feature_encoders` are created, without knowing much about them at
    all, we can ask the Hamilton Driver to visualize how theyâ€™re created for us:'
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: å€ŸåŠ©Hamiltonï¼Œé€šè¿‡ä»¥Hamiltonè§„å®šçš„é£æ ¼ç¼–å†™ä»£ç ï¼Œæ‚¨å¯ä»¥æ¸…æ™°è€Œè½»æ¾åœ°å®šä¹‰æ“ä½œçš„é¡ºåºä»¥åŠå®ƒä»¬ä¹‹é—´çš„å…³ç³»ï¼æ‰€ä»¥å¦‚æœæ‚¨ä¸èƒ½é€šè¿‡æŸ¥çœ‹ä»£ç æœ¬èº«æ¥å›ç­”è¿™ä¸ªé—®é¢˜ï¼Œå¯ä»¥è¯·Hamiltonæä¾›å¸®åŠ©ã€‚åœ¨æˆ‘ä»¬çš„ç¤ºä¾‹ä¸­ï¼Œä¸ºäº†äº†è§£`feature_encoders`æ˜¯å¦‚ä½•åˆ›å»ºçš„ï¼Œå³ä½¿å¯¹å®ƒä»¬çŸ¥ä¹‹ç”šå°‘ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥è¯·æ±‚Hamilton
    Driverä¸ºæˆ‘ä»¬å¯è§†åŒ–å®ƒä»¬çš„åˆ›å»ºè¿‡ç¨‹ï¼š
- en: '[PRE2]'
  id: totrans-67
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: 'Which outputs:'
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: è¾“å‡ºç»“æœï¼š
- en: '![](../Images/0e15e0f01d25dfbcbef5c52f3568aef0.png)'
  id: totrans-69
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/0e15e0f01d25dfbcbef5c52f3568aef0.png)'
- en: Example lineage visualization. Image by author.
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: ç¤ºä¾‹è¡€ç¼˜å¯è§†åŒ–ã€‚å›¾åƒç”±ä½œè€…æä¾›ã€‚
- en: You can then pair this with walking through your code base to more easily navigate
    and understand what is going on.
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: ç„¶åï¼Œæ‚¨å¯ä»¥å°†å…¶ä¸æµè§ˆä»£ç åº“ç›¸ç»“åˆï¼Œä»¥æ›´è½»æ¾åœ°å¯¼èˆªå’Œç†è§£å‘ç”Ÿäº†ä»€ä¹ˆã€‚
- en: '**(2) Whose/What data sources led to this artifact/model?**'
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: '**(2) è°/å“ªäº›æ•°æ®æºå¯¼è‡´äº†è¿™ä¸ªå·¥ä»¶/æ¨¡å‹ï¼Ÿ**'
- en: 'This is useful for debugging data issues, as well as understanding what teams
    and data sources an artifact/model depends on. For our Titanic example, say there
    is something funky with our Random Forest model and we want to double check, for
    the current production model, what the data sources are and who owns them so we
    can go ping them. To determine this, we can write the following code:'
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™å¯¹äºè°ƒè¯•æ•°æ®é—®é¢˜ä»¥åŠç†è§£ä¸€ä¸ªå·¥ä»¶/æ¨¡å‹ä¾èµ–äºå“ªäº›å›¢é˜Ÿå’Œæ•°æ®æºéå¸¸æœ‰ç”¨ã€‚ä»¥æˆ‘ä»¬çš„æ³°å¦å°¼å…‹å·ç¤ºä¾‹ä¸ºä¾‹ï¼Œå‡è®¾æˆ‘ä»¬çš„éšæœºæ£®æ—æ¨¡å‹å‡ºç°äº†ä¸€äº›å¼‚å¸¸ï¼Œæˆ‘ä»¬æƒ³è¦é‡æ–°æ£€æŸ¥å½“å‰ç”Ÿäº§æ¨¡å‹çš„æ•°æ®æºæ˜¯ä»€ä¹ˆä»¥åŠå®ƒä»¬çš„æ‰€æœ‰è€…ï¼Œä»¥ä¾¿æˆ‘ä»¬å¯ä»¥è”ç³»ä»–ä»¬ã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬å¯ä»¥ç¼–å†™ä»¥ä¸‹ä»£ç ï¼š
- en: '[PRE3]'
  id: totrans-74
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: 'The above two lines create a Driver, and then pull all upstream nodes of `fit_random_forest`
    . Then we can iterate through the nodes and pull the information we want:'
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸Šè¿°ä¸¤è¡Œåˆ›å»ºäº†ä¸€ä¸ªDriverï¼Œç„¶åæå–`fit_random_forest`çš„æ‰€æœ‰ä¸Šæ¸¸èŠ‚ç‚¹ã€‚ç„¶åæˆ‘ä»¬å¯ä»¥éå†è¿™äº›èŠ‚ç‚¹å¹¶æå–æˆ‘ä»¬æƒ³è¦çš„ä¿¡æ¯ï¼š
- en: '[PRE4]'
  id: totrans-76
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: (3) Who/What is downstream of this transform?
  id: totrans-77
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: (3) è°/ä»€ä¹ˆåœ¨è¿™ä¸ªå˜æ¢çš„ä¸‹æ¸¸ï¼Ÿ
- en: Answering this question is effectively the complement of (2). You commonly encounter
    it when someone wants to make a change to a feature, or a data source. Using our
    Titanic example, say weâ€™re on data engineering and want to change the source data.
    How could we determine what the artifacts that use this data are and who owns
    them?
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: å›ç­”è¿™ä¸ªé—®é¢˜å®é™…ä¸Šæ˜¯(2)çš„è¡¥å……ã€‚å½“æœ‰äººæƒ³è¦æ›´æ”¹ç‰¹å¾æˆ–æ•°æ®æºæ—¶ï¼Œæ‚¨é€šå¸¸ä¼šé‡åˆ°è¿™ä¸ªé—®é¢˜ã€‚ä»¥æˆ‘ä»¬çš„æ³°å¦å°¼å…‹å·ç¤ºä¾‹ä¸ºä¾‹ï¼Œå‡è®¾æˆ‘ä»¬åœ¨æ•°æ®å·¥ç¨‹éƒ¨é—¨ï¼Œæƒ³è¦æ›´æ”¹æºæ•°æ®ã€‚æˆ‘ä»¬å¦‚ä½•ç¡®å®šä½¿ç”¨è¿™äº›æ•°æ®çš„å·¥ä»¶æ˜¯ä»€ä¹ˆä»¥åŠè°æ‹¥æœ‰å®ƒä»¬ï¼Ÿ
- en: 'We use the `what_is_downstream_of()` Driver function to get nodes that are
    downstream:'
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬ä½¿ç”¨`what_is_downstream_of()` Driverå‡½æ•°æ¥è·å–ä¸‹æ¸¸çš„èŠ‚ç‚¹ï¼š
- en: '[PRE5]'
  id: totrans-80
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: 'Then analogously like in (2), we just loop through and pull out the information
    we want:'
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: ç„¶åç±»ä¼¼äº(2)ï¼Œæˆ‘ä»¬åªéœ€éå†å¹¶æå–æˆ‘ä»¬æƒ³è¦çš„ä¿¡æ¯ï¼š
- en: '[PRE6]'
  id: totrans-82
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: (4) What is defined as PII data, and what does it end up in?
  id: totrans-83
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: (4) ä»€ä¹ˆè¢«å®šä¹‰ä¸ºPIIæ•°æ®ï¼Œå®ƒæœ€ç»ˆä¼šå‡ºç°åœ¨å“ªäº›å†…å®¹ä¸­ï¼Ÿ
- en: With regulations these days, this is becoming a more common question that needs
    to be answered. Building off of the above, we can combine a few Driver functions
    to answer this type of question.
  id: totrans-84
  prefs: []
  type: TYPE_NORMAL
  zh: éšç€ç›®å‰çš„æ³•è§„ï¼Œè¿™æˆä¸ºäº†ä¸€ä¸ªè¶Šæ¥è¶Šå¸¸è§çš„é—®é¢˜ã€‚åŸºäºä¸Šè¿°å†…å®¹ï¼Œæˆ‘ä»¬å¯ä»¥ç»“åˆå‡ ä¸ªDriverå‡½æ•°æ¥å›ç­”è¿™ç±»é—®é¢˜ã€‚
- en: 'In the context of our Titanic example, letâ€™s say our compliance team has come
    to us to understand how weâ€™re using PII data, i.e. what artifacts does it end
    up in? They want this report every month. Well, with Hamilton we can write a script
    to programmatically get lineage information related to PII data. To start we need
    to get everything marked PII:'
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨æˆ‘ä»¬çš„æ³°å¦å°¼å…‹å·ç¤ºä¾‹ä¸­ï¼Œå‡è®¾æˆ‘ä»¬çš„åˆè§„å›¢é˜Ÿæ¥æ‰¾æˆ‘ä»¬äº†è§£æˆ‘ä»¬å¦‚ä½•ä½¿ç”¨PIIæ•°æ®ï¼Œå³å®ƒæœ€ç»ˆä¼šå‡ºç°åœ¨å“ªäº›å·¥ä»¶ä¸­ï¼Ÿä»–ä»¬å¸Œæœ›æ¯ä¸ªæœˆéƒ½èƒ½æ”¶åˆ°è¿™ä»½æŠ¥å‘Šã€‚å¥½å§ï¼Œå€ŸåŠ©Hamiltonï¼Œæˆ‘ä»¬å¯ä»¥ç¼–å†™è„šæœ¬ä»¥ç¨‹åºåŒ–åœ°è·å–ä¸PIIæ•°æ®ç›¸å…³çš„è¡€ç¼˜ä¿¡æ¯ã€‚é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦è·å–æ‰€æœ‰æ ‡è®°ä¸ºPIIçš„å†…å®¹ï¼š
- en: '[PRE7]'
  id: totrans-86
  prefs: []
  type: TYPE_PRE
  zh: '[PRE7]'
- en: 'Then to get all artifacts that are downstream, we just need to ask for all
    nodes that are downstream, and then filter to ones with the â€œartifactâ€ tag:'
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
  zh: ç„¶åï¼Œè¦è·å–æ‰€æœ‰ä¸‹æ¸¸çš„å·¥ä»¶ï¼Œæˆ‘ä»¬åªéœ€è¯·æ±‚æ‰€æœ‰ä¸‹æ¸¸çš„èŠ‚ç‚¹ï¼Œç„¶åç­›é€‰å‡ºå¸¦æœ‰â€œartifactâ€æ ‡ç­¾çš„èŠ‚ç‚¹ï¼š
- en: '[PRE8]'
  id: totrans-88
  prefs: []
  type: TYPE_PRE
  zh: '[PRE8]'
- en: Can I get this in my notebook/IDE?
  id: totrans-89
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: æˆ‘å¯ä»¥åœ¨æˆ‘çš„ç¬”è®°æœ¬/IDEä¸­è·å¾—è¿™ä¸ªå—ï¼Ÿ
- en: Some of you might be thinking why not have this type of lineage view as you
    develop? Great idea! Since weâ€™re an open source project weâ€™d love some help here;
    if youâ€™re interested in testing/contributing, we have an *alpha* version of a
    [VSCode extension](https://marketplace.visualstudio.com/items?itemName=ThierryJean.hamilton&ssr=false#overview),
    started by Thierry Jean, that can help you visualize lineage as you type. Weâ€™d
    love contributions.
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/fbb5be1f6fb6e320fed0d33a917f4e74.png)'
  id: totrans-91
  prefs: []
  type: TYPE_IMG
- en: Alpha Hamilton VSCode extension started by Thierry Jean. Image by author.
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
- en: To finish
  id: totrans-93
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: With Hamilton, **your code defines lineage**. This means you get lineage out
    of the box without the need for another system, and when coupled with a version
    control system and extra metadata, a very straightforward and lightweight means
    to understand how data & code connect.
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
- en: Hamilton enables programmatic access to the lineage and metadata you encode,
    which enables you to place this in CI jobs, scripts, or anywhere that python runs.
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
- en: 'I hope you enjoyed this quick overview, and if youâ€™re excited by any of this
    or want more resources, here are some links:'
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
- en: ğŸ“£ [join our community on slack](https://join.slack.com/t/hamilton-opensource/shared_invite/zt-1bjs72asx-wcUTgH7q7QX1igiQ5bbdcg)
    â€” weâ€™re more than happy to help answer questions you might have or get you started.
  id: totrans-97
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: â­ï¸ us [on github](https://github.com/DAGWorks-Inc/hamilton/).
  id: totrans-98
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: ğŸ“ leave us [an issue](https://github.com/DAGWorks-Inc/hamilton/issues) if you
    find something.
  id: totrans-99
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: ğŸ“š browse our [documentation](https://hamilton.dagworks.io/). E.g. see [lineage
    section](https://hamilton.dagworks.io/en/latest/how-tos/use-hamilton-for-lineage/).
  id: totrans-100
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: â–¶ï¸ [learn Hamilton](http://www.tryhamilton.dev) with a tutorial directly in
    your browser .
  id: totrans-101
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Other Hamilton posts you might be interested in:'
  id: totrans-102
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: '[How to use Hamilton with Pandas in 5 Minutes](/how-to-use-hamilton-with-pandas-in-5-minutes-89f63e5af8f5)'
  id: totrans-103
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[How to use Hamilton with Ray in 5 minutes](/scaling-hamilton-with-ray-in-5-minutes-3beb1755fc09)'
  id: totrans-104
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[How to use Hamilton in a Notebook environment](/how-to-iterate-with-hamilton-in-a-notebook-8ec0f85851ed)'
  id: totrans-105
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[General backstory & introduction on Hamilton](/functions-dags-introducing-hamilton-a-microframework-for-dataframe-generation-more-8e34b84efc1d)'
  id: totrans-106
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[Developing scalable feature engineering DAGs](https://outerbounds.com/blog/developing-scalable-feature-engineering-dags)
    (Hamilton with Metaflow)'
  id: totrans-107
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[The perks of creating dataflows with Hamilton](https://medium.com/@thijean/the-perks-of-creating-dataflows-with-hamilton-36e8c56dd2a)
    (Organic user post on Hamilton!)'
  id: totrans-108
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
