- en: Improving Your SQL Logic with Common Table Expressions
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 原文：[https://towardsdatascience.com/improving-your-sql-logic-with-common-table-expressions-26f04967fc86?source=collection_archive---------3-----------------------#2023-12-05](https://towardsdatascience.com/improving-your-sql-logic-with-common-table-expressions-26f04967fc86?source=collection_archive---------3-----------------------#2023-12-05)
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: Making logic easier to write, read, explain, and maintain
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: '[](https://medium.com/@elliottstam?source=post_page-----26f04967fc86--------------------------------)[![Elliott
    Stam](../Images/5469da79b12b9d5842df36d381415033.png)](https://medium.com/@elliottstam?source=post_page-----26f04967fc86--------------------------------)[](https://towardsdatascience.com/?source=post_page-----26f04967fc86--------------------------------)[![Towards
    Data Science](../Images/a6ff2676ffcc0c7aad8aaf1d79379785.png)](https://towardsdatascience.com/?source=post_page-----26f04967fc86--------------------------------)
    [Elliott Stam](https://medium.com/@elliottstam?source=post_page-----26f04967fc86--------------------------------)'
  prefs: []
  type: TYPE_NORMAL
- en: ·
  prefs: []
  type: TYPE_NORMAL
- en: '[Follow](https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fd193f11526c9&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fimproving-your-sql-logic-with-common-table-expressions-26f04967fc86&user=Elliott+Stam&userId=d193f11526c9&source=post_page-d193f11526c9----26f04967fc86---------------------post_header-----------)
    Published in [Towards Data Science](https://towardsdatascience.com/?source=post_page-----26f04967fc86--------------------------------)
    ·6 min read·Dec 5, 2023[](https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F26f04967fc86&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fimproving-your-sql-logic-with-common-table-expressions-26f04967fc86&user=Elliott+Stam&userId=d193f11526c9&source=-----26f04967fc86---------------------clap_footer-----------)'
  prefs: []
  type: TYPE_NORMAL
- en: --
  prefs: []
  type: TYPE_NORMAL
- en: '[](https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F26f04967fc86&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fimproving-your-sql-logic-with-common-table-expressions-26f04967fc86&source=-----26f04967fc86---------------------bookmark_footer-----------)![](../Images/6a63bf368229748a912d02f23f3d9489.png)'
  prefs: []
  type: TYPE_NORMAL
- en: Photo by [Sam Moghadam Khamseh](https://unsplash.com/@sammoghadamkhamseh?utm_source=medium&utm_medium=referral)
    on [Unsplash](https://unsplash.com/?utm_source=medium&utm_medium=referral)
  prefs: []
  type: TYPE_NORMAL
- en: 'Throwing your laundry into a pile and hoping for the best probably isn’t a
    great long-term strategy for managing your clothes. It’ll be hard to:'
  prefs: []
  type: TYPE_NORMAL
- en: '`SELECT socks FROM pile` later on.'
  prefs: []
  type: TYPE_NORMAL
- en: 'And you’ll definitely struggle to:'
  prefs: []
  type: TYPE_NORMAL
- en: '`SELECT shirt FROM pile WHERE wrinkles = false` when you need a shirt.'
  prefs: []
  type: TYPE_NORMAL
- en: As with managing your clothes, there are clear benefits to actively managing
    how SQL logic is organized.
  prefs: []
  type: TYPE_NORMAL
- en: In this article we’re taking a look at how common table expressions (CTEs) can
    improve your SQL logic. Spaghetti code is rarely good code, and this is as true
    in SQL as it is in any programming language. In data management and engineering
    there are no silver bullets. However, keeping your logic organized and easy to
    review will only help you. So let’s dive in!
  prefs: []
  type: TYPE_NORMAL
- en: What does a common table expression look like?
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'I sometimes call them `WITH` clauses. Why? Let’s take a look at an example:'
  prefs: []
  type: TYPE_NORMAL
