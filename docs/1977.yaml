- en: Multiple-Group Analysis in Structural Equation Modeling
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 原文：[https://towardsdatascience.com/multiple-group-analysis-in-structural-equation-modeling-2b2c7eef329?source=collection_archive---------7-----------------------#2023-06-16](https://towardsdatascience.com/multiple-group-analysis-in-structural-equation-modeling-2b2c7eef329?source=collection_archive---------7-----------------------#2023-06-16)
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: Testing Effects across Subpopulations
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: '[](https://laura-castro-schilo.medium.com/?source=post_page-----2b2c7eef329--------------------------------)[![Laura
    Castro-Schilo](../Images/78ab9f49dd2a84e3092d7772ddc73ef4.png)](https://laura-castro-schilo.medium.com/?source=post_page-----2b2c7eef329--------------------------------)[](https://towardsdatascience.com/?source=post_page-----2b2c7eef329--------------------------------)[![Towards
    Data Science](../Images/a6ff2676ffcc0c7aad8aaf1d79379785.png)](https://towardsdatascience.com/?source=post_page-----2b2c7eef329--------------------------------)
    [Laura Castro-Schilo](https://laura-castro-schilo.medium.com/?source=post_page-----2b2c7eef329--------------------------------)'
  prefs: []
  type: TYPE_NORMAL
- en: ·
  prefs: []
  type: TYPE_NORMAL
- en: '[Follow](https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F362adbd3ba84&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmultiple-group-analysis-in-structural-equation-modeling-2b2c7eef329&user=Laura+Castro-Schilo&userId=362adbd3ba84&source=post_page-362adbd3ba84----2b2c7eef329---------------------post_header-----------)
    Published in [Towards Data Science](https://towardsdatascience.com/?source=post_page-----2b2c7eef329--------------------------------)
    ·6 min read·Jun 16, 2023[](https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F2b2c7eef329&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmultiple-group-analysis-in-structural-equation-modeling-2b2c7eef329&user=Laura+Castro-Schilo&userId=362adbd3ba84&source=-----2b2c7eef329---------------------clap_footer-----------)'
  prefs: []
  type: TYPE_NORMAL
- en: --
  prefs: []
  type: TYPE_NORMAL
- en: '[](https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F2b2c7eef329&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmultiple-group-analysis-in-structural-equation-modeling-2b2c7eef329&source=-----2b2c7eef329---------------------bookmark_footer-----------)'
  prefs: []
  type: TYPE_NORMAL
- en: Multiple-group analysis (MGA) is a statistical technique that allows researchers
    to investigate differences across subpopulations, or demographic segments, by
    enabling specification of [structural equations models](https://community.jmp.com/t5/JMPer-Cable/Structural-Equation-Modeling-The-arrival-of-a-powerful-new/ba-p/230440)
    (SEMs) with *group-specific* estimates or with *equal* estimates across groups.
  prefs: []
  type: TYPE_NORMAL
- en: Differences in means, regressions, loadings, variances, and covariances of variables
    can be investigated using MGA, as all these parameters can be modeled in SEM.
    Thus, even though other modeling techniques (e.g., analysis of variance or regression
    with interaction effects) make it possible to investigate the role of a grouping
    variable, those techniques are less flexible than MGA in SEM.
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/9a93db9bde1bedf10ba3356c3c142d47.png)'
  prefs: []
  type: TYPE_IMG
- en: '*Figure 1\. General overview of multiple-group analysis and the strategy for
    making inferences. Image by author.*'
  prefs: []
  type: TYPE_NORMAL
- en: Common Uses of Multiple-Group Analysis
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Anytime there is interest in exploring group differences, MGA can be a helpful
    tool. When data are gathered on individuals, groups are most often defined based
    on factors with few levels (e.g., gender, ethnicity, occupation, family status,
    health status, etc.) but can also be defined based on a variety of other factors
    depending on the field, data, and analytic context. Some examples of questions
    that can be answered with MGA in a few different fields are,
  prefs: []
  type: TYPE_NORMAL
- en: Consumer research
  prefs: []
  type: TYPE_NORMAL
- en: Is product **satisfaction** (or **quality**) different across demographic segments?
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: People analytics
  prefs: []
  type: TYPE_NORMAL
- en: Is employee **performance** (or **motivation**) equal across company branches
    or divisions?
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Health care
  prefs: []
  type: TYPE_NORMAL
- en: Do **patient reported outcomes** differ based on drug manufacturer?
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Marketing
  prefs: []
  type: TYPE_NORMAL
- en: Is new marketing campaign effective at increasing **brand reputation** in different
    geographical areas?
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Psychology
  prefs: []
  type: TYPE_NORMAL
- en: Are there cross-cultural differences in **emotional experience**?
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Education
  prefs: []
  type: TYPE_NORMAL
- en: Is growth in **academic achievement** equal across females and males?
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Measuring Unobserved Variables in Multiple Groups
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: All questions listed above involve variables that are unobserved (e.g., satisfaction,
    performance, etc.), also known as *latent* variables. Because these variables
    cannot be observed directly, they are difficult to measure.
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/9befbc6aa469ea358638e6ead255ba3e.png)'
  prefs: []
  type: TYPE_IMG
- en: '*Figure 2\. Comparing measurement of unobserved (latent) versus observed variables.
    Image by author.*'
  prefs: []
  type: TYPE_NORMAL
- en: 'One such difficulty is that different groups can have different conceptualizations
    of these variables. Ask yourself:'
  prefs: []
  type: TYPE_NORMAL
- en: '*What* is *satisfaction?*'
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: ''
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '*What* is *good performance?*'
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: ''
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '*Is it likely that your responses to these questions would be different than
    those with different life experiences?*'
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: ''
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '***Many times, the answer is yes.***'
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: Thankfully, we can test empirically whether different groups conceptualize latent
    variables in a similar way. This test is carried out with MGA in the SEM framework
    and is known as [factorial invariance](https://web.pdx.edu/~newsomj/semclass/ho_invariance.pdf)
    (aka measurement invariance). Factorial invariance tests are critical to ensure
    comparisons across groups are valid; therefore, these tests must be done prior
    to comparing regressions or means across groups (aka structural parameters) if
    latent variables are present.
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/5f6b6430f46aae7a30238ac8ed78299a.png)'
  prefs: []
  type: TYPE_IMG
- en: '*Figure 3\. The challenge of modeling unobserved variables is that they might
    not be measuring the same thing across subpopulations. Image by author.*'
  prefs: []
  type: TYPE_NORMAL
- en: Testing for Differences in Parameters
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: To test for differences in parameters across groups, researchers usually fit
    SEMs with and without equality constraints across groups. Then, the two resulting
    models are compared using a likelihood ratio test (equivalently, a [chi-square
    difference test](https://www.jmp.com/support/help/en/17.0/#page/jmp/model-comparison-report-4.shtml#ww518615))
    and differences in other fit statistics (e.g., the comparative fit index and root
    mean square error of approximation) to assess whether imposing constraints produce
    statistically significant worsening of model fit. If the fit of the model does
    not worsen significantly, then the model with equality constraints is retained,
    and one concludes that the populations under consideration do not differ significantly
    on the parameter(s) tested. In contrast, if the fit of the model worsens significantly,
    the model without constraints (i.e., where each group is allowed to have its own
    estimate(s)) is retained, and one concludes that the populations under consideration
    differ significantly on the parameter(s) tested.
  prefs: []
  type: TYPE_NORMAL
- en: The figure below illustrates the strategy behind MGA in a two-group example
    where a simple linear regression is fit. This figure shows equality constraints
    placed on one parameter. Model 1 has zero degrees of freedom (i.e., it’s fully
    saturated), whereas Model 2 has one degree of freedom resulting from the equality
    constraint. These models are compared based on the difference of their chi-squares,
    which is also chi-square distributed with degrees of freedom equal to one (the
    difference between degrees of freedom across models). A less specific test can
    be conducted by placing equality constraints on multiple parameters at a time.
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/521b3dd8038223adcc6736b38b8437c2.png)'
  prefs: []
  type: TYPE_IMG
- en: '*Figure 4\. Strategy behind MGA in a two-group example with a simple linear
    regression. Image by author.*'
  prefs: []
  type: TYPE_NORMAL
- en: '**SEMs were developed as confirmatory models.** That is, one devises hypotheses,
    translates them into a testable statistical model, and inferences are used to
    determine if the data support the hypotheses. This approach is also applied in
    MGA and is critical to avoid large type I error rates, which lead to finding statistical
    effects that are not truly present in the population(s) of study. For this reason,
    conducting all-possible comparisons across groups is ***not*** recommended.'
  prefs: []
  type: TYPE_NORMAL
- en: Intuition Behind MGA Estimation
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: '***Disclaimer:*** *The paragraphs below are for methodologists that wish to
    deepen their understanding of MGA. This section assumes readers understand the
    full-information maximum likelihood estimator. Moreover, the steps outlined here
    are only for explaining the logic behind MGA. In reality, conducting MGA with
    these steps would be inefficient because statistical software should leverage
    algorithms that simplify this process.*'
  prefs: []
  type: TYPE_NORMAL
- en: The estimation of MGA is not different from that of a simple SEM with missing
    data. In a standard implementation of MGA-SEM, users submit the data they want
    to analyze along with a grouping variable, which indicates the group that each
    observation belongs to. A simple data manipulation step — using the grouping variable
    — is required to set up the analysis for multiple groups. The figure below illustrates
    the data that are supplied for analysis and the restructuring of data for MGA.
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/43253ff4aeae03d3a07a9a3f4aeaceeb.png)'
  prefs: []
  type: TYPE_IMG
- en: '*Figure 5\. Data inputted by users and data after restructuring for doing multiple-group
    analysis. Image by author.*'
  prefs: []
  type: TYPE_NORMAL
- en: 'The resulting data can now be used with full information maximum likelihood
    as the estimator to ensure all rows in the data are submitted for analysis despite
    there being missing data. A few convenient results from the restructured data
    are:'
  prefs: []
  type: TYPE_NORMAL
- en: The log likelihood of any given row is only influenced by the non-missing cells,
    such that adding the log likelihood of all the ‘Group 0’ rows yields the log likelihood
    for that group. Similarly, adding the log likelihood of all ‘Group 1’ rows yields
    the log likelihood for group 1\. Each group’s log likelihood is used to estimate
    a chi-square statistic for the overall model, which quantifies the misfit for
    each group.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: The pattern of missing values prohibits estimation of any parameter across the
    groups’ variables (e.g., the covariance of Var1_0 and Var1_1 is not estimable),
    which is inconsequential because MGA is concerned with comparison of effects across
    groups rather than cross-group estimates.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: ‘Vanilla SEM’ allows one to set equality constraints on parameters. Thus, using
    the restructured data in SEM, one can specify two identical models with each group’s
    subset of variables, and equality constraints can be placed on equivalent parameters
    across the groups. To reiterate, all of this can be done in standard SEM without
    asking the software to conduct MGA explicitly.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Thankfully, these steps don’t need to be performed by users who want to do MGA-SEM!
    SEM software makes fitting multiple-group models very simple by allowing users
    to specify a grouping variable. However, doing the data manipulation (Figure 5)
    and using standard SEM to conduct MGA-SEM will deepen your understanding of this
    topic. To learn even more, check out the resources cited below.
  prefs: []
  type: TYPE_NORMAL
- en: '[**Step-by-step example**](https://www.jmp.com/support/help/en/17.1/index.shtml#page/jmp/example-of-multiple-group-analysis.shtml)
    **of applied multiple-group analysis in JMP.**'
  prefs: []
  type: TYPE_NORMAL
- en: '[**Book chapter**](https://books.google.com/books?hl=en&lr=&id=PWObEAAAQBAJ&oi=fnd&pg=PA367&ots=8lnhhyPxo-&sig=W7dJH0fswFOqiVuEDyorm8-vqwg#v=onepage&q&f=false)
    **on multiple-group analysis for factorial (measurement) invariance:**'
  prefs: []
  type: TYPE_NORMAL
- en: Widaman, K. F., & Olivera-Aguilar, M. (2022). Investigating measurement invariance
    using confirmatory factor analysis. *Handbook of Structural Equation Modeling*,
    367.
  prefs: []
  type: TYPE_NORMAL
- en: '[**Journal article**](https://www.tandfonline.com/doi/full/10.1080/10705510701301834)
    **on using alternative fit indices to test for invariance:**'
  prefs: []
  type: TYPE_NORMAL
- en: 'Chen, F. F. (2007). Sensitivity of goodness of fit indexes to lack of measurement
    invariance. *Structural equation modeling: a multidisciplinary journal*, *14*(3),
    464–504.'
  prefs: []
  type: TYPE_NORMAL
- en: '*This article was originally published in the* [*JMP user community*](https://community.jmp.com/t5/JMP-Blog/Multiple-Group-Analysis-in-Structural-Equation-Modeling/ba-p/604714)
    *on February 27, 2023.*'
  prefs: []
  type: TYPE_NORMAL
