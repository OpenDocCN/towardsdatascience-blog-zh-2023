- en: 'Probing into Minimum Sample Size Formula: Derivation and Usage'
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: æ¢è®¨æœ€å°æ ·æœ¬é‡å…¬å¼ï¼šæ¨å¯¼ä¸åº”ç”¨
- en: åŸæ–‡ï¼š[https://towardsdatascience.com/probing-into-minimum-sample-size-formula-derivation-and-usage-8db9a556280b?source=collection_archive---------0-----------------------#2023-02-01](https://towardsdatascience.com/probing-into-minimum-sample-size-formula-derivation-and-usage-8db9a556280b?source=collection_archive---------0-----------------------#2023-02-01)
  id: totrans-1
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: åŸæ–‡ï¼š[https://towardsdatascience.com/probing-into-minimum-sample-size-formula-derivation-and-usage-8db9a556280b?source=collection_archive---------0-----------------------#2023-02-01](https://towardsdatascience.com/probing-into-minimum-sample-size-formula-derivation-and-usage-8db9a556280b?source=collection_archive---------0-----------------------#2023-02-01)
- en: A gentle walkthrough of the sample size formula in A/B tests
  id: totrans-2
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: A/B æµ‹è¯•ä¸­çš„æ ·æœ¬é‡å…¬å¼ç®€æ˜æŒ‡å—
- en: '[](https://medium.com/@weimintaottt?source=post_page-----8db9a556280b--------------------------------)[![Mintao
    Wei](../Images/eec1a909df8e780ac6a2c1f9d754ba75.png)](https://medium.com/@weimintaottt?source=post_page-----8db9a556280b--------------------------------)[](https://towardsdatascience.com/?source=post_page-----8db9a556280b--------------------------------)[![Towards
    Data Science](../Images/a6ff2676ffcc0c7aad8aaf1d79379785.png)](https://towardsdatascience.com/?source=post_page-----8db9a556280b--------------------------------)
    [Mintao Wei](https://medium.com/@weimintaottt?source=post_page-----8db9a556280b--------------------------------)'
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: '[](https://medium.com/@weimintaottt?source=post_page-----8db9a556280b--------------------------------)[![Mintao
    Wei](../Images/eec1a909df8e780ac6a2c1f9d754ba75.png)](https://medium.com/@weimintaottt?source=post_page-----8db9a556280b--------------------------------)[](https://towardsdatascience.com/?source=post_page-----8db9a556280b--------------------------------)[![Towards
    Data Science](../Images/a6ff2676ffcc0c7aad8aaf1d79379785.png)](https://towardsdatascience.com/?source=post_page-----8db9a556280b--------------------------------)
    [Mintao Wei](https://medium.com/@weimintaottt?source=post_page-----8db9a556280b--------------------------------)'
- en: Â·
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: Â·
- en: '[Follow](https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F6959c4b812af&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fprobing-into-minimum-sample-size-formula-derivation-and-usage-8db9a556280b&user=Mintao+Wei&userId=6959c4b812af&source=post_page-6959c4b812af----8db9a556280b---------------------post_header-----------)
    Published in [Towards Data Science](https://towardsdatascience.com/?source=post_page-----8db9a556280b--------------------------------)
    Â·18 min readÂ·Feb 1, 2023[](https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F8db9a556280b&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fprobing-into-minimum-sample-size-formula-derivation-and-usage-8db9a556280b&user=Mintao+Wei&userId=6959c4b812af&source=-----8db9a556280b---------------------clap_footer-----------)'
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: '[å…³æ³¨](https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F6959c4b812af&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fprobing-into-minimum-sample-size-formula-derivation-and-usage-8db9a556280b&user=Mintao+Wei&userId=6959c4b812af&source=post_page-6959c4b812af----8db9a556280b---------------------post_header-----------)
    å‘è¡¨åœ¨ [Towards Data Science](https://towardsdatascience.com/?source=post_page-----8db9a556280b--------------------------------)
    Â· 18 åˆ†é’Ÿé˜…è¯» Â· 2023å¹´2æœˆ1æ—¥ [](https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F8db9a556280b&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fprobing-into-minimum-sample-size-formula-derivation-and-usage-8db9a556280b&user=Mintao+Wei&userId=6959c4b812af&source=-----8db9a556280b---------------------clap_footer-----------)'
- en: --
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: --
- en: '[](https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F8db9a556280b&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fprobing-into-minimum-sample-size-formula-derivation-and-usage-8db9a556280b&source=-----8db9a556280b---------------------bookmark_footer-----------)'
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: '[](https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F8db9a556280b&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fprobing-into-minimum-sample-size-formula-derivation-and-usage-8db9a556280b&source=-----8db9a556280b---------------------bookmark_footer-----------)'
- en: Too Long; Donâ€™t Read
  id: totrans-8
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: å¤ªé•¿ï¼›ä¸è¯»
- en: 'This article answers two important â€œhow-toâ€ questions centering on the minimum
    sample size calculation in A/B tests:'
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: æœ¬æ–‡å›ç­”äº†ä¸¤ä¸ªå›´ç»•A/Bæµ‹è¯•ä¸­æœ€å°æ ·æœ¬é‡è®¡ç®—çš„é‡è¦â€œå¦‚ä½•åšâ€é—®é¢˜ï¼š
- en: '**1) How to derive the formula for the minimum sample size** ğœ¨**?**'
  id: totrans-10
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '**1) å¦‚ä½•æ¨å¯¼æœ€å°æ ·æœ¬é‡å…¬å¼** ğœ¨**?**'
- en: The essential idea behind the formula is to **reverse the p-value calculation
    in hypothesis testing**, with a particular focus on **statistical power**, which
    is the probability of rejecting the null hypothesis when the null hypothesis is
    indeed false.
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: å…¬å¼èƒŒåçš„æ ¸å¿ƒæ€æƒ³æ˜¯**åè½¬å‡è®¾æ£€éªŒä¸­çš„på€¼è®¡ç®—**ï¼Œç‰¹åˆ«å…³æ³¨äº**ç»Ÿè®¡åŠŸæ•ˆ**ï¼Œå³åœ¨åŸå‡è®¾ç¡®å®ä¸ºå‡çš„æƒ…å†µä¸‹æ‹’ç»åŸå‡è®¾çš„æ¦‚ç‡ã€‚
- en: '![](../Images/bf2c8037500f91060ac87fa8aee12159.png)'
  id: totrans-12
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/bf2c8037500f91060ac87fa8aee12159.png)'
- en: 'Figure 1: Intuition Behind Minimum Sample Size Calculation Formula'
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: å›¾1ï¼šæœ€å°æ ·æœ¬é‡è®¡ç®—å…¬å¼çš„ç›´è§‚è§£é‡Š
- en: '**2) How to use the formula to calculate the minimum sample size in real-world
    scenarios?**'
  id: totrans-14
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '**2) å¦‚ä½•åœ¨ç°å®åœºæ™¯ä¸­ä½¿ç”¨å…¬å¼è®¡ç®—æœ€å°æ ·æœ¬é‡ï¼Ÿ**'
- en: We use **historical data**, aggregated to the correct experiment unit, to calculate
    the **standard deviation** for our metric of interest as well as the historical
    average as the baseline level. Then, we **manually** determine the desired significance
    level **ğ›¼**, the statistical power **1-ğ›½**, and most importantly, the minimum
    detectable effect we expect between the treatment group and the control group
    **ğ‘‘ğ‘šğ‘–ğ‘›**.
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬ä½¿ç”¨**å†å²æ•°æ®**ï¼Œå°†å…¶æ±‡æ€»åˆ°æ­£ç¡®çš„å®éªŒå•ä½ï¼Œæ¥è®¡ç®—æˆ‘ä»¬æ„Ÿå…´è¶£æŒ‡æ ‡çš„**æ ‡å‡†å·®**ä»¥åŠå†å²å¹³å‡å€¼ä½œä¸ºåŸºçº¿æ°´å¹³ã€‚ç„¶åï¼Œæˆ‘ä»¬**æ‰‹åŠ¨**ç¡®å®šæ‰€éœ€çš„æ˜¾è‘—æ€§æ°´å¹³**ğ›¼**ã€ç»Ÿè®¡åŠŸæ•ˆ**1-ğ›½**ï¼Œä»¥åŠæœ€é‡è¦çš„ï¼ŒæœŸæœ›åœ¨å¤„ç†ç»„å’Œå¯¹ç…§ç»„ä¹‹é—´çš„æœ€å°å¯æ£€æµ‹æ•ˆæœ**ğ‘‘ğ‘šğ‘–ğ‘›**ã€‚
- en: These are the **four inputs** required for the sample size calculation. It is
    worthwhile to note that there are **trade-offs** between a *stronger statistical
    power* and a *longer experiment period* if we want to detect more subtle incremental
    lifts (small **ğ‘‘ğ‘šğ‘–ğ‘›).** Therefore, when designing A/B experiments, we often compute
    multiple versions of sample sizes under different levels of **ğ‘‘ğ‘šğ‘–ğ‘›** to quantify
    the trade-offs.
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™äº›æ˜¯æ ·æœ¬é‡è®¡ç®—æ‰€éœ€çš„**å››ä¸ªè¾“å…¥**ã€‚å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œå¦‚æœæˆ‘ä»¬æƒ³æ£€æµ‹åˆ°æ›´å¾®å¦™çš„å¢é‡æå‡ï¼ˆå°**ğ‘‘ğ‘šğ‘–ğ‘›**ï¼‰ï¼Œåˆ™åœ¨*æ›´å¼ºçš„ç»Ÿè®¡èƒ½åŠ›*å’Œ*æ›´é•¿çš„å®éªŒå‘¨æœŸ*ä¹‹é—´å­˜åœ¨**æƒè¡¡**ã€‚å› æ­¤ï¼Œåœ¨è®¾è®¡
    A/B å®éªŒæ—¶ï¼Œæˆ‘ä»¬é€šå¸¸ä¼šè®¡ç®—åœ¨ä¸åŒ**ğ‘‘ğ‘šğ‘–ğ‘›**æ°´å¹³ä¸‹çš„å¤šä¸ªæ ·æœ¬é‡ç‰ˆæœ¬ï¼Œä»¥é‡åŒ–è¿™äº›æƒè¡¡ã€‚
- en: Table of Contents
  id: totrans-17
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: ç›®å½•
- en: '[Why Should We Care](#d90b)'
  id: totrans-18
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[æˆ‘ä»¬ä¸ºä»€ä¹ˆè¦å…³å¿ƒ](#d90b)'
- en: '[Set-up](#6649)'
  id: totrans-19
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[è®¾ç½®](#6649)'
- en: '[I. Deriving Minimum Sample Size (The Naive Formulation/Without](#aa46) [ğ›½](#529a)[)](#aa46)'
  id: totrans-20
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[I. æ¨å¯¼æœ€å°æ ·æœ¬é‡ï¼ˆç®€å•å…¬å¼/æ— ğ›½](#aa46) [ğ›½](#529a)[)](#aa46)'
- en: â€¢ [Key Idea](#43b8)
  id: totrans-21
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: â€¢ [å…³é”®æ€æƒ³](#43b8)
- en: â€¢ [Formula Derivation](#c172)
  id: totrans-22
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: â€¢ [å…¬å¼æ¨å¯¼](#c172)
- en: 'â€¢ [Example: Analyzing Download Speed Difference between Two Communities In
    Chicago](#516e)'
  id: totrans-23
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: â€¢ [ç¤ºä¾‹ï¼šåˆ†æèŠåŠ å“¥ä¸¤ä¸ªç¤¾åŒºä¹‹é—´çš„ä¸‹è½½é€Ÿåº¦å·®å¼‚](#516e)
- en: '[II. Deriving Minimum Sample Size (The Standard Formulation/With ğ›½)](#529a)
    â€¢ [Key Idea](#6ea9) â€¢ [Formula Derivation](#2c44)'
  id: totrans-24
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[II. æ¨å¯¼æœ€å°æ ·æœ¬é‡ï¼ˆæ ‡å‡†å…¬å¼/å¸¦ğ›½ï¼‰](#529a) â€¢ [å…³é”®æ€æƒ³](#6ea9) â€¢ [å…¬å¼æ¨å¯¼](#2c44)'
- en: 'â€¢ [Example: â€œDemystifyingâ€ Evanâ€™s Awesome A/B Sample Size Calculator](#b1ce)'
  id: totrans-25
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: â€¢ [ç¤ºä¾‹ï¼šâ€œæ­å¼€â€Evan çš„ A/B æ ·æœ¬é‡è®¡ç®—å™¨çš„ç¥ç§˜é¢çº±](#b1ce)
- en: '[Practical Issues](#76fa)'
  id: totrans-26
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[å®é™…é—®é¢˜](#76fa)'
- en: â€¢ [How to derive the rule-of-thumb sample size from our general formula?](#efa2)
  id: totrans-27
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: â€¢ [å¦‚ä½•ä»æˆ‘ä»¬çš„é€šç”¨å…¬å¼æ¨å¯¼ç»éªŒæ³•åˆ™æ ·æœ¬é‡ï¼Ÿ](#efa2)
- en: â€¢ [How to determine ğ‘‘ğ‘šğ‘–ğ‘›?](#6675)
  id: totrans-28
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: â€¢ [å¦‚ä½•ç¡®å®šğ‘‘ğ‘šğ‘–ğ‘›ï¼Ÿ](#6675)
- en: â€¢ [What if the variances and the sizes of the two groups are unequal?](#cdbd)
  id: totrans-29
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: â€¢ [å¦‚æœä¸¤ä¸ªç»„çš„æ–¹å·®å’Œæ ·æœ¬é‡ä¸ç›¸ç­‰æ€ä¹ˆåŠï¼Ÿ](#cdbd)
- en: â€¢ [How to estimate the standard deviation ğœ using historical data?](#44bd)
  id: totrans-30
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: â€¢ [å¦‚ä½•ä½¿ç”¨å†å²æ•°æ®ä¼°ç®—æ ‡å‡†å·®ğœï¼Ÿ](#44bd)
- en: â€¢ [How much historical data do we need?](#9947)
  id: totrans-31
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: â€¢ [æˆ‘ä»¬éœ€è¦å¤šå°‘å†å²æ•°æ®ï¼Ÿ](#9947)
- en: â€¢ [How shall we prepare those data?](#a0a5)
  id: totrans-32
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: â€¢ [æˆ‘ä»¬åº”è¯¥å¦‚ä½•å‡†å¤‡è¿™äº›æ•°æ®ï¼Ÿ](#a0a5)
- en: '[Summary](#fc4f)'
  id: totrans-33
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[æ€»ç»“](#fc4f)'
- en: Why Shall We Care?
  id: totrans-34
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: ä¸ºä»€ä¹ˆæˆ‘ä»¬éœ€è¦å…³å¿ƒï¼Ÿ
- en: 'In 2022/2023, it seems unnecessary to delve into the principles behind the
    formula when there are numerous built-up sample size calculators on the web (e.g.
    [Evan Millerâ€™s Calculator](https://www.evanmiller.org/ab-testing/sample-size.html),
    [Optimizely](https://www.optimizely.com/sample-size-calculator/#/?conversion=3&effect=20&significance=95)),
    and when most tech firms have their own established experiment platforms and tools
    ready to use. Nevertheless, it is still important for us to know what is behind
    the scene because:'
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨ 2022/2023 å¹´ï¼Œå½“ç½‘ä¸Šæœ‰å¤§é‡ç°æˆçš„æ ·æœ¬é‡è®¡ç®—å™¨ï¼ˆä¾‹å¦‚ï¼Œ[Evan Millerâ€™s Calculator](https://www.evanmiller.org/ab-testing/sample-size.html)ã€[Optimizely](https://www.optimizely.com/sample-size-calculator/#/?conversion=3&effect=20&significance=95)ï¼‰å¯ç”¨ï¼Œä»¥åŠå¤§å¤šæ•°ç§‘æŠ€å…¬å¸éƒ½æœ‰è‡ªå·±å»ºç«‹çš„å®éªŒå¹³å°å’Œå·¥å…·æ—¶ï¼Œæ·±å…¥æ¢è®¨å…¬å¼èƒŒåçš„åŸç†ä¼¼ä¹æ²¡æœ‰å¿…è¦ã€‚ç„¶è€Œï¼Œäº†è§£è¿™äº›åŸç†ä»ç„¶å¾ˆé‡è¦ï¼Œå› ä¸ºï¼š
- en: A/B test sample size calculation is one of the most frequently asked questions
    in **product data scientist** **interviews**, and we are expected to give the
    rationale in addition to reciting the formula.
  id: totrans-36
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: A/B æµ‹è¯•æ ·æœ¬é‡è®¡ç®—æ˜¯**äº§å“æ•°æ®ç§‘å­¦å®¶****é¢è¯•**ä¸­æœ€å¸¸è§çš„é—®é¢˜ä¹‹ä¸€ï¼Œæˆ‘ä»¬éœ€è¦ä¸ä»…èƒ½å¤ŸèƒŒè¯µå…¬å¼ï¼Œè¿˜è¦èƒ½è§£é‡Šå…¶åŸç†ã€‚
- en: In both the online randomized A/B testing and the offline controlled trials,
    the real-world business context can be complex, so we need to know the ins and
    outs of the formula to **select or adapt these tools** correctly and avoid fallacies.
  id: totrans-37
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: åœ¨åœ¨çº¿éšæœº A/B æµ‹è¯•å’Œç¦»çº¿å¯¹ç…§è¯•éªŒä¸­ï¼Œç°å®ä¸–ç•Œçš„ä¸šåŠ¡èƒŒæ™¯å¯èƒ½å¾ˆå¤æ‚ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦äº†è§£å…¬å¼çš„æ¥é¾™å»è„‰ï¼Œä»¥**æ­£ç¡®é€‰æ‹©æˆ–è°ƒæ•´è¿™äº›å·¥å…·**å¹¶é¿å…è°¬è¯¯ã€‚
- en: Furthermore, it is critically important for us to build up the â€œ**statistics
    acumen**â€ in hypothesis testing and power analysis because it is very common to
    encounter insignificant testing results due to insufficient sample size. We certainly
    want to sharpen our instinct for a possible type II error (neglecting a truly
    effective treatment strategy), and be prepared to estimate the required sample
    size for the next step. This goes beyond the typical data science work at tech
    companies to academia and research questions in our day-to-day life â€” â€œ*Are female
    employees given less compensation than males?*â€, â€œ*Do wealthier communities have
    a better internet connection and download speed than underserved communities?*â€,
    etc. We not only want to ask ourselves â€œis what we see from the data statistically
    significant?â€, but also â€œ**Do we have enough samples? If not, how much more data
    do we need or how many more surveys do we need to send out in the future?**â€
  id: totrans-38
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æ­¤å¤–ï¼Œæˆ‘ä»¬åœ¨å‡è®¾æ£€éªŒå’ŒåŠŸæ•ˆåˆ†æä¸­å»ºç«‹â€œ**ç»Ÿè®¡ç›´è§‰**â€è‡³å…³é‡è¦ï¼Œå› ä¸ºç”±äºæ ·æœ¬é‡ä¸è¶³ï¼Œå¸¸å¸¸ä¼šé‡åˆ°æ— æ˜¾è‘—æ€§æ£€éªŒç»“æœã€‚æˆ‘ä»¬å½“ç„¶å¸Œæœ›æé«˜å¯¹å¯èƒ½çš„ç¬¬äºŒç±»é”™è¯¯ï¼ˆå¿½è§†çœŸæ­£æœ‰æ•ˆçš„å¤„ç†ç­–ç•¥ï¼‰çš„æ•æ„Ÿåº¦ï¼Œå¹¶å‡†å¤‡ä¼°ç®—ä¸‹ä¸€æ­¥æ‰€éœ€çš„æ ·æœ¬é‡ã€‚è¿™ä¸ä»…ä»…æ¶‰åŠæŠ€æœ¯å…¬å¸ä¸­çš„å…¸å‹æ•°æ®ç§‘å­¦å·¥ä½œï¼Œè¿˜æ¶‰åŠå­¦æœ¯ç•Œå’Œæ—¥å¸¸ç”Ÿæ´»ä¸­çš„ç ”ç©¶é—®é¢˜â€”â€”â€œ*å¥³æ€§å‘˜å·¥çš„è–ªé…¬æ˜¯å¦ä½äºç”·æ€§ï¼Ÿ*â€ã€â€œ*è´¢å¯Œæ›´é«˜çš„ç¤¾åŒºæ˜¯å¦æ¯”æ¬ å‘è¾¾ç¤¾åŒºæœ‰æ›´å¥½çš„äº’è”ç½‘è¿æ¥å’Œä¸‹è½½é€Ÿåº¦ï¼Ÿ*â€ç­‰ã€‚æˆ‘ä»¬ä¸ä»…è¦é—®è‡ªå·±â€œæˆ‘ä»¬ä»æ•°æ®ä¸­çœ‹åˆ°çš„æ˜¯å¦å…·æœ‰ç»Ÿè®¡å­¦æ„ä¹‰ï¼Ÿâ€ï¼Œè¿˜è¦é—®â€œ**æˆ‘ä»¬æ˜¯å¦æœ‰è¶³å¤Ÿçš„æ ·æœ¬ï¼Ÿå¦‚æœæ²¡æœ‰ï¼Œæˆ‘ä»¬è¿˜éœ€è¦å¤šå°‘æ•°æ®æˆ–æœªæ¥éœ€è¦å‘é€å¤šå°‘ä»½è°ƒæŸ¥é—®å·ï¼Ÿ**â€
- en: There are many great introductory articles and resources on this topic, but
    most of them **simply â€œpresentâ€ the formula**. Standing on their shoulders, I
    hope to go one step further here to delve into the intuitions and derivations
    and answer the question **â€œwhy are the formulas defined in this wayâ€**. In addition,
    I will address some practical issues in using this formula.
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: å…³äºè¿™ä¸ªä¸»é¢˜ï¼Œæœ‰è®¸å¤šä¼˜ç§€çš„å…¥é—¨æ–‡ç« å’Œèµ„æºï¼Œä½†å¤§å¤šæ•°**ä»…ä»…â€œå‘ˆç°â€å…¬å¼**ã€‚ç«™åœ¨è¿™äº›å‰äººçš„è‚©è†€ä¸Šï¼Œæˆ‘å¸Œæœ›åœ¨è¿™é‡Œè¿›ä¸€æ­¥*æ·±å…¥æ¢è®¨*ç›´è§‰å’Œæ¨å¯¼ï¼Œå›ç­”**â€œè¿™äº›å…¬å¼ä¸ºä½•å¦‚æ­¤å®šä¹‰â€**çš„é—®é¢˜ã€‚æ­¤å¤–ï¼Œæˆ‘è¿˜å°†è®¨è®ºä½¿ç”¨è¿™äº›å…¬å¼çš„ä¸€äº›å®é™…é—®é¢˜ã€‚
- en: Setup
  id: totrans-40
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: è®¾ç½®
- en: Tests
  id: totrans-41
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: æµ‹è¯•
- en: The discussion of sample size calculation in this article will be mostly based
    on **two sample one-sided z-tests**.
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: æœ¬æ–‡ä¸­æ ·æœ¬é‡è®¡ç®—çš„è®¨è®ºå°†ä¸»è¦åŸºäº**ä¸¤ä¸ªæ ·æœ¬å•ä¾§zæ£€éªŒ**ã€‚
- en: The reasons are that, in A/B testing scenarios, the testing statistics are usually
    sample mean (*e.g. average XXX per user between the experiment period, where all
    the behaviors for a specific user in this period are regarded as a sample, and
    this metric is just the sample mean statistic across all users*) and they are
    usually normally distributed according to the central limited theorem. The one-sided
    tests are preferred here as we usually have a clear **directional** belief on
    the treatment effect (i.e. the treatment group should perform better or worse
    than the controlled group.
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: åŸå› åœ¨äºï¼Œåœ¨A/Bæµ‹è¯•åœºæ™¯ä¸­ï¼Œæµ‹è¯•ç»Ÿè®¡é‡é€šå¸¸æ˜¯æ ·æœ¬å‡å€¼ï¼ˆ*ä¾‹å¦‚å®éªŒæœŸé—´æ¯ç”¨æˆ·çš„å¹³å‡XXXï¼Œå…¶ä¸­è¯¥æœŸé—´ç‰¹å®šç”¨æˆ·çš„æ‰€æœ‰è¡Œä¸ºè¢«è§†ä¸ºä¸€ä¸ªæ ·æœ¬ï¼Œè€Œè¯¥æŒ‡æ ‡åªæ˜¯æ‰€æœ‰ç”¨æˆ·çš„æ ·æœ¬å‡å€¼ç»Ÿè®¡é‡*ï¼‰ï¼Œå¹¶ä¸”é€šå¸¸æ ¹æ®ä¸­å¿ƒæé™å®šç†å‘ˆæ­£æ€åˆ†å¸ƒã€‚è¿™é‡Œå€¾å‘äºä½¿ç”¨å•ä¾§æ£€éªŒï¼Œå› ä¸ºæˆ‘ä»¬é€šå¸¸å¯¹å¤„ç†æ•ˆæœæœ‰æ˜ç¡®çš„**æ–¹å‘æ€§**ä¿¡å¿µï¼ˆå³å¤„ç†ç»„åº”è¡¨ç°å¾—æ¯”å¯¹ç…§ç»„æ›´å¥½æˆ–æ›´å·®ï¼‰ã€‚
- en: Notations and Concepts
  id: totrans-44
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: ç¬¦å·å’Œæ¦‚å¿µ
- en: 'ğœ¨: the minimum required sample size.'
  id: totrans-45
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 'ğœ¨: æœ€å°æ‰€éœ€æ ·æœ¬é‡ã€‚'
- en: '**ğ‘:** the p-value.'
  id: totrans-46
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**ğ‘:** på€¼ã€‚'
- en: '**ğ›¼:** the significance level, or the type I error.'
  id: totrans-47
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**ğ›¼:** æ˜¾è‘—æ€§æ°´å¹³ï¼Œæˆ–ç§°ä¸ºç¬¬ä¸€ç±»é”™è¯¯ã€‚'
- en: '**ğ›½:** the type II error. And 1-ğ›½ denotes the statistical power.'
  id: totrans-48
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**ğ›½:** ç¬¬äºŒç±»é”™è¯¯ã€‚1-ğ›½è¡¨ç¤ºç»Ÿè®¡åŠŸæ•ˆã€‚'
- en: '***XÌ„1/XÌ„2/XÌ„d*:** the random variables of the metrics mean statistics for
    observations in group 1 (control), group 2 (treatment), and the difference between
    the two random mean variables.'
  id: totrans-49
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '***XÌ„1/XÌ„2/XÌ„d*:** ç¬¬1ç»„ï¼ˆå¯¹ç…§ç»„ï¼‰ã€ç¬¬2ç»„ï¼ˆå¤„ç†ç»„ï¼‰å’Œä¸¤ä¸ªéšæœºå‡å€¼å˜é‡ä¹‹é—´å·®å¼‚çš„æ ·æœ¬å‡å€¼ã€‚'
- en: '***xÌ„1/xÌ„2/xÌ„d***: the sample means of the observations in group 1 (control),
    group 2 (treatment), and the difference between the two mean statistics.'
  id: totrans-50
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '***xÌ„1/xÌ„2/xÌ„d***: ç¬¬1ç»„ï¼ˆå¯¹ç…§ç»„ï¼‰ã€ç¬¬2ç»„ï¼ˆå¤„ç†ç»„ï¼‰å’Œä¸¤ä¸ªå‡å€¼ç»Ÿè®¡é‡ä¹‹é—´å·®å¼‚çš„æ ·æœ¬å‡å€¼ã€‚'
- en: '***z_(1-*ğ›¼*)***: the z-score that cuts off the top **ğ›¼(%)**, or the critical
    value of a standard normal distribution. For example, in the one-side test, ***z_(1â€“5%)=z_(95%)â‰ˆ1.65;
    z_(1â€“2.5%)=z_(97.5%)â‰ˆ1.96; z_(2.5%)â‰ˆ-1.96.***'
  id: totrans-51
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '***z_(1-*ğ›¼*)***: åˆ‡å‰²é¡¶éƒ¨**ğ›¼(%)**çš„zåˆ†æ•°ï¼Œæˆ–æ ‡å‡†æ­£æ€åˆ†å¸ƒçš„ä¸´ç•Œå€¼ã€‚ä¾‹å¦‚ï¼Œåœ¨å•ä¾§æ£€éªŒä¸­ï¼Œ***z_(1â€“5%)=z_(95%)â‰ˆ1.65;
    z_(1â€“2.5%)=z_(97.5%)â‰ˆ1.96; z_(2.5%)â‰ˆ-1.96ã€‚***'
- en: '**ğœ:** the standard deviation of the observations in each group. We assume
    the standard deviations to be the same in the two groups (*we will also discuss
    how to adjust the formula when the variances are unequal*).'
  id: totrans-52
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**ğœï¼š**æ¯ç»„è§‚å¯Ÿå€¼çš„æ ‡å‡†å·®ã€‚æˆ‘ä»¬å‡è®¾ä¸¤ä¸ªç»„çš„æ ‡å‡†å·®ç›¸åŒï¼ˆ*æˆ‘ä»¬è¿˜å°†è®¨è®ºå½“æ–¹å·®ä¸ç›¸ç­‰æ—¶å¦‚ä½•è°ƒæ•´å…¬å¼*ï¼‰ã€‚'
- en: '**ğ‘‘ğ‘šğ‘–ğ‘›:** the minimum detectable effect, that is the level of statistically
    significant difference that can be detected given the sample size ğœ¨. For instance,
    if the conversion rate of the control group is 10% and **we expect** the treatment
    can actually increase the conversion from 10% to 15%(note that this is our expectation),
    then (the absolute) **ğ‘‘ğ‘šğ‘–ğ‘›** is 15%-10%=5%. Intuitively, if our **expected treatment
    effect is very small** (i.e. we are not confident of the treatment strategy),
    we will need many **more samples** to distinguish it from the natural variance
    because the true effect could be very subtle. If the minimum detectable effect
    is **large**, it should be fairly noticeable and thus **a small sample** will
    suffice to tell us whether the difference between the two groups is actually statistically
    significant or not.'
  id: totrans-53
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**ğ‘‘ğ‘šğ‘–ğ‘›ï¼š**æœ€å°å¯æ£€æµ‹æ•ˆåº”ï¼Œå³åœ¨ç»™å®šæ ·æœ¬é‡ ğœ¨ çš„æƒ…å†µä¸‹ï¼Œå¯ä»¥æ£€æµ‹åˆ°çš„ç»Ÿè®¡æ˜¾è‘—å·®å¼‚æ°´å¹³ã€‚ä¾‹å¦‚ï¼Œå¦‚æœå¯¹ç…§ç»„çš„è½¬æ¢ç‡ä¸º 10%ï¼Œä¸”**æˆ‘ä»¬é¢„æœŸ**å¤„ç†èƒ½å¤Ÿå°†è½¬æ¢ç‡ä»
    10% å®é™…æé«˜åˆ° 15%ï¼ˆè¯·æ³¨æ„è¿™æ˜¯æˆ‘ä»¬çš„é¢„æœŸï¼‰ï¼Œåˆ™ï¼ˆç»å¯¹ï¼‰**ğ‘‘ğ‘šğ‘–ğ‘›** ä¸º 15%-10%=5%ã€‚ç›´è§‚åœ°è¯´ï¼Œå¦‚æœæˆ‘ä»¬**é¢„æœŸçš„å¤„ç†æ•ˆåº”éå¸¸å°**ï¼ˆå³æˆ‘ä»¬å¯¹å¤„ç†ç­–ç•¥æ²¡æœ‰ä¿¡å¿ƒï¼‰ï¼Œæˆ‘ä»¬å°†éœ€è¦æ›´å¤šçš„**æ ·æœ¬**æ¥å°†å…¶ä¸è‡ªç„¶å˜å¼‚åŒºåˆ†å¼€ï¼Œå› ä¸ºçœŸå®æ•ˆåº”å¯èƒ½éå¸¸å¾®å¼±ã€‚å¦‚æœæœ€å°å¯æ£€æµ‹æ•ˆåº”**è¾ƒå¤§**ï¼Œå®ƒåº”è¯¥ç›¸å½“æ˜¾è‘—ï¼Œå› æ­¤**å°‘é‡æ ·æœ¬**å°±è¶³ä»¥å‘Šè¯‰æˆ‘ä»¬ä¸¤ç»„ä¹‹é—´çš„å·®å¼‚æ˜¯å¦å®é™…å…·æœ‰ç»Ÿè®¡å­¦æ„ä¹‰ã€‚'
- en: Goal
  id: totrans-54
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: ç›®æ ‡
- en: Given type I error **ğ›¼**, type II error **ğ›½**, the standard deviation **ğœ**,
    and the minimum detectable effect **ğ‘‘ğ‘šğ‘–ğ‘›**, we want to estimate the minimum required
    sample size ğœ¨ such that we have sufficient statistical power to detect a difference
    at least as large as **ğ‘‘ğ‘šğ‘–ğ‘›.**
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: ç»™å®š I å‹é”™è¯¯**ğ›¼**ã€II å‹é”™è¯¯**ğ›½**ã€æ ‡å‡†å·®**ğœ**å’Œæœ€å°å¯æ£€æµ‹æ•ˆåº”**ğ‘‘ğ‘šğ‘–ğ‘›**ï¼Œæˆ‘ä»¬å¸Œæœ›ä¼°è®¡æœ€å°æ‰€éœ€æ ·æœ¬é‡ ğœ¨ï¼Œä»¥ä¾¿æˆ‘ä»¬æœ‰è¶³å¤Ÿçš„ç»Ÿè®¡åŠŸæ•ˆæ¥æ£€æµ‹åˆ°è‡³å°‘ä¸**ğ‘‘ğ‘šğ‘–ğ‘›**ä¸€æ ·å¤§çš„å·®å¼‚ã€‚
- en: In other words, the number of samples ğœ¨ (only) guarantees us to detect the treatment
    effect or inter-group difference at least **ğ‘‘ğ‘šğ‘–ğ‘›**. If the real treatment effect
    is actually smaller than **ğ‘‘ğ‘šğ‘–ğ‘›**, we might not be able to distinguish such minor
    improvement from the natural variation.
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: æ¢å¥è¯è¯´ï¼Œæ ·æœ¬é‡ ğœ¨ï¼ˆä»…ï¼‰ä¿è¯æˆ‘ä»¬èƒ½æ£€æµ‹åˆ°è‡³å°‘**ğ‘‘ğ‘šğ‘–ğ‘›**çš„å¤„ç†æ•ˆåº”æˆ–ç»„é—´å·®å¼‚ã€‚å¦‚æœå®é™…çš„å¤„ç†æ•ˆåº”å®é™…ä¸Šå°äº**ğ‘‘ğ‘šğ‘–ğ‘›**ï¼Œæˆ‘ä»¬å¯èƒ½æ— æ³•å°†è¿™ç§å¾®å°çš„æ”¹è¿›ä¸è‡ªç„¶å˜å¼‚åŒºåˆ†å¼€ã€‚
- en: I. Deriving Minimum Sample Size ( The Naive Formulation/Without **ğ›½** )
  id: totrans-57
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: I. æ¨å¯¼æœ€å°æ ·æœ¬é‡ï¼ˆå¤©çœŸçš„å…¬å¼/ä¸è€ƒè™‘**ğ›½**ï¼‰
- en: While the statistical power **1-ğ›½,** or the probability of detecting a difference
    when there is actually such one,is a crucial component in estimating meaning sample
    size, I found it hard to wrap my head around when I started to learn A/B tests.
    For this reason, in this article, we start off first with this *â€œnaiveâ€* version
    of the minimum sample size estimation, where only the significance level **ğ›¼**
    is considered, and then progress into the â€œformalâ€ derivation in the next section,
    where the concept of statistical power steps in.
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: è™½ç„¶ç»Ÿè®¡åŠŸæ•ˆ**1-ğ›½**ï¼Œæˆ–è€…å½“å®é™…ä¸Šå­˜åœ¨å·®å¼‚æ—¶æ£€æµ‹å·®å¼‚çš„æ¦‚ç‡ï¼Œæ˜¯ä¼°è®¡æ ·æœ¬é‡çš„å…³é”®å› ç´ ï¼Œä½†å½“æˆ‘å¼€å§‹å­¦ä¹  A/B æµ‹è¯•æ—¶ï¼Œæˆ‘å‘ç°å¾ˆéš¾ç†è§£ã€‚å› æ­¤ï¼Œåœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬é¦–å…ˆä»è¿™ç§*â€œå¤©çœŸçš„â€*æœ€å°æ ·æœ¬é‡ä¼°è®¡ç‰ˆæœ¬å¼€å§‹ï¼Œä»…è€ƒè™‘æ˜¾è‘—æ€§æ°´å¹³**ğ›¼**ï¼Œç„¶ååœ¨ä¸‹ä¸€èŠ‚ä¸­é€æ­¥è¿›å…¥â€œæ­£å¼â€çš„æ¨å¯¼ï¼Œå…¶ä¸­å¼•å…¥ç»Ÿè®¡åŠŸæ•ˆçš„æ¦‚å¿µã€‚
- en: Key Idea
  id: totrans-59
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: å…³é”®æ€æƒ³
- en: The key idea to calculating the minimum required sample size is just the **reverse
    of hypothesis testing**, or put it differently, **asking the sample size *â€œas
    if the p-value is known to be the significance level* ğ›¼*â€***.
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: è®¡ç®—æœ€å°æ‰€éœ€æ ·æœ¬é‡çš„å…³é”®æ€æƒ³å°±æ˜¯**å‡è®¾æ£€éªŒçš„é€†è¿‡ç¨‹**ï¼Œæˆ–è€…æ¢å¥è¯è¯´ï¼Œ**è¯¢é—®æ ·æœ¬é‡ *â€œå°±åƒ p å€¼å·²çŸ¥ä¸ºæ˜¾è‘—æ€§æ°´å¹³* ğ›¼*â€***ã€‚
- en: Given two samples, we could compute the p-value based on the **sample mean,
    standard deviation**, and ***N***. In the words of *Figure 2*, we want the sample
    mean difference statistic***XÌ„d*** to **fall within the red area**, as that is
    the rejection region for the null hypothesis H0.
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: ç»™å®šä¸¤ä¸ªæ ·æœ¬ï¼Œæˆ‘ä»¬å¯ä»¥åŸºäº**æ ·æœ¬å‡å€¼ã€æ ‡å‡†å·®**å’Œ***N***è®¡ç®— p å€¼ã€‚ç”¨*å›¾2*çš„è¯æ¥è¯´ï¼Œæˆ‘ä»¬å¸Œæœ›æ ·æœ¬å‡å€¼å·®å¼‚ç»Ÿè®¡é‡***XÌ„d*** **è½åœ¨çº¢è‰²åŒºåŸŸå†…**ï¼Œå› ä¸ºè¿™æ˜¯åŸå‡è®¾
    H0 çš„æ‹’ç»åŒºåŸŸã€‚
- en: '![](../Images/db7431cf1fd16c1599ac373fb5b0c925.png)'
  id: totrans-62
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/db7431cf1fd16c1599ac373fb5b0c925.png)'
- en: 'Figure 2: Rejection Area and Critical Value in Hypothesis Testing (by Author)'
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: å›¾2ï¼šå‡è®¾æ£€éªŒä¸­çš„æ‹’ç»åŒºåŸŸå’Œä¸´ç•Œå€¼ï¼ˆä½œè€…æä¾›ï¼‰
- en: Now, since the significance level ğ›¼ is essentially the **threshold** of p-values,
    we could compute ***N*** if we know the **standard deviation ğœ** from historical
    data and specify the level of **ğ›¼** as well as the expected difference between
    the two groups **ğ‘‘ğ‘šğ‘–ğ‘›** we want to detect. The minimum required sample size ***N***
    with this formulation guarantees us enough â€œsignificanceâ€ to detect the **ğ‘‘ğ‘šğ‘–ğ‘›**
    amount ofdifference between the two groups.
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: ç°åœ¨ï¼Œç”±äºæ˜¾è‘—æ€§æ°´å¹³ ğ›¼ æœ¬è´¨ä¸Šæ˜¯ p å€¼çš„ **é˜ˆå€¼**ï¼Œå¦‚æœæˆ‘ä»¬çŸ¥é“å†å²æ•°æ®ä¸­çš„ **æ ‡å‡†å·® ğœ** å¹¶æŒ‡å®š **ğ›¼** çš„æ°´å¹³ä»¥åŠæˆ‘ä»¬å¸Œæœ›æ£€æµ‹çš„ä¸¤ç»„ä¹‹é—´çš„é¢„æœŸå·®å¼‚
    **ğ‘‘ğ‘šğ‘–ğ‘›**ï¼Œæˆ‘ä»¬å¯ä»¥è®¡ç®— ***N***ã€‚è¿™ç§å…¬å¼ä¸‹æ‰€éœ€çš„æœ€å°æ ·æœ¬é‡ ***N*** ç¡®ä¿æˆ‘ä»¬æœ‰è¶³å¤Ÿçš„â€œæ˜¾è‘—æ€§â€æ¥æ£€æµ‹ä¸¤ç»„ä¹‹é—´çš„ **ğ‘‘ğ‘šğ‘–ğ‘›** é‡çš„å·®å¼‚ã€‚
- en: Formula Derivation
  id: totrans-65
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: å…¬å¼æ¨å¯¼
- en: 'Based on the above-mentioned idea, we could outline the high-level formula
    below, and I will discuss the derivation of ***N*** step-by-step centering this
    logic:'
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: åŸºäºä¸Šè¿°æ€æƒ³ï¼Œæˆ‘ä»¬å¯ä»¥æ¦‚è¿°ä»¥ä¸‹é«˜çº§å…¬å¼ï¼Œæˆ‘å°†å›´ç»•è¿™ä¸ªé€»è¾‘é€æ­¥è®¨è®º ***N*** çš„æ¨å¯¼ï¼š
- en: '![](../Images/3c0da9ee95bef36782e0ff7b17649699.png)'
  id: totrans-67
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/3c0da9ee95bef36782e0ff7b17649699.png)'
- en: 'Formula 1: High-level Idea behind the Naive Minimum Sample Size Formulation
    (by Author)'
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: 'å…¬å¼ 1: æœ´ç´ æœ€å°æ ·æœ¬é‡å…¬å¼çš„é«˜çº§æ¦‚å¿µï¼ˆä½œè€…æä¾›ï¼‰'
- en: To start off, I would like to explicitly define our hypotheses and the testing
    statistic. The null hypothesis is that there is no statistical difference between
    the mean statistics of group 1 (control group) and group 2 (treatment group).
    The alternative hypothesis asserts that our treatment group is â€˜betterâ€™ than the
    control group, indicating a one-sided test.
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: é¦–å…ˆï¼Œæˆ‘æƒ³æ˜ç¡®æˆ‘ä»¬çš„å‡è®¾å’Œæµ‹è¯•ç»Ÿè®¡é‡ã€‚é›¶å‡è®¾æ˜¯ç»„ 1ï¼ˆå¯¹ç…§ç»„ï¼‰å’Œç»„ 2ï¼ˆå¤„ç†ç»„ï¼‰çš„å‡å€¼ç»Ÿè®¡é‡ä¹‹é—´æ²¡æœ‰ç»Ÿè®¡å­¦å·®å¼‚ã€‚å¤‡æ‹©å‡è®¾åˆ™è¡¨æ˜æˆ‘ä»¬çš„å¤„ç†ç»„â€˜ä¼˜äºâ€™å¯¹ç…§ç»„ï¼Œè¡¨æ˜è¿™æ˜¯ä¸€ä¸ªå•ä¾§æ£€éªŒã€‚
- en: '![](../Images/a6c705b17e02b1bf34086f1a7a3912f1.png)'
  id: totrans-70
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/a6c705b17e02b1bf34086f1a7a3912f1.png)'
- en: 'Formula 2: H0 and H1 in Two-sample One-sided T-test/Z-test (by Author)'
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: 'å…¬å¼ 2: ä¸¤æ ·æœ¬å•ä¾§ T æ£€éªŒ/Z æ£€éªŒä¸­çš„ H0 å’Œ H1ï¼ˆä½œè€…æä¾›ï¼‰'
- en: 'We focus on the difference in mean statistics of group 1 and group 2:'
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬å…³æ³¨çš„æ˜¯ç»„ 1 å’Œç»„ 2 çš„å‡å€¼ç»Ÿè®¡é‡çš„å·®å¼‚ï¼š
- en: '![](../Images/4554e1e17b2cf83aa7a26f01c1723e1e.png)'
  id: totrans-73
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/4554e1e17b2cf83aa7a26f01c1723e1e.png)'
- en: 'Formula 3: Test Statistic for the Two-sample T-test/Z-test (by Author)'
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: 'å…¬å¼ 3: åŒæ ·æœ¬ T æ£€éªŒ/Z æ£€éªŒçš„æµ‹è¯•ç»Ÿè®¡é‡ï¼ˆä½œè€…æä¾›ï¼‰'
- en: Letâ€™s explore the distribution properties before delving any further. We donâ€™t
    require any distribution assumptions for the two groups ğ›¸1, ğ›¸2, because their
    **sample mean statistics** as well as the derived **sample mean difference statistic**
    follow normal distributions according to the Central Limit Theorem.
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨è¿›ä¸€æ­¥æ¢è®¨ä¹‹å‰ï¼Œè®©æˆ‘ä»¬å…ˆæ¢è®¨åˆ†å¸ƒæ€§è´¨ã€‚æˆ‘ä»¬ä¸éœ€è¦å¯¹ä¸¤ç»„ ğ›¸1ã€ğ›¸2 åšä»»ä½•åˆ†å¸ƒå‡è®¾ï¼Œå› ä¸ºæ ¹æ®ä¸­å¿ƒæé™å®šç†ï¼Œå®ƒä»¬çš„ **æ ·æœ¬å‡å€¼ç»Ÿè®¡é‡** ä»¥åŠæ¨å¯¼å‡ºçš„
    **æ ·æœ¬å‡å€¼å·®å¼‚ç»Ÿè®¡é‡** éµå¾ªæ­£æ€åˆ†å¸ƒã€‚
- en: '![](../Images/e3055ca906961dab057fdb26469f05eb.png)'
  id: totrans-76
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/e3055ca906961dab057fdb26469f05eb.png)'
- en: 'Formula 4: Distributional Properties of Key Random Variables and Test Statistics
    (by Author)'
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
  zh: 'å…¬å¼ 4: å…³é”®éšæœºå˜é‡å’Œæµ‹è¯•ç»Ÿè®¡é‡çš„åˆ†å¸ƒæ€§è´¨ï¼ˆä½œè€…æä¾›ï¼‰'
- en: 'Recall p-value represents the probability for the random variable to obtain
    a value as or more extreme than the current sample statistic, assuming the null
    hypothesis is true. Therefore, the p-value and the z-statistic can be calculated
    by:'
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: è®°ä½ï¼Œp å€¼è¡¨ç¤ºåœ¨é›¶å‡è®¾ä¸ºçœŸçš„æƒ…å†µä¸‹ï¼Œéšæœºå˜é‡è·å¾—ä¸€ä¸ªå€¼ä¸å½“å‰æ ·æœ¬ç»Ÿè®¡é‡ä¸€æ ·æç«¯æˆ–æ›´æç«¯çš„æ¦‚ç‡ã€‚å› æ­¤ï¼Œp å€¼å’Œ z ç»Ÿè®¡é‡å¯ä»¥é€šè¿‡ä»¥ä¸‹å…¬å¼è®¡ç®—ï¼š
- en: '![](../Images/10f93d853d31e7be3aa7b8a9b91edcce.png)'
  id: totrans-79
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/10f93d853d31e7be3aa7b8a9b91edcce.png)'
- en: 'Formula 5: P-value Formulation for the Two-Sample One-sided Z-test (by Author)'
  id: totrans-80
  prefs: []
  type: TYPE_NORMAL
  zh: 'å…¬å¼ 5: ä¸¤æ ·æœ¬å•ä¾§ Z æ£€éªŒçš„ p å€¼å…¬å¼ï¼ˆä½œè€…æä¾›ï¼‰'
- en: 'Hence, if we were performing hypothesis testing, then we would reject the null
    hypothesis at **ğ›¼** significance level if our p-value is smaller than **ğ›¼**, or
    the sample z-statistic is greater than the critical z-value:'
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: å› æ­¤ï¼Œå¦‚æœæˆ‘ä»¬è¿›è¡Œå‡è®¾æ£€éªŒï¼Œå½“æˆ‘ä»¬çš„ p å€¼å°äº **ğ›¼** æ—¶ï¼Œæˆ‘ä»¬å°†ä»¥ **ğ›¼** æ˜¾è‘—æ€§æ°´å¹³æ‹’ç»é›¶å‡è®¾ï¼Œæˆ–è€…æ ·æœ¬ z ç»Ÿè®¡é‡å¤§äºä¸´ç•Œ z å€¼ï¼š
- en: '![](../Images/6eb31af9bc882af659a92a3a077a6525.png)'
  id: totrans-82
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/6eb31af9bc882af659a92a3a077a6525.png)'
- en: 'Formula 6: Hypothesis Testing Criteria when H0 is rejected for Two-Sample One-sided
    T-test/Z-test (by Author)'
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
  zh: 'å…¬å¼ 6: å½“ H0 è¢«æ‹’ç»æ—¶çš„ä¸¤æ ·æœ¬å•ä¾§ T æ£€éªŒ/Z æ£€éªŒçš„å‡è®¾æ£€éªŒæ ‡å‡†ï¼ˆä½œè€…æä¾›ï¼‰'
- en: Great! Now we derived the end formula for hypothesis testing given two sample
    groups. You may already notice ğœ¨ in the denominator. Straightforward as it is,
    the minimum required sample size is computed by (1) treating ***xÌ„d*** as a pre-determined
    Minimum Detectable Effect (MDE or **ğ‘‘ğ‘šğ‘–ğ‘›**); (2) assuming the null hypothesis
    is true (Î¼2-Î¼1=0), and (3) asking for ğœ¨ by reversing the inequation.
  id: totrans-84
  prefs: []
  type: TYPE_NORMAL
  zh: å¤ªæ£’äº†ï¼ç°åœ¨æˆ‘ä»¬å·²ç»å¾—å‡ºäº†ç»™å®šä¸¤ä¸ªæ ·æœ¬ç»„çš„å‡è®¾æ£€éªŒæœ€ç»ˆå…¬å¼ã€‚ä½ å¯èƒ½å·²ç»æ³¨æ„åˆ°åˆ†æ¯ä¸­æœ‰ğœ¨ã€‚å°½ç®¡å¾ˆç®€å•ï¼Œè®¡ç®—æ‰€éœ€çš„æœ€å°æ ·æœ¬é‡çš„æ–¹æ³•æ˜¯ï¼ˆ1ï¼‰å°†***xÌ„d***è§†ä¸ºé¢„å®šçš„æœ€å°å¯æ£€æµ‹æ•ˆåº”ï¼ˆMDE
    æˆ– **ğ‘‘ğ‘šğ‘–ğ‘›**ï¼‰ï¼›ï¼ˆ2ï¼‰å‡è®¾åŸå‡è®¾æˆç«‹ï¼ˆÎ¼2-Î¼1=0ï¼‰ï¼Œä»¥åŠï¼ˆ3ï¼‰é€šè¿‡åè½¬ä¸ç­‰å¼æ¥æ±‚ğœ¨ã€‚
- en: To conduct *hypothesis testing*, we compute ***xÌ„d*** by taking the difference
    between sample means from group 1 and group 2.
  id: totrans-85
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: è¦è¿›è¡Œ*å‡è®¾æ£€éªŒ*ï¼Œæˆ‘ä»¬é€šè¿‡è®¡ç®—ç»„1å’Œç»„2ä¹‹é—´çš„æ ·æœ¬å‡å€¼å·®å¼‚æ¥è®¡ç®—***xÌ„d***ã€‚
- en: To calculate the *minimum sample size*, we replace the sample-based ***xÌ„d***
    with the expected Minimum Detectable Effect **ğ‘‘ğ‘šğ‘–ğ‘›**, which is the expected difference
    from group 1 (the control group) and group 2 (the treatment group), or in product
    analytics language, the potential incremental effect we anticipate our treatment
    strategy to obtain.
  id: totrans-86
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: è¦è®¡ç®—*æœ€å°æ ·æœ¬é‡*ï¼Œæˆ‘ä»¬ç”¨é¢„æœŸçš„æœ€å°å¯æ£€æµ‹æ•ˆåº”**ğ‘‘ğ‘šğ‘–ğ‘›**æ›¿æ¢åŸºäºæ ·æœ¬çš„***xÌ„d***ï¼Œè¿™ä»£è¡¨äº†æ¥è‡ªç»„1ï¼ˆå¯¹ç…§ç»„ï¼‰å’Œç»„2ï¼ˆå¤„ç†ç»„ï¼‰çš„é¢„æœŸå·®å¼‚ï¼Œæˆ–è€…åœ¨äº§å“åˆ†æè¯­è¨€ä¸­ï¼Œå°±æ˜¯æˆ‘ä»¬æœŸæœ›æ²»ç–—ç­–ç•¥å¸¦æ¥çš„æ½œåœ¨å¢é‡æ•ˆæœã€‚
- en: 'Accordingly, the derivation of ğœ¨ given **ğ‘‘ğ‘šğ‘–ğ‘›**, **ğ›¼**,and **ğœ** is illustrated
    below:'
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
  zh: å› æ­¤ï¼Œç»™å®š**ğ‘‘ğ‘šğ‘–ğ‘›**ã€**ğ›¼**å’Œ**ğœ**çš„ğœ¨çš„æ¨å¯¼å¦‚ä¸‹ï¼š
- en: '![](../Images/efd580935995a198445f65466a799075.png)'
  id: totrans-88
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/efd580935995a198445f65466a799075.png)'
- en: 'Formula 7: Derivation of ğœ¨ given **ğ‘‘ğ‘šğ‘–ğ‘›**, **ğ›¼**,and **ğœ** (by Author)'
  id: totrans-89
  prefs: []
  type: TYPE_NORMAL
  zh: å…¬å¼ 7ï¼šç»™å®š**ğ‘‘ğ‘šğ‘–ğ‘›**ã€**ğ›¼**å’Œ**ğœ**çš„ğœ¨çš„æ¨å¯¼ï¼ˆä½œè€…ï¼‰
- en: 'Example: Analyzing Download Speed Difference between Two Communities In Chicago'
  id: totrans-90
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: ç¤ºä¾‹ï¼šåˆ†æèŠåŠ å“¥ä¸¤ä¸ªç¤¾åŒºä¹‹é—´çš„ä¸‹è½½é€Ÿåº¦å·®å¼‚
- en: Letâ€™s say you are a research assistant working with your professor. The teamâ€™s
    current research is about investigating internet inequity, which is measured by
    the **download speed, between underserved and wealthy communities,** and your
    professor has a very firm belief/hypothesis that there exists such inequity because
    of the differences in the infrastructure, service providers, and so forth.
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
  zh: å‡è®¾ä½ æ˜¯ä¸€ä¸ªç ”ç©¶åŠ©ç†ï¼Œä¸ä½ çš„æ•™æˆä¸€èµ·å·¥ä½œã€‚å›¢é˜Ÿå½“å‰çš„ç ”ç©¶æ˜¯è°ƒæŸ¥äº’è”ç½‘ä¸å¹³ç­‰ï¼Œè¿™é€šè¿‡**ä¸‹è½½é€Ÿåº¦ï¼Œåœ¨æœåŠ¡ä¸è¶³å’Œå¯Œè£•ç¤¾åŒºä¹‹é—´**æ¥è¡¡é‡ï¼Œä½ çš„æ•™æˆåšä¿¡/å‡è®¾å­˜åœ¨è¿™ç§ä¸å¹³ç­‰ï¼Œå› ä¸ºåŸºç¡€è®¾æ–½ã€æœåŠ¡æä¾›å•†ç­‰æ–¹é¢å­˜åœ¨å·®å¼‚ã€‚
- en: The two geographic communities of focus are *Lincoln Park (Northside Chicago,
    one of the most affluent neighborhoods)* and *South Shore (Southside Chicago,
    usually considered an underserved community)*. The team has already surveyed **10
    randomly-selected households in each community**, and the professor asked you
    to conduct the data analysis to validate his hypothesis.
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸¤ä¸ªå…³æ³¨çš„åœ°ç†ç¤¾åŒºæ˜¯*æ—è‚¯å…¬å›­ï¼ˆèŠåŠ å“¥åŒ—åŒºï¼Œæœ€å¯Œè£•çš„ç¤¾åŒºä¹‹ä¸€ï¼‰*å’Œ*å—å²¸ï¼ˆèŠåŠ å“¥å—åŒºï¼Œé€šå¸¸è¢«è®¤ä¸ºæ˜¯æœåŠ¡ä¸è¶³çš„ç¤¾åŒºï¼‰*ã€‚å›¢é˜Ÿå·²ç»å¯¹**æ¯ä¸ªç¤¾åŒºçš„10ä¸ªéšæœºé€‰æ‹©çš„å®¶åº­**è¿›è¡Œäº†è°ƒæŸ¥ï¼Œæ•™æˆè®©ä½ è¿›è¡Œæ•°æ®åˆ†æä»¥éªŒè¯ä»–çš„å‡è®¾ã€‚
- en: 'Table 1: The Initial Small Sample (N=10) (Synthetic Data, Made-up by Author)'
  id: totrans-93
  prefs: []
  type: TYPE_NORMAL
  zh: è¡¨ 1ï¼šåˆæ­¥å°æ ·æœ¬ï¼ˆN=10ï¼‰ï¼ˆåˆæˆæ•°æ®ï¼Œä½œè€…ç¼–é€ ï¼‰
- en: You realized **t-tests** could be a good candidate to check **if there is a
    statistically significant difference in average download speed per household between
    Lincoln Park and South Shore.** However, after putting together the number, you
    found the result is **not statistically significant**, and you believe it is because
    the **sample size is too small** that the actual difference is covered by the
    natural variation.
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: ä½ æ„è¯†åˆ°**tæ£€éªŒ**å¯èƒ½æ˜¯æ£€æŸ¥**æ—è‚¯å…¬å›­å’Œå—å²¸ä¹‹é—´æ¯ä¸ªå®¶åº­å¹³å‡ä¸‹è½½é€Ÿåº¦æ˜¯å¦å­˜åœ¨ç»Ÿè®¡æ˜¾è‘—å·®å¼‚**çš„ä¸€ä¸ªå¥½æ–¹æ³•ã€‚ç„¶è€Œï¼Œåœ¨æ•´ç†æ•°æ®åï¼Œä½ å‘ç°ç»“æœæ˜¯**ä¸å…·æœ‰ç»Ÿè®¡æ˜¾è‘—æ€§**ï¼Œä½ è®¤ä¸ºè¿™æ˜¯å› ä¸º**æ ·æœ¬é‡å¤ªå°**ï¼Œå®é™…å·®å¼‚è¢«è‡ªç„¶å˜å¼‚æ‰€æ©ç›–ã€‚
- en: 'The next question arises: **How many more samples should you suggest the team
    collect?** We need to know **three numbers:** **ğ›¼**, **ğœ, and ğ‘‘ğ‘šğ‘–ğ‘›** to calculate
    the minimum required sample size, according to the formula in *Formula 7*.'
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
  zh: æ¥ä¸‹æ¥å‡ºç°çš„é—®é¢˜æ˜¯ï¼š**ä½ å»ºè®®å›¢é˜Ÿæ”¶é›†å¤šå°‘æ›´å¤šçš„æ ·æœ¬ï¼Ÿ** æˆ‘ä»¬éœ€è¦çŸ¥é“**ä¸‰ä¸ªæ•°å­—ï¼š** **ğ›¼**ã€**ğœ** å’Œ **ğ‘‘ğ‘šğ‘–ğ‘›**æ¥æ ¹æ®*å…¬å¼ 7*
    è®¡ç®—æ‰€éœ€çš„æœ€å°æ ·æœ¬é‡ã€‚
- en: 'We usually specify a 5% significance level and the standard deviation can be
    approximated using the sample standard deviation of group 1, assuming homogenous
    variance. For **ğ‘‘ğ‘šğ‘–ğ‘›**, we need to talk with the Professor to borrow the domain
    knowledge and determine the expected difference between *group 1 (South Shore)*
    and *group 2 (Lincoln Park)*. For now, letâ€™s assume Professor suggests that the
    expected difference, or the minimum detectable lift (%), in household download
    speed between these two communities should be 1%. Therefore, we have:'
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬é€šå¸¸æŒ‡å®š 5% çš„æ˜¾è‘—æ€§æ°´å¹³ï¼Œå¹¶ä¸”åœ¨å‡è®¾æ–¹å·®é½æ€§çš„æƒ…å†µä¸‹ï¼Œæ ‡å‡†å·®å¯ä»¥ç”¨ç»„ 1 çš„æ ·æœ¬æ ‡å‡†å·®è¿›è¡Œè¿‘ä¼¼ã€‚å¯¹äº**ğ‘‘ğ‘šğ‘–ğ‘›**ï¼Œæˆ‘ä»¬éœ€è¦ä¸æ•™æˆæ²Ÿé€šï¼Œå€Ÿç”¨é¢†åŸŸçŸ¥è¯†å¹¶ç¡®å®š*ç»„
    1ï¼ˆå—å²¸ï¼‰*å’Œ*ç»„ 2ï¼ˆæ—è‚¯å…¬å›­ï¼‰*ä¹‹é—´çš„é¢„æœŸå·®å¼‚ã€‚ç›®å‰ï¼Œå‡è®¾æ•™æˆå»ºè®®è¿™ä¸¤ä¸ªç¤¾åŒºä¹‹é—´å®¶åº­ä¸‹è½½é€Ÿåº¦çš„é¢„æœŸå·®å¼‚æˆ–æœ€å°å¯æ£€æµ‹æå‡ï¼ˆ%ï¼‰åº”ä¸º 1%ã€‚å› æ­¤ï¼Œæˆ‘ä»¬å¾—åˆ°ï¼š
- en: '![](../Images/b43bb9acf26fd5d5403a19f35e2a7138.png)'
  id: totrans-97
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/b43bb9acf26fd5d5403a19f35e2a7138.png)'
- en: 'Formula 8: Specifications of **ğ›¼**, **ğœ**, and **ğ‘‘ğ‘šğ‘–ğ‘›** in the Download Speed
    Example(by Author)'
  id: totrans-98
  prefs: []
  type: TYPE_NORMAL
  zh: 'å…¬å¼ 8: **ğ›¼**ã€**ğœ** å’Œ **ğ‘‘ğ‘šğ‘–ğ‘›** åœ¨ä¸‹è½½é€Ÿåº¦ç¤ºä¾‹ä¸­çš„è§„æ ¼ï¼ˆä½œè€…æä¾›ï¼‰'
- en: Plugging in these numbers, we are able to calculate the minimum required sample
    size, which is **77**. This number implies that we should survey **67** more households
    (we already have 10) and this larger sample (***N*=77**) would enable us to detect
    the **1%** or larger difference in download internet speed if there does exist
    such difference between the two communities in Chicago.
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: æ’å…¥è¿™äº›æ•°å­—åï¼Œæˆ‘ä»¬èƒ½å¤Ÿè®¡ç®—å‡ºæ‰€éœ€çš„æœ€ä½æ ·æœ¬é‡ï¼Œä¸º **77**ã€‚è¿™ä¸ªæ•°å­—æ„å‘³ç€æˆ‘ä»¬åº”è¯¥è°ƒæŸ¥ **67** æˆ·å®¶åº­ï¼ˆæˆ‘ä»¬å·²ç»æœ‰ 10 æˆ·ï¼‰ï¼Œè€Œè¿™ä¸ªæ›´å¤§çš„æ ·æœ¬ï¼ˆ***N*=77**ï¼‰å°†ä½¿æˆ‘ä»¬èƒ½å¤Ÿæ£€æµ‹åˆ°
    **1%** æˆ–æ›´å¤§çš„ä¸‹è½½äº’è”ç½‘é€Ÿåº¦å·®å¼‚ï¼Œå‰ææ˜¯è¿™ä¸¤ä¸ªç¤¾åŒºä¹‹é—´ç¡®å®å­˜åœ¨è¿™æ ·çš„å·®å¼‚ã€‚
- en: '![](../Images/4f20229e226cc2828d693c8c74fedaa2.png)'
  id: totrans-100
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/4f20229e226cc2828d693c8c74fedaa2.png)'
- en: 'Formula 9: Illustration of Calculating ğœ¨ given **ğ‘‘ğ‘šğ‘–ğ‘›**, **ğ›¼**,and **ğœ** in
    the Download Speed Example (by Author)'
  id: totrans-101
  prefs: []
  type: TYPE_NORMAL
  zh: 'å…¬å¼ 9: è®¡ç®—ç»™å®š **ğ‘‘ğ‘šğ‘–ğ‘›**ã€**ğ›¼** å’Œ **ğœ** çš„ ğœ¨ çš„ç¤ºä¾‹ï¼ˆä½œè€…æä¾›ï¼‰'
- en: 'The full Python implementation can be found on my [GitHub Gist](https://gist.github.com/mintaow/30506b7c2ae54da5d13623a3e4595beb)
    or the embedded notebook as follow:'
  id: totrans-102
  prefs: []
  type: TYPE_NORMAL
  zh: å®Œæ•´çš„ Python å®ç°å¯ä»¥åœ¨æˆ‘çš„ [GitHub Gist](https://gist.github.com/mintaow/30506b7c2ae54da5d13623a3e4595beb)
    ä¸Šæ‰¾åˆ°ï¼Œæˆ–åµŒå…¥çš„ç¬”è®°æœ¬å¦‚ä¸‹ï¼š
- en: II. Deriving Minimum Sample Size ( The Standard Formulation/With **ğ›½ )**
  id: totrans-103
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: II. æ¨å¯¼æœ€ä½æ ·æœ¬é‡ï¼ˆæ ‡å‡†å…¬å¼/ä¸ **ğ›½**ï¼‰
- en: Key Idea
  id: totrans-104
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: å…³é”®æ€æƒ³
- en: 'When designing and launching A/B tests at tech firms, in most cases, we not
    only care about obtaining significant p-values to reject the null hypothesis,
    but more importantly, to **reject the null hypothesis when it is actually wrong**,
    which indicates that our treatment is indeed effective rather than a Type I error.
    Therefore, the sample size we require needs to have sufficient **statistical power
    (1-ğ›½)** to detect such treatment effects**.** Graphically, as illustrated in *Figure
    3*, what we most â€˜desireâ€™ are two things:'
  id: totrans-105
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨ç§‘æŠ€å…¬å¸è®¾è®¡å’Œå¯åŠ¨ A/B æµ‹è¯•æ—¶ï¼Œæˆ‘ä»¬é€šå¸¸ä¸ä»…å…³å¿ƒè·å¾—æ˜¾è‘—çš„ p å€¼ä»¥æ‹’ç»åŸå‡è®¾ï¼Œæ›´é‡è¦çš„æ˜¯åœ¨åŸå‡è®¾ç¡®å®é”™è¯¯æ—¶**æ‹’ç»åŸå‡è®¾**ï¼Œè¿™è¡¨æ˜æˆ‘ä»¬çš„å¤„ç†ç¡®å®æœ‰æ•ˆï¼Œè€Œä¸æ˜¯ç¬¬ä¸€ç±»é”™è¯¯ã€‚å› æ­¤ï¼Œæˆ‘ä»¬æ‰€éœ€çš„æ ·æœ¬é‡éœ€è¦æœ‰è¶³å¤Ÿçš„**ç»Ÿè®¡åŠŸæ•ˆ
    (1-ğ›½)** æ¥æ£€æµ‹è¿™ç§å¤„ç†æ•ˆåº”ã€‚**å›¾å½¢ä¸Šï¼Œå¦‚*å›¾ 3*æ‰€ç¤ºï¼Œæˆ‘ä»¬æœ€â€˜æ¸´æœ›â€™çš„æ˜¯ä¸¤ä»¶äº‹ï¼š
- en: The sample statistic (***XÌ„d***) **falls beyond the critical value**, as that
    is the rejection region for H0.
  id: totrans-106
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: æ ·æœ¬ç»Ÿè®¡é‡ï¼ˆ***XÌ„d***ï¼‰**è¶…å‡ºäº†ä¸´ç•Œå€¼**ï¼Œå› ä¸ºè¿™æ˜¯ H0 çš„æ‹’ç»åŒºåŸŸã€‚
- en: The sample statistic (***XÌ„d***) **falls within the** **blue-shaded regions
    in the distribution Ha** because the blue area represents the alternative distribution,
    indicating the population difference between the treatment group and the control
    group is not zero.
  id: totrans-107
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: æ ·æœ¬ç»Ÿè®¡é‡ï¼ˆ***XÌ„d***ï¼‰**è½åœ¨** **åˆ†å¸ƒ Ha ä¸­çš„è“è‰²é˜´å½±åŒºåŸŸ**ï¼Œå› ä¸ºè“è‰²åŒºåŸŸä»£è¡¨äº†æ›¿ä»£åˆ†å¸ƒï¼Œè¡¨ç¤ºå¤„ç†ç»„å’Œå¯¹ç…§ç»„ä¹‹é—´çš„æ€»ä½“å·®å¼‚ä¸ä¸ºé›¶ã€‚
- en: That is the key idea to calculating the minimum required sample size.
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™æ˜¯è®¡ç®—æ‰€éœ€æœ€ä½æ ·æœ¬é‡çš„å…³é”®æ€æƒ³ã€‚
- en: '![](../Images/a852c0f5f3fa4d0d514829dce67dc71a.png)'
  id: totrans-109
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/a852c0f5f3fa4d0d514829dce67dc71a.png)'
- en: 'Figure 3: Rejection Area, Critical Value, Statistical Power in Hypothesis Testing
    (by Author)'
  id: totrans-110
  prefs: []
  type: TYPE_NORMAL
  zh: 'å›¾ 3: å‡è®¾æ£€éªŒä¸­çš„æ‹’ç»åŒºåŸŸã€ä¸´ç•Œå€¼ã€ç»Ÿè®¡åŠŸæ•ˆï¼ˆä½œè€…æä¾›ï¼‰'
- en: The transition in the formula from the above-mentioned **naive version** to
    the **formal representation**, reflecting the consideration of the statistical
    power **1-ğ›½**, is demonstrated below. The required sample size **increases** as
    the critical value specified by **1-ğ›½** is added to the numerator, which makes
    sense because we are â€œbuying inâ€ more efficiency in our inference.
  id: totrans-111
  prefs: []
  type: TYPE_NORMAL
  zh: ä»ä¸Šè¿°æåˆ°çš„**æœ´ç´ ç‰ˆæœ¬**åˆ°**æ­£å¼è¡¨ç¤º**çš„å…¬å¼è½¬æ¢ï¼Œåæ˜ äº†ç»Ÿè®¡åŠŸæ•ˆ **1-ğ›½** çš„è€ƒè™‘ï¼Œå¦‚ä¸‹æ‰€ç¤ºã€‚éšç€ç”± **1-ğ›½** æŒ‡å®šçš„ä¸´ç•Œå€¼æ·»åŠ åˆ°åˆ†å­ä¸­ï¼Œæ‰€éœ€çš„æ ·æœ¬é‡
    **å¢åŠ **ï¼Œè¿™å¾ˆæœ‰æ„ä¹‰ï¼Œå› ä¸ºæˆ‘ä»¬åœ¨æ¨æ–­ä¸­â€œè´­ä¹°â€äº†æ›´å¤šçš„æ•ˆç‡ã€‚
- en: '![](../Images/a39c7a36a33cf0b5983da1d333b70bf3.png)'
  id: totrans-112
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/a39c7a36a33cf0b5983da1d333b70bf3.png)'
- en: 'Formula 10: From Naive Formulation to Standard Formulation in Sample Size Estimation
    (by Author)'
  id: totrans-113
  prefs: []
  type: TYPE_NORMAL
  zh: å…¬å¼ 10ï¼šæ ·æœ¬å¤§å°ä¼°è®¡ä¸­çš„ä»ç®€å•å…¬å¼åˆ°æ ‡å‡†å…¬å¼ï¼ˆä½œè€…ï¼‰
- en: Another perspective is that the minimum required sample size for A/B tests is
    an extension of that of the naive version discussed above because the Type II
    Error **ğ›½** is now included/controlled. The logic of calculating the minimum sample
    size is still the **reverse of hypothesis testing** except that we need to consider
    two distributions, H0 and H1, and to incorporate both the type-I error/significance
    level **ğ›¼** and type-II error **ğ›½**.
  id: totrans-114
  prefs: []
  type: TYPE_NORMAL
  zh: å¦ä¸€ç§çœ‹æ³•æ˜¯ï¼ŒA/Bæµ‹è¯•æ‰€éœ€çš„æœ€å°æ ·æœ¬å¤§å°æ˜¯ä¸Šè¿°ç®€å•ç‰ˆæœ¬çš„æ‰©å±•ï¼Œå› ä¸ºç°åœ¨åŒ…å«/æ§åˆ¶äº†ç¬¬äºŒç±»é”™è¯¯**ğ›½**ã€‚è®¡ç®—æœ€å°æ ·æœ¬å¤§å°çš„é€»è¾‘ä»ç„¶æ˜¯**å‡è®¾æ£€éªŒçš„åå‘**ï¼Œåªæ˜¯æˆ‘ä»¬éœ€è¦è€ƒè™‘ä¸¤ç§åˆ†å¸ƒH0å’ŒH1ï¼Œå¹¶çº³å…¥ç¬¬ä¸€ç±»é”™è¯¯/æ˜¾è‘—æ€§æ°´å¹³**ğ›¼**å’Œç¬¬äºŒç±»é”™è¯¯**ğ›½**ã€‚
- en: Formula Derivation
  id: totrans-115
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: å…¬å¼æ¨å¯¼
- en: Accordingly, we set up our high-level formula by asserting the probability of
    rejecting false H0 to be smaller than the pre-specified **statistical power (1-ğ›½)**
    as below.
  id: totrans-116
  prefs: []
  type: TYPE_NORMAL
  zh: å› æ­¤ï¼Œæˆ‘ä»¬é€šè¿‡è®¾å®šæ‹’ç»é”™è¯¯H0çš„æ¦‚ç‡å°äºé¢„è®¾çš„**ç»Ÿè®¡åŠŸæ•ˆ (1-ğ›½)** æ¥å»ºç«‹æˆ‘ä»¬çš„é«˜é˜¶å…¬å¼ï¼Œå¦‚ä¸‹æ‰€ç¤ºã€‚
- en: Notice that we are now conditioning on H1 being the actual distribution where
    the statistic originates, rather than H0, which assumes no difference between
    the population in the treatment group and the control group.
  id: totrans-117
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: è¯·æ³¨æ„ï¼Œæˆ‘ä»¬ç°åœ¨æ˜¯åœ¨ä»¥H1ä½œä¸ºç»Ÿè®¡é‡æ¥æºçš„å®é™…åˆ†å¸ƒè¿›è¡Œæ¡ä»¶åŒ–ï¼Œè€Œä¸æ˜¯H0ï¼Œåè€…å‡è®¾å¤„ç†ç»„å’Œå¯¹ç…§ç»„ä¹‹é—´æ²¡æœ‰å·®å¼‚ã€‚
- en: '![](../Images/2be251a26867188d4cc0fb7627f3deca.png)'
  id: totrans-118
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/2be251a26867188d4cc0fb7627f3deca.png)'
- en: 'Formula 11: High-level Idea behind the Formal Minimum Sample Size Derivation
    (by Author)'
  id: totrans-119
  prefs: []
  type: TYPE_NORMAL
  zh: å…¬å¼ 11ï¼šæ­£å¼æœ€å°æ ·æœ¬å¤§å°æ¨å¯¼èƒŒåçš„é«˜é˜¶æ€è·¯ï¼ˆä½œè€…ï¼‰
- en: 'There are **4 inputs** to calculate the minimum required sample size:'
  id: totrans-120
  prefs: []
  type: TYPE_NORMAL
  zh: è®¡ç®—æœ€å°æ‰€éœ€æ ·æœ¬å¤§å°éœ€è¦**4ä¸ªè¾“å…¥**ï¼š
- en: The significance level **ğ›¼** we need to specify
  id: totrans-121
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬éœ€è¦æŒ‡å®šæ˜¾è‘—æ€§æ°´å¹³**ğ›¼**
- en: The statistical power **1-ğ›½** we need to specify
  id: totrans-122
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬éœ€è¦æŒ‡å®šçš„ç»Ÿè®¡åŠŸæ•ˆ**1-ğ›½**
- en: The standard deviation **ğœ**, which we can calculate from historical data
  id: totrans-123
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: æ ‡å‡†å·®**ğœ**ï¼Œæˆ‘ä»¬å¯ä»¥ä»å†å²æ•°æ®ä¸­è®¡ç®—å¾—å‡º
- en: The magnitude of the expected treatment effect, or the difference between the
    two groups **ğ‘‘ğ‘šğ‘–ğ‘› (**Î¼2-Î¼1**)** we want to detect.
  id: totrans-124
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: æœŸæœ›çš„å¤„ç†æ•ˆåº”å¤§å°ï¼Œå³æˆ‘ä»¬æƒ³è¦æ£€æµ‹çš„ä¸¤ä¸ªç»„ä¹‹é—´çš„å·®å¼‚**ğ‘‘ğ‘šğ‘–ğ‘› (**Î¼2-Î¼1**)**ã€‚
- en: Recall that the sample means difference statistic follows a normal distribution
    with the mean of **Î¼2-Î¼1** and the standard deviation of the squared root of **2*ğœ/N*.***
  id: totrans-125
  prefs: []
  type: TYPE_NORMAL
  zh: å›é¡¾ä¸€ä¸‹ï¼Œæ ·æœ¬å‡å€¼å·®å¼‚ç»Ÿè®¡é‡éµå¾ªæ­£æ€åˆ†å¸ƒï¼Œå…¶å‡å€¼ä¸º**Î¼2-Î¼1**ï¼Œæ ‡å‡†å·®ä¸º**2*ğœ/N*çš„å¹³æ–¹æ ¹**ã€‚
- en: '![](../Images/b6d981dd4a80bdacdbfcb3d609531f03.png)'
  id: totrans-126
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/b6d981dd4a80bdacdbfcb3d609531f03.png)'
- en: 'Formula 12: Distributional Properties of Key Random Variables and Test Statistics
    (by Author)'
  id: totrans-127
  prefs: []
  type: TYPE_NORMAL
  zh: å…¬å¼ 12ï¼šå…³é”®éšæœºå˜é‡å’Œæ£€éªŒç»Ÿè®¡é‡çš„åˆ†å¸ƒç‰¹æ€§ï¼ˆä½œè€…ï¼‰
- en: The derivations of the high-level formula above comprise two steps. First, we
    represent ***x_crit***, or the critical value to reject the null hypothesis when
    H0 is assumed to be true, using **ğ›¼**.Second, we solve for the minimum sample
    size ğœ¨ using **ğ‘‘ğ‘šğ‘–ğ‘›**, **ğ›¼**, **ğ›½**.
  id: totrans-128
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸Šè¿°é«˜é˜¶å…¬å¼çš„æ¨å¯¼åŒ…æ‹¬ä¸¤ä¸ªæ­¥éª¤ã€‚é¦–å…ˆï¼Œæˆ‘ä»¬ä½¿ç”¨**ğ›¼**è¡¨ç¤º***x_crit***ï¼Œå³å½“å‡è®¾H0ä¸ºçœŸæ—¶æ‹’ç»åŸå‡è®¾çš„ä¸´ç•Œå€¼ã€‚å…¶æ¬¡ï¼Œæˆ‘ä»¬ä½¿ç”¨**ğ‘‘ğ‘šğ‘–ğ‘›**ã€**ğ›¼**å’Œ**ğ›½**æ±‚è§£æœ€å°æ ·æœ¬å¤§å°ğœ¨ã€‚
- en: '![](../Images/964eae2f8a0398eb08e6f897fbbb4d30.png)'
  id: totrans-129
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/964eae2f8a0398eb08e6f897fbbb4d30.png)'
- en: 'Formula 13: Derivation of ğœ¨ given **ğ‘‘ğ‘šğ‘–ğ‘›**, **ğ›¼**, **ğ›½,** and **ğœ** (by Author)'
  id: totrans-130
  prefs: []
  type: TYPE_NORMAL
  zh: å…¬å¼ 13ï¼šç»™å®š**ğ‘‘ğ‘šğ‘–ğ‘›**ã€**ğ›¼**ã€**ğ›½**å’Œ**ğœ**çš„ğœ¨æ¨å¯¼ï¼ˆä½œè€…ï¼‰
- en: 'Example: â€œDemystifyingâ€ Evanâ€™s Awesome A/B Sample Size Calculator'
  id: totrans-131
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: ç¤ºä¾‹ï¼šâ€œæ­ç¤ºâ€åŸƒæ–‡çš„ç¥å¥‡A/Bæ ·æœ¬å¤§å°è®¡ç®—å™¨
- en: This â€œsimpleâ€ but elegant [A/B sample size calculator tool](https://www.evanmiller.org/ab-testing/sample-size.html),
    shown in *Figure 4*, was created and published by [Evan Miller](https://www.evanmiller.org/).
    It is referred to in the great introductory A/B test course series by Udacity
    and Google, and thus has become the first A/B test tool for many data science
    students, including me. While these sample-size calculator tools can be very convenient
    to use, people may have concerns and would not fully trust them because there
    are usually no concrete explanations about the logic behind the output. Therefore,
    I hope to provide a short briefing to help lift the curtain and demonstrate how
    these calculators work.
  id: totrans-132
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™ä¸ªâ€œç®€å•â€ä½†ä¼˜é›…çš„ [A/Bæ ·æœ¬é‡è®¡ç®—å·¥å…·](https://www.evanmiller.org/ab-testing/sample-size.html)ï¼Œå¦‚*å›¾4*æ‰€ç¤ºï¼Œæ˜¯ç”±
    [Evan Miller](https://www.evanmiller.org/) åˆ›å»ºå¹¶å‘å¸ƒçš„ã€‚å®ƒåœ¨Udacityå’ŒGoogleçš„ä¼˜ç§€A/Bæµ‹è¯•å…¥é—¨è¯¾ç¨‹ç³»åˆ—ä¸­è¢«æåŠï¼Œå› æ­¤æˆä¸ºäº†è®¸å¤šæ•°æ®ç§‘å­¦å­¦ç”Ÿï¼ŒåŒ…æ‹¬æˆ‘åœ¨å†…çš„é¦–é€‰A/Bæµ‹è¯•å·¥å…·ã€‚è™½ç„¶è¿™äº›æ ·æœ¬é‡è®¡ç®—å·¥å…·éå¸¸æ–¹ä¾¿ä½¿ç”¨ï¼Œä½†äººä»¬å¯èƒ½ä¼šæ‹…å¿ƒï¼Œå¹¶ä¸ä¼šå®Œå…¨ä¿¡ä»»å®ƒä»¬ï¼Œå› ä¸ºé€šå¸¸æ²¡æœ‰å…·ä½“è§£é‡Šè¾“å‡ºèƒŒåçš„é€»è¾‘ã€‚å› æ­¤ï¼Œæˆ‘å¸Œæœ›æä¾›ä¸€ä¸ªç®€è¦è¯´æ˜ï¼Œä»¥å¸®åŠ©æ­å¼€å¸·å¹•ï¼Œå±•ç¤ºè¿™äº›è®¡ç®—å™¨æ˜¯å¦‚ä½•å·¥ä½œçš„ã€‚
- en: '![](../Images/5963a4a04cb070ebc59fdb7b5b6e6396.png)'
  id: totrans-133
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/5963a4a04cb070ebc59fdb7b5b6e6396.png)'
- en: 'Figure 4: Evan Millerâ€™s Sample Size Calculator'
  id: totrans-134
  prefs: []
  type: TYPE_NORMAL
  zh: å›¾4ï¼šEvan Millerçš„æ ·æœ¬é‡è®¡ç®—å™¨
- en: First and foremost, Evanâ€™s A/B test sample size calculator is curated specifically
    for the **z-proportional test** where the key metric of interest is a proportion
    (I believe the other article I wrote, [*How to Select the Right Statistical Tests
    for Different A/B Metrics*](https://medium.com/towards-data-science/how-to-select-the-right-statistical-tests-for-different-a-b-metrics-c8a1865851e),
    would be helpful if you are interested in different types of statistical testing).
  id: totrans-135
  prefs: []
  type: TYPE_NORMAL
  zh: é¦–å…ˆï¼ŒEvançš„A/Bæµ‹è¯•æ ·æœ¬é‡è®¡ç®—å™¨ä¸“é—¨é’ˆå¯¹**z-æ¯”ä¾‹æ£€éªŒ**ï¼Œå…¶ä¸­å…³é”®æŒ‡æ ‡æ˜¯æ¯”ä¾‹ï¼ˆå¦‚æœä½ å¯¹ä¸åŒç±»å‹çš„ç»Ÿè®¡æµ‹è¯•æ„Ÿå…´è¶£ï¼Œæˆ‘è®¤ä¸ºæˆ‘å†™çš„å¦ä¸€ç¯‡æ–‡ç«  [*å¦‚ä½•é€‰æ‹©é€‚åˆä¸åŒA/BæŒ‡æ ‡çš„ç»Ÿè®¡æµ‹è¯•*](https://medium.com/towards-data-science/how-to-select-the-right-statistical-tests-for-different-a-b-metrics-c8a1865851e)
    ä¼šå¯¹ä½ æœ‰å¸®åŠ©ï¼‰ã€‚
- en: It is worthwhile to note that **when estimating the sample size for proportional
    metrics, we donâ€™t need to input the standard deviation.** This is because the
    proportional metric such as conversion rate can be viewed as an aggregation of
    the conversion statuses for all the users. And since a **user is either converted
    or not converted**, which in statistical language, is a **random Bernoulli event**
    denoted as *Bernoulli(p)*. Therefore, the analytical variance estimate for the
    conversion rate is **ğ‘âˆ—(1-ğ‘)**. What this nice property implies is that we donâ€™t
    â€œneedâ€ to input the standard deviation to calculate the minimum sample size because
    we could always estimate the true analytical standard deviation using the sample
    average conversion rate **ğ‘**, which is the **baseline conversion rate**, as phrased
    in the input box of Evanâ€™s calculator.
  id: totrans-136
  prefs: []
  type: TYPE_NORMAL
  zh: å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œ**åœ¨ä¼°è®¡æ¯”ä¾‹æŒ‡æ ‡çš„æ ·æœ¬é‡æ—¶ï¼Œæˆ‘ä»¬ä¸éœ€è¦è¾“å…¥æ ‡å‡†å·®ã€‚** è¿™æ˜¯å› ä¸ºåƒè½¬åŒ–ç‡è¿™æ ·çš„æ¯”ä¾‹æŒ‡æ ‡å¯ä»¥è¢«è§†ä¸ºæ‰€æœ‰ç”¨æˆ·è½¬åŒ–çŠ¶æ€çš„èšåˆã€‚è€Œä¸”å› ä¸º**ç”¨æˆ·è¦ä¹ˆè½¬åŒ–ï¼Œè¦ä¹ˆæœªè½¬åŒ–**ï¼Œç”¨ç»Ÿè®¡å­¦è¯­è¨€æ¥è¯´ï¼Œè¿™æ˜¯ä¸€ä¸ª**éšæœºä¼¯åŠªåˆ©äº‹ä»¶**ï¼Œè®°ä½œ*Bernoulli(p)*ã€‚å› æ­¤ï¼Œè½¬åŒ–ç‡çš„åˆ†ææ–¹å·®ä¼°è®¡ä¸º**ğ‘âˆ—(1-ğ‘)**ã€‚è¿™ä¸€è‰¯å¥½æ€§è´¨æ„å‘³ç€æˆ‘ä»¬â€œä¸éœ€è¦â€è¾“å…¥æ ‡å‡†å·®æ¥è®¡ç®—æœ€å°æ ·æœ¬é‡ï¼Œå› ä¸ºæˆ‘ä»¬æ€»æ˜¯å¯ä»¥ä½¿ç”¨æ ·æœ¬å¹³å‡è½¬åŒ–ç‡**ğ‘**æ¥ä¼°è®¡çœŸå®çš„åˆ†ææ ‡å‡†å·®ï¼Œè€Œ**ğ‘**å°±æ˜¯**åŸºçº¿è½¬åŒ–ç‡**ï¼Œå¦‚Evançš„è®¡ç®—å™¨è¾“å…¥æ¡†ä¸­æ‰€è¿°ã€‚
- en: 'With this important idea in mind, letâ€™s delve into the tool (*Figure 4*). The
    tool asks for four inputs:'
  id: totrans-137
  prefs: []
  type: TYPE_NORMAL
  zh: ç‰¢è®°è¿™ä¸€é‡è¦æ¦‚å¿µï¼Œè®©æˆ‘ä»¬æ·±å…¥äº†è§£è¿™ä¸ªå·¥å…·ï¼ˆ*å›¾4*ï¼‰ã€‚è¯¥å·¥å…·éœ€è¦å››ä¸ªè¾“å…¥ï¼š
- en: 'Baseline conversion rate **ğ‘**: letâ€™s assume the current conversion level is
    20%.'
  id: totrans-138
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: åŸºçº¿è½¬åŒ–ç‡ **ğ‘**ï¼šå‡è®¾å½“å‰è½¬åŒ–æ°´å¹³ä¸º20%ã€‚
- en: 'Minimum detectable effect (MDE): The definition here can be tricky, but the
    idea is simple. There are â€œ**absolute**â€ MDE and â€œ**relative**â€ MDE. An absolute
    MDE of 5% states the sample size we calculated can only detect the range between
    15% and 25%, while the relative MDE defines the detectable range to be 20%*(1â€“5%)
    and 20%*(1+5%). For instance, if our product manager believes launching this new
    product feature will increase the conversion rate from 20% to 25%, then it means
    we should set **ğ‘‘ğ‘šğ‘–ğ‘›** as 5%, or the absolute MDE to be 5%, or the relative MDE
    to be 25% because 20%*1/4=5%.'
  id: totrans-139
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: æœ€å°å¯æ£€æµ‹æ•ˆåº”ï¼ˆMDEï¼‰ï¼šè¿™é‡Œçš„å®šä¹‰å¯èƒ½æœ‰äº›æ£˜æ‰‹ï¼Œä½†æ¦‚å¿µå¾ˆç®€å•ã€‚æœ‰â€œ**ç»å¯¹**â€MDEå’Œâ€œ**ç›¸å¯¹**â€MDEã€‚5%çš„ç»å¯¹MDEè¡¨ç¤ºæˆ‘ä»¬è®¡ç®—çš„æ ·æœ¬é‡åªèƒ½æ£€æµ‹15%åˆ°25%ä¹‹é—´çš„èŒƒå›´ï¼Œè€Œç›¸å¯¹MDEå®šä¹‰äº†å¯æ£€æµ‹çš„èŒƒå›´ä¸º20%*(1â€“5%)å’Œ20%*(1+5%)ã€‚ä¾‹å¦‚ï¼Œå¦‚æœæˆ‘ä»¬çš„äº§å“ç»ç†è®¤ä¸ºæ¨å‡ºè¿™ä¸ªæ–°äº§å“åŠŸèƒ½ä¼šå°†è½¬åŒ–ç‡ä»20%æé«˜åˆ°25%ï¼Œé‚£ä¹ˆè¿™æ„å‘³ç€æˆ‘ä»¬åº”è¯¥å°†**ğ‘‘ğ‘šğ‘–ğ‘›**è®¾ç½®ä¸º5%ï¼Œæˆ–è€…å°†ç»å¯¹MDEè®¾ç½®ä¸º5%ï¼Œæˆ–è€…å°†ç›¸å¯¹MDEè®¾ç½®ä¸º25%ï¼Œå› ä¸º20%*1/4=5%ã€‚
- en: Statistical power **1-ğ›½**
  id: totrans-140
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: ç»Ÿè®¡åŠŸæ•ˆ **1-ğ›½**
- en: Significance level **ğ›¼**
  id: totrans-141
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: æ˜¾è‘—æ€§æ°´å¹³ **ğ›¼**
- en: 'Arranging them into the formula we have established so far:'
  id: totrans-142
  prefs: []
  type: TYPE_NORMAL
  zh: å°†å…¶æ•´ç†æˆæˆ‘ä»¬ç›®å‰å»ºç«‹çš„å…¬å¼ï¼š
- en: '![](../Images/89d3a43a4d6283f7fb34b31e733895a1.png)'
  id: totrans-143
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/89d3a43a4d6283f7fb34b31e733895a1.png)'
- en: 'Formula 14: Illustration of Calculating ğœ¨ given **ğ‘‘ğ‘šğ‘–ğ‘›**, **ğ›¼**, **ğ›½,** and
    **ğœ** (two-sided)in the A/B Tool Example (by Author). The difference between the
    hand-calculated sample size (1003) is slightly different from the result produced
    by the A/B test tool (1030), which is likely to be the rounding differences in
    precision.'
  id: totrans-144
  prefs: []
  type: TYPE_NORMAL
  zh: å…¬å¼14ï¼šç»™å®š**ğ‘‘ğ‘šğ‘–ğ‘›**ã€**ğ›¼**ã€**ğ›½**å’Œ**ğœ**ï¼ˆåŒä¾§ï¼‰åœ¨A/Bå·¥å…·ç¤ºä¾‹ä¸­çš„è®¡ç®—ğœ¨çš„è¯´æ˜ï¼ˆä½œè€…æä¾›ï¼‰ã€‚æ‰‹åŠ¨è®¡ç®—çš„æ ·æœ¬é‡ï¼ˆ1003ï¼‰ä¸A/Bæµ‹è¯•å·¥å…·ç”Ÿæˆçš„ç»“æœï¼ˆ1030ï¼‰ç•¥æœ‰ä¸åŒï¼Œè¿™å¯èƒ½æ˜¯ç²¾åº¦èˆå…¥å·®å¼‚é€ æˆçš„ã€‚
- en: '![](../Images/e9258cc1c903df2fac9dce58147a61af.png)'
  id: totrans-145
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/e9258cc1c903df2fac9dce58147a61af.png)'
- en: 'Formula 14: Illustration of Calculating ğœ¨ given **ğ‘‘ğ‘šğ‘–ğ‘›**, **ğ›¼**, **ğ›½,** and
    **ğœ** (two-sided)in the A/B Tool Example (by Author)'
  id: totrans-146
  prefs: []
  type: TYPE_NORMAL
  zh: å…¬å¼14ï¼šç»™å®š**ğ‘‘ğ‘šğ‘–ğ‘›**ã€**ğ›¼**ã€**ğ›½**å’Œ**ğœ**ï¼ˆåŒä¾§ï¼‰åœ¨A/Bå·¥å…·ç¤ºä¾‹ä¸­çš„è®¡ç®—ğœ¨çš„è¯´æ˜ï¼ˆä½œè€…æä¾›ï¼‰
- en: 'Talk is cheap:'
  id: totrans-147
  prefs: []
  type: TYPE_NORMAL
  zh: è¯´è¯ä¾¿å®œï¼š
- en: by Author
  id: totrans-148
  prefs: []
  type: TYPE_NORMAL
  zh: ä½œè€…
- en: Practical Issues
  id: totrans-149
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: å®é™…é—®é¢˜
- en: I consider *Formula 13* as the general form of the minimum required sample size.
    The **Practical Issues** section below discusses several important extensions
    to more specific cases. For instance, when variances are not equal when the metrics
    are proportional ratios, and the relationship to a rule-of-thumb formula when
    the two-sided test is used.
  id: totrans-150
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘è®¤ä¸º*å…¬å¼13*æ˜¯æœ€å°æ‰€éœ€æ ·æœ¬é‡çš„ä¸€èˆ¬å½¢å¼ã€‚ä»¥ä¸‹**å®é™…é—®é¢˜**éƒ¨åˆ†è®¨è®ºäº†å¯¹æ›´å…·ä½“æƒ…å†µçš„å‡ ä¸ªé‡è¦æ‰©å±•ã€‚ä¾‹å¦‚ï¼Œå½“æ–¹å·®ä¸ç­‰æ—¶ï¼Œå½“æŒ‡æ ‡æ˜¯æ¯”ä¾‹æ—¶ï¼ŒåŒä¾§æµ‹è¯•ä½¿ç”¨æ—¶ä¸ç»éªŒæ³•åˆ™å…¬å¼çš„å…³ç³»ã€‚
- en: '**How to derive the rule-of-thumb sample size from our general formula?**'
  id: totrans-151
  prefs: []
  type: TYPE_NORMAL
  zh: '**å¦‚ä½•ä»æˆ‘ä»¬çš„é€šç”¨å…¬å¼æ¨å¯¼å‡ºç»éªŒæ³•åˆ™æ ·æœ¬é‡ï¼Ÿ**'
- en: Many resources mentioned a handy formula that ***N*** is equal to **16*ğœ2/ğ‘‘ğ‘šğ‘–ğ‘›**.
    This can be easily transformed if we are doing **two-sided tests** and we specify
    **ğ›¼ = 0.05**, **ğ›½ = 0.2** and we can round the squared sum of the two z-scores
    times 2 up to 16\. See *Equation 17.6 in <Trustworthy Online Controlled Experiment>*
    or *Belle (2008)* for more details.
  id: totrans-152
  prefs: []
  type: TYPE_NORMAL
  zh: è®¸å¤šèµ„æºæåˆ°ä¸€ä¸ªæ–¹ä¾¿çš„å…¬å¼ï¼Œ***N***ç­‰äº**16*ğœ2/ğ‘‘ğ‘šğ‘–ğ‘›**ã€‚å¦‚æœæˆ‘ä»¬è¿›è¡Œ**åŒä¾§æµ‹è¯•**å¹¶æŒ‡å®š**ğ›¼ = 0.05**ã€**ğ›½ = 0.2**ï¼Œæˆ‘ä»¬å¯ä»¥å°†ä¸¤ä¸ªzåˆ†æ•°å¹³æ–¹å’Œä¹˜ä»¥2çš„ç»“æœå››èˆäº”å…¥åˆ°16ã€‚æœ‰å…³æ›´å¤šè¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚è§*ã€Šå¯ä¿¡çš„åœ¨çº¿å¯¹ç…§å®éªŒã€‹ç¬¬17.6æ–¹ç¨‹*æˆ–*Belleï¼ˆ2008ï¼‰*ã€‚
- en: '![](../Images/1d69a05d4d667f33248db958a9b9724c.png)'
  id: totrans-153
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/1d69a05d4d667f33248db958a9b9724c.png)'
- en: 'Formula 15: From the General Form to the Rule-of-Thumb Form (by Author)'
  id: totrans-154
  prefs: []
  type: TYPE_NORMAL
  zh: å…¬å¼15ï¼šä»ä¸€èˆ¬å½¢å¼åˆ°ç»éªŒæ³•åˆ™å½¢å¼ï¼ˆä½œè€…æä¾›ï¼‰
- en: '**How to determine ğ‘‘ğ‘šğ‘–ğ‘›?**'
  id: totrans-155
  prefs: []
  type: TYPE_NORMAL
  zh: '**å¦‚ä½•ç¡®å®šğ‘‘ğ‘šğ‘–ğ‘›ï¼Ÿ**'
- en: 'I personally think that **ğ‘‘ğ‘šğ‘–ğ‘›** orthe Minimum Detectable Effect (MDE) should
    be determined through **close discussions between PM and DS**. It is a hard decision
    that requires careful communication and business intuition:'
  id: totrans-156
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä¸ªäººè®¤ä¸ºï¼Œ**ğ‘‘ğ‘šğ‘–ğ‘›**æˆ–æœ€å°å¯æ£€æµ‹æ•ˆåº”ï¼ˆMDEï¼‰åº”é€šè¿‡**PMå’ŒDSä¹‹é—´çš„å¯†åˆ‡è®¨è®º**æ¥ç¡®å®šã€‚è¿™æ˜¯ä¸€ä¸ªéœ€è¦ä»”ç»†æ²Ÿé€šå’Œå•†ä¸šç›´è§‰çš„è‰°éš¾å†³å®šï¼š
- en: DS can contribute insights relevant to (1) MDEs of similar historical experiments;
    (2) the magnitude of the volatility of key metrics; (3) the amount of available
    traffic/samples for the A/B test.
  id: totrans-157
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: DSå¯ä»¥æä¾›ä¸ä»¥ä¸‹å†…å®¹ç›¸å…³çš„è§è§£ï¼šï¼ˆ1ï¼‰ç±»ä¼¼å†å²å®éªŒçš„MDEï¼›ï¼ˆ2ï¼‰å…³é”®æŒ‡æ ‡çš„æ³¢åŠ¨å¹…åº¦ï¼›ï¼ˆ3ï¼‰A/Bæµ‹è¯•çš„å¯ç”¨æµé‡/æ ·æœ¬é‡ã€‚
- en: PM can contribute insights relevant to (1) the expected magnitude of potential
    treatment effect; (2) the amount of confidence we have; (3) the importance/scope
    of this testing treatment; (4) the urgency/timeline of this testing treatment.
  id: totrans-158
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: PMå¯ä»¥æä¾›ä¸ä»¥ä¸‹å†…å®¹ç›¸å…³çš„è§è§£ï¼šï¼ˆ1ï¼‰æ½œåœ¨å¤„ç†æ•ˆåº”çš„é¢„æœŸå¤§å°ï¼›ï¼ˆ2ï¼‰æˆ‘ä»¬æ‰€æ‹¥æœ‰çš„ä¿¡å¿ƒé‡ï¼›ï¼ˆ3ï¼‰æ­¤æµ‹è¯•å¤„ç†çš„é‡è¦æ€§/èŒƒå›´ï¼›ï¼ˆ4ï¼‰æ­¤æµ‹è¯•å¤„ç†çš„ç´§è¿«æ€§/æ—¶é—´è¡¨ã€‚
- en: Back-and-forth communications might be needed, as a **trade-off** between **higher
    statistical power** and a **longer experiment period** emerges. Suppose the treatment
    effect is subtle (i.e. ğ‘‘ğ‘šğ‘–ğ‘› shall be set to be small) and requires higher statistical
    power to detect. In that case, we must accumulate more samples and thus expect
    a longer timeframe given the daily traffic is usually unchanged.
  id: totrans-159
  prefs: []
  type: TYPE_NORMAL
  zh: å¯èƒ½éœ€è¦åå¤æ²Ÿé€šï¼Œå› ä¸º**æ›´é«˜ç»Ÿè®¡åŠŸæ•ˆ**ä¸**æ›´é•¿å®éªŒå‘¨æœŸ**ä¹‹é—´å­˜åœ¨**æƒè¡¡**ã€‚å‡è®¾å¤„ç†æ•ˆåº”å¾ˆå¾®å¼±ï¼ˆå³ğ‘‘ğ‘šğ‘–ğ‘›åº”è®¾å®šä¸ºè¾ƒå°ï¼‰ï¼Œä¸”éœ€è¦æ›´é«˜çš„ç»Ÿè®¡åŠŸæ•ˆæ¥æ£€æµ‹ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¿…é¡»ç§¯ç´¯æ›´å¤šæ ·æœ¬ï¼Œå› æ­¤åœ¨æ—¥å¸¸æµé‡é€šå¸¸ä¸å˜çš„æƒ…å†µä¸‹ï¼Œé¢„è®¡éœ€è¦æ›´é•¿æ—¶é—´ã€‚
- en: 'Tricky as it is to settle on **ğ‘‘ğ‘šğ‘–ğ‘›**, I would recommend a way of organizing
    scenarios under different **ğ‘‘ğ‘šğ‘–ğ‘›** and corresponding required sample sizes into
    a table as *Table 2 (The original Google Sheet table can be accessed through*
    [*here*](https://docs.google.com/spreadsheets/d/1I8dhHtYu42AoD-BCbM1I2PaGfH2zAbvgQcwd6RDLnuE/edit?usp=sharing)*)*.
    We data scientists first **pick a few possible MDEs** and **calculate the corresponding
    sample sizes** as well as **the number of days required**. The MDEs can be easily
    manipulated at any time and the table provides us with a straightforward comparative
    illustration so that it is easy to communicate with product managers regarding
    the above-mentioned trade-off:'
  id: totrans-160
  prefs: []
  type: TYPE_NORMAL
  zh: å°½ç®¡ç¡®å®š**ğ‘‘ğ‘šğ‘–ğ‘›**æ˜¯æ£˜æ‰‹çš„ï¼Œæˆ‘å»ºè®®å°†ä¸åŒ**ğ‘‘ğ‘šğ‘–ğ‘›**åŠå…¶å¯¹åº”çš„æ ·æœ¬é‡ç»„ç»‡æˆè¡¨æ ¼ï¼Œå¦‚*è¡¨2ï¼ˆåŸå§‹Googleè¡¨æ ¼å¯ä»¥é€šè¿‡* [*è¿™é‡Œ*](https://docs.google.com/spreadsheets/d/1I8dhHtYu42AoD-BCbM1I2PaGfH2zAbvgQcwd6RDLnuE/edit?usp=sharing)
    *)*ã€‚æˆ‘ä»¬æ•°æ®ç§‘å­¦å®¶é¦–å…ˆ**é€‰æ‹©å‡ ä¸ªå¯èƒ½çš„MDEs**å¹¶**è®¡ç®—ç›¸åº”çš„æ ·æœ¬é‡**ä»¥åŠ**æ‰€éœ€å¤©æ•°**ã€‚MDEså¯ä»¥éšæ—¶è½»æ¾è°ƒæ•´ï¼Œè¡¨æ ¼ä¸ºæˆ‘ä»¬æä¾›äº†ä¸€ä¸ªç›´æ¥çš„å¯¹æ¯”ç¤ºä¾‹ï¼Œä½¿æˆ‘ä»¬èƒ½å¤Ÿä¸äº§å“ç»ç†å°±ä¸Šè¿°æƒè¡¡è¿›è¡Œæ²Ÿé€šï¼š
- en: '![](../Images/33a5ef4f4cbbc5000d636ecb8392a549.png)'
  id: totrans-161
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/33a5ef4f4cbbc5000d636ecb8392a549.png)'
- en: 'Table 2: A Sample Table to Calculate Minimum Required Sample Sizes under Different
    MDEs (**ğ‘‘ğ‘šğ‘–ğ‘›**) (by Author)'
  id: totrans-162
  prefs: []
  type: TYPE_NORMAL
  zh: è¡¨2ï¼šè®¡ç®—ä¸åŒMDEsï¼ˆ**ğ‘‘ğ‘šğ‘–ğ‘›**ï¼‰ä¸‹æ‰€éœ€æœ€å°æ ·æœ¬é‡çš„ç¤ºä¾‹è¡¨ï¼ˆä½œè€…æä¾›ï¼‰
- en: '**What if the variances and the sizes of the two groups are unequal?**'
  id: totrans-163
  prefs: []
  type: TYPE_NORMAL
  zh: '**å¦‚æœä¸¤ç»„çš„æ–¹å·®å’Œæ ·æœ¬é‡ä¸ç›¸ç­‰å‘¢ï¼Ÿ**'
- en: It is very common that the two groups have different variances, especially in
    observational studies. While the homogenous-variance assumption fails, only trivial
    efforts are needed, that is to **replace 2*ğœ2 with the sum of treatment group
    variance and control group variance** when adapting the formula.
  id: totrans-164
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨è§‚å¯Ÿæ€§ç ”ç©¶ä¸­ï¼Œä¸¤ç»„ä¹‹é—´æœ‰ä¸åŒæ–¹å·®æ˜¯éå¸¸å¸¸è§çš„ã€‚å½“åŒè´¨æ–¹å·®å‡è®¾ä¸æˆç«‹æ—¶ï¼Œåªéœ€åšä¸€äº›å¾®ä¸è¶³é“çš„è°ƒæ•´ï¼Œå³åœ¨è°ƒæ•´å…¬å¼æ—¶**ç”¨å¤„ç†ç»„æ–¹å·®å’Œå¯¹ç…§ç»„æ–¹å·®çš„æ€»å’Œæ›¿ä»£2*ğœ2**ã€‚
- en: '![](../Images/638710eee635e80bca1211eaa93599b2.png)'
  id: totrans-165
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/638710eee635e80bca1211eaa93599b2.png)'
- en: 'Formula 16: Adapting Sample Size Formula (12) under Unequal Variances (by Author)'
  id: totrans-166
  prefs: []
  type: TYPE_NORMAL
  zh: å…¬å¼16ï¼šåœ¨æ–¹å·®ä¸ç­‰æƒ…å†µä¸‹è°ƒæ•´æ ·æœ¬é‡å…¬å¼ï¼ˆä½œè€…æä¾›ï¼‰
- en: Whatâ€™s more, we could further release the implicit assumption that we have an
    **equal portion** of the traffic between the treatment group and the control group.
  id: totrans-167
  prefs: []
  type: TYPE_NORMAL
  zh: æ›´é‡è¦çš„æ˜¯ï¼Œæˆ‘ä»¬å¯ä»¥è¿›ä¸€æ­¥é‡Šæ”¾éšå«çš„å‡è®¾ï¼Œå³å¤„ç†ç»„å’Œå¯¹ç…§ç»„ä¹‹é—´çš„æµé‡æ˜¯**ç›¸ç­‰çš„**ã€‚
- en: 'As you may have already noticed, the scale of the normally distributed sample
    means difference statistic demonstrated above is the population version of the
    so-called **pooled standard deviation** that we often see in online posts:'
  id: totrans-168
  prefs: []
  type: TYPE_NORMAL
  zh: æ­£å¦‚ä½ å¯èƒ½å·²ç»æ³¨æ„åˆ°çš„ï¼Œä»¥ä¸Šå±•ç¤ºçš„æ­£æ€åˆ†å¸ƒæ ·æœ¬å‡å€¼å·®å¼‚ç»Ÿè®¡é‡çš„å°ºåº¦æ˜¯æˆ‘ä»¬åœ¨ç½‘ä¸Šå¸–å­ä¸­ç»å¸¸çœ‹åˆ°çš„æ‰€è°“**æ±‡æ€»æ ‡å‡†å·®**çš„äººå£ç‰ˆæœ¬ï¼š
- en: '![](../Images/3844fdd89e6e1bc8152da950971f75cb.png)'
  id: totrans-169
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/3844fdd89e6e1bc8152da950971f75cb.png)'
- en: 'Formula 17: Pooled Standard Deviation Formulation (by Author)'
  id: totrans-170
  prefs: []
  type: TYPE_NORMAL
  zh: å…¬å¼17ï¼šæ±‡æ€»æ ‡å‡†å·®å…¬å¼ï¼ˆä½œè€…æä¾›ï¼‰
- en: '**How to estimate the standard deviation ğœ using historical data?**'
  id: totrans-171
  prefs: []
  type: TYPE_NORMAL
  zh: '**å¦‚ä½•ä½¿ç”¨å†å²æ•°æ®ä¼°è®¡æ ‡å‡†å·®ğœï¼Ÿ**'
- en: In A/B test scenarios, in order to gauge the potential traffic as well as the
    time length needed, sample size calculations are usually performed before the
    launch of the experiments. The (only) resource for the computation is historical
    data. The questions are thus, how much historical data do we need, and how shall
    we prepare those data?
  id: totrans-172
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨A/Bæµ‹è¯•åœºæ™¯ä¸­ï¼Œä¸ºäº†è¯„ä¼°æ½œåœ¨çš„æµé‡åŠæ‰€éœ€æ—¶é—´ï¼Œæ ·æœ¬é‡è®¡ç®—é€šå¸¸åœ¨å®éªŒå¼€å§‹å‰è¿›è¡Œã€‚è®¡ç®—çš„ï¼ˆå”¯ä¸€ï¼‰èµ„æºæ˜¯å†å²æ•°æ®ã€‚å› æ­¤ï¼Œé—®é¢˜æ˜¯æˆ‘ä»¬éœ€è¦å¤šå°‘å†å²æ•°æ®ï¼Œå¦‚ä½•å‡†å¤‡è¿™äº›æ•°æ®ï¼Ÿ
- en: '**How much historical data do we need?**'
  id: totrans-173
  prefs: []
  type: TYPE_NORMAL
  zh: '**æˆ‘ä»¬éœ€è¦å¤šå°‘å†å²æ•°æ®ï¼Ÿ**'
- en: It is advised that we use approximately the **same time length** of the past
    data as the expected A/B test period. In addition, the caveats are that we need
    to make sure the **scope of the historical data** is consistent with the treatment
    strategies. Otherwise, external validity is not guaranteed. For instance, if the
    product managers want to test the effectiveness of enlarging the size of the â€œNextâ€
    button and they hope to gather the experiment results about whether the conversion
    rate increases in two weeks, then we want to collect the conversion rate data
    for those eligible users who were (supposed to be) exposed to this button in the
    past two weeks.
  id: totrans-174
  prefs: []
  type: TYPE_NORMAL
  zh: å»ºè®®ä½¿ç”¨è¿‡å»æ•°æ®çš„å¤§è‡´**ç›¸åŒæ—¶é—´é•¿åº¦**ä½œä¸ºé¢„æœŸçš„A/Bæµ‹è¯•å‘¨æœŸã€‚æ­¤å¤–ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæˆ‘ä»¬å¿…é¡»ç¡®ä¿**å†å²æ•°æ®çš„èŒƒå›´**ä¸å¤„ç†ç­–ç•¥ä¸€è‡´ã€‚å¦åˆ™ï¼Œå¤–éƒ¨æœ‰æ•ˆæ€§æ— æ³•ä¿è¯ã€‚ä¾‹å¦‚ï¼Œå¦‚æœäº§å“ç»ç†æƒ³æµ‹è¯•æ‰©å¤§â€œä¸‹ä¸€æ­¥â€æŒ‰é’®çš„æ•ˆæœï¼Œå¹¶å¸Œæœ›åœ¨ä¸¤å‘¨å†…æ”¶é›†æœ‰å…³è½¬åŒ–ç‡æ˜¯å¦å¢åŠ çš„å®éªŒç»“æœï¼Œé‚£ä¹ˆæˆ‘ä»¬éœ€è¦æ”¶é›†è¿‡å»ä¸¤å‘¨å†…æ›¾ï¼ˆåº”å½“ï¼‰æ¥è§¦è¿‡è¯¥æŒ‰é’®çš„åˆæ ¼ç”¨æˆ·çš„è½¬åŒ–ç‡æ•°æ®ã€‚
- en: '**How shall we prepare those data?**'
  id: totrans-175
  prefs: []
  type: TYPE_NORMAL
  zh: '**æˆ‘ä»¬åº”å¦‚ä½•å‡†å¤‡è¿™äº›æ•°æ®ï¼Ÿ**'
- en: Aside from **selecting the right time frame** and **applying appropriate filters**
    to the historical data, we want to make sure the data are aggregated in a correct
    way such that the unit of analysis matches the unit of randomization. In other
    words, if the traffic is randomly diverted at the user level, considering the
    source data for the metrics are usually user-behavior level, we need to group
    by each user and aggregate their actions to calculate the metrics, before computing
    the historical sample mean and the standard deviations, which will be used to
    compute the required sample size.
  id: totrans-176
  prefs: []
  type: TYPE_NORMAL
  zh: é™¤äº†**é€‰æ‹©æ­£ç¡®çš„æ—¶é—´èŒƒå›´**å’Œ**åº”ç”¨é€‚å½“çš„è¿‡æ»¤å™¨**åˆ°å†å²æ•°æ®ä¸­ï¼Œæˆ‘ä»¬è¿˜è¦ç¡®ä¿æ•°æ®ä»¥æ­£ç¡®çš„æ–¹å¼è¿›è¡Œèšåˆï¼Œä»¥ä¾¿åˆ†æå•å…ƒä¸éšæœºåŒ–å•å…ƒç›¸åŒ¹é…ã€‚æ¢å¥è¯è¯´ï¼Œå¦‚æœæµé‡æ˜¯åœ¨ç”¨æˆ·å±‚é¢éšæœºåˆ†é…çš„ï¼Œè€Œç”¨äºåº¦é‡çš„æºæ•°æ®é€šå¸¸æ˜¯ç”¨æˆ·è¡Œä¸ºå±‚é¢çš„ï¼Œæˆ‘ä»¬éœ€è¦æŒ‰æ¯ä¸ªç”¨æˆ·è¿›è¡Œåˆ†ç»„ï¼Œå¹¶èšåˆä»–ä»¬çš„è¡Œä¸ºä»¥è®¡ç®—åº¦é‡ï¼Œç„¶åè®¡ç®—å†å²æ ·æœ¬å‡å€¼å’Œæ ‡å‡†å·®ï¼Œè¿™å°†ç”¨äºè®¡ç®—æ‰€éœ€çš„æ ·æœ¬å¤§å°ã€‚
- en: Summary
  id: totrans-177
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: æ‘˜è¦
- en: 'In this article, we probed into the derivation of the minimal sample size formula
    and discuss the practical issues extensively in using the formula. Youâ€™ve learned:'
  id: totrans-178
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬æ¢è®¨äº†æœ€å°æ ·æœ¬å¤§å°å…¬å¼çš„æ¨å¯¼ï¼Œå¹¶å¹¿æ³›è®¨è®ºäº†ä½¿ç”¨è¯¥å…¬å¼çš„å®é™…é—®é¢˜ã€‚ä½ å·²å­¦åˆ°ï¼š
- en: How to **derive the minimum sample size formula** in A/B tests
  id: totrans-179
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: å¦‚ä½•**æ¨å¯¼A/Bæµ‹è¯•ä¸­çš„æœ€å°æ ·æœ¬å¤§å°å…¬å¼**
- en: How to **understand the many online sample size calculators** as well as **other
    versions** of the minimum sample size formulas.
  id: totrans-180
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: å¦‚ä½•**ç†è§£è®¸å¤šåœ¨çº¿æ ·æœ¬å¤§å°è®¡ç®—å™¨**ä»¥åŠ**å…¶ä»–ç‰ˆæœ¬**çš„æœ€å°æ ·æœ¬å¤§å°å…¬å¼ã€‚
- en: How to **use this formula** to calculate the sample size by preparing the historical
    data into the right format, discussing with product managers3 to determine **ğ‘‘ğ‘šğ‘–ğ‘›**
  id: totrans-181
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: å¦‚ä½•**ä½¿ç”¨è¿™ä¸ªå…¬å¼**æ¥è®¡ç®—æ ·æœ¬å¤§å°ï¼Œé€šè¿‡å°†å†å²æ•°æ®å‡†å¤‡æˆæ­£ç¡®çš„æ ¼å¼ï¼Œä¸äº§å“ç»ç†è®¨è®ºä»¥ç¡®å®š**ğ‘‘ğ‘šğ‘–ğ‘›**
- en: This article is particularly inspired and grounded upon *<Trustworthy Online
    Controlled Experiments>* by Diane Tang, Ron Kohavi, and Ya Xu, Emma Dingâ€™s Youtube
    video â€œ*How to Estimate Sample Size in A/B Tests*â€, and my in-take from my work
    at TikTok.
  id: totrans-182
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™ç¯‡æ–‡ç« ç‰¹åˆ«å—åˆ°*<å¯ä¿¡çš„åœ¨çº¿å—æ§å®éªŒ>*ï¼ˆä½œè€…ï¼šDiane Tang, Ron Kohavi, å’Œ Ya Xuï¼‰ã€Emma Ding çš„ YouTube
    è§†é¢‘â€œ*å¦‚ä½•ä¼°ç®—A/Bæµ‹è¯•ä¸­çš„æ ·æœ¬å¤§å°*â€ä»¥åŠæˆ‘åœ¨ TikTok å·¥ä½œä¸­çš„ç»éªŒçš„å¯å‘å’ŒåŸºç¡€ã€‚
- en: References
  id: totrans-183
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: å‚è€ƒæ–‡çŒ®
- en: '[Ding, E. (2021). How to Estimate Sample Size in A/B Tests. *Youtube*.](https://www.youtube.com/watch?v=JEAsoUrX6KQ)'
  id: totrans-184
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[Ding, E. (2021). å¦‚ä½•ä¼°ç®—A/Bæµ‹è¯•ä¸­çš„æ ·æœ¬å¤§å°ã€‚*YouTube*.](https://www.youtube.com/watch?v=JEAsoUrX6KQ)'
- en: '[Miller, E. (2013). Sample Size Calculator.](https://www.evanmiller.org/ab-testing/sample-size.html)'
  id: totrans-185
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[Miller, E. (2013). æ ·æœ¬å¤§å°è®¡ç®—å™¨ã€‚](https://www.evanmiller.org/ab-testing/sample-size.html)'
- en: '[Glen, S. Sample Size in Statistics (How to Find it): Excel, Cochranâ€™s Formula,
    General Tips. *StatisticsHowTo.com*](https://www.statisticshowto.com/probability-and-statistics/find-sample-size/)*.*'
  id: totrans-186
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[Glen, S. ç»Ÿè®¡ä¸­çš„æ ·æœ¬å¤§å°ï¼ˆå¦‚ä½•æ‰¾åˆ°ï¼‰ï¼šExcelï¼ŒCochranå…¬å¼ï¼Œå¸¸è§æŠ€å·§ã€‚*StatisticsHowTo.com*](https://www.statisticshowto.com/probability-and-statistics/find-sample-size/)*.*'
- en: '[Israel, G. D. (1992). Determining sample size.](https://web.tarleton.edu/academicassessment/wp-content/uploads/sites/119/2022/05/Samplesize.pdf)'
  id: totrans-187
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[Israel, G. D. (1992). ç¡®å®šæ ·æœ¬å¤§å°ã€‚](https://web.tarleton.edu/academicassessment/wp-content/uploads/sites/119/2022/05/Samplesize.pdf)'
- en: 'Kohavi, R., Tang, D., & Xu, Y. (2020). Trustworthy Online Controlled Experiments:
    A Practical Guide to A/B Testing. In *Trustworthy Online Controlled Experiments:
    A Practical Guide to A/B Testing* (p. I). Cambridge: Cambridge University Press.'
  id: totrans-188
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Kohavi, R., Tang, D., & Xu, Y. (2020). å¯ä¿¡çš„åœ¨çº¿å—æ§å®éªŒï¼šA/Bæµ‹è¯•çš„å®ç”¨æŒ‡å—ã€‚åœ¨*å¯ä¿¡çš„åœ¨çº¿å—æ§å®éªŒï¼šA/Bæµ‹è¯•çš„å®ç”¨æŒ‡å—*ï¼ˆç¬¬Ié¡µï¼‰ã€‚å‰‘æ¡¥ï¼šå‰‘æ¡¥å¤§å­¦å‡ºç‰ˆç¤¾ã€‚
- en: 'Singh, A. S., & Masuku, M. B. (2014). Sampling techniques & determination of
    sample size in applied statistics research: An overview. *International Journal
    of economics, commerce and management*, *2*(11), 1â€“22.'
  id: totrans-189
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Singh, A. S., & Masuku, M. B. (2014). é‡‡æ ·æŠ€æœ¯ä¸åº”ç”¨ç»Ÿè®¡ç ”ç©¶ä¸­çš„æ ·æœ¬é‡ç¡®å®šï¼šæ¦‚è¿°ã€‚*å›½é™…ç»æµã€å•†ä¸šä¸ç®¡ç†æœŸåˆŠ*,
    *2*(11), 1â€“22.
- en: Van Belle, G. (2008). Sample size. *Statistical rules of thumb*, 27â€“51.
  id: totrans-190
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Van Belle, G. (2008). æ ·æœ¬é‡ã€‚*ç»Ÿè®¡å­¦ç»éªŒæ³•åˆ™*, 27â€“51.
- en: '[Yadav, M. (2012). Sample size determination|Cochran formula|Yamane formula|
    Sample size calculation| â€” DU Professor. *Youtube.*](https://www.youtube.com/watch?v=-pwQJYjWWMc)'
  id: totrans-191
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[Yadav, M. (2012). æ ·æœ¬é‡ç¡®å®š|ç§‘èµ«ä¼¦å…¬å¼|å±±æ ¹å…¬å¼|æ ·æœ¬é‡è®¡ç®—| â€” æœæ•™æˆã€‚*Youtube.*](https://www.youtube.com/watch?v=-pwQJYjWWMc)'
- en: 'Yamane, T. (1973). Statistics: an introductory analysis-3.'
  id: totrans-192
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Yamane, T. (1973). ç»Ÿè®¡å­¦ï¼šå…¥é—¨åˆ†æ-3.
