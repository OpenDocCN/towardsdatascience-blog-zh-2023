- en: Data Collators in HuggingFace
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 原文：[https://towardsdatascience.com/data-collators-in-huggingface-a0c76db798d2?source=collection_archive---------3-----------------------#2023-11-08](https://towardsdatascience.com/data-collators-in-huggingface-a0c76db798d2?source=collection_archive---------3-----------------------#2023-11-08)
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: What they are and what they do
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: '[](https://medium.com/@mina.ghashami?source=post_page-----a0c76db798d2--------------------------------)[![Mina
    Ghashami](../Images/745f53b94f5667a485299b49913c7a21.png)](https://medium.com/@mina.ghashami?source=post_page-----a0c76db798d2--------------------------------)[](https://towardsdatascience.com/?source=post_page-----a0c76db798d2--------------------------------)[![Towards
    Data Science](../Images/a6ff2676ffcc0c7aad8aaf1d79379785.png)](https://towardsdatascience.com/?source=post_page-----a0c76db798d2--------------------------------)
    [Mina Ghashami](https://medium.com/@mina.ghashami?source=post_page-----a0c76db798d2--------------------------------)'
  prefs: []
  type: TYPE_NORMAL
- en: ·
  prefs: []
  type: TYPE_NORMAL
- en: '[Follow](https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fc99ed9ed7b9a&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdata-collators-in-huggingface-a0c76db798d2&user=Mina+Ghashami&userId=c99ed9ed7b9a&source=post_page-c99ed9ed7b9a----a0c76db798d2---------------------post_header-----------)
    Published in [Towards Data Science](https://towardsdatascience.com/?source=post_page-----a0c76db798d2--------------------------------)
    ·9 min read·Nov 8, 2023[](https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fa0c76db798d2&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdata-collators-in-huggingface-a0c76db798d2&user=Mina+Ghashami&userId=c99ed9ed7b9a&source=-----a0c76db798d2---------------------clap_footer-----------)'
  prefs: []
  type: TYPE_NORMAL
- en: --
  prefs: []
  type: TYPE_NORMAL
- en: '[](https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fa0c76db798d2&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdata-collators-in-huggingface-a0c76db798d2&source=-----a0c76db798d2---------------------bookmark_footer-----------)![](../Images/2ddfbf36b4be5c6b3f2d3216d22460d6.png)'
  prefs: []
  type: TYPE_NORMAL
- en: Image from [unsplash.com](https://unsplash.com/photos/assorted-source-codes-sp1BZ1atp7M)
  prefs: []
  type: TYPE_NORMAL
- en: When I started learning HuggingFace, data collators were one of the least intuitive
    components for me. I had a hard time understanding them, and I did not find good
    enough resources that explain them intuitively.
  prefs: []
  type: TYPE_NORMAL
- en: In this post, we take a look at what data collators are, how they differ, and
    how to write a customized data collator.
  prefs: []
  type: TYPE_NORMAL
- en: 'Data Collators: High Level'
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Data collators are an essential part of data processing in HuggingFace. We all
    have used them after tokenizing the data, and before passing the data to the Trainer
    object to train the model.
  prefs: []
  type: TYPE_NORMAL
- en: In a nutshell, they put together a list of samples into a mini training batch.
    What they do depends on the task they are defined for, but at the very least they
    pad or truncate input samples to make sure all samples in a mini batch are of
    same length. Typical mini-batch sizes range from 16 to 256 samples, depending
    on the model size, data, and hardware constraints.
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: 'Data collators are **task-specific**. There is a data collator for each of
    the following tasks:'
  prefs: []
  type: TYPE_NORMAL
- en: Causal language modeling (CLM)
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Masking language modeling (MLM)
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Sequence classification
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
