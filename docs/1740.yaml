- en: 'Delta Lake: Deletion Vectors'
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 原文：[https://towardsdatascience.com/delta-lake-deletion-vectors-65bc9dc90b63?source=collection_archive---------3-----------------------#2023-05-25](https://towardsdatascience.com/delta-lake-deletion-vectors-65bc9dc90b63?source=collection_archive---------3-----------------------#2023-05-25)
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: How are deletion vectors related to DML commands and how can they improve write
    performance?
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: '[](https://medium.com/@vitorf24?source=post_page-----65bc9dc90b63--------------------------------)[![Vitor
    Teixeira](../Images/db450ae1e572a49357c02e9ba3eb4f9d.png)](https://medium.com/@vitorf24?source=post_page-----65bc9dc90b63--------------------------------)[](https://towardsdatascience.com/?source=post_page-----65bc9dc90b63--------------------------------)[![Towards
    Data Science](../Images/a6ff2676ffcc0c7aad8aaf1d79379785.png)](https://towardsdatascience.com/?source=post_page-----65bc9dc90b63--------------------------------)
    [Vitor Teixeira](https://medium.com/@vitorf24?source=post_page-----65bc9dc90b63--------------------------------)'
  prefs: []
  type: TYPE_NORMAL
- en: ·
  prefs: []
  type: TYPE_NORMAL
- en: '[Follow](https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F6b05068b69d8&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdelta-lake-deletion-vectors-65bc9dc90b63&user=Vitor+Teixeira&userId=6b05068b69d8&source=post_page-6b05068b69d8----65bc9dc90b63---------------------post_header-----------)
    Published in [Towards Data Science](https://towardsdatascience.com/?source=post_page-----65bc9dc90b63--------------------------------)
    ·9 min read·May 25, 2023[](https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F65bc9dc90b63&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdelta-lake-deletion-vectors-65bc9dc90b63&user=Vitor+Teixeira&userId=6b05068b69d8&source=-----65bc9dc90b63---------------------clap_footer-----------)'
  prefs: []
  type: TYPE_NORMAL
- en: --
  prefs: []
  type: TYPE_NORMAL
- en: '[](https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F65bc9dc90b63&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fdelta-lake-deletion-vectors-65bc9dc90b63&source=-----65bc9dc90b63---------------------bookmark_footer-----------)![](../Images/a0f093c1a52476e936a00d6ef3306189.png)'
  prefs: []
  type: TYPE_NORMAL
- en: Photo by [Sam Pak](https://unsplash.com/@melocokr?utm_source=medium&utm_medium=referral)
    on [Unsplash](https://unsplash.com/?utm_source=medium&utm_medium=referral)
  prefs: []
  type: TYPE_NORMAL
- en: Being able to update and delete records is a feature that was lost during the
    transition from traditional data warehouses to data lakes. While data lakes were
    great at solving scale and cost issues, they sacrifice the ability to update and
    delete records. Data lakes were made of many and many files that could quickly
    turn into a data swamp and that’s where things went wrong and the lakehouse architecture
    came to the rescue.
  prefs: []
  type: TYPE_NORMAL
- en: The lakehouse architecture is a hybrid between data warehouses and data lakes
    that combines both to address their issues. One of those issues is the lack of
    ACID transactions with DML support that were much beloved in data warehouses and
    that is where Delta Lake shines. However, due to Delta’s ACID guarantees, in-place
    file changes are out of the question.
  prefs: []
  type: TYPE_NORMAL
- en: In this post, I will address how Delta supports DML commands, how deletion vectors
    work, and why they are important as a performance improvement.
  prefs: []
  type: TYPE_NORMAL
- en: Delta Lake — DML, under the hood
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: With the help of the [transaction log](https://www.databricks.com/blog/2019/08/21/diving-into-delta-lake-unpacking-the-transaction-log.html),
    Delta Lake supports DML commands like *Update*, *Delete*, and *Merge*. For simplicity,
    we’ll focus on *Update* and *Delete* commands since they…
  prefs: []
  type: TYPE_NORMAL
