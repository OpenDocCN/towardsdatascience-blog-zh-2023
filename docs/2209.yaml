- en: 'Plotly and Pandas: Combining Forces for Effective Data Visualization'
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: Plotly å’Œ Pandasï¼šç»“åˆåŠ›é‡å®ç°æœ‰æ•ˆçš„æ•°æ®å¯è§†åŒ–
- en: åŸæ–‡ï¼š[https://towardsdatascience.com/plotly-and-pandas-combining-forces-for-effective-data-visualization-2e2caad52de9?source=collection_archive---------1-----------------------#2023-07-10](https://towardsdatascience.com/plotly-and-pandas-combining-forces-for-effective-data-visualization-2e2caad52de9?source=collection_archive---------1-----------------------#2023-07-10)
  id: totrans-1
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: åŸæ–‡ï¼š[https://towardsdatascience.com/plotly-and-pandas-combining-forces-for-effective-data-visualization-2e2caad52de9?source=collection_archive---------1-----------------------#2023-07-10](https://towardsdatascience.com/plotly-and-pandas-combining-forces-for-effective-data-visualization-2e2caad52de9?source=collection_archive---------1-----------------------#2023-07-10)
- en: A quick guide inspired by Storytelling with Data
  id: totrans-2
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: ä¸€ä»½å—ã€Šæ•°æ®è®²æ•…äº‹ã€‹å¯å‘çš„å¿«é€ŸæŒ‡å—
- en: '[](https://medium.com/@andreas030503?source=post_page-----2e2caad52de9--------------------------------)[![Andreas
    Lukita](../Images/8660ca1fea5da34ce3475281c1f52152.png)](https://medium.com/@andreas030503?source=post_page-----2e2caad52de9--------------------------------)[](https://towardsdatascience.com/?source=post_page-----2e2caad52de9--------------------------------)[![Towards
    Data Science](../Images/a6ff2676ffcc0c7aad8aaf1d79379785.png)](https://towardsdatascience.com/?source=post_page-----2e2caad52de9--------------------------------)
    [Andreas Lukita](https://medium.com/@andreas030503?source=post_page-----2e2caad52de9--------------------------------)'
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: '[](https://medium.com/@andreas030503?source=post_page-----2e2caad52de9--------------------------------)[![Andreas
    Lukita](../Images/8660ca1fea5da34ce3475281c1f52152.png)](https://medium.com/@andreas030503?source=post_page-----2e2caad52de9--------------------------------)[](https://towardsdatascience.com/?source=post_page-----2e2caad52de9--------------------------------)[![Towards
    Data Science](../Images/a6ff2676ffcc0c7aad8aaf1d79379785.png)](https://towardsdatascience.com/?source=post_page-----2e2caad52de9--------------------------------)
    [å®‰å¾·çƒˆäºšæ–¯Â·å¢åŸºå¡”](https://medium.com/@andreas030503?source=post_page-----2e2caad52de9--------------------------------)'
- en: Â·
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: Â·
- en: '[Follow](https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F955ef38ea7b&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fplotly-and-pandas-combining-forces-for-effective-data-visualization-2e2caad52de9&user=Andreas+Lukita&userId=955ef38ea7b&source=post_page-955ef38ea7b----2e2caad52de9---------------------post_header-----------)
    Published in [Towards Data Science](https://towardsdatascience.com/?source=post_page-----2e2caad52de9--------------------------------)
    Â·13 min readÂ·Jul 10, 2023[](https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F2e2caad52de9&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fplotly-and-pandas-combining-forces-for-effective-data-visualization-2e2caad52de9&user=Andreas+Lukita&userId=955ef38ea7b&source=-----2e2caad52de9---------------------clap_footer-----------)'
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: '[å…³æ³¨](https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F955ef38ea7b&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fplotly-and-pandas-combining-forces-for-effective-data-visualization-2e2caad52de9&user=Andreas+Lukita&userId=955ef38ea7b&source=post_page-955ef38ea7b----2e2caad52de9---------------------post_header-----------)
    å‘è¡¨åœ¨ [Towards Data Science](https://towardsdatascience.com/?source=post_page-----2e2caad52de9--------------------------------)
    Â·13 min readÂ·2023å¹´7æœˆ10æ—¥[](https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F2e2caad52de9&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fplotly-and-pandas-combining-forces-for-effective-data-visualization-2e2caad52de9&user=Andreas+Lukita&userId=955ef38ea7b&source=-----2e2caad52de9---------------------clap_footer-----------)'
- en: --
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: --
- en: '[](https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F2e2caad52de9&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fplotly-and-pandas-combining-forces-for-effective-data-visualization-2e2caad52de9&source=-----2e2caad52de9---------------------bookmark_footer-----------)![](../Images/ebf4113c2f0c2035c54b29e283f48bba.png)'
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: '[](https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F2e2caad52de9&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fplotly-and-pandas-combining-forces-for-effective-data-visualization-2e2caad52de9&source=-----2e2caad52de9---------------------bookmark_footer-----------)![](../Images/ebf4113c2f0c2035c54b29e283f48bba.png)'
- en: Photo by [Luke Chesser](https://unsplash.com/@lukechesser?utm_source=medium&utm_medium=referral)
    on [Unsplash](https://unsplash.com/?utm_source=medium&utm_medium=referral)
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: ç…§ç‰‡ç”± [å¢å…‹Â·åˆ‡ç‘Ÿ](https://unsplash.com/@lukechesser?utm_source=medium&utm_medium=referral)
    åœ¨ [Unsplash](https://unsplash.com/?utm_source=medium&utm_medium=referral) ä¸Šæä¾›
- en: â€œMy data visualization skill sucks. My audiences seemed unimpressed with my
    work, and worse, they are not convinced.â€
  id: totrans-9
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: â€œæˆ‘çš„æ•°æ®å¯è§†åŒ–æŠ€èƒ½å¾ˆç³Ÿç³•ã€‚æˆ‘çš„è§‚ä¼—ä¼¼ä¹å¯¹æˆ‘çš„å·¥ä½œä¸æ„Ÿå…´è¶£ï¼Œæ›´ç³Ÿçš„æ˜¯ï¼Œä»–ä»¬æ²¡æœ‰è¢«è¯´æœã€‚â€
- en: There was once upon a time many of us bumped into this issue. Unless you are
    gifted or happened to take up a design course before, it could be quite challenging
    and time-consuming to produce visually aesthetic charts that are intuitive to
    the audiences at the same time.
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: æ›¾ç»æœ‰å¾ˆå¤šäººé‡åˆ°è¿‡è¿™ä¸ªé—®é¢˜ã€‚é™¤éä½ æœ‰å¤©èµ‹æˆ–ä¹‹å‰ä¸Šè¿‡è®¾è®¡è¯¾ç¨‹ï¼Œå¦åˆ™åˆ¶ä½œè§†è§‰ç¾è§‚ä¸”å¯¹è§‚ä¼—ç›´è§‚çš„å›¾è¡¨å¯èƒ½éå¸¸å…·æœ‰æŒ‘æˆ˜æ€§å’Œè€—æ—¶ã€‚
- en: 'Here is what crosses my mind back then: I want to be more intentional in crafting
    my charts such that it conveys information to my audience intuitively. By that,
    I mean not expending their brainpower and consuming their time excessively just
    to make sense of what is happening.'
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: å½“æ—¶æˆ‘æƒ³åˆ°çš„æ˜¯ï¼šæˆ‘å¸Œæœ›åœ¨åˆ¶ä½œå›¾è¡¨æ—¶æ›´åŠ ç”¨å¿ƒï¼Œä»¥ä¾¿å®ƒèƒ½ç›´è§‚åœ°ä¼ è¾¾ä¿¡æ¯ç»™æˆ‘çš„è§‚ä¼—ã€‚æˆ‘çš„æ„æ€æ˜¯ï¼Œä¸è¦è¿‡åº¦æ¶ˆè€—ä»–ä»¬çš„è„‘åŠ›å’Œæ—¶é—´æ¥ç†è§£å‘ç”Ÿäº†ä»€ä¹ˆã€‚
- en: I used to think that switching from Matplotlib to Seaborn and finally to Plotly
    solve the aesthetics concern. Indeed, I was wrong. Visualization is not simply
    about aesthetics. Below are two visualizations I attempted to replicate from [**Storytelling
    with Data**](https://www.storytellingwithdata.com/books)[Â¹](#c0da) by Cole Nussbaumer
    Knaflic that really inspire me to change my approach to visualization. They look
    clean, elegant, and purposeful. We are going to attempt to replicate these charts
    in this article!
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘æ›¾ç»è®¤ä¸ºä» Matplotlib åˆ‡æ¢åˆ° Seabornï¼Œå†åˆ° Plotly å¯ä»¥è§£å†³ç¾å­¦é—®é¢˜ã€‚äº‹å®ä¸Šï¼Œæˆ‘é”™äº†ã€‚å¯è§†åŒ–ä¸ä»…ä»…æ˜¯å…³äºç¾å­¦çš„ã€‚ä»¥ä¸‹æ˜¯æˆ‘å°è¯•å¤åˆ¶çš„ä¸¤ä¸ªå¯è§†åŒ–å›¾è¡¨ï¼Œçµæ„Ÿæ¥è‡ª[**ã€Šæ•°æ®è®²æ•…äº‹ã€‹**](https://www.storytellingwithdata.com/books)[Â¹](#c0da)ç”±
    Cole Nussbaumer Knaflic ç¼–å†™ï¼Œè¿™äº›å›¾è¡¨çœŸæ­£æ¿€åŠ±æˆ‘æ”¹å˜äº†æˆ‘çš„å¯è§†åŒ–æ–¹æ³•ã€‚å®ƒä»¬çœ‹èµ·æ¥å¹²å‡€ã€ä¼˜é›…ä¸”æœ‰ç›®çš„ã€‚æˆ‘ä»¬å°†åœ¨æœ¬æ–‡ä¸­å°è¯•å¤åˆ¶è¿™äº›å›¾è¡¨ï¼
- en: '![](../Images/e0c7078ff69b9e985ca570ea007dd7fc.png)'
  id: totrans-13
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/e0c7078ff69b9e985ca570ea007dd7fc.png)'
- en: Image by Author
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: ä½œè€…æä¾›çš„å›¾åƒ
- en: Here is the takeaway of this post. If you are looking for an in-depth explanation
    of the concepts behind great visualization, check out [**Storytelling with Data**](https://www.storytellingwithdata.com/books)[Â¹](#c0da),
    every page is a gem worth your time. If you are looking for tool-specific and
    practical advice, you are at the right place. Cole mentioned at the start of her
    book that the advice she presented is universal and tool-agnostic, although she
    admitted that she created the examples in the book using Excel. Some people, myself
    included, are not fans of Excel and drag-and-drop tools for many reasons. Some
    prefer creating visualizations using Python, R, and some other programming languages.
    If you are part of this segment and use Python as your primary tool, then this
    article is for you.
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™ç¯‡æ–‡ç« çš„è¦ç‚¹æ˜¯ã€‚å¦‚æœä½ åœ¨å¯»æ‰¾å…³äºä¼˜ç§€å¯è§†åŒ–èƒŒåæ¦‚å¿µçš„æ·±å…¥è§£é‡Šï¼ŒæŸ¥çœ‹[**ã€Šæ•°æ®è®²æ•…äº‹ã€‹**](https://www.storytellingwithdata.com/books)[Â¹](#c0da)ï¼Œæ¯ä¸€é¡µéƒ½æ˜¯å€¼å¾—ä½ èŠ±æ—¶é—´é˜…è¯»çš„å®è´µå†…å®¹ã€‚å¦‚æœä½ åœ¨å¯»æ‰¾å·¥å…·ç‰¹å®šçš„å®ç”¨å»ºè®®ï¼Œä½ æ¥å¯¹åœ°æ–¹äº†ã€‚Cole
    åœ¨å¥¹çš„ä¹¦å¼€å¤´æåˆ°ï¼Œå¥¹æä¾›çš„å»ºè®®æ˜¯æ™®éé€‚ç”¨çš„ï¼Œä¸å·¥å…·æ— å…³ï¼Œå°½ç®¡å¥¹æ‰¿è®¤å¥¹åœ¨ä¹¦ä¸­çš„ç¤ºä¾‹æ˜¯ä½¿ç”¨ Excel åˆ›å»ºçš„ã€‚æœ‰äº›äººï¼ŒåŒ…æ‹¬æˆ‘è‡ªå·±ï¼Œå‡ºäºè®¸å¤šåŸå› å¹¶ä¸å–œæ¬¢ Excel
    å’Œæ‹–æ”¾å·¥å…·ã€‚æœ‰äº›äººæ›´å–œæ¬¢ä½¿ç”¨ Pythonã€R åŠå…¶ä»–ä¸€äº›ç¼–ç¨‹è¯­è¨€æ¥åˆ›å»ºå¯è§†åŒ–ã€‚å¦‚æœä½ å±äºè¿™ä¸€ç±»ï¼Œå¹¶ä¸”å°† Python ä½œä¸ºä¸»è¦å·¥å…·ï¼Œé‚£ä¹ˆè¿™ç¯‡æ–‡ç« å°±æ˜¯ä¸ºä½ å‡†å¤‡çš„ã€‚
- en: '**Table of Contents**'
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: '**ç›®å½•**'
- en: '[Chainingâ€”Pandas Plot](#1692)'
  id: totrans-17
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[é“¾å¼è°ƒç”¨â€”Pandas ç»˜å›¾](#1692)'
- en: '[Horizontal Bar Chart](#3a5b)'
  id: totrans-18
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[æ°´å¹³æ¡å½¢å›¾](#3a5b)'
- en: '[Line Chart](#c7c0)'
  id: totrans-19
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[æŠ˜çº¿å›¾](#c7c0)'
- en: '[Bonus: Number Chart](#f9bd)'
  id: totrans-20
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[é™„å½•ï¼šæ•°å­—å›¾è¡¨](#f9bd)'
- en: Chainingâ€”Pandas Plot
  id: totrans-21
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: é“¾å¼è°ƒç”¨â€”Pandas ç»˜å›¾
- en: If you are somewhat of an expert or a seasoned player in using Pandas for data
    wrangling, you might encounter or even adopt the idea of â€œChainingâ€ yourself.
    In short, chaining allows your code to be a lot more readable, easier to debug,
    and production ready. Here is a simple example of what I am referring to. You
    donâ€™t have to read line by line, just take a quick look to get the idea behind
    â€œChainingâ€. Every step is clear and easy to explain, and the code is well organized
    with no unnecessary intermediary variables.
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: å¦‚æœä½ å¯¹ä½¿ç”¨ Pandas è¿›è¡Œæ•°æ®æ•´ç†é¢‡æœ‰ç»éªŒï¼Œä½ å¯èƒ½ä¼šé‡åˆ°æˆ–ç”šè‡³è‡ªå·±é‡‡ç”¨â€œé“¾å¼è°ƒç”¨â€çš„æ¦‚å¿µã€‚ç®€è€Œè¨€ä¹‹ï¼Œé“¾å¼è°ƒç”¨å¯ä»¥è®©ä½ çš„ä»£ç æ›´å…·å¯è¯»æ€§ã€æ›´æ˜“äºè°ƒè¯•ï¼Œå¹¶ä¸”æ›´é€‚åˆç”Ÿäº§ã€‚ä»¥ä¸‹æ˜¯æˆ‘æ‰€æŒ‡çš„ä¸€ä¸ªç®€å•ç¤ºä¾‹ã€‚ä½ ä¸å¿…é€è¡Œé˜…è¯»ï¼Œåªéœ€å¿«é€Ÿæµè§ˆå³å¯ç†è§£â€œé“¾å¼è°ƒç”¨â€çš„æ¦‚å¿µã€‚æ¯ä¸€æ­¥éƒ½æ¸…æ™°æ˜“æ‡‚ï¼Œä»£ç ç»„ç»‡è‰¯å¥½ï¼Œæ²¡æœ‰ä¸å¿…è¦çš„ä¸­é—´å˜é‡ã€‚
- en: '[PRE0]'
  id: totrans-23
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: This is great, but did you know that you can continue the chaining process to
    create basic visualization charts as well? Pandas Plot, by default, uses Matplotlib
    backend for this purpose. Letâ€™s see how it works and reproduce some of the examples
    Cole created in her book.
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™å¾ˆå¥½ï¼Œä½†ä½ æ˜¯å¦çŸ¥é“ä½ å¯ä»¥ç»§ç»­é“¾å¼è°ƒç”¨ä»¥åˆ›å»ºåŸºæœ¬çš„å¯è§†åŒ–å›¾è¡¨ï¼ŸPandas Plot é»˜è®¤ä½¿ç”¨ Matplotlib åç«¯æ¥å®ç°è¿™ä¸€ç‚¹ã€‚è®©æˆ‘ä»¬çœ‹çœ‹å®ƒæ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Œå¹¶å¤åˆ¶
    Cole åœ¨å¥¹çš„ä¹¦ä¸­åˆ›å»ºçš„ä¸€äº›ç¤ºä¾‹ã€‚
- en: '[PRE1]'
  id: totrans-25
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: We have a DataFrame that looks like this.
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬æœ‰ä¸€ä¸ªçœ‹èµ·æ¥åƒè¿™æ ·çš„ DataFrameã€‚
- en: '![](../Images/84a2c24ea3bb89a4b19802d54d897513.png)'
  id: totrans-27
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/84a2c24ea3bb89a4b19802d54d897513.png)'
- en: Image by Author
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: ä½œè€…æä¾›çš„å›¾åƒ
- en: '[PRE2]'
  id: totrans-29
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: This is the fastest way to generate a basic visualization chart. By chaining
    the `**.plot**` attribute and `**.line**` method directly from a DataFrame, we
    obtain the plot below.
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™æ˜¯ç”ŸæˆåŸºæœ¬å¯è§†åŒ–å›¾è¡¨çš„æœ€å¿«æ–¹æ³•ã€‚é€šè¿‡å°†`**.plot**`å±æ€§å’Œ`**.line**`æ–¹æ³•ç›´æ¥é“¾å¼è°ƒç”¨åˆ° DataFrameï¼Œæˆ‘ä»¬è·å¾—äº†ä¸‹é¢çš„å›¾è¡¨ã€‚
- en: '![](../Images/81d8240aa16cfed92f5331d1a743cfb9.png)'
  id: totrans-31
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/81d8240aa16cfed92f5331d1a743cfb9.png)'
- en: Image by Author
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: å›¾ç‰‡ç”±ä½œè€…æä¾›
- en: Hold your reaction and judgment if you think the plot above does not pass the
    aesthetic check. Indeed, it looks ugly, to say the least. Letâ€™s spice this up
    and do better. Hereâ€™s the trick, switch your Pandas plotting backend from Matplotlib
    to Plotly for the magic that is about to unravel.
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: å¦‚æœä½ è®¤ä¸ºä¸Šé¢çš„å›¾è¡¨æ²¡æœ‰é€šè¿‡ç¾å­¦æ£€æŸ¥ï¼Œè¯·æš‚æ—¶æŒ‰æºä½ä½ çš„ååº”å’Œåˆ¤æ–­ã€‚ç¡®å®ï¼Œå®ƒçœ‹èµ·æ¥è‡³å°‘æœ‰äº›éš¾çœ‹ã€‚è®©æˆ‘ä»¬æ”¹è¿›ä¸€ä¸‹ï¼Œè®©å®ƒæ›´å¥½ã€‚è¯€çªæ˜¯ï¼Œå°† Pandas ç»˜å›¾åç«¯ä»
    Matplotlib åˆ‡æ¢åˆ° Plotlyï¼Œè¿™æ ·å³å°†æ­ç¤ºçš„é­”æ³•å°±ä¼šæ˜¾ç°ã€‚
- en: '[PRE3]'
  id: totrans-34
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: You might be questioning, â€œWhy do I change it to Plotly? Isnâ€™t Matplotlib capable
    of doing the same thing?â€ Well, hereâ€™s the difference.
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: ä½ å¯èƒ½ä¼šé—®ï¼Œâ€œä¸ºä»€ä¹ˆè¦æ¢æˆ Plotlyï¼Ÿéš¾é“ Matplotlib ä¸ä¹Ÿèƒ½åšåˆ°åŒæ ·çš„äº‹æƒ…å—ï¼Ÿâ€å¥½å§ï¼Œè¿™å°±æ˜¯åŒºåˆ«æ‰€åœ¨ã€‚
- en: If we use the Matplotlib backend in Pandas, it returns an Axes object, try verifying
    yourself using the built-in `**type()**` method. This is great because the axes
    object allows us to access methods to further modify our chart. Check out [**this
    documentation**](https://matplotlib.org/stable/api/axes_api.html)[Â²](#6c79) for
    the possible methods to perform on Axes object. Letâ€™s pick one to illustrate quickly.
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: å¦‚æœæˆ‘ä»¬åœ¨ Pandas ä¸­ä½¿ç”¨ Matplotlib åç«¯ï¼Œå®ƒè¿”å›ä¸€ä¸ª Axes å¯¹è±¡ï¼Œå°è¯•ä½¿ç”¨å†…ç½®çš„`**type()**`æ–¹æ³•è‡ªè¡ŒéªŒè¯ã€‚è¿™å¾ˆå¥½ï¼Œå› ä¸º
    axes å¯¹è±¡å…è®¸æˆ‘ä»¬è®¿é—®æ–¹æ³•ä»¥è¿›ä¸€æ­¥ä¿®æ”¹å›¾è¡¨ã€‚æŸ¥çœ‹[**è¿™ä»½æ–‡æ¡£**](https://matplotlib.org/stable/api/axes_api.html)[Â²](#6c79)ä»¥äº†è§£å¯¹
    Axes å¯¹è±¡æ‰§è¡Œçš„å¯èƒ½æ–¹æ³•ã€‚æˆ‘ä»¬æ¥é€‰æ‹©ä¸€ä¸ªå¿«é€Ÿæ¼”ç¤ºä¸€ä¸‹ã€‚
- en: '[PRE4]'
  id: totrans-37
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: '![](../Images/b2a6718bfd604c840e5a68ec55bb6f37.png)'
  id: totrans-38
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/b2a6718bfd604c840e5a68ec55bb6f37.png)'
- en: Image by Author
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: å›¾ç‰‡ç”±ä½œè€…æä¾›
- en: We successfully set the x-axis label to â€œconcerns per 1,000â€, but in doing so,
    we return a **Text object** and lost our precious Axis object that allows us access
    to precious methods to further modify our chart. Too bad!
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬æˆåŠŸåœ°å°† x è½´æ ‡ç­¾è®¾ç½®ä¸ºâ€œæ¯åƒä¸ªå…³æ³¨ç‚¹â€ï¼Œä½†è¿™æ ·åšçš„ç»“æœæ˜¯ï¼Œæˆ‘ä»¬è¿”å›äº†ä¸€ä¸ª**Text å¯¹è±¡**ï¼Œå¤±å»äº†çè´µçš„ Axis å¯¹è±¡ï¼Œè€Œè¿™ä¸ªå¯¹è±¡è®©æˆ‘ä»¬å¯ä»¥è®¿é—®è¿›ä¸€æ­¥ä¿®æ”¹å›¾è¡¨çš„å®è´µæ–¹æ³•ã€‚çœŸå¯æƒœï¼
- en: Here is an alternative to get around the limitation above,
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™é‡Œæ˜¯ç»•è¿‡ä¸Šè¿°é™åˆ¶çš„å¦ä¸€ç§æ–¹æ³•ï¼Œ
- en: '[PRE5]'
  id: totrans-42
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: '![](../Images/5475ec8625e7a2707f686231452167a6.png)'
  id: totrans-43
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/5475ec8625e7a2707f686231452167a6.png)'
- en: Image by Author
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: å›¾ç‰‡ç”±ä½œè€…æä¾›
- en: However, we are still unable to do extensive modification as the integration
    is quite limited by the Pandas' implementation [here](https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.plot.line.html).
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: ç„¶è€Œï¼Œç”±äº Pandas å®ç°çš„é™åˆ¶ï¼Œæˆ‘ä»¬ä»ç„¶æ— æ³•è¿›è¡Œå¹¿æ³›çš„ä¿®æ”¹ï¼Œå…·ä½“è¯·å‚è€ƒ[è¿™é‡Œ](https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.plot.line.html)ã€‚
- en: Plotly, on the other hand, does not return an Axes object. It returns a `**go.Figure**`
    object. The difference here is that the methods responsible for updating the charts
    also return you a `**go.Figure**` object, which allows you to continue chaining
    your method to further update your chart. Letâ€™s try that out!
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: å¦ä¸€æ–¹é¢ï¼ŒPlotly ä¸è¿”å›ä¸€ä¸ª Axes å¯¹è±¡ã€‚å®ƒè¿”å›ä¸€ä¸ª`**go.Figure**`å¯¹è±¡ã€‚è¿™é‡Œçš„åŒºåˆ«åœ¨äºï¼Œè´Ÿè´£æ›´æ–°å›¾è¡¨çš„æ–¹æ³•ä¹Ÿä¼šè¿”å›ä¸€ä¸ª`**go.Figure**`å¯¹è±¡ï¼Œè¿™æ ·ä½ å¯ä»¥ç»§ç»­é“¾å¼è°ƒç”¨æ–¹æ³•ï¼Œä»¥è¿›ä¸€æ­¥æ›´æ–°å›¾è¡¨ã€‚æˆ‘ä»¬æ¥è¯•è¯•å§ï¼
- en: By the way, in case you are wondering how I get the combinations of methods
    and arguments below, they are all available on the official documentation [**here**](https://plotly.com/python/reference/)[Â³](#d230).
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: é¡ºä¾¿è¯´ä¸€ä¸‹ï¼Œå¦‚æœä½ æƒ³çŸ¥é“æˆ‘å¦‚ä½•è·å¾—ä¸‹é¢çš„æ–¹æ³•å’Œå‚æ•°ç»„åˆï¼Œå®ƒä»¬éƒ½å¯ä»¥åœ¨å®˜æ–¹æ–‡æ¡£ä¸­æ‰¾åˆ°ï¼Œ[**åœ¨è¿™é‡Œ**](https://plotly.com/python/reference/)[Â³](#d230)ã€‚
- en: Here are some important methods to get you started â€” `**.update_traces**`, `**.add_traces**`,
    `**.update_layout**`, `**.update_xaxes**`, `**.update_yaxes**`, `**.add_annotation**`,
    `**.update_annotations**`.
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™é‡Œæ˜¯ä¸€äº›é‡è¦çš„æ–¹æ³•ï¼Œå¸®åŠ©ä½ å…¥é—¨â€”â€”`**.update_traces**`ï¼Œ`**.add_traces**`ï¼Œ`**.update_layout**`ï¼Œ`**.update_xaxes**`ï¼Œ`**.update_yaxes**`ï¼Œ`**.add_annotation**`ï¼Œ`**.update_annotations**`ã€‚
- en: Horizontal Bar Chart
  id: totrans-49
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: æ¨ªå‘æ¡å½¢å›¾
- en: Letâ€™s define a set of color palettes for our visualization below.
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: è®©æˆ‘ä»¬ä¸ºä¸‹é¢çš„å¯è§†åŒ–å®šä¹‰ä¸€ç»„é¢œè‰²è°ƒè‰²æ¿ã€‚
- en: '[PRE6]'
  id: totrans-51
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: '![](../Images/db264fa9ec19163a32fc86bbe4ce0dab.png)'
  id: totrans-52
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/db264fa9ec19163a32fc86bbe4ce0dab.png)'
- en: Image by Author
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: å›¾ç‰‡ç”±ä½œè€…æä¾›
- en: Here, we want to highlight the concerns that are equal to and above 10 percent
    by defining a separate color.
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬å¸Œæœ›é€šè¿‡å®šä¹‰ä¸åŒçš„é¢œè‰²æ¥çªå‡ºæ˜¾ç¤ºç­‰äºæˆ–é«˜äº 10% çš„å…³æ³¨ç‚¹ã€‚
- en: '[PRE7]'
  id: totrans-55
  prefs: []
  type: TYPE_PRE
  zh: '[PRE7]'
- en: We then **create the plot** right from the DataFrame.
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: ç„¶åæˆ‘ä»¬**ä» DataFrame åˆ›å»ºå›¾è¡¨**ã€‚
- en: '[PRE8]'
  id: totrans-57
  prefs: []
  type: TYPE_PRE
  zh: '[PRE8]'
- en: '![](../Images/3fe7427a696bcc9dd0e45f64757d7497.png)'
  id: totrans-58
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/3fe7427a696bcc9dd0e45f64757d7497.png)'
- en: Image by Author
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: å›¾ç‰‡ç”±ä½œè€…æä¾›
- en: '**Updating the layout** yields the following. Here, we specify the template,
    add a title and margin to our plot, and specify the size of our figure object.
    Letâ€™s comment on the annotations for the moment.'
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE9]'
  id: totrans-61
  prefs: []
  type: TYPE_PRE
  zh: '[PRE9]'
- en: '![](../Images/9f9e680c298b446f2bd4438dba507fd6.png)'
  id: totrans-62
  prefs: []
  type: TYPE_IMG
- en: Image by Author
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
- en: '**Updating the x and y-axis** properties yields the following.'
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE10]'
  id: totrans-65
  prefs: []
  type: TYPE_PRE
  zh: '[PRE10]'
- en: '![](../Images/1992c43a88c549ad73cf1f20a019f1cf.png)'
  id: totrans-66
  prefs: []
  type: TYPE_IMG
- en: Image by Author
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
- en: Last but not least, we will **add some annotations** to our chart. Here, we
    have a few annotations â€” adding data labels to the horizontal bar chart and footnote.
    Letâ€™s do this together. First, we define the annotations on a separate cell.
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE11]'
  id: totrans-69
  prefs: []
  type: TYPE_PRE
  zh: '[PRE11]'
- en: '[PRE12]'
  id: totrans-70
  prefs: []
  type: TYPE_PRE
  zh: '[PRE12]'
- en: '![](../Images/a14eac1ad8462b42654b67619b3bcab2.png)'
  id: totrans-71
  prefs: []
  type: TYPE_IMG
- en: Image by Author
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
- en: Isnâ€™t this a much better chart relative to the initial default version? Letâ€™s
    continue to explore another popular chart â€” The Line Chart.
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
- en: Just a heads up that the example below is more complicated than the one above.
    Nevertheless, the idea remains the same.
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
- en: Line Chart
  id: totrans-75
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Letâ€™s take a quick look at the default Matplotlib plotting backend for Line
    Chart.
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE13]'
  id: totrans-77
  prefs: []
  type: TYPE_PRE
  zh: '[PRE13]'
- en: '![](../Images/0a0535be21136b6eb98f29a3ac248407.png)'
  id: totrans-78
  prefs: []
  type: TYPE_IMG
- en: Image by Author
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
- en: Letâ€™s switch our plotting backend to Plotly!
  id: totrans-80
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE14]'
  id: totrans-81
  prefs: []
  type: TYPE_PRE
  zh: '[PRE14]'
- en: After switching the Pandas plotting backend to Plotly, the code above gives
    us the following. Here, we start by plotting only the **Received** Series.
  id: totrans-82
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/a2b3d92eac1425f37494883be862ff3f.png)'
  id: totrans-83
  prefs: []
  type: TYPE_IMG
- en: Image by Author
  id: totrans-84
  prefs: []
  type: TYPE_NORMAL
- en: Letâ€™s **update the line property** by further chaining the method above. Here,
    we modify the color, width and placing markers at the data points.
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE15]'
  id: totrans-86
  prefs: []
  type: TYPE_PRE
  zh: '[PRE15]'
- en: '![](../Images/48c6617d8704caf6700058f913a29429.png)'
  id: totrans-87
  prefs: []
  type: TYPE_IMG
- en: Image by Author
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
- en: Letâ€™s add the **Processed** Series to the chart!
  id: totrans-89
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE16]'
  id: totrans-90
  prefs: []
  type: TYPE_PRE
  zh: '[PRE16]'
- en: '![](../Images/220c575f88cc0b5d4184fa3c871352cd.png)'
  id: totrans-91
  prefs: []
  type: TYPE_IMG
- en: Image by Author
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
- en: Letâ€™s **add a vertical line** at index May in order to show the point at which
    the two lines start to diverge.
  id: totrans-93
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE17]'
  id: totrans-94
  prefs: []
  type: TYPE_PRE
  zh: '[PRE17]'
- en: '![](../Images/e0323738cfa1025cc3dc542a4d29a2ff.png)'
  id: totrans-95
  prefs: []
  type: TYPE_IMG
- en: Image by Author
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
- en: Next, letâ€™s **update the overall layout** by changing the background to white,
    and adding the title, margin, and some other elements. For annotations, we will
    comment out at the moment.
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE18]'
  id: totrans-98
  prefs: []
  type: TYPE_PRE
  zh: '[PRE18]'
- en: '![](../Images/14a916f53e579673243c1abd15721a3c.png)'
  id: totrans-99
  prefs: []
  type: TYPE_IMG
- en: Image by Author
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
- en: Next, we will perform an **update to both the x and y-axes**.
  id: totrans-101
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE19]'
  id: totrans-102
  prefs: []
  type: TYPE_PRE
  zh: '[PRE19]'
- en: '![](../Images/7888dc10f6998595f2f293c84187902c.png)'
  id: totrans-103
  prefs: []
  type: TYPE_IMG
- en: Image by Author
  id: totrans-104
  prefs: []
  type: TYPE_NORMAL
- en: Last but not least, we will **add some annotations** to our chart. Here, we
    have a few annotationsâ€”adding labels to the line chart (Received, Processed),
    as well as adding labels to scatter points, which could be a little complicated.
    Letâ€™s do this together. First, we define the annotations on a separate cell.
  id: totrans-105
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE20]'
  id: totrans-106
  prefs: []
  type: TYPE_PRE
  zh: '[PRE20]'
- en: After we define the annotations, we just need to **put the annotation variable
    inside the chaining method** like the following.
  id: totrans-107
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE21]'
  id: totrans-108
  prefs: []
  type: TYPE_PRE
  zh: '[PRE21]'
- en: '![](../Images/78e372fbe94aef457708aac29d14b017.png)'
  id: totrans-109
  prefs: []
  type: TYPE_IMG
- en: Image by Author
  id: totrans-110
  prefs: []
  type: TYPE_NORMAL
- en: 'Bonus: Number Chart'
  id: totrans-111
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Congratulations on getting to this part of the article! Here is an additional
    plot for you to take away! Here we are creating a chart to aesthetically present
    a number by itself. In short, this is what I am referring to.
  id: totrans-112
  prefs: []
  type: TYPE_NORMAL
  zh: æ­å–œä½ é˜…è¯»åˆ°æ–‡ç« çš„è¿™ä¸€éƒ¨åˆ†ï¼è¿™æ˜¯ä¸€ä¸ªé¢å¤–çš„å›¾è¡¨ï¼Œä¾›ä½ å‚è€ƒï¼æˆ‘ä»¬åœ¨è¿™é‡Œåˆ›å»ºäº†ä¸€ä¸ªå›¾è¡¨ï¼Œä»¥ç¾è§‚çš„æ–¹å¼å‘ˆç°ä¸€ä¸ªæ•°å­—ã€‚ç®€è€Œè¨€ä¹‹ï¼Œè¿™å°±æ˜¯æˆ‘æ‰€æŒ‡çš„ã€‚
- en: '![](../Images/2e565f6866894e1b6380310ee9f3bafd.png)'
  id: totrans-113
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/2e565f6866894e1b6380310ee9f3bafd.png)'
- en: Image by Author
  id: totrans-114
  prefs: []
  type: TYPE_NORMAL
  zh: å›¾ç‰‡æ¥æºï¼šä½œè€…
- en: Since this is not a result of a DataFrame, we can start off by creating an empty
    `**go.Figure**` object from scratch, then gradually add on the annotations. We
    then end off by updating the layout accordingly.
  id: totrans-115
  prefs: []
  type: TYPE_NORMAL
  zh: ç”±äºè¿™ä¸æ˜¯ DataFrame çš„ç»“æœï¼Œæˆ‘ä»¬å¯ä»¥ä»å¤´å¼€å§‹åˆ›å»ºä¸€ä¸ªç©ºçš„ `**go.Figure**` å¯¹è±¡ï¼Œç„¶åé€æ­¥æ·»åŠ æ³¨é‡Šã€‚æœ€åï¼Œé€šè¿‡ç›¸åº”åœ°æ›´æ–°å¸ƒå±€æ¥ç»“æŸã€‚
- en: '[PRE22]'
  id: totrans-116
  prefs: []
  type: TYPE_PRE
  zh: '[PRE22]'
- en: Afterword
  id: totrans-117
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: åè®°
- en: There you have it! The key is to update and refine your plot step by step until
    you achieve a desirable result. Of course, every technique comes with its own
    limitations. If your chart is getting way too complicated to produce, it might
    be beneficial to refer to Plotly Express or even build everything from scratch
    using Plotly Graph Objects. It may seem difficult and unfamiliar to adopt this
    technique at first, but keep practicing and soon you will create beautiful visualization
    that makes sense!
  id: totrans-118
  prefs: []
  type: TYPE_NORMAL
  zh: å°±è¿™äº›äº†ï¼å…³é”®æ˜¯é€æ­¥æ›´æ–°å’Œå®Œå–„ä½ çš„å›¾è¡¨ï¼Œç›´åˆ°è·å¾—ç†æƒ³çš„ç»“æœã€‚å½“ç„¶ï¼Œæ¯ç§æŠ€æœ¯éƒ½æœ‰å…¶å±€é™æ€§ã€‚å¦‚æœä½ çš„å›¾è¡¨å˜å¾—è¿‡äºå¤æ‚ï¼Œå¯èƒ½æœ‰å¿…è¦å‚è€ƒ Plotly Expressï¼Œç”šè‡³ä½¿ç”¨
    Plotly Graph Objects ä»å¤´å¼€å§‹æ„å»ºã€‚åˆšå¼€å§‹é‡‡ç”¨è¿™ç§æŠ€æœ¯å¯èƒ½ä¼šæ˜¾å¾—å›°éš¾å’Œé™Œç”Ÿï¼Œä½†åšæŒç»ƒä¹ ï¼Œä½ å¾ˆå¿«å°±èƒ½åˆ›å»ºå‡ºæœ‰æ„ä¹‰ä¸”ç¾è§‚çš„å¯è§†åŒ–ï¼
- en: If you pick up something useful from this article, do consider giving me a [***Follow***](https://medium.com/@andreas030503)
    on Medium. Easy, 1 article a week to keep yourself updated and stay ahead of the
    curve!
  id: totrans-119
  prefs: []
  type: TYPE_NORMAL
  zh: å¦‚æœä½ ä»è¿™ç¯‡æ–‡ç« ä¸­è·å¾—äº†ä¸€äº›æœ‰ç”¨çš„å†…å®¹ï¼Œè¯·è€ƒè™‘åœ¨ Medium ä¸Šç»™æˆ‘ä¸€ä¸ª [***å…³æ³¨***](https://medium.com/@andreas030503)ã€‚å¾ˆç®€å•ï¼Œæ¯å‘¨ä¸€ç¯‡æ–‡ç« ï¼Œè®©è‡ªå·±ä¿æŒæ›´æ–°ï¼Œèµ°åœ¨å‰æ²¿ï¼
- en: Connect With Me!
  id: totrans-120
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: ä¸æˆ‘è”ç³»ï¼
- en: '[*LinkedIn*](https://www.linkedin.com/in/andreaslukita7/)ğŸ‘”'
  id: totrans-121
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[*LinkedIn*](https://www.linkedin.com/in/andreaslukita7/)ğŸ‘”'
- en: '[*Twitter*](https://twitter.com/andreaslukita7)ğŸ–Š'
  id: totrans-122
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[*Twitter*](https://twitter.com/andreaslukita7)ğŸ–Š'
- en: References
  id: totrans-123
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: å‚è€ƒæ–‡çŒ®
- en: Storytelling with Data by Cole Nussbaumer Knaflic. [https://www.storytellingwithdata.com/books](https://www.storytellingwithdata.com/books)
  id: totrans-124
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: ã€Šç”¨æ•°æ®è®²æ•…äº‹ã€‹ç”± Cole Nussbaumer Knaflic ç¼–è‘—ã€‚ [https://www.storytellingwithdata.com/books](https://www.storytellingwithdata.com/books)
- en: Matplotlib Axes API. [https://matplotlib.org/stable/api/axes_api.html](https://matplotlib.org/stable/api/axes_api.html)
  id: totrans-125
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: Matplotlib Axes API. [https://matplotlib.org/stable/api/axes_api.html](https://matplotlib.org/stable/api/axes_api.html)
- en: Plotly Graphing Libraries. [https://plotly.com/python/reference/](https://plotly.com/python/reference/)
  id: totrans-126
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: Plotly å›¾å½¢åº“ã€‚ [https://plotly.com/python/reference/](https://plotly.com/python/reference/)
