- en: Add One Line of SQL to Optimise Your BigQuery Tables
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 原文：[https://towardsdatascience.com/add-one-line-of-sql-to-optimise-your-bigquery-tables-304761b048f0?source=collection_archive---------2-----------------------#2023-12-08](https://towardsdatascience.com/add-one-line-of-sql-to-optimise-your-bigquery-tables-304761b048f0?source=collection_archive---------2-----------------------#2023-12-08)
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: 'Clustering: A simple way to group similar rows and prevent unnecessary data
    processing'
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: '[](https://medium.com/@mattchapmanmsc?source=post_page-----304761b048f0--------------------------------)[![Matt
    Chapman](../Images/7511deb8d9ed408ece21031f6614c532.png)](https://medium.com/@mattchapmanmsc?source=post_page-----304761b048f0--------------------------------)[](https://towardsdatascience.com/?source=post_page-----304761b048f0--------------------------------)[![Towards
    Data Science](../Images/a6ff2676ffcc0c7aad8aaf1d79379785.png)](https://towardsdatascience.com/?source=post_page-----304761b048f0--------------------------------)
    [Matt Chapman](https://medium.com/@mattchapmanmsc?source=post_page-----304761b048f0--------------------------------)'
  prefs: []
  type: TYPE_NORMAL
- en: ·
  prefs: []
  type: TYPE_NORMAL
- en: '[Follow](https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fbf7d13fc53db&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fadd-one-line-of-sql-to-optimise-your-bigquery-tables-304761b048f0&user=Matt+Chapman&userId=bf7d13fc53db&source=post_page-bf7d13fc53db----304761b048f0---------------------post_header-----------)
    Published in [Towards Data Science](https://towardsdatascience.com/?source=post_page-----304761b048f0--------------------------------)
    ·5 min read·Dec 8, 2023[](https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F304761b048f0&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fadd-one-line-of-sql-to-optimise-your-bigquery-tables-304761b048f0&user=Matt+Chapman&userId=bf7d13fc53db&source=-----304761b048f0---------------------clap_footer-----------)'
  prefs: []
  type: TYPE_NORMAL
- en: --
  prefs: []
  type: TYPE_NORMAL
- en: '[](https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F304761b048f0&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fadd-one-line-of-sql-to-optimise-your-bigquery-tables-304761b048f0&source=-----304761b048f0---------------------bookmark_footer-----------)'
  prefs: []
  type: TYPE_NORMAL
- en: 'In my previous article, I explained how to optimise SQL queries using partitioning:'
  prefs: []
  type: TYPE_NORMAL
- en: '[](/use-the-partitions-luke-a-simple-and-proven-way-to-optimise-your-sql-queries-43e24ea4c5d0?source=post_page-----304761b048f0--------------------------------)
    [## Use the Partitions, Luke! A Simple and Proven Way to Optimise Your SQL Queries'
  prefs: []
  type: TYPE_NORMAL
- en: If you’ve ever written an SQL query that takes ages to run, this is the article
    for you
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: towardsdatascience.com](/use-the-partitions-luke-a-simple-and-proven-way-to-optimise-your-sql-queries-43e24ea4c5d0?source=post_page-----304761b048f0--------------------------------)
  prefs: []
  type: TYPE_NORMAL
- en: Now, I’m writing the **sequel**! (Dad joke, anyone?)
  prefs: []
  type: TYPE_NORMAL
- en: 'This article will look at **clustering**: another powerful optimisation technique
    you can use in BigQuery. Like partitioning, clustering can help you write more
    performant queries that are quicker and cheaper to run. If you want to develop
    your SQL toolkit and build those higher-level Data Science skills, this is a great
    place to start.'
  prefs: []
  type: TYPE_NORMAL
- en: What’s a clustered table?
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: In BigQuery, a clustered table is a table that keeps similar rows grouped together
    in physical “blocks”.
  prefs: []
  type: TYPE_NORMAL
- en: 'For example, picture a table called `user_signups` that keeps track of all
    the people registering an account on a fictitious website. It''s got four columns:'
  prefs: []
  type: TYPE_NORMAL
- en: '`registration_date`: the date on which the user created an account'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`country`: the country where the user is based'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`tier`: the user''s plan ("Free" or "Paid")'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
