["```py\npf_api_url = \"https://graphql.probablefutures.org\"\npf_token_audience = \"https://graphql.probablefutures.com\"\npf_token_url = \"https://probablefutures.us.auth0.com/oauth/token\"\n\ndef get_pf_token():\n    client_id = os.getenv(\"CLIENT_ID\")\n    client_secret = os.getenv(\"CLIENT_SECRET\")\n    response = requests.post(\n        pf_token_url,\n        json={\n            \"client_id\": client_id,\n            \"client_secret\": client_secret,\n            \"audience\": pf_token_audience,\n            \"grant_type\": \"client_credentials\",\n        },\n    )\n    access_token = response.json()[\"access_token\"]\n    return access_token\n\ndef get_pf_data(address, country, warming_scenario=\"1.5\"):\n    variables = {}\n\n    location = f\"\"\"\n        country: \"{country}\"\n        address: \"{address}\"\n    \"\"\"\n\n    query = (\n        \"\"\"\n        mutation {\n            getDatasetStatistics(input: { \"\"\"\n        + location\n        + \"\"\" \\\n                    warmingScenario: \\\"\"\"\" + warming_scenario + \"\"\"\\\" \n                }) {\n                datasetStatisticsResponses{\n                    datasetId\n                    midValue\n                    name\n                    unit\n                    warmingScenario\n                    latitude\n                    longitude\n                    info\n                }\n            }\n        }\n    \"\"\"\n    )\n    print(query)\n\n    access_token = get_pf_token()\n    url = pf_api_url + \"/graphql\"\n    headers = {\"Authorization\": \"Bearer \" + access_token}\n    response = requests.post(\n        url, json={\"query\": query, \"variables\": variables}, headers=headers\n    )\n    return str(response.json())\n```", "```py\nget_pf_data(address=\"New Delhi\", country=\"India\", warming_scenario=\"1.5\")\n```", "```py\n{'data': {'getDatasetStatistics': {'datasetStatisticsResponses': [{'datasetId': 40601, 'midValue': '17.0', 'name': 'Change in total annual precipitation', 'unit': 'mm', 'warmingScenario': '1.5', 'latitude': 28.6, 'longitude': 77.2, 'info': {}}, {'datasetId': 40616, 'midValue': '14.0', 'name': 'Change in wettest 90 days', 'unit': 'mm', 'warmingScenario': '1.5', 'latitude': 28.6, 'longitude': 77.2, 'info': {}}, {'datasetId': 40607, 'midValue': '19.0', 'name': 'Change in dry hot days', 'unit': 'days', 'warmingScenario': '1.5', 'latitude': 28.6, 'longitude': 77.2, 'info': {}}, {'datasetId': 40614, 'midValue': '0.0', 'name': 'Change in snowy days', 'unit': 'days', 'warmingScenario': '1.5', 'latitude': 28.6, 'longitude': 77.2, 'info': {}}, {'datasetId': 40612, 'midValue': '2.0', 'name': 'Change in frequency of “1-in-100-year” storm', 'unit': 'x as frequent', 'warmingScenario': '1.5', 'latitude': 28.6, 'longitude': 77.2, 'info': {}}, {'datasetId': 40101, 'midValue': '28.0', 'name': 'Average temperature', 'unit': '°C', 'warmingScenario': '1.5', 'latitude': 28.6, 'longitude': 77.2, 'info': {}}, {'datasetId': 40901, 'midValue': '4.0', 'name': 'Climate zones', 'unit': 'class', 'warmingScenario': '1.5', 'latitude': 28.6, 'longitude': 77.2, 'info': {'climateZoneName': 'Dry semi-arid (or steppe) hot'}}, {'datasetId': 40613, 'midValue': '49.0', 'name': 'Change in precipitation “1-in-100-year” storm', 'unit': 'mm', 'warmingScenario': '1.5', 'latitude': 28.6, 'longitude': 77.2, 'info': {}}, {'datasetId': 40701, 'midValue': '7.0', 'name': 'Likelihood of year-plus extreme drought', 'unit': '%', 'warmingScenario': '1.5', 'latitude': 28.6, 'longitude': 77.2, 'info': {}}, {'datasetId': 40702, 'midValue': '30.0', 'name': 'Likelihood of year-plus drought', 'unit': '%', 'warmingScenario': '1.5', 'latitude': 28.6, 'longitude': 77.2, 'info': {}}, {'datasetId': 40704, 'midValue': '5.0', 'name': 'Change in wildfire danger days', 'unit': 'days', 'warmingScenario': '1.5', 'latitude': 28.6, 'longitude': 77.2, 'info': {}}, {'datasetId': 40703, 'midValue': '-0.2', 'name': 'Change in water balance', 'unit': 'z-score', 'warmingScenario': '1.5', 'latitude': 28.6, 'longitude': 77.2, 'info': {}}, {'datasetId': 40201, 'midValue': '21.0', 'name': 'Average nighttime temperature', 'unit': '°C', 'warmingScenario': '1.5', 'latitude': 28.6, 'longitude': 77.2, 'info': {}}, {'datasetId': 40205, 'midValue': '0.0', 'name': 'Freezing days', 'unit': 'days', 'warmingScenario': '1.5', 'latitude': 28.6, 'longitude': 77.2, 'info': {}}, {'datasetId': 40301, 'midValue': '71.0', 'name': 'Days above 26°C (78°F) wet-bulb', 'unit': 'days', 'warmingScenario': '1.5', 'latitude': 28.6, 'longitude': 77.2, 'info': {}}, {'datasetId': 40302, 'midValue': '24.0', 'name': 'Days above 28°C (82°F) wet-bulb', 'unit': 'days', 'warmingScenario': '1.5', 'latitude': 28.6, 'longitude': 77.2, 'info': {}}, {'datasetId': 40303, 'midValue': '2.0', 'name': 'Days above 30°C (86°F) wet-bulb', 'unit': 'days', 'warmingScenario': '1.5', 'latitude': 28.6, 'longitude': 77.2, 'info': {}}, {'datasetId': 40102, 'midValue': '35.0', 'name': 'Average daytime temperature', 'unit': '°C', 'warmingScenario': '1.5', 'latitude': 28.6, 'longitude': 77.2, 'info': {}}, {'datasetId': 40103, 'midValue': '49.0', 'name': '10 hottest days', 'unit': '°C', 'warmingScenario': '1.5', 'latitude': 28.6, 'longitude': 77.2, 'info': {}}, {'datasetId': 40104, 'midValue': '228.0', 'name': 'Days above 32°C (90°F)', 'unit': 'days', 'warmingScenario': '1.5', 'latitude': 28.6, 'longitude': 77.2, 'info': {}}, {'datasetId': 40105, 'midValue': '187.0', 'name': 'Days above 35°C (95°F)', 'unit': 'days', 'warmingScenario': '1.5', 'latitude': 28.6, 'longitude': 77.2, 'info': {}}, {'datasetId': 40106, 'midValue': '145.0', 'name': 'Days above 38°C (100°F)', 'unit': 'days', 'warmingScenario': '1.5', 'latitude': 28.6, 'longitude': 77.2, 'info': {}}, {'datasetId': 40202, 'midValue': '0.0', 'name': 'Frost nights', 'unit': 'nights', 'warmingScenario': '1.5', 'latitude': 28.6, 'longitude': 77.2, 'info': {}}, {'datasetId': 40304, 'midValue': '0.0', 'name': 'Days above 32°C (90°F) wet-bulb', 'unit': 'days', 'warmingScenario': '1.5', 'latitude': 28.6, 'longitude': 77.2, 'info': {}}, {'datasetId': 40305, 'midValue': '29.0', 'name': '10 hottest wet-bulb days', 'unit': '°C', 'warmingScenario': '1.5', 'latitude': 28.6, 'longitude': 77.2, 'info': {}}, {'datasetId': 40203, 'midValue': '207.0', 'name': 'Nights above 20°C (68°F)', 'unit': 'nights', 'warmingScenario': '1.5', 'latitude': 28.6, 'longitude': 77.2, 'info': {}}, {'datasetId': 40204, 'midValue': '147.0', 'name': 'Nights above 25°C (77°F)', 'unit': 'nights', 'warmingScenario': '1.5', 'latitude': 28.6, 'longitude': 77.2, 'info': {}}]}}}\n```", "```py\n get_pf_data_schema = {\n        \"name\": \"get_pf_data\",\n        \"parameters\": {\n            \"type\": \"object\",\n            \"properties\": {\n                \"address\": {\n                    \"type\": \"string\",\n                    \"description\": (\"The address of the location to get data for\"),\n                },\n                \"country\": {\n                    \"type\": \"string\",\n                    \"description\": (\"The country of location to get data for\"),\n                },\n                \"warming_scenario\": {\n                    \"type\": \"string\",\n                    \"enum\": [\"1.0\", \"1.5\", \"2.0\", \"2.5\", \"3.0\"],\n                    \"description\": (\"The warming scenario to get data for. Default is 1.5\"),\n                }\n\n            },\n            \"required\": [\"address\", \"country\"],\n        },\n        \"description\": \"\"\"\n            This is the API call to the probable futures API to get predicted climate change indicators for a location\n        \"\"\",\n    }\n```", "```py\ntools = [\n    {\n        \"type\": \"function\",\n        \"function\": get_pf_data_schema,\n    }\n    {\"type\": \"code_interpreter\"},\n]\n```", "```py\ninstructions = \"\"\" \n    \"Hello, Climate Change Assistant. You help people understand how climate change will affect their homes\"\n    \"You will use Probable Futures Data to predict climate change indicators for a location\"\n    \"You will summarize perfectly the returned data\"\n    \"You will also provide links to local resources and websites to help the user prepare for the predicted climate change\"\n    \"If you don't have enough address information, request it\"\n    \"You default to warming scenario of 1.5 if not specified, but ask if the user wants to try others after presenting results\"\n    \"Group results into categories\"\n    \"Always link to the probable futures website for the location using URL and replacing LATITUDE and LONGITUDE with location values: https://probablefutures.org/maps/?selected_map=days_above_32c&map_version=latest&volume=heat&warming_scenario=1.5&map_projection=mercator#9.2/LATITUDE/LONGITUDE\"\n    \"GENERATE OUTPUT THAT IS CLEAR AND EASY TO UNDERSTAND FOR A NON-TECHNICAL USER\"\n\"\"\"\n```", "```py\nimport os\nfrom openai import AsyncOpenAI\nimport asyncio\nfrom dotenv import load_dotenv\nimport sys\n\nload_dotenv()\n\napi_key = os.environ.get(\"OPENAI_API_KEY\")\nassistant_id = os.environ.get(\"ASSISTANT_ID\")\nmodel = os.environ.get(\"MODEL\")\nclient = AsyncOpenAI(api_key=api_key)\n\nname = \"Climate Change Assistant\"\ntry:\n    my_assistant = await client.beta.assistants.retrieve(assistant_id)\n    print(\"Updating existing assistant ...\")\n    assistant = await client.beta.assistants.update(\n        assistant_id,\n        name=name,\n        instructions=instructions,\n        tools=tools,\n        model=model,\n    )\nexcept:\n    print(\"Creating assistant ...\")\n    assistant = await client.beta.assistants.create(\n        name=name,\n        instructions=instructions,\n        tools=tools,\n        model=model,\n    )\n    print(assistant)\n    print(\"Now save the DI in your .env file\")\n```", "```py\nimport assistant_tools as at\n```", "```py\nget_pf_data(address=\"Mombassa\", country=\"Kenya\", warming_scenario=\"1.5\")\n```", "```py\nmutation {\n    getDatasetStatistics(input: { \n            country: \"Kenya\"\n            address: \"Mombassa\"\n            warmingScenario: \"1.5\" \n        }) {\n        datasetStatisticsResponses{\n            datasetId\n            midValue\n            name\n            unit\n            warmingScenario\n            latitude\n            longitude\n            info\n        }\n    }\n}\n```", "```py\n{\n  \"data\": {\n    \"getDatasetStatistics\": {\n      \"datasetStatisticsResponses\": [\n        {\n          \"datasetId\": 40601,\n          \"midValue\": \"30.0\",\n          \"name\": \"Change in total annual precipitation\",\n          \"unit\": \"mm\",\n          \"warmingScenario\": \"1.5\",\n          \"latitude\": -4,\n          \"longitude\": 39.6,\n          \"info\": {}\n        },\n        {\n          \"datasetId\": 40616,\n          \"midValue\": \"70.0\",\n          \"name\": \"Change in wettest 90 days\",\n          \"unit\": \"mm\",\n          \"warmingScenario\": \"1.5\",\n          \"latitude\": -4,\n          \"longitude\": 39.6,\n          \"info\": {}\n        },\n        {\n          \"datasetId\": 40607,\n          \"midValue\": \"21.0\",\n          \"name\": \"Change in dry hot days\",\n          \"unit\": \"days\",\n          \"warmingScenario\": \"1.5\",\n          \"latitude\": -4,\n          \"longitude\": 39.6,\n          \"info\": {}\n        },\n        {\n          \"datasetId\": 40614,\n          \"midValue\": \"0.0\",\n          \"name\": \"Change in snowy days\",\n          \"unit\": \"days\",\n          \"warmingScenario\": \"1.5\",\n          \"latitude\": -4,\n          \"longitude\": 39.6,\n          \"info\": {}\n        },\n        {\n          \"datasetId\": 40612,\n          \"midValue\": \"1.0\",\n          \"name\": \"Change in frequency of \\u201c1-in-100-year\\u201d storm\",\n          \"unit\": \"x as frequent\",\n          \"warmingScenario\": \"1.5\",\n          \"latitude\": -4,\n          \"longitude\": 39.6,\n          \"info\": {}\n        },\n\n        .... etc\n\n        }\n      ]\n    }\n  }\n}\n```"]