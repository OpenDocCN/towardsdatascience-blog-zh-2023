# 一种通用的提示工程路线图：背景支架框架（CSF）

> 原文：[https://towardsdatascience.com/a-universal-roadmap-for-prompt-engineering-the-contextual-scaffolds-framework-csf-fdaf5a9fa86a?source=collection_archive---------3-----------------------#2023-10-25](https://towardsdatascience.com/a-universal-roadmap-for-prompt-engineering-the-contextual-scaffolds-framework-csf-fdaf5a9fa86a?source=collection_archive---------3-----------------------#2023-10-25)

## 一种有效提示工程的通用心理模型。

[](https://medium.com/@hominum_universalis?source=post_page-----fdaf5a9fa86a--------------------------------)[![Giuseppe Scalamogna](../Images/ff7b3bec7c26e5684fba26211b6f027a.png)](https://medium.com/@hominum_universalis?source=post_page-----fdaf5a9fa86a--------------------------------)[](https://towardsdatascience.com/?source=post_page-----fdaf5a9fa86a--------------------------------)[![Towards Data Science](../Images/a6ff2676ffcc0c7aad8aaf1d79379785.png)](https://towardsdatascience.com/?source=post_page-----fdaf5a9fa86a--------------------------------) [Giuseppe Scalamogna](https://medium.com/@hominum_universalis?source=post_page-----fdaf5a9fa86a--------------------------------)

·

[关注](https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fe039aa8b7221&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-universal-roadmap-for-prompt-engineering-the-contextual-scaffolds-framework-csf-fdaf5a9fa86a&user=Giuseppe+Scalamogna&userId=e039aa8b7221&source=post_page-e039aa8b7221----fdaf5a9fa86a---------------------post_header-----------) 发表在 [Towards Data Science](https://towardsdatascience.com/?source=post_page-----fdaf5a9fa86a--------------------------------) ·7分钟阅读·2023年10月25日[](https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Ffdaf5a9fa86a&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-universal-roadmap-for-prompt-engineering-the-contextual-scaffolds-framework-csf-fdaf5a9fa86a&user=Giuseppe+Scalamogna&userId=e039aa8b7221&source=-----fdaf5a9fa86a---------------------clap_footer-----------)

--

[](https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Ffdaf5a9fa86a&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fa-universal-roadmap-for-prompt-engineering-the-contextual-scaffolds-framework-csf-fdaf5a9fa86a&source=-----fdaf5a9fa86a---------------------bookmark_footer-----------)![](../Images/11bd757f9b0539829373e16710b28052.png)

图片由作者提供并通过 DALL·E 3 生成

## 介绍

在我最近的文章中，我探讨了一种新的 ChatGPT4 提示工程方法，称为程序模拟。该方法展示了 ChatGPT4 一致性地模拟程序状态的惊人能力。这些探索增强了我对语言细腻力量的欣赏——文字的分量、语义和整体上下文。本文探讨了这些细微差别，并提出了一个通用的提示工程框架，我称之为“语境支架框架”。正如我们将看到的，这个框架有效地进行了一般化，并似乎能够将如思维链（CoT）、恭维/角色分配、程序模拟等技术纳入一个范畴。此外，它提供了一个易于使用的心理模型，用于在多种场景中有效地制定提示。

## 进入语用学的世界

我对语言细微差别的更深入研究始于语用学，这是一门研究上下文如何塑造意义解释的语言学分支。特别突出的两个概念是：

1.  含义推断：当说话者暗示某些内容而未明确陈述时，期望听者推断出意图的意义。

1.  预设：对话参与者认为在说话者和听者之间共享的假设或信息。

这些概念的核心见解是，词语的意义远超其字面定义。考虑“狗”这个词。除了基本定义外，它还蕴含了大量隐含的信息。我们不会明确说明狗是通过时间存在、在空间中移动、吃东西、听声音、吠叫等。期望是听众共享这些知识，并根据当前上下文提取适当的意义。每种语言表达，无论是一个词还是一部小说，都散发出一种“意义光环”——隐含定义、含义推断、情感和内涵的混合。这些“意义光环”还可以在密度、复杂性和清晰度上有所不同，且通常依赖于具体情况。

## **大型语言模型 (LLM) 和“意义光环”**

在某些方面，LLM 系统化了与人类对话中的“意义光环”产生。然而，这些模型本质上只是逐字预测。是否有可能它们隐含地建模了“意义光环”的相互作用？我们如何衡量这一点？虽然回答这些问题需要深入研究，但我们对语用学的简要探讨确实提供了一些即时的实际应用，并可以作为通用提示工程框架的重要构建块。

## 语境支架框架（CSF）

正如许多人之前指出的那样，对于像 ChatGPT-4 这样的模型，有效的提示设计依赖于上下文。但我们还需要考虑对模型输出的期望是什么，以及模型应该如何“运作”以满足这些期望。在记住“意义光环”这一概念的同时，我们来看看一种将提示上下文分类的方法。我们将这些类别称为“框架”，并指定两个广泛适用的框架。

**期望背景框架** — 包括用户的愿望、意图、目标和具体情况。如果用户的个人背景相关，也应考虑在内。

**操作背景框架** — 确定 AI 的操作参数。它定义了模型的角色、使用的技术、所需的外部数据以及其自主性和裁量权的范围。

这是框架的一个简单的视觉表示：

![](../Images/aba20fb5c80e673f2206b404c7a2e8b8.png)

作者提供的图片

现在，让我们通过一个 ChatGPT-4 的提示来看看这种方法的实际效果。我们将重点选择具有语义丰富的“意义光环”的语言，并且这些语言可能会产生我们期望的输出。

**背景框架提示**

*“我的期望背景 — 你的目标是帮助我写一个关于人工智能泰迪熊的故事。我的故事的受众是成年人。我最终会在我的博客上分享这个故事，目前我的博客没有任何关注者。”*

*“你的操作背景 — 为了最大限度地满足我的期望背景，从现在开始，你将在对话中表现得像一个自我组装的程序模拟。你应该尽一切努力考虑到我期望背景的所有方面。你在程序的功能和行为方面有自主性和裁量权，但你应该始终保留一个持续的顶级菜单。请不要生成任何软件代码，而是在输出文本中直接模拟程序。一旦收到此提示，请继续进行模拟。”*

你们会得到一些稍有不同的内容，但在大多数情况下，应该类似于此：

![](../Images/be5e425228737da6003a2cbcdd4c9773.png)

从输出中可以看出，ChatGPT-4 启动了一个程序模拟，大致上满足了我的“期望背景”。我通过在两个框架中指定语言，这些框架发出了丰富的“意义光环”，对其产生了显著影响。

到目前为止，我们定义了一个直接的通用提示框架。诸如恭维/角色分配、少样本和 CoT 等技术主要属于“操作背景框架”。虽然我没有找到完全根植于“期望背景框架”的技术，但大多数目标驱动的提示语言通常适合这个框架。所以在某种程度上，我们都默认隐式地使用这种技术。

那就这样了吗？我们只是结束这篇文章，还是还有一些派生的见解？让我们看看是否可以进一步解析……

**提示工程的背景框架优化**

当使用选定的LLM时，我们最终希望模型能生成符合或超出我们期望的输出。如果我们从优化的角度看待我们的框架，我们可以设想一个框架，其中的目标是确定一个或多个最佳满足“期望背景”的“操作背景”。对于那些对数学术语感到陌生的人，请耐心等待；这是一个简短的绕道。

我们可以将这样的函数表示如下：

*O* = *LLM*(*EC*)

其中：

*O* 是一组最佳操作背景（OCₙ），

*LLM* 是由大型语言模型体现的函数。

集合 *O* 中的每个元素，例如 *OC*ᵢ，代表给定期望背景的不同最佳操作背景：

*O*={*OC*₁,*OC*₂​,…,*OC*ₙ​}

由于我们的操作背景和期望背景是多维的，我们可能需要将它们建模为属性向量以获得更详细的描述：

*EC*={*e*₁​,*e*₂,…,*e*ₙ​}

*OC*={*o*₁​,*o*₂​,…,*o*ₙ​}

最终，目标函数可以表示为在给定的EC下，最大化所有可能的*OC*在集合*O*中的效用函数 *U*：

![](../Images/d501c7847711564be8bb650f66762d26.png)

这些数学抽象试图系统化地将期望背景转化为操作背景，同时承认对于给定的期望背景可能存在多个最佳操作背景。我们将在未来探讨使用这种框架对模型进行微调的可能性，但现在，让我们看看这些想法的实际应用。

假设你已经很好地掌握了如何表达你的期望背景框架，但不确定在操作背景框架中包含哪些元素。ChatGPT-4可以提供帮助吗？

让我们根据此创建一个提示，并查看我们得到的反馈。

**开放式操作背景提示**

*“我的期望背景 — 你的目标是帮助我写一个关于人工智能泰迪熊的故事。我的故事受众是成年人。我最终会在我的博客上分享这个故事，目前博客没有任何粉丝。”*

*你的操作背景 — 为了最大化实现我的期望背景，请建议至少一个但不超过五个你可以使用的操作背景。你可以建议以某种人物、团队、组织类型、程序或系统的身份来进行，并具备一个或多个特定的能力。你还可以建议引入外部数据或要求提供训练示例。你也可以建议使用特定的技术或方法。你可以建议上述任何元素的任意组合。操作背景应按从最优到最不优的顺序排列。对于每一个，请提供一个导致其特定排名的理由。”*

![](../Images/b325d18bd1a84427819075f5770166df.png)

诚如预期，ChatGPT-4 为我们提供了 5 种操作上下文；其中 2 种是组织实体，1 种是系统，2 种是个人。这些操作上下文已被排序，并附上了每个排序的理由。考虑一下“文学智囊团”或“历史与科幻研究所”等概念的“意义光环”。我相信你会同意，它们的上下文密集且充满了意义和暗示。通过这种方法，我们可以装备自己以大量操作上下文，这些上下文可能是我们自己无法发现的。这也降低了有效提示创建的门槛，将我们的起点集中在阐述“预期上下文支架”上。

## 结论

当我们深入探讨语用学和“意义光环”概念的复杂性时，可以明显看出，上下文在其多方面的形式中，掌握了优化我们与大型语言模型（LLMs）互动的关键。上下文支架框架（CSF）为我们提供了一个简单明了的心理模型，帮助我们有效地阐述上下文。通过区分“预期上下文”和“操作上下文”，CSF 为将用户期望与像 ChatGPT-4 这样的模型的能力对齐提供了清晰的路径。此外，CSF 是可扩展的，当其他支架变得相关或必要时，它们可以根据需要添加或删除。同样，每个支架也可以细分为代表特定上下文的组件支架。

感谢阅读，希望你发现 CSF 是一个有用的提示创建模型！我正在进行额外的探索，务必关注我，并在新文章发布时获取通知。如果你想进一步讨论 CSF 或我的其他文章，请随时通过 [LinkedIn](https://www.linkedin.com/in/giuseppe-scalamogna-8b389145/) 与我联系。

除非另有说明，本文中的所有图片均为作者原创。
