# ç®€åŒ– Matplotlib ä¸­å­å›¾çš„åˆ›å»º

> åŸæ–‡ï¼š[`towardsdatascience.com/simplifying-subplots-creation-in-matplotlib-3f6efce356b9`](https://towardsdatascience.com/simplifying-subplots-creation-in-matplotlib-3f6efce356b9)

## å°†é©¬èµ›å…‹é­”æ³•èå…¥ä½ çš„å›¾è¡¨

[](https://pandeyparul.medium.com/?source=post_page-----3f6efce356b9--------------------------------)![Parul Pandey](https://pandeyparul.medium.com/?source=post_page-----3f6efce356b9--------------------------------)[](https://towardsdatascience.com/?source=post_page-----3f6efce356b9--------------------------------)![Towards Data Science](https://towardsdatascience.com/?source=post_page-----3f6efce356b9--------------------------------) [Parul Pandey](https://pandeyparul.medium.com/?source=post_page-----3f6efce356b9--------------------------------)

Â·å‘å¸ƒäº [Towards Data Science](https://towardsdatascience.com/?source=post_page-----3f6efce356b9--------------------------------) Â·é˜…è¯»æ—¶é—´ 5 åˆ†é’ŸÂ·2023 å¹´ 5 æœˆ 23 æ—¥

--

![](img/c62c7aa026a2002e8b02ca77fdeb78e2.png)

å›¾ç‰‡ç”± [charlesdeluvio](https://unsplash.com/@charlesdeluvio?utm_source=medium&utm_medium=referral) åœ¨ [Unsplash](https://unsplash.com/?utm_source=medium&utm_medium=referral) æä¾›

æœ€è¿‘ï¼Œæˆ‘åœ¨ä¸€ä¸ªé¡¹ç›®ä¸­éœ€è¦ä½¿ç”¨ [Matplotlib](https://matplotlib.org/) åº“åˆ›å»ºå­å›¾ã€‚å¦‚æœä½ æ›¾ç»ä½¿ç”¨è¿‡ Matplotlib åº“ï¼Œä½ å¾ˆå¯èƒ½ä¹Ÿä½¿ç”¨è¿‡å®ƒçš„å­å›¾åŠŸèƒ½ã€‚å­å›¾æ˜¯åŒæ—¶ç”Ÿæˆå¤šä¸ªå›¾è¡¨çš„æœ‰æ•ˆå·¥å…·ï¼Œè¿™åœ¨æ¯”è¾ƒç»“æœæˆ–å¤šä¸ªå›¾è¡¨å…±äº«ç›¸åŒåæ ‡è½´æ—¶éå¸¸æœ‰ç”¨ã€‚ç„¶è€Œï¼Œæœ‰æ—¶ Matplotlib ä¸­çš„å­å›¾è¯­æ³•å¯¹æˆ‘ä»¬å¾ˆå¤šäººæ¥è¯´å¯èƒ½éå¸¸å¤æ‚ï¼ŒåŒ…æ‹¬æˆ‘è‡ªå·±ã€‚å®ç°æ‰€éœ€çš„å­å›¾å¸ƒå±€ä¼¼ä¹åƒæ˜¯åœ¨è¿›è¡Œè¯•é”™æ¸¸æˆï¼Œè¿™ä½¿æˆ‘ä»¬ä»å®é™…é¡¹ç›®ä¸­åˆ†å¿ƒã€‚

# è—åœ¨æ˜¾çœ¼å¤„ï¼ŒçœŸçš„ï¼ï¼

![](img/2bba185b381ff006779b7142cb08f408.png)

è—åœ¨æ˜¾çœ¼å¤„ | [å›¾ç‰‡æ¥æºäº Pixabay](https://pixabay.com//?utm_source=link-attribution&amp%3Butm_medium=referral&amp%3Butm_campaign=image&amp%3butm_content=317041)

æˆ‘çŸ¥é“ R ä¸­çš„ [patchwork åº“](https://cran.r-project.org/web/packages/patchwork/vignettes/patchwork.html) æ“…é•¿å¤„ç†å­å›¾çš„åˆ›å»ºã€‚ç„¶è€Œï¼Œæˆ‘æƒŠè®¶åœ°å‘ç° [**Matplotlib ä¸€ç›´éƒ½æœ‰è¿™ä¸ªåŠŸèƒ½**](https://twitter.com/matplotlib/status/1382034095534931969)ï¼Œè¿™è®©æˆ‘æ„è¯†åˆ°åº”è¯¥å½»åº•é˜…è¯»æ–‡æ¡£ã€‚å‡ºäºå¥½å¥‡ï¼Œæˆ‘å†³å®šæ·±å…¥äº†è§£è¿™ä¸ªåŠŸèƒ½ï¼Œå¹¶é€šè¿‡åšå®¢æ–‡ç« å°†æˆ‘çš„ç»å†å’Œè§è§£åˆ†äº«ç»™ä»–äººã€‚

# Matplotlib ä¸­çš„å­å›¾

Matplotlibï¼Œä¸€ä¸ªå¹¿æ³›ä½¿ç”¨çš„ç»˜å›¾åº“ï¼Œæä¾›äº†ä¸¤ç§åˆ›å»ºå­å›¾çš„æ–¹æ³•ï¼š`**Figure.subplots()**`å’Œ`**Figure.subplot_mosaic()**`ã€‚è™½ç„¶è¿™ä¸¤ç§æ–¹æ³•éƒ½èƒ½å®ç°ç›¸åŒçš„ç›®çš„ï¼Œä½†ä½¿ç”¨åè€…æ–¹æ³•å…·æœ‰ä¸€äº›å›ºæœ‰çš„ä¼˜åŠ¿ã€‚è®©æˆ‘ä»¬æ¢è®¨å®ƒä»¬çš„åŒºåˆ«ï¼Œå¼ºè°ƒ`Figure.subplot_mosaic()`ç›¸è¾ƒäº`Figure.subplots()`æä¾›çš„ç®€ä¾¿æ€§å’Œçµæ´»æ€§ã€‚

## ç†è§£ Figure.subplots æ–¹æ³•

Matplotlib ä¸­çš„ subplots æ–¹æ³•å…è®¸æˆ‘ä»¬åœ¨ç½‘æ ¼çŠ¶ç»“æ„ä¸­åˆ›å»ºå­å›¾ã€‚å®ƒæ¥å—æŒ‡å®šå­å›¾ç½‘æ ¼ä¸­çš„è¡Œæ•°å’Œåˆ—æ•°çš„å‚æ•°ï¼Œå¹¶è¿”å›ä¸€ä¸ª`Figure`å¯¹è±¡å’Œä¸€ä¸ªè¡¨ç¤ºå„ä¸ªå­å›¾çš„`Axes`å¯¹è±¡æ•°ç»„ã€‚

è®©æˆ‘ä»¬è€ƒè™‘ä¸€ä¸ªç¤ºä¾‹ï¼Œæˆ‘ä»¬å¸Œæœ›åˆ›å»ºä¸€ä¸ªåŒ…å«å››ä¸ªå­å›¾çš„ 2X2 å›¾å½¢ã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨`[**Figure.subplots()**](http://Figure.subplots)`æ–¹æ³•æ¥å®ç°è¿™ä¸ªä»»åŠ¡ã€‚

![](img/1fc15e975fe5480a63da4e4d8ce56605.png)

å›¾ï¼ˆ1ï¼‰ï¼šä½¿ç”¨`[**Figure.subplots**](https://matplotlib.org/stable/api/figure_api.html#matplotlib.figure.Figure.subplots)`æ–¹æ³•åœ¨ Matplotlib ä¸­åˆ›å»ºå­å›¾ | ä½œè€…å›¾ç‰‡

å¦‚*å›¾ï¼ˆ1ï¼‰*æ‰€ç¤ºï¼Œå°½ç®¡`**Figure.subplots**`æ–¹æ³•é€šè¿‡æŒ‡å®šè¡Œæ•°å’Œåˆ—æ•°æä¾›äº†ä¸€ç§ç›´æ¥åˆ›å»ºå­å›¾çš„æ–¹æ³•ï¼Œä½†åœ¨ä»¥ä¸‹æƒ…å†µä¸‹ä¼šæ˜¾å¾—ä¸è¶³ï¼š

+   **æ‰‹åŠ¨ç´¢å¼•é”™è¯¯**

ç”¨æˆ·å¿…é¡»æ‰‹åŠ¨æŒ‡å®šæ¯ä¸ªå­å›¾çš„ç´¢å¼•ã€‚è¿™ä¸ªè¿‡ç¨‹å¯èƒ½å®¹æ˜“å‡ºé”™ï¼Œç‰¹åˆ«æ˜¯åœ¨å¤„ç†å¤æ‚çš„å­å›¾æ’åˆ—æ—¶ï¼Œæˆ–è€…å½“ç´¢å¼•é”™è¯¯å¯¼è‡´å­å›¾ä½ç½®é”™è¯¯æˆ–é—æ¼æ—¶ã€‚

+   **æœ‰é™çš„å¸ƒå±€çµæ´»æ€§**

è¯¥æ–¹æ³•ä¾èµ–äºå›ºå®šçš„ç½‘æ ¼ç»“æ„ï¼Œå¯¼è‡´åˆ›å»ºä¸è§„åˆ™æˆ–è‡ªå®šä¹‰å¸ƒå±€å˜å¾—å›°éš¾ã€‚å¦‚æœæ‰€éœ€çš„æ’åˆ—ä¸ç¬¦åˆæŒ‡å®šçš„ç½‘æ ¼ï¼Œå¯èƒ½ä¼šå¯¼è‡´è§†è§‰ä¸ä¸€è‡´æˆ–å›¾å½¢æ‰­æ›²ã€‚

+   **è°ƒæ•´æŒ‘æˆ˜**

å¯¹å­å›¾æ’åˆ—è¿›è¡Œæ›´æ”¹æˆ–æ·»åŠ /åˆ é™¤å­å›¾å¯èƒ½ä¼šå¾ˆéº»çƒ¦ã€‚è°ƒæ•´ç´¢å¼•æˆ–è°ƒæ•´ç½‘æ ¼å¤§å°éœ€è¦ä»”ç»†çš„æ‰‹åŠ¨è°ƒæ•´ï¼Œå¢åŠ äº†å¼•å…¥é”™è¯¯çš„é£é™©ã€‚

## æ›´å¥½çš„æ›¿ä»£æ–¹æ¡ˆ â€” **Figure.subplot_mosaic æ–¹æ³•**

`[**Figure.subplot_mosaic**](https://matplotlib.org/stable/api/figure_api.html#matplotlib.figure.Figure.subplot_mosaic)`æ–¹æ³•æ˜¯ Matplotlib 3.4.0 ç‰ˆæœ¬ä¸­å¼•å…¥çš„ä¸€ç§å¼ºå¤§æ›¿ä»£æ–¹æ¡ˆï¼Œæ—¨åœ¨ç®€åŒ–å­å›¾çš„åˆ›å»ºå’Œæ’åˆ—ã€‚å®ƒæä¾›äº†ä¸€ç§æ›´ç›´è§‚çš„æ–¹æ³•ï¼Œé€šè¿‡**ç±»ä¼¼å­—å…¸çš„ç»“æ„**å®šä¹‰å­å›¾ï¼Œå…¶ä¸­é”®è¡¨ç¤ºå­å›¾æ ‡ç­¾ï¼Œå€¼å®šä¹‰å®ƒä»¬åœ¨ç½‘æ ¼ä¸­çš„ä½ç½®ã€‚ä½¿ç”¨è¿™ç§æ–¹æ³•ï¼Œä½ å¯ä»¥é€šè¿‡æŒ‡å®šæ¯ä¸ªå­å›¾çš„ç›¸å¯¹ä½ç½®è½»æ¾åˆ›å»ºå¤æ‚çš„å­å›¾å¸ƒå±€ã€‚

è®©æˆ‘ä»¬å°†ä¹‹å‰çš„æ–¹æ³•ä¸`Figure.subplot_mosaic()`æ–¹æ³•è¿›è¡Œæ¯”è¾ƒã€‚

![](img/6fb11fd71420b07d7c8cfd78e41e74ba.png)

å›¾ (2)ï¼šä½¿ç”¨ `[**Figure.subplot_mosaic**](https://matplotlib.org/stable/api/figure_api.html#matplotlib.figure.Figure.subplot_mosaic)` æ–¹æ³•åœ¨ Matplotlib ä¸­åˆ›å»ºå­å›¾ | å›¾ç‰‡ç”±ä½œè€…æä¾›

ä»*å›¾(2)*å¯ä»¥çœ‹å‡ºï¼Œè™½ç„¶æˆ‘ä»¬è·å¾—äº†ç›¸åŒçš„ç»“æœï¼Œä½†è¿‡ç¨‹è¦ç®€å•å¾—å¤šä¸”æ›´ç›´è§‚ã€‚æ­¤å¤–ï¼Œæˆ‘ä»¬è¿˜æ‹¥æœ‰ä»¥ä¸‹ä¼˜ç‚¹ï¼š

1\. **ç›´è§‚çš„è¯­æ³•**

`Figure.subplot_mosaic()` ä½¿ç”¨çš„å­—å…¸-like ç»“æ„æä¾›äº†ä¸€ç§æ¸…æ™°ç®€æ´çš„æ–¹å¼æ¥æŒ‡å®šå­å›¾çš„æ’åˆ—ã€‚è¿™ç§æ–¹æ³•æ¶ˆé™¤äº†åœ¨ `fig.subplots()` ä¸­æ‰‹åŠ¨è®¡ç®—å’Œç´¢å¼•çš„éœ€è¦ã€‚æˆ‘ä»¬å·²ç»åœ¨ä¸Šé¢çš„ä»£ç ä¸­çœ‹åˆ°å¦‚ä½•æŒ‡å®šå­å›¾çš„é¡ºåºã€‚ç„¶è€Œï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ [*é™åˆ¶åæ ‡è½´æ ‡ç­¾*](https://matplotlib.org/stable/gallery/subplots_axes_and_figures/mosaic.html#string-short-hand) ä¸ºå•ä¸ªå­—ç¬¦æ¥è¿›ä¸€æ­¥ç®€åŒ–è¿‡ç¨‹ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š

```py
ax_dict

--------------------------------

{'a': <AxesSubplot: label='a'>,
 'b': <AxesSubplot: label='b'>,
 'd': <AxesSubplot: label='d'>,
 'c': <AxesSubplot: label='c'>}
```

**2\. æ’åˆ—å­å›¾çš„çµæ´»æ€§ï¼š**

`Figure.subplot_mosaic()` ä½¿æˆ‘ä»¬èƒ½å¤Ÿè½»æ¾å®šä¹‰å¤æ‚çš„å­å›¾å¸ƒå±€ï¼ŒåŒ…æ‹¬è·¨è¶Šå¤šè¡Œæˆ–å¤šåˆ—çš„ä¸è§„åˆ™ç½‘æ ¼ã€‚è¿™ç§çµæ´»æ€§åœ¨å¤„ç†éœ€è¦å¹¶æ’æ˜¾ç¤ºçš„ä¸åŒå¯è§†åŒ–æ•°æ®é›†æ—¶ç‰¹åˆ«æœ‰ç”¨ã€‚æˆ‘ä»¬æ¥çœ‹ä¸¤ä¸ªç¤ºä¾‹ï¼Œå±•ç¤ºæˆ‘ä»¬å¸Œæœ›çš„å­å›¾æ’åˆ—ï¼š

+   é¦–å…ˆï¼Œæˆ‘ä»¬å¸Œæœ›æœ‰ä¸€ä¸ªè·¨è¶Šå¤šè¡Œæˆ–å¤šåˆ—çš„åæ ‡è½´ã€‚æ›´å‡†ç¡®åœ°è¯´ï¼Œæˆ‘ä»¬å¯»æ‰¾çš„æ˜¯ç±»ä¼¼äºä»¥ä¸‹ç¤ºä¾‹çš„ä¸œè¥¿ï¼š

![](img/da785166157787ac82cfe70579543d77.png)

å›¾ç‰‡ç”±ä½œè€…æä¾›

å°½ç®¡ä½¿ç”¨ `[Figure.subplots](https://matplotlib.org/stable/api/figure_api.html#matplotlib.figure.Figure.subplots)` æ–¹æ³•æ’åˆ—å­å›¾å¯èƒ½è®©äººæ„Ÿåˆ°å›°éš¾ï¼Œä½† `Figure.subplot_mosaic()` æ–¹æ³•å°†è¿‡ç¨‹ç®€åŒ–ä¸ºä»…é‡æ–°æ’åˆ—åæ ‡è½´æ ‡ç­¾ã€‚

![](img/f20bffca6193427eed0eedad984a8874.png)

ä½¿ç”¨ Figure.subplot_mosaic() è¿›è¡Œè·¨è¶Šå¤šè¡Œ/åˆ—çš„åæ ‡è½´ | å›¾ç‰‡ç”±ä½œè€…æä¾›

+   å¦ä¸€ä¸ªéœ€è¦è€ƒè™‘çš„åœºæ™¯æ˜¯å¹¶éå°†åæ ‡è½´å¡«æ»¡æ•´ä¸ªå›¾å½¢ï¼Œè€Œæ˜¯ç•™ä¸‹ä¸€äº›ç½‘æ ¼ç©ºé—´ä¸ºç©ºï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š

![](img/a529e75a000512e88a1225bfaf05cb2e.png)

å›¾ç‰‡ç”±ä½œè€…æä¾›

![](img/8c2c588e1ae0557c7a2070829f0591a4.png)

# ä½¿ç”¨ Figure.subplot_mosaic() æŒ‡å®šç½‘æ ¼ä¸­çš„ä¸€äº›ç©ºé—´ä¸ºç©ºç™½

é™¤äº†ä¸Šè¿°ä¼˜ç‚¹ä¹‹å¤–ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥ [æ§åˆ¶é©¬èµ›å…‹åˆ›å»º](https://matplotlib.org/stable/gallery/subplots_axes_and_figures/mosaic.html#controlling-mosaic-creation)ã€[ç®¡ç†å­å›¾åˆ›å»º](https://matplotlib.org/stable/gallery/subplots_axes_and_figures/mosaic.html#controlling-subplot-creation)ä»¥åŠåˆ†åˆ«è°ƒæ•´ [æ¯ä¸ªå­å›¾çš„å‚æ•°](https://matplotlib.org/stable/gallery/subplots_axes_and_figures/mosaic.html#per-axes-subplot-keyword-arguments) ç­‰åŠŸèƒ½ã€‚æ–‡æ¡£æä¾›äº†è¯¦ç»†çš„ç¤ºä¾‹ï¼Œæ˜¯å®éªŒå’Œæ¢ç´¢è¿™äº›åŠŸèƒ½çš„æå¥½èµ„æºã€‚

[](https://matplotlib.org/stable/gallery/subplots_axes_and_figures/mosaic.html?source=post_page-----3f6efce356b9--------------------------------#string-short-hand) [## å¤æ‚å’Œè¯­ä¹‰åŒ–çš„å›¾å½¢ç»„åˆï¼ˆsubplot_mosaicï¼‰ - Matplotlib 3.7.1 æ–‡æ¡£

### åœ¨å›¾å½¢ä¸­ä»¥éå‡åŒ€ç½‘æ ¼å¸ƒå±€åæ ‡è½´å¯èƒ½æ—¢ç¹çåˆå†—é•¿ã€‚

matplotlib.org](https://matplotlib.org/stable/gallery/subplots_axes_and_figures/mosaic.html?source=post_page-----3f6efce356b9--------------------------------#string-short-hand)

# ç»“è®º

åœ¨è¿™ç¯‡åšå®¢æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬æ¢è®¨äº†åœ¨ Matplotlib ä¸­ä½¿ç”¨`Figure.subplot_mosaic()`ç›¸è¾ƒäº`fig.subplots()`çš„ä¼˜åŠ¿ã€‚å‰è€…åœ¨ç»„ç»‡å­å›¾æ–¹é¢æä¾›äº†æ›´é«˜çš„çµæ´»æ€§ï¼Œå…¶å®šä½è¯­æ³•ç‰¹åˆ«ç›´è§‚ï¼Œä»è€Œä½¿æ•°æ®ç§‘å­¦å®¶å’Œå¯è§†åŒ–çˆ±å¥½è€…èƒ½å¤Ÿè½»æ¾åˆ›å»ºå¤æ‚å’Œå®šåˆ¶åŒ–çš„å¸ƒå±€ã€‚è¿™ä¸€åŠŸèƒ½è®©æˆ‘æƒ³èµ·äº†æˆ‘æœ€åˆæ¥è§¦ Python çš„ `f-strings`ã€‚åœ¨ f-strings æ¨å‡ºä¹‹å‰ï¼Œæˆ‘ä¸»è¦ä½¿ç”¨`%-formatting`å’Œ`str.format`æ–¹æ³•è¿›è¡Œå­—ç¬¦ä¸²æ ¼å¼åŒ–ã€‚è™½ç„¶è¿™äº›æ–¹æ³•æ˜¯æœ‰æ•ˆçš„ï¼Œä½†å¹¶ä¸ç‰¹åˆ«ç›´è§‚ã€‚ç„¶è€Œï¼Œè‡ªä»å¼•å…¥`f-strings`ä»¥æ¥ï¼Œæˆ‘çš„ç¼–ç ä½“éªŒæ˜¾è‘—æ”¹å–„â€”â€”å°±åƒæˆ‘ä½¿ç”¨`Figure.subplot_mosaic()`çš„ç»å†ä¸€æ ·ğŸ‘©â€ğŸ’»ğŸ˜ƒ

![](https://pandeyparul.medium.com/subscribe)
