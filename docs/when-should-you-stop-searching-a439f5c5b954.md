# 你应该在什么时候停止寻找？

> 原文：[https://towardsdatascience.com/when-should-you-stop-searching-a439f5c5b954?source=collection_archive---------3-----------------------#2023-03-31](https://towardsdatascience.com/when-should-you-stop-searching-a439f5c5b954?source=collection_archive---------3-----------------------#2023-03-31)

![](../Images/ff8671880271de8dd553eecc71b4b525.png)

停车，图像来源于 Dall-E 2。

## 关于最优停止的介绍以及它如何与数据科学相关

[](https://hennie-de-harder.medium.com/?source=post_page-----a439f5c5b954--------------------------------)[![Hennie de Harder](../Images/3e4f2cccd6cb976ca3f8bf15597daea8.png)](https://hennie-de-harder.medium.com/?source=post_page-----a439f5c5b954--------------------------------)[](https://towardsdatascience.com/?source=post_page-----a439f5c5b954--------------------------------)[![Towards Data Science](../Images/a6ff2676ffcc0c7aad8aaf1d79379785.png)](https://towardsdatascience.com/?source=post_page-----a439f5c5b954--------------------------------) [Hennie de Harder](https://hennie-de-harder.medium.com/?source=post_page-----a439f5c5b954--------------------------------)

·

[关注](https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Ffb96be98b7b9&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwhen-should-you-stop-searching-a439f5c5b954&user=Hennie+de+Harder&userId=fb96be98b7b9&source=post_page-fb96be98b7b9----a439f5c5b954---------------------post_header-----------) 发表在 [Towards Data Science](https://towardsdatascience.com/?source=post_page-----a439f5c5b954--------------------------------) ·10分钟阅读·2023年3月31日[](https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fa439f5c5b954&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwhen-should-you-stop-searching-a439f5c5b954&user=Hennie+de+Harder&userId=fb96be98b7b9&source=-----a439f5c5b954---------------------clap_footer-----------)

--

[](https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fa439f5c5b954&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fwhen-should-you-stop-searching-a439f5c5b954&source=-----a439f5c5b954---------------------bookmark_footer-----------)

**在我们的日常生活中，我们经常面临需要做出具有重大影响的决定的挑战。无论是选择职业、寻找停车位、购买房屋，还是决定与谁共度余生，我们总是在不断评估和权衡不同的选项。数学家们用来处理决策的方法之一叫做“最优停止”。**

在这篇文章中，你将了解什么是最优停止，以及如何在不同的实际情况中使用它。可能令人惊讶的是，你作为数据科学家也可以使用它。

让我们考虑一个现实生活中的例子来理解最佳停止。假设你在面试候选人，你有有限的时间面试每个候选人，一旦你面试了一个候选人，你必须决定是否招聘或继续下一个候选人。做出决定后，你不能重新考虑。目标是招聘到最佳候选人。在某一时刻，你无法知道一个候选人是否是最佳的，因为你还没有见过所有候选人！有两种失败的方式：你可能停得太早，或者停得太晚。

![](../Images/cb3ec4163fa38af2af0ac7296a099ec3.png)

随时间变化的候选人。每个候选人之后你决定招聘或不招聘。图片由作者提供。

在上图中，你可以将人员替换为房子、工作机会、狗……实际上是你想做决定的任何事物，并且选择是顺序出现的。作为数据科学家，你可能会在不同领域遇到最佳停止问题，比如医疗保健、营销或金融。

# 什么时候停止？

那么如何做出最佳决策？这就是最佳停止发挥作用的地方。最佳停止是一个数学概念，涉及根据有限的信息找到做决策的最佳时机。有限的信息等于你直到那时所拥有的所有经验。

让我们回到引言中的面试例子。一个常用的策略是先看后跳：对于固定数量的候选人，你先观察。你不招聘，但你收集信息。完成这固定数量的面试后，你招聘第一个比你已见过的所有人都好的候选人。但你应该花多少时间搜索（观察）？我们可以通过模拟问题来轻松测试不同策略的成功率。为了简单起见，我们从3个候选人开始。

在下图中，我们直接招聘（所以没有观察期）。我们只面试起始候选人，并直接招聘。我们有33.3%的机会招聘到最佳候选人（编号1），但也有33.3%的机会招聘到其他候选人（编号2或3）：

![](../Images/3736afe5e74a0774e473379ca24ee490.png)

场景1：不观察，直接跳过。图片由作者提供。

我们的第二个选项是不要招聘我们面试的第一个候选人（观察），然后如果第二个候选人比第一个更好，则招聘第二个候选人。如果第二个候选人不比第一个更好，我们会自动选择最后一个候选人。这个策略成功吗？这是在这种情况下发生的情况（橙色点是已招聘）：

![](../Images/913d19a36673c44b6b8a9df9b39a6b1a.png)

场景2：不招聘第一个候选人，然后如果下一个更好则招聘，否则招聘最后一个。图片由作者提供。

现在我们在50%的可能序列中招聘到最佳候选人！而我们只有在6分之一的情况下招聘到最差候选人，而不是三分之一。

最终的情境是我们不聘用前两名候选人，这意味着我们总是会得到最后一名候选人。这与情境一一样好，因为在这种情况下，我们会在三次中有一次得到最佳候选人。但等等……在这种情境下我们花费了更多的时间进行面试！这确实如此，这也是为什么大多数人会更喜欢情境1而不是情境3。在三个候选人的情况下，我们的最佳停止点是面试一个候选人之后，即33.3%的所有候选人（情境2）。

如果我们增加候选人的池子会发生什么？对于给定的候选人数，我们可以通过模拟计算最佳的停止百分比。下图对此进行了可视化：

![](../Images/dc6fe9ac9a857bab8b18abeecdfd908c.png)

跳跃前查看的候选人百分比。每个候选人和查看组合的100000次试验的模拟。图片由作者提供。

精确地说：在这个问题中选择最佳候选人的概率会收敛到1/e，约为0.368。

我们还可以计算如果坚持上述图表中的查看百分比，我们聘用最佳候选人的百分比：

![](../Images/6fa1ea28366a212fd46ac6ec6e534f69.png)

如果你坚持最佳查看百分比，你聘用最佳候选人的百分比。再次基于模拟。图片由作者提供。

37在这里似乎是魔法数字！好消息是：你也可以将这一点应用于时间。如果你有时间限制，可以将总时间的37%用于寻找，然后选择下一个最好的候选人。

这种方法有一些缺点：如果在寻找阶段已经面试了最佳人选，你最终会自动得到你面试的最后一位候选人。而这可能是最差的候选人！此外，你还需要花费几个小时或几天的时间来面试每一个人，尤其是当候选人数较多时。我们应该将搜索成本纳入我们的模型中。

# 搜索在现实生活中是如何运作的？

就像许多数学模型一样，将37%的规则直接应用于现实生活中可能会很困难。在现实生活中，规则并不明确，而且搜索是有成本的。

在面试示例中，我们假设在面试候选人之前我们对他们一无所知（无信息）。但这在现实生活中相当不切实际：你有简历、LinkedIn页面，也许还有案例研究或问卷，因此你可以在面试开始之前就开始比较候选人。我们在第一个示例中另一个假设是候选人总是接受录用通知。并且我们不能回到早期的候选人。在实际的面试设置中，你可以面试多个候选人，并在面试了一些之后决定哪个最合适。

对于这些情况，你可以将知识添加到模型中，看看这会如何影响你的决策。我们来逐一看看它们。

## 无信息 vs. 完整信息

在博弈论中，有不完全信息和完全信息的概念。假设你了解候选人的能力，并且可以将他们放在一个百分位数中。在这种情况下，你可以使用一个百分位数阈值来决定是否应该聘用候选人，具体取决于他们被面试的时间：

![](../Images/2f925fa498491b0cce0b360482d465b0.png)

如果总共有10名候选人，则第n名候选人的聘用阈值。图片由作者提供。

在所有面试中，你会变得越来越不挑剔，因为随着你接近候选人名单的尾声，出现更好候选人的机会会变得越来越小。

## 拒绝与回到之前的候选人

在现实生活中，候选人可能会拒绝邀请。特别是那些收到更多邀请的候选人（这些候选人通常更优秀）。如果候选人拒绝邀请的可能性很高，我们应该改变我们的策略。

我们在现实生活中的另一个选项是回到我们已经面试过的候选人。在这种情况下，我们可以面试更多的候选人，并且回到之前被拒绝的某个人那里提出邀请。

如果允许回退，但在*第二次报价时有50%的拒绝概率*，则观察阶段应为61%，而不是37%。在这种情况下，聘用最佳候选人的概率也会增加到61%。

![](../Images/9e500f47d69fd2d721db223e3fa9d428.png)

当第二次报价的拒绝概率为50%时，寻找61%。图片由作者提供。

## 我不需要最好的，只要一个好的就行。

另一个有趣的变体是：如果你并不特别关注最佳候选人，而是想要一个比大多数人更优秀的候选人？或者你想要两个最佳候选人中的一个？

在这种情况下，最优策略有点类似于寻找最佳候选人时的策略。你开始时设定基准：观察并且不聘用。然后，在下一个阶段，如果出现新的最佳候选人则停止。如果在那个阶段没有找到最佳候选人，那么在下一个阶段，如果出现*最佳*或*第二佳*的候选人则停止。这个过程会持续到你遇到最终候选人。

![](../Images/4864a86f7cfc042bdafe47c42a64d3c0.png)

如果有七个候选人，而你想聘用两个最佳候选人中的一个，使用这个策略。图片由作者提供。

# 最优停止与数据科学

在不同的方式中，最优停止与数据科学有关。最直接的方法有：用数据科学解决最优停止问题，以及在数据科学项目中使用最优停止。

## 用数据科学解决最优停止问题

对于有限时间范围内，[动态规划](https://en.wikipedia.org/wiki/Dynamic_programming)是解决最优停止问题的最简单方法。在确定当前选项的价值时，可以使用不同的数据科学方法：

1.  **最小二乘蒙特卡洛（LSMC）**

    一个有趣的现实应用是金融市场中的期权交易。在到期日前，期权持有人有权以预定价格买入或卖出标的资产。LSMC使用路径模拟来评估当前期权，这有助于决策（买入或卖出）。

1.  **强化学习**

    使用深度Q学习来确定最优停止问题中的最佳策略也是可能的。[这篇论文](https://arxiv.org/abs/2101.09682)解释了这一点，并说明了与LSMC相比使用它的好处。

1.  **深度学习** 神经网络可以通过不同方式解决最优停止问题。当然如上所述在深度Q学习中，也可以通过预测在合适停止时间点的预期收益。另一种实现方式是调整神经网络的参数，从而表达不同的随机停止时间。

1.  **树和可解释性** 许多最优停止算法的一个缺点是可解释性：解释它所做出的决策可能很困难。在某些情况下这不是问题，但在其他情况下可能是。可解释性有其好处，因为你可以从模型中学习并看到当前状态与行动之间的联系。在[这篇论文](https://pubsonline.informs.org/doi/10.1287/mnsc.2020.3592)中，研究人员创建了一个树模型作为策略，以实现可解释性。

## 在数据科学项目中使用最优停止理论

最优停止问题无处不在：在医疗、金融、管理等领域。最优停止对数据科学家也可能相关。为什么？因为它提供了一个框架，用于决策何时停止数据收集或在问题空间中寻找最佳解决方案。在许多数据科学问题中，收集额外的数据或探索更多选项可能既耗时又昂贵，或者两者兼有。你可以选择确定最优停止点，以最小化成本并最大化获得的信息价值。

在营销中，数据科学家可能会遇到最优停止问题。假设你有一个固定的产品库存，想在一定时间内销售该产品。通过价格促销，你可以影响人们的购买行为。在这种情况下，剩余库存可以决定你是否应该停止促销以最大化利润，或者继续进行促销。

![](../Images/cb486910a26a74d0e67371118118f7ed.png)

营销示例：根据库存水平在固定时间段后决定是否继续或停止对某一产品的促销。目标是最大化利润。图片由作者提供。

在医疗保健领域，你也可以找到最佳停止问题。一个例子是等待器官移植的患者。与器官相关的患者价值通过估计的质量调整生命年（QALYs）来衡量，这些QALYs是患者如果移植发生将获得的。数据科学家的目标是找到一个政策，以最大化QALYs。

![](../Images/106e8fd1097e98a2369d30a4dc7310dd.png)

Dall-E 2生成的另一个停车场。

# 结论

下次你需要做决定时，希望你能利用这篇文章中的一些技巧！如果过程类似于面试的例子，比如当你想买房时，花37%的时间来观察，然后选择下一个最佳的房子。如果两个最好的房子中有一个足够好，你也可以在两个寻找最佳的阶段后选择迄今为止看到的第二好房子。

为了回答所有问题：当你寻找停车位时，有哪些规则？在停车时，存在寻找好位置的时间与从停车位到最终目的地之间的步行时间之间的权衡。在这种情况下，一切都取决于占用率。如果占用率为50%，你可以继续开车，直到尽可能靠近你的目的地。但如果占用率为98%，你应该在距离目的地35个车位时，选择你看到的下一个空位。

研究表明，人们在现实生活中会比最佳停止百分比37%更早停止。也许原因是之前提到的一些现实生活中的复杂因素，比如搜索成本或第二好的选择也足够好。作为数据科学家，如果你处理的是最佳停止问题，可以利用数据科学。你也可以使用最佳停止理论在最佳时点停止搜索。

## 相关

[](/solving-multi-armed-bandit-problems-53c73940244a?source=post_page-----a439f5c5b954--------------------------------) [## 解决多臂赌博机问题

### 一种强大而简单的应用强化学习的方法。

[towardsdatascience.com](/solving-multi-armed-bandit-problems-53c73940244a?source=post_page-----a439f5c5b954--------------------------------) [](/solving-nonograms-with-120-lines-of-code-a7c6e0f627e4?source=post_page-----a439f5c5b954--------------------------------) [## 用120行代码解决非ogram问题

### 拼图、组合和解决方案动图。

[towardsdatascience.com](/solving-nonograms-with-120-lines-of-code-a7c6e0f627e4?source=post_page-----a439f5c5b954--------------------------------) [](/snake-played-by-a-deep-reinforcement-learning-agent-53f2c4331d36?source=post_page-----a439f5c5b954--------------------------------) [## 深度强化学习代理玩蛇游戏

### 带有搞笑花絮

[towardsdatascience.com](/snake-played-by-a-deep-reinforcement-learning-agent-53f2c4331d36?source=post_page-----a439f5c5b954--------------------------------)
