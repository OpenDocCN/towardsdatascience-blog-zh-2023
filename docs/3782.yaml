- en: A Killer Fix for Scrunched Axes, Step-by-step
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: è§£å†³å‹ç¼©è½´çš„ç»ˆæä¿®å¤ï¼Œé€æ­¥æŒ‡å¯¼
- en: åŸæ–‡ï¼š[https://towardsdatascience.com/unscrunch-your-axes-with-easy-multiscale-data-visualization-in-matplotlib-69a30e96c68f?source=collection_archive---------8-----------------------#2023-12-29](https://towardsdatascience.com/unscrunch-your-axes-with-easy-multiscale-data-visualization-in-matplotlib-69a30e96c68f?source=collection_archive---------8-----------------------#2023-12-29)
  id: totrans-1
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: åŸæ–‡ï¼š[https://towardsdatascience.com/unscrunch-your-axes-with-easy-multiscale-data-visualization-in-matplotlib-69a30e96c68f?source=collection_archive---------8-----------------------#2023-12-29](https://towardsdatascience.com/unscrunch-your-axes-with-easy-multiscale-data-visualization-in-matplotlib-69a30e96c68f?source=collection_archive---------8-----------------------#2023-12-29)
- en: Make beautiful multi-scale plots with matplotlib in 3 easy steps.
  id: totrans-2
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: ä½¿ç”¨ matplotlib åˆ¶ä½œç¾ä¸½çš„å¤šå°ºåº¦å›¾è¡¨ï¼Œåªéœ€ä¸‰æ­¥å³å¯å®Œæˆã€‚
- en: '[](https://medium.com/@mmore500?source=post_page-----69a30e96c68f--------------------------------)[![Matthew
    Andres Moreno](../Images/ca7da9fd9e5c744ee0ebd2aa5d979eb5.png)](https://medium.com/@mmore500?source=post_page-----69a30e96c68f--------------------------------)[](https://towardsdatascience.com/?source=post_page-----69a30e96c68f--------------------------------)[![Towards
    Data Science](../Images/a6ff2676ffcc0c7aad8aaf1d79379785.png)](https://towardsdatascience.com/?source=post_page-----69a30e96c68f--------------------------------)
    [Matthew Andres Moreno](https://medium.com/@mmore500?source=post_page-----69a30e96c68f--------------------------------)'
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: '[](https://medium.com/@mmore500?source=post_page-----69a30e96c68f--------------------------------)[![Matthew
    Andres Moreno](../Images/ca7da9fd9e5c744ee0ebd2aa5d979eb5.png)](https://medium.com/@mmore500?source=post_page-----69a30e96c68f--------------------------------)[](https://towardsdatascience.com/?source=post_page-----69a30e96c68f--------------------------------)[![Towards
    Data Science](../Images/a6ff2676ffcc0c7aad8aaf1d79379785.png)](https://towardsdatascience.com/?source=post_page-----69a30e96c68f--------------------------------)
    [Matthew Andres Moreno](https://medium.com/@mmore500?source=post_page-----69a30e96c68f--------------------------------)'
- en: Â·
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: Â·
- en: '[Follow](https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Ff226f1e0484b&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Funscrunch-your-axes-with-easy-multiscale-data-visualization-in-matplotlib-69a30e96c68f&user=Matthew+Andres+Moreno&userId=f226f1e0484b&source=post_page-f226f1e0484b----69a30e96c68f---------------------post_header-----------)
    Published in [Towards Data Science](https://towardsdatascience.com/?source=post_page-----69a30e96c68f--------------------------------)
    Â·8 min readÂ·Dec 29, 2023[](https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F69a30e96c68f&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Funscrunch-your-axes-with-easy-multiscale-data-visualization-in-matplotlib-69a30e96c68f&user=Matthew+Andres+Moreno&userId=f226f1e0484b&source=-----69a30e96c68f---------------------clap_footer-----------)'
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: '[é˜…è¯»æ›´å¤š](https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Ff226f1e0484b&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Funscrunch-your-axes-with-easy-multiscale-data-visualization-in-matplotlib-69a30e96c68f&user=Matthew+Andres+Moreno&userId=f226f1e0484b&source=post_page-f226f1e0484b----69a30e96c68f---------------------post_header-----------)
    å‘è¡¨åœ¨ [Towards Data Science](https://towardsdatascience.com/?source=post_page-----69a30e96c68f--------------------------------)
    Â·8åˆ†é’Ÿé˜…è¯»Â·2023å¹´12æœˆ29æ—¥[](https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F69a30e96c68f&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Funscrunch-your-axes-with-easy-multiscale-data-visualization-in-matplotlib-69a30e96c68f&user=Matthew+Andres+Moreno&userId=f226f1e0484b&source=-----69a30e96c68f---------------------clap_footer-----------)'
- en: --
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: --
- en: '[](https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F69a30e96c68f&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Funscrunch-your-axes-with-easy-multiscale-data-visualization-in-matplotlib-69a30e96c68f&source=-----69a30e96c68f---------------------bookmark_footer-----------)'
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: '[](https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F69a30e96c68f&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Funscrunch-your-axes-with-easy-multiscale-data-visualization-in-matplotlib-69a30e96c68f&source=-----69a30e96c68f---------------------bookmark_footer-----------)'
- en: Large-magnitude outliers, tiny features, and sharp spikes are common frustrations
    to data visualization. All three can make visual details illegible by scrunching
    plot components into too small an area.
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: å¤§å¹…åº¦çš„å¼‚å¸¸å€¼ã€ç»†å¾®ç‰¹å¾å’Œå°–é”çš„å°–å³°å¸¸å¸¸è®©æ•°æ®å¯è§†åŒ–å˜å¾—ä»¤äººæ²®ä¸§ã€‚è¿™ä¸‰è€…éƒ½å¯èƒ½é€šè¿‡å°†å›¾è¡¨ç»„ä»¶å‹ç¼©åˆ°è¿‡å°çš„åŒºåŸŸï¼Œä½¿è§†è§‰ç»†èŠ‚å˜å¾—éš¾ä»¥è¾¨è¯†ã€‚
- en: Sometimes a fix can be had by simply excluding unruly data. When including such
    data is chief to a question at hand, applying a log scale to axes can realign
    spacing for better separation among lower magnitude data. This approach can only
    go so far, however.
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: æœ‰æ—¶ï¼Œé€šè¿‡ç®€å•åœ°æ’é™¤ä¸å—æ§çš„æ•°æ®å¯ä»¥è§£å†³é—®é¢˜ã€‚å½“åŒ…å«è¿™äº›æ•°æ®å¯¹äºå½“å‰é—®é¢˜è‡³å…³é‡è¦æ—¶ï¼Œåº”ç”¨å¯¹æ•°åˆ»åº¦å¯ä»¥é‡æ–°è°ƒæ•´è½´çš„é—´è·ï¼Œä»è€Œæ›´å¥½åœ°åˆ†éš”ä½å¹…åº¦æ•°æ®ã€‚ç„¶è€Œï¼Œè¿™ç§æ–¹æ³•ä¹Ÿåªèƒ½èµ·åˆ°ä¸€å®šçš„ä½œç”¨ã€‚
- en: 'In this article, weâ€™ll take a look at another option: zoom plots, which augment
    a visualization with panels providing magnified views of areas of interest.'
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬å°†çœ‹çœ‹å¦ä¸€ç§é€‰æ‹©ï¼šç¼©æ”¾å›¾ï¼Œå®ƒé€šè¿‡é¢æ¿æä¾›æ„Ÿå…´è¶£åŒºåŸŸçš„æ”¾å¤§è§†å›¾æ¥å¢å¼ºå¯è§†åŒ–ã€‚
- en: '![](../Images/5370b3e871481ed907dae7499479456f.png)'
  id: totrans-11
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/5370b3e871481ed907dae7499479456f.png)'
- en: The visualizations weâ€™ll be building in this tutorial.
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬å°†åœ¨æœ¬æ•™ç¨‹ä¸­æ„å»ºçš„å¯è§†åŒ–ã€‚
- en: Zoom plots are commonly arranged as inserts into the main plot, but can also
    be combined as a lattice with the original plot. Weâ€™ll delve into both.
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: ç¼©æ”¾å›¾é€šå¸¸ä½œä¸ºä¸»å›¾çš„æ’å›¾æ¥æ’åˆ—ï¼Œä½†ä¹Ÿå¯ä»¥ä¸åŸå§‹å›¾ç»„åˆæˆç½‘æ ¼ã€‚æˆ‘ä»¬å°†æ·±å…¥æ¢è®¨è¿™ä¸¤ç§æ–¹æ³•ã€‚
- en: This article provides a code-oriented tutorial on how to use *matplotlib* with
    specialized tools from the *outset* library to construct zoom plots. Weâ€™ll build
    a visualization of rainfall data from Texas made available by [Evett et al. via
    the USDA](https://doi.org/10.15482/USDA.ADC/1528713). This data set comprises
    a full year of rain gauge readings from two nearby sites, taken at 15 minute intervals.
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: æœ¬æ–‡æä¾›äº†ä¸€ä¸ªä»£ç å¯¼å‘çš„æ•™ç¨‹ï¼Œè®²è§£å¦‚ä½•ä½¿ç”¨*matplotlib*å’Œ*outset*åº“ä¸­çš„ä¸“ä¸šå·¥å…·æ¥æ„å»ºç¼©æ”¾å›¾ã€‚æˆ‘ä»¬å°†æ„å»ºä¸€ä¸ªå…³äºå¾·å…‹è¨æ–¯å·é™é›¨æ•°æ®çš„å¯è§†åŒ–ï¼Œè¯¥æ•°æ®ç”±[Evett
    ç­‰äººé€šè¿‡ USDA æä¾›](https://doi.org/10.15482/USDA.ADC/1528713)ã€‚è¯¥æ•°æ®é›†åŒ…æ‹¬æ¥è‡ªä¸¤ä¸ªç›¸é‚»åœ°ç‚¹çš„ä¸€æ•´å¹´é›¨é‡è¯»æ•°ï¼Œé—´éš”ä¸º
    15 åˆ†é’Ÿã€‚
- en: The short duration of rain events and extreme intensity of the heaviest rainfall
    complicates matters. Throwing a monthâ€™s worth of Evett et al.â€™s rainfall data
    into a simple line plot of reveals the visualization problem weâ€™re up against.
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: çŸ­æ—¶é—´çš„é™é›¨äº‹ä»¶å’Œæœ€å¼ºé™é›¨çš„æç«¯å¼ºåº¦ä½¿é—®é¢˜å¤æ‚åŒ–ã€‚å°†ä¸€ä¸ªæœˆçš„ Evett ç­‰äººçš„é™é›¨æ•°æ®æ”¾å…¥ä¸€ä¸ªç®€å•çš„æŠ˜çº¿å›¾ä¸­ï¼Œæ­ç¤ºäº†æˆ‘ä»¬é¢ä¸´çš„å¯è§†åŒ–é—®é¢˜ã€‚
- en: '![](../Images/143b9139676aafd9b459dfcbac2eb94c.png)'
  id: totrans-16
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/143b9139676aafd9b459dfcbac2eb94c.png)'
- en: Weâ€™ve certainly got some work to do to nice this up! In our visualization, weâ€™ll
    focus on recovering three particular components of the data.
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬è¿˜æœ‰ä¸å°‘å·¥ä½œè¦åšæ¥ç¾åŒ–è¿™ä¸ªå›¾è¡¨ï¼åœ¨æˆ‘ä»¬çš„å¯è§†åŒ–ä¸­ï¼Œæˆ‘ä»¬å°†é‡ç‚¹æ¢å¤æ•°æ®çš„ä¸‰ä¸ªç‰¹å®šç»„ä»¶ã€‚
- en: the little shower around day 72,
  id: totrans-18
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: ç¬¬ 72 å¤©é™„è¿‘çš„å°é›¨ï¼Œ
- en: the big rainstorm around day 82, and
  id: totrans-19
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: ç¬¬ 82 å¤©é™„è¿‘çš„å¤§æš´é›¨ï¼Œä»¥åŠ
- en: light precipitation events over the course of the entire month.
  id: totrans-20
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: æ•´ä¸ªæœˆçš„è½»åº¦é™æ°´äº‹ä»¶ã€‚
- en: To better show these details, weâ€™ll create a zoom panel for each.
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸ºäº†æ›´å¥½åœ°å±•ç¤ºè¿™äº›ç»†èŠ‚ï¼Œæˆ‘ä»¬å°†ä¸ºæ¯ä¸ªç»†èŠ‚åˆ›å»ºä¸€ä¸ªç¼©æ”¾é¢æ¿ã€‚
- en: Our plan is laid out, so letâ€™s get into the code ğŸ‘
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: è®¡åˆ’å·²ç»åˆ¶å®šå¥½ï¼Œæ¥ä¸‹æ¥å¼€å§‹ç¼–å†™ä»£ç  ğŸ‘
- en: 'Step 0: Get Data'
  id: totrans-23
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: ç¬¬é›¶æ­¥ï¼šè·å–æ•°æ®
- en: Fetch the rain gauge records via the [Open Science Framework](https://osf.io).
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: é€šè¿‡[å¼€æ”¾ç§‘å­¦æ¡†æ¶](https://osf.io)è·å–é›¨é‡è®°å½•ã€‚
- en: '[PRE0]'
  id: totrans-25
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: Hereâ€™s a peek at the data.
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™é‡Œæ˜¯æ•°æ®çš„é¢„è§ˆã€‚
- en: '[PRE1]'
  id: totrans-27
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: Before moving on, some minor preparatory chores.
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨ç»§ç»­ä¹‹å‰ï¼Œå…ˆåšä¸€äº›å°çš„å‡†å¤‡å·¥ä½œã€‚
- en: '[PRE2]'
  id: totrans-29
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: In the code above, weâ€™ve created more detailed column names and subset the data
    down to a single month
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œæˆ‘ä»¬åˆ›å»ºäº†æ›´è¯¦ç»†çš„åˆ—åï¼Œå¹¶å°†æ•°æ®å­é›†åŒ–ä¸ºä¸€ä¸ªæœˆä»½çš„æ•°æ®
- en: 'Step 1: Axes Grid'
  id: totrans-31
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: ç¬¬ä¸€æ­¥ï¼šåæ ‡è½´ç½‘æ ¼
- en: Our first plotting step is to initialize an `outset.OutsetG[rid](https://seaborn.pydata.org/generated/seaborn.FacetGrid.html)`
    instance to manage our latice of magnification plots. This class operates analogously
    to [seabornâ€™s](https://seaborn.pydata.org/generated/seaborn.FacetGrid.html) `[FacetGrid](https://seaborn.pydata.org/generated/seaborn.FacetGrid.html)`,
    which facilitates construction of standard lattice plots by breaking data across
    axes based on a categorical variable.
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬çš„ç¬¬ä¸€ä¸ªç»˜å›¾æ­¥éª¤æ˜¯åˆå§‹åŒ–ä¸€ä¸ª`outset.OutsetGrid`å®ä¾‹æ¥ç®¡ç†æˆ‘ä»¬æ”¾å¤§å›¾çš„ç½‘æ ¼ã€‚è¿™ä¸ªç±»ç±»ä¼¼äº[seaborn çš„](https://seaborn.pydata.org/generated/seaborn.FacetGrid.html)`[FacetGrid](https://seaborn.pydata.org/generated/seaborn.FacetGrid.html)`ï¼Œå®ƒé€šè¿‡åŸºäºåˆ†ç±»å˜é‡å°†æ•°æ®åˆ†å¸ƒåˆ°åæ ‡è½´ä¸Šï¼Œä»è€Œæ–¹ä¾¿åœ°æ„å»ºæ ‡å‡†çš„ç½‘æ ¼å›¾ã€‚
- en: '`OutsetGrid` differs from `FacetGrid`, though, in that in addition to axes
    with faceted data it prepares an initial â€œsourceâ€ axes containing all data together.
    Further, `OutsetGrid` includes tools to automatically generate â€œmarqueeâ€ annotations
    that show how magnifications correspond to the original plot. The schematic below
    overviews `OutsetGrid`â€™s plotting model.'
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: '`OutsetGrid`ä¸`FacetGrid`ä¸åŒï¼Œå®ƒä¸ä»…åŒ…æ‹¬å…·æœ‰åˆ†é¢æ•°æ®çš„åæ ‡è½´ï¼Œè¿˜å‡†å¤‡äº†ä¸€ä¸ªåŒ…å«æ‰€æœ‰æ•°æ®çš„åˆå§‹â€œæºâ€åæ ‡è½´ã€‚æ­¤å¤–ï¼Œ`OutsetGrid`åŒ…æ‹¬å·¥å…·æ¥è‡ªåŠ¨ç”Ÿæˆâ€œæ ‡è®°â€æ³¨é‡Šï¼Œæ˜¾ç¤ºæ”¾å¤§å›¾ä¸åŸå§‹å›¾çš„å¯¹åº”å…³ç³»ã€‚ä¸‹é¢çš„ç¤ºæ„å›¾æ¦‚è¿°äº†`OutsetGrid`çš„ç»˜å›¾æ¨¡å‹ã€‚'
- en: '![](../Images/56239047a77afcac5bc4370ecafed942.png)'
  id: totrans-34
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/56239047a77afcac5bc4370ecafed942.png)'
- en: Getting back to our example, weâ€™ll construct an `OutsetGrid` by providing a
    list of the main plot regions we want to magnify through the `data`kwarg. Subsequent
    kwargs provide styling and layout information.
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: å›åˆ°æˆ‘ä»¬çš„ç¤ºä¾‹ï¼Œæˆ‘ä»¬å°†é€šè¿‡æä¾›æˆ‘ä»¬å¸Œæœ›æ”¾å¤§çš„ä¸»è¦ç»˜å›¾åŒºåŸŸçš„åˆ—è¡¨æ¥æ„å»ºä¸€ä¸ª`OutsetGrid`ï¼Œè¯¥åˆ—è¡¨é€šè¿‡`data`å‚æ•°ä¼ é€’ã€‚éšåçš„å‚æ•°æä¾›æ ·å¼å’Œå¸ƒå±€ä¿¡æ¯ã€‚
- en: '[PRE3]'
  id: totrans-36
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: Here weâ€™ve specified a wider-than-tall aspect ratio for subplots and how many
    columns we want to have.
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™é‡Œæˆ‘ä»¬ä¸ºå­å›¾æŒ‡å®šäº†å®½äºé«˜çš„çºµæ¨ªæ¯”ï¼Œå¹¶å†³å®šäº†æˆ‘ä»¬æƒ³è¦çš„åˆ—æ•°ã€‚
- en: '![](../Images/a750c4529b72b3719f598328707dbedc.png)'
  id: totrans-38
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/a750c4529b72b3719f598328707dbedc.png)'
- en: Our axes grid is set up, weâ€™re ready for the next step.
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬çš„è½´ç½‘å·²ç»è®¾ç½®å¥½ï¼Œæˆ‘ä»¬å‡†å¤‡å¥½è¿›å…¥ä¸‹ä¸€æ­¥ã€‚
- en: 'Step 2: Plot Content'
  id: totrans-40
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: ç¬¬ 2 æ­¥ï¼šç»˜å›¾å†…å®¹
- en: Itâ€™s time to put some content on our axes.
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: æ˜¯æ—¶å€™åœ¨æˆ‘ä»¬çš„è½´ä¸Šæ·»åŠ ä¸€äº›å†…å®¹äº†ã€‚
- en: We can use area plots to co-visualize our rain gaugesâ€™ readings. (For those
    unfamiliar, area plots are just line plots with a fill down to the *x* axis.)
    Applying a transparency effect will elegantly show where the gauges agree â€” and
    where they donâ€™t.
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬å¯ä»¥ä½¿ç”¨åŒºåŸŸå›¾æ¥å…±åŒå¯è§†åŒ–æˆ‘ä»¬çš„é›¨é‡è®¡è¯»æ•°ã€‚ï¼ˆå¯¹é‚£äº›ä¸ç†Ÿæ‚‰çš„äººï¼ŒåŒºåŸŸå›¾å°±æ˜¯å¡«å……åˆ° *x* è½´çš„æŠ˜çº¿å›¾ã€‚ï¼‰åº”ç”¨é€æ˜æ•ˆæœå°†ä¼˜é›…åœ°æ˜¾ç¤ºå‡ºæµ‹é‡ä»ªä¸€è‡´çš„åœ°æ–¹â€”â€”ä»¥åŠä¸ä¸€è‡´çš„åœ°æ–¹ã€‚
- en: We can harness *matplotlib*â€™s `stackplot`to draw our overlapped area plots.
    Although designed to create plots with areas â€œstackedâ€ on top of each other, we
    can get overlapped areas by splitting out two calls to the plotterâ€” one for each
    gauge.
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬å¯ä»¥åˆ©ç”¨ *matplotlib* çš„ `stackplot` æ¥ç»˜åˆ¶é‡å çš„åŒºåŸŸå›¾ã€‚è™½ç„¶ *stackplot* è®¾è®¡ç”¨äºåˆ›å»ºâ€œå †å â€åœ¨å½¼æ­¤ä¹‹ä¸Šçš„åŒºåŸŸå›¾ï¼Œä½†æˆ‘ä»¬å¯ä»¥é€šè¿‡å¯¹ç»˜å›¾å·¥å…·è¿›è¡Œä¸¤æ¬¡è°ƒç”¨æ¥è·å¾—é‡å åŒºåŸŸâ€”â€”æ¯æ¬¡è°ƒç”¨ä¸€ä¸ªæµ‹é‡ä»ªã€‚
- en: To draw this same content across all four axes of the grid, we will use `OutsetGrid`â€™s
    `broadcast` method. This method takes a plotter function as its first argument
    then calls it on each axis using any subsequent arguments.
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸ºäº†åœ¨ç½‘æ ¼çš„æ‰€æœ‰å››ä¸ªè½´ä¸Šç»˜åˆ¶ç›¸åŒçš„å†…å®¹ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ `OutsetGrid` çš„ `broadcast` æ–¹æ³•ã€‚è¯¥æ–¹æ³•å°†ç»˜å›¾å‡½æ•°ä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°ï¼Œç„¶ååœ¨æ¯ä¸ªè½´ä¸Šè°ƒç”¨å®ƒï¼Œä½¿ç”¨ä»»ä½•åç»­å‚æ•°ã€‚
- en: '[PRE4]'
  id: totrans-45
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: For better contrast against background fills, weâ€™ll also use `broadcast` to
    add white underlay around the stackplots.
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸ºäº†ä¸èƒŒæ™¯å¡«å……è·å¾—æ›´å¥½çš„å¯¹æ¯”ï¼Œæˆ‘ä»¬è¿˜å°†ä½¿ç”¨ `broadcast` åœ¨å †å å›¾å‘¨å›´æ·»åŠ ç™½è‰²åº•å±‚ã€‚
- en: '[PRE5]'
  id: totrans-47
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: Hereâ€™s how our plot looks before we move on to the next stage.
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: ä»¥ä¸‹æ˜¯æˆ‘ä»¬åœ¨è¿›å…¥ä¸‹ä¸€é˜¶æ®µä¹‹å‰çš„å›¾å½¢æ ·è²Œã€‚
- en: '![](../Images/6607b2bd755e7b9e43f483a51cf61a9a.png)'
  id: totrans-49
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/6607b2bd755e7b9e43f483a51cf61a9a.png)'
- en: Looking good already â€” we can already see magnifications showing up on their
    proper axes at this stage.
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: å·²ç»çœ‹èµ·æ¥ä¸é”™â€”â€”åœ¨æ­¤é˜¶æ®µæˆ‘ä»¬å¯ä»¥çœ‹åˆ°æ”¾å¤§æ˜¾ç¤ºåœ¨æ­£ç¡®çš„è½´ä¸Šã€‚
- en: 'Step 3: Zoom Indicators'
  id: totrans-51
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: ç¬¬ 3 æ­¥ï¼šç¼©æ”¾æŒ‡ç¤ºå™¨
- en: Now itâ€™s time to add zoom indicator boxes, a.k.a. `outset` â€œmarquees,â€ to show
    how the scales of our auxiliary plots relate to the scale of the main plot.
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: ç°åœ¨æ˜¯æ—¶å€™æ·»åŠ ç¼©æ”¾æŒ‡ç¤ºæ¡†ï¼Œä¹Ÿå°±æ˜¯ `outset` çš„â€œæ ‡ç‰Œâ€ï¼Œä»¥æ˜¾ç¤ºæˆ‘ä»¬çš„è¾…åŠ©å›¾çš„å°ºåº¦ä¸ä¸»å›¾çš„å°ºåº¦ä¹‹é—´çš„å…³ç³»ã€‚
- en: '[PRE6]'
  id: totrans-53
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: Note the kwarg passed to allow outset plots to take on different aspect ratios
    from the main plot. This way, outset data can fully expanded to take advantage
    of all available axes space.
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: æ³¨æ„ä¼ é€’ç»™ `outset` ç»˜å›¾çš„ kwargï¼Œä»¥å…è®¸æ’å›¾å›¾å½¢é‡‡ç”¨ä¸ä¸»å›¾ä¸åŒçš„çºµæ¨ªæ¯”ã€‚è¿™æ ·ï¼Œæ’å›¾æ•°æ®å¯ä»¥å®Œå…¨æ‰©å±•ï¼Œä»¥åˆ©ç”¨æ‰€æœ‰å¯ç”¨çš„è½´ç©ºé—´ã€‚
- en: '![](../Images/0391d5d71e232ade77f1bed02bed12dc.png)'
  id: totrans-55
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/0391d5d71e232ade77f1bed02bed12dc.png)'
- en: Weâ€™re most of the way there â€” just a few finishing touches left at this point.
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬å·²ç»å®Œæˆäº†å¤§éƒ¨åˆ†å·¥ä½œâ€”â€”æ­¤æ—¶åªå‰©ä¸‹å‡ ä¸ªæœ€åçš„ä¿®æ•´ã€‚
- en: Et VoilÃ !
  id: totrans-57
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: å°±è¿™æ ·ï¼
- en: Our last business is to add a legend and switch out numeric *x* ticks for proper
    timestamps.
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬æœ€åè¦åšçš„å°±æ˜¯æ·»åŠ ä¸€ä¸ªå›¾ä¾‹ï¼Œå¹¶å°†æ•°å­— *x* åˆ»åº¦æ›´æ¢ä¸ºé€‚å½“çš„æ—¶é—´æˆ³ã€‚
- en: '[PRE7]'
  id: totrans-59
  prefs: []
  type: TYPE_PRE
  zh: '[PRE7]'
- en: With that, the plot is complete.
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™æ ·ï¼Œå›¾å½¢å°±å®Œæˆäº†ã€‚
- en: '![](../Images/3d66037b0c1430570d042b5fa9bd16d1.png)'
  id: totrans-61
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/3d66037b0c1430570d042b5fa9bd16d1.png)'
- en: Thatâ€™s all there is to it, a zoom plot in 3 easy steps.
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: å°±æ˜¯è¿™ä¹ˆç®€å•ï¼Œé€šè¿‡ 3 ä¸ªç®€å•æ­¥éª¤å®Œæˆäº†ç¼©æ”¾å›¾ã€‚
- en: 'Bonus: Want Insets Instead?'
  id: totrans-63
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: é¢å¤–ï¼šæƒ³è¦æ’å›¾è€Œä¸æ˜¯ç¼©æ”¾ï¼Ÿ
- en: We can create insets by rearranging the magnification lattice axes into position
    over the main axes. Hereâ€™s how, using the *outset* libraryâ€™s `inset_outsets` tool.
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬å¯ä»¥é€šè¿‡é‡æ–°æ’åˆ—æ”¾å¤§ç½‘æ ¼è½´çš„ä½ç½®æ¥åˆ›å»ºæ’å›¾ã€‚ä»¥ä¸‹æ˜¯ä½¿ç”¨ *outset* åº“çš„ `inset_outsets` å·¥å…·çš„æ–¹æ³•ã€‚
- en: '[PRE8]'
  id: totrans-65
  prefs: []
  type: TYPE_PRE
  zh: '[PRE8]'
- en: In this case, weâ€™ve also used `outset.util.layout_inset_axes` for fine tuned
    control over inset sizing and positioning.
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬è¿˜ä½¿ç”¨äº† `outset.util.layout_inset_axes` è¿›è¡Œç²¾ç»†è°ƒæ•´ï¼Œä»¥æ§åˆ¶æ’å›¾çš„å¤§å°å’Œä½ç½®ã€‚
- en: '![](../Images/12894e93a41cc6bcce77d9640afac59e.png)'
  id: totrans-67
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/12894e93a41cc6bcce77d9640afac59e.png)'
- en: And just like that, weâ€™ve got three zoom inserts arranged in the upper left
    hand corner.
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: å°±è¿™æ ·ï¼Œæˆ‘ä»¬åœ¨å·¦ä¸Šè§’æ’åˆ—äº†ä¸‰ä¸ªç¼©æ”¾æ’å›¾ã€‚
- en: Further Information
  id: totrans-69
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: è¿›ä¸€æ­¥çš„ä¿¡æ¯
- en: Thereâ€™s a lot more you can do with *outset*.
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: ä½ å¯ä»¥ç”¨ *outset* åšå¾ˆå¤šå…¶ä»–äº‹æƒ…ã€‚
- en: '![](../Images/53f3e996096a873d38afdce8cfcf3737.png)'
  id: totrans-71
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/53f3e996096a873d38afdce8cfcf3737.png)'
- en: In addition to explicit zoom area specification, the *outset* library also provides
    a *seaborn*-like data-oriented API to infer zoom inserts containing categorical
    subsets of a dataframe. Extensive styling and layout customization options are
    also available.
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: é™¤äº†æ˜ç¡®çš„ç¼©æ”¾åŒºåŸŸæŒ‡å®šï¼Œ*outset* åº“è¿˜æä¾›äº†ç±»ä¼¼äº *seaborn* çš„æ•°æ®å¯¼å‘ APIï¼Œä»¥æ¨æ–­åŒ…å«æ•°æ®æ¡†æ¶åˆ†ç±»å­é›†çš„ç¼©æ”¾æ’å›¾ã€‚è¿˜æä¾›äº†å¹¿æ³›çš„æ ·å¼å’Œå¸ƒå±€è‡ªå®šä¹‰é€‰é¡¹ã€‚
- en: Hereâ€™s a peek at some highlights from the libraryâ€™s [gallery](https://mmore500.com/outset/gallery.html)â€¦
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™æ˜¯åº“[ç”»å»Š](https://mmore500.com/outset/gallery.html)çš„ä¸€äº›äº®ç‚¹é¢„è§ˆâ€¦
- en: '![](../Images/58eb3a43b859691b537fcef1bdcec4b8.png)'
  id: totrans-74
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/58eb3a43b859691b537fcef1bdcec4b8.png)'
- en: You can learn more about using *outset* in the libraryâ€™s documentation at [https://mmore500.com/outset](https://mmore500.com/outset).
    In particular, be sure to check out the [quickstart guide](https://mmore500.com/outset/quickstart.html).
    The project is open source on GitHub at [mmore500/outset](https://github.com/mmore500/outset)
    *â€” consider leaving a â­ï¸!*
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
  zh: ä½ å¯ä»¥åœ¨[https://mmore500.com/outset](https://mmore500.com/outset)çš„åº“æ–‡æ¡£ä¸­äº†è§£æœ‰å…³*outset*çš„æ›´å¤šä¿¡æ¯ã€‚ç‰¹åˆ«æ˜¯ï¼Œä¸€å®šè¦æŸ¥çœ‹[å¿«é€Ÿå…¥é—¨æŒ‡å—](https://mmore500.com/outset/quickstart.html)ã€‚è¯¥é¡¹ç›®åœ¨GitHubä¸Šçš„å¼€æºåœ°å€æ˜¯[mmore500/outset](https://github.com/mmore500/outset)ï¼Œ*â€”
    ä¸å¦¨ç•™ä¸‹ä¸€ä¸ªâ­ï¸ï¼*
- en: '*outset* can be installed via pip as `python3 -m pip install outset`.'
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: '*outset*å¯ä»¥é€šè¿‡pipå®‰è£…ï¼Œå‘½ä»¤ä¸º`python3 -m pip install outset`ã€‚'
- en: Authorship
  id: totrans-77
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: ä½œè€…
- en: This tutorial is contributed by me, [Matthew Andres Moreno](https://mmore500.com/).
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: æœ¬æ•™ç¨‹ç”±æˆ‘è´¡çŒ®ï¼Œ[Matthew Andres Moreno](https://mmore500.com/)ã€‚
- en: '![](../Images/19f65ec0566492e40378b517ef0dcd91.png)'
  id: totrans-79
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/19f65ec0566492e40378b517ef0dcd91.png)'
- en: I currently serve as a postdoctoral scholar at the [University of Michigan](https://umich.edu),
    where my work is supported by the Eric and Wendy Schmidt AI in Science Postdoctoral
    Fellowship, a Schmidt Futures program.
  id: totrans-80
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ç›®å‰åœ¨[å¯†æ­‡æ ¹å¤§å­¦](https://umich.edu)æ‹…ä»»åšå£«åå­¦è€…ï¼Œæˆ‘çš„å·¥ä½œå¾—åˆ°äº†Ericå’ŒWendy Schmidt AI in Scienceåšå£«åå¥–å­¦é‡‘çš„æ”¯æŒï¼Œè¿™æ˜¯Schmidt
    Futuresé¡¹ç›®çš„ä¸€éƒ¨åˆ†ã€‚
- en: My appointment is split between the universityâ€™s Ecology and Evolutionary Biology
    Department, the Center for the Study of Complexity, and the Michigan Institute
    for Data Science.
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘çš„èŒä½åœ¨å¤§å­¦çš„ç”Ÿæ€ä¸è¿›åŒ–ç”Ÿç‰©å­¦ç³»ã€å¤æ‚æ€§ç ”ç©¶ä¸­å¿ƒå’Œå¯†æ­‡æ ¹æ•°æ®ç§‘å­¦ç ”ç©¶æ‰€ä¹‹é—´åˆ†é…ã€‚
- en: Find me on Twitter as [@MorenoMatthewA](https://twitter.com/morenomatthewa)
    and on GitHub as [@mmore500](https://github.com/mmore500/).
  id: totrans-82
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨Twitterä¸Šå¯ä»¥æ‰¾åˆ°æˆ‘[@MorenoMatthewA](https://twitter.com/morenomatthewa)ï¼Œåœ¨GitHubä¸Šå¯ä»¥æ‰¾åˆ°æˆ‘[@mmore500](https://github.com/mmore500/)ã€‚
- en: '*disclosure:* I am the author of the `outset` library.'
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
  zh: '*å£°æ˜ï¼š* æˆ‘æ˜¯`outset`åº“çš„ä½œè€…ã€‚'
- en: Citations
  id: totrans-84
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: å¼•ç”¨
- en: '*Evett, Steven R.; Marek, Gary W.; Copeland, Karen S.; Howell, Terry A. Sr.;
    Colaizzi, Paul D.; Brauer, David K.; Ruthardt, Brice B. (2023). Evapotranspiration,
    Irrigation, Dew/frost â€” Water Balance Data for The Bushland, Texas Soybean Datasets.
    Ag Data Commons.* [*https://doi.org/10.15482/USDA.ADC/1528713.*](https://doi.org/10.15482/USDA.ADC/1528713.)
    *Accessed 2023â€“12â€“26.*'
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: '*Evett, Steven R.; Marek, Gary W.; Copeland, Karen S.; Howell, Terry A. Sr.;
    Colaizzi, Paul D.; Brauer, David K.; Ruthardt, Brice B. (2023). è’¸å‘è’¸è…¾ã€çŒæº‰ã€éœ²æ°´/éœœ â€”
    The Bushland, Texas å¤§è±†æ•°æ®é›†çš„æ°´åˆ†å¹³è¡¡æ•°æ®ã€‚Ag Data Commons.* [*https://doi.org/10.15482/USDA.ADC/1528713.*](https://doi.org/10.15482/USDA.ADC/1528713.)
    *è®¿é—®æ—¶é—´ 2023â€“12â€“26ã€‚*'
- en: '*J. D. Hunter, â€œMatplotlib: A 2D Graphics Environmentâ€, Computing in Science
    & Engineering, vol. 9, no. 3, pp. 90â€“95, 2007\.* [*https://doi.org/10.1109/MCSE.2007.55*](https://doi.org/10.1109/MCSE.2007.55)'
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
  zh: '*J. D. Hunterï¼Œâ€œMatplotlib: A 2D Graphics Environmentâ€ï¼Œã€Šè®¡ç®—ç§‘å­¦ä¸å·¥ç¨‹ã€‹ï¼Œç¬¬9å·ï¼Œç¬¬3æœŸï¼Œ90â€“95é¡µï¼Œ2007å¹´*
    [*https://doi.org/10.1109/MCSE.2007.55*](https://doi.org/10.1109/MCSE.2007.55)'
- en: 'Marek, G. W., Evett, S. R., Colaizzi, P. D., & Brauer, D. K. (2021). Preliminary
    crop coefficients for late planted short-season soybean: Texas High Plains. Agrosystems,
    Geosciences & Environment, 4(2). [https://doi.org/10.1002/agg2.20177](https://doi.org/10.1002/agg2.20177)'
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
  zh: Marek, G. W., Evett, S. R., Colaizzi, P. D., & Brauer, D. K. (2021). è¿Ÿæ’­çŸ­å­£å¤§è±†çš„åˆæ­¥ä½œç‰©ç³»æ•°ï¼šå¾·å…‹è¨æ–¯å·é«˜å¹³åŸã€‚ã€Šå†œä¸šç³»ç»Ÿã€åœ°çƒç§‘å­¦ä¸ç¯å¢ƒã€‹ï¼Œ4(2)ã€‚
    [https://doi.org/10.1002/agg2.20177](https://doi.org/10.1002/agg2.20177)
- en: '*Data structures for statistical computing in python, McKinney, Proceedings
    of the 9th Python in Science Conference, Volume 445, 2010\.* [*https://doi.org/*](https://doi.org/)
    *10.25080/Majora-92bf1922â€“00a*'
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: '*ç”¨äºç»Ÿè®¡è®¡ç®—çš„Pythonæ•°æ®ç»“æ„ï¼ŒMcKinneyï¼Œã€Šç¬¬9å±ŠPythonç§‘å­¦ä¼šè®®è®ºæ–‡é›†ã€‹ï¼Œç¬¬445å·ï¼Œ2010å¹´* [*https://doi.org/*](https://doi.org/)
    *10.25080/Majora-92bf1922â€“00a*'
- en: '*Matthew Andres Moreno. (2023). mmore500/outset. Zenodo.* [*https://doi.org/10.5281/zenodo.10426106*](https://doi.org/10.5281/zenodo.10426106)'
  id: totrans-89
  prefs: []
  type: TYPE_NORMAL
  zh: '*Matthew Andres Moreno. (2023). mmore500/outset. Zenodo.* [*https://doi.org/10.5281/zenodo.10426106*](https://doi.org/10.5281/zenodo.10426106)'
- en: '*Waskom, M. L., (2021). seaborn: statistical data visualization. Journal of
    Open Source Software, 6(60), 3021,* [*https://doi.org/10.21105/joss.03021.*](https://doi.org/10.21105/joss.03021.)'
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: '*Waskom, M. L.ï¼ˆ2021ï¼‰ã€‚seaborn: ç»Ÿè®¡æ•°æ®å¯è§†åŒ–ã€‚ã€Šå¼€æºè½¯ä»¶æœŸåˆŠã€‹ï¼Œ6(60)ï¼Œ3021ï¼Œ* [*https://doi.org/10.21105/joss.03021.*](https://doi.org/10.21105/joss.03021.)'
- en: Appendix
  id: totrans-91
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: é™„å½•
- en: You can find the entire code as a gist [here](https://gist.github.com/mmore500/9bdde8fc1a943e72f1659ac795323b06)
    and as a notebook [here](https://github.com/mmore500/outset/blob/d56c3d8f93c613e4f42e4f04aa81f5daaaea1dc1/docs/example-rain.ipynb).
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: ä½ å¯ä»¥åœ¨[è¿™é‡Œ](https://gist.github.com/mmore500/9bdde8fc1a943e72f1659ac795323b06)æ‰¾åˆ°å®Œæ•´çš„ä»£ç ï¼Œä»¥åŠåœ¨[è¿™é‡Œ](https://github.com/mmore500/outset/blob/d56c3d8f93c613e4f42e4f04aa81f5daaaea1dc1/docs/example-rain.ipynb)æ‰¾åˆ°ç¬”è®°æœ¬ã€‚
- en: To install dependencies for this exercise,
  id: totrans-93
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE9]'
  id: totrans-94
  prefs: []
  type: TYPE_PRE
  zh: '[PRE9]'
- en: '*All images are works of the author.*'
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
