# 3D æ·±åº¦å­¦ä¹  Python æ•™ç¨‹ï¼šPointNet æ•°æ®å‡†å¤‡

> åŸæ–‡ï¼š[`towardsdatascience.com/3d-deep-learning-python-tutorial-pointnet-data-preparation-90398f880c9f`](https://towardsdatascience.com/3d-deep-learning-python-tutorial-pointnet-data-preparation-90398f880c9f)

## å®è·µæ•™ç¨‹ï¼Œæ·±åº¦æ¢è®¨ï¼Œ3D Python

## ã€Šç»ˆæ Python æŒ‡å—ï¼šä¸º PointNet æ¶æ„è®­ç»ƒ 3D æ·±åº¦å­¦ä¹ è¯­ä¹‰åˆ†å‰²æ¨¡å‹è€Œæ„å»ºå¤§å‹ LiDAR ç‚¹äº‘ã€‹

[](https://medium.com/@florentpoux?source=post_page-----90398f880c9f--------------------------------)![Florent Poux, Ph.D.](https://medium.com/@florentpoux?source=post_page-----90398f880c9f--------------------------------)[](https://towardsdatascience.com/?source=post_page-----90398f880c9f--------------------------------)![Towards Data Science](https://towardsdatascience.com/?source=post_page-----90398f880c9f--------------------------------) [Florent Poux, Ph.D.](https://medium.com/@florentpoux?source=post_page-----90398f880c9f--------------------------------)

Â·å‘è¡¨äº [Towards Data Science](https://towardsdatascience.com/?source=post_page-----90398f880c9f--------------------------------) Â·30 åˆ†é’Ÿé˜…è¯»Â·2023 å¹´ 5 æœˆ 31 æ—¥

--

![](img/23e707b7b223e287573f055b8cbb2a60.png)

è¿™å¼ åˆ›æ„æ’å›¾ç›´è§‚åœ°çªå‡ºäº† 3D æ·±åº¦å­¦ä¹ å¦‚ä½•ä»¥æ˜“äºåˆ†ç±»çš„æ–¹å¼è¡¨ç°è‡ªä¸Šè€Œä¸‹çš„åœºæ™¯ã€‚å¦‚æœä½ å–œæ¬¢è¿™äº›ï¼Œè”ç³»[Marina TÃ¼nsmeyer](http://mimatelier.com/)ã€‚

è¿‘å¹´æ¥ï¼Œ3D æ·±åº¦å­¦ä¹ çš„åº”ç”¨é¢†åŸŸè¿…é€Ÿæ‰©å±•ã€‚æˆ‘ä»¬åœ¨æœºå™¨äººæŠ€æœ¯ã€è‡ªåŠ¨é©¾é©¶ä¸åœ°å›¾åˆ¶ä½œã€åŒ»å­¦æˆåƒå’Œå¨±ä¹ç­‰å„ä¸ªé¢†åŸŸéƒ½æ‹¥æœ‰å“è¶Šçš„åº”ç”¨ã€‚çœ‹åˆ°è¿™äº›ç»“æœæ—¶ï¼Œæˆ‘ä»¬å¸¸å¸¸æ„Ÿåˆ°æƒŠå¹ï¼ˆä½†å¹¶éæ€»æ˜¯å¦‚æ­¤ğŸ˜ï¼‰ï¼Œæˆ‘ä»¬å¯èƒ½ä¼šæƒ³ï¼šâ€œæˆ‘ç°åœ¨å°±è¦åœ¨æˆ‘çš„åº”ç”¨ä¸­ä½¿ç”¨è¿™ä¸ªæ¨¡å‹ï¼â€ä½†ä¸å¹¸çš„æ˜¯ï¼Œå™©æ¢¦å¼€å§‹äº†ï¼š3D æ·±åº¦å­¦ä¹ çš„å®ç°ã€‚å³ä½¿æ–°çš„ç¼–ç åº“æ—¨åœ¨ç®€åŒ–è¿™ä¸€è¿‡ç¨‹ï¼Œå®ç°ä¸€ä¸ªç«¯åˆ°ç«¯çš„ 3D æ·±åº¦å­¦ä¹ æ¨¡å‹ä»æ˜¯ä¸€é¡¹å£®ä¸¾ï¼Œå°¤å…¶æ˜¯å½“ä½ å­¤èº«ä¸€äººå¾…åœ¨æŸä¸ªé˜´æš—çš„è§’è½æ—¶ã€‚

![](img/a17e508f9b1bc782eb13b6b65a6cde85.png)

è¿™å°±æ˜¯ç¼–ç  3D æ·±åº¦å­¦ä¹ çš„æ„Ÿè§‰ã€‚Â© F. Poux

åœ¨ 3D æ·±åº¦å­¦ä¹ æ¡†æ¶ä¸­ï¼Œæœ€è¢«å¿½è§†çš„ç—›ç‚¹ä¹‹ä¸€æ˜¯å°†æ•°æ®**å‡†å¤‡å¥½**ä»¥ä¾›é€‰å®šçš„å­¦ä¹ æ¶æ„ä½¿ç”¨ã€‚æˆ‘æŒ‡çš„ä¸æ˜¯ä¸€ä¸ªç²¾ç¾çš„ç ”ç©¶æ•°æ®é›†ï¼Œè€Œæ˜¯ä¸€ä¸ªå®é™…çš„ï¼ˆæ··ä¹±çš„ï¼‰æ•°æ®ä»“åº“ï¼Œä½ æƒ³åœ¨å…¶ä¸Šå¼€å‘åº”ç”¨ç¨‹åºã€‚åœ¨å¤§å‹ä¸”å¤æ‚çš„ 3D ç‚¹äº‘æ•°æ®é›†çš„æƒ…å†µä¸‹ï¼Œè¿™ä¸ªé—®é¢˜å°¤ä¸ºä¸¥å³»ã€‚

å“¦ï¼Œä½ æ˜¯å¦æ˜ç™½æˆ‘ä»¬è¦åœ¨è¿™ç¯‡æ–‡ç« ä¸­æ¢è®¨ä»€ä¹ˆï¼Ÿä½ æ¢¦åˆ°äº†å®ƒï¼ˆä¸è¦éšè—ï¼Œæˆ‘çŸ¥é“ğŸ˜‰ï¼‰ï¼Œæˆ‘ä»¬å°†æ·±å…¥åˆ°é€‚å½“çš„ç¼–ç æ·±åº¦ã€‚è¿™ç¯‡å®è·µæ•™ç¨‹æ¢è®¨äº†å¦‚ä½•é«˜æ•ˆåœ°å‡†å¤‡ä»èˆªç©º LiDAR æ´»åŠ¨ä¸­è·å¾—çš„ 3D ç‚¹äº‘ï¼Œä»¥ç”¨äºæœ€æµè¡Œçš„åŸºäºç‚¹çš„ 3D æ·±åº¦å­¦ä¹ æ¨¡å‹ï¼šPointNet æ¶æ„ã€‚

æˆ‘ä»¬æ¶µç›–äº†æ•´ä¸ªæ•°æ®å‡†å¤‡æµç¨‹ï¼Œä» 3D æ•°æ®æ•´ç†åˆ°ç‰¹å¾æå–å’Œå½’ä¸€åŒ–ã€‚å®ƒæä¾›äº†çŸ¥è¯†å’Œå®é™…çš„ Python æŠ€èƒ½ï¼Œä»¥è§£å†³ç°å®ä¸–ç•Œçš„ 3D æ·±åº¦å­¦ä¹ é—®é¢˜ã€‚

![](img/5e3562ca370d6d278c11635d8b34757d.png)

PointNet æ•°æ®å‡†å¤‡å·¥ä½œæµç¨‹ç”¨äº 3D è¯­ä¹‰åˆ†å‰²ã€‚Â© F. Poux

é€šè¿‡è·Ÿéšæœ¬æ•™ç¨‹ï¼Œä½ å°†èƒ½å¤Ÿå°†è¿™äº›æŠ€æœ¯åº”ç”¨åˆ°ä½ è‡ªå·±çš„ 3D ç‚¹äº‘æ•°æ®é›†ä¸Šï¼Œå¹¶åˆ©ç”¨å®ƒä»¬æ¥è®­ç»ƒ PointNet è¯­ä¹‰åˆ†å‰²æ¨¡å‹ã€‚ä½ å‡†å¤‡å¥½äº†å—ï¼Ÿ

```py
Theory. 3D Deep Learning Essentials
Step 1\. Preparing the Environment
Step 2\. 3D Data Curation
Step 3\. 3D Data Analysis
Step 4\. 3D Data labelling
Step 5\. Feature Selection
Step 6\. Data Structuration
Step 7\. 3D Python I/O
Step 8\. 3D Data Normalization
Step 9\. 3D Interactive Vizualisation
Step 10\. Tensor Creation
```

ğŸµ**è¯»è€…æ³¨æ„**ï¼šæœ¬å®è·µæŒ‡å—æ˜¯ä¸æˆ‘çš„äº²çˆ±çš„åŒäº‹* [***UTWENTE***](https://www.itc.nl/) *åˆä½œçš„ä¸€éƒ¨åˆ†* [***æ¡‘å¾·Â·å¥¥å¾·Â·åŸƒå°”ä¼¯æ—å…‹æ•™æˆ***](https://people.utwente.nl/s.j.oudeelberink)*ã€‚æˆ‘ä»¬æ„Ÿè°¢æ¥è‡ªæ•°å­—åŒèƒèƒ* [*@ITC*](http://twitter.com/ITC) *é¡¹ç›®çš„è´¢åŠ¡æ”¯æŒï¼Œè¯¥é¡¹ç›®ç”±ç‰¹æ¸©ç‰¹å¤§å­¦ ITC å­¦é™¢èµ„åŠ©ã€‚*

# 3D æ·±åº¦å­¦ä¹ è¦ç‚¹

## 3D è¯­ä¹‰åˆ†å‰² VS åˆ†ç±»

3D è¯­ä¹‰åˆ†å‰²å’Œ 3D ç‚¹äº‘åˆ†ç±»çš„æ ¹æœ¬åŒºåˆ«åœ¨äºï¼Œåˆ†å‰²æ—¨åœ¨ä¸ºç‚¹äº‘ä¸­çš„æ¯ä¸ªç‚¹åˆ†é…æ ‡ç­¾ã€‚è€Œåˆ†ç±»åˆ™è¯•å›¾ä¸ºæ•´ä¸ªç‚¹äº‘åˆ†é…ä¸€ä¸ªæ ‡ç­¾ã€‚

![](img/1f556b730b7907f9c25b9033d1c0c5b7.png)

åˆ†ç±»æ¨¡å‹ä¸è¯­ä¹‰åˆ†å‰²æ¨¡å‹ä¹‹é—´çš„åŒºåˆ«ã€‚åœ¨è¿™ä¸¤ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬éƒ½ä¼ é€’ä¸€ä¸ªç‚¹äº‘ï¼Œä½†å¯¹äºåˆ†ç±»ä»»åŠ¡ï¼Œæ•´ä¸ªç‚¹äº‘æ˜¯ä¸€ä¸ªå®ä½“ï¼Œè€Œåœ¨è¯­ä¹‰åˆ†å‰²çš„æƒ…å†µä¸‹ï¼Œæ¯ä¸ªç‚¹æ˜¯ä¸€ä¸ªéœ€è¦åˆ†ç±»çš„å®ä½“ã€‚Â© F. Poux

ä¾‹å¦‚ï¼Œä½¿ç”¨ PointNet æ¶æ„ï¼Œ3D ç‚¹äº‘åˆ†ç±»æ¶‰åŠå°†æ•´ä¸ªç‚¹äº‘é€šè¿‡ç½‘ç»œï¼Œå¹¶è¾“å‡ºä¸€ä¸ªä»£è¡¨æ•´ä¸ªç‚¹äº‘çš„æ ‡ç­¾ã€‚ç›¸æ¯”ä¹‹ä¸‹ï¼Œè¯­ä¹‰åˆ†å‰²çš„â€œå¤´éƒ¨â€å°†ä¸ºäº‘ä¸­çš„æ¯ä¸ªç‚¹åˆ†é…ä¸€ä¸ªæ ‡ç­¾ã€‚æ–¹æ³•çš„ä¸åŒåœ¨äºï¼Œåˆ†å‰²éœ€è¦å¯¹è¡¨ç¤ºçš„ 3D ç©ºé—´æœ‰æ›´è¯¦ç»†çš„ç†è§£ï¼Œå› ä¸ºå®ƒè¯•å›¾è¯†åˆ«å’Œæ ‡è®°ç‚¹äº‘ä¸­çš„ä¸ªä½“å¯¹è±¡æˆ–åŒºåŸŸã€‚ç›¸æ¯”ä¹‹ä¸‹ï¼Œåˆ†ç±»ä»…éœ€è¦å¯¹ç‚¹äº‘çš„æ•´ä½“å½¢çŠ¶æˆ–ç»„æˆæœ‰è¾ƒé«˜å±‚æ¬¡çš„ç†è§£ã€‚

æ€»çš„æ¥è¯´ï¼Œå°½ç®¡ 3D è¯­ä¹‰åˆ†å‰²å’Œåˆ†ç±»æ˜¯åˆ†æ 3D ç‚¹äº‘æ•°æ®çš„å…³é”®ä»»åŠ¡ï¼Œä½†ä¸»è¦åŒºåˆ«åœ¨äºæ ‡è®°è¿‡ç¨‹æ‰€éœ€çš„è¯¦ç»†ç¨‹åº¦å’Œç²’åº¦ã€‚

æ­£å¦‚ä½ çŒœåˆ°çš„ï¼Œæˆ‘ä»¬å°†æ”»å…‹è¯­ä¹‰åˆ†å‰²ï¼Œå› ä¸ºå®ƒéœ€è¦å¯¹è¢«åˆ†æçš„ç©ºé—´æœ‰æ›´è¯¦ç»†çš„ç†è§£ï¼Œè¿™éå¸¸æœ‰è¶£ ğŸ˜ã€‚

ä¸è¿‡åœ¨æ­¤ä¹‹å‰ï¼Œè®©æˆ‘ä»¬ç¨å¾®å›é¡¾ä¸€ä¸‹ï¼Œä»¥æ›´å¥½åœ°ç†è§£ PointNet æ¶æ„çš„å·¥ä½œåŸç†ï¼Œå¥½å—ï¼Ÿ

## PointNetï¼šä¸€ç§åŸºäºç‚¹çš„ 3D æ·±åº¦å­¦ä¹ æ¶æ„

å°†å¤æ‚çš„ä¸»é¢˜æ‹†è§£æˆå°å—çŸ¥è¯†æ˜¯æˆ‘çš„ä¸“é•¿ã€‚ä½†æ˜¯æˆ‘å¿…é¡»æ‰¿è®¤ï¼Œå½“æ¶‰åŠåˆ° 3D æ·±åº¦å­¦ä¹ æ—¶ï¼Œé€šè¿‡ç¥ç»ç½‘ç»œä¸­ä¸åŒè¿‡ç¨‹å­¦åˆ°çš„å‡½æ•°çš„å¤æ‚æ€§ä»¥åŠè¶…å‚æ•°ç¡®å®šçš„ç»éªŒæ€§ç‰¹å¾æ˜¯é‡è¦çš„æŒ‘æˆ˜ã€‚è¦å…‹æœè¿™äº›æŒ‘æˆ˜ï¼Œå—¯ï¼ŸğŸ˜

é¦–å…ˆï¼Œè®©æˆ‘ä»¬å›é¡¾ä¸€ä¸‹ PointNet æ˜¯ä»€ä¹ˆã€‚PointNet æ˜¯ 3D æ·±åº¦å­¦ä¹ ä¸­ç¥ç»ç½‘ç»œçš„å¼€åˆ›è€…ä¹‹ä¸€ã€‚å¦‚æœä½ ç†è§£äº† PointNetï¼Œä½ å°±å¯ä»¥ä½¿ç”¨æ‰€æœ‰å…¶ä»–é«˜çº§æ¨¡å‹ã€‚ä½†æ˜¯ï¼Œå½“ç„¶ï¼Œç†è§£åªæ˜¯æ–¹ç¨‹çš„ä¸€éƒ¨åˆ†ã€‚

![](img/977877dcb2d06fa1636fdd3356d96303.png)

PointNet æ¶æ„èƒ½å¤Ÿå¤„ç†ä¸‰ç§è¯­ä¹‰åº”ç”¨ï¼šåˆ†ç±»ã€éƒ¨ä»¶åˆ†å‰²å’Œè¯­ä¹‰åˆ†å‰²ã€‚Â© F. Poux

å¦ä¸€éƒ¨åˆ†æ˜¯è®©è¿™äº›å¤æ‚çš„ä¸œè¥¿å‘æŒ¥ä½œç”¨ï¼Œå¹¶å°†å…¶æ‰©å±•åˆ°ä½ çš„æ•°æ®ä¸Šï¼è¿™æ˜¯ä¸€é¡¹å…·æœ‰æŒ‘æˆ˜æ€§çš„ä»»åŠ¡ï¼å³ä½¿å¯¹äºç»éªŒä¸°å¯Œçš„ç¼–ç å‘˜ä¹Ÿæ˜¯å¦‚æ­¤ã€‚å› æ­¤ï¼Œæˆ‘ä»¬å°†è¿™ä¸ªè¿‡ç¨‹åˆ†ä¸ºå‡ ä¸ªéƒ¨åˆ†ã€‚ä»Šå¤©ï¼Œæˆ‘ä»¬è®¨è®ºçš„æ˜¯å‡†å¤‡æ•°æ®ï¼Œä»¥ç¡®ä¿æˆ‘ä»¬åœ¨å®é™…æ¡ä»¶ä¸‹æœ‰ç”¨çš„ä¸œè¥¿ã€‚

ä¸ºäº†æ­£ç¡®å‡†å¤‡æ•°æ®ï¼Œç†è§£ç½‘ç»œçš„æ„å»ºå—æ˜¯è‡³å…³é‡è¦çš„ã€‚ä¸‹é¢æˆ‘å°†ä»‹ç»åœ¨ä½¿ç”¨ç½‘ç»œå‡†å¤‡æ•°æ®æ—¶éœ€è¦è€ƒè™‘çš„å…³é”®æ–¹é¢ã€‚

![](img/4f3210ed58bfea5e2afda6856cb79faa.png)

è®ºæ–‡ä½œè€…æè¿°çš„ PointNet æ¨¡å‹æ¶æ„ï¼š[ArXiv è®ºæ–‡](https://arxiv.org/pdf/1612.00593.pdf)ã€‚

PointNet çš„æ¶æ„ç”±å‡ ä¸ªå¤„ç†ç‚¹äº‘æ•°æ®çš„ç¥ç»ç½‘ç»œå±‚ç»„æˆã€‚PointNet çš„è¾“å…¥æ˜¯ä¸€ä¸ªç®€å•çš„ç‚¹é›†ï¼Œæ¯ä¸ªç‚¹ç”±å…¶ 3D åæ ‡å’Œé™„åŠ ç‰¹å¾ï¼ˆå¦‚é¢œè‰²æˆ–å¼ºåº¦ï¼‰è¡¨ç¤ºã€‚è¿™äº›ç‚¹è¢«è¾“å…¥åˆ°è¿ç»­çš„å…±äº«å¤šå±‚æ„ŸçŸ¥å™¨ï¼ˆMLPï¼‰ç½‘ç»œä¸­ï¼Œç½‘ç»œå­¦ä¹ ä»æ¯ä¸ªç‚¹ä¸­æå–å±€éƒ¨ç‰¹å¾ã€‚

![](img/2dd6409b2608bc0f614285a612ac89ed.png)

è®ºæ–‡ä½œè€…æè¿°çš„ PointNet æ¶æ„ä¸­çš„ MLPï¼š[ArXiv è®ºæ–‡](https://arxiv.org/pdf/1612.00593.pdf)ã€‚

ğŸ¦š **æ³¨æ„**ï¼š*MLP æ˜¯ä¸€ä¸ªç”±å¤šä¸ªå±‚è¿æ¥çš„èŠ‚ç‚¹æˆ–ç¥ç»å…ƒæ„æˆçš„ç¥ç»ç½‘ç»œã€‚MLP ä¸­çš„æ¯ä¸ªç¥ç»å…ƒä»ä¸Šä¸€å±‚çš„ç¥ç»å…ƒæ¥æ”¶è¾“å…¥ï¼Œåˆ©ç”¨æƒé‡å’Œåç½®å¯¹è¯¥è¾“å…¥è¿›è¡Œå˜æ¢ï¼Œç„¶åå°†ç»“æœä¼ é€’ç»™ä¸‹ä¸€å±‚çš„ç¥ç»å…ƒã€‚MLP ä¸­çš„æƒé‡å’Œåç½®åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­é€šè¿‡åå‘ä¼ æ’­å­¦ä¹ ï¼Œä»¥æœ€å°åŒ–ç½‘ç»œé¢„æµ‹å€¼ä¸çœŸå®è¾“å‡ºä¹‹é—´çš„å·®å¼‚ã€‚*

è¿™äº› MLP æ˜¯å…¨è¿æ¥å±‚ï¼Œæ¯ä¸€å±‚åé¢è·Ÿç€æˆ‘ä»¬ç§°ä¹‹ä¸ºâ€œéçº¿æ€§æ¿€æ´»å‡½æ•°â€ï¼ˆå¦‚ ReLUï¼‰ã€‚æ¯å±‚çš„ç¥ç»å…ƒæ•°é‡ï¼ˆä¾‹å¦‚ 64ï¼‰å’Œå±‚æ•°ï¼ˆä¾‹å¦‚ 2ï¼‰å¯ä»¥æ ¹æ®å…·ä½“ä»»åŠ¡å’Œè¾“å…¥ç‚¹äº‘æ•°æ®çš„å¤æ‚æ€§è¿›è¡Œè°ƒæ•´ã€‚æ­£å¦‚ä½ æ‰€çŒœæµ‹çš„ï¼Œç¥ç»å…ƒå’Œå±‚æ•°è¶Šå¤šï¼Œç›®æ ‡é—®é¢˜å¯èƒ½è¶Šå¤æ‚ï¼Œå› ä¸ºæ¶æ„çš„å¯å¡‘æ€§å¸¦æ¥äº†ç»„åˆå¯èƒ½æ€§ã€‚å¦‚æœæˆ‘ä»¬ç»§ç»­æ·±å…¥ç ”ç©¶ PointNet æ¶æ„ï¼Œæˆ‘ä»¬ä¼šçœ‹åˆ°æˆ‘ä»¬ç”¨ 1024 ä¸ªç‰¹å¾æè¿°åŸå§‹çš„ n ä¸ªè¾“å…¥ç‚¹ï¼Œè¿™äº›ç‰¹å¾ä»æœ€åˆæä¾›çš„ï¼ˆXã€Y å’Œ Zï¼‰ä¸­å»¶å±•å‡ºæ¥ã€‚è¿™æ˜¯æ¶æ„é€šè¿‡ä½¿ç”¨æœ€å¤§æ± åŒ–æ“ä½œå¯¹å±€éƒ¨å­¦ä¹ ç‰¹å¾è¿›è¡Œå…¨å±€æè¿°çš„åœ°æ–¹ï¼Œä»è€Œè·å¾—ä¸€ä¸ªæ€»ç»“æ•´ä¸ªç‚¹äº‘çš„å…¨å±€ç‰¹å¾å‘é‡ã€‚ç„¶åï¼Œè¿™ä¸ªå…¨å±€ç‰¹å¾å‘é‡ä¼šé€šè¿‡è‹¥å¹²å…¨è¿æ¥å±‚æ¥ç”Ÿæˆåˆ†ç±»å¤´çš„æœ€ç»ˆè¾“å‡ºï¼Œå³ k ç±»çš„è¯„åˆ†ã€‚

![](img/cfccefae9c1356f71ebad1bb415fd7a1.png)

ç”±è®ºæ–‡ä½œè€…æè¿°çš„ PoinNet æ¨¡å‹æ¶æ„çš„ MaxPool å’Œ MLP: [ArXiv Paper](https://arxiv.org/pdf/1612.00593.pdf)ã€‚

å¦‚æœä½ ä»”ç»†è§‚å¯Ÿï¼ŒPointNet ä¸­çš„è¯­ä¹‰åˆ†å‰²å¤´æ˜¯ä¸€ä¸ªå…¨è¿æ¥ç½‘ç»œï¼Œå®ƒå°†å…¨å±€ç‰¹å¾å‘é‡å’Œå±€éƒ¨ç‰¹å¾å‘é‡ä¸²è”åœ¨ä¸€èµ·ï¼Œä¸ºè¾“å…¥ç‚¹äº‘æ•°æ®ä¸­çš„æ¯ä¸ªç‚¹ç”Ÿæˆä¸€ä¸ªæ¯ç‚¹è¯„åˆ†æˆ–æ ‡ç­¾ã€‚è¯­ä¹‰åˆ†å‰²å¤´ç”±è‹¥å¹²å…¨è¿æ¥å±‚ã€ReLU æ¿€æ´»å‡½æ•°å’Œä¸€ä¸ªæœ€ç»ˆçš„ softmax å±‚ç»„æˆã€‚æœ€ç»ˆ softmax å±‚çš„è¾“å‡ºä»£è¡¨ä¸åŒè¯­ä¹‰æ ‡ç­¾æˆ–ç±»åˆ«çš„æ¯ç‚¹æ¦‚ç‡åˆ†å¸ƒã€‚

![](img/91d55f8e974c16c23c108d75eb491b61.png)

ç”±è®ºæ–‡ä½œè€…æè¿°çš„ PoinNet æ¨¡å‹æ¶æ„çš„åˆ†å‰²å¤´: [ArXiv Paper](https://arxiv.org/pdf/1612.00593.pdf)ã€‚

PointNet æ¶æ„èƒ½å¤Ÿæ•æ‰ä»»åŠ¡å¦‚ 3D æ•°æ®ä¸­çš„å¯¹è±¡åˆ†ç±»å’Œåˆ†å‰²æ‰€éœ€çš„é‡è¦å‡ ä½•å’Œä¸Šä¸‹æ–‡ä¿¡æ¯ï¼Œé€šè¿‡ä»è¾“å…¥ç‚¹äº‘ä¸­çš„æ¯ä¸ªç‚¹å­¦ä¹ å±€éƒ¨å’Œå…¨å±€ç‰¹å¾ã€‚PointNet çš„ä¸€ä¸ªå…³é”®åˆ›æ–°æ˜¯åœ¨æœ€å¤§æ± åŒ–æ“ä½œä¸­ä½¿ç”¨å¯¹ç§°å‡½æ•°ï¼Œè¿™ç¡®ä¿äº†è¾“å‡ºå¯¹è¾“å…¥ç‚¹çš„é¡ºåºä¸å˜ã€‚è¿™ä½¿å¾— PointNet å¯¹è¾“å…¥ç‚¹é¡ºåºçš„å˜åŒ–å…·æœ‰é²æ£’æ€§ï¼Œè¿™åœ¨ 3D æ•°æ®åˆ†æä¸­è‡³å…³é‡è¦ã€‚

ç°åœ¨ï¼Œæˆ‘ä»¬å‡†å¤‡å…¨åŠ›ä»¥èµ´åœ°ä¸º PointNet å‡†å¤‡æ•°æ®ã€‚æœ€å¼€å§‹æˆ‘ä»¬æŒ‡çš„æ˜¯ä»€ä¹ˆç‚¹äº‘ï¼Ÿæˆ‘ä»¬æ˜¯å¦è¾“å…¥ä¸€ä¸ªå®Œæ•´çš„ç‚¹äº‘ï¼Ÿ

# PointNet: æ•°æ®å‡†å¤‡çš„å…³é”®æ–¹é¢

ä»é«˜å±‚æ¬¡æ¥çœ‹ï¼Œå¦‚æœæˆ‘ä»¬ç ”ç©¶[åŸå§‹è®ºæ–‡](https://arxiv.org/pdf/1612.00593.pdf)ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ° PointNet çš„åŠŸèƒ½éå¸¸ç›´æ¥ï¼š

+   æˆ‘ä»¬å°†ç‚¹äº‘æ•°æ®è§„èŒƒåŒ–åˆ°æ ‡å‡†ç©ºé—´ã€‚

+   æˆ‘ä»¬è®¡ç®—ä¸€ç³»åˆ—ç‰¹å¾ï¼ˆä¸ä¾èµ–äºæˆ‘ä»¬å·²æœ‰çš„çŸ¥è¯†ï¼Œè€Œæ˜¯åˆ©ç”¨ç½‘ç»œçš„èƒ½åŠ›æ¥åˆ›å»ºæœ‰ç”¨çš„ç‰¹å¾ï¼‰

+   æˆ‘ä»¬å°†è¿™äº›ç‰¹å¾æ±‡èšæˆè€ƒè™‘ä¸­çš„ç‚¹äº‘çš„å…¨å±€ç‰¹å¾ã€‚

+   *é€‰é¡¹ 1*ï¼šæˆ‘ä»¬ä½¿ç”¨è¿™ä¸ªå…¨å±€ç‰¹å¾æ¥å¯¹ç‚¹äº‘è¿›è¡Œåˆ†ç±»

+   *é€‰é¡¹ 2*ï¼šæˆ‘ä»¬å°†è¿™ä¸ªå…¨å±€ç‰¹å¾ä¸å±€éƒ¨ç‰¹å¾ç»“åˆï¼Œæ„å»ºæ›´ç²¾ç¡®çš„è¯­ä¹‰åˆ†å‰²ç‰¹å¾ã€‚

![](img/7b517b55b4f933bf61007f4e08ab20f5.png)

PointNet åœ¨è¯­ä¹‰åˆ†å‰²æˆ–åˆ†ç±»ä»»åŠ¡ä¸­çš„äº”ä¸ªæ­¥éª¤ã€‚Â© F. Poux

ä¸€åˆ‡éƒ½å›´ç»•ç‰¹å¾å±•å¼€ï¼Œè¿™æ„å‘³ç€æˆ‘ä»¬æä¾›ç»™ç½‘ç»œçš„å—åº”è¯¥éå¸¸ç›¸å…³ã€‚ä¾‹å¦‚ï¼Œç»™å‡ºæ•´ä¸ªç‚¹äº‘æ˜¯è¡Œä¸é€šçš„ï¼Œç»™å‡ºä¸€ä¸ªå¾®å°çš„æ ·æœ¬ä¹Ÿæ˜¯è¡Œä¸é€šçš„ï¼Œæä¾›å…·æœ‰ä¸åŒåˆ†å¸ƒçš„ç»“æ„åŒ–æ ·æœ¬ä¹Ÿè¡Œä¸é€šã€‚é‚£ä¹ˆæˆ‘ä»¬æ€ä¹ˆåšå‘¢ï¼Ÿ

è®©æˆ‘ä»¬éµå¾ªä¸€ä¸ªçº¿æ€§çš„åæ­¥æµç¨‹ï¼Œä»¥è·å¾—ç»è¿‡æ·±æ€ç†Ÿè™‘çš„ 3D ç‚¹äº‘è®­ç»ƒ/æ¨ç†å‡†å¤‡æ•°æ®é›†ã€‚

![](img/5e3562ca370d6d278c11635d8b34757d.png)

PointNet æ•°æ®å‡†å¤‡å·¥ä½œæµç¨‹ã€‚Â© F. Poux

# ç¬¬ä¸€æ­¥ï¼šå‡†å¤‡ä½ çš„å·¥ä½œç¯å¢ƒ

![](img/e5938db254abaaf0372ea2c43c7c6c0a.png)

åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨ä¸¤ä¸ªä¸»è¦ç»„ä»¶ï¼šCloudCompare å’Œ JupyterLab IDE (+ Python)ã€‚å¯¹äºæœ€ä½³è®¾ç½®çš„è¯¦ç»†è§†å›¾ï¼Œæˆ‘å¼ºçƒˆå»ºè®®ä½ å‚è€ƒè¿™ç¯‡æ–‡ç« ï¼Œå®ƒè¯¦ç»†ä»‹ç»äº†æ‰€éœ€å†…å®¹ï¼š

[](/3d-python-workflows-for-lidar-point-clouds-100ff40e4ff0?source=post_page-----90398f880c9f--------------------------------) ## 3D Python å·¥ä½œæµç¨‹ç”¨äº LiDAR åŸå¸‚æ¨¡å‹ï¼šé€æ­¥æŒ‡å—

### è§£é” 3D åŸå¸‚å»ºæ¨¡åº”ç”¨ç¨‹åºçš„ç»ˆææŒ‡å—ã€‚è¯¥æ•™ç¨‹æ¶µç›–äº† Pythonâ€¦

[towardsdatascience.com

æˆ‘ä»¬å°†æœ‰ä¸€ä¸ªç‰¹å®šçš„åº“æ ˆï¼Œåˆ†ä¸ºä¸»è¦åº“ã€ç»˜å›¾åº“å’Œå®ç”¨åº“ã€‚

ğŸ¦š **æ³¨æ„**ï¼š*å¦‚æœä½ åœ¨æœ¬åœ°ç¯å¢ƒä¸­å·¥ä½œï¼Œæˆ‘å»ºè®®æœ¬æ•™ç¨‹ä½¿ç”¨ pip è¿›è¡ŒåŒ…ç®¡ç†*ï¼ˆpip install library_nameï¼‰

æˆ‘ä»¬å°†ä½¿ç”¨çš„ä¸¤ä¸ªä¸»è¦åº“æ˜¯ NumPy å’Œ Pytorchï¼š

+   **Numpy**ï¼šNumPy æ˜¯ä¸€ä¸ªç”¨äºå¤„ç†æ•°å€¼æ•°æ®çš„ Python åº“ï¼Œå®ƒæä¾›äº†æ“ä½œæ•°ç»„å’ŒçŸ©é˜µã€æ•°å­¦è¿ç®—å’Œçº¿æ€§ä»£æ•°å‡½æ•°çš„åŠŸèƒ½ã€‚

+   **Pytorch**ï¼šPytorch æ˜¯ä¸€ä¸ªæµè¡Œçš„ Python æ·±åº¦å­¦ä¹ æ¡†æ¶ã€‚å®ƒæä¾›äº†æ„å»ºå’Œè®­ç»ƒç¥ç»ç½‘ç»œä»¥åŠä¼˜åŒ–å’Œè¯„ä¼°æ¨¡å‹çš„å·¥å…·ã€‚

ç„¶åï¼Œæˆ‘ä»¬ä½¿ç”¨ä¸¤ä¸ªç»˜å›¾åº“æ¥æ”¯æŒè¿™äº›ï¼š

+   **Matplotlib**ï¼šMatplotlib æ˜¯ä¸€ä¸ªç”¨äºåˆ›å»ºå¯è§†åŒ–å›¾è¡¨ã€å›¾å½¢å’Œå›¾åƒçš„ Python åº“ã€‚

+   **Plotly**ï¼šPlotly æ˜¯ä¸€ä¸ªç”¨äºåˆ›å»º**äº¤äº’å¼**å¯è§†åŒ–çš„ Python åº“ã€‚

æœ€åï¼Œæˆ‘ä»¬è¿˜å°†ä½¿ç”¨ä¸‰ä¸ªå®ç”¨æ¨¡å—ï¼š

+   **os**: Python ä¸­çš„ os æ¨¡å—æä¾›äº†ä¸€ç§ä½¿ç”¨æ“ä½œç³»ç»Ÿç›¸å…³åŠŸèƒ½çš„æ–¹æ³•ã€‚å®ƒæä¾›äº†ä¸æ–‡ä»¶ç³»ç»Ÿäº¤äº’çš„å‡½æ•°ï¼Œä¾‹å¦‚åˆ›å»ºã€åˆ é™¤å’Œé‡å‘½åæ–‡ä»¶å’Œç›®å½•ã€‚

+   **glob**: Python ä¸­çš„ glob æ¨¡å—æä¾›äº†ä¸€ç§ä½¿ç”¨æ¨¡å¼åŒ¹é…æ–‡ä»¶å’Œç›®å½•çš„æ–¹æ³•ã€‚ä¾‹å¦‚ï¼Œå®ƒå¯ä»¥åœ¨ç›®å½•ä¸­æ‰¾åˆ°æ‰€æœ‰å…·æœ‰ç‰¹å®šæ‰©å±•åçš„æ–‡ä»¶ã€‚

+   **random**ï¼ˆå¯é€‰ï¼‰ï¼š`random`åº“æ˜¯ä¸€ä¸ªå†…ç½®æ¨¡å—ï¼Œæä¾›ç”Ÿæˆéšæœºæ•°ã€ä»åˆ—è¡¨ä¸­é€‰æ‹©éšæœºé¡¹å’Œæ‰“ä¹±åºåˆ—çš„å‡½æ•°ã€‚

ä¸€æ—¦å®Œæˆï¼Œæˆ‘ä»¬å°±å¯ä»¥è¿›å…¥ç¬¬äºŒä¸ªæ–¹é¢ï¼šè·å–æ–°çš„ 3D ç‚¹äº‘æ•°æ®é›†ï¼

# æ­¥éª¤ 2ï¼š3D æ•°æ®æ•´ç†

![](img/a5e20e985dd57cccb438a4637463b0d9.png)

å¯¹äºæœ¬æ•™ç¨‹ï¼Œæˆ‘ä»¬å‰å¾€è·å…°ä¸œéƒ¨ï¼Œé è¿‘æ©æ–¯èµ«å¾·ï¼Œé‚£é‡Œæœ‰ç‰¹æ¸©ç‰¹å¤§å­¦çš„å…‰èŠ’ğŸŒã€‚åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬é€‰æ‹©äº† AHN4 æ•°æ®é›†çš„ä¸€éƒ¨åˆ†ï¼Œè¿™éƒ¨åˆ†æ•°æ®åº”è¯¥æœ‰è¶³å¤Ÿçš„æ ‘æœ¨ã€åœ°é¢ã€å»ºç­‘ç‰©ä»¥åŠä¸€ç‚¹æ°´ ğŸš¿ã€‚æˆ‘ä»¬å¯ä»¥è¯´æ¯ä¸ªç±»åˆ«éƒ½æœ‰è¶³å¤Ÿçš„ç‚¹ï¼

ğŸ¦š **æ³¨æ„**: *æˆ‘ä»¬å°†åœ¨ä¸å¹³è¡¡çš„æ•°æ®é›†ä¸Šè¿›è¡Œè®­ç»ƒï¼Œå…¶ä¸­åœ°é¢ç‚¹çš„æ¯”ä¾‹è¿œé«˜äºå…¶ä»–ç±»åˆ«ã€‚è¿™ä¸æ˜¯ç†æƒ³çš„æƒ…å†µï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼ŒMLP å’Œè¯­ä¹‰åˆ†å‰²å¤´å¯èƒ½ä¼šåå‘äºé¢„æµ‹å¤šæ•°ç±»åˆ«æ ‡ç­¾ï¼Œè€Œå¿½ç•¥å°‘æ•°ç±»åˆ«æ ‡ç­¾ã€‚è¿™å¯èƒ½å¯¼è‡´ä¸å‡†ç¡®çš„åˆ†å‰²å’Œå°‘æ•°ç±»åˆ«ç‚¹çš„é”™è¯¯åˆ†ç±»ã€‚ä¸è¿‡ï¼Œå¯ä»¥ä½¿ç”¨å‡ ç§æŠ€æœ¯æ¥å‡è½»ä¸å¹³è¡¡ç±»åˆ«çš„å½±å“ï¼Œå¦‚æ•°æ®å¢å¼ºã€å°‘æ•°ç±»åˆ«çš„è¿‡é‡‡æ ·æˆ–æ¬ é‡‡æ ·ï¼Œä»¥åŠä½¿ç”¨åŠ æƒæŸå¤±å‡½æ•°ã€‚è¿™æ˜¯å¦ä¸€ä¸ªè¯é¢˜ã€‚* ğŸ˜‰

ä¸ºäº†æ”¶é›†æ•°æ®é›†ï¼Œæˆ‘ä»¬è®¿é—®å¼€æ”¾æ•°æ®é—¨æˆ· [geotiles.nl](https://geotiles.nl/)ã€‚æˆ‘ä»¬ç¼©æ”¾åˆ°ä¸€ä¸ªæ„Ÿå…´è¶£çš„åŒºåŸŸï¼Œç­‰å¾…æœ‰ _XXï¼ˆä»¥ä¾¿æ•°æ®é‡ä¸€è‡´ï¼‰ï¼Œç„¶åä¸‹è½½.laz æ•°æ®é›†ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š

![](img/b1652f394039a471da8eebb3ae293dd6.png)

ä»è·å…° AHN4 LiDAR æ´»åŠ¨ä¸­æ”¶é›†ç‚¹äº‘æ•°æ®é›†ã€‚Â© F. Poux

æ­¤å¤–ï¼Œæˆ‘ä»¬å¯ä»¥å‡†å¤‡ä¸€äº›å¼•äººæ³¨ç›®çš„ç”¨ä¾‹ï¼Œä»¥ä¾¿ä½ ä»¥åå¯ä»¥åœ¨æ„Ÿå…´è¶£çš„åˆ‡ç‰‡ä¸Šæµ‹è¯•ä½ çš„æ¨¡å‹ã€‚ä¾‹å¦‚ï¼Œå¯ä»¥åœ¨ä½ æ‰€åœ¨çš„åœ°æ–¹ï¼Œå¦‚æœé‚£é‡Œæœ‰å¼€æ”¾æ•°æ®ã€‚

ğŸ¦š **æ³¨æ„**: *å¦‚æœä½ æƒ³å¯¹ä½ çš„æ¨¡å‹è¿›è¡ŒçœŸæ­£çš„æŒ‘æˆ˜ï¼Œä¸‹è½½å¦ä¸€ä¸ªåœ°åŒºçš„åˆ‡ç‰‡æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„æ³›åŒ–æµ‹è¯•ï¼ä¾‹å¦‚ï¼Œä½ å¯ä»¥ä¸‹è½½ä¸€ä¸ª* [*LiDAR HD*](https://geoservices.ign.fr/lidarhd) *ç‚¹äº‘åˆ‡ç‰‡ï¼Œä»¥æŸ¥çœ‹å¦‚æœç”¨äºè®­ç»ƒæˆ–æµ‹è¯•ï¼Œæ˜¯å¦ä¼šæœ‰å·®å¼‚/æ”¹è¿›ã€‚*

ç°åœ¨ä½ å·²ç»æœ‰äº†.laz æ–‡ä»¶æ ¼å¼çš„ç‚¹äº‘ï¼Œè®©æˆ‘ä»¬æ¢ç´¢ info æ–‡ä»¶æä¾›çš„ç‰¹æ€§ï¼Œä½ ä¹Ÿå¯ä»¥æŸ¥çœ‹æˆ–ä¸‹è½½ï¼š

![](img/8c7883e8cee2dad643b7fdd45639c294.png)

ä¸€ä»½å…³äºé€‰å®š 3D LiDAR ç‚¹äº‘æ•°æ®é›†çš„ä¿¡æ¯æ–‡ä»¶ã€‚Â© F. Poux

è¿™æœ‰åŠ©äºæ·±å…¥ç†è§£æ•°æ®å†…å®¹ï¼Œè¿™æ˜¯æ„å»ºé«˜è´¨é‡æ•°æ®é›†æ—¶è‡³å…³é‡è¦çš„ç¬¬ä¸€æ­¥ã€‚

![](img/2cccf5613291347f8208381a21944c7b.png)

è¿™å±•ç¤ºäº†ç‚¹äº‘çš„é™„åŠ ä¿¡æ¯å†…å®¹ã€‚Â© F. Poux

åœ¨æµè§ˆå„ç§ä¿¡æ¯ç‚¹æ—¶ï¼Œæœ‰å‡ ä¸ªå­—æ®µå€¼å¾—æ³¨æ„ï¼š

```py
number of point records:    32080350
offset x y z:               205980 464980 0
min x y z:                  205980.000 464980.000 4.101
max x y z:                  207019.999 466269.999 53.016
intensity          56       5029
classification      1         26
Color R 17 255
      G 39 255
      B 31 255
    NIR 0 255
```

è¿™ä¸ªå°æ–‡ä»¶é€‰æ‹©æç¤ºæˆ‘ä»¬å°†å¤„ç†å¤§çº¦ 3200 ä¸‡æ•°æ®ç‚¹ï¼Œè¿™äº›æ•°æ®ç‚¹å…·æœ‰é¢œè‰²ã€å¼ºåº¦ï¼Œå¹¶ä¸”å¦‚æœæˆ‘ä»¬å¸Œæœ›ç¨åæå‡æ¨¡å‹ï¼Œè¿˜å¯ä»¥å…·æœ‰è¿‘çº¢å¤–å­—æ®µã€‚

éå¸¸å¥½ï¼ç°åœ¨æˆ‘ä»¬å·²ç»å®‰è£…äº†è½¯ä»¶å †æ ˆå¹¶ä¸‹è½½äº† 3D ç‚¹äº‘ï¼Œæˆ‘ä»¬å¯ä»¥è¿›è¡Œ 3D æ•°æ®åˆ†æï¼Œä»¥ç¡®ä¿è¾“å…¥åˆ°æ¨¡å‹ä¸­çš„æ•°æ®ç¬¦åˆé¢„æœŸã€‚

# æ­¥éª¤ 3ï¼š3D æ•°æ®åˆ†æï¼ˆCloudCompareï¼‰

![](img/ce5da5ed1260e2c915501f876ca57766.png)

ç°åœ¨æ˜¯æ—¶å€™å°† 3D èˆªç©ºç‚¹äº‘æ–‡ä»¶åŠ è½½åˆ°è½¯ä»¶[CloudCompare](https://cloudcompare.org/)ä¸­äº†ã€‚é¦–å…ˆï¼Œåœ¨è®¡ç®—æœºä¸Šæ‰“å¼€ CloudCompareï¼Œç›´åˆ°å‡ºç°ç©ºçš„ GUIï¼Œå¦‚ä¸‹æ‰€ç¤ºã€‚

![](img/5835e687656ac5c5a90468fe7fa06d51.png)

CloudCompare çš„ GUIã€‚æ¥æºï¼š[learngeodata.eu](http://learngeodata.eu)

ä»é‚£é‡Œï¼Œæˆ‘ä»¬é€šè¿‡æ‹–æ”¾çš„æ–¹å¼åŠ è½½ä¸‹è½½çš„.laz æ–‡ä»¶ï¼Œå¹¶åœ¨å¯¼å…¥æ—¶ä»å¼¹å‡ºçš„èœå•ä¸­é€‰æ‹©ä¸€äº›å±æ€§ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚

![](img/b203996c036f86e53f4b5ac0b5fd6e28.png)

åœ¨ CloudCompare ä¸­å¯¼å…¥ 3D ç‚¹äº‘ã€‚æˆ‘ä»¬ç¡®ä¿é€‰æ‹©ç›¸å…³ç‰¹å¾è¿›è¡ŒåŠ è½½ã€‚Â© F. Poux

ğŸ¦š **æ³¨æ„**ï¼š*æˆ‘ä»¬å–æ¶ˆé€‰æ‹©æ‰€æœ‰å­—æ®µä»¥é¢„é€‰ä¸€äº›å¸¦æ¥ä¸ç›¸å…³æˆ–ä½ç›¸å…³ä¿¡æ¯çš„ç‰¹å¾ä»¥åŠæ¯ä¸ªç‚¹çš„æ ‡ç­¾ï¼Œè¿™äº›æ ‡ç­¾å¯èƒ½æŒ‡ç¤ºçœŸå®æƒ…å†µã€‚å› æ­¤ï¼Œæˆ‘ä»¬åªä¿ç•™å¼ºåº¦å’Œåˆ†ç±»å­—æ®µã€‚ç¡®å®ï¼Œç”±äºæˆ‘ä»¬é’ˆå¯¹çš„æ˜¯èˆªç©ºç‚¹äº‘ï¼Œæˆ‘ä»¬å¸Œæœ›é€‰æ‹©èƒ½å¤Ÿé«˜æ•ˆæ³›åŒ–çš„ç‰¹å¾ã€‚å› æ­¤ï¼Œæˆ‘ä»¬çš„ç›®æ ‡æ˜¯é€‰æ‹©åœ¨æœªæ ‡è®°çš„æ•°æ®ä¸­å¯èƒ½æ‰¾åˆ°çš„ç‰¹å¾ï¼Œä»¥ä¾¿æˆ‘ä»¬åç»­çš„æ¨¡å‹èƒ½å¤Ÿåœ¨è¿™äº›æ•°æ®ä¸Šè¿›è¡Œè¡¨ç°ã€‚æ­¤å¤–ï¼Œç‚¹äº‘è¿˜å…·æœ‰ RGB ä¿¡æ¯ï¼Œè¿™ä¹Ÿæ˜¯ä¸€ä¸ªä¸é”™çš„é€‰æ‹©ã€‚*

åœ¨è¿™ä¸€é˜¶æ®µï¼Œ**ä¸ƒ**ä¸ªé€‰å®šçš„ç‰¹å¾å¦‚ä¸‹ï¼šXã€Y å’Œ Zï¼ˆç©ºé—´ï¼‰ï¼ŒRã€Gã€Bï¼ˆè¾å°„è®¡ï¼‰ï¼Œä»¥åŠå¼ºåº¦ã€‚æ­¤å¤–ï¼Œæˆ‘ä»¬ä¿ç•™æ¥è‡ª.laz æ–‡ä»¶åˆ†ç±»å­—æ®µçš„ AHN4 æ ‡ç­¾ã€‚æˆåŠŸå°† 3D èˆªç©ºç‚¹äº‘å¯¼å…¥ CloudCompare åï¼Œæˆ‘ä»¬å°±å‡†å¤‡å¥½è¿›è¡Œåˆ†æå’Œå¯è§†åŒ–äº†ã€‚æˆ‘ä»¬å¯ä»¥å¿«é€ŸæŸ¥çœ‹â€œ`å¯¹è±¡å±æ€§é¢æ¿`ï¼ˆ3ï¼‰â€ä¸­çš„ä¸¤ä¸ªé¢å¤–å­—æ®µï¼ˆå¼ºåº¦å’Œåˆ†ç±»ï¼‰ã€‚å¦‚æœæˆ‘ä»¬ç ”ç©¶å¼ºåº¦ï¼Œä¼šå‘ç°ä¸€äº›ç¦»ç¾¤ç‚¹ç¨å¾®åç§»äº†æˆ‘ä»¬çš„ç‰¹å¾å‘é‡ï¼Œå¦‚ä¸‹æ‰€ç¤ºã€‚

![](img/307997f24d50733e36cbacf3eab5ff5e.png)![](img/2f693937a99497d559776950f99ad7e3.png)

å¼ºåº¦ç€è‰²çš„ç‚¹äº‘åŠå…¶åˆ†å¸ƒç›´æ–¹å›¾ã€‚Â© F. Poux

å¦‚æœæˆ‘ä»¬æƒ³å°†å…¶ç”¨ä½œ PointNet çš„è¾“å…¥ç‰¹å¾ï¼Œè¿™æ˜¯æˆ‘ä»¬å¿…é¡»è§£å†³çš„ç¬¬ä¸€ä¸ªè§‚å¯Ÿç‚¹ã€‚

å…³äºé¢œè‰²å€¼ï¼ˆçº¢è‰²ã€ç»¿è‰²ã€è“è‰²ï¼‰ï¼Œå®ƒä»¬æ˜¯ä»å¦ä¸€ä¸ªä¼ æ„Ÿå™¨è·å¾—çš„ï¼Œå¯èƒ½æ˜¯åœ¨å¦ä¸€ä¸ªæ—¶é—´ã€‚å› æ­¤ï¼Œç”±äºå®ƒä»¬æ˜¯ä»è¯¥åŒºåŸŸçš„ç°æœ‰æ­£å°„å½±åƒä¸­åˆæˆçš„ï¼Œæˆ‘ä»¬å¯èƒ½ä¼šé‡åˆ°ä¸€äº›ç²¾åº¦/é‡æŠ•å½±é—®é¢˜ã€‚ä½†æ­£å¦‚ä½ æ‰€æƒ³ï¼Œèƒ½å¤Ÿå°†ç»¿è‰²å…ƒç´ ä¸çº¢è‰²å…ƒç´ åˆ†å¼€åº”è¯¥èƒ½ç»™æˆ‘ä»¬ä¸€ä¸ªæ¸…æ™°çš„æŒ‡ç¤ºï¼Œè¡¨æ˜ä¸€ä¸ªç‚¹å±äºæ¤è¢«ç±»åˆ«çš„æ¦‚ç‡ğŸ˜ã€‚

![](img/cf669bf4b9eaaa56b0230b3b0fae2209.png)

LiDAR æ•°æ®é›†ä½¿ç”¨æ­£å°„å½±åƒç€è‰²ä»¥è·å– Rã€Gã€B ç‰¹å¾ã€‚Â© F. Poux

æˆ‘ä»¬æœ‰ä¸€ä¸ªç‚¹äº‘ï¼Œå…¶ä¸­åŒ…å« 3200 ä¸‡ä¸ªç‚¹ï¼Œä»¥ç¬›å¡å°”åæ ‡ç³»ï¼ˆXï¼ŒYï¼ŒZï¼‰è¡¨ç¤ºï¼Œæ¯ä¸ªç‚¹éƒ½æœ‰å¼ºåº¦ç‰¹å¾å’Œé¢œè‰²ï¼ˆçº¢è‰²ã€ç»¿è‰²å’Œè“è‰²ï¼‰ã€‚

ğŸ¦š **æ³¨æ„**ï¼š*ä½ å¯ä»¥å°†è¿™ä¸ªé˜¶æ®µç•™åˆ°åé¢ï¼Œå› ä¸ºä½ å¯èƒ½ä¼šæœ‰è®¸å¤šé€‰æ‹©çš„ç‰¹å¾ï¼Œä¾‹å¦‚ä¸‹é¢æ‰€ç¤ºçš„è¿‘çº¢å¤–ï¼ˆNIRï¼‰é€šé“ï¼Œå®ƒåœ¨æ•°æ®é›†ä¸­æ˜¯å¯ç”¨çš„ã€‚ä¾‹å¦‚ï¼Œè¿™æ˜¯ä¸€ä¸ªæ–¹ä¾¿çš„å­—æ®µï¼Œå¯ä»¥çªå‡ºæ˜¾ç¤ºå¥åº·ï¼ˆæˆ–ä¸å¥åº·ï¼‰çš„æ¤è¢«ã€‚* ğŸ˜‰

![](img/dfe86ac1fc5d20e6293eb31f7c43f894.png)

è¿‘çº¢å¤–ç‰¹å¾ã€‚Â© F. Poux

å¦‚æœä½ æ»šåŠ¨å¯ç”¨çš„å­—æ®µï¼Œæˆ‘ä»¬è¿˜æœ‰å¦ä¸€ä¸ªæœ€åçš„æ ‡é‡å­—æ®µã€‚åˆ†ç±»å­—æ®µï¼Œå½“ç„¶ï¼è¿™å¯¹äºå¸®åŠ©æˆ‘ä»¬åˆ›å»ºæ ‡æ³¨æ•°æ®é›†éå¸¸æ–¹ä¾¿ï¼Œä»¥é¿å…ä»é›¶å¼€å§‹ï¼ˆæ„Ÿè°¢å¼€æ”¾æ•°æ®ï¼ğŸ‘Œï¼‰

![](img/4c87a229f0f68f78c29dcf7b5429bcfc.png)

æä¾›çš„åˆ†ç±»ã€‚Â© F. Poux

ğŸ¦š **æ³¨æ„**ï¼š*å‡ºäºæ•™å­¦åŸ¹è®­çš„ç›®çš„ï¼Œæˆ‘ä»¬å°†è€ƒè™‘å°†åˆ†ç±»ä½œä¸ºæ•™ç¨‹å‰©ä½™éƒ¨åˆ†çš„çœŸå®æƒ…å†µã€‚ç„¶è€Œï¼Œè¯·çŸ¥é“åˆ†ç±»æ˜¯æœ‰ä¸€å®šä¸ç¡®å®šæ€§çš„ï¼Œå¦‚æœä½ æƒ³è¦æœ€å¥½çš„æ¨¡å‹ï¼Œå¿…é¡»ä¿®æ­£å®ƒã€‚ç¡®å®ï¼Œæœ‰ä¸€å¥è‘—åçš„ 3D æ·±åº¦å­¦ä¹ æ ¼è¨€ï¼šåƒåœ¾è¿›=åƒåœ¾å‡ºã€‚å› æ­¤ï¼Œæ•°æ®çš„è´¨é‡åº”è¯¥æ˜¯é¦–è¦çš„ã€‚*

è®©æˆ‘ä»¬ä¸“æ³¨äºç²¾ç‚¼æ ‡æ³¨é˜¶æ®µã€‚

# ç¬¬ 4 æ­¥ï¼š3D æ•°æ®æ ‡æ³¨ï¼ˆæ ‡ç­¾è¿æ¥ï¼‰

![](img/b068f5f131c82160cb08b76f3f9f291b.png)

å¥½çš„ï¼Œåœ¨è¿›å…¥è¿™ä¸ªæ­¥éª¤ä¹‹å‰ï¼Œæˆ‘å¿…é¡»è¯´ç‚¹ä»€ä¹ˆã€‚3D ç‚¹äº‘æ ‡æ³¨ç”¨äºè®­ç»ƒæœ‰ç›‘ç£çš„ 3D è¯­ä¹‰åˆ†å‰²å­¦ä¹ æ¨¡å‹æ˜¯ä¸€ä¸ªï¼ˆç—›è‹¦çš„ï¼‰æ‰‹åŠ¨è¿‡ç¨‹ã€‚ç›®æ ‡æ˜¯ä¸º 3D ç‚¹äº‘ä¸­çš„å•ä¸ªç‚¹åˆ†é…æ ‡ç­¾ã€‚è¿™ä¸ªè¿‡ç¨‹çš„ä¸»è¦å…³é”®ç›®æ ‡åŒ…æ‹¬è¯†åˆ«ç‚¹äº‘ä¸­çš„ç›®æ ‡ç‰©ä½“ã€é€‰æ‹©åˆé€‚çš„æ ‡æ³¨æŠ€æœ¯ï¼Œå¹¶ç¡®ä¿æ ‡æ³¨è¿‡ç¨‹çš„å‡†ç¡®æ€§ã€‚

![](img/3e191ebfd0b0200319a3fa40a6bd9096.png)

æ ‡æ³¨è¿‡ç¨‹çš„ä¸€ä¸ªç¤ºä¾‹ï¼šæ ‡æ³¨ç°‡ä¸æ ‡æ³¨å•ä¸ªç‚¹ã€‚Â© F. Poux

è¦è¯†åˆ«ç‚¹äº‘ä¸­éœ€è¦æ ‡æ³¨çš„ç‰©ä½“æˆ–åŒºåŸŸï¼Œæˆ‘ä»¬å¯ä»¥æ‰‹åŠ¨æ£€æŸ¥äº‘ï¼Œæˆ–è€…ä½¿ç”¨åŸºäºç‰¹å¾ï¼ˆå¦‚å¤§å°ã€å½¢çŠ¶æˆ–é¢œè‰²ï¼‰è‡ªåŠ¨æ£€æµ‹ç‰¹å®šç‰©ä½“æˆ–åŒºåŸŸçš„ç®—æ³•ã€‚

[](https://learngeodata.eu/?source=post_page-----90398f880c9f--------------------------------) [## 3D Academy - ç‚¹äº‘åœ¨çº¿è¯¾ç¨‹

### ä¸ºæ•™å¸ˆã€ç ”ç©¶äººå‘˜ã€å¼€å‘äººå‘˜å’Œå·¥ç¨‹å¸ˆæä¾›çš„æœ€ä½³ 3D åœ¨çº¿è¯¾ç¨‹ã€‚æŒæ¡ 3D ç‚¹äº‘å¤„ç†åŠâ€¦â€¦

[learngeodata.eu](https://learngeodata.eu/?source=post_page-----90398f880c9f--------------------------------)

åœ¨æˆ‘ä»¬çš„æ¡ˆä¾‹ä¸­ï¼Œæˆ‘ä»¬æœ‰ä¸€ä¸ªä¼˜åŠ¿ï¼šç‚¹äº‘å·²ç»è¢«åˆ†ç±»ã€‚å› æ­¤ï¼Œç¬¬ä¸€æ­¥æ˜¯å°†æ¯ä¸ªç±»åˆ«æå–ä¸ºç‹¬ç«‹çš„ç‚¹äº‘ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚

![](img/a96b31c90a448c3ff94dff8288789a7c.png)

é¦–å…ˆï¼Œæˆ‘ä»¬é€‰æ‹©ç‚¹äº‘å¹¶å°†â€œé¢œè‰²â€å±æ€§ä» RGB åˆ‡æ¢åˆ°æ ‡é‡åœºã€‚ç„¶åç¡®ä¿æˆ‘ä»¬å¯è§†åŒ–åˆ†ç±»æ ‡é‡åœºã€‚ä»é‚£é‡Œï¼Œæˆ‘ä»¬è½¬åˆ° EDIT > Scalar Field > Split Cloud by Integer Valueï¼Œä»è€Œåœ¨ç‚¹äº‘ä¸­ä¸ºæ¯ä¸ªç±»åˆ«ç”Ÿæˆä¸€ä¸ªç‚¹äº‘ã€‚

ä»æˆ‘ä»¬å¾—åˆ°çš„å„ç§ç‚¹äº‘ç±»åˆ«ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼š

```py
class 1 = vegetation + clutter
class 2 = ground
class 6 = buildings
class 9 = water
class 26 = bridge. 
```

ä»é‚£é‡Œï¼Œæˆ‘ä»¬å¯ä»¥é‡æ–°å¤„ç†`class 1 = vegetation + clutter`ã€‚

å¿…é¡»æ ¹æ®ç‰¹å®šä»»åŠ¡å’Œå¯ç”¨æ•°æ®é€‰æ‹©åˆé€‚çš„æ ‡è®°æŠ€æœ¯ã€‚ä¾‹å¦‚ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨æ— ç›‘ç£æŠ€æœ¯è¿›è¡Œæ›´å¤šçš„æ¢ç´¢æ€§åˆ†æï¼Œå¹¶é€šè¿‡é€‰æ‹©æ¤è¢«ä¸­çš„å€™é€‰ç‚¹æ¥è¿›è¡Œä¸€äº›é¢œè‰²é˜ˆå€¼å¤„ç†ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚

![](img/522101de53d3a12b1147e36185ae82c9.png)

æ ¹æ®é¢œè‰²ä¿¡æ¯å¯¹ç‚¹äº‘è¿›è¡Œåˆ†å‰²ï¼Œä»¥åŠè‡ªåŠ¨åŒ–çš„æ–¹å¼åˆ›å»ºæ›´ç²¾ç¡®çš„æ ‡ç­¾ã€‚Â© F. Poux

è¿™å°†ç»™å‡ºä¸å‡†ç¡®çš„ç»“æœï¼Œä½†å¯èƒ½ä¼šåŠ å¿«æ‰‹åŠ¨é€‰æ‹©å±äºæ¤è¢«çš„ä»»ä½•ç‚¹ã€‚

æœ€åï¼Œç¡®ä¿æ ‡ç­¾è¿‡ç¨‹çš„å‡†ç¡®æ€§å¯¹äºäº§ç”Ÿå¯é ç»“æœè‡³å…³é‡è¦ã€‚è¿™å¯ä»¥é€šè¿‡æ‰‹åŠ¨éªŒè¯æˆ–è´¨é‡æ§åˆ¶æŠ€æœ¯ï¼Œå¦‚äº¤å‰éªŒè¯æˆ–æ ‡æ³¨è€…ä¸€è‡´æ€§ï¼Œæ¥å®ç°ã€‚

ğŸ¦š **æ³¨æ„**ï¼š*äº†è§£æœ¯è¯­æ˜¯å¥½çš„ï¼Œä½†ä¸è¦å®³æ€•ã€‚è¿™äº›æ¦‚å¿µå¯ä»¥åœ¨åç»­é˜¶æ®µè¦†ç›–ã€‚ä¸€ä»¶äº‹ä¸€æ¬¡å®Œæˆã€‚* ğŸ˜‰

æœ€ç»ˆï¼Œæ ‡ç­¾è¿‡ç¨‹çš„å‡†ç¡®æ€§å°†ç›´æ¥å½±å“åç»­ä»»åŠ¡çš„è¡¨ç°ï¼ŒåŒ…æ‹¬ 3D è¯­ä¹‰åˆ†å‰²ã€‚åœ¨æˆ‘ä»¬çš„æ¡ˆä¾‹ä¸­ï¼Œæˆ‘ä»¬å°†æ•°æ®ç»„ç»‡å¦‚ä¸‹ï¼š

```py
Class 1 = ground
Class 2 = Vegetation
Class 3 = Buildings
Class 4 = Water
Class 0 = unannotated (All the remaining points)
```

æˆ‘ä»¬åœ¨ CloudCompare ä¸­æ‰§è¡Œæ­¤æ“ä½œã€‚

![](img/13bdd0ee2f63786bb858e28b0590edd6.png)

åœ¨ CloudCompare ä¸­ç»„ç»‡å„ç§ç±»åˆ«ã€‚Â© F. Poux

åœ¨ä¸ºæ¸…æ™°åº¦é‡å‘½åæˆ‘ä»¬çš„ä¸åŒç‚¹äº‘ï¼ˆåˆå§‹åŒ–ï¼‰åï¼Œæˆ‘ä»¬å°†ï¼ˆ1ï¼‰å°†æ‚ä¹±ç‰©ä½“åˆå¹¶ä¸ºä¸€ä¸ªå•ç‹¬çš„ç‚¹äº‘ï¼Œï¼ˆ2ï¼‰åˆ é™¤æ‰€æœ‰ç‚¹äº‘çš„åˆ†ç±»å­—æ®µï¼Œï¼ˆ3ï¼‰ç”¨æ–°çš„ç¼–å·é‡æ–°åˆ›å»ºåˆ†ç±»å­—æ®µï¼Œï¼ˆ4ï¼‰å…‹éš†æ‰€æœ‰ç‚¹äº‘ï¼Œï¼ˆ5ï¼‰åˆå¹¶å…‹éš†ç‚¹äº‘ï¼Œå¦‚ä¸‹æ‰€ç¤ºã€‚

![](img/9246ba132e80e03851d3b68b13f5ba5c.png)

åˆæ­¥å‡†å¤‡æˆ‘ä»¬çš„æ ‡ç­¾è¿›å…¥æ–°çš„ç‚¹äº‘ã€‚Â© F. Poux

![](img/2984926c752b2b5391615bda185f70c3.png)

æ•°æ®å‡†å¤‡é˜¶æ®µåœ¨ CloudCompare ä¸­æ‰§è¡Œã€‚Â© F. Poux

ç°åœ¨ï¼Œæˆ‘ä»¬æœ‰ä¸€ä¸ªå¸¦æ ‡ç­¾çš„æ•°æ®é›†ï¼Œå¹¶å…·æœ‰ç‰¹å®šçš„ç‚¹æ ‡ç­¾åˆ†å¸ƒã€‚

![](img/f3252ee1a485053c68189023813c73c5.png)![](img/d15e1321ad392c59e82714c17eb58ac8.png)

æˆ‘ä»¬æ³¨æ„åˆ°ï¼Œåœ¨ 32,080,350 ä¸ªç‚¹ä¸­ï¼Œ23,131,067 ä¸ªå±äºåœ°é¢ï¼ˆ72%ï¼‰ï¼Œ7,440,825 ä¸ªå±äºæ¤è¢«ï¼ˆ23%ï¼‰ï¼Œ1,146,575 ä¸ªå±äºå»ºç­‘ç‰©ï¼ˆ4%ï¼‰ï¼Œ191,039 ä¸ªå±äºæ°´ä½“ï¼ˆä¸åˆ° 1%ï¼‰ï¼Œå‰©ä½™çš„ 170,844 ä¸ªæœªæ ‡è®°ï¼ˆç±»åˆ« 0ï¼‰ã€‚è¿™å°†éå¸¸æœ‰è¶£ï¼Œå› ä¸ºæˆ‘ä»¬å¤„äºè¿™ä¸ªç‰¹å®šçš„ä¸å¹³è¡¡æƒ…å†µä¸­ï¼Œå…·æœ‰ä¸»å¯¼ç±»åˆ«ã€‚

ç°åœ¨æˆ‘ä»¬å·²ç»åˆ†æäº†ç‚¹äº‘çš„å†…å®¹å¹¶ç»†åŒ–äº†æ ‡ç­¾ï¼Œæˆ‘ä»¬å¯ä»¥*æ·±å…¥*è¿›è¡Œç‰¹å¾é€‰æ‹©ã€‚

# ç¬¬ 5 æ­¥ã€‚3D ç‰¹å¾é€‰æ‹©

![](img/e2b0c2ad5eedfee4eb23e276a88572b8.png)

åœ¨ä½¿ç”¨ PointNet æ¶æ„è¿›è¡Œ 3D ç‚¹äº‘è¯­ä¹‰åˆ†å‰²æ—¶ï¼Œç‰¹å¾é€‰æ‹©å¯¹äºå‡†å¤‡è®­ç»ƒæ•°æ®è‡³å…³é‡è¦ã€‚

åœ¨ä¼ ç»Ÿæœºå™¨å­¦ä¹ æ–¹æ³•ä¸­ï¼Œé€šå¸¸éœ€è¦ç‰¹å¾å·¥ç¨‹æ¥é€‰æ‹©å’Œæå–æ•°æ®ä¸­çš„ç›¸å…³ç‰¹å¾ã€‚ç„¶è€Œï¼Œä½¿ç”¨ PointNet ç­‰æ·±åº¦å­¦ä¹ æ–¹æ³•å¯ä»¥é¿å…è¿™ä¸€æ­¥éª¤ï¼Œå› ä¸ºæ¨¡å‹å¯ä»¥è‡ªåŠ¨å­¦ä¹ ä»æ•°æ®ä¸­æå–ç‰¹å¾ã€‚

ç„¶è€Œï¼Œç¡®ä¿è¾“å…¥æ•°æ®åŒ…å«æ¨¡å‹å­¦ä¹ ç›¸å…³å’Œæ¨å¯¼ç‰¹å¾æ‰€éœ€çš„ä¿¡æ¯ä»ç„¶å¾ˆé‡è¦ã€‚æˆ‘ä»¬ä½¿ç”¨ä¸ƒä¸ªç‰¹å¾ï¼š`X`ã€`Y`ã€`Z`ï¼ˆç©ºé—´å±æ€§ï¼‰ã€`R`ã€`G`ã€`B`ï¼ˆè¾å°„å±æ€§ï¼‰å’Œå¼ºåº¦`I`ï¼ˆæ¿€å…‰é›·è¾¾è¡ç”Ÿï¼‰ã€‚

```py
X                Y              Z          R  G   B  INTENSITY
205980.49800000 465875.02398682 7.10500002 90 110 98 1175.000000
205980.20100001 465875.09802246 7.13500023 87 107 95 1115.000000
205982.29800010 465875.00000000 7.10799980 90 110 98 1112.000000
```

è¿™æ˜¯æˆ‘ä»¬çš„å‚è€ƒã€‚è¿™æ„å‘³ç€æˆ‘ä»¬å°†ä½¿ç”¨è¿™ä¸ªè¾“å…¥æ¥æ„å»ºæ¨¡å‹ï¼Œä»»ä½•æˆ‘ä»¬å¸Œæœ›ç”¨è®­ç»ƒå¥½çš„ PointNet æ¨¡å‹å¤„ç†çš„å…¶ä»–æ•°æ®é›†å¿…é¡»åŒ…å«è¿™äº›ç›¸åŒçš„ç‰¹å¾ã€‚åœ¨è¿›å…¥ Python ä¹‹å‰ï¼Œæœ€åä¸€æ­¥æ˜¯æ ¹æ®æ¶æ„è§„èŒƒç»“æ„åŒ–æ•°æ®ã€‚

# ç¬¬ 6 æ­¥ã€‚æ•°æ®ç»“æ„åŒ–ï¼ˆç“¦ç‰‡åŒ–ï¼‰

![](img/42c2dea08aaaf1a4b1414d386c5aa486.png)

ç”±äºå‡ ä¸ªåŸå› ï¼Œåœ¨ä½¿ç”¨ç¥ç»ç½‘ç»œæ¶æ„ PointNet å¤„ç† 3D ç‚¹äº‘æ—¶ï¼Œå°†å…¶ç»“æ„åŒ–ä¸ºæ­£æ–¹å½¢ç“¦ç‰‡æ˜¯å¿…è¦çš„ã€‚

![](img/201d5711e9e23692b603a0205f583a20.png)

åœ¨æ­¤å·¥ä½œæµä¸­çš„ç“¦ç‰‡å®šä¹‰æ˜¯è®­ç»ƒ PointNet 3D æ·±åº¦å­¦ä¹ æ¶æ„ã€‚Â© F. Poux

é¦–å…ˆï¼ŒPointNet è¦æ±‚è¾“å…¥æ•°æ®ä¸ºå›ºå®šå¤§å°ï¼Œè¿™æ„å‘³ç€æ‰€æœ‰è¾“å…¥æ ·æœ¬åº”å…·æœ‰ç›¸åŒæ•°é‡çš„ç‚¹ã€‚é€šè¿‡å°† 3D ç‚¹äº‘åˆ†å‰²æˆæ­£æ–¹å½¢ç“¦ç‰‡ï¼Œæˆ‘ä»¬å¯ä»¥ç¡®ä¿æ¯ä¸ªç“¦ç‰‡å…·æœ‰æ›´å‡åŒ€çš„ç‚¹æ•°é‡ï¼Œä½¿ PointNet èƒ½å¤Ÿä¸€è‡´æœ‰æ•ˆåœ°å¤„ç†å®ƒä»¬ï¼Œè€Œä¸ä¼šåœ¨é‡‡æ ·åˆ°æœ€ç»ˆå›ºå®šç‚¹æ•°æ—¶äº§ç”Ÿé¢å¤–å¼€é”€æˆ–ä¸å¯é€†æŸå¤±ã€‚

![](img/40b8d89038937bdcdf14757276160636.png)

é‡‡æ ·ç­–ç•¥å¯¹ 3D ç‚¹äº‘æ•°æ®é›†çš„å½±å“ç¤ºä¾‹ã€‚Â© F. Poux

ğŸŒ± **å¢é•¿**ï¼š*ä½¿ç”¨ PointNet æ—¶ï¼Œæˆ‘ä»¬éœ€è¦å°†è¾“å…¥ç“¦ç‰‡å›ºå®šä¸ºæ¨èçš„ 4096 ä¸ªç‚¹ã€‚è¿™æ„å‘³ç€éœ€è¦ä¸€ç§é‡‡æ ·ç­–ç•¥ï¼ˆ****CloudCompare ä¸­æœªå®ç°****ï¼‰ã€‚å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œä½¿ç”¨ä¸åŒç­–ç•¥å¯¹ç‚¹äº‘è¿›è¡Œé‡‡æ ·å°†äº§ç”Ÿä¸åŒçš„ç»“æœå’Œç‰©ä½“è¯†åˆ«èƒ½åŠ›ï¼ˆä¾‹å¦‚å³ä¾§çš„ç”µçº¿æ†ï¼‰ã€‚ä½ è®¤ä¸ºè¿™ä¼šå½±å“ 3D æ·±åº¦å­¦ä¹ æ¶æ„çš„æ€§èƒ½å—ï¼Ÿ*

å…¶æ¬¡ï¼ŒPointNet çš„æ¶æ„æ¶‰åŠåº”ç”¨äºæ¯ä¸ªç‚¹çš„å…±äº«å¤šå±‚æ„ŸçŸ¥æœºï¼ˆMLPï¼‰ï¼Œè¿™æ„å‘³ç€ç½‘ç»œåœ¨å¤„ç†æ¯ä¸ªç‚¹æ—¶æ˜¯ç‹¬ç«‹çš„ï¼Œä¸è€ƒè™‘å…¶é‚»å±…ã€‚é€šè¿‡å°†ç‚¹äº‘ç»“æ„åŒ–ä¸ºç“¦ç‰‡ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ä¿æŒæ¯ä¸ªç‚¹å±€éƒ¨ä¸Šä¸‹æ–‡çš„åŒæ—¶ï¼Œè®©ç½‘ç»œç‹¬ç«‹å¤„ç†ç‚¹ï¼Œä»è€Œä»æ•°æ®ä¸­æå–æœ‰æ„ä¹‰çš„ç‰¹å¾ã€‚

![](img/3ecdd116091d1b33e4c152f15903a4f1.png)

ç”Ÿæˆçš„ 3D ç‚¹äº‘ç“¦ç‰‡ã€‚Â© F. Poux

æœ€åï¼Œå°† 3D ç‚¹äº‘ç»“æ„åŒ–ä¸ºç“¦ç‰‡ä¹Ÿå¯ä»¥æé«˜ç¥ç»ç½‘ç»œçš„è®¡ç®—æ•ˆç‡ï¼Œå› ä¸ºå®ƒå…è®¸å¯¹ç“¦ç‰‡è¿›è¡Œå¹¶è¡Œå¤„ç†ï¼Œä»è€Œå‡å°‘åˆ†ææ•´ä¸ªç‚¹äº‘æ‰€éœ€çš„æ€»ä½“å¤„ç†æ—¶é—´ï¼ˆåœ¨ GPU ä¸Šï¼‰ã€‚

æˆ‘ä»¬ä½¿ç”¨â€œæ¨ªæˆªé¢â€å·¥å…·ï¼ˆ1ï¼‰æ¥å®ç°è¿™ä¸€ç›®æ ‡ã€‚æˆ‘ä»¬å°†å¤§å°è®¾ç½®ä¸º 100 ç±³ï¼ˆ2ï¼‰ï¼Œç„¶åæ²¿ X è½´å’Œ Y è½´ï¼ˆè´Ÿæ–¹å‘ï¼‰ç§»åŠ¨ï¼Œä»¥å°½å¯èƒ½æ¥è¿‘åˆå§‹ç“¦ç‰‡çš„æœ€åº•éƒ¨è§’è½ï¼ˆ3ï¼‰ï¼Œæˆ‘ä»¬ä½¿ç”¨å¤šä¸ªåˆ‡ç‰‡æŒ‰é’®ï¼ˆ4ï¼‰ï¼Œæ²¿ X è½´å’Œ Y è½´é‡å¤ï¼ˆ5ï¼‰ï¼Œå¾—åˆ°æœ€ç»ˆçš„æ–¹å½¢ç“¦ç‰‡ï¼ˆ6ï¼‰ï¼Œå¦‚ä¸‹æ‰€ç¤ºã€‚

![](img/aa7854693120b84501c12c0d7faca466.png)

è‡ªåŠ¨åŒ–ç“¦ç‰‡åˆ›å»ºè¿‡ç¨‹åœ¨ CloudCompare ä¸­ã€‚Â© F. Poux

![](img/3b33c2155b7469d98c831fd5aa8d380c.png)

è‡ªåŠ¨åŒ–ç“¦ç‰‡åˆ›å»ºè¿‡ç¨‹åœ¨ CloudCompare ä¸­ã€‚Â© F. Poux

è¿™å…è®¸å®šä¹‰å¤§çº¦ä¸€ç™¾ç±³ä¹˜ä¸€ç™¾ç±³çš„ç“¦ç‰‡ï¼Œæ²¿ X è½´å’Œ Y è½´ã€‚æˆ‘ä»¬è·å¾—äº† 143 ä¸ªç“¦ç‰‡ï¼Œå…¶ä¸­æŠ›å¼ƒäº†æœ€å 13 ä¸ªç“¦ç‰‡ï¼Œå› ä¸ºå®ƒä»¬å¯èƒ½æ›´èƒ½ä»£è¡¨æˆ‘ä»¬å¸Œæœ›è¾“å…¥çš„å†…å®¹ï¼ˆå³ï¼Œå®ƒä»¬ä¸æ˜¯æ–¹å½¢ï¼Œå› ä¸ºå®ƒä»¬ä½äºè¾¹ç¼˜ï¼‰ã€‚åœ¨å‰©ä¸‹çš„ 130 ä¸ªç“¦ç‰‡ä¸­ï¼Œæˆ‘ä»¬é€‰æ‹©äº†å¤§çº¦ 20%å…·æœ‰ä»£è¡¨æ€§çš„ç“¦ç‰‡ï¼ˆæŒ‰ä½ Shift + é€‰æ‹©ï¼‰ï¼Œå¦‚ä¸‹æ‰€ç¤ºã€‚

![](img/61b8548c1516f4385b7d17717237774f.png)

å¯¹ PointNet è¿›è¡Œçš„é€‰æ‹©å’Œæ‰‹åŠ¨åˆ†å‰²è®­ç»ƒé›†å’Œæµ‹è¯•é›†ã€‚Â© F. Poux

ğŸŒ± **å¢é•¿**ï¼š*æˆ‘ä»¬æŒ‰ç…§ 80/20 çš„æ¯”ä¾‹å°†æ•°æ®åˆ†ä¸ºè®­ç»ƒé›†å’Œæµ‹è¯•é›†ã€‚åœ¨è¿™ä¸ªé˜¶æ®µï¼Œä½ æ€ä¹ˆçœ‹è¿™ç§æ–¹æ³•ï¼Ÿä½ è®¤ä¸ºä»€ä¹ˆæ ·çš„ç­–ç•¥æ¯”è¾ƒå¥½ï¼Ÿ*

åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬åœ¨è®­ç»ƒé›†å’Œæµ‹è¯•é›†ä¸­åˆ†åˆ«æ‹¥æœ‰çº¦ 100 ä¸ªç“¦ç‰‡å’Œ 30 ä¸ªç“¦ç‰‡ï¼Œæ¯ä¸ªç“¦ç‰‡éƒ½ä¿ç•™äº†åŸå§‹ç‚¹æ•°ã€‚ç„¶åï¼Œæˆ‘ä»¬é€‰æ‹©ä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œå°†æ¯ä¸ªç“¦ç‰‡å¯¼å‡ºä¸º ASCII æ–‡ä»¶ï¼Œå¦‚ä¸‹æ‰€ç¤ºã€‚

![](img/cc137efa069ddc07435b100aa870e872.png)

å°†ç‚¹äº‘ç“¦ç‰‡å¯¼å‡ºä»¥ä¾› PointNet ä½¿ç”¨

ğŸ¦š **æ³¨æ„**ï¼š*CloudCompare å…è®¸åœ¨é€‰æ‹©ä»¥ ASCII æ–‡ä»¶æ ¼å¼å¯¼å‡ºæ—¶ï¼Œå°†æ‰€æœ‰ç‚¹äº‘ç‹¬ç«‹å¯¼å‡ºåˆ°ä¸€ä¸ªç›®å½•ä¸­ã€‚å®ƒä¼šåœ¨æœ€åä¸€ä¸ªå­—ç¬¦ä¹‹åè‡ªåŠ¨ç¼©è¿›ï¼Œä½¿ç”¨â€œ*`*_*`*â€å­—ç¬¦ä»¥ç¡®ä¿ä¸€è‡´æ€§ã€‚è¿™éå¸¸æ–¹ä¾¿ï¼Œå¯ä»¥ä½¿ç”¨/æ»¥ç”¨ã€‚*

å°† 3D ç‚¹äº‘ç»“æ„åŒ–ä¸ºæ–¹å½¢ç“¦ç‰‡æ˜¯ä½¿ç”¨ PointNet æ—¶çš„ä¸€ä¸ªé‡è¦é¢„å¤„ç†æ­¥éª¤ã€‚å®ƒå…è®¸è¾“å…¥æ•°æ®å¤§å°çš„ä¸€è‡´æ€§ï¼Œä¿ç•™å±€éƒ¨ä¸Šä¸‹æ–‡ï¼Œå¹¶æé«˜è®¡ç®—æ•ˆç‡ï¼Œè¿™äº›éƒ½æœ‰åŠ©äºæ›´å‡†ç¡®å’Œé«˜æ•ˆçš„æ•°æ®å¤„ç†ã€‚è¿™æ˜¯è¿›å…¥ 3D Python ğŸ‰ä¹‹å‰çš„æœ€åä¸€æ­¥ã€‚

# ç¬¬ 7 æ­¥ã€‚3D Python æ•°æ®åŠ è½½

![](img/e1aae6522def0e1a19d8596c449407f2.png)

ç°åœ¨æ˜¯æ—¶å€™åœ¨ Python ä¸­å¤„ç†ç‚¹äº‘ç“¦ç‰‡äº†ã€‚

ä¸ºæ­¤ï¼Œæˆ‘ä»¬å¯¼å…¥æ‰€éœ€çš„åº“ã€‚å¦‚æœä½ ä½¿ç”¨çš„æ˜¯å¯ä»¥åœ¨è¿™é‡Œè®¿é—®çš„ Google Colab ç‰ˆæœ¬ï¼šğŸ’» Google Colab Codeï¼Œé‚£ä¹ˆé‡è¦çš„æ˜¯è¦è¿è¡Œä¸‹é¢æ‰€ç¤ºçš„ç¬¬ä¸€è¡Œï¼š

```py
from google.colab import drive
drive.mount('/content/gdrive')
```

å¯¹äºä»»ä½•è®¾ç½®ï¼Œæˆ‘ä»¬å¿…é¡»å¯¼å…¥ä¸‹è¿°å„ç§åº“ï¼š

```py
#Base libraries
import numpy as np
import random
import torch
#Plotting libraries
%matplotlib inline
from mpl_toolkits import mplot3d
import matplotlib.pyplot as plt
import plotly
import plotly.graph_objects as go
#Utilities libraries
from glob import glob
import os
```

å¤ªå¥½äº†ï¼ä»è¿™é‡Œå¼€å§‹ï¼Œæˆ‘ä»¬å°†æ•°æ®æ–‡ä»¶åæ‹†åˆ†åˆ°å„è‡ªçš„æ–‡ä»¶å¤¹ä¸­ï¼Œ`pointcloud_train_files`å’Œ`pointcloud_test_files`

```py
#specify data paths and extract filenames
project_dir="gdrive/My Drive/_UTWENTE/DATA/AHN4_33EZ2_12"
pointcloud_train_files = glob(os.path.join(project_dir, "train/*.txt"))
pointcloud_test_files = glob(os.path.join(project_dir, "test/*.txt"))
```

ğŸ¦š **æ³¨æ„**ï¼š*æˆ‘ä»¬åœ¨èµ„æºç®¡ç†å™¨ä¸­æœ‰ä¸¤ä¸ªæ–‡ä»¶å¤¹ï¼šè®­ç»ƒæ–‡ä»¶å¤¹å’Œæµ‹è¯•æ–‡ä»¶å¤¹ï¼Œå‡åœ¨* `AHN4_33EZ2_12` *æ–‡ä»¶å¤¹ä¸­ã€‚æˆ‘ä»¬åœ¨è¿™é‡Œåšçš„æ˜¯é¦–å…ˆæŒ‡å®šæ ¹æ–‡ä»¶å¤¹çš„è·¯å¾„ï¼Œç„¶åç”¨ glob æ”¶é›†è®­ç»ƒå’Œæµ‹è¯•ä¸­çš„æ‰€æœ‰æ–‡ä»¶ï¼Œä½¿ç”¨* `***` *è¡¨ç¤ºâ€œ*`é€‰æ‹©æ‰€æœ‰`â€ã€‚*ä¸€ç§å¤„ç†å¤šä¸ªæ–‡ä»¶çš„ä¾¿æ·æ–¹æ³•ï¼*

åœ¨è¿™ä¸€æ­¥ï¼Œä¸¤ä¸ªå˜é‡ä¿å­˜äº†æˆ‘ä»¬å‡†å¤‡å¥½çš„æ‰€æœ‰ç“¦ç‰‡çš„è·¯å¾„ã€‚ä¸ºäº†ç¡®ä¿è¿™ä¸€ç‚¹ï¼Œæˆ‘ä»¬å¯ä»¥æ‰“å°ä» 0 åˆ° 20 çš„éšæœºåˆ†å¸ƒä¸­éšæœºé€‰å–çš„ä¸€ä¸ªå…ƒç´ ï¼š

```py
print(pointcloud_train_files[random.randrange(20)])
>> gdrive/My Drive/_UTWENTE/DATA/AHN4_33EZ2_12/train/AHN4_33EZ2_12_train_000083.txt
```

å¤ªå¥½äº†ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥è¿›ä¸€æ­¥å°†æ•°æ®é›†æ‹†åˆ†æˆä¸‰ä¸ªå˜é‡ï¼š

+   **valid_list**ï¼šè¿™ä¿å­˜äº†éªŒè¯æ•°æ®è·¯å¾„ã€‚éªŒè¯æ‹†åˆ†é€šè¿‡åœ¨æ¯ä¸ªè®­ç»ƒå‘¨æœŸåå¾®è°ƒæ¨¡å‹æ¥å¸®åŠ©æé«˜æ¨¡å‹æ€§èƒ½ã€‚

+   **train_list**ï¼šè¿™ä¿å­˜äº†è®­ç»ƒæ•°æ®è·¯å¾„ï¼Œå³ç”¨äºè®­ç»ƒçš„æ•°æ®é›†ã€‚

+   **test_list**ï¼šè¿™ä¿å­˜äº†æµ‹è¯•æ•°æ®è·¯å¾„ã€‚æµ‹è¯•é›†å‘ŠçŸ¥æˆ‘ä»¬æ¨¡å‹åœ¨å®Œæˆè®­ç»ƒé˜¶æ®µåçš„æœ€ç»ˆå‡†ç¡®æ€§ã€‚

è¿™æ˜¯é€šè¿‡å‹å¥½çš„ numpy å‡½æ•°å®Œæˆçš„ï¼Œè¿™äº›å‡½æ•°ä½œç”¨äºåˆ—è¡¨ä¸­çš„æ•°ç»„ç´¢å¼•ã€‚å®é™…ä¸Šï¼Œæˆ‘ä»¬éšæœºæå–äº†`pointcloud_train_files`ä¸­çš„ 20%ï¼Œç„¶åå°†ä¿ç•™çš„éƒ¨åˆ†ä¸æœªä¿ç•™çš„éƒ¨åˆ†è¿›è¡Œåˆ†å‰²ï¼Œåè€…æ„æˆäº†`train_list`å˜é‡ã€‚

```py
#Prepare the data in a train set, a validation set (to tune the model parameters), and a test set (to evaluate the performances)
#The validation is made of a random 20% of the train set.
valid_index = np.random.choice(len(pointcloud_train_files),int(len(pointcloud_train_files)/5), replace=False)
valid_list = [pointcloud_train_files[i] for i in valid_index]
train_list = [pointcloud_train_files[i] for i in np.setdiff1d(list(range(len(pointcloud_train_files))),valid_index)]
test_list = pointcloud_test_files
print("%d tiles in train set, %d tiles in test set, %d files in valid list" % (len(train_list), len(test_list), len(valid_list)))
```

ç„¶åï¼Œæˆ‘ä»¬é€šè¿‡æŸ¥çœ‹ä¸­ä½æ•°ã€æ ‡å‡†å·®å’Œæœ€å°-æœ€å¤§å€¼æ¥éšæœºç ”ç©¶ä¸€ä¸ªæ•°æ®æ–‡ä»¶çš„å±æ€§ï¼Œä½¿ç”¨ä»¥ä¸‹ä»£ç ç‰‡æ®µï¼š

```py
tile_selected=pointcloud_train_files[random.randrange(20)]
print(tile_selected)
temp=np.loadtxt(tile_selected)
print('median\n',np.median(temp,axis=0))
print('std\n',np.std(temp,axis=0))
print('min\n',np.min(temp,axis=0))
print('max\n',np.max(temp,axis=0))
```

è¿™å°†äº§ç”Ÿï¼š

```py
gdrive/My Drive/_UTWENTE/DATA/AHN4_33EZ2_12/train/AHN4_33EZ2_12_train_000083.txt 
median [2.068e+05 4.659e+05 6.628e+00 1.060e+02 1.210e+02 1.030e+02 1.298e+03 1.000e+00] 
std [ 28.892 30.155 0.679 29.986 21.4 17.041 189.388 0.266] 
min [2.068e+05 4.659e+05 5.454e+00 3.600e+01 6.200e+01 5.700e+01 7.700e+01 0.000e+00] 
max [2.068e+05 4.660e+05 1.505e+01 2.510e+02 2.470e+02 2.330e+02 1.625e+03 4.000e+00]
```

æ­£å¦‚æˆ‘ä»¬æ‰€æ³¨æ„åˆ°çš„ï¼Œæœ‰ä¸€ä¸ªæ ¸å¿ƒé—®é¢˜éœ€è¦è§£å†³ï¼šæ•°æ®å½’ä¸€åŒ–ã€‚ç¡®å®ï¼Œä¸ºäº†é¿å…ä»»ä½•ä¸åŒ¹é…ï¼Œæˆ‘ä»¬éœ€è¦å¤„äºè¿™ç§â€œè§„èŒƒç©ºé—´â€ï¼Œè¿™æ„å‘³ç€æˆ‘ä»¬å¯ä»¥åœ¨ç‰¹å¾ç©ºé—´ä¸­å¤åˆ¶ç›¸åŒçš„å®éªŒç¯å¢ƒã€‚ä½¿ç”¨ T-Net å°±åƒç”¨ç«ç®­ç­’ğŸª°æ€è‹è‡ã€‚è¿™æ˜¯å¯ä»¥çš„ï¼Œä½†å¦‚æœæˆ‘ä»¬å¯ä»¥é¿å…å¹¶ä½¿ç”¨å®é™…ä¸€è‡´çš„æ–¹æ³•ï¼Œé‚£å°†æ›´èªæ˜ğŸ˜ã€‚

# æ­¥éª¤ 8\. 3D Python å½’ä¸€åŒ–

![](img/5ed3e236dc6c9533e86a3b7760f58254.png)

åœ¨å°† 3D ç‚¹äº‘ç“¦ç‰‡è¾“å…¥åˆ° PointNet æ¶æ„ä¹‹å‰è¿›è¡Œå½’ä¸€åŒ–è‡³å…³é‡è¦ï¼Œä¸»è¦æœ‰ä¸‰ä¸ªåŸå› ã€‚é¦–å…ˆï¼Œå½’ä¸€åŒ–ç¡®ä¿è¾“å…¥æ•°æ®å›´ç»•åŸç‚¹ä¸­å¿ƒï¼Œè¿™å¯¹äº PointNet çš„æ¶æ„è‡³å…³é‡è¦ï¼Œå› ä¸ºå®ƒå¯¹æ¯ä¸ªç‚¹ç‹¬ç«‹åº”ç”¨ MLPã€‚å½“è¾“å…¥æ•°æ®å›´ç»•åŸç‚¹ä¸­å¿ƒæ—¶ï¼ŒMLP æ›´æœ‰æ•ˆï¼Œè¿™ä½¿å¾—ç‰¹å¾æå–æ›´æœ‰æ„ä¹‰ï¼Œæ•´ä½“æ€§èƒ½æ›´å¥½ã€‚

![](img/e7e59d8169a06fc63c88463815748d87.png)

å½’ä¸€åŒ–å¯¹è®­ç»ƒ 3D æ·±åº¦å­¦ä¹ æ¨¡å‹ç»“æœçš„å½±å“ç¤ºæ„å›¾ã€‚Â© F. Poux

ğŸŒ± **æˆé•¿**ï¼š*åœ¨ç›²ç›®å½’ä¸€åŒ–ä¹‹å‰ï¼Œæœ‰äº›ç›´è§‰ä¹Ÿæ˜¯æœ‰ç›Šçš„ã€‚ä¾‹å¦‚ï¼Œæˆ‘ä»¬ä¸»è¦ä½¿ç”¨åŸºäºé‡åŠ›çš„åœºæ™¯ï¼Œè¿™æ„å‘³ç€ Z è½´å‡ ä¹æ€»æ˜¯ä¸ Z è½´å…±çº¿ã€‚å› æ­¤ï¼Œä½ ä¼šå¦‚ä½•å¤„ç†è¿™ç§å½’ä¸€åŒ–ï¼Ÿ*

å…¶æ¬¡ï¼Œå½’ä¸€åŒ–å°†ç‚¹äº‘æ•°æ®ç¼©æ”¾åˆ°ä¸€è‡´çš„èŒƒå›´ï¼Œè¿™æœ‰åŠ©äºé˜²æ­¢ MLP ä¸­çš„æ¿€æ´»å‡½æ•°é¥±å’Œã€‚è¿™ä½¿å¾—ç½‘ç»œèƒ½å¤Ÿä»æ•´ä¸ªè¾“å…¥å€¼èŒƒå›´ä¸­å­¦ä¹ ï¼Œæé«˜äº†å‡†ç¡®åˆ†ç±»æˆ–åˆ†å‰²æ•°æ®çš„èƒ½åŠ›ã€‚

![](img/e4f256a4ace3ba7acdfac220fe4cdac1.png)

åœ¨ 3D ç‚¹äº‘çš„å¼ºåº¦åœºä¸Šè¯´æ˜[0,1]ç¼©æ”¾çš„é—®é¢˜ã€‚Â© F. Poux

æœ€åï¼Œå½’ä¸€åŒ–æœ‰åŠ©äºå‡å°‘ç‚¹äº‘æ•°æ®ä¸­ä¸åŒå°ºåº¦çš„å½±å“ï¼Œè¿™å¯èƒ½æ˜¯ç”±äºä¼ æ„Ÿå™¨åˆ†è¾¨ç‡æˆ–æ‰«æç‰©ä½“çš„è·ç¦»å·®å¼‚ï¼ˆåœ¨èˆªæ‹ LiDAR æ•°æ®ä¸­æœ‰æ‰€å¹³å¦åŒ–ï¼‰ã€‚è¿™æé«˜äº†æ•°æ®çš„ä¸€è‡´æ€§å’Œç½‘ç»œä»ä¸­æå–æœ‰æ„ä¹‰ç‰¹å¾çš„èƒ½åŠ›ã€‚

å¥½çš„ï¼Œè®©æˆ‘ä»¬å¼€å§‹å§ã€‚å¯¹äºæˆ‘ä»¬çš„å®éªŒï¼Œæˆ‘ä»¬å°†é¦–å…ˆæ•æ‰ç‰¹å¾çš„æœ€å°å€¼`min_f`å’Œå¹³å‡å€¼`mean_f`ï¼š

```py
cloud_data=temp.transpose()
min_f=np.min(cloud_data,axis=1)
mean_f=np.mean(cloud_data,axis=1)
```

ğŸ¦š **æ³¨æ„**ï¼š*æˆ‘ä»¬å¯¹æ•°æ®é›†è¿›è¡Œäº†è½¬ç½®ï¼Œä»¥æ›´é«˜æ•ˆã€ä¾¿æ·åœ°å¤„ç†æ•°æ®å’Œç´¢å¼•ã€‚å› æ­¤ï¼Œè¦è·å–ç‚¹äº‘çš„* `X-axis` *å…ƒç´ ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥ä½¿ç”¨* `cloud_data[0]` *è€Œä¸æ˜¯* `cloud_data[:,0]`*ï¼Œè¿™æ ·å¯ä»¥å‡å°‘ä¸€äº›å¼€é”€ã€‚*

æˆ‘ä»¬ç°åœ¨å°†å¯¹ä¸åŒçš„ç‰¹å¾è¿›è¡Œå½’ä¸€åŒ–ï¼Œä»¥ç”¨äºæˆ‘ä»¬çš„ PointNet ç½‘ç»œã€‚é¦–å…ˆæ˜¯ç©ºé—´åæ ‡ Xã€Y å’Œ Zã€‚æˆ‘ä»¬å°†æŠŠæ•°æ®ä¸­å¿ƒåŒ–åˆ°å¹³é¢åæ ‡è½´ï¼ˆX å’Œ Yï¼‰ï¼Œå¹¶ç¡®ä¿å‡å» Z çš„æœ€å°å€¼ï¼Œä»¥åŒºåˆ†å±‹é¡¶å’Œåœ°é¢ï¼Œä¾‹å¦‚ï¼š

```py
n_coords = cloud_data[0:3]
n_coords[0] -= mean_f[0]
n_coords[1] -= mean_f[1]
n_coords[2] -= min_f[2]
print(n_coords)
```

å¾ˆå¥½ï¼Œç°åœ¨æˆ‘ä»¬å¯ä»¥é€šè¿‡ç¡®ä¿æˆ‘ä»¬åœ¨[0,1]èŒƒå›´å†…æ¥ç¼©æ”¾æˆ‘ä»¬çš„é¢œè‰²ã€‚è¿™æ˜¯é€šè¿‡å°†æ‰€æœ‰é¢œè‰²çš„æœ€å¤§å€¼ï¼ˆ255ï¼‰è¿›è¡Œé™¤æ³•å®ç°çš„ï¼š

```py
colors = cloud_data[3:6]/255
```

æœ€åï¼Œæˆ‘ä»¬å°†å¤„ç†å¼ºåº¦ç‰¹å¾çš„å½’ä¸€åŒ–ã€‚åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬å°†ä½¿ç”¨åˆ†ä½æ•°æ¥è·å¾—å¯¹å¼‚å¸¸å€¼å…·æœ‰é²æ£’æ€§çš„å½’ä¸€åŒ–ï¼Œå°±åƒæˆ‘ä»¬åœ¨æ¢ç´¢æ•°æ®æ—¶çœ‹åˆ°çš„é‚£æ ·ã€‚è¿™æ˜¯é€šè¿‡ä¸‰ä¸ªé˜¶æ®µçš„è¿‡ç¨‹å®Œæˆçš„ã€‚é¦–å…ˆï¼Œæˆ‘ä»¬è®¡ç®—å››åˆ†ä½å·®`IQR`ï¼Œå³ç¬¬ 75 ä¸ªåˆ†ä½æ•°å’Œç¬¬ 25 ä¸ªåˆ†ä½æ•°ä¹‹é—´çš„å·®å€¼ã€‚ç„¶åæˆ‘ä»¬ä»æ‰€æœ‰è§‚æµ‹å€¼ä¸­å‡å»ä¸­ä½æ•°ï¼Œå¹¶é™¤ä»¥å››åˆ†ä½å·®ã€‚æœ€åï¼Œæˆ‘ä»¬å‡å»å¼ºåº¦çš„æœ€å°å€¼ï¼Œä»¥è·å¾—æ˜¾è‘—çš„å½’ä¸€åŒ–ï¼š

```py
# The interquartile difference is the difference between the 75th and 25th quantile
IQR = np.quantile(cloud_data[-2],0.75)-np.quantile(cloud_data[-2],0.25)
# We subtract the median to all the observations and then divide by the interquartile difference
n_intensity = ((cloud_data[-2] - np.median(cloud_data[-2])) / IQR)
#This permits to have a scaling robust to outliers (which is often the case)
n_intensity -= np.min(n_intensity)
print(n_intensity)
```

å¤ªæ£’äº†ï¼åœ¨è¿™ä¸€é˜¶æ®µï¼Œæˆ‘ä»¬å·²ç»æœ‰äº†ä¸€ä¸ªå½’ä¸€åŒ–çš„ç‚¹äº‘ï¼Œå‡†å¤‡å¥½è¾“å…¥ PointNet æ¶æ„ã€‚ä½†æ˜¯è‡ªåŠ¨åŒ–è¿™ä¸ªè¿‡ç¨‹æ˜¯æ‰§è¡Œæ‰€æœ‰ç“¦ç‰‡çš„ä¸‹ä¸€æ­¥é€»è¾‘æ­¥éª¤ã€‚

## åˆ›å»ºä¸€ä¸ªç‚¹äº‘ç“¦ç‰‡åŠ è½½å’Œå½’ä¸€åŒ–å‡½æ•°

æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªå‡½æ•°`cloud_loader`ï¼Œå®ƒä»¥ä¸€ä¸ªç“¦ç‰‡è·¯å¾„`tile_path`å’Œä¸€ä¸ªç”¨äºçš„ç‰¹å¾å­—ç¬¦ä¸²`features_used`ä½œä¸ºè¾“å…¥ï¼Œå¹¶è¾“å‡ºä¸€ä¸ª`cloud_data`å˜é‡ï¼Œå…¶ä¸­åŒ…å«å½’ä¸€åŒ–ç‰¹å¾ï¼Œä»¥åŠä¸€ä¸ªçœŸå®æ ‡ç­¾å˜é‡`gt`ï¼Œå…¶ä¸­åŒ…å«æ¯ä¸ªç‚¹çš„æ ‡ç­¾ã€‚è¯¥å‡½æ•°å°†å¦‚ä¸‹æ“ä½œï¼š

![](img/8098b012294e7a76b4bb61349c8e7bbd.png)

å®šä¹‰ä¸€ä¸ªäº‘åŠ è½½å‡½æ•°æ¥å¤„ç†ç‚¹äº‘æ•°æ®é›†ï¼Œå¹¶ä½¿å…¶å‡†å¤‡å¥½ç”¨äºè®­ç»ƒã€‚Â© F. Poux

è¿™è½¬æ¢ä¸ºä¸€ä¸ªç®€å•çš„`cloud_loader`å‡½æ•°ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š

```py
# We create a function that loads and normalize a point cloud tile
def cloud_loader(tile_path, features_used):
  cloud_data = np.loadtxt(tile_path).transpose()
  min_f=np.min(cloud_data,axis=1)
  mean_f=np.mean(cloud_data,axis=1)
  features=[]
  if 'xyz' in features_used:
    n_coords = cloud_data[0:3]
    n_coords[0] -= mean_f[0]
    n_coords[1] -= mean_f[1]
    n_coords[2] -= min_f[2]
    features.append(n_coords)
  if 'rgb' in features_used:
    colors = cloud_data[3:6]/255
    features.append(colors)
  if 'i' in features_used:
    IQR = np.quantile(cloud_data[-2],0.75)-np.quantile(cloud_data[-2],0.25)
    n_intensity = ((cloud_data[-2] - np.median(cloud_data[-2])) / IQR)
    n_intensity -= np.min(n_intensity)
    features.append(n_intensity)

  gt = cloud_data[-1]
  gt = torch.from_numpy(gt).long()

  cloud_data = torch.from_numpy(np.vstack(features))
return cloud_data, gt
```

è¯¥å‡½æ•°ç°åœ¨ç”¨äºè·å–ç‚¹äº‘ç‰¹å¾å’Œæ ‡ç­¾ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š

```py
pc, labels = cloud_loader(tile_selected, â€˜xyzrgbiâ€™)
```

ğŸŒ± **æˆé•¿**ï¼š*å¦‚ä½ æ‰€è§ï¼Œæˆ‘ä»¬ä¼ é€’äº†ä¸€ä¸ªç‰¹å¾çš„å­—ç¬¦ä¸²ã€‚è¿™å¯¹äºæˆ‘ä»¬ä¸åŒçš„â€˜*`*if*`*â€™æµ‹è¯•éå¸¸æ–¹ä¾¿ã€‚ç„¶è€Œï¼Œè¯·æ³¨æ„ï¼Œå¦‚æœä¼ é€’ç»™å‡½æ•°çš„å†…å®¹ä¸ç¬¦åˆé¢„æœŸï¼Œæˆ‘ä»¬ä¸ä¼šè¿”å›é”™è¯¯ã€‚è¿™ä¸æ˜¯æ ‡å‡†çš„ä»£ç å®è·µï¼Œä½†è¿™æ‰©å±•äº†æœ¬æ•™ç¨‹çš„èŒƒå›´*ã€‚ *å¦‚æœä½ æƒ³å¼€å§‹ç¼–å†™æ¼‚äº®çš„ä»£ç ï¼Œæˆ‘å»ºè®®æŸ¥çœ‹ PEP-8 æŒ‡å—ã€‚*

# æ­¥éª¤ 9\. 3D Python äº¤äº’å¼å¯è§†åŒ–

![](img/38078309e7c97475a7442c021a49a0f2.png)

å¦‚æœæˆ‘ä»¬æƒ³è¦å¹³è¡Œäºä»¥å‰çš„æ–‡ç« ï¼Œå¯ä»¥åœ¨è¿™é‡Œè®¿é—®ï¼š

[](/3d-python-workflows-for-lidar-point-clouds-100ff40e4ff0?source=post_page-----90398f880c9f--------------------------------) ## LiDAR åŸå¸‚æ¨¡å‹çš„ 3D Python å·¥ä½œæµï¼šé€æ­¥æŒ‡å—

### è§£é” 3D åŸå¸‚å»ºæ¨¡åº”ç”¨çš„**ç»ˆææŒ‡å—**ã€‚è¯¥æ•™ç¨‹æ¶µç›– Pythonâ€¦

[towardsdatascience.com

æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ Open3D å¯è§†åŒ–æˆ‘ä»¬çš„æ•°æ®é›†ã€‚é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦å®‰è£…ä¸€ä¸ªç‰¹å®šç‰ˆæœ¬ï¼ˆå¦‚æœåœ¨ Jupyter Notebook ç¯å¢ƒä¸­å·¥ä½œï¼Œå¦‚ Google Colab æˆ– CRIB å¹³å°ï¼‰ï¼Œå¹¶åœ¨æˆ‘ä»¬çš„è„šæœ¬ä¸­åŠ è½½å®ƒï¼š

```py
!pip install open3d==0.16
import open3d as o3d
```

ğŸ¦š **æ³¨æ„**ï¼š*åœ¨ pip ä¹‹å‰çš„â€œ*`!`*â€æ˜¯åœ¨ Google Colab ä¸Šå·¥ä½œæ—¶ä½¿ç”¨çš„ï¼Œè¡¨ç¤ºå®ƒåº”è¯¥ç›´æ¥ä½¿ç”¨ç¯å¢ƒæ§åˆ¶å°ã€‚å¦‚æœä½ åœ¨æœ¬åœ°å·¥ä½œï¼Œåº”åˆ é™¤æ­¤å­—ç¬¦å¹¶ç›´æ¥ä½¿ç”¨* `pip install open3d==0.16` *ã€‚*

ç„¶åæˆ‘ä»¬æ‰§è¡Œä»¥ä¸‹è¿ç»­æ­¥éª¤ï¼š

![](img/f4c17ac7191f63ac5111517f2b34dcc5.png)

ç»˜åˆ¶å‡½æ•°ä»¥ç›´æ¥åœ¨ Google Colab ä¸­ç»˜åˆ¶äº¤äº’å¼ 3D åœºæ™¯ã€‚Â© F. Poux

è¿™è½¬åŒ–ä¸ºä»¥ä¸‹ä»£ç è¡Œï¼š

```py
pc, gt = cloud_loader(tile_selected, ['xyz','rgb','i'])
pcd=o3d.geometry.PointCloud()
pcd.points=o3d.utility.Vector3dVector(np.array(pc)[0:3].transpose())
pcd.colors=o3d.utility.Vector3dVector((np.array(pc)[3:6]).transpose())
o3d.visualization.draw_plotly([pcd],point_sample_factor=0.5, width=600, height=400)
```

ğŸ¦š**æ³¨æ„**ï¼š*ç”±äºæˆ‘ä»¬çš„ pc å˜é‡æ•è·äº†* `cloud_data` *æ¥è‡ª* `cloud_loader` *å‡½æ•°çš„è¾“å‡ºè¢«è½¬ç½®ï¼Œæˆ‘ä»¬åœ¨ä½¿ç”¨* `open3d` *ç»˜å›¾æ—¶å¿…é¡»è®°å¾—å°†å…¶è½¬ç½®å›å»ã€‚*

ä¸Šè¿°ä»£ç ç‰‡æ®µå°†è¾“å‡ºä»¥ä¸‹å¯è§†åŒ–ï¼š

![](img/4bdc90b04fb717cd5e4223afe246cdbd.png)

ä½¿ç”¨ plotly ç»˜åˆ¶åœºæ™¯å’Œ Rã€Gã€B å­—æ®µçš„ç»“æœã€‚Â© F. Poux

ğŸ¦š **æ³¨æ„**ï¼š*ä½¿ç”¨* `draw_plotly` *å‡½æ•°æ—¶ï¼Œæˆ‘ä»¬æ— æ³•ç›´æ¥æ§åˆ¶å›¾è¡¨çš„ç¼©æ”¾ï¼Œå¹¶ä¸”å¯ä»¥æ³¨æ„åˆ°* `*X*`*,* `*Y,*` *å’Œ* `*Z*`*çš„æ¯”ä¾‹ä¸ç­‰ï¼Œè¿™åœ¨è¿™ç§æƒ…å†µä¸‹å¼ºè°ƒäº† Zã€‚* ğŸ˜

ç”±äºä½ å¯ä»¥æ³¨æ„åˆ°çš„é™åˆ¶ï¼Œæˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªè‡ªå®šä¹‰å¯è§†åŒ–å‡½æ•°æ¥å¯è§†åŒ–éšæœºåˆ‡ç‰‡ï¼Œä»¥ä¾¿è¿è¡Œå‡½æ•°ï¼š`visualize_input_tile` è¾“å‡ºä¸€ä¸ªäº¤äº’å¼çš„ `plotly` å¯è§†åŒ–ï¼Œè®©æˆ‘ä»¬åˆ‡æ¢æ¸²æŸ“æ¨¡å¼ã€‚

è¦æµ‹è¯•æä¾›çš„å‡½æ•°ï¼Œæˆ‘ä»¬é¦–å…ˆéœ€è¦åœ¨å®éªŒä¸­å®šä¹‰ç±»åç§°ï¼š`class_names = [â€˜unclassifiedâ€™, â€˜groundâ€™, â€˜vegetationâ€™, â€˜buildingsâ€™, â€˜waterâ€™]`ã€‚ç„¶åï¼Œæˆ‘ä»¬æä¾›äº‘ç‰¹å¾`cloud_features=â€™xyziâ€™`ï¼Œéšæœºé€‰æ‹©å˜é‡`selection`ä¸­æ•è·çš„ç‚¹äº‘ï¼Œå¹¶å¯è§†åŒ–åˆ‡ç‰‡ã€‚è¿™è½¬åŒ–ä¸ºä»¥ä¸‹ä»£ç ç‰‡æ®µï¼š

```py
class_names = ['unclassified', 'ground', 'vegetation', 'buildings', 'water']
cloud_features='xyzi'
selection=pointcloud_train_files[random.randrange(len(pointcloud_train_files))]
visualize_input_tile(selection, class_names, cloud_features, sample_size=20000)
```

è¿™å°†è¾“å‡ºå¦‚ä¸‹äº¤äº’å¼åœºæ™¯ã€‚

![](img/30e3f33bf92ffaab3aa2cf9ac4ee8593.png)

åœ¨ Google Colab ä¸­çš„äº¤äº’å¼ 3D åœºæ™¯ã€‚Â© F. Poux

ğŸ¦š **æ³¨æ„**ï¼š*ä½ å¯ä»¥ä½¿ç”¨æŒ‰é’®åœ¨ç‰¹å¾å¼ºåº¦å’Œä»åŠ è½½çš„æ„Ÿå…´è¶£ç‰¹å¾çš„æ ‡ç­¾ä¹‹é—´åˆ‡æ¢æ¸²æŸ“æ¨¡å¼ã€‚*

æˆ‘ä»¬æœ‰ä¸€ä¸ªå·¥ä½œè§£å†³æ–¹æ¡ˆç”¨äºåŠ è½½ã€è§„èŒƒåŒ–å’Œå¯è§†åŒ– Python ä¸­çš„å•ä¸ªåˆ‡ç‰‡ã€‚æœ€åä¸€æ­¥æ˜¯åˆ›å»ºæˆ‘ä»¬ç§°ä¹‹ä¸ºå¼ é‡çš„å†…å®¹ï¼Œä»¥ç”¨äº PointNet æ¶æ„ã€‚

# ç¬¬ 10 æ­¥ã€‚å¼ é‡åˆ›å»º

![](img/5a4bea8711a8eb6399d3d4d008598f37.png)

æˆ‘æƒ³å‘ä½ å±•ç¤ºå¦‚ä½•ä½¿ç”¨ PyTorch è¿›è¡Œåˆæ­¥æ“ä½œã€‚ä¸ºæ¸…æ™°èµ·è§ï¼Œè®©æˆ‘å¿«é€Ÿå®šä¹‰æˆ‘ä»¬ä½¿ç”¨è¿™ä¸ªåº“æ—¶æ“ä½œçš„ä¸»è¦ Python å¯¹è±¡ç±»å‹ï¼šå¼ é‡ã€‚

PyTorch å¼ é‡æ˜¯ä¸€ä¸ªå¤šç»´æ•°ç»„ï¼Œç”¨äºåœ¨ PyTorch ä¸­å­˜å‚¨å’Œæ“ä½œæ•°æ®ã€‚å®ƒç±»ä¼¼äº NumPy æ•°ç»„ï¼Œä½†å…·æœ‰é’ˆå¯¹æ·±åº¦å­¦ä¹ æ¨¡å‹ä¼˜åŒ–çš„é¢å¤–å¥½å¤„ã€‚å¼ é‡å¯ä»¥ä½¿ç”¨ `torch.tensor()` å‡½æ•°åˆ›å»ºï¼Œå¹¶ç”¨æ•°æ®åˆå§‹åŒ–ï¼Œæˆ–è€…åˆ›å»ºä¸€ä¸ªå…·æœ‰æŒ‡å®šå½¢çŠ¶çš„ç©ºå¼ é‡ã€‚ä¾‹å¦‚ï¼Œè¦åˆ›å»ºä¸€ä¸ª 3x3 çš„å¼ é‡å¹¶å¡«å……éšæœºæ•°æ®ï¼š

```py
import torch

x = torch.tensor([[1.0, 2.0, 3.0],
                  [4.0, 5.0, 6.0],
                  [7.0, 8.0, 9.0]])

print(x)
```

è¿™å°†è¾“å‡ºï¼š

```py
tensor([[1., 2., 3.],
        [4., 5., 6.],
        [7., 8., 9.]])
```

ç›¸å½“ç®€å•ï¼Œå¯¹å§ï¼Ÿç°åœ¨ï¼Œä¸ºäº†ç®€åŒ–æ“ä½œï¼Œè¿˜æœ‰ä¸€ä¸ªå°å‹çš„ Pytorch åº“ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨æ¥å‡†å¤‡æ•°æ®é›†åˆ—è¡¨ã€‚è¿™ä¸ªåº“å«åš`TorchNet`ã€‚`TorchNet` æ—¨åœ¨é€šè¿‡æä¾›ä¸€ç»„é¢„å®šä¹‰çš„æ¨¡å—å’ŒåŠ©æ‰‹å‡½æ•°æ¥ç®€åŒ–æ„å»ºå’Œè®­ç»ƒå¤æ‚ç¥ç»ç½‘ç»œæ¶æ„çš„è¿‡ç¨‹ï¼Œè¿™äº›æ¨¡å—å’ŒåŠ©æ‰‹å‡½æ•°é€‚ç”¨äºæ•°æ®åŠ è½½ã€éªŒè¯å’Œæµ‹è¯•ç­‰æ—¥å¸¸ä»»åŠ¡ã€‚

`TorchNet` çš„ä¸»è¦ä¼˜åŠ¿ä¹‹ä¸€æ˜¯å…¶æ¨¡å—åŒ–è®¾è®¡ï¼Œå…è®¸ç”¨æˆ·é€šè¿‡ç»„åˆä¸€ç³»åˆ—é¢„æ„å»ºæ¨¡å—æ¥è½»æ¾æ„å»ºå¤æ‚çš„ç¥ç»ç½‘ç»œæ¶æ„ã€‚è¿™å¯ä»¥èŠ‚çœå¤§é‡æ—¶é—´å’Œç²¾åŠ›ï¼Œç›¸æ¯”ä»å¤´å¼€å§‹æ„å»ºç¥ç»ç½‘ç»œï¼Œå°¤å…¶æ˜¯åœ¨åˆšæ¥è§¦æ·±åº¦å­¦ä¹ æ—¶ã€‚

ğŸ¦š **æ³¨æ„**ï¼š*é™¤äº†å…¶æ¨¡å—åŒ–è®¾è®¡å¤–ï¼ŒTorchNet è¿˜æä¾›äº†å¤šä¸ªç”¨äºå¸¸è§æ·±åº¦å­¦ä¹ ä»»åŠ¡çš„åŠ©æ‰‹å‡½æ•°ï¼Œä¾‹å¦‚æ•°æ®å¢å¼ºã€æ—©æœŸåœæ­¢å’Œæ¨¡å‹æ£€æŸ¥ç‚¹ã€‚è¿™å¯ä»¥å¸®åŠ©ç”¨æˆ·è·å¾—æ›´å¥½çš„ç»“æœï¼Œå¹¶æ›´é«˜æ•ˆåœ°ä¼˜åŒ–ä»–ä»¬çš„ç¥ç»ç½‘ç»œæ¶æ„*ã€‚

è¦å®‰è£…`torchnet`ç‰ˆæœ¬`0.0.4`å¹¶å°†å…¶å¯¼å…¥åˆ°æˆ‘ä»¬çš„è„šæœ¬ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥æ‰§è¡Œä»¥ä¸‹æ“ä½œï¼š

```py
!pip install torchnet==0.0.4
import torchnet as tnt
```

æˆ‘ä»¬è¿˜å¯¼å…¥äº†å¦ä¸€ä¸ªåä¸º `functools` çš„å®ç”¨æ¨¡å—ã€‚è¯¥æ¨¡å—ç”¨äºå¤„ç†æˆ–è¿”å›å…¶ä»–å‡½æ•°çš„é«˜é˜¶å‡½æ•°ã€‚ä¸ºæ­¤ï¼Œå°† `import functools` æ·»åŠ åˆ°å¯¼å…¥è¯­å¥ä¸­ã€‚

é€šå¸¸ï¼Œä»»ä½•å¯è°ƒç”¨çš„å¯¹è±¡éƒ½å¯ä»¥è¢«è§†ä¸ºæ­¤æ¨¡å—çš„å‡½æ•°ã€‚é€šè¿‡è¿™äº›é¢å¤–çš„è®¾ç½®ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å››è¡Œä»£ç è½»æ¾ç”Ÿæˆè®­ç»ƒé›†ã€éªŒè¯é›†å’Œæµ‹è¯•é›†ï¼š

```py
cloud_features='xyzrgbi'
test_set = tnt.dataset.ListDataset(test_list,functools.partial(cloud_loader, features_used=cloud_features))
train_set = tnt.dataset.ListDataset(train_list,functools.partial(cloud_loader, features_used=cloud_features))
valid_set = tnt.dataset.ListDataset(valid_list,functools.partial(cloud_loader, features_used=cloud_features))
```

ç°åœ¨ï¼Œå¦‚æœæˆ‘ä»¬æƒ³è¦æ¢ç´¢ï¼Œå¯ä»¥ä½¿ç”¨åƒç»å…¸çš„ numpy æ•°ç»„ä¸€æ ·çš„ç´¢å¼•æ¥æ£€ç´¢ç‰¹å®šä½ç½®çš„å¼ é‡ï¼Œä¾‹å¦‚`train_set[1]`ï¼Œå…¶è¾“å‡ºä¸ºï¼š

![](img/8de3614b4899010c759ea2104f9c0e0a.png)

æœ€åï¼Œæˆ‘ä»¬å¿…é¡»å°†ç»“æœä¿å­˜åˆ° Python å¯¹è±¡ä¸­ï¼Œä»¥ä¾¿åœ¨æ¥ä¸‹æ¥çš„æ­¥éª¤ä¸­ç›´æ¥ä½¿ç”¨ï¼Œä¾‹å¦‚ PointNet è®­ç»ƒã€‚æˆ‘ä»¬ä½¿ç”¨çš„åº“æ˜¯ pickleï¼Œå®ƒéå¸¸é€‚åˆä¿å­˜ Python å¯¹è±¡ã€‚è¦ä¿å­˜ä¸€ä¸ªå¯¹è±¡ï¼Œåªéœ€è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š

```py
import pickle
f = open(project_dir+"/data_prepared.pckl", 'wb')
pickle.dump([test_list, test_set, train_list, train_set, valid_list, valid_set], f)
f.close()
```

å¦‚æœä½ æƒ³æµ‹è¯•ä½ çš„è®¾ç½®ï¼Œè¿˜å¯ä»¥è¿è¡Œä»¥ä¸‹ä»£ç è¡Œï¼Œç¡®ä¿ä½ æ£€ç´¢åˆ°ä½ æƒ³è¦çš„å†…å®¹ï¼š

```py
f = open(project_dir+"/data_prepared.pckl", 'rb')
test_list_t, test_set_t, train_list_t, train_set_t, valid_list_t, valid_set_t = pickle.load(f)
f.close()
print(test_list_t)
```

+   ğŸ’» åœ¨è¿™é‡Œè·å–ä»£ç è®¿é—®ï¼š[Google Colab](https://colab.research.google.com/drive/1pqBqGPV36_gxi4yjPiTUR3fb5IldpdaS?usp=sharing)

+   ğŸ‡ åœ¨è¿™é‡Œè·å–æ•°æ®è®¿é—®ï¼š[3D æ•°æ®é›†](https://drive.google.com/drive/folders/1RPCX2NCBn24g4lC3qS_xhuS1peR_EnxM?usp=sharing)

+   ğŸ‘¨â€ğŸ«3D æ•°æ®å¤„ç†å’Œ AI è¯¾ç¨‹ï¼š[3D å­¦é™¢](https://learngeodata.eu/)

+   ğŸ“– è®¢é˜…ä»¥è·å¾— 3D æ•™ç¨‹çš„æ—©æœŸè®¿é—®ï¼š[3D AI è‡ªåŠ¨åŒ–](https://medium.com/@florentpoux/subscribe)

+   ğŸ’ æ”¯æŒæˆ‘çš„å·¥ä½œä¸ Medium ğŸ¤Ÿï¼š[Medium è®¢é˜…](https://medium.com/@florentpoux/membership)

![](img/9d299f0b910437eb61e9167de8868a19.png)

# ğŸ”® ç»“è®º

æ­å–œï¼åœ¨è¿™ä¸ªå®è·µæ•™ç¨‹ä¸­ï¼Œæˆ‘ä»¬æ¢è®¨äº†å‡†å¤‡ç”¨äº PointNet æ¶æ„çš„ 3D ç‚¹äº‘æ•°æ®çš„å…³é”®æ­¥éª¤ã€‚

![](img/5e3562ca370d6d278c11635d8b34757d.png)

PointNet çš„ 3D æ·±åº¦å­¦ä¹ æ•°æ®å‡†å¤‡å·¥ä½œæµç¨‹ã€‚Â© F. Poux

é€šè¿‡éµå¾ªè¿™ä¸ªé€æ­¥æŒ‡å—ï¼Œä½ å·²ç»å­¦ä¼šäº†å¦‚ä½•æ¸…ç†ã€å¤„ç† LiDAR ç‚¹äº‘ï¼Œæå–ç›¸å…³ç‰¹å¾ï¼Œå¹¶ä¸º 3D æ·±åº¦å­¦ä¹ æ¨¡å‹è§„èŒƒåŒ–æ•°æ®ã€‚æˆ‘ä»¬è¿˜è®¨è®ºäº†ä¸€äº›å¤„ç† 3D ç‚¹äº‘æ•°æ®çš„å…³é”®æ³¨æ„äº‹é¡¹ï¼Œå¦‚ç“¦ç‰‡å¤§å°ã€è§„èŒƒåŒ–å’Œæ•°æ®å¢å¼ºã€‚ä½ å¯ä»¥å°†è¿™äº›æŠ€æœ¯åº”ç”¨äºä½ çš„ 3D ç‚¹äº‘æ•°æ®é›†ï¼Œå¹¶ç”¨å®ƒä»¬æ¥è®­ç»ƒå’Œæµ‹è¯• PointNet æ¨¡å‹ï¼Œç”¨äºå¯¹è±¡åˆ†ç±»å’Œåˆ†å‰²ã€‚3D æ·±åº¦å­¦ä¹ é¢†åŸŸæ­£åœ¨å¿«é€Ÿå‘å±•ï¼Œè¿™ä¸ªæ•™ç¨‹æ˜¯ä¸€ä¸ªåŸºçŸ³ï¼Œä¸ºä½ è¿›ä¸€æ­¥æ¢ç´¢è¿™ä¸€æ¿€åŠ¨äººå¿ƒçš„é¢†åŸŸæä¾›äº†åšå®çš„åŸºç¡€ã€‚

# ğŸ¤¿ è¿›ä¸€æ­¥æ¢ç´¢

ä½†å­¦ä¹ ä¹‹æ—…å¹¶æœªæ­¢æ­¥äºæ­¤ã€‚æˆ‘ä»¬çš„ç»ˆèº«æ¢ç´¢æ‰åˆšåˆšå¼€å§‹ï¼Œæœªæ¥çš„æ­¥éª¤å°†æ·±å…¥æ¢è®¨ 3D ä½“ç´ å·¥ä½œã€3D æ•°æ®çš„äººå·¥æ™ºèƒ½ã€è¯­ä¹‰åˆ†æå’Œæ•°å­—åŒèƒèƒã€‚æ­¤å¤–ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨æ·±åº¦å­¦ä¹ æŠ€æœ¯åˆ†æç‚¹äº‘ï¼Œè§£é”é«˜çº§ 3D LiDAR åˆ†æå·¥ä½œæµç¨‹ã€‚è¿˜æœ‰å¾ˆå¤šä»¤äººå…´å¥‹çš„å†…å®¹ï¼

# å‚è€ƒæ–‡çŒ®

1.  Qi, C. R., Su, H., Mo, K., & Guibas, L. J. (2017). Pointnetï¼šç‚¹é›†ä¸Šçš„æ·±åº¦å­¦ä¹ ç”¨äº 3D åˆ†ç±»å’Œåˆ†å‰²ã€‚æ”¶å½•äº *IEEE è®¡ç®—æœºè§†è§‰ä¸æ¨¡å¼è¯†åˆ«ä¼šè®®è®ºæ–‡é›†* (ç¬¬ 652â€“660 é¡µ)ã€‚

1.  Poux, F., & Billen, R. (2019). åŸºäºä½“ç´ çš„ 3D ç‚¹äº‘è¯­ä¹‰åˆ†å‰²ï¼šæ— ç›‘ç£å‡ ä½•å’Œå…³ç³»ç‰¹å¾ä¸æ·±åº¦å­¦ä¹ æ–¹æ³•ã€‚*ISPRS å›½é™…åœ°ç†ä¿¡æ¯å­¦æ‚å¿—*, *8*(5), 213ã€‚

1.  Xu, S., Vosselman, G., & Elberink, S. O. (2014). åŸºäºå¤šå®ä½“çš„åŸå¸‚åŒºåŸŸèˆªç©ºæ¿€å…‰æ‰«ææ•°æ®åˆ†ç±»ã€‚*ISPRS æ‘„å½±æµ‹é‡ä¸é¥æ„Ÿæ‚å¿—*, *88*, 1â€“15ã€‚
