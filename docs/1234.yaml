- en: Building a Question Answering PDF Chatbot
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: æ„å»ºä¸€ä¸ªé—®ç­”PDFèŠå¤©æœºå™¨äºº
- en: åŸæ–‡ï¼š[https://towardsdatascience.com/building-a-question-answering-pdf-chatbot-3e3b6372528c?source=collection_archive---------0-----------------------#2023-04-09](https://towardsdatascience.com/building-a-question-answering-pdf-chatbot-3e3b6372528c?source=collection_archive---------0-----------------------#2023-04-09)
  id: totrans-1
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: åŸæ–‡ï¼š[https://towardsdatascience.com/building-a-question-answering-pdf-chatbot-3e3b6372528c?source=collection_archive---------0-----------------------#2023-04-09](https://towardsdatascience.com/building-a-question-answering-pdf-chatbot-3e3b6372528c?source=collection_archive---------0-----------------------#2023-04-09)
- en: LangChain + OpenAI + Panel + HuggingFace
  id: totrans-2
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: LangChain + OpenAI + Panel + HuggingFace
- en: '[](https://sophiamyang.medium.com/?source=post_page-----3e3b6372528c--------------------------------)[![Sophia
    Yang, Ph.D.](../Images/c133f918245ea4857dc46df3a07fc2b1.png)](https://sophiamyang.medium.com/?source=post_page-----3e3b6372528c--------------------------------)[](https://towardsdatascience.com/?source=post_page-----3e3b6372528c--------------------------------)[![Towards
    Data Science](../Images/a6ff2676ffcc0c7aad8aaf1d79379785.png)](https://towardsdatascience.com/?source=post_page-----3e3b6372528c--------------------------------)
    [Sophia Yang, Ph.D.](https://sophiamyang.medium.com/?source=post_page-----3e3b6372528c--------------------------------)'
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: '[](https://sophiamyang.medium.com/?source=post_page-----3e3b6372528c--------------------------------)[![Sophia
    Yang, Ph.D.](../Images/c133f918245ea4857dc46df3a07fc2b1.png)](https://sophiamyang.medium.com/?source=post_page-----3e3b6372528c--------------------------------)[](https://towardsdatascience.com/?source=post_page-----3e3b6372528c--------------------------------)[![Towards
    Data Science](../Images/a6ff2676ffcc0c7aad8aaf1d79379785.png)](https://towardsdatascience.com/?source=post_page-----3e3b6372528c--------------------------------)
    [Sophia Yang, Ph.D.](https://sophiamyang.medium.com/?source=post_page-----3e3b6372528c--------------------------------)'
- en: Â·
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: Â·
- en: '[Follow](https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fae9cae9cbcd2&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbuilding-a-question-answering-pdf-chatbot-3e3b6372528c&user=Sophia+Yang%2C+Ph.D.&userId=ae9cae9cbcd2&source=post_page-ae9cae9cbcd2----3e3b6372528c---------------------post_header-----------)
    Published in [Towards Data Science](https://towardsdatascience.com/?source=post_page-----3e3b6372528c--------------------------------)
    Â·6 min readÂ·Apr 9, 2023[](https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F3e3b6372528c&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbuilding-a-question-answering-pdf-chatbot-3e3b6372528c&user=Sophia+Yang%2C+Ph.D.&userId=ae9cae9cbcd2&source=-----3e3b6372528c---------------------clap_footer-----------)'
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: '[å…³æ³¨](https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fae9cae9cbcd2&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbuilding-a-question-answering-pdf-chatbot-3e3b6372528c&user=Sophia+Yang%2C+Ph.D.&userId=ae9cae9cbcd2&source=post_page-ae9cae9cbcd2----3e3b6372528c---------------------post_header-----------)
    å‘è¡¨åœ¨ [Towards Data Science](https://towardsdatascience.com/?source=post_page-----3e3b6372528c--------------------------------)
    Â·6åˆ†é’Ÿé˜…è¯»Â·2023å¹´4æœˆ9æ—¥[](https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F3e3b6372528c&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbuilding-a-question-answering-pdf-chatbot-3e3b6372528c&user=Sophia+Yang%2C+Ph.D.&userId=ae9cae9cbcd2&source=-----3e3b6372528c---------------------clap_footer-----------)'
- en: --
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: --
- en: '[](https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F3e3b6372528c&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbuilding-a-question-answering-pdf-chatbot-3e3b6372528c&source=-----3e3b6372528c---------------------bookmark_footer-----------)'
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: '[](https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F3e3b6372528c&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbuilding-a-question-answering-pdf-chatbot-3e3b6372528c&source=-----3e3b6372528c---------------------bookmark_footer-----------)'
- en: 'Letâ€™s build a chatbot to answer questions about external PDF files. With 5
    simple steps, you should be able to build a question-answering PDF chatbot like
    this:'
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: è®©æˆ‘ä»¬æ¥æ„å»ºä¸€ä¸ªç”¨äºå›ç­”å¤–éƒ¨PDFæ–‡ä»¶é—®é¢˜çš„èŠå¤©æœºå™¨äººã€‚é€šè¿‡5ä¸ªç®€å•çš„æ­¥éª¤ï¼Œä½ åº”è¯¥èƒ½å¤Ÿæ„å»ºä¸€ä¸ªåƒè¿™æ ·çš„é—®ç­”PDFèŠå¤©æœºå™¨äººï¼š
- en: '![](../Images/04e327db177f82e78b649034568bb913.png)'
  id: totrans-9
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/04e327db177f82e78b649034568bb913.png)'
- en: 'ğŸ˜Š Want to try out this app? I hosted this app on Hugging Face: [https://sophiamyang-panel-pdf-qa.hf.space/LangChain_QA_Panel_App](https://sophiamyang-panel-pdf-qa.hf.space/LangChain_QA_Panel_App)'
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: ğŸ˜Š æƒ³è¯•ç”¨è¿™ä¸ªåº”ç”¨å—ï¼Ÿæˆ‘å·²ç»åœ¨Hugging Faceä¸Šæ‰˜ç®¡äº†è¿™ä¸ªåº”ç”¨ï¼š[https://sophiamyang-panel-pdf-qa.hf.space/LangChain_QA_Panel_App](https://sophiamyang-panel-pdf-qa.hf.space/LangChain_QA_Panel_App)
- en: '[ğŸ’»](https://emojipedia.org/laptop/) You can find all my code here:'
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: '[ğŸ’»](https://emojipedia.org/laptop/) ä½ å¯ä»¥åœ¨è¿™é‡Œæ‰¾åˆ°æˆ‘æ‰€æœ‰çš„ä»£ç ï¼š'
- en: '[https://huggingface.co/spaces/sophiamyang/Panel_PDF_QA/tree/main](https://huggingface.co/spaces/sophiamyang/Panel_PDF_QA/tree/main)'
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: '[https://huggingface.co/spaces/sophiamyang/Panel_PDF_QA/tree/main](https://huggingface.co/spaces/sophiamyang/Panel_PDF_QA/tree/main)'
- en: 'ğŸ“’ You can find my Notebook file here:'
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: ğŸ“’ ä½ å¯ä»¥åœ¨è¿™é‡Œæ‰¾åˆ°æˆ‘çš„ç¬”è®°æœ¬æ–‡ä»¶ï¼š
- en: '[https://huggingface.co/spaces/sophiamyang/Panel_PDF_QA/blob/main/LangChain_QA_Panel_App.ipynb](https://huggingface.co/spaces/sophiamyang/Panel_PDF_QA/blob/main/LangChain_QA_Panel_App.ipynb)'
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: '[https://huggingface.co/spaces/sophiamyang/Panel_PDF_QA/blob/main/LangChain_QA_Panel_App.ipynb](https://huggingface.co/spaces/sophiamyang/Panel_PDF_QA/blob/main/LangChain_QA_Panel_App.ipynb)'
- en: Okay, letâ€™s get started building this question-answering PDF chatbot!
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: å¥½çš„ï¼Œå¼€å§‹æ„å»ºè¿™ä¸ªé—®ç­” PDF èŠå¤©æœºå™¨äººå§ï¼
- en: 'Step 0: Set up'
  id: totrans-16
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: ç¬¬ä¸€æ­¥ï¼šè®¾ç½®
- en: Install needed packages
  id: totrans-17
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å®‰è£…æ‰€éœ€çš„åŒ…
- en: '[PRE0]'
  id: totrans-18
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: Import needed packages
  id: totrans-19
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å¯¼å…¥æ‰€éœ€çš„åŒ…
- en: '[PRE1]'
  id: totrans-20
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: 'Define OpenAI API key: Create an account at OpenAI and create an API key [https://platform.openai.com/account](https://platform.openai.com/account).
    Note that OpenAI API is not free. You will need to set up billing information
    there to be able to use OpenAI API. Alternatively, you can use models from HuggingFace
    Hub or other places. Check out my previous [blog post](/the-easiest-way-to-interact-with-language-models-4da158cfb5c5?sk=271c9c82a16282f93ef3df37f034babe)
    and [video](https://www.youtube.com/watch?v=kmbS6FDQh7c) on how to use other models.'
  id: totrans-21
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å®šä¹‰ OpenAI API å¯†é’¥ï¼šåœ¨ OpenAI åˆ›å»ºä¸€ä¸ªè´¦æˆ·å¹¶ç”Ÿæˆ API å¯†é’¥ [https://platform.openai.com/account](https://platform.openai.com/account)ã€‚è¯·æ³¨æ„ï¼ŒOpenAI
    API ä¸æ˜¯å…è´¹çš„ã€‚ä½ éœ€è¦åœ¨è¿™é‡Œè®¾ç½®è´¦å•ä¿¡æ¯æ‰èƒ½ä½¿ç”¨ OpenAI APIã€‚æˆ–è€…ï¼Œä½ å¯ä»¥ä½¿ç”¨ HuggingFace Hub æˆ–å…¶ä»–åœ°æ–¹çš„æ¨¡å‹ã€‚æŸ¥çœ‹æˆ‘ä¹‹å‰çš„
    [åšå®¢æ–‡ç« ](/the-easiest-way-to-interact-with-language-models-4da158cfb5c5?sk=271c9c82a16282f93ef3df37f034babe)
    å’Œ [è§†é¢‘](https://www.youtube.com/watch?v=kmbS6FDQh7c) äº†è§£å¦‚ä½•ä½¿ç”¨å…¶ä»–æ¨¡å‹ã€‚
- en: '[PRE2]'
  id: totrans-22
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: Step 1:Define Panel widgets
  id: totrans-23
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: ç¬¬ä¸€æ­¥ï¼šå®šä¹‰ Panel å°éƒ¨ä»¶
- en: 'To make this app, we will need the following widgets:'
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸ºäº†åˆ¶ä½œè¿™ä¸ªåº”ç”¨ç¨‹åºï¼Œæˆ‘ä»¬å°†éœ€è¦ä»¥ä¸‹å°éƒ¨ä»¶ï¼š
- en: '`file_input` to upload files'
  id: totrans-25
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`file_input` ç”¨äºä¸Šä¼ æ–‡ä»¶'
- en: '`openaikey` to enter your OpenAI key'
  id: totrans-26
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`openaikey` è¾“å…¥ä½ çš„ OpenAI å¯†é’¥'
- en: '`widgets` combines all the other widgets: `prompt` for entering your questions
    as text, `run_button` for clicking and running the model, `select_k` for selecting
    the number of relevant chunks, and `select_chain_type` for selecting which chain
    type to use.'
  id: totrans-27
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`widgets` ç»“åˆäº†æ‰€æœ‰å…¶ä»–å°éƒ¨ä»¶ï¼š`prompt` ç”¨äºè¾“å…¥é—®é¢˜æ–‡æœ¬ï¼Œ`run_button` ç”¨äºç‚¹å‡»å¹¶è¿è¡Œæ¨¡å‹ï¼Œ`select_k` ç”¨äºé€‰æ‹©ç›¸å…³å—çš„æ•°é‡ï¼Œä»¥åŠ
    `select_chain_type` ç”¨äºé€‰æ‹©ä½¿ç”¨çš„é“¾ç±»å‹ã€‚'
- en: '[PRE3]'
  id: totrans-28
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: '![](../Images/13977854847cc63fd72ad272b5161716.png)'
  id: totrans-29
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/13977854847cc63fd72ad272b5161716.png)'
- en: Step 2:Define question-answering function
  id: totrans-30
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: ç¬¬äºŒæ­¥ï¼šå®šä¹‰é—®ç­”å‡½æ•°
- en: We will be using LangChain with OpanAI to do question-answering. There are at
    least four ways to do question-answering in LangChain. Check out my previous blog
    post and video on 4 ways of question-answering in LangChain.
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬å°†ä½¿ç”¨ LangChain å’Œ OpenAI è¿›è¡Œé—®ç­”ã€‚åœ¨ LangChain ä¸­è‡³å°‘æœ‰å››ç§æ–¹å¼è¿›è¡Œé—®ç­”ã€‚æŸ¥çœ‹æˆ‘ä¹‹å‰çš„åšå®¢æ–‡ç« å’Œè§†é¢‘ï¼Œäº†è§£ LangChain
    ä¸­çš„å››ç§é—®ç­”æ–¹å¼ã€‚
- en: 'In this function, we used RetrievalQA to retrieve relevant text chunks and
    then only pass those to the language model. We defined four parameters: â€”'
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨è¿™ä¸ªå‡½æ•°ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨äº† RetrievalQA æ¥æ£€ç´¢ç›¸å…³çš„æ–‡æœ¬å—ï¼Œç„¶åä»…å°†è¿™äº›æ–‡æœ¬å—ä¼ é€’ç»™è¯­è¨€æ¨¡å‹ã€‚æˆ‘ä»¬å®šä¹‰äº†å››ä¸ªå‚æ•°ï¼šâ€”
- en: '`file` is the input PDF file that you are interested in interacting with'
  id: totrans-33
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`file` æ˜¯ä½ æ„Ÿå…´è¶£çš„è¾“å…¥ PDF æ–‡ä»¶'
- en: '`query` is your question'
  id: totrans-34
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`query` æ˜¯ä½ çš„é—®é¢˜'
- en: '`chain_type` lets you define the chain type as one of the four options: â€œstuffâ€,
    â€œmap reduceâ€, â€œrefineâ€, â€œmap_rerankâ€. Check out my previous blog post to learn
    each chain type.'
  id: totrans-35
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`chain_type` è®©ä½ å°†é“¾ç±»å‹å®šä¹‰ä¸ºå››ç§é€‰é¡¹ä¹‹ä¸€ï¼šâ€œstuffâ€ã€â€œmap reduceâ€ã€â€œrefineâ€ã€â€œmap_rerankâ€ã€‚æŸ¥çœ‹æˆ‘ä¹‹å‰çš„åšå®¢æ–‡ç« ä»¥äº†è§£æ¯ç§é“¾ç±»å‹ã€‚'
- en: '`k` defines the number of relevant text chunks'
  id: totrans-36
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`k` å®šä¹‰äº†ç›¸å…³æ–‡æœ¬å—çš„æ•°é‡'
- en: '[PRE4]'
  id: totrans-37
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: 'Here is an example using this function:'
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸‹é¢æ˜¯ä¸€ä¸ªä½¿ç”¨æ­¤å‡½æ•°çš„ç¤ºä¾‹ï¼š
- en: '![](../Images/7e81186b8414586a4162c4160fc25212.png)'
  id: totrans-39
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/7e81186b8414586a4162c4160fc25212.png)'
- en: 'Step 3: show output as a Panel object'
  id: totrans-40
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: ç¬¬ä¸‰æ­¥ï¼šå°†è¾“å‡ºæ˜¾ç¤ºä¸º Panel å¯¹è±¡
- en: The function above returns the query, result, and source documents from the
    language model. In order to show the results and source documents in a Panel app,
    we need to turn them into a Panel object. In the function `qa_result`, I appended
    the query (`prompt_text`), result ( `result[â€œresultâ€]`), and source documents
    (`result["source_documents"]`) in a list called `convos` and then turned it into
    a Panel object `pn.Column(*convos)`.
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸Šè¿°å‡½æ•°è¿”å›è¯­è¨€æ¨¡å‹çš„æŸ¥è¯¢ã€ç»“æœå’Œæºæ–‡æ¡£ã€‚ä¸ºäº†åœ¨ Panel åº”ç”¨ä¸­æ˜¾ç¤ºç»“æœå’Œæºæ–‡æ¡£ï¼Œæˆ‘ä»¬éœ€è¦å°†å®ƒä»¬è½¬æ¢ä¸º Panel å¯¹è±¡ã€‚åœ¨ `qa_result`
    å‡½æ•°ä¸­ï¼Œæˆ‘å°†æŸ¥è¯¢ï¼ˆ`prompt_text`ï¼‰ã€ç»“æœï¼ˆ`result[â€œresultâ€]`ï¼‰å’Œæºæ–‡æ¡£ï¼ˆ`result["source_documents"]`ï¼‰è¿½åŠ åˆ°ä¸€ä¸ªåä¸º
    `convos` çš„åˆ—è¡¨ä¸­ï¼Œç„¶åå°†å…¶è½¬æ¢ä¸º Panel å¯¹è±¡ `pn.Column(*convos)`ã€‚
- en: '[PRE5]'
  id: totrans-42
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: Step 4:The run button runs the function
  id: totrans-43
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: ç¬¬å››æ­¥ï¼šè¿è¡ŒæŒ‰é’®æ‰§è¡Œå‡½æ•°
- en: Next, Iâ€™d like to make the `qa_result` function interactive, meaning that when
    I click the run button, Iâ€™d like to run this function. This is very easy to do
    in Panel. We use `pn.bind` to bind the `qa_result` function with the `run_button`
    widget. Note that in the `qa_result` function, we passed in a parameter `_` ,
    which is actually not used in the function. This is simply a placeholder to let
    `pn.bind` know that we can bind one widget to this function.
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: æ¥ä¸‹æ¥ï¼Œæˆ‘æƒ³è®© `qa_result` å‡½æ•°å…·æœ‰äº¤äº’æ€§ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå½“æˆ‘ç‚¹å‡»è¿è¡ŒæŒ‰é’®æ—¶ï¼Œæˆ‘å¸Œæœ›è¿è¡Œè¿™ä¸ªå‡½æ•°ã€‚è¿™åœ¨ Panel ä¸­éå¸¸ç®€å•ã€‚æˆ‘ä»¬ä½¿ç”¨ `pn.bind`
    å°† `qa_result` å‡½æ•°ç»‘å®šåˆ° `run_button` å°éƒ¨ä»¶ã€‚è¯·æ³¨æ„ï¼Œåœ¨ `qa_result` å‡½æ•°ä¸­ï¼Œæˆ‘ä»¬ä¼ å…¥äº†ä¸€ä¸ªå‚æ•° `_`ï¼Œå®é™…ä¸Šåœ¨å‡½æ•°ä¸­å¹¶æœªä½¿ç”¨ã€‚è¿™åªæ˜¯ä¸€ä¸ªå ä½ç¬¦ï¼Œè®©
    `pn.bind` çŸ¥é“æˆ‘ä»¬å¯ä»¥å°†ä¸€ä¸ªå°éƒ¨ä»¶ç»‘å®šåˆ°è¿™ä¸ªå‡½æ•°ä¸Šã€‚
- en: '[PRE6]'
  id: totrans-45
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: 'I then want to format my output in a box, so I used `pn.WidgetBox`:'
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: ç„¶åæˆ‘æƒ³å°†è¾“å‡ºæ ¼å¼åŒ–åˆ°ä¸€ä¸ªæ¡†ä¸­ï¼Œå› æ­¤æˆ‘ä½¿ç”¨äº† `pn.WidgetBox`ï¼š
- en: '[PRE7]'
  id: totrans-47
  prefs: []
  type: TYPE_PRE
  zh: '[PRE7]'
- en: '![](../Images/281ed418e8c7bb749853ea3c8785e738.png)'
  id: totrans-48
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/281ed418e8c7bb749853ea3c8785e738.png)'
- en: 'Step 5: Define Layout'
  id: totrans-49
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: ç¬¬ 5 æ­¥ï¼šå®šä¹‰å¸ƒå±€
- en: Now we can combine all the widgets and output in a column using `pn.Column`.
    You can run `panel serve LangChain_QA_Panel_App.ipynb` to serve this app. Now
    you should have a ready-to-run app!
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: ç°åœ¨æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ `pn.Column` å°†æ‰€æœ‰å°éƒ¨ä»¶å’Œè¾“å‡ºç»„åˆæˆä¸€åˆ—ã€‚ä½ å¯ä»¥è¿è¡Œ `panel serve LangChain_QA_Panel_App.ipynb`
    æ¥æœåŠ¡è¿™ä¸ªåº”ç”¨ç¨‹åºã€‚ç°åœ¨ä½ åº”è¯¥æœ‰ä¸€ä¸ªå¯ä»¥è¿è¡Œçš„åº”ç”¨ç¨‹åºï¼
- en: '[PRE8]'
  id: totrans-51
  prefs: []
  type: TYPE_PRE
  zh: '[PRE8]'
- en: 'Final Step: Host on Hugging Face Space'
  id: totrans-52
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: æœ€ç»ˆæ­¥éª¤ï¼šæ‰˜ç®¡åˆ° Hugging Face Space
- en: 'As you can see from the beginning of my video, I hosted my app on Hugging Face:
    [https://sophiamyang-panel-pdf-qa.hf.space/LangChain_QA_Panel_App](https://sophiamyang-panel-pdf-qa.hf.space/LangChain_QA_Panel_App)'
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: å¦‚ä½ æ‰€è§ï¼Œåœ¨æˆ‘çš„è§†é¢‘å¼€å§‹æ—¶ï¼Œæˆ‘åœ¨ Hugging Face ä¸Šæ‰˜ç®¡äº†æˆ‘çš„åº”ç”¨ï¼š[https://sophiamyang-panel-pdf-qa.hf.space/LangChain_QA_Panel_App](https://sophiamyang-panel-pdf-qa.hf.space/LangChain_QA_Panel_App)
- en: Check out my previous [blog post](/how-to-deploy-a-panel-app-to-hugging-face-using-docker-6189e3789718?sk=9c2bbd9bdbc3917e39dbd1fc9d1a5771)
    and [video](https://www.youtube.com/watch?v=QQYq5rHgsa4) on how to host a Panel
    app on Hugging Face.
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: æŸ¥çœ‹æˆ‘ä¹‹å‰çš„ [åšå®¢æ–‡ç« ](/how-to-deploy-a-panel-app-to-hugging-face-using-docker-6189e3789718?sk=9c2bbd9bdbc3917e39dbd1fc9d1a5771)
    å’Œ [è§†é¢‘](https://www.youtube.com/watch?v=QQYq5rHgsa4)ï¼Œäº†è§£å¦‚ä½•åœ¨ Hugging Face ä¸Šæ‰˜ç®¡ Panel
    åº”ç”¨ã€‚
- en: 'Here is what I did for this app:'
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™æ˜¯æˆ‘ä¸ºè¿™ä¸ªåº”ç”¨ç¨‹åºæ‰€åšçš„ï¼š
- en: I uploaded my [Jupyter Notebook file](https://huggingface.co/spaces/sophiamyang/Panel_PDF_QA/blob/main/LangChain_QA_Panel_App.ipynb)
  id: totrans-56
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æˆ‘ä¸Šä¼ äº†æˆ‘çš„ [Jupyter Notebook æ–‡ä»¶](https://huggingface.co/spaces/sophiamyang/Panel_PDF_QA/blob/main/LangChain_QA_Panel_App.ipynb)
- en: 'I created a [Dockerfile](https://huggingface.co/spaces/sophiamyang/Panel_PDF_QA/blob/main/LangChain_QA_Panel_App.ipynb).
    One thing special about this app is that this app creates a .chroma directory
    for the Chroma vector database. So we need to create this directory and give it
    permissions: `RUN mkdir .chroma` and `RUN chomd 777 .chroma`.'
  id: totrans-57
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æˆ‘åˆ›å»ºäº†ä¸€ä¸ª [Dockerfile](https://huggingface.co/spaces/sophiamyang/Panel_PDF_QA/blob/main/LangChain_QA_Panel_App.ipynb)ã€‚è¿™ä¸ªåº”ç”¨ç¨‹åºçš„ç‰¹åˆ«ä¹‹å¤„åœ¨äºï¼Œå®ƒä¸º
    Chroma å‘é‡æ•°æ®åº“åˆ›å»ºäº†ä¸€ä¸ª .chroma ç›®å½•ã€‚å› æ­¤ï¼Œæˆ‘ä»¬éœ€è¦åˆ›å»ºè¿™ä¸ªç›®å½•å¹¶èµ‹äºˆå®ƒæƒé™ï¼š`RUN mkdir .chroma` å’Œ `RUN chomd
    777 .chroma`ã€‚
- en: I included all the needed packages in a `[requirements.txt](https://huggingface.co/spaces/sophiamyang/Panel_PDF_QA/blob/main/requirements.txt)`
    [file](https://huggingface.co/spaces/sophiamyang/Panel_PDF_QA/blob/main/requirements.txt)
  id: totrans-58
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æˆ‘åœ¨ä¸€ä¸ª `[requirements.txt](https://huggingface.co/spaces/sophiamyang/Panel_PDF_QA/blob/main/requirements.txt)`
    [æ–‡ä»¶](https://huggingface.co/spaces/sophiamyang/Panel_PDF_QA/blob/main/requirements.txt)
    ä¸­åŒ…å«äº†æ‰€æœ‰æ‰€éœ€çš„åŒ…
- en: Conclusion
  id: totrans-59
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: ç»“è®º
- en: Hopefully, by the end of this article, you know how to build a question-answering
    PDF chatbot using LangChain, OpenAI, and Panel, and know how to deploy your app
    to Hugging Face Space.
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: å¸Œæœ›åœ¨è¿™ç¯‡æ–‡ç« ç»“æŸæ—¶ï¼Œä½ èƒ½äº†è§£å¦‚ä½•ä½¿ç”¨ LangChainã€OpenAI å’Œ Panel æ„å»ºä¸€ä¸ªé—®ç­” PDF èŠå¤©æœºå™¨äººï¼Œå¹¶çŸ¥é“å¦‚ä½•å°†åº”ç”¨ç¨‹åºéƒ¨ç½²åˆ°
    Hugging Face Spaceã€‚
- en: 'Acknowledgment:'
  id: totrans-61
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: è‡´è°¢ï¼š
- en: Thank you Jim Bednar and Philipp Rudiger for the guidance and feedback!
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: æ„Ÿè°¢ Jim Bednar å’Œ Philipp Rudiger çš„æŒ‡å¯¼å’Œåé¦ˆï¼
- en: '![](../Images/76672d3fd26b280ee1d8afa06e636c92.png)'
  id: totrans-63
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/76672d3fd26b280ee1d8afa06e636c92.png)'
- en: Photo by [Volodymyr Hryshchenko](https://unsplash.com/de/@lunarts?utm_source=medium&utm_medium=referral)
    on [Unsplash](https://unsplash.com/?utm_source=medium&utm_medium=referral)
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: å›¾ç‰‡ç”± [Volodymyr Hryshchenko](https://unsplash.com/de/@lunarts?utm_source=medium&utm_medium=referral)
    æä¾›ï¼Œæ¥æºäº [Unsplash](https://unsplash.com/?utm_source=medium&utm_medium=referral)
- en: . . .
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: . . .
- en: By [Sophia Yang](https://www.linkedin.com/in/sophiamyang/) on April 8, 2023
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: ç”± [Sophia Yang](https://www.linkedin.com/in/sophiamyang/) äº 2023 å¹´ 4 æœˆ 8 æ—¥å‘å¸ƒ
- en: Sophia Yang is a Senior Data Scientist. Connect with me on [LinkedIn](https://www.linkedin.com/in/sophiamyang/),
    [Twitter](https://twitter.com/sophiamyang), and [YouTube](https://www.youtube.com/SophiaYangDS)
    and join the DS/ML [Book Club](https://dsbookclub.github.io/) â¤ï¸
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: Sophia Yang æ˜¯ä¸€ä½é«˜çº§æ•°æ®ç§‘å­¦å®¶ã€‚é€šè¿‡ [LinkedIn](https://www.linkedin.com/in/sophiamyang/)ã€[Twitter](https://twitter.com/sophiamyang)
    å’Œ [YouTube](https://www.youtube.com/SophiaYangDS) è”ç³»æˆ‘ï¼Œå¹¶åŠ å…¥ DS/ML [ä¹¦å‹ä¼š](https://dsbookclub.github.io/)
    â¤ï¸
