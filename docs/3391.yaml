- en: The Hidden World of (Vector) Indexes
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: ï¼ˆå‘é‡ï¼‰ç´¢å¼•çš„éšè—ä¸–ç•Œ
- en: åŸæ–‡ï¼š[https://towardsdatascience.com/the-hidden-world-of-vector-indexes-f320a626c3dd?source=collection_archive---------2-----------------------#2023-11-15](https://towardsdatascience.com/the-hidden-world-of-vector-indexes-f320a626c3dd?source=collection_archive---------2-----------------------#2023-11-15)
  id: totrans-1
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: åŸæ–‡ï¼š[https://towardsdatascience.com/the-hidden-world-of-vector-indexes-f320a626c3dd?source=collection_archive---------2-----------------------#2023-11-15](https://towardsdatascience.com/the-hidden-world-of-vector-indexes-f320a626c3dd?source=collection_archive---------2-----------------------#2023-11-15)
- en: Everything you always wanted to know about (vector) indexes but were afraid
    to ask.
  id: totrans-2
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: ä½ æ€»æ˜¯æƒ³äº†è§£å…³äºï¼ˆå‘é‡ï¼‰ç´¢å¼•çš„æ‰€æœ‰ä¿¡æ¯ï¼Œä½†åˆå®³æ€•è¯¢é—®ã€‚
- en: '[](https://medium.com/@oruas?source=post_page-----f320a626c3dd--------------------------------)[![Olivier
    Ruas](../Images/84f565f256321de6ddc6e32b86eb2f42.png)](https://medium.com/@oruas?source=post_page-----f320a626c3dd--------------------------------)[](https://towardsdatascience.com/?source=post_page-----f320a626c3dd--------------------------------)[![Towards
    Data Science](../Images/a6ff2676ffcc0c7aad8aaf1d79379785.png)](https://towardsdatascience.com/?source=post_page-----f320a626c3dd--------------------------------)
    [Olivier Ruas](https://medium.com/@oruas?source=post_page-----f320a626c3dd--------------------------------)'
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: '[](https://medium.com/@oruas?source=post_page-----f320a626c3dd--------------------------------)[![Olivier
    Ruas](../Images/84f565f256321de6ddc6e32b86eb2f42.png)](https://medium.com/@oruas?source=post_page-----f320a626c3dd--------------------------------)[](https://towardsdatascience.com/?source=post_page-----f320a626c3dd--------------------------------)[![Towards
    Data Science](../Images/a6ff2676ffcc0c7aad8aaf1d79379785.png)](https://towardsdatascience.com/?source=post_page-----f320a626c3dd--------------------------------)
    [Olivier Ruas](https://medium.com/@oruas?source=post_page-----f320a626c3dd--------------------------------)'
- en: Â·
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: Â·
- en: '[Follow](https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Ffac3becb3fd6&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fthe-hidden-world-of-vector-indexes-f320a626c3dd&user=Olivier+Ruas&userId=fac3becb3fd6&source=post_page-fac3becb3fd6----f320a626c3dd---------------------post_header-----------)
    Published in [Towards Data Science](https://towardsdatascience.com/?source=post_page-----f320a626c3dd--------------------------------)
    Â·11 min readÂ·Nov 15, 2023[](https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Ff320a626c3dd&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fthe-hidden-world-of-vector-indexes-f320a626c3dd&user=Olivier+Ruas&userId=fac3becb3fd6&source=-----f320a626c3dd---------------------clap_footer-----------)'
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: '[å…³æ³¨](https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Ffac3becb3fd6&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fthe-hidden-world-of-vector-indexes-f320a626c3dd&user=Olivier+Ruas&userId=fac3becb3fd6&source=post_page-fac3becb3fd6----f320a626c3dd---------------------post_header-----------)
    å‘è¡¨åœ¨ [Towards Data Science](https://towardsdatascience.com/?source=post_page-----f320a626c3dd--------------------------------)
    Â· 11åˆ†é’Ÿé˜…è¯» Â· 2023å¹´11æœˆ15æ—¥[](https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Ff320a626c3dd&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fthe-hidden-world-of-vector-indexes-f320a626c3dd&user=Olivier+Ruas&userId=fac3becb3fd6&source=-----f320a626c3dd---------------------clap_footer-----------)'
- en: --
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: --
- en: '[](https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Ff320a626c3dd&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fthe-hidden-world-of-vector-indexes-f320a626c3dd&source=-----f320a626c3dd---------------------bookmark_footer-----------)'
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: '[](https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Ff320a626c3dd&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fthe-hidden-world-of-vector-indexes-f320a626c3dd&source=-----f320a626c3dd---------------------bookmark_footer-----------)'
- en: 'Since the public release of ChatGPT, hardly one day has passed without new
    content discussing LLMs, RAGs, and vector databases. The technology world buzzes
    with the possibilities of LLMs, seen as the latest technology that will change
    our lives: for the best for some, for the worst for others. Alongside them, Retrieval
    Augmented Generation (RAG) has emerged as a dynamic solution to adapt to the ever-changing
    landscape of knowledge. But thereâ€™s a crucial player behind the scenes: vector
    indexes and databases.'
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: è‡ªä»ChatGPTå…¬å¼€å‘å¸ƒä»¥æ¥ï¼Œå‡ ä¹æ²¡æœ‰ä¸€å¤©ä¸è®¨è®ºLLMã€RAGå’Œå‘é‡æ•°æ®åº“ã€‚æŠ€æœ¯ç•Œå¯¹LLMçš„å¯èƒ½æ€§æ„Ÿåˆ°å…´å¥‹ï¼Œè¿™è¢«è§†ä¸ºæ”¹å˜æˆ‘ä»¬ç”Ÿæ´»çš„æœ€æ–°æŠ€æœ¯ï¼šå¯¹ä¸€äº›äººæ¥è¯´æ˜¯æœ€å¥½çš„ï¼Œå¯¹å¦ä¸€äº›äººæ¥è¯´æ˜¯æœ€åçš„ã€‚ä¸æ­¤åŒæ—¶ï¼Œæ£€ç´¢å¢å¼ºç”Ÿæˆï¼ˆRAGï¼‰ä½œä¸ºä¸€ç§åŠ¨æ€è§£å†³æ–¹æ¡ˆåº”å¯¹ä¸æ–­å˜åŒ–çš„çŸ¥è¯†é¢†åŸŸã€‚ä½†åœ¨å¹•åæœ‰ä¸€ä¸ªå…³é”®çš„è§’è‰²ï¼šå‘é‡ç´¢å¼•å’Œæ•°æ®åº“ã€‚
- en: While LLMs, RAGs, and vector databases are intensively discussed, the (vector)
    indexes that empower these innovations are less known. In this article, weâ€™ll
    demystify the concept of indexes to help you understand how an index makes finding
    information in vast collections a breeze.
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: å°½ç®¡LLMã€RAGå’Œå‘é‡æ•°æ®åº“è¢«å¹¿æ³›è®¨è®ºï¼Œä½†æ”¯æŒè¿™äº›åˆ›æ–°çš„ï¼ˆå‘é‡ï¼‰ç´¢å¼•å´é²œä¸ºäººçŸ¥ã€‚åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬å°†æ­ç¤ºç´¢å¼•çš„æ¦‚å¿µï¼Œå¸®åŠ©ä½ ç†è§£ç´¢å¼•å¦‚ä½•è®©åœ¨æµ©ç€šçš„æ•°æ®é›†ä¸­æŸ¥æ‰¾ä¿¡æ¯å˜å¾—è½»æ¾è‡ªå¦‚ã€‚
- en: 1\. What is an index?
  id: totrans-10
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 1\. ä»€ä¹ˆæ˜¯ç´¢å¼•ï¼Ÿ
- en: 'We all have encountered such a situation. You are meeting with your friend
    at her place. The only information she gave you is â€œI live in Metro Town districtâ€.
    When you arrive at the said Metro Town district:'
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬éƒ½é‡åˆ°è¿‡è¿™ç§æƒ…å†µã€‚ä½ æ­£åœ¨ä½ æœ‹å‹å®¶è§é¢ã€‚å¥¹ç»™ä½ çš„å”¯ä¸€ä¿¡æ¯æ˜¯â€œæˆ‘ä½åœ¨åœ°é“é•‡åŒºâ€ã€‚å½“ä½ åˆ°è¾¾æ‰€è¯´çš„åœ°é“é•‡åŒºæ—¶ï¼š
- en: '![](../Images/caaa02848c67c82b34c512540097a3c2.png)'
  id: totrans-12
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/caaa02848c67c82b34c512540097a3c2.png)'
- en: Photo by [Manson Yim](https://unsplash.com/@mansonyms?utm_source=medium&utm_medium=referral)
    on [Unsplash](https://unsplash.com/?utm_source=medium&utm_medium=referral)
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: æ‘„å½±å¸ˆ [Manson Yim](https://unsplash.com/@mansonyms?utm_source=medium&utm_medium=referral)
    ä½œå“ï¼Œæ¥è‡ª [Unsplash](https://unsplash.com/?utm_source=medium&utm_medium=referral)
- en: Well, without any help, finding her place will take a while! If only there were
    a map at the entranceâ€¦
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: å¥½å§ï¼Œæ²¡æœ‰ä»»ä½•å¸®åŠ©çš„è¯ï¼Œæ‰¾åˆ°å¥¹çš„åœ°æ–¹ä¼šèŠ±è´¹ä¸€æ®µæ—¶é—´ï¼å¦‚æœå…¥å£å¤„æœ‰ä¸€å¼ åœ°å›¾å°±å¥½äº†â€¦â€¦
- en: '**This is precisely what indexes are about: how to quickly find where people
    (or data) are.**'
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: '**è¿™æ­£æ˜¯ç´¢å¼•çš„ç›®çš„ï¼šå¦‚ä½•å¿«é€Ÿæ‰¾åˆ°äººä»¬ï¼ˆæˆ–æ•°æ®ï¼‰çš„ä½ç½®ã€‚**'
- en: '[Yellow Pages](https://www.yellowpages.com/) are an index that allows you to
    find peopleâ€™s home based on their names.'
  id: totrans-16
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '[é»„é¡µ](https://www.yellowpages.com/) æ˜¯ä¸€ä¸ªç´¢å¼•ï¼Œå…è®¸ä½ æ ¹æ®äººä»¬çš„åå­—æŸ¥æ‰¾ä»–ä»¬çš„ä½å€ã€‚'
- en: An index is a data structure made to improve the speed of data retrieval operations
    over data. In other words, it is how you organize information so that you can
    quickly find what you are looking for.
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: ç´¢å¼•æ˜¯ä¸€ç§æ•°æ®ç»“æ„ï¼Œç”¨äºæé«˜æ•°æ®æ£€ç´¢æ“ä½œçš„é€Ÿåº¦ã€‚æ¢å¥è¯è¯´ï¼Œå®ƒæ˜¯ä½ ç»„ç»‡ä¿¡æ¯çš„æ–¹å¼ï¼Œä»¥ä¾¿ä½ èƒ½å¤Ÿå¿«é€Ÿæ‰¾åˆ°ä½ æ‰€å¯»æ‰¾çš„å†…å®¹ã€‚
- en: The data is indexed using **keys**. The order is based on the keys, and multiple
    keys can be used. In Yellow Pages, the first key is the family name, and the second
    is the first name.
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: æ•°æ®æ˜¯ä½¿ç”¨**é”®**è¿›è¡Œç´¢å¼•çš„ã€‚æ’åºåŸºäºé”®ï¼Œä¸”å¯ä»¥ä½¿ç”¨å¤šä¸ªé”®ã€‚åœ¨é»„é¡µä¸­ï¼Œç¬¬ä¸€ä¸ªé”®æ˜¯å§“æ°ï¼Œç¬¬äºŒä¸ªé”®æ˜¯åå­—ã€‚
- en: The index does not necessarily store the whole data. It only focuses on the
    critical parts used to quickly locate and access specific pieces of data within
    the entire data.
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: ç´¢å¼•ä¸ä¸€å®šå­˜å‚¨æ‰€æœ‰æ•°æ®ã€‚å®ƒåªå…³æ³¨äºå…³é”®éƒ¨åˆ†ï¼Œä»¥ä¾¿å¿«é€Ÿå®šä½å’Œè®¿é—®æ•´ä¸ªæ•°æ®ä¸­çš„ç‰¹å®šæ•°æ®ç‰‡æ®µã€‚
- en: 'The index at the end of the book is a good example: it shows you where to find
    pages using the word, so it maps each word to page numbers and not to the sentences
    themselves.'
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: ä¹¦ç±æœ«å°¾çš„ç´¢å¼•æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„ä¾‹å­ï¼šå®ƒå‘ä½ å±•ç¤ºäº†å¦‚ä½•é€šè¿‡å•è¯æ‰¾åˆ°é¡µç ï¼Œå› æ­¤å®ƒå°†æ¯ä¸ªå•è¯æ˜ å°„åˆ°é¡µç ï¼Œè€Œä¸æ˜¯å¥å­æœ¬èº«ã€‚
- en: '**Indexes are behind search engines and databases: they play a crucial role
    in improving the efficiency and speed of data retrieval operations.**'
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: '**ç´¢å¼•æ˜¯æœç´¢å¼•æ“å’Œæ•°æ®åº“çš„èƒŒåï¼šå®ƒä»¬åœ¨æé«˜æ•°æ®æ£€ç´¢æ“ä½œçš„æ•ˆç‡å’Œé€Ÿåº¦æ–¹é¢å‘æŒ¥äº†å…³é”®ä½œç”¨ã€‚**'
- en: The choice of how to organize your data is critical and depends on the context.
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: æ•°æ®ç»„ç»‡çš„é€‰æ‹©è‡³å…³é‡è¦ï¼Œä¸”å–å†³äºå…·ä½“çš„ä¸Šä¸‹æ–‡ã€‚
- en: For example, in the example of Yellow Pages, if the indexes were organized by
    phone numbers instead, and you only knew the names, finding their addresses would
    be quite challenging!
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: ä¾‹å¦‚ï¼Œåœ¨é»„é¡µçš„ä¾‹å­ä¸­ï¼Œå¦‚æœç´¢å¼•æ˜¯æŒ‰ç”µè¯å·ç ç»„ç»‡çš„ï¼Œè€Œä½ åªçŸ¥é“åå­—ï¼Œé‚£ä¹ˆæ‰¾åˆ°ä»–ä»¬çš„åœ°å€å°†ä¼šç›¸å½“å…·æœ‰æŒ‘æˆ˜æ€§ï¼
- en: '![](../Images/61615a1e35328f4e00f6e1967da73029.png)'
  id: totrans-24
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/61615a1e35328f4e00f6e1967da73029.png)'
- en: The information is there; you will find it eventually, but the required time
    will prevent you from even trying. On the other hand, using Yellow Pages, one
    glance at the page lets you know precisely if you need to look backward or forward!
    The lexicographic order allows you to make a roughly logarithmic search. Thatâ€™s
    why the choice of the index is essential.
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: ä¿¡æ¯åœ¨é‚£é‡Œï¼›ä½ æœ€ç»ˆä¼šæ‰¾åˆ°å®ƒï¼Œä½†æ‰€éœ€çš„æ—¶é—´ä¼šè®©ä½ ç”šè‡³ä¸æ„¿å°è¯•ã€‚å¦ä¸€æ–¹é¢ï¼Œä½¿ç”¨é»„é¡µï¼Œåªéœ€ä¸€çœ¼æŸ¥çœ‹é¡µé¢ï¼Œä½ å°±å¯ä»¥å‡†ç¡®çŸ¥é“æ˜¯å¦éœ€è¦å¾€å‰æˆ–å¾€åæŸ¥æ‰¾ï¼å­—å…¸é¡ºåºå…è®¸ä½ è¿›è¡Œå¤§è‡´å¯¹æ•°çº§çš„æœç´¢ã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆç´¢å¼•çš„é€‰æ‹©è‡³å…³é‡è¦ã€‚
- en: 'In general, an index has a very precise purpose: it can be designed to perform
    quick insertions or retrievals of the data or a more exotic query such as a range
    query (â€œretrieve all the data dated between the 1st of May and the 15th of August
    of this yearâ€). The choice of the operation to optimize will determine what the
    index will look like.'
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸€èˆ¬æ¥è¯´ï¼Œç´¢å¼•æœ‰ä¸€ä¸ªéå¸¸æ˜ç¡®çš„ç›®çš„ï¼šå®ƒå¯ä»¥è¢«è®¾è®¡ç”¨äºå¿«é€Ÿæ’å…¥æˆ–æ£€ç´¢æ•°æ®ï¼Œæˆ–è€…è¿›è¡Œæ›´å¤æ‚çš„æŸ¥è¯¢ï¼Œæ¯”å¦‚èŒƒå›´æŸ¥è¯¢ï¼ˆâ€œæ£€ç´¢ä»ä»Šå¹´5æœˆ1æ—¥åˆ°8æœˆ15æ—¥ä¹‹é—´çš„æ‰€æœ‰æ•°æ®â€ï¼‰ã€‚ä¼˜åŒ–æ“ä½œçš„é€‰æ‹©å°†å†³å®šç´¢å¼•çš„æ ·å­ã€‚
- en: 'The main difference between online transactional processing (OLTP) and online
    analytical processing (OLAP) databases is the choice of the operations they want
    to optimize: OLTP focuses on operations over rows (like updating an entry), while
    the other is aimed at operations over columns (computing an average for example).
    Both databases will not use the same indexes as they do not aim at the same operations.'
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨çº¿äº‹åŠ¡å¤„ç†ï¼ˆOLTPï¼‰æ•°æ®åº“ä¸åœ¨çº¿åˆ†æå¤„ç†ï¼ˆOLAPï¼‰æ•°æ®åº“ä¹‹é—´çš„ä¸»è¦åŒºåˆ«åœ¨äºå®ƒä»¬æƒ³è¦ä¼˜åŒ–çš„æ“ä½œï¼šOLTPä¾§é‡äºå¯¹è¡Œçš„æ“ä½œï¼ˆä¾‹å¦‚æ›´æ–°æ¡ç›®ï¼‰ï¼Œè€ŒOLAPåˆ™ä¾§é‡äºå¯¹åˆ—çš„æ“ä½œï¼ˆä¾‹å¦‚è®¡ç®—å¹³å‡å€¼ï¼‰ã€‚è¿™ä¸¤ç§æ•°æ®åº“ä¸ä¼šä½¿ç”¨ç›¸åŒçš„ç´¢å¼•ï¼Œå› ä¸ºå®ƒä»¬çš„æ“ä½œç›®æ ‡ä¸åŒã€‚
- en: 1.1 What is the difference between indexes and data structures?
  id: totrans-28
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 1.1 ç´¢å¼•å’Œæ•°æ®ç»“æ„ä¹‹é—´æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ
- en: ğŸ’¡A [data structure](https://w.wiki/7ma9) is a way of organizing and storing
    data in a computer so that it can be efficiently accessed and manipulated. Explained
    like this, the difference between indexes and data structures is sometimes hard
    to see, so what are the differences? Indexes focus on inserting, searching, sorting,
    or filtering data. Data structures are more generic.
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: ğŸ’¡[æ•°æ®ç»“æ„](https://w.wiki/7ma9)æ˜¯ç»„ç»‡å’Œå­˜å‚¨è®¡ç®—æœºæ•°æ®çš„ä¸€ç§æ–¹å¼ï¼Œä»¥ä¾¿å¯ä»¥é«˜æ•ˆåœ°è®¿é—®å’Œæ“ä½œæ•°æ®ã€‚è¿™æ ·è§£é‡Šï¼Œç´¢å¼•å’Œæ•°æ®ç»“æ„ä¹‹é—´çš„åŒºåˆ«æœ‰æ—¶å¾ˆéš¾çœ‹å‡ºï¼Œé‚£ä¹ˆå®ƒä»¬çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿç´¢å¼•ä¸“æ³¨äºæ’å…¥ã€æœç´¢ã€æ’åºæˆ–è¿‡æ»¤æ•°æ®ã€‚æ•°æ®ç»“æ„åˆ™æ›´ä¸ºé€šç”¨ã€‚
- en: '**Indexes are built using data structures but typically do not store the data
    itself.**'
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: '**ç´¢å¼•æ˜¯ä½¿ç”¨æ•°æ®ç»“æ„æ„å»ºçš„ï¼Œä½†é€šå¸¸ä¸å­˜å‚¨æ•°æ®æœ¬èº«ã€‚**'
- en: 'If you consider a database of movies, you donâ€™t want to move around large files
    whenever the index is updated: you store *a pointer* to the file, not the file
    itself. A pointer can be seen as the address of the file on the disk.'
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: å¦‚æœä½ è€ƒè™‘ä¸€ä¸ªç”µå½±æ•°æ®åº“ï¼Œä½ ä¸æƒ³åœ¨æ¯æ¬¡ç´¢å¼•æ›´æ–°æ—¶ç§»åŠ¨å¤§å‹æ–‡ä»¶ï¼šä½ å­˜å‚¨çš„æ˜¯*æŒ‡é’ˆ*ï¼Œè€Œä¸æ˜¯æ–‡ä»¶æœ¬èº«ã€‚æŒ‡é’ˆå¯ä»¥è¢«çœ‹ä½œæ˜¯æ–‡ä»¶åœ¨ç£ç›˜ä¸Šçš„åœ°å€ã€‚
- en: 'Now that you have a general idea about what an index is, letâ€™s focus on numeric
    examples. Here are some common (numeric) indexes:'
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: ç°åœ¨ä½ å¯¹ä»€ä¹ˆæ˜¯ç´¢å¼•æœ‰äº†ä¸€ä¸ªå¤§æ¦‚å¿µï¼Œè®©æˆ‘ä»¬ä¸“æ³¨äºæ•°å­—ç¤ºä¾‹ã€‚ä»¥ä¸‹æ˜¯ä¸€äº›å¸¸è§çš„ï¼ˆæ•°å­—ï¼‰ç´¢å¼•ï¼š
- en: Inverted index
  id: totrans-33
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å€’æ’ç´¢å¼•
- en: Hash indexes
  id: totrans-34
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å“ˆå¸Œç´¢å¼•
- en: B-trees
  id: totrans-35
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Bæ ‘
- en: Locality-sensitive-Hashing (LSH).
  id: totrans-36
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å±€éƒ¨æ•æ„Ÿå“ˆå¸Œï¼ˆLocality-sensitive-Hashing, LSHï¼‰ã€‚
- en: 'To better understand how indexes work, letâ€™s explore one of the most basic
    indexes: the inverted index.'
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸ºäº†æ›´å¥½åœ°ç†è§£ç´¢å¼•å¦‚ä½•å·¥ä½œï¼Œè®©æˆ‘ä»¬æ¢è®¨ä¸€ç§æœ€åŸºæœ¬çš„ç´¢å¼•ï¼šå€’æ’ç´¢å¼•ã€‚
- en: 1.2 Inverted index
  id: totrans-38
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 1.2 å€’æ’ç´¢å¼•
- en: The inverted index is a standard index used in search engines.
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: å€’æ’ç´¢å¼•æ˜¯ä¸€ç§åœ¨æœç´¢å¼•æ“ä¸­ä½¿ç”¨çš„æ ‡å‡†ç´¢å¼•ã€‚
- en: 'It is designed to find where the information is quickly: it aims at optimizing
    the retrieval time.'
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: å®ƒæ—¨åœ¨å¿«é€Ÿæ‰¾åˆ°ä¿¡æ¯ï¼šå…¶ç›®æ ‡æ˜¯ä¼˜åŒ–æ£€ç´¢æ—¶é—´ã€‚
- en: In a nutshell, an inverted index maps contents to their locations, a bit like
    the index of a book.
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: ç®€è€Œè¨€ä¹‹ï¼Œå€’æ’ç´¢å¼•å°†å†…å®¹æ˜ å°„åˆ°å®ƒä»¬çš„ä½ç½®ï¼Œæœ‰ç‚¹åƒä¹¦ç±çš„ç´¢å¼•ã€‚
- en: It is often used to map a characteristic to the data that have it.
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: å®ƒé€šå¸¸ç”¨äºå°†ç‰¹å¾æ˜ å°„åˆ°å…·æœ‰è¯¥ç‰¹å¾çš„æ•°æ®ã€‚
- en: For example, suppose you want to know who lives in the same building.
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: ä¾‹å¦‚ï¼Œå‡è®¾ä½ æƒ³çŸ¥é“è°ä½åœ¨åŒä¸€æ ‹æ¥¼é‡Œã€‚
- en: 'First, you should have a table where, for each name, you have the building
    (the table that would have helped you to find Alice):'
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: é¦–å…ˆï¼Œä½ åº”è¯¥æœ‰ä¸€ä¸ªè¡¨ï¼Œå…¶ä¸­å¯¹äºæ¯ä¸ªåå­—ï¼Œä½ éƒ½æœ‰å»ºç­‘ç‰©ï¼ˆè¿™ä¸ªè¡¨ä¼šå¸®åŠ©ä½ æ‰¾åˆ°çˆ±ä¸½ä¸ï¼‰ï¼š
- en: '![](../Images/2db595269580a005da33dc5a44cde5e0.png)'
  id: totrans-45
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/2db595269580a005da33dc5a44cde5e0.png)'
- en: This table is updated whenever a person arrives or leaves the district.
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™ä¸ªè¡¨åœ¨æ¯æ¬¡æœ‰äººåˆ°è¾¾æˆ–ç¦»å¼€åœ°åŒºæ—¶éƒ½ä¼šæ›´æ–°ã€‚
- en: If you want to find who lives in building B in this table, you have to iterate
    through the whole table.
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: å¦‚æœä½ æƒ³æ‰¾åˆ°è°ä½åœ¨è¿™ä¸ªè¡¨ä¸­çš„Bæ ‹æ¥¼ï¼Œä½ å¿…é¡»éå†æ•´ä¸ªè¡¨ã€‚
- en: While it is technically possible, it wonâ€™t scale as the computation time will
    linearly increase with the size of the table.
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: è™½ç„¶åœ¨æŠ€æœ¯ä¸Šæ˜¯å¯èƒ½çš„ï¼Œä½†ç”±äºè®¡ç®—æ—¶é—´ä¼šéšç€è¡¨çš„å¤§å°çº¿æ€§å¢åŠ ï¼Œå› æ­¤å®ƒä¸ä¼šæ‰©å±•ã€‚
- en: 'Think about the number of apartments in the district: if you want to find all
    the persons who live in building B by checking all the profiles one by one, it
    will take a while!'
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: æƒ³æƒ³è¿™ä¸ªåœ°åŒºçš„å…¬å¯“æ•°é‡ï¼šå¦‚æœä½ æƒ³é€šè¿‡ä¸€ä¸ªä¸ªæ£€æŸ¥æ‰€æœ‰çš„æ¡£æ¡ˆæ¥æ‰¾åˆ°æ‰€æœ‰ä½åœ¨Bæ ‹æ¥¼çš„äººï¼Œè¿™ä¼šèŠ±è´¹å¾ˆé•¿æ—¶é—´ï¼
- en: 'Another solution is to use an inverted index: you maintain a table where the
    buildings are used as keys and connected to the people living in it:'
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: å¦ä¸€ç§è§£å†³æ–¹æ¡ˆæ˜¯ä½¿ç”¨å€’æ’ç´¢å¼•ï¼šä½ ç»´æŠ¤ä¸€ä¸ªè¡¨ï¼Œå…¶ä¸­å»ºç­‘ç‰©ä½œä¸ºé”®å¹¶ä¸ä½åœ¨å…¶ä¸­çš„äººè¿æ¥ï¼š
- en: '![](../Images/085db2298e6a0b7260a2bdff98138368.png)'
  id: totrans-51
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/085db2298e6a0b7260a2bdff98138368.png)'
- en: 'This table is maintained simultaneously as the previous one: the cost to add
    or remove a new person is slightly higher than before, but the retrieval time
    has shrunk to nearly nothing!'
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™ä¸ªè¡¨ä¸å‰ä¸€ä¸ªè¡¨åŒæ—¶ç»´æŠ¤ï¼šæ·»åŠ æˆ–åˆ é™¤æ–°äººçš„æˆæœ¬æ¯”ä»¥å‰ç¨é«˜ï¼Œä½†æ£€ç´¢æ—¶é—´å‡ ä¹ç¼©çŸ­ä¸ºé›¶ï¼
- en: To find who lives in building B, you simply need to access this tableâ€™s line
    â€œBuilding Bâ€ and have your result!
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: è¦æŸ¥æ‰¾è°ä½åœ¨Bæ¥¼ï¼Œä½ åªéœ€è¦è®¿é—®è¯¥è¡¨çš„â€œBuilding Bâ€è¿™ä¸€è¡Œï¼Œå°±èƒ½å¾—åˆ°ç»“æœï¼
- en: A reverse phone Lookup is a reverse index of phone numbers!
  id: totrans-54
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: åå‘ç”µè¯æŸ¥è¯¢æ˜¯ç”µè¯å·ç çš„å€’æ’ç´¢å¼•ï¼
- en: In practice, inverted indexes are a bit more complicated as they manipulate
    more complex data than pair (user, interest). The indexes are typically stored
    as [hash tables](https://w.wiki/7mdQ).
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: å®é™…ä¸Šï¼Œå€’æ’ç´¢å¼•è¦å¤æ‚ä¸€äº›ï¼Œå› ä¸ºå®ƒä»¬å¤„ç†çš„æ•°æ®æ¯”ï¼ˆç”¨æˆ·ï¼Œå…´è¶£ï¼‰å¯¹è¦å¤æ‚å¾—å¤šã€‚ç´¢å¼•é€šå¸¸å­˜å‚¨ä¸º[å“ˆå¸Œè¡¨](https://w.wiki/7mdQ)ã€‚
- en: Despite their relative simplicity, inverted indexes are among the most common
    indexes used in search engines.
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: å°½ç®¡å€’æ’ç´¢å¼•ç›¸å¯¹ç®€å•ï¼Œä½†å®ƒä»¬æ˜¯æœç´¢å¼•æ“ä¸­æœ€å¸¸ç”¨çš„ç´¢å¼•ä¹‹ä¸€ã€‚
- en: 1.3 Indexes and Databases
  id: totrans-57
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 1.3 ç´¢å¼•å’Œæ•°æ®åº“
- en: Databases are built over indexes. The indexes enhance data retrieval in the
    database by storing pointers or references to the databaseâ€™s data. It does not
    store the actual data but acts as a means to quickly access it, significantly
    improving query performance.
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: æ•°æ®åº“æ˜¯å»ºç«‹åœ¨ç´¢å¼•ä¹‹ä¸Šçš„ã€‚ç´¢å¼•é€šè¿‡å­˜å‚¨æŒ‡é’ˆæˆ–å¼•ç”¨æ¥å¢å¼ºæ•°æ®åº“çš„æ•°æ®æ£€ç´¢ã€‚å®ƒä¸å­˜å‚¨å®é™…æ•°æ®ï¼Œè€Œæ˜¯ä½œä¸ºä¸€ç§å¿«é€Ÿè®¿é—®æ•°æ®çš„æ‰‹æ®µï¼Œå¤§å¤§æé«˜äº†æŸ¥è¯¢æ€§èƒ½ã€‚
- en: The database is more than the index as it is a comprehensive system for data
    management. It stores, organizes, and manages the actual data, enforces data integrity,
    handles transactions, and provides a range of features beyond indexing, making
    it a central hub for data storage and manipulation. While indexes speed up data
    retrieval within databases, databases serve as the complete ecosystem for data
    storage, management, and retrieval.
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: æ•°æ®åº“ä¸ä»…ä»…æ˜¯ç´¢å¼•ï¼Œå®ƒæ˜¯ä¸€ä¸ªå…¨é¢çš„æ•°æ®ç®¡ç†ç³»ç»Ÿã€‚å®ƒå­˜å‚¨ã€ç»„ç»‡å’Œç®¡ç†å®é™…æ•°æ®ï¼Œç»´æŠ¤æ•°æ®å®Œæ•´æ€§ï¼Œå¤„ç†äº‹åŠ¡ï¼Œå¹¶æä¾›è¶…è¶Šç´¢å¼•çš„å„ç§åŠŸèƒ½ï¼Œä½¿å…¶æˆä¸ºæ•°æ®å­˜å‚¨å’Œæ“ä½œçš„æ ¸å¿ƒæ¢çº½ã€‚è™½ç„¶ç´¢å¼•åŠ å¿«äº†æ•°æ®åº“ä¸­çš„æ•°æ®æ£€ç´¢ï¼Œä½†æ•°æ®åº“ä½œä¸ºæ•°æ®å­˜å‚¨ã€ç®¡ç†å’Œæ£€ç´¢çš„å®Œæ•´ç”Ÿæ€ç³»ç»Ÿå­˜åœ¨ã€‚
- en: '![](../Images/3d4764aecef1840c6f559651c7169d74.png)'
  id: totrans-60
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/3d4764aecef1840c6f559651c7169d74.png)'
- en: In summary, indexes are like signposts in a database, pointing the way to the
    data you seek. In contrast, databases are the repositories where the actual data
    resides and are equipped with various tools and features to manage and manipulate
    that data.
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: æ€»ç»“æ¥è¯´ï¼Œç´¢å¼•å°±åƒæ•°æ®åº“ä¸­çš„æŒ‡ç¤ºç‰Œï¼ŒæŒ‡å¼•ä½ æ‰¾åˆ°æ‰€éœ€çš„æ•°æ®ã€‚ç›¸åï¼Œæ•°æ®åº“æ˜¯å®é™…æ•°æ®æ‰€åœ¨çš„å­˜å‚¨åº“ï¼Œå¹¶é…å¤‡äº†å„ç§å·¥å…·å’ŒåŠŸèƒ½æ¥ç®¡ç†å’Œæ“ä½œè¿™äº›æ•°æ®ã€‚
- en: Depending on your use case, you may not need an entire database but only the
    indexes, as the overlay managing the data may be costly.
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: æ ¹æ®ä½ çš„ä½¿ç”¨åœºæ™¯ï¼Œä½ å¯èƒ½ä¸éœ€è¦æ•´ä¸ªæ•°æ®åº“ï¼Œåªéœ€è¦ç´¢å¼•ï¼Œå› ä¸ºç®¡ç†æ•°æ®çš„è¦†ç›–å±‚å¯èƒ½ä¼šå¾ˆæ˜‚è´µã€‚
- en: 2\. Vector indexes and vector databases
  id: totrans-63
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 2\. å‘é‡ç´¢å¼•å’Œå‘é‡æ•°æ®åº“
- en: 2.1 What is a vector index?
  id: totrans-64
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 2.1 ä»€ä¹ˆæ˜¯å‘é‡ç´¢å¼•ï¼Ÿ
- en: In a nutshell, **a vector index is an index where the keys are vectors**.
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: ç®€è€Œè¨€ä¹‹ï¼Œ**å‘é‡ç´¢å¼•å°±æ˜¯é”®æ˜¯å‘é‡çš„ç´¢å¼•**ã€‚
- en: 'In our reversed index example, the keys were words (hobbies and names). In
    vector indexes, we manipulate vectors: fixed-size sequences of numbers.'
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨æˆ‘ä»¬çš„å€’æ’ç´¢å¼•ç¤ºä¾‹ä¸­ï¼Œé”®æ˜¯å•è¯ï¼ˆçˆ±å¥½å’Œåå­—ï¼‰ã€‚åœ¨å‘é‡ç´¢å¼•ä¸­ï¼Œæˆ‘ä»¬å¤„ç†çš„æ˜¯å‘é‡ï¼šå›ºå®šå¤§å°çš„æ•°å­—åºåˆ—ã€‚
- en: '![](../Images/35ff2ef33bf4f915ac11e3a045afe67e.png)'
  id: totrans-67
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/35ff2ef33bf4f915ac11e3a045afe67e.png)'
- en: Two vectors of size 4.
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸¤ä¸ªå¤§å°ä¸º4çš„å‘é‡ã€‚
- en: I know, I know, I can hear you say, â€œIâ€™m bad at math, I donâ€™t want to use vectorsâ€.
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘çŸ¥é“ï¼Œæˆ‘çŸ¥é“ï¼Œæˆ‘èƒ½å¬åˆ°ä½ è¯´ï¼Œâ€œæˆ‘æ•°å­¦ä¸å¥½ï¼Œæˆ‘ä¸æƒ³ä½¿ç”¨å‘é‡â€ã€‚
- en: Donâ€™t worry, you donâ€™t need to be good at math to understand vector indexes.
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸ç”¨æ‹…å¿ƒï¼Œä½ ä¸éœ€è¦æ“…é•¿æ•°å­¦å°±èƒ½ç†è§£å‘é‡ç´¢å¼•ã€‚
- en: All you need to know is that using vectors enables you to rely on powerful and
    optimized operations.
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: ä½ åªéœ€è¦çŸ¥é“çš„æ˜¯ï¼Œä½¿ç”¨å‘é‡å¯ä»¥ä¾é å¼ºå¤§ä¸”ä¼˜åŒ–çš„æ“ä½œã€‚
- en: The first question you might ask yourself is, â€œWhat is so interesting about
    your vectorsâ€?
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: ä½ å¯èƒ½ä¼šé—®è‡ªå·±ç¬¬ä¸€ä¸ªé—®é¢˜æ˜¯ï¼Œâ€œä½ çš„å‘é‡æœ‰ä»€ä¹ˆæœ‰è¶£ä¹‹å¤„â€ï¼Ÿ
- en: 'Letâ€™s say that you finally found Alice at her place, and now you want to find
    something to eat. You may want to find the nearest restaurant. You look for a
    list of restaurants and end up with a table of restaurants, specialties, and addresses.
    Letâ€™s take a look at the information you can find:'
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: å‡è®¾ä½ ç»ˆäºæ‰¾åˆ°äº†Aliceçš„ä½å¤„ï¼Œç°åœ¨ä½ æƒ³æ‰¾ç‚¹ä¸œè¥¿åƒã€‚ä½ å¯èƒ½ä¼šæƒ³æ‰¾æœ€è¿‘çš„é¤é¦†ã€‚ä½ ä¼šæ‰¾ä¸€ä»½é¤é¦†åˆ—è¡¨ï¼Œç»“æœå¾—åˆ°ä¸€å¼ åŒ…å«é¤é¦†ã€ç‰¹è‰²èœå’Œåœ°å€çš„è¡¨æ ¼ã€‚è®©æˆ‘ä»¬æ¥çœ‹çœ‹ä½ å¯ä»¥æ‰¾åˆ°çš„ä¿¡æ¯ï¼š
- en: '![](../Images/7c07b731c47ce75030b0be8b72f98315.png)'
  id: totrans-74
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/7c07b731c47ce75030b0be8b72f98315.png)'
- en: This doesnâ€™t look helpful right? Your only option is to scan through the list,
    reading addresses one by one and manually assessing how close it is to you. We
    could try to automate the ranking of the nearest place, but computing distances
    based on raw addresses is difficult (two streets may be nearby but have different
    names).
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™çœ‹èµ·æ¥æ²¡ä»€ä¹ˆå¸®åŠ©ï¼Œå¯¹å§ï¼Ÿä½ å”¯ä¸€çš„é€‰æ‹©æ˜¯é€ä¸€æ‰«æåˆ—è¡¨ï¼Œé˜…è¯»åœ°å€ï¼Œå¹¶æ‰‹åŠ¨è¯„ä¼°å®ƒä¸ä½ çš„è·ç¦»æœ‰å¤šè¿‘ã€‚æˆ‘ä»¬å¯ä»¥å°è¯•è‡ªåŠ¨åŒ–æœ€è¿‘åœ°ç‚¹çš„æ’åï¼Œä½†åŸºäºåŸå§‹åœ°å€è®¡ç®—è·ç¦»æ˜¯å›°éš¾çš„ï¼ˆä¸¤æ¡è¡—é“å¯èƒ½ç›¸è¿‘ä½†åç§°ä¸åŒï¼‰ã€‚
- en: 'However, imagine now that you have a table with GPS positions representing
    each restaurantâ€™s exact latitude and longitude:'
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸è¿‡ï¼Œå‡è®¾ä½ ç°åœ¨æœ‰ä¸€ä¸ªè¡¨ï¼Œå…¶ä¸­ GPS ä½ç½®è¡¨ç¤ºæ¯ä¸ªé¤é¦†çš„ç²¾ç¡®çº¬åº¦å’Œç»åº¦ï¼š
- en: '![](../Images/57e546e41d73fe4d44dc837f97fed7bc.png)'
  id: totrans-77
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/57e546e41d73fe4d44dc837f97fed7bc.png)'
- en: Each position is a vector of size 2\. With those vectors, you can easily compute
    the distance to your own position with a simple *-and fast-* mathematical operation.
    Then you can quickly retrieve the closest ones, in other words, the one with the
    smallest distance to you!
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: æ¯ä¸ªä½ç½®æ˜¯ä¸€ä¸ªå¤§å°ä¸º 2 çš„å‘é‡ã€‚åˆ©ç”¨è¿™äº›å‘é‡ï¼Œä½ å¯ä»¥é€šè¿‡ä¸€ä¸ªç®€å•çš„ *-è€Œä¸”å¿«é€Ÿ-* æ•°å­¦æ“ä½œè½»æ¾è®¡ç®—åˆ°è‡ªå·±ä½ç½®çš„è·ç¦»ã€‚ç„¶åä½ å¯ä»¥è¿…é€Ÿæ£€ç´¢åˆ°æœ€è¿‘çš„é‚£äº›ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œç¦»ä½ æœ€è¿‘çš„é‚£ä¸ªï¼
- en: '![](../Images/13067bc197132defec5969f7a2b30174.png)'
  id: totrans-79
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/13067bc197132defec5969f7a2b30174.png)'
- en: Now you can easily find the closest restaurant to you!
  id: totrans-80
  prefs: []
  type: TYPE_NORMAL
  zh: ç°åœ¨ä½ å¯ä»¥è½»æ¾æ‰¾åˆ°ç¦»ä½ æœ€è¿‘çš„é¤é¦†äº†ï¼
- en: The interesting point is that by indexing the table directly by the vector (the
    GPS Position in this example), we can optimize the index so that finding the entries
    with the lowest distance is extremely fast.
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: æœ‰è¶£çš„æ˜¯ï¼Œé€šè¿‡ç›´æ¥æŒ‰å‘é‡ï¼ˆåœ¨è¿™ä¸ªä¾‹å­ä¸­æ˜¯ GPS ä½ç½®ï¼‰ç´¢å¼•è¡¨ï¼Œæˆ‘ä»¬å¯ä»¥ä¼˜åŒ–ç´¢å¼•ï¼Œä½¿å¾—æŸ¥æ‰¾è·ç¦»æœ€å°çš„æ¡ç›®å˜å¾—æå…¶å¿«é€Ÿã€‚
- en: '**Vector indexes are specialized indexes designed to efficiently retrieve vectors
    that are closest, or the most similar, to a given vector. These indexes rely on
    optimized mathematical operations to efficiently identify the most similar vectors.**'
  id: totrans-82
  prefs: []
  type: TYPE_NORMAL
  zh: '**å‘é‡ç´¢å¼•æ˜¯ä¸“é—¨è®¾è®¡ç”¨äºé«˜æ•ˆæ£€ç´¢æœ€æ¥è¿‘æˆ–æœ€ç›¸ä¼¼äºç»™å®šå‘é‡çš„å‘é‡çš„ç´¢å¼•ã€‚è¿™äº›ç´¢å¼•ä¾èµ–äºä¼˜åŒ–çš„æ•°å­¦æ“ä½œæ¥é«˜æ•ˆåœ°è¯†åˆ«æœ€ç›¸ä¼¼çš„å‘é‡ã€‚**'
- en: In our example, the distance used was the classical distance, but there are
    indexes for all the existing distances or similarities, such as the cosine similarity
    metric.
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨æˆ‘ä»¬çš„ä¾‹å­ä¸­ï¼Œä½¿ç”¨çš„è·ç¦»æ˜¯ç»å…¸è·ç¦»ï¼Œä½†å¯¹äºæ‰€æœ‰ç°æœ‰çš„è·ç¦»æˆ–ç›¸ä¼¼æ€§æŒ‡æ ‡éƒ½æœ‰ç´¢å¼•ï¼Œä¾‹å¦‚ä½™å¼¦ç›¸ä¼¼æ€§åº¦é‡ã€‚
- en: '[Locality Sensitive Hashing (LSH)](https://pathway.com/developers/showcases/lsh/lsh_chapter2)
    is one of the most widely used indexes to find the k most similar data points
    in a dataset, and it works with different distances or similarities.'
  id: totrans-84
  prefs: []
  type: TYPE_NORMAL
  zh: '[å±€éƒ¨æ•æ„Ÿå“ˆå¸Œï¼ˆLSHï¼‰](https://pathway.com/developers/showcases/lsh/lsh_chapter2) æ˜¯æœ€å¹¿æ³›ä½¿ç”¨çš„ç´¢å¼•ä¹‹ä¸€ï¼Œç”¨äºåœ¨æ•°æ®é›†ä¸­æ‰¾åˆ°
    k ä¸ªæœ€ç›¸ä¼¼çš„æ•°æ®ç‚¹ï¼Œå¹¶ä¸”å®ƒå¯ä»¥ä¸ä¸åŒçš„è·ç¦»æˆ–ç›¸ä¼¼æ€§åº¦é‡ä¸€èµ·ä½¿ç”¨ã€‚'
- en: â€œThatâ€™s nice, but Iâ€™m not using vectors in my databaseâ€.
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: â€œè¿™å¾ˆå¥½ï¼Œä½†æˆ‘åœ¨æ•°æ®åº“ä¸­æ²¡æœ‰ä½¿ç”¨å‘é‡â€ã€‚
- en: 'Thatâ€™s the exciting part: you can transform anything into a vector.'
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™å°±æ˜¯æ¿€åŠ¨äººå¿ƒçš„éƒ¨åˆ†ï¼šä½ å¯ä»¥å°†ä»»ä½•ä¸œè¥¿è½¬æ¢æˆä¸€ä¸ªå‘é‡ã€‚
- en: Simply taking the binary representation would be inefficient since it may contain
    noise, so itâ€™s essential to find a representation that preserves the characteristics
    of the data.
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
  zh: ä»…ä»…ä½¿ç”¨äºŒè¿›åˆ¶è¡¨ç¤ºä¼šå¾ˆä½æ•ˆï¼Œå› ä¸ºå®ƒå¯èƒ½åŒ…å«å™ªå£°ï¼Œå› æ­¤æ‰¾åˆ°èƒ½å¤Ÿä¿ç•™æ•°æ®ç‰¹å¾çš„è¡¨ç¤ºæ˜¯è‡³å…³é‡è¦çš„ã€‚
- en: Representing different information as a vector to use vector indexes has become
    a standard way to improve the efficiency of a system. Vectorization has become
    an art.
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: å°†ä¸åŒçš„ä¿¡æ¯è¡¨ç¤ºä¸ºå‘é‡ä»¥ä½¿ç”¨å‘é‡ç´¢å¼•å·²ç»æˆä¸ºæé«˜ç³»ç»Ÿæ•ˆç‡çš„æ ‡å‡†æ–¹æ³•ã€‚å‘é‡åŒ–å·²ç»æˆä¸ºä¸€é—¨è‰ºæœ¯ã€‚
- en: For example, if you have an image dataset and you want a database where you
    can find the images the most similar to a given one, you can use the SIFT descriptor
    of the images.
  id: totrans-89
  prefs: []
  type: TYPE_NORMAL
  zh: ä¾‹å¦‚ï¼Œå¦‚æœä½ æœ‰ä¸€ä¸ªå›¾åƒæ•°æ®é›†ï¼Œå¹¶ä¸”æƒ³è¦ä¸€ä¸ªå¯ä»¥æ‰¾åˆ°ä¸ç»™å®šå›¾åƒæœ€ç›¸ä¼¼çš„å›¾åƒçš„æ•°æ®åº“ï¼Œä½ å¯ä»¥ä½¿ç”¨å›¾åƒçš„ SIFT æè¿°ç¬¦ã€‚
- en: 2.2 What is the difference between Vector Indexes and Vector databases?
  id: totrans-90
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 2.2 å‘é‡ç´¢å¼•å’Œå‘é‡æ•°æ®åº“ä¹‹é—´æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ
- en: 'The difference between vector indexes and vector databases is the same as the
    difference between indexes and databases: indexes are meant to simply quickly
    find where the data is, while vector databases use vector indexes to perform the
    retrieval queries fast, but they also store and maintain the data while providing
    additional operations and properties.'
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
  zh: å‘é‡ç´¢å¼•å’Œå‘é‡æ•°æ®åº“ä¹‹é—´çš„åŒºåˆ«å°±åƒç´¢å¼•å’Œæ•°æ®åº“ä¹‹é—´çš„åŒºåˆ«ä¸€æ ·ï¼šç´¢å¼•æ—¨åœ¨å¿«é€Ÿæ‰¾åˆ°æ•°æ®çš„ä½ç½®ï¼Œè€Œå‘é‡æ•°æ®åº“ä½¿ç”¨å‘é‡ç´¢å¼•å¿«é€Ÿæ‰§è¡Œæ£€ç´¢æŸ¥è¯¢ï¼Œä½†å®ƒä»¬è¿˜å­˜å‚¨å’Œç»´æŠ¤æ•°æ®ï¼ŒåŒæ—¶æä¾›é™„åŠ æ“ä½œå’Œå±æ€§ã€‚
- en: 3\. What is the link between LLMs and RAGs?
  id: totrans-92
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 3\. LLMs å’Œ RAGs ä¹‹é—´çš„è”ç³»æ˜¯ä»€ä¹ˆï¼Ÿ
- en: Now that youâ€™ve learned about vector indexes, you might wonder why so many discussions
    about LLMs and RAGs also discussed vector indexes. To understand why, letâ€™s first
    quickly explain what Retrieval Augmented Generation, or RAG, is. AG serves as
    a clever workaround for one of the inherent limitations of LLMs, namely, their
    limited knowledge.
  id: totrans-93
  prefs: []
  type: TYPE_NORMAL
  zh: ç°åœ¨ä½ å·²ç»äº†è§£äº†å‘é‡ç´¢å¼•ï¼Œä½ å¯èƒ½ä¼šæƒ³ä¸ºä»€ä¹ˆå…³äºLLMså’ŒRAGsçš„è®¨è®ºä¹Ÿæ¶‰åŠåˆ°å‘é‡ç´¢å¼•ã€‚è¦ç†è§£åŸå› ï¼Œæˆ‘ä»¬é¦–å…ˆå¿«é€Ÿè§£é‡Šä¸€ä¸‹ä»€ä¹ˆæ˜¯æ£€ç´¢å¢å¼ºç”Ÿæˆï¼Œæˆ–è€…è¯´RAGã€‚RAGä½œä¸ºLLMså›ºæœ‰å±€é™æ€§â€”â€”å³çŸ¥è¯†æœ‰é™æ€§â€”â€”çš„å·§å¦™è§£å†³æ–¹æ¡ˆã€‚
- en: 'LLMs are only aware of the data they were trained on. One technique to increase
    their knowledge is *prompt engineering,* where additional data is integrated into
    the query prompt: â€œGiven this data {data}, answer this question: {question}â€.'
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: LLMsåªçŸ¥é“å®ƒä»¬æ¥å—è®­ç»ƒçš„æ•°æ®ã€‚æé«˜å®ƒä»¬çŸ¥è¯†çš„ä¸€ç§æŠ€æœ¯æ˜¯*æç¤ºå·¥ç¨‹*ï¼Œå³å°†é¢å¤–çš„æ•°æ®æ•´åˆåˆ°æŸ¥è¯¢æç¤ºä¸­ï¼šâ€œç»™å®šè¿™äº›æ•°æ®{data}ï¼Œå›ç­”è¿™ä¸ªé—®é¢˜ï¼š{question}â€ã€‚
- en: 'While effective, this approach faces a new challenge: scalability. Not only
    the size of the prompt is limited, but the more data you include, the more costly
    the query becomes.'
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
  zh: å°½ç®¡æœ‰æ•ˆï¼Œä½†è¿™ç§æ–¹æ³•é¢ä¸´ä¸€ä¸ªæ–°æŒ‘æˆ˜ï¼šå¯æ‰©å±•æ€§ã€‚ä¸ä»…æç¤ºçš„å¤§å°æœ‰é™ï¼ŒåŒ…å«çš„æ•°æ®è¶Šå¤šï¼ŒæŸ¥è¯¢çš„æˆæœ¬ä¹Ÿå°±è¶Šé«˜ã€‚
- en: To overcome this, Retrieval Augmented Generation limits the quantity of data
    by only inserting the most similar data, which is where vector indexes come into
    play!
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸ºäº†å…‹æœè¿™ä¸ªé—®é¢˜ï¼Œæ£€ç´¢å¢å¼ºç”Ÿæˆé€šè¿‡åªæ’å…¥æœ€ç›¸ä¼¼çš„æ•°æ®æ¥é™åˆ¶æ•°æ®çš„æ•°é‡ï¼Œè¿™å°±æ˜¯å‘é‡ç´¢å¼•å‘æŒ¥ä½œç”¨çš„åœ°æ–¹ï¼
- en: 'Hereâ€™s how it works: All the documents are initially transformed into vectors
    using LLMs (1). To be more specific, the encoder part of the LLM is used.'
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
  zh: å®ƒçš„å·¥ä½œåŸç†æ˜¯ï¼šæ‰€æœ‰æ–‡æ¡£æœ€åˆéƒ½é€šè¿‡LLMsï¼ˆ1ï¼‰è½¬æ¢ä¸ºå‘é‡ã€‚å…·ä½“æ¥è¯´ï¼Œæ˜¯LLMçš„ç¼–ç å™¨éƒ¨åˆ†è¢«ä½¿ç”¨ã€‚
- en: These vectors are used as keys for indexing the documents in a vector index
    (2).
  id: totrans-98
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™äº›å‘é‡è¢«ç”¨ä½œåœ¨å‘é‡ç´¢å¼•ä¸­ç´¢å¼•æ–‡æ¡£çš„é”®ï¼ˆ2ï¼‰ã€‚
- en: When doing a query, the query is vectorized using the LLM (3). The resulting
    vector is then queried in the vector index to retrieve the most similar documents
    (4). These documents are then used to answer the query using prompt engineering
    (5).
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨è¿›è¡ŒæŸ¥è¯¢æ—¶ï¼ŒæŸ¥è¯¢ä¼šä½¿ç”¨LLMè¿›è¡Œå‘é‡åŒ–ï¼ˆ3ï¼‰ã€‚ç„¶åï¼Œå°†ç»“æœå‘é‡åœ¨å‘é‡ç´¢å¼•ä¸­æŸ¥è¯¢ï¼Œä»¥æ£€ç´¢æœ€ç›¸ä¼¼çš„æ–‡æ¡£ï¼ˆ4ï¼‰ã€‚è¿™äº›æ–‡æ¡£éšåä¼šé€šè¿‡æç¤ºå·¥ç¨‹ï¼ˆ5ï¼‰æ¥å›ç­”æŸ¥è¯¢ã€‚
- en: '![](../Images/3e1970f264443b02529b03fdd905421d.png)'
  id: totrans-100
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/3e1970f264443b02529b03fdd905421d.png)'
- en: Retrieval-Augmented Generation (RAG) relies on both LLMs and vector indexes.
  id: totrans-101
  prefs: []
  type: TYPE_NORMAL
  zh: æ£€ç´¢å¢å¼ºç”Ÿæˆï¼ˆRAGï¼‰ä¾èµ–äºLLMså’Œå‘é‡ç´¢å¼•ã€‚
- en: Thatâ€™s it!
  id: totrans-102
  prefs: []
  type: TYPE_NORMAL
  zh: å°±è¿™äº›ï¼
- en: As you can see, similarly to LLM, the vector index holds a central position
    in RAGs.
  id: totrans-103
  prefs: []
  type: TYPE_NORMAL
  zh: æ­£å¦‚ä½ æ‰€è§ï¼Œç±»ä¼¼äºLLMï¼Œå‘é‡ç´¢å¼•åœ¨RAGsä¸­ä¹Ÿå æ®ç€æ ¸å¿ƒä½ç½®ã€‚
- en: Some people prefer to use a vector database instead of a vector index. Thatâ€™s
    okay whenever you want to reuse the same data in multiple applications. However,
    if your primary concern is retrieval efficiency or flexibility in defining the
    index for each application, a single vector index is often simpler and faster
    to deploy.
  id: totrans-104
  prefs: []
  type: TYPE_NORMAL
  zh: æœ‰äº›äººæ›´å–œæ¬¢ä½¿ç”¨å‘é‡æ•°æ®åº“è€Œä¸æ˜¯å‘é‡ç´¢å¼•ã€‚è¿™åœ¨ä½ æƒ³åœ¨å¤šä¸ªåº”ç”¨ä¸­é‡ç”¨ç›¸åŒæ•°æ®æ—¶æ²¡é—®é¢˜ã€‚ç„¶è€Œï¼Œå¦‚æœä½ ä¸»è¦å…³æ³¨çš„æ˜¯æ£€ç´¢æ•ˆç‡æˆ–åœ¨æ¯ä¸ªåº”ç”¨ä¸­å®šä¹‰ç´¢å¼•çš„çµæ´»æ€§ï¼Œé‚£ä¹ˆå•ä¸ªå‘é‡ç´¢å¼•é€šå¸¸æ›´ç®€å•ã€æ›´å¿«é€Ÿã€‚
- en: Conclusion
  id: totrans-105
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: ç»“è®º
- en: Congratulations to the courageous who have read until there! I believe you now
    have all the background knowledge to engage in those passionate discussions about
    LLMs and RAGs.
  id: totrans-106
  prefs: []
  type: TYPE_NORMAL
  zh: æ­å–œé‚£äº›å‹‡æ•¢åœ°è¯»åˆ°è¿™é‡Œçš„äººï¼æˆ‘ç›¸ä¿¡ä½ ç°åœ¨å·²ç»å…·å¤‡äº†å‚ä¸å…³äºLLMså’ŒRAGsçš„çƒ­æƒ…è®¨è®ºæ‰€éœ€çš„æ‰€æœ‰èƒŒæ™¯çŸ¥è¯†ã€‚
- en: Indexes hold a central role in data retrieval. As data retrieval is likely to
    remain a key component of data technologies, it is primordial to understand what
    indexes, including vector indexes, are about.
  id: totrans-107
  prefs: []
  type: TYPE_NORMAL
  zh: ç´¢å¼•åœ¨æ•°æ®æ£€ç´¢ä¸­æ‰®æ¼”ç€æ ¸å¿ƒè§’è‰²ã€‚ç”±äºæ•°æ®æ£€ç´¢å¯èƒ½ä»å°†æ˜¯æ•°æ®æŠ€æœ¯ä¸­çš„å…³é”®ç»„æˆéƒ¨åˆ†ï¼Œå› æ­¤ç†è§£åŒ…æ‹¬å‘é‡ç´¢å¼•åœ¨å†…çš„ç´¢å¼•æ˜¯è‡³å…³é‡è¦çš„ã€‚
- en: If you want to learn about more advanced indexes, Iâ€™d suggest you read [my article
    about LSH](https://pathway.com/developers/showcases/lsh/lsh_chapter2). If you
    want to learn something more practical and are curious to experience real-time
    Retrieval Augmented Generation (RAG) in action, consider exploring the [LLM-app](https://github.com/pathwaycom/llm-app),
    where you can experience firsthand the power of these technologies.
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
  zh: å¦‚æœä½ æƒ³äº†è§£æ›´å¤šé«˜çº§ç´¢å¼•ï¼Œæˆ‘å»ºè®®ä½ é˜…è¯»[æˆ‘å…³äºLSHçš„æ–‡ç« ](https://pathway.com/developers/showcases/lsh/lsh_chapter2)ã€‚å¦‚æœä½ æƒ³äº†è§£ä¸€äº›æ›´å®ç”¨çš„å†…å®¹ï¼Œå¹¶ä¸”å¯¹å®æ—¶æ£€ç´¢å¢å¼ºç”Ÿæˆï¼ˆRAGï¼‰çš„å®é™…åº”ç”¨æ„Ÿå…´è¶£ï¼Œå¯ä»¥è€ƒè™‘æ¢ç´¢[LLM-app](https://github.com/pathwaycom/llm-app)ï¼Œåœ¨è¿™é‡Œä½ å¯ä»¥äº²èº«ä½“éªŒè¿™äº›æŠ€æœ¯çš„åŠ›é‡ã€‚
