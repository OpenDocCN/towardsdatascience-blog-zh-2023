- en: Build Your Own ChatGPT-Like App with Streamlit
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: ä½¿ç”¨ Streamlit åˆ›å»ºä½ è‡ªå·±çš„ç±»ä¼¼ ChatGPT çš„åº”ç”¨
- en: åŸæ–‡ï¼š[https://towardsdatascience.com/build-your-own-chatgpt-like-app-with-streamlit-20d940417389?source=collection_archive---------1-----------------------#2023-04-03](https://towardsdatascience.com/build-your-own-chatgpt-like-app-with-streamlit-20d940417389?source=collection_archive---------1-----------------------#2023-04-03)
  id: totrans-1
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: åŸæ–‡ï¼š[https://towardsdatascience.com/build-your-own-chatgpt-like-app-with-streamlit-20d940417389?source=collection_archive---------1-----------------------#2023-04-03](https://towardsdatascience.com/build-your-own-chatgpt-like-app-with-streamlit-20d940417389?source=collection_archive---------1-----------------------#2023-04-03)
- en: Leverage OpenAIâ€™s APIs to bypass the official ChatGPT app
  id: totrans-2
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: åˆ©ç”¨ OpenAI çš„ API ç»•è¿‡å®˜æ–¹ ChatGPT åº”ç”¨
- en: '[](https://heiko-hotz.medium.com/?source=post_page-----20d940417389--------------------------------)[![Heiko
    Hotz](../Images/d08394d46d41d5cd9e76557a463be95e.png)](https://heiko-hotz.medium.com/?source=post_page-----20d940417389--------------------------------)[](https://towardsdatascience.com/?source=post_page-----20d940417389--------------------------------)[![Towards
    Data Science](../Images/a6ff2676ffcc0c7aad8aaf1d79379785.png)](https://towardsdatascience.com/?source=post_page-----20d940417389--------------------------------)
    [Heiko Hotz](https://heiko-hotz.medium.com/?source=post_page-----20d940417389--------------------------------)'
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: '[](https://heiko-hotz.medium.com/?source=post_page-----20d940417389--------------------------------)[![Heiko
    Hotz](../Images/d08394d46d41d5cd9e76557a463be95e.png)](https://heiko-hotz.medium.com/?source=post_page-----20d940417389--------------------------------)[](https://towardsdatascience.com/?source=post_page-----20d940417389--------------------------------)[![Towards
    Data Science](../Images/a6ff2676ffcc0c7aad8aaf1d79379785.png)](https://towardsdatascience.com/?source=post_page-----20d940417389--------------------------------)
    [Heiko Hotz](https://heiko-hotz.medium.com/?source=post_page-----20d940417389--------------------------------)'
- en: Â·
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: Â·
- en: '[Follow](https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F993c21f1b30f&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbuild-your-own-chatgpt-like-app-with-streamlit-20d940417389&user=Heiko+Hotz&userId=993c21f1b30f&source=post_page-993c21f1b30f----20d940417389---------------------post_header-----------)
    Published in [Towards Data Science](https://towardsdatascience.com/?source=post_page-----20d940417389--------------------------------)
    Â·6 min readÂ·Apr 3, 2023[](https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F20d940417389&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbuild-your-own-chatgpt-like-app-with-streamlit-20d940417389&user=Heiko+Hotz&userId=993c21f1b30f&source=-----20d940417389---------------------clap_footer-----------)'
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: '[å…³æ³¨](https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F993c21f1b30f&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbuild-your-own-chatgpt-like-app-with-streamlit-20d940417389&user=Heiko+Hotz&userId=993c21f1b30f&source=post_page-993c21f1b30f----20d940417389---------------------post_header-----------)
    å‘å¸ƒäº [Towards Data Science](https://towardsdatascience.com/?source=post_page-----20d940417389--------------------------------)
    Â·6 åˆ†é’Ÿé˜…è¯»Â·2023å¹´4æœˆ3æ—¥[](https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F20d940417389&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbuild-your-own-chatgpt-like-app-with-streamlit-20d940417389&user=Heiko+Hotz&userId=993c21f1b30f&source=-----20d940417389---------------------clap_footer-----------)'
- en: --
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: --
- en: '[](https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F20d940417389&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbuild-your-own-chatgpt-like-app-with-streamlit-20d940417389&source=-----20d940417389---------------------bookmark_footer-----------)![](../Images/adee84dceeb9417da8d9a13df56a585d.png)'
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: '[](https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F20d940417389&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fbuild-your-own-chatgpt-like-app-with-streamlit-20d940417389&source=-----20d940417389---------------------bookmark_footer-----------)![](../Images/adee84dceeb9417da8d9a13df56a585d.png)'
- en: Image by author â€” created with Stable Diffusion
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: ä½œè€…æä¾›çš„å›¾åƒ â€” ä½¿ç”¨ Stable Diffusion åˆ›å»º
- en: What is this about?
  id: totrans-9
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: è¿™æ˜¯ä»€ä¹ˆï¼Ÿ
- en: 'When GPT-4 was announced on 14 March 2023, I immediately signed up for ChatGPT
    Plus â€” a paid tier within the ChatGPT application that offered access to the new
    model right away. It cost $20 per month and was well worth it in the beginning.
    However, after a few days, my usage decreased â€” donâ€™t get me wrong: I still use
    it regularly, I just wasnâ€™t sure if I would use it to the extent that it justified
    the cost. Then, a few days ago, I gained access to GPT-4 via OpenAIâ€™s API, and
    while the new model is much more expensive than its predecessor GPT-3.5, I still
    think itâ€™s probably more economical for me to interact with the API rather than
    using the ChatGPT app.'
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: å½“GPT-4åœ¨2023å¹´3æœˆ14æ—¥å®£å¸ƒæ—¶ï¼Œæˆ‘ç«‹å³æ³¨å†Œäº†ChatGPT Plusâ€”â€”è¿™æ˜¯ChatGPTåº”ç”¨ç¨‹åºä¸­çš„ä¸€ä¸ªä»˜è´¹å±‚çº§ï¼Œå¯ä»¥ç«‹å³è®¿é—®æ–°æ¨¡å‹ã€‚å®ƒæ¯æœˆèŠ±è´¹20ç¾å…ƒï¼Œæœ€åˆéå¸¸å€¼å¾—ã€‚ç„¶è€Œï¼Œå‡ å¤©åï¼Œæˆ‘çš„ä½¿ç”¨é‡å‡å°‘äº†â€”â€”åˆ«è¯¯è§£æˆ‘ï¼šæˆ‘ä»ç„¶ç»å¸¸ä½¿ç”¨ï¼Œåªæ˜¯æˆ‘ä¸ç¡®å®šæ˜¯å¦ä¼šä½¿ç”¨åˆ°è¶³ä»¥è¯æ˜å…¶æˆæœ¬çš„ç¨‹åº¦ã€‚ç„¶åï¼Œå‡ å¤©å‰ï¼Œæˆ‘é€šè¿‡OpenAIçš„APIè·å¾—äº†GPT-4çš„è®¿é—®æƒé™ï¼Œå°½ç®¡æ–°æ¨¡å‹æ¯”å…¶å‰èº«GPT-3.5è´µå¾—å¤šï¼Œä½†æˆ‘ä»ç„¶è®¤ä¸ºé€šè¿‡APIäº’åŠ¨å¯èƒ½å¯¹æˆ‘æ¥è¯´æ›´ç»æµã€‚
- en: But I definitely wanted to keep the chat-like experience when interacting with
    the model. While there are already quite a few open-source apps out there that
    provide a slick user experience, I didnâ€™t want anything to do with React or similar
    front-end frameworks â€” they are great for building amazing web apps, but itâ€™s
    just not what I enjoy doing. Instead, I decided to build my own chat interface
    with Streamlit, which offers a much more basic UX and has far fewer features â€”
    but it was much more fun for me to develop my own UI from scratch (and in Python).
    ğŸ˜ƒ
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: ä½†æˆ‘ç¡®å®å¸Œæœ›åœ¨ä¸æ¨¡å‹äº’åŠ¨æ—¶ä¿æŒç±»ä¼¼èŠå¤©çš„ä½“éªŒã€‚è™½ç„¶å·²ç»æœ‰ç›¸å½“å¤šçš„å¼€æºåº”ç”¨æä¾›æµç•…çš„ç”¨æˆ·ä½“éªŒï¼Œä½†æˆ‘ä¸æƒ³ä½¿ç”¨Reactæˆ–ç±»ä¼¼çš„å‰ç«¯æ¡†æ¶â€”â€”å®ƒä»¬éå¸¸é€‚åˆæ„å»ºå‡ºè‰²çš„ç½‘é¡µåº”ç”¨ï¼Œä½†è¿™ä¸æ˜¯æˆ‘å–œæ¬¢åšçš„äº‹æƒ…ã€‚ç›¸åï¼Œæˆ‘å†³å®šç”¨Streamlitæ„å»ºè‡ªå·±çš„èŠå¤©ç•Œé¢ï¼Œå®ƒæä¾›äº†ä¸€ä¸ªæ›´åŸºæœ¬çš„ç”¨æˆ·ä½“éªŒï¼Œå¹¶ä¸”åŠŸèƒ½è¿œä¸å¦‚å…¶ä»–æ¡†æ¶ä¸°å¯Œâ€”â€”ä½†å¯¹æˆ‘æ¥è¯´ï¼Œä»é›¶å¼€å§‹å¼€å‘è‡ªå·±çš„UIï¼ˆè€Œä¸”æ˜¯ç”¨Pythonï¼‰è¦æœ‰è¶£å¾—å¤šã€‚ğŸ˜ƒ
- en: '![](../Images/0ca0ec49a9cbaafc8a14324f4cd19437.png)'
  id: totrans-12
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/0ca0ec49a9cbaafc8a14324f4cd19437.png)'
- en: Image by author
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: ä½œè€…å›¾ç‰‡
- en: In this tutorial I will walk you through the application â€” all the code is also
    available in this [GitHub repo](https://github.com/marshmellow77/streamlit-chatgpt-ui).
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨æœ¬æ•™ç¨‹ä¸­ï¼Œæˆ‘å°†å¸¦ä½ äº†è§£è¿™ä¸ªåº”ç”¨ç¨‹åºâ€”â€”æ‰€æœ‰ä»£ç ä¹Ÿå¯ä»¥åœ¨è¿™ä¸ª[GitHubä»“åº“](https://github.com/marshmellow77/streamlit-chatgpt-ui)ä¸­æ‰¾åˆ°ã€‚
- en: Why is it important?
  id: totrans-15
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: ä¸ºä»€ä¹ˆè¿™å¾ˆé‡è¦ï¼Ÿ
- en: Learning by doing
  id: totrans-16
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: é€šè¿‡å®è·µå­¦ä¹ 
- en: Apart from the cost aspect that I already mentioned, there are a few more advantages
    to building my own chat interface. First off, it forced me to study the Chat API
    more closely, as up until now, I had only worked with the text completion API.
    Using the Chat API is similar, but there are a few key differences to be aware
    of.
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: é™¤äº†æˆ‘å·²ç»æåˆ°çš„æˆæœ¬æ–¹é¢ï¼Œè¿˜æœ‰ä¸€äº›é¢å¤–çš„ä¼˜åŠ¿åœ¨äºæ„å»ºè‡ªå·±çš„èŠå¤©ç•Œé¢ã€‚é¦–å…ˆï¼Œå®ƒè¿«ä½¿æˆ‘æ›´æ·±å…¥åœ°ç ”ç©¶Chat APIï¼Œå› ä¸ºåˆ°ç›®å‰ä¸ºæ­¢ï¼Œæˆ‘åªä½¿ç”¨è¿‡æ–‡æœ¬ç”ŸæˆAPIã€‚ä½¿ç”¨Chat
    APIç±»ä¼¼ï¼Œä½†æœ‰ä¸€äº›å…³é”®åŒºåˆ«éœ€è¦æ³¨æ„ã€‚
- en: Independence
  id: totrans-18
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: ç‹¬ç«‹æ€§
- en: Second, it makes me completely independent from the ChatGPT app. Whether there
    is a [major outage](https://openai.com/blog/march-20-chatgpt-outage) in the app
    or the app is throttling how many inference requests I can send to the model (currently
    it is throttled at 25 messages every 3 hours), none of these apply when I run
    my own app.
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: å…¶æ¬¡ï¼Œè¿™ä½¿æˆ‘å®Œå…¨ç‹¬ç«‹äºChatGPTåº”ç”¨ç¨‹åºã€‚æ— è®ºåº”ç”¨ç¨‹åºæ˜¯å¦å‡ºç°äº†[é‡å¤§æ•…éšœ](https://openai.com/blog/march-20-chatgpt-outage)æˆ–è€…åº”ç”¨ç¨‹åºé™åˆ¶äº†æˆ‘å¯ä»¥å‘æ¨¡å‹å‘é€çš„æ¨ç†è¯·æ±‚æ•°é‡ï¼ˆç›®å‰æ¯3å°æ—¶é™åˆ¶25æ¡æ¶ˆæ¯ï¼‰ï¼Œè¿™äº›éƒ½ä¸é€‚ç”¨äºæˆ‘è¿è¡Œè‡ªå·±çš„åº”ç”¨ç¨‹åºæ—¶ã€‚
- en: Data privacy
  id: totrans-20
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: æ•°æ®éšç§
- en: Third, data privacy. By default, ChatGPT collects data and uses it for improving
    the service (although itâ€™s possible to opt out). However, when using the APIs,
    by default, the data is not collected unless we specifically opt in. See more
    information in OpenAIâ€™s [API usage document](https://openai.com/policies/api-data-usage-policies).
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: ç¬¬ä¸‰ï¼Œæ•°æ®éšç§ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼ŒChatGPTä¼šæ”¶é›†æ•°æ®å¹¶ç”¨äºæ”¹è¿›æœåŠ¡ï¼ˆå°½ç®¡å¯ä»¥é€‰æ‹©é€€å‡ºï¼‰ã€‚ç„¶è€Œï¼Œåœ¨ä½¿ç”¨APIæ—¶ï¼Œé»˜è®¤æƒ…å†µä¸‹ä¸ä¼šæ”¶é›†æ•°æ®ï¼Œé™¤éæˆ‘ä»¬ç‰¹åˆ«é€‰æ‹©åŠ å…¥ã€‚æ›´å¤šä¿¡æ¯è¯·å‚è§OpenAIçš„[APIä½¿ç”¨æ–‡æ¡£](https://openai.com/policies/api-data-usage-policies)ã€‚
- en: So much more fun!
  id: totrans-22
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: æœ‰è¶£å¤šäº†ï¼
- en: Finally, as previously mentioned, it is much more enjoyable to construct something
    like this (at least for geeks like me ğŸ¤“). I have already incorporated a few features
    into my app, such as displaying the number of tokens and the price per conversation.
    Perhaps at some point, I can expand the app to utilise other models (e.g., from
    Hugging Face) as well ğŸ¤—.
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: æœ€åï¼Œå¦‚å‰æ‰€è¿°ï¼Œæ„å»ºè¿™æ ·çš„ä¸œè¥¿è¦æœ‰è¶£å¾—å¤šï¼ˆè‡³å°‘å¯¹åƒæˆ‘è¿™æ ·çš„æå®¢æ¥è¯´ğŸ¤“ï¼‰ã€‚æˆ‘å·²ç»åœ¨åº”ç”¨ä¸­åŠ å…¥äº†ä¸€äº›åŠŸèƒ½ï¼Œä¾‹å¦‚æ˜¾ç¤ºä»¤ç‰Œæ•°é‡å’Œæ¯æ¬¡å¯¹è¯çš„ä»·æ ¼ã€‚ä¹Ÿè®¸åœ¨æŸä¸ªæ—¶å€™ï¼Œæˆ‘å¯ä»¥æ‰©å±•åº”ç”¨ä»¥åˆ©ç”¨å…¶ä»–æ¨¡å‹ï¼ˆä¾‹å¦‚æ¥è‡ªHugging
    Faceï¼‰ğŸ¤—ã€‚
- en: Letâ€™s get this show on the road! ğŸ’ª
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: è®©æˆ‘ä»¬å¼€å§‹è¡ŒåŠ¨å§ï¼ğŸ’ª
- en: Building the app
  id: totrans-25
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: æ„å»ºåº”ç”¨ç¨‹åº
- en: Prerequisites
  id: totrans-26
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: å…ˆå†³æ¡ä»¶
- en: 'To develop this app we need to make sure that we have the packages *openai*,
    *streamlit*, and *streamlit-chat* installed:'
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸ºäº†å¼€å‘è¿™ä¸ªåº”ç”¨ç¨‹åºï¼Œæˆ‘ä»¬éœ€è¦ç¡®ä¿å·²å®‰è£…*openai*ã€*streamlit*å’Œ*streamlit-chat*åŒ…ï¼š
- en: '[PRE0]'
  id: totrans-28
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: Keeping track of conversation history
  id: totrans-29
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: è·Ÿè¸ªå¯¹è¯å†å²
- en: The [guide for chat completion](https://platform.openai.com/docs/guides/chat/introduction)
    mentions that we need to pass the conversation history to the API, so the model
    understands the context; in other words, we must manage the memory of the chat
    model, as it is not handled for us within the API. To accomplish this, we create
    a session state list where we store a system message at the beginning of a session
    and then append interactions with the model.
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: '[èŠå¤©å®ŒæˆæŒ‡å—](https://platform.openai.com/docs/guides/chat/introduction)æåˆ°ï¼Œæˆ‘ä»¬éœ€è¦å°†å¯¹è¯å†å²ä¼ é€’ç»™APIï¼Œä»¥ä¾¿æ¨¡å‹ç†è§£èƒŒæ™¯ï¼›æ¢å¥è¯è¯´ï¼Œæˆ‘ä»¬å¿…é¡»ç®¡ç†èŠå¤©æ¨¡å‹çš„è®°å¿†ï¼Œå› ä¸ºAPIä¸ä¼šä¸ºæˆ‘ä»¬å¤„ç†è¿™ä¸€ç‚¹ã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªä¼šè¯çŠ¶æ€åˆ—è¡¨ï¼Œåœ¨ä¼šè¯å¼€å§‹æ—¶å­˜å‚¨ç³»ç»Ÿæ¶ˆæ¯ï¼Œç„¶åé™„åŠ ä¸æ¨¡å‹çš„äº’åŠ¨ã€‚'
- en: '[PRE1]'
  id: totrans-31
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: Displaying the conversation
  id: totrans-32
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: æ˜¾ç¤ºå¯¹è¯
- en: To display the conversation we leverage the *message* function from the *streamlit-chat*
    package. We iterate over the stored interactions and show the conversation chronologically,
    starting with the oldest one at the top (just like in ChatGPT).
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸ºäº†å±•ç¤ºå¯¹è¯ï¼Œæˆ‘ä»¬åˆ©ç”¨äº†*message*å‡½æ•°ï¼Œè¿™ä¸ªå‡½æ•°æ¥è‡ª*streamlit-chat*åŒ…ã€‚æˆ‘ä»¬éå†å­˜å‚¨çš„äº’åŠ¨ï¼Œå¹¶æŒ‰æ—¶é—´é¡ºåºå±•ç¤ºå¯¹è¯ï¼Œä»æœ€æ—©çš„å¯¹è¯å¼€å§‹ï¼ˆå°±åƒåœ¨ChatGPTä¸­ä¸€æ ·ï¼‰ã€‚
- en: '[PRE2]'
  id: totrans-34
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: Printing additional information
  id: totrans-35
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: æ‰“å°é™„åŠ ä¿¡æ¯
- en: An additional feature that I thought could be useful is to print some metadata
    for each interaction. To that end, we can, for example, print the model that was
    used (which can change from one interaction to the next), how many tokens were
    used for this particular interaction, and its cost (according to [OpenAIâ€™s pricing
    page](https://openai.com/pricing#language-models)).
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘è®¤ä¸ºä¸€ä¸ªé¢å¤–æœ‰ç”¨çš„åŠŸèƒ½æ˜¯æ‰“å°æ¯æ¬¡äº’åŠ¨çš„ä¸€äº›å…ƒæ•°æ®ã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬å¯ä»¥ï¼Œä¾‹å¦‚ï¼Œæ‰“å°ä½¿ç”¨çš„æ¨¡å‹ï¼ˆè¿™å¯èƒ½ä¼šåœ¨ä¸åŒäº’åŠ¨ä¹‹é—´å˜åŒ–ï¼‰ã€è¿™æ¬¡äº’åŠ¨ä½¿ç”¨äº†å¤šå°‘ä»¤ç‰ŒåŠå…¶æˆæœ¬ï¼ˆæ ¹æ®[OpenAIçš„å®šä»·é¡µé¢](https://openai.com/pricing#language-models)ï¼‰ã€‚
- en: '[PRE3]'
  id: totrans-37
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: '![](../Images/62b1004d9127fcbcf230c4a9b9de1e77.png)'
  id: totrans-38
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/62b1004d9127fcbcf230c4a9b9de1e77.png)'
- en: Image by author
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: å›¾ç‰‡ç”±ä½œè€…æä¾›
- en: Please note that the number of tokens (and consequently the price) will increase
    as the conversation gets longer. This is because we need to submit all previous
    questions and answers so that the model understands the context of the interaction.
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: è¯·æ³¨æ„ï¼Œéšç€å¯¹è¯çš„å»¶é•¿ï¼Œä»¤ç‰Œçš„æ•°é‡ï¼ˆä»è€Œä»·æ ¼ï¼‰ä¼šå¢åŠ ã€‚è¿™æ˜¯å› ä¸ºæˆ‘ä»¬éœ€è¦æäº¤æ‰€æœ‰å…ˆå‰çš„é—®é¢˜å’Œå›ç­”ï¼Œä»¥ä¾¿æ¨¡å‹ç†è§£äº’åŠ¨çš„èƒŒæ™¯ã€‚
- en: '**To save money, it is therefore advisable to clear the conversation when starting
    a new topic with the chatbot.**'
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: '**ä¸ºäº†èŠ‚çœå¼€æ”¯ï¼Œå› æ­¤å»ºè®®åœ¨å¼€å§‹æ–°çš„èŠå¤©è¯é¢˜æ—¶æ¸…é™¤å¯¹è¯è®°å½•ã€‚**'
- en: Sidebar
  id: totrans-42
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: ä¾§è¾¹æ 
- en: 'In the sidebar, we offer the option to switch models and clear the conversation
    history. Additionally, we can display the accumulated costs of the current conversation:'
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨ä¾§è¾¹æ ä¸­ï¼Œæˆ‘ä»¬æä¾›äº†åˆ‡æ¢æ¨¡å‹å’Œæ¸…é™¤å¯¹è¯å†å²çš„é€‰é¡¹ã€‚æ­¤å¤–ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥æ˜¾ç¤ºå½“å‰å¯¹è¯çš„ç´¯è®¡è´¹ç”¨ï¼š
- en: '![](../Images/0ce1e9f10bf9e0dfc0a7e72c293bf947.png)'
  id: totrans-44
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/0ce1e9f10bf9e0dfc0a7e72c293bf947.png)'
- en: Image by author
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: å›¾ç‰‡ç”±ä½œè€…æä¾›
- en: Conclusion
  id: totrans-46
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: ç»“è®º
- en: 'By following these steps, we have successfully developed an easy-to-use and
    customisable chat interface that allows us to interact with GPT-based models without
    relying on apps like ChatGPT. We can now run the application with the following
    command:'
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: é€šè¿‡è¿™äº›æ­¥éª¤ï¼Œæˆ‘ä»¬æˆåŠŸåœ°å¼€å‘äº†ä¸€ä¸ªæ˜“äºä½¿ç”¨ä¸”å¯å®šåˆ¶çš„èŠå¤©ç•Œé¢ï¼Œä½¿æˆ‘ä»¬èƒ½å¤Ÿä¸åŸºäºGPTçš„æ¨¡å‹äº’åŠ¨ï¼Œè€Œæ— éœ€ä¾èµ–åƒChatGPTè¿™æ ·çš„åº”ç”¨ç¨‹åºã€‚æˆ‘ä»¬ç°åœ¨å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤è¿è¡Œåº”ç”¨ç¨‹åºï¼š
- en: '[PRE4]'
  id: totrans-48
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: How this changed my workflow
  id: totrans-49
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: è¿™å¦‚ä½•æ”¹å˜äº†æˆ‘çš„å·¥ä½œæµç¨‹
- en: I have now actually canceled my subscription to ChatGPT Plus, and Iâ€™m exclusively
    using my app to interact with the GPT models. By default, I use the GPT-3.5 model,
    which makes it really affordable to use these models. Only for more sophisticated
    tasks or when Iâ€™m not completely satisfied with the results of GPT-3.5 will I
    switch to GPT-4\. Most likely, I will continue adding features to the app over
    time, as this is what I enjoy doing most â€” so stay tuned for future updates ğŸ˜Š
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ç°åœ¨å®é™…ä¸Šå·²ç»å–æ¶ˆäº†ChatGPT Plusçš„è®¢é˜…ï¼Œå¹¶ä¸”æˆ‘ä¸“é—¨ä½¿ç”¨æˆ‘çš„åº”ç”¨ç¨‹åºä¸GPTæ¨¡å‹è¿›è¡Œäº’åŠ¨ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œæˆ‘ä½¿ç”¨GPT-3.5æ¨¡å‹ï¼Œè¿™ä½¿å¾—ä½¿ç”¨è¿™äº›æ¨¡å‹éå¸¸å®æƒ ã€‚åªæœ‰åœ¨å¤„ç†æ›´å¤æ‚çš„ä»»åŠ¡æ—¶ï¼Œæˆ–è€…å½“æˆ‘å¯¹GPT-3.5çš„ç»“æœä¸å®Œå…¨æ»¡æ„æ—¶ï¼Œæˆ‘æ‰ä¼šåˆ‡æ¢åˆ°GPT-4ã€‚å¾ˆå¯èƒ½ï¼Œæˆ‘ä¼šç»§ç»­éšç€æ—¶é—´æ¨ç§»å‘åº”ç”¨ç¨‹åºä¸­æ·»åŠ æ–°åŠŸèƒ½ï¼Œå› ä¸ºè¿™æ˜¯æˆ‘æœ€å–œæ¬¢åšçš„äº‹æƒ…â€”â€”æ•¬è¯·æœŸå¾…æœªæ¥çš„æ›´æ–°ğŸ˜Š
- en: Further improvement ideas
  id: totrans-51
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: è¿›ä¸€æ­¥æ”¹è¿›çš„æƒ³æ³•
- en: 'I hope this was helpful â€” please go ahead and build your own chat UI using
    this tutorial as a starting point. Iâ€™m curious to learn what you are building,
    so please reach out in the comments. Here are some ideas on how this app could
    be improved, to get you started:'
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: å¸Œæœ›è¿™å¯¹ä½ æœ‰æ‰€å¸®åŠ©â€”â€”è¯·ä½¿ç”¨æœ¬æ•™ç¨‹ä½œä¸ºèµ·ç‚¹æ¥æ„å»ºä½ è‡ªå·±çš„èŠå¤© UIã€‚æˆ‘å¾ˆæƒ³äº†è§£ä½ æ­£åœ¨æ„å»ºçš„å†…å®¹ï¼Œæ‰€ä»¥è¯·åœ¨è¯„è®ºä¸­ä¸æˆ‘è”ç³»ã€‚è¿™é‡Œæœ‰ä¸€äº›å…³äºå¦‚ä½•æ”¹è¿›è¿™ä¸ªåº”ç”¨çš„æƒ³æ³•ï¼Œä¾›ä½ å‚è€ƒï¼š
- en: '[Implementing token streaming](https://platform.openai.com/docs/api-reference/chat/create#chat/create-stream)'
  id: totrans-53
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[å®ç°ä»¤ç‰Œæµ](https://platform.openai.com/docs/api-reference/chat/create#chat/create-stream)'
- en: Saving and displaying previous conversations
  id: totrans-54
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ä¿å­˜å’Œå±•ç¤ºä¹‹å‰çš„å¯¹è¯
- en: Showing usage and costs on a per day basis
  id: totrans-55
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æŒ‰å¤©æ˜¾ç¤ºä½¿ç”¨æƒ…å†µå’Œæˆæœ¬
- en: Implementing more [control parameters](https://platform.openai.com/docs/api-reference/chat/create)
    such as temperature, repetition penalty, etc
  id: totrans-56
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å®ç°æ›´å¤šçš„[æ§åˆ¶å‚æ•°](https://platform.openai.com/docs/api-reference/chat/create)ï¼Œä¾‹å¦‚æ¸©åº¦ã€é‡å¤æƒ©ç½šç­‰
- en: Happy coding!
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: ç¼–ç¨‹æ„‰å¿«ï¼
- en: Heiko Hotz
  id: totrans-58
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: æµ·ç§‘Â·éœèŒ¨
- en: ğŸ‘‹ Follow me on [Medium](https://heiko-hotz.medium.com/) and [LinkedIn](https://www.linkedin.com/in/heikohotz/)
    to read more about Generative AI, Machine Learning, and Natural Language Processing.
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: ğŸ‘‹ å…³æ³¨æˆ‘åœ¨[Medium](https://heiko-hotz.medium.com/)å’Œ[LinkedIn](https://www.linkedin.com/in/heikohotz/)ä¸Šçš„å†…å®¹ï¼Œäº†è§£æ›´å¤šå…³äºç”Ÿæˆå¼
    AIã€æœºå™¨å­¦ä¹ å’Œè‡ªç„¶è¯­è¨€å¤„ç†çš„ä¿¡æ¯ã€‚
- en: ğŸ‘¥ If youâ€™re based in London join one of our [NLP London Meetups](https://www.meetup.com/nlp_london/).
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: ğŸ‘¥ å¦‚æœä½ åœ¨ä¼¦æ•¦ï¼Œå¯ä»¥åŠ å…¥æˆ‘ä»¬çš„[NLP London Meetups](https://www.meetup.com/nlp_london/)ã€‚
- en: '![](../Images/10586d6826b8bfe25e40077e6c397425.png)'
  id: totrans-61
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/10586d6826b8bfe25e40077e6c397425.png)'
