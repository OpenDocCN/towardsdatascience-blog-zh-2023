- en: How to Optimize Your Marketing Budget
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: å¦‚ä½•ä¼˜åŒ–ä½ çš„è¥é”€é¢„ç®—
- en: åŸæ–‡ï¼š[https://towardsdatascience.com/how-to-optimize-your-marketing-budget-63707c18ba36](https://towardsdatascience.com/how-to-optimize-your-marketing-budget-63707c18ba36)
  id: totrans-1
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: åŸæ–‡ï¼š[https://towardsdatascience.com/how-to-optimize-your-marketing-budget-63707c18ba36](https://towardsdatascience.com/how-to-optimize-your-marketing-budget-63707c18ba36)
- en: '[MARKETING ANALYTICS](https://medium.com/tag/marketing-analytics)'
  id: totrans-2
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: '[è¥é”€åˆ†æ](https://medium.com/tag/marketing-analytics)'
- en: It is Time to Reap The Fruits of Your Hard Marketing Mix Model Training!
  id: totrans-3
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: æ˜¯æ—¶å€™æ”¶è·ä½ è¾›è‹¦çš„è¥é”€ç»„åˆæ¨¡å‹è®­ç»ƒæˆæœäº†ï¼
- en: '[](https://dr-robert-kuebler.medium.com/?source=post_page-----63707c18ba36--------------------------------)[![Dr.
    Robert KÃ¼bler](../Images/3b8d8b88f76c0c43d9c305e3885e7ab9.png)](https://dr-robert-kuebler.medium.com/?source=post_page-----63707c18ba36--------------------------------)[](https://towardsdatascience.com/?source=post_page-----63707c18ba36--------------------------------)[![Towards
    Data Science](../Images/a6ff2676ffcc0c7aad8aaf1d79379785.png)](https://towardsdatascience.com/?source=post_page-----63707c18ba36--------------------------------)
    [Dr. Robert KÃ¼bler](https://dr-robert-kuebler.medium.com/?source=post_page-----63707c18ba36--------------------------------)'
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: '[](https://dr-robert-kuebler.medium.com/?source=post_page-----63707c18ba36--------------------------------)[![Dr.
    Robert KÃ¼bler](../Images/3b8d8b88f76c0c43d9c305e3885e7ab9.png)](https://dr-robert-kuebler.medium.com/?source=post_page-----63707c18ba36--------------------------------)[](https://towardsdatascience.com/?source=post_page-----63707c18ba36--------------------------------)[![Towards
    Data Science](../Images/a6ff2676ffcc0c7aad8aaf1d79379785.png)](https://towardsdatascience.com/?source=post_page-----63707c18ba36--------------------------------)
    [Dr. Robert KÃ¼bler](https://dr-robert-kuebler.medium.com/?source=post_page-----63707c18ba36--------------------------------)'
- en: Â·Published in [Towards Data Science](https://towardsdatascience.com/?source=post_page-----63707c18ba36--------------------------------)
    Â·11 min readÂ·Jul 3, 2023
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: Â·å‘è¡¨äº [Towards Data Science](https://towardsdatascience.com/?source=post_page-----63707c18ba36--------------------------------)
    Â·é˜…è¯»æ—¶é—´ 11 åˆ†é’Ÿ Â·2023å¹´7æœˆ3æ—¥
- en: --
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: --
- en: '![](../Images/d591a198d3af1704d0affe022ea503b5.png)'
  id: totrans-7
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/d591a198d3af1704d0affe022ea503b5.png)'
- en: Image created with DALL-E.
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: å›¾ç‰‡ç”± DALL-E åˆ›å»ºã€‚
- en: Marketing mix models are a powerful tool for understanding the impact of different
    marketing channels on sales. By building a marketing mix model, marketers can
    quantify the contribution of each channel to their overall sales, and then use
    this information to optimize their budget allocation.
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: è¥é”€ç»„åˆæ¨¡å‹æ˜¯ç†è§£ä¸åŒè¥é”€æ¸ é“å¯¹é”€å”®å½±å“çš„å¼ºå¤§å·¥å…·ã€‚é€šè¿‡æ„å»ºè¥é”€ç»„åˆæ¨¡å‹ï¼Œè¥é”€äººå‘˜å¯ä»¥é‡åŒ–æ¯ä¸ªæ¸ é“å¯¹æ•´ä½“é”€å”®çš„è´¡çŒ®ï¼Œç„¶ååˆ©ç”¨è¿™äº›ä¿¡æ¯æ¥ä¼˜åŒ–é¢„ç®—åˆ†é…ã€‚
- en: So far, I have written an entire series about [**building** marketing mix models](https://kuebler.ai/list/marketing-mix-modeling-cc3268801754),
    yet I still owe you an article about how to use these models to optimize media
    spending. Today is your lucky day since in this article, I will show you just
    that!
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: åˆ°ç›®å‰ä¸ºæ­¢ï¼Œæˆ‘å·²ç»å†™äº†ä¸€æ•´ç³»åˆ—å…³äº [**æ„å»º** è¥é”€ç»„åˆæ¨¡å‹](https://kuebler.ai/list/marketing-mix-modeling-cc3268801754)
    çš„æ–‡ç« ï¼Œä½†æˆ‘ä»æ¬ ä½ ä¸€ç¯‡å…³äºå¦‚ä½•ä½¿ç”¨è¿™äº›æ¨¡å‹æ¥ä¼˜åŒ–åª’ä½“æ”¯å‡ºçš„æ–‡ç« ã€‚ä»Šå¤©æ˜¯ä½ çš„å¹¸è¿æ—¥ï¼Œå› ä¸ºåœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘å°†å±•ç¤ºå¦‚ä½•åšåˆ°è¿™ä¸€ç‚¹ï¼
- en: '![](../Images/301f2f390f4783a046362ae4ce16ac23.png)'
  id: totrans-11
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/301f2f390f4783a046362ae4ce16ac23.png)'
- en: Image by the author.
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: å›¾ç‰‡ç”±ä½œè€…æä¾›ã€‚
- en: 'If you are new to marketing mix modeling, you can start with my introductory
    article:'
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: å¦‚æœä½ å¯¹è¥é”€ç»„åˆå»ºæ¨¡ä¸ç†Ÿæ‚‰ï¼Œå¯ä»¥ä»æˆ‘çš„ä»‹ç»æ–‡ç« å¼€å§‹ï¼š
- en: '[](/introduction-to-marketing-mix-modeling-in-python-d0dd81f4e794?source=post_page-----63707c18ba36--------------------------------)
    [## Introduction to Marketing Mix Modeling in Python'
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: '[](/introduction-to-marketing-mix-modeling-in-python-d0dd81f4e794?source=post_page-----63707c18ba36--------------------------------)
    [## Python ä¸­çš„è¥é”€ç»„åˆå»ºæ¨¡ç®€ä»‹'
- en: Which advertising spendings are really driving your sales?
  id: totrans-15
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: å“ªäº›å¹¿å‘Šæ”¯å‡ºçœŸæ­£æ¨åŠ¨äº†ä½ çš„é”€å”®ï¼Ÿ
- en: towardsdatascience.com](/introduction-to-marketing-mix-modeling-in-python-d0dd81f4e794?source=post_page-----63707c18ba36--------------------------------)
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: towardsdatascience.com](/introduction-to-marketing-mix-modeling-in-python-d0dd81f4e794?source=post_page-----63707c18ba36--------------------------------)
- en: Prerequisites
  id: totrans-17
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: å‰ææ¡ä»¶
- en: Before we can optimize something, we have to build a model first. We will do
    it very quickly, so we can get to the main section of this article as soon as
    possible.
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨æˆ‘ä»¬å¯ä»¥ä¼˜åŒ–ä»»ä½•ä¸œè¥¿ä¹‹å‰ï¼Œæˆ‘ä»¬å¿…é¡»å…ˆæ„å»ºä¸€ä¸ªæ¨¡å‹ã€‚æˆ‘ä»¬å°†éå¸¸å¿«é€Ÿåœ°å®Œæˆè¿™ä¸ªè¿‡ç¨‹ï¼Œä»¥ä¾¿å°½å¿«è¿›å…¥æœ¬æ–‡çš„ä¸»è¦éƒ¨åˆ†ã€‚
- en: The Data
  id: totrans-19
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: æ•°æ®
- en: First, let us load some data. I will use the same dataset as in my old articles.
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: é¦–å…ˆï¼Œè®©æˆ‘ä»¬åŠ è½½ä¸€äº›æ•°æ®ã€‚æˆ‘å°†ä½¿ç”¨ä¸æˆ‘æ—§æ–‡ç« ä¸­ç›¸åŒçš„æ•°æ®é›†ã€‚
- en: '[PRE0]'
  id: totrans-21
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: 'The dataset looks like this:'
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: æ•°æ®é›†å¦‚ä¸‹æ‰€ç¤ºï¼š
- en: '![](../Images/24c7ab64e15add9ff0d1613d885153a7.png)'
  id: totrans-23
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/24c7ab64e15add9ff0d1613d885153a7.png)'
- en: Image by the author.
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: å›¾ç‰‡ç”±ä½œè€…æä¾›ã€‚
- en: 'The logic behind this table is the following: imagine you work in a company
    that sells some product. You can see the weekly sales of this product in the column
    **Sales**. In order to boost these sales, you spend some money on advertising,
    in our example **TV**, **Radio**, and **Banner** advertising. We now want to model
    the sales using advertising spending and more *control variables*, such as weekday,
    month, product price, weather, â€¦'
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™ä¸ªè¡¨æ ¼çš„é€»è¾‘å¦‚ä¸‹ï¼šå‡è®¾ä½ åœ¨ä¸€å®¶é”€å”®æŸç§äº§å“çš„å…¬å¸å·¥ä½œã€‚ä½ å¯ä»¥åœ¨â€œ**é”€å”®**â€åˆ—ä¸­çœ‹åˆ°è¯¥äº§å“çš„æ¯å‘¨é”€å”®æƒ…å†µã€‚ä¸ºäº†æå‡è¿™äº›é”€å”®ï¼Œä½ åœ¨å¹¿å‘Šä¸ŠèŠ±äº†ä¸€äº›é’±ï¼Œåœ¨æˆ‘ä»¬çš„ä¾‹å­ä¸­åŒ…æ‹¬
    **ç”µè§†**ã€**å¹¿æ’­** å’Œ **æ¨ªå¹…** å¹¿å‘Šã€‚æˆ‘ä»¬ç°åœ¨æƒ³é€šè¿‡å¹¿å‘Šæ”¯å‡ºå’Œæ›´å¤šçš„*æ§åˆ¶å˜é‡*æ¥å»ºæ¨¡é”€å”®æƒ…å†µï¼Œä¾‹å¦‚å·¥ä½œæ—¥ã€æœˆä»½ã€äº§å“ä»·æ ¼ã€å¤©æ°”ç­‰ã€‚
- en: '![](../Images/32f1a68a3513553c78f8f5ebf94160f8.png)'
  id: totrans-26
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/32f1a68a3513553c78f8f5ebf94160f8.png)'
- en: Image by the author.
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: ä½œè€…æä¾›çš„å›¾ç‰‡ã€‚
- en: The Model
  id: totrans-28
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: æ¨¡å‹
- en: 'Building complex models such as XGBoost or deep neural networks are hard to
    interpret and optimize. We turn to a proven method that uses interpretable carryover
    and saturation effects to build a generalized additive model instead, [as done
    here](/a-small-python-library-for-marketing-mix-modeling-mamimo-100f31666e18):'
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: å»ºç«‹å¤æ‚çš„æ¨¡å‹ï¼Œå¦‚ XGBoost æˆ–æ·±åº¦ç¥ç»ç½‘ç»œï¼Œéš¾ä»¥è§£é‡Šå’Œä¼˜åŒ–ã€‚æˆ‘ä»¬è½¬å‘ä¸€ç§ç»è¿‡éªŒè¯çš„æ–¹æ³•ï¼Œè¯¥æ–¹æ³•ä½¿ç”¨å¯è§£é‡Šçš„æ»åæ•ˆåº”å’Œé¥±å’Œåº¦æ•ˆåº”æ¥å»ºç«‹å¹¿ä¹‰åŠ æ€§æ¨¡å‹ï¼Œ[å¦‚è¿™é‡Œæ‰€åšçš„](/a-small-python-library-for-marketing-mix-modeling-mamimo-100f31666e18)ï¼š
- en: '![](../Images/c03a53a00fe537940285ec6153e3e608.png)'
  id: totrans-30
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/c03a53a00fe537940285ec6153e3e608.png)'
- en: Image by the author.
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: ä½œè€…æä¾›çš„å›¾ç‰‡ã€‚
- en: 'The carryover and saturation blocks are intuitive feature transformations:'
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: æ»åæ•ˆåº”å’Œé¥±å’Œåº¦æ¨¡å—æ˜¯ç›´è§‚çš„ç‰¹å¾è½¬æ¢ï¼š
- en: The **carryover** models that a media spending at time *t* might still influence
    the sales at times *t* + 1, *t* + 2, â€¦, or the other way around, that sales that
    were observed at time *t* are also influenced by the spending at time *t -* 1,
    *t* - 2, â€¦
  id: totrans-33
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**æ»åæ•ˆåº”**æ¨¡å‹è¡¨ç¤ºæŸä¸ªæ—¶é—´ *t* çš„åª’ä½“æ”¯å‡ºå¯èƒ½ä»ç„¶ä¼šå½±å“æ—¶é—´ *t* + 1ã€*t* + 2 ç­‰çš„é”€å”®ï¼Œæˆ–åä¹‹ï¼Œå³åœ¨æ—¶é—´ *t* è§‚å¯Ÿåˆ°çš„é”€å”®ä¹Ÿå—åˆ°æ—¶é—´
    *t* - 1ã€*t* - 2 ç­‰çš„æ”¯å‡ºçš„å½±å“ã€‚'
- en: The **saturation** models diminishing rates of return, e.g., increasing your
    spending in a channel from 0 â‚¬ to 100,000 â‚¬ has a big impact, but changing it
    from 1,000,000,000 to 1,000,100,000 does not anymore.
  id: totrans-34
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**é¥±å’Œåº¦** æ¨¡å‹æ˜¾ç¤ºæ”¶ç›Šé€’å‡çš„æ•ˆåº”ï¼Œä¾‹å¦‚ï¼Œå°†ä½ åœ¨ä¸€ä¸ªæ¸ é“çš„æ”¯å‡ºä» 0 æ¬§å…ƒå¢åŠ åˆ° 100,000 æ¬§å…ƒä¼šæœ‰å¾ˆå¤§çš„å½±å“ï¼Œä½†å°†æ”¯å‡ºä» 1,000,000,000
    å¢åŠ åˆ° 1,000,100,000 å°±ä¸ä¼šæœ‰å¤ªå¤§å½±å“äº†ã€‚'
- en: '***Note:*** *In the graphic, the control variables are omitted. This is fine
    because we do not need them for optimization anyway â€” we cannot change them anyway
    like the money we put into our media channels. The only control variable that
    we* ***can*** *change is the price, but we assume that it is constant here, and
    that we only really want to optimize our media expenditures.*'
  id: totrans-35
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '***æ³¨æ„ï¼š*** *åœ¨å›¾ç¤ºä¸­ï¼Œæ§åˆ¶å˜é‡è¢«çœç•¥äº†ã€‚è¿™æ˜¯å¯ä»¥çš„ï¼Œå› ä¸ºæˆ‘ä»¬ä¸éœ€è¦å®ƒä»¬æ¥è¿›è¡Œä¼˜åŒ–â€”â€”æˆ‘ä»¬æ— æ³•åƒæŠ•å…¥åˆ°åª’ä½“æ¸ é“ä¸­çš„èµ„é‡‘é‚£æ ·æ”¹å˜å®ƒä»¬ã€‚æˆ‘ä»¬* ***å¯ä»¥***
    *æ”¹å˜çš„å”¯ä¸€æ§åˆ¶å˜é‡æ˜¯ä»·æ ¼ï¼Œä½†åœ¨è¿™é‡Œæˆ‘ä»¬å‡è®¾ä»·æ ¼æ˜¯å¸¸é‡ï¼Œæˆ‘ä»¬åªå¸Œæœ›ä¼˜åŒ–æˆ‘ä»¬çš„åª’ä½“æ”¯å‡ºã€‚*'
- en: So, the model has the form
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: æ‰€ä»¥ï¼Œæ¨¡å‹çš„å½¢å¼æ˜¯
- en: '![](../Images/4b51a35e328a1e4efc3821a4157cc826.png)'
  id: totrans-37
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/4b51a35e328a1e4efc3821a4157cc826.png)'
- en: Image by the author.
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: ä½œè€…æä¾›çš„å›¾ç‰‡ã€‚
- en: for some yet-to-be-defined functions **sat**uration and **car**ryover. As an
    example, let us assume that
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: å¯¹äºä¸€äº›å°šæœªå®šä¹‰çš„å‡½æ•° **é¥±å’Œåº¦** å’Œ **æ»åæ•ˆåº”**ã€‚ä¸¾ä¸ªä¾‹å­ï¼Œå‡è®¾
- en: '![](../Images/6891575de9e0d6382feeaea5ccf10fe7.png)'
  id: totrans-40
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/6891575de9e0d6382feeaea5ccf10fe7.png)'
- en: Image by the author.
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: ä½œè€…æä¾›çš„å›¾ç‰‡ã€‚
- en: and
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: å’Œ
- en: '![](../Images/5cc9a7612fbeb9e3172a64cc7b906e97.png)'
  id: totrans-43
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/5cc9a7612fbeb9e3172a64cc7b906e97.png)'
- en: Image by the author.
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: ä½œè€…æä¾›çš„å›¾ç‰‡ã€‚
- en: '*Î²* is the saturation coefficient, *Î»* the carryover strength, and *â„“* the
    carryover length.'
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: '*Î²* æ˜¯é¥±å’Œåº¦ç³»æ•°ï¼Œ*Î»* æ˜¯æ»åæ•ˆåº”å¼ºåº¦ï¼Œ*â„“* æ˜¯æ»åæ•ˆåº”é•¿åº¦ã€‚'
- en: We can learn these parameters by treating them as hyperparameters, or by employing
    Bayesian methods and treating them as normal, learnable parameters. We have seen
    in detail how to get these parameters in all of my last articles about marketing
    mix modeling, so I will not go further into this topic.
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬å¯ä»¥é€šè¿‡å°†è¿™äº›å‚æ•°è§†ä¸ºè¶…å‚æ•°ï¼Œæˆ–è€…é€šè¿‡ä½¿ç”¨è´å¶æ–¯æ–¹æ³•å¹¶å°†å…¶è§†ä¸ºå¸¸è§„çš„å¯å­¦ä¹ å‚æ•°æ¥å­¦ä¹ è¿™äº›å‚æ•°ã€‚åœ¨æˆ‘ä¹‹å‰å…³äºè¥é”€ç»„åˆå»ºæ¨¡çš„æ‰€æœ‰æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬è¯¦ç»†ä»‹ç»äº†å¦‚ä½•è·å¾—è¿™äº›å‚æ•°ï¼Œå› æ­¤åœ¨æ­¤æˆ‘å°†ä¸å†æ·±å…¥æ¢è®¨ã€‚
- en: Instead, let us assume that we have the numbers now, and we want to use them
    to create an optimized media budget allocation plan.
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: ç›¸åï¼Œå‡è®¾æˆ‘ä»¬ç°åœ¨æœ‰äº†è¿™äº›æ•°å­—ï¼Œå¹¶å¸Œæœ›ç”¨å®ƒä»¬æ¥åˆ›å»ºä¸€ä¸ªä¼˜åŒ–çš„åª’ä½“é¢„ç®—åˆ†é…è®¡åˆ’ã€‚
- en: Optimizing The Media Budget
  id: totrans-48
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: åª’ä½“é¢„ç®—ä¼˜åŒ–
- en: 'Let us assume that our previous marketing mix modeling attempts left us with
    the following parameters:'
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: å‡è®¾æˆ‘ä»¬ä¹‹å‰çš„è¥é”€ç»„åˆå»ºæ¨¡å°è¯•ç»™æˆ‘ä»¬ç•™ä¸‹äº†ä»¥ä¸‹å‚æ•°ï¼š
- en: '[PRE1]'
  id: totrans-50
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: We will now rebuild the marketing mix model in Python using numpy.
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬ç°åœ¨å°†ä½¿ç”¨ numpy åœ¨ Python ä¸­é‡æ–°æ„å»ºè¥é”€ç»„åˆæ¨¡å‹ã€‚
- en: But why? We have build a model using scikit-learn or PyMC already! Canâ€™t we
    reuse these?
  id: totrans-52
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: ä¸ºä»€ä¹ˆï¼Ÿæˆ‘ä»¬å·²ç»ä½¿ç”¨äº† scikit-learn æˆ– PyMC æ„å»ºäº†æ¨¡å‹ï¼éš¾é“ä¸èƒ½é‡ç”¨è¿™äº›æ¨¡å‹å—ï¼Ÿ
- en: Good question! We *could* use our pre-trained model and hand it over to a general-purpose
    optimization algorithm that tries to find media spend inputs that maximize sales.
    However, this is called **black-box optimization**, and it has the problem that
    it likes to get stuck in local optima instead of finding a global optimum.
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: å¥½é—®é¢˜ï¼æˆ‘ä»¬*å¯ä»¥*ä½¿ç”¨æˆ‘ä»¬é¢„è®­ç»ƒçš„æ¨¡å‹ï¼Œå¹¶å°†å…¶äº¤ç»™ä¸€ä¸ªé€šç”¨ä¼˜åŒ–ç®—æ³•ï¼Œè¯•å›¾æ‰¾åˆ°æœ€å¤§åŒ–é”€å”®çš„åª’ä½“æ”¯å‡ºè¾“å…¥ã€‚ç„¶è€Œï¼Œè¿™è¢«ç§°ä¸º**é»‘ç®±ä¼˜åŒ–**ï¼Œå®ƒçš„é—®é¢˜åœ¨äºå®¹æ˜“é™·å…¥å±€éƒ¨æœ€ä¼˜è€Œä¸æ˜¯æ‰¾åˆ°å…¨å±€æœ€ä¼˜è§£ã€‚
- en: Another problem with black-box optimization is that the algorithms typically
    have various parameters that you have to play around with to find a good (but
    maybe not optimal) solution. Thatâ€™s why some people say that this kind of optimization
    is more an art than it is science.
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: é»‘ç®±ä¼˜åŒ–çš„å¦ä¸€ä¸ªé—®é¢˜æ˜¯ç®—æ³•é€šå¸¸æœ‰å„ç§å‚æ•°ï¼Œä½ éœ€è¦è°ƒæ•´è¿™äº›å‚æ•°æ¥æ‰¾åˆ°ä¸€ä¸ªå¥½çš„ï¼ˆä½†å¯èƒ½ä¸æ˜¯æœ€ä¼˜çš„ï¼‰è§£å†³æ–¹æ¡ˆã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆæœ‰äº›äººè¯´è¿™ç§ä¼˜åŒ–æ›´åƒæ˜¯ä¸€é—¨è‰ºæœ¯ï¼Œè€Œä¸æ˜¯ç§‘å­¦ã€‚
- en: Convexity to The Rescue
  id: totrans-55
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: å‡¸æ€§æ¥æ‹¯æ•‘
- en: If we can formulate our problem as a **convex optimization problem**, we can
    solve it using libraries such as [cvxpy](https://www.cvxpy.org/) that are **guaranteed**
    to find the best media budget allocation. I used this library [here](https://medium.com/towards-data-science/introduction-to-linear-programming-b6647d20d5f6)
    already to solve another optimization problem.
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: å¦‚æœæˆ‘ä»¬èƒ½å°†é—®é¢˜è¡¨è¿°ä¸º**å‡¸ä¼˜åŒ–é—®é¢˜**ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨è¯¸å¦‚[cvxpy](https://www.cvxpy.org/)ä¹‹ç±»çš„åº“æ¥è§£å†³ï¼Œå®ƒä»¬**ä¿è¯**èƒ½æ‰¾åˆ°æœ€ä½³çš„åª’ä½“é¢„ç®—åˆ†é…ã€‚æˆ‘å·²ç»åœ¨[è¿™é‡Œ](https://medium.com/towards-data-science/introduction-to-linear-programming-b6647d20d5f6)ä½¿ç”¨äº†è¿™ä¸ªåº“æ¥è§£å†³å¦ä¸€ä¸ªä¼˜åŒ–é—®é¢˜ã€‚
- en: In order to use a convex optimization method, our model has to be convex **or
    concave**, meaning that putting a minus sign in front of the model makes it convex.
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸ºäº†ä½¿ç”¨å‡¸ä¼˜åŒ–æ–¹æ³•ï¼Œæˆ‘ä»¬çš„æ¨¡å‹å¿…é¡»æ˜¯å‡¸çš„**æˆ–å‡¹çš„**ï¼Œè¿™æ„å‘³ç€åœ¨æ¨¡å‹å‰é¢åŠ ä¸Šè´Ÿå·ä½¿å…¶æˆä¸ºå‡¸çš„ã€‚
- en: '![](../Images/794f1d794c83d050fe1f203412d4311a.png)'
  id: totrans-58
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/794f1d794c83d050fe1f203412d4311a.png)'
- en: Image by the author.
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: å›¾ç‰‡ç”±ä½œè€…æä¾›ã€‚
- en: For example, if our model is *y* = *x*Â², it would be a concave function that
    is easy to minimize. *y* = 100 - *x*Â² would be a concave model that is easy to
    maximize.
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: ä¾‹å¦‚ï¼Œå¦‚æœæˆ‘ä»¬çš„æ¨¡å‹æ˜¯*y* = *x*Â²ï¼Œå®ƒå°†æ˜¯ä¸€ä¸ªå®¹æ˜“æœ€å°åŒ–çš„å‡¹å‡½æ•°ã€‚*y* = 100 - *x*Â²å°†æ˜¯ä¸€ä¸ªå®¹æ˜“æœ€å¤§åŒ–çš„å‡¹æ¨¡å‹ã€‚
- en: I will not go into detail any further; just know that **our model is in fact
    a concave function**! In a model carryover-saturation model that we created, it
    is sufficient that the second derivative of the saturation function is negative,
    then the model is concave.
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä¸ä¼šè¿›ä¸€æ­¥è¯¦ç»†è¯´æ˜ï¼›åªéœ€çŸ¥é“**æˆ‘ä»¬çš„æ¨¡å‹å®é™…ä¸Šæ˜¯ä¸€ä¸ªå‡¹å‡½æ•°**ï¼åœ¨æˆ‘ä»¬åˆ›å»ºçš„æ¨¡å‹è¿‡æ¸¡é¥±å’Œæ¨¡å‹ä¸­ï¼Œå¦‚æœé¥±å’Œå‡½æ•°çš„äºŒé˜¶å¯¼æ•°ä¸ºè´Ÿï¼Œé‚£ä¹ˆæ¨¡å‹å°±æ˜¯å‡¹çš„ã€‚
- en: '![](../Images/98bb1b16ee41681693e187f5bfc37034.png)'
  id: totrans-62
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/98bb1b16ee41681693e187f5bfc37034.png)'
- en: Image by the author.
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: å›¾ç‰‡ç”±ä½œè€…æä¾›ã€‚
- en: However, if we use other saturation functions such as Adbudg or other typical
    S-shaped functions, they might neither be concave nor convex, which makes it more
    difficult to optimize them.
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: ç„¶è€Œï¼Œå¦‚æœæˆ‘ä»¬ä½¿ç”¨å…¶ä»–é¥±å’Œå‡½æ•°ï¼Œå¦‚Adbudgæˆ–å…¶ä»–å…¸å‹çš„Så‹å‡½æ•°ï¼Œå®ƒä»¬å¯èƒ½æ—¢ä¸æ˜¯å‡¹çš„ä¹Ÿä¸æ˜¯å‡¸çš„ï¼Œè¿™ä½¿å¾—ä¼˜åŒ–å˜å¾—æ›´åŠ å›°éš¾ã€‚
- en: '![](../Images/93c58294240fb77ab36095b71959fcb5.png)'
  id: totrans-65
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/93c58294240fb77ab36095b71959fcb5.png)'
- en: Image by the author.
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: å›¾ç‰‡ç”±ä½œè€…æä¾›ã€‚
- en: Ok, enough of the theory. Just remember for now that our model is concave, which
    is great since then we can find a global optimum, i.e. a budget allocation that
    yields the maximum sales.
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: å¥½çš„ï¼Œç†è®ºè¯´å¤Ÿäº†ã€‚ç°åœ¨åªéœ€è®°ä½ï¼Œæˆ‘ä»¬çš„æ¨¡å‹æ˜¯**å‡¹çš„**ï¼Œè¿™å¾ˆå¥½ï¼Œå› ä¸ºè¿™æ ·æˆ‘ä»¬å¯ä»¥æ‰¾åˆ°å…¨å±€æœ€ä¼˜è§£ï¼Œå³èƒ½å¤Ÿå¸¦æ¥æœ€å¤§é”€å”®é¢çš„é¢„ç®—åˆ†é…ã€‚
- en: Reimplementing Our Model in Numpy
  id: totrans-68
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: åœ¨Numpyä¸­é‡æ–°å®ç°æˆ‘ä»¬çš„æ¨¡å‹
- en: First, let us define some matrices that take care of the carryover effect.
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: é¦–å…ˆï¼Œè®©æˆ‘ä»¬å®šä¹‰ä¸€äº›å¤„ç†è¿‡æ¸¡æ•ˆåº”çš„çŸ©é˜µã€‚
- en: '[PRE2]'
  id: totrans-70
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: I know that this is hard to grasp, so letâ€™s take a look at one of these matrices.
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘çŸ¥é“è¿™å¾ˆéš¾ç†è§£ï¼Œæ‰€ä»¥è®©æˆ‘ä»¬çœ‹çœ‹è¿™äº›çŸ©é˜µä¸­çš„ä¸€ä¸ªã€‚
- en: '![](../Images/3616eca2b6c43641ff02e1d43fbcef23.png)'
  id: totrans-72
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/3616eca2b6c43641ff02e1d43fbcef23.png)'
- en: Image by the author.
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: å›¾ç‰‡ç”±ä½œè€…æä¾›ã€‚
- en: This implements a carryover with a strength of 0.2 and a length of 1\. You can
    see this if you multiply this matrix with a spending vector.
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™å®ç°äº†ä¸€ä¸ªå¼ºåº¦ä¸º0.2ã€é•¿åº¦ä¸º1çš„è¿‡æ¸¡æ•ˆæœã€‚å¦‚æœå°†è¿™ä¸ªçŸ©é˜µä¸æ”¯å‡ºå‘é‡ç›¸ä¹˜ï¼Œä½ å¯ä»¥çœ‹åˆ°è¿™ä¸€ç‚¹ã€‚
- en: '![](../Images/4141fda8f28c4d3ccdd183e6c844974b.png)'
  id: totrans-75
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/4141fda8f28c4d3ccdd183e6c844974b.png)'
- en: Image by the author.
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: å›¾ç‰‡ç”±ä½œè€…æä¾›ã€‚
- en: With this out of the way, let us continue with the saturation. This is only
    a simple formula involving `exp` , so no problem.
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
  zh: å¤„ç†å®Œè¿™äº›ä¹‹åï¼Œè®©æˆ‘ä»¬ç»§ç»­è°ˆè°ˆé¥±å’Œåº¦ã€‚è¿™åªæ˜¯ä¸€ä¸ªæ¶‰åŠ`exp`çš„ç®€å•å…¬å¼ï¼Œæ‰€ä»¥æ²¡é—®é¢˜ã€‚
- en: 'We can write:'
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬å¯ä»¥å†™ï¼š
- en: '[PRE3]'
  id: totrans-79
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: 'This gives us the sum of the sales **that come from our marketing efforts**
    since we ignore the control variables here.The number is 3,584,648.73 â‚¬, and we
    want to increase it now by changing our media spendings! Spoiler: it turns out
    that we can **increase this number by about 1.5 million to 5,054,070.21 â‚¬.** Wow!
    Not bad for just juggling some numbers.'
  id: totrans-80
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™ç»™å‡ºäº†**æ¥è‡ªæˆ‘ä»¬çš„è¥é”€æ´»åŠ¨**çš„é”€å”®æ€»é¢ï¼Œå› ä¸ºæˆ‘ä»¬åœ¨è¿™é‡Œå¿½ç•¥äº†æ§åˆ¶å˜é‡ã€‚è¿™ä¸ªæ•°å­—æ˜¯3,584,648.73 â‚¬ï¼Œæˆ‘ä»¬ç°åœ¨æƒ³é€šè¿‡æ”¹å˜æˆ‘ä»¬çš„åª’ä½“æ”¯å‡ºå°†å…¶å¢åŠ ï¼å‰§é€ï¼šäº‹å®è¯æ˜ï¼Œæˆ‘ä»¬å¯ä»¥**å°†è¿™ä¸ªæ•°å­—å¢åŠ çº¦150ä¸‡ï¼Œè¾¾åˆ°5,054,070.21
    â‚¬**ã€‚å“‡ï¼ä»…ä»…è°ƒæ•´ä¸€äº›æ•°å­—å°±èƒ½å¾—åˆ°è¿™æ ·çš„ç»“æœï¼ŒçœŸä¸é”™ã€‚
- en: '![](../Images/08b72a924611ccf4b624d43cf8b50b31.png)'
  id: totrans-81
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/08b72a924611ccf4b624d43cf8b50b31.png)'
- en: Image by the author.
  id: totrans-82
  prefs: []
  type: TYPE_NORMAL
  zh: å›¾ç‰‡ç”±ä½œè€…æä¾›ã€‚
- en: About the result
  id: totrans-83
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: å…³äºç»“æœ
- en: You can also see an interesting pattern here.
  id: totrans-84
  prefs: []
  type: TYPE_NORMAL
  zh: ä½ è¿˜å¯ä»¥çœ‹åˆ°ä¸€ä¸ªæœ‰è¶£çš„æ¨¡å¼ã€‚
- en: It seems that spending your budget equally is your best bet.
  id: totrans-85
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: çœ‹èµ·æ¥ï¼Œå‡ç­‰åˆ†é…é¢„ç®—æ˜¯æœ€ä½³é€‰æ‹©ã€‚
- en: 'Only the first periodâ€™s spend is a bit higher, but then it kind of balances
    out. That is because of how our model works: In the first period, there is no
    adstock yet, so we have to invest a bit more to get our sales rolling. Starting
    from the second period, we only have to put so much into the model to keep the
    adstock high, but not too high because of the saturation. In the last period,
    the adstock does not matter anymore since time ends there, as far as the model
    is concerned. Thatâ€™s why the optimized budget there is lower.'
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
  zh: åªæœ‰ç¬¬ä¸€æœŸçš„æ”¯å‡ºç¨é«˜ï¼Œä½†éšåä¼šæœ‰æ‰€å¹³è¡¡ã€‚è¿™æ˜¯å› ä¸ºæˆ‘ä»¬çš„æ¨¡å‹çš„å·¥ä½œåŸç†ï¼šåœ¨ç¬¬ä¸€æœŸï¼Œæ²¡æœ‰å¹¿å‘Šå­˜é‡ï¼Œå› æ­¤æˆ‘ä»¬å¿…é¡»å¤šæŠ•èµ„ä¸€äº›æ¥æ¨åŠ¨é”€å”®ã€‚è‡ªç¬¬äºŒæœŸå¼€å§‹ï¼Œæˆ‘ä»¬åªéœ€åœ¨æ¨¡å‹ä¸­æŠ•å…¥è¶³å¤Ÿçš„é‡‘é¢æ¥ä¿æŒå¹¿å‘Šå­˜é‡é«˜ï¼Œä½†åˆä¸èƒ½è¿‡é«˜ä»¥å…é¥±å’Œã€‚åœ¨æœ€åä¸€æœŸï¼Œå¹¿å‘Šå­˜é‡ä¸å†é‡è¦ï¼Œå› ä¸ºæ—¶é—´åˆ°é‚£é‡Œç»“æŸï¼Œå°±æ¨¡å‹è€Œè¨€ã€‚å› æ­¤ï¼Œä¼˜åŒ–é¢„ç®—åœ¨é‚£é‡Œè¾ƒä½ã€‚
- en: Reimplementing Our Model in CVXPY
  id: totrans-87
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: åœ¨CVXPYä¸­é‡æ–°å®ç°æˆ‘ä»¬çš„æ¨¡å‹
- en: Alright, now we are ready to get to that optimal solution using cvxpy. First,
    we define the variables, in our case one for each channel and each timestep so
    3**N* = 3*200 = 600 variables in total.
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: å¥½äº†ï¼Œç°åœ¨æˆ‘ä»¬å‡†å¤‡ä½¿ç”¨cvxpyå¾—åˆ°é‚£ä¸ªæœ€ä½³è§£ã€‚é¦–å…ˆï¼Œæˆ‘ä»¬å®šä¹‰å˜é‡ï¼Œåœ¨æˆ‘ä»¬çš„æ¡ˆä¾‹ä¸­ï¼Œæ¯ä¸ªæ¸ é“å’Œæ¯ä¸ªæ—¶é—´æ­¥é•¿ä¸€ä¸ªï¼Œå› æ­¤æ€»å…±æœ‰3**N* = 3*200 =
    600ä¸ªå˜é‡ã€‚
- en: Without anything else, the optimum would be setting all variables to infinity,
    so we need some constraints. The variables should all be
  id: totrans-89
  prefs: []
  type: TYPE_NORMAL
  zh: å¦‚æœæ²¡æœ‰å…¶ä»–å› ç´ ï¼Œæœ€ä¼˜è§£å°†æ˜¯å°†æ‰€æœ‰å˜é‡è®¾ä¸ºæ— ç©·å¤§ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦ä¸€äº›çº¦æŸã€‚å˜é‡åº”è¯¥éƒ½æ˜¯
- en: non-negative, and
  id: totrans-90
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: éè´Ÿçš„ï¼Œä»¥åŠ
- en: we want the sum of all of these 600 variables to be smaller or equal to what
    we have spent historically.
  id: totrans-91
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬å¸Œæœ›è¿™600ä¸ªå˜é‡çš„æ€»å’Œå°äºæˆ–ç­‰äºæˆ‘ä»¬å†å²ä¸Šæ”¯å‡ºçš„é‡‘é¢ã€‚
- en: Then, we want to optimize the model the model that we have implemented using
    numpy functions, but using their cvxpy equivalent instead, which typically means
    writing `cp` instead of `np` . We can even reuse the carryover matrix from before!
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: ç„¶åï¼Œæˆ‘ä»¬å¸Œæœ›ä¼˜åŒ–ä½¿ç”¨numpyå‡½æ•°å®ç°çš„æ¨¡å‹ï¼Œä½†ä½¿ç”¨å…¶cvxpyç­‰æ•ˆå‡½æ•°ï¼Œè¿™é€šå¸¸æ„å‘³ç€ç¼–å†™`cp`è€Œä¸æ˜¯`np`ã€‚æˆ‘ä»¬ç”šè‡³å¯ä»¥é‡ç”¨ä¹‹å‰çš„carryoverçŸ©é˜µï¼
- en: '[PRE4]'
  id: totrans-93
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: We can now solve this maximization problem in **very short time** via
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬ç°åœ¨å¯ä»¥åœ¨**éå¸¸çŸ­çš„æ—¶é—´**å†…è§£å†³è¿™ä¸ªæœ€å¤§åŒ–é—®é¢˜
- en: '[PRE5]'
  id: totrans-95
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: Nice! We can get the optimal budget via `tv.value, radio.value, banners.value`Â .
    You can see that the spends are kind of constant for each week in each channel,
    which is maybeÂ not as interesting as expected. But optimal is optimal, so we will
    take it.
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
  zh: å¤ªå¥½äº†ï¼æˆ‘ä»¬å¯ä»¥é€šè¿‡`tv.value, radio.value, banners.value`è·å¾—æœ€ä½³é¢„ç®—ã€‚ä½ å¯ä»¥çœ‹åˆ°æ¯ä¸ªæ¸ é“çš„æ”¯å‡ºåœ¨æ¯å‘¨éƒ½ä¿æŒç›¸å¯¹ç¨³å®šï¼Œè¿™å¯èƒ½æ²¡æœ‰é¢„æœŸçš„é‚£ä¹ˆæœ‰è¶£ã€‚ä½†æœ€ä½³å°±æ˜¯æœ€ä½³ï¼Œæ‰€ä»¥æˆ‘ä»¬æ¥å—å®ƒã€‚
- en: We could have gotten 5 million instead of 3.6 million in the past. While this
    is nice to know, it is worthless now and might just upset the business. However,
    we can use this logic now to optimize future marketing spends as well, of course!
  id: totrans-97
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬æœ¬æ¥å¯ä»¥åœ¨è¿‡å»è·å¾—500ä¸‡ï¼Œè€Œä¸æ˜¯360ä¸‡ã€‚è™½ç„¶çŸ¥é“è¿™ä¸€ç‚¹å¾ˆä¸é”™ï¼Œä½†ç°åœ¨å·²ç»æ²¡æœ‰ä»·å€¼ï¼Œå¯èƒ½è¿˜ä¼šè®©ä¸šåŠ¡æ„Ÿåˆ°ä¸å¿«ã€‚ä¸è¿‡ï¼Œæˆ‘ä»¬å½“ç„¶å¯ä»¥åˆ©ç”¨è¿™ä¸ªé€»è¾‘æ¥ä¼˜åŒ–æœªæ¥çš„è¥é”€æ”¯å‡ºï¼
- en: Further Constraints
  id: totrans-98
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: è¿›ä¸€æ­¥çš„çº¦æŸ
- en: 'Thatâ€™s it, now you have a basic budget optimization tool! And the good part
    is that you can model even more constraints that might come from the business.
    As an example, the business might say that the total radio spends are quite high:'
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: å°±è¿™æ ·ï¼Œä½ ç°åœ¨æ‹¥æœ‰ä¸€ä¸ªåŸºæœ¬çš„é¢„ç®—ä¼˜åŒ–å·¥å…·ï¼å¥½çš„ä¸€éƒ¨åˆ†æ˜¯ï¼Œä½ å¯ä»¥å»ºæ¨¡æ›´å¤šå¯èƒ½æ¥è‡ªä¸šåŠ¡çš„çº¦æŸã€‚ä¾‹å¦‚ï¼Œä¸šåŠ¡å¯èƒ½ä¼šè¯´å¹¿æ’­æ€»æ”¯å‡ºç›¸å½“é«˜ï¼š
- en: '[PRE6]'
  id: totrans-100
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: The business wants it to be less than 300,000 â‚¬, for strategic reasons that
    the model cannot know. Alright, no problem, letâ€™s add it to the constraint set!
  id: totrans-101
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸šåŠ¡å¸Œæœ›å…¶ä½äº300,000 â‚¬ï¼Œå‡ºäºæ¨¡å‹æ— æ³•çŸ¥æ™“çš„æˆ˜ç•¥åŸå› ã€‚å¥½çš„ï¼Œæ²¡é—®é¢˜ï¼Œè®©æˆ‘ä»¬å°†å…¶åŠ å…¥çº¦æŸé›†ï¼
- en: '[PRE7]'
  id: totrans-102
  prefs: []
  type: TYPE_PRE
  zh: '[PRE7]'
- en: Easy as that. We can let the optimization run again and we end up with slightly
    reduced optimized sales of 4,990,178.80 â‚¬. But if we check the sum of the radio
    spends now
  id: totrans-103
  prefs: []
  type: TYPE_NORMAL
  zh: å°±è¿™ä¹ˆç®€å•ã€‚æˆ‘ä»¬å¯ä»¥è®©ä¼˜åŒ–å†æ¬¡è¿è¡Œï¼Œæœ€ç»ˆå¾—åˆ°ç•¥å¾®å‡å°‘çš„ä¼˜åŒ–é”€å”®é¢ä¸º4,990,178.80 â‚¬ã€‚ä½†å¦‚æœæˆ‘ä»¬ç°åœ¨æ£€æŸ¥å¹¿æ’­æ”¯å‡ºçš„æ€»å’Œ
- en: '[PRE8]'
  id: totrans-104
  prefs: []
  type: TYPE_PRE
  zh: '[PRE8]'
- en: we can see that the business constraint was respected. And we can add even more
    constraints, such as
  id: totrans-105
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬å¯ä»¥çœ‹åˆ°å•†ä¸šçº¦æŸå¾—åˆ°äº†å°Šé‡ã€‚æˆ‘ä»¬è¿˜å¯ä»¥æ·»åŠ æ›´å¤šçš„çº¦æŸï¼Œæ¯”å¦‚
- en: the sum of two channels should be smaller or greater than some number, or
  id: totrans-106
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ä¸¤ä¸ªé¢‘é“çš„æ€»å’Œåº”è¯¥å°äºæˆ–å¤§äºæŸä¸ªæ•°å­—ï¼Œæˆ–è€…
- en: in some weeks we donâ€™t allow any media spending.
  id: totrans-107
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: åœ¨æŸäº›å‘¨ï¼Œæˆ‘ä»¬ä¸å…è®¸ä»»ä½•åª’ä½“æ”¯å‡ºã€‚
- en: You only have to model it using some sums and equalities or inequalities.
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
  zh: ä½ åªéœ€ä½¿ç”¨ä¸€äº›æ€»å’Œå’Œç­‰å¼æˆ–ä¸ç­‰å¼æ¥å»ºæ¨¡å³å¯ã€‚
- en: Conclusion
  id: totrans-109
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: ç»“è®º
- en: In this article, we first recapped the formulas for marketing mix models. This
    was important because we needed to reimplement the models. Luckily, since our
    models are easy and interpretable, this was no problem at all.
  id: totrans-110
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬é¦–å…ˆå›é¡¾äº†å¸‚åœºè¥é”€æ··åˆæ¨¡å‹çš„å…¬å¼ã€‚è¿™ä¸€ç‚¹å¾ˆé‡è¦ï¼Œå› ä¸ºæˆ‘ä»¬éœ€è¦é‡æ–°å®ç°è¿™äº›æ¨¡å‹ã€‚å¹¸è¿çš„æ˜¯ï¼Œç”±äºæˆ‘ä»¬çš„æ¨¡å‹ç®€å•ä¸”æ˜“äºè§£é‡Šï¼Œè¿™å®Œå…¨ä¸æ˜¯é—®é¢˜ã€‚
- en: 'Our model had in fact another great property: itâ€™s concave! In this case, the
    maximum value of sales is uniquely defined, and we could get to it via convex
    optimization. Optimizing non-convex or non-concave functions is difficult in general,
    and more of an art that involves tuning many hyperparameters, thatâ€™s why we didnâ€™t
    go this route.'
  id: totrans-111
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬çš„æ¨¡å‹å®é™…ä¸Šè¿˜æœ‰å¦ä¸€ä¸ªå¾ˆæ£’çš„å±æ€§ï¼šå®ƒæ˜¯å‡¹çš„ï¼åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œé”€å”®çš„æœ€å¤§å€¼æ˜¯å”¯ä¸€ç¡®å®šçš„ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡å‡¸ä¼˜åŒ–æ¥è·å¾—å®ƒã€‚ä¼˜åŒ–éå‡¸æˆ–éå‡¹å‡½æ•°ä¸€èˆ¬æ˜¯å›°éš¾çš„ï¼Œæ›´åƒæ˜¯ä¸€ç§è‰ºæœ¯ï¼Œæ¶‰åŠåˆ°è°ƒæ•´è®¸å¤šè¶…å‚æ•°ï¼Œè¿™å°±æ˜¯ä¸ºä»€ä¹ˆæˆ‘ä»¬æ²¡æœ‰é€‰æ‹©è¿™ç§æ–¹æ³•ã€‚
- en: As a grand finale, we optimized our media budget! It was about time. We have
    even seen how to incorporate more constraints into the model, such as that some
    channels need some minimum or maximum budget allocations. Using this approach,
    you can now optimize your future media budget allocation.
  id: totrans-112
  prefs: []
  type: TYPE_NORMAL
  zh: ä½œä¸ºå¤§ç»“å±€ï¼Œæˆ‘ä»¬ä¼˜åŒ–äº†æˆ‘ä»¬çš„åª’ä½“é¢„ç®—ï¼æ˜¯æ—¶å€™äº†ã€‚æˆ‘ä»¬ç”šè‡³çœ‹åˆ°å¦‚ä½•åœ¨æ¨¡å‹ä¸­åŠ å…¥æ›´å¤šçš„çº¦æŸï¼Œä¾‹å¦‚æŸäº›é¢‘é“éœ€è¦ä¸€äº›æœ€ä½æˆ–æœ€é«˜é¢„ç®—åˆ†é…ã€‚ä½¿ç”¨è¿™ç§æ–¹æ³•ï¼Œä½ ç°åœ¨å¯ä»¥ä¼˜åŒ–æœªæ¥çš„åª’ä½“é¢„ç®—åˆ†é…ã€‚
- en: Another optimization that we did not talk about is **minimizing your media budget**
    under the constraint that you want to make a certain minimal amount of sales,
    i.e. spending as little money as you can to still reach your goal. This is something
    you can also implement yourself easily! In contrast, before we have taken all
    of the money we have and made as many sales as possible.
  id: totrans-113
  prefs: []
  type: TYPE_NORMAL
  zh: å¦ä¸€ä¸ªæˆ‘ä»¬æ²¡æœ‰è®¨è®ºçš„ä¼˜åŒ–æ˜¯**åœ¨ä½ æƒ³è¾¾åˆ°æŸä¸ªæœ€ä½é”€å”®é¢çš„çº¦æŸä¸‹æœ€å°åŒ–ä½ çš„åª’ä½“é¢„ç®—**ï¼Œå³å°½å¯èƒ½å°‘èŠ±é’±ä»ç„¶è¾¾åˆ°ç›®æ ‡ã€‚è¿™æ˜¯ä½ ä¹Ÿå¯ä»¥è½»æ¾å®ç°çš„ï¼ç›¸åï¼Œåœ¨ä¹‹å‰æˆ‘ä»¬æŠŠæ‰€æœ‰çš„é’±éƒ½ç”¨äº†ï¼Œåšäº†å°½å¯èƒ½å¤šçš„é”€å”®ã€‚
- en: I hope that you learned something new, interesting, and valuable today. Thanks
    for reading!
  id: totrans-114
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘å¸Œæœ›ä½ ä»Šå¤©å­¦åˆ°äº†æ–°çš„ã€æœ‰è¶£çš„å’Œæœ‰ä»·å€¼çš„ä¸œè¥¿ã€‚æ„Ÿè°¢é˜…è¯»ï¼
- en: '**As the last point, if you**'
  id: totrans-115
  prefs: []
  type: TYPE_NORMAL
  zh: '**æœ€åä¸€ç‚¹ï¼Œå¦‚æœä½ **'
- en: '**want to support me in writing more about machine learning and**'
  id: totrans-116
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**æƒ³æ”¯æŒæˆ‘å†™æ›´å¤šå…³äºæœºå™¨å­¦ä¹ çš„å†…å®¹**'
- en: '**plan to get a Medium subscription anyway,**'
  id: totrans-117
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**åæ­£è®¡åˆ’è®¢é˜…ä¸€ä¸ªMediumè´¦å·ï¼Œ**'
- en: '**why not do it** [**via this link**](https://dr-robert-kuebler.medium.com/membership)**?
    This would help me a lot! ğŸ˜Š**'
  id: totrans-118
  prefs: []
  type: TYPE_NORMAL
  zh: '**ä¸ºä»€ä¹ˆä¸é€šè¿‡è¿™ä¸ª[é“¾æ¥](https://dr-robert-kuebler.medium.com/membership)æ¥åšå‘¢**ï¼Ÿè¿™å°†å¯¹æˆ‘å¸®åŠ©å¾ˆå¤§ï¼ğŸ˜Š'
- en: '*To be transparent, the price for you does not change, but about half of the
    subscription fees go directly to me.*'
  id: totrans-119
  prefs: []
  type: TYPE_NORMAL
  zh: '*ä¸ºäº†é€æ˜èµ·è§ï¼Œå¯¹ä½ æ¥è¯´ä»·æ ¼ä¸ä¼šæ”¹å˜ï¼Œä½†å¤§çº¦ä¸€åŠçš„è®¢é˜…è´¹ç”¨ç›´æ¥å½’æˆ‘æ‰€æœ‰ã€‚*'
- en: '**Thanks a lot if you consider supporting me!**'
  id: totrans-120
  prefs: []
  type: TYPE_NORMAL
  zh: '**å¦‚æœä½ è€ƒè™‘æ”¯æŒæˆ‘ï¼Œéå¸¸æ„Ÿè°¢ï¼**'
- en: '*If you have any questions, write me on* [*LinkedIn*](https://www.linkedin.com/in/dr-robert-k%C3%BCbler-983859150/)*!*'
  id: totrans-121
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '*å¦‚æœä½ æœ‰ä»»ä½•é—®é¢˜ï¼Œå¯ä»¥åœ¨* [*LinkedIn*](https://www.linkedin.com/in/dr-robert-k%C3%BCbler-983859150/)*ä¸Šç»™æˆ‘å†™ä¿¡ï¼*'
- en: And if you want to dive deeper into the world of algorithms, give my new publication
    **All About Algorithms** a try! Iâ€™m still searching for writers!
  id: totrans-122
  prefs: []
  type: TYPE_NORMAL
  zh: å¦‚æœä½ æƒ³æ·±å…¥äº†è§£ç®—æ³•çš„ä¸–ç•Œï¼Œå¯ä»¥å°è¯•ä¸€ä¸‹æˆ‘çš„æ–°å‡ºç‰ˆç‰©**ã€Šå…¨å…³äºç®—æ³•ã€‹**ï¼æˆ‘è¿˜åœ¨å¯»æ‰¾ä½œè€…ï¼
- en: '[](https://medium.com/all-about-algorithms?source=post_page-----63707c18ba36--------------------------------)
    [## All About Algorithms'
  id: totrans-123
  prefs: []
  type: TYPE_NORMAL
  zh: '[](https://medium.com/all-about-algorithms?source=post_page-----63707c18ba36--------------------------------)
    [## å…¨å…³äºç®—æ³•'
- en: From intuitive explanations to in-depth analysis, algorithms come to life with
    examples, code, and awesomeâ€¦
  id: totrans-124
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: ä»ç›´è§‚è§£é‡Šåˆ°æ·±å…¥åˆ†æï¼Œç®—æ³•é€šè¿‡ç¤ºä¾‹ã€ä»£ç å’Œç²¾å½©å†…å®¹ç”ŸåŠ¨èµ·æ¥â€¦
- en: medium.com](https://medium.com/all-about-algorithms?source=post_page-----63707c18ba36--------------------------------)
  id: totrans-125
  prefs: []
  type: TYPE_NORMAL
  zh: '[medium.com](https://medium.com/all-about-algorithms?source=post_page-----63707c18ba36--------------------------------)'
