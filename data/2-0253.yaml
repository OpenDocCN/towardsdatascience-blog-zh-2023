- en: What Are ACID Transactions?
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: ä»€ä¹ˆæ˜¯ ACID äº‹åŠ¡ï¼Ÿ
- en: åŸæ–‡ï¼š[https://towardsdatascience.com/acid-transactions-866265b54031](https://towardsdatascience.com/acid-transactions-866265b54031)
  id: totrans-1
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: åŸæ–‡ï¼š[https://towardsdatascience.com/acid-transactions-866265b54031](https://towardsdatascience.com/acid-transactions-866265b54031)
- en: Understanding ACID properties in the context of database transactions
  id: totrans-2
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: åœ¨æ•°æ®åº“äº‹åŠ¡çš„èƒŒæ™¯ä¸‹ç†è§£ ACID å±æ€§
- en: '[](https://gmyrianthous.medium.com/?source=post_page-----866265b54031--------------------------------)[![Giorgos
    Myrianthous](../Images/ff4b116e4fb9a095ce45eb064fde5af3.png)](https://gmyrianthous.medium.com/?source=post_page-----866265b54031--------------------------------)[](https://towardsdatascience.com/?source=post_page-----866265b54031--------------------------------)[![Towards
    Data Science](../Images/a6ff2676ffcc0c7aad8aaf1d79379785.png)](https://towardsdatascience.com/?source=post_page-----866265b54031--------------------------------)
    [Giorgos Myrianthous](https://gmyrianthous.medium.com/?source=post_page-----866265b54031--------------------------------)'
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: '[](https://gmyrianthous.medium.com/?source=post_page-----866265b54031--------------------------------)[![Giorgos
    Myrianthous](../Images/ff4b116e4fb9a095ce45eb064fde5af3.png)](https://gmyrianthous.medium.com/?source=post_page-----866265b54031--------------------------------)[](https://towardsdatascience.com/?source=post_page-----866265b54031--------------------------------)[![Towards
    Data Science](../Images/a6ff2676ffcc0c7aad8aaf1d79379785.png)](https://towardsdatascience.com/?source=post_page-----866265b54031--------------------------------)
    [Giorgos Myrianthous](https://gmyrianthous.medium.com/?source=post_page-----866265b54031--------------------------------)'
- en: Â·Published in [Towards Data Science](https://towardsdatascience.com/?source=post_page-----866265b54031--------------------------------)
    Â·3 min readÂ·Jul 5, 2023
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: Â·å‘å¸ƒäº [Towards Data Science](https://towardsdatascience.com/?source=post_page-----866265b54031--------------------------------)
    Â·é˜…è¯»æ—¶é—´ 3 åˆ†é’ŸÂ·2023å¹´7æœˆ5æ—¥
- en: --
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: --
- en: '![](../Images/3d32ef5f17f84fc39dd7972aa55efea2.png)'
  id: totrans-6
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/3d32ef5f17f84fc39dd7972aa55efea2.png)'
- en: Photo by [Michal Matlon](https://unsplash.com/@michalmatlon?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText)
    on [Unsplash](https://unsplash.com/photos/_4VlY7cW86M?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText)
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: '[ç…§ç‰‡ç”± Michal Matlon](https://unsplash.com/@michalmatlon?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText)
    æ‹æ‘„ï¼Œæ¥æºäº [Unsplash](https://unsplash.com/photos/_4VlY7cW86M?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText)'
- en: In the context of database operations, a transaction refers to an operation
    that is considered to be a single logical unit of work and aims to leave the underlying
    system in a consistent state.
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨æ•°æ®åº“æ“ä½œçš„èƒŒæ™¯ä¸‹ï¼Œäº‹åŠ¡æŒ‡çš„æ˜¯è¢«è§†ä¸ºå•ä¸€é€»è¾‘å·¥ä½œå•å…ƒçš„æ“ä½œï¼Œæ—¨åœ¨ä½¿åº•å±‚ç³»ç»Ÿä¿æŒä¸€è‡´çš„çŠ¶æ€ã€‚
- en: Consistency is maintained by ensuring that all the operations are executed upon
    successful completion, or none are performed when any of the operations fail for
    one reason or another.
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸€è‡´æ€§é€šè¿‡ç¡®ä¿æ‰€æœ‰æ“ä½œè¦ä¹ˆåœ¨æˆåŠŸå®Œæˆåæ‰§è¡Œï¼Œè¦ä¹ˆåœ¨ä»»ä½•æ“ä½œå› æŸç§åŸå› å¤±è´¥æ—¶ä¸æ‰§è¡Œæ¥ç»´æŠ¤ã€‚
- en: The ACID properties
  id: totrans-10
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: ACID å±æ€§
- en: Database transactions should be compliant to the so-called ACID properties.
    Such systems are called transactional and ensure that every operation, including
    read, write or update comply to ACID properties. ACID acronym stands for **A**tomiciy,
    **C**onsistency, **I**solation and **D**urability.
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: æ•°æ®åº“äº‹åŠ¡åº”éµå¾ªæ‰€è°“çš„ ACID å±æ€§ã€‚è¿™äº›ç³»ç»Ÿè¢«ç§°ä¸ºäº‹åŠ¡å‹ç³»ç»Ÿï¼Œç¡®ä¿æ¯ä¸ªæ“ä½œï¼ŒåŒ…æ‹¬è¯»å–ã€å†™å…¥æˆ–æ›´æ–°ï¼Œéƒ½ç¬¦åˆ ACID å±æ€§ã€‚ACID ç¼©å†™ä»£è¡¨ **A**tomiciyï¼ˆåŸå­æ€§ï¼‰ã€**C**onsistencyï¼ˆä¸€è‡´æ€§ï¼‰ã€**I**solationï¼ˆéš”ç¦»æ€§ï¼‰å’Œ
    **D**urabilityï¼ˆæŒä¹…æ€§ï¼‰ã€‚
- en: '**Atomicity**:This property refers to a transaction that is treated as a single
    unit of work. If any operation defined within the transaction fails, then no operation
    will be committed and previously executed operations will be rolled back (if any)
    and the underlying system will be reverted back to its previous state. Atomicity
    prevents data loss or data corruption since transactions will only be committed
    if every single statement is applied successfully.'
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: '**åŸå­æ€§**ï¼šè¯¥å±æ€§æŒ‡çš„æ˜¯ä¸€ä¸ªäº‹åŠ¡è¢«è§†ä¸ºä¸€ä¸ªå•ä¸€çš„å·¥ä½œå•å…ƒã€‚å¦‚æœäº‹åŠ¡ä¸­å®šä¹‰çš„ä»»ä½•æ“ä½œå¤±è´¥ï¼Œåˆ™ä¸ä¼šæäº¤ä»»ä½•æ“ä½œï¼Œä¹‹å‰æ‰§è¡Œçš„æ“ä½œå°†è¢«å›æ»šï¼ˆå¦‚æœæœ‰çš„è¯ï¼‰ï¼Œåº•å±‚ç³»ç»Ÿå°†æ¢å¤åˆ°å…¶å…ˆå‰çš„çŠ¶æ€ã€‚åŸå­æ€§é˜²æ­¢æ•°æ®ä¸¢å¤±æˆ–æ•°æ®æŸåï¼Œå› ä¸ºäº‹åŠ¡åªæœ‰åœ¨æ¯ä¸ªè¯­å¥éƒ½æˆåŠŸåº”ç”¨åæ‰ä¼šæäº¤ã€‚'
- en: '**Consistency**: This property ensures that all transactions adhere predefined
    rules such that every transaction is executed in a predictable way that will always
    leave the underlying system in a consistent state once it gets committed.'
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: '**ä¸€è‡´æ€§**ï¼šè¯¥å±æ€§ç¡®ä¿æ‰€æœ‰äº‹åŠ¡éµå¾ªé¢„å®šä¹‰è§„åˆ™ï¼Œä½¿æ¯ä¸ªäº‹åŠ¡ä»¥å¯é¢„æµ‹çš„æ–¹å¼æ‰§è¡Œï¼Œè¿™å°†å§‹ç»ˆä½¿åº•å±‚ç³»ç»Ÿåœ¨æäº¤åä¿æŒä¸€è‡´çŠ¶æ€ã€‚'
- en: '**Isolation**: A transactional database system allows multiple users to interact
    with it at the same time. This property ensures that concurrent transactions initiated
    by multiple users wonâ€™t interfere with each other such that data integrity is
    maintained. Any operation within a single transaction will therefore not be visible
    outside of that context, until the transaction is committed.'
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: '**éš”ç¦»æ€§**ï¼šä¸€ä¸ªäº‹åŠ¡æ€§æ•°æ®åº“ç³»ç»Ÿå…è®¸å¤šä¸ªç”¨æˆ·åŒæ—¶ä¸å…¶äº¤äº’ã€‚è¿™ä¸ªå±æ€§ç¡®ä¿ç”±å¤šä¸ªç”¨æˆ·å‘èµ·çš„å¹¶å‘äº‹åŠ¡ä¸ä¼šç›¸äº’å¹²æ‰°ï¼Œä»è€Œä¿æŒæ•°æ®å®Œæ•´æ€§ã€‚å•ä¸ªäº‹åŠ¡ä¸­çš„ä»»ä½•æ“ä½œåœ¨äº‹åŠ¡æäº¤ä¹‹å‰éƒ½ä¸ä¼šåœ¨å¤–éƒ¨å¯è§ã€‚'
- en: '**Durability**: This last property ensures that whenever a transaction gets
    committed it will be saved and its effects will be permanent even in the event
    of a system failure.'
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: '**æŒä¹…æ€§**ï¼šè¿™ä¸ªæœ€åçš„å±æ€§ç¡®ä¿æ¯å½“äº‹åŠ¡è¢«æäº¤æ—¶ï¼Œå®ƒå°†è¢«ä¿å­˜å¹¶ä¸”å…¶æ•ˆæœæ˜¯æ°¸ä¹…æ€§çš„ï¼Œå³ä½¿åœ¨ç³»ç»Ÿæ•…éšœçš„æƒ…å†µä¸‹ä¹Ÿæ˜¯å¦‚æ­¤ã€‚'
- en: How to write transactions in SQL
  id: totrans-16
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: å¦‚ä½•åœ¨ SQL ä¸­ç¼–å†™äº‹åŠ¡
- en: Now that we have a basic understanding of the four ACID properties, letâ€™s write
    a SQL transaction to see them in action. Note that I will be using BigQuery syntax
    which may also work for many other SQL flavours but this is not guaranteed.
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: ç°åœ¨æˆ‘ä»¬å¯¹å››ä¸ª ACID å±æ€§æœ‰äº†åŸºæœ¬äº†è§£ï¼Œè®©æˆ‘ä»¬ç¼–å†™ä¸€ä¸ª SQL äº‹åŠ¡æ¥è§‚å¯Ÿè¿™äº›å±æ€§çš„å®é™…æ•ˆæœã€‚è¯·æ³¨æ„ï¼Œæˆ‘å°†ä½¿ç”¨ BigQuery è¯­æ³•ï¼Œè¿™å¯èƒ½ä¹Ÿé€‚ç”¨äºè®¸å¤šå…¶ä»–
    SQL æ–¹è¨€ï¼Œä½†æ— æ³•ä¿è¯ã€‚
- en: In the example shared below, we create a transaction that cosnists of two statements.
    The first statement will insert a new record into the table `mydataset.mytable`
    whilst the second statement will (intentionally) raise an error since it attempts
    to perform a division by zero.
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨ä¸‹é¢åˆ†äº«çš„ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªåŒ…å«ä¸¤ä¸ªè¯­å¥çš„äº‹åŠ¡ã€‚ç¬¬ä¸€ä¸ªè¯­å¥å°†å‘è¡¨`mydataset.mytable`ä¸­æ’å…¥ä¸€æ¡æ–°è®°å½•ï¼Œè€Œç¬¬äºŒä¸ªè¯­å¥å°†ï¼ˆæ•…æ„ï¼‰å¼•å‘é”™è¯¯ï¼Œå› ä¸ºå®ƒå°è¯•è¿›è¡Œé™¤ä»¥é›¶çš„æ“ä½œã€‚
- en: In the second part of our code snippet, we define the rollback logc that will
    revert all changes made prior to the failure. Since the `SELECT 1/0` statement
    will raise an execption, the `INSERT INTO` statement will be rolled back and the
    new record wonâ€™t be added to the destination table.
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨æˆ‘ä»¬ä»£ç ç‰‡æ®µçš„ç¬¬äºŒéƒ¨åˆ†ä¸­ï¼Œæˆ‘ä»¬å®šä¹‰äº†å›æ»šé€»è¾‘ï¼Œå®ƒå°†æ’¤é”€æ‰€æœ‰åœ¨æ•…éšœä¹‹å‰æ‰€åšçš„æ›´æ”¹ã€‚ç”±äº `SELECT 1/0` è¯­å¥å°†å¼•å‘å¼‚å¸¸ï¼Œ`INSERT INTO`
    è¯­å¥å°†è¢«å›æ»šï¼Œæ–°è®°å½•ä¸ä¼šè¢«æ·»åŠ åˆ°ç›®æ ‡è¡¨ä¸­ã€‚
- en: '[PRE0]'
  id: totrans-20
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: Final Thoughts
  id: totrans-21
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: ç»“è®º
- en: ACID properties are among the most fundamental concepts that transactional database
    systems must adhere to in order to ensure and maintain data integrity, consistency
    and reliability. Furthermore, these concepts enable multiple users to interact
    with the underlying systems concurrently without risking these characteristics.
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: ACID å±æ€§æ˜¯äº‹åŠ¡æ€§æ•°æ®åº“ç³»ç»Ÿå¿…é¡»éµå®ˆçš„æœ€åŸºæœ¬çš„æ¦‚å¿µä¹‹ä¸€ï¼Œä»¥ç¡®ä¿å’Œç»´æŠ¤æ•°æ®çš„å®Œæ•´æ€§ã€ä¸€è‡´æ€§å’Œå¯é æ€§ã€‚æ­¤å¤–ï¼Œè¿™äº›æ¦‚å¿µä½¿å¤šä¸ªç”¨æˆ·èƒ½å¤ŸåŒæ—¶ä¸åº•å±‚ç³»ç»Ÿè¿›è¡Œäº¤äº’ï¼Œè€Œä¸å±åŠè¿™äº›ç‰¹æ€§ã€‚
- en: If your day-to-day work requires interaction with transactional database systems
    itâ€™s extremely important to familiarize yourself with these concepts. ACID properties
    offered by database transactions will ensure data integrity and allow you to handle
    failures and errors in a proper way that wonâ€™t affect other operations and users.
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: å¦‚æœä½ çš„æ—¥å¸¸å·¥ä½œéœ€è¦ä¸äº‹åŠ¡æ€§æ•°æ®åº“ç³»ç»Ÿè¿›è¡Œäº¤äº’ï¼Œé‚£ä¹ˆç†Ÿæ‚‰è¿™äº›æ¦‚å¿µæ˜¯éå¸¸é‡è¦çš„ã€‚æ•°æ®åº“äº‹åŠ¡æä¾›çš„ ACID å±æ€§å°†ç¡®ä¿æ•°æ®çš„å®Œæ•´æ€§ï¼Œå¹¶å…è®¸ä½ ä»¥é€‚å½“çš„æ–¹å¼å¤„ç†æ•…éšœå’Œé”™è¯¯ï¼Œä»è€Œä¸ä¼šå½±å“å…¶ä»–æ“ä½œå’Œç”¨æˆ·ã€‚
- en: ğŸ‘‰ [**Become a member**](https://gmyrianthous.medium.com/membership) **and read
    every story on Medium. Your membership fee directly supports me and other writers
    you read. Youâ€™ll also get full access to every story on Medium.**
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: ğŸ‘‰ [**æˆä¸ºä¼šå‘˜**](https://gmyrianthous.medium.com/membership) **å¹¶é˜…è¯» Medium ä¸Šçš„æ¯ä¸€ä¸ªæ•…äº‹ã€‚ä½ çš„ä¼šå‘˜è´¹ç›´æ¥æ”¯æŒæˆ‘å’Œå…¶ä»–ä½ é˜…è¯»çš„ä½œè€…ã€‚ä½ è¿˜å°†è·å¾—å¯¹
    Medium ä¸Šæ¯ä¸ªæ•…äº‹çš„å®Œå…¨è®¿é—®æƒé™ã€‚**
- en: '[](https://gmyrianthous.medium.com/membership?source=post_page-----866265b54031--------------------------------)
    [## Join Medium with my referral link â€” Giorgos Myrianthous'
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: '[](https://gmyrianthous.medium.com/membership?source=post_page-----866265b54031--------------------------------)
    [## ä½¿ç”¨æˆ‘çš„æ¨èé“¾æ¥åŠ å…¥ Medium â€” Giorgos Myrianthous'
- en: As a Medium member, a portion of your membership fee goes to writers you read,
    and you get full access to every storyâ€¦
  id: totrans-26
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: ä½œä¸º Medium çš„ä¼šå‘˜ï¼Œä½ çš„éƒ¨åˆ†ä¼šå‘˜è´¹ç”¨ä¼šåˆ†é…ç»™ä½ é˜…è¯»çš„ä½œè€…ï¼Œå¹¶ä¸”ä½ å¯ä»¥å®Œå…¨è®¿é—®æ¯ä¸ªæ•…äº‹â€¦â€¦
- en: gmyrianthous.medium.com](https://gmyrianthous.medium.com/membership?source=post_page-----866265b54031--------------------------------)
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: gmyrianthous.medium.com](https://gmyrianthous.medium.com/membership?source=post_page-----866265b54031--------------------------------)
- en: ğŸ‘‡**Related articles you may also like** ğŸ‘‡
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: ğŸ‘‡**ä½ å¯èƒ½ä¹Ÿå–œæ¬¢çš„ç›¸å…³æ–‡ç« ** ğŸ‘‡
- en: '[](/etl-vs-elt-68e221d78719?source=post_page-----866265b54031--------------------------------)
    [## ETL vs ELT: Whatâ€™s the Difference?'
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: '[](/etl-vs-elt-68e221d78719?source=post_page-----866265b54031--------------------------------)
    [## ETL ä¸ ELTï¼šæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ'
- en: A comparison between ETL and ELT in the context of Data Engineering
  id: totrans-30
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: åœ¨æ•°æ®å·¥ç¨‹çš„èƒŒæ™¯ä¸‹ï¼ŒETL ä¸ ELT çš„æ¯”è¾ƒ
- en: towardsdatascience.com](/etl-vs-elt-68e221d78719?source=post_page-----866265b54031--------------------------------)
    [](/dbt-55b35c974533?source=post_page-----866265b54031--------------------------------)
    [## What is dbt (data build tool)
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: towardsdatascience.com](/etl-vs-elt-68e221d78719?source=post_page-----866265b54031--------------------------------)
    [](/dbt-55b35c974533?source=post_page-----866265b54031--------------------------------)
    [## ä»€ä¹ˆæ˜¯ dbtï¼ˆæ•°æ®æ„å»ºå·¥å…·ï¼‰
- en: A gentle introduction to dbt that is taking over the data world
  id: totrans-32
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: å¯¹æ­£åœ¨ä¸»å®°æ•°æ®ä¸–ç•Œçš„ dbt çš„æ¸©å’Œä»‹ç»
- en: towardsdatascience.com](/dbt-55b35c974533?source=post_page-----866265b54031--------------------------------)
    [](/diagrams-as-code-python-d9cbaa959ed5?source=post_page-----866265b54031--------------------------------)
    [## Diagrams as Code in Python
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: towardsdatascience.com](/dbt-55b35c974533?source=post_page-----866265b54031--------------------------------)
    [](/diagrams-as-code-python-d9cbaa959ed5?source=post_page-----866265b54031--------------------------------)
    [## Python ä¸­çš„å›¾è¡¨ä½œä¸ºä»£ç 
- en: Creating cloud system architecture diagrams with Python
  id: totrans-34
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: ä½¿ç”¨ Python åˆ›å»ºäº‘ç³»ç»Ÿæ¶æ„å›¾
- en: towardsdatascience.com](/diagrams-as-code-python-d9cbaa959ed5?source=post_page-----866265b54031--------------------------------)
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: towardsdatascience.com](/diagrams-as-code-python-d9cbaa959ed5?source=post_page-----866265b54031--------------------------------)
