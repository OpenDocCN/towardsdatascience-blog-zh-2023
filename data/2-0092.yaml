- en: 4 Ways to Quantify Fat Tails with Python
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 使用Python量化肥尾的4种方法
- en: 原文：[https://towardsdatascience.com/4-ways-to-quantify-fat-tails-with-python-10ce62c0ada1](https://towardsdatascience.com/4-ways-to-quantify-fat-tails-with-python-10ce62c0ada1)
  id: totrans-1
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 原文：[https://towardsdatascience.com/4-ways-to-quantify-fat-tails-with-python-10ce62c0ada1](https://towardsdatascience.com/4-ways-to-quantify-fat-tails-with-python-10ce62c0ada1)
- en: Intuition and Example Code
  id: totrans-2
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 直观和示例代码
- en: '[](https://shawhin.medium.com/?source=post_page-----10ce62c0ada1--------------------------------)[![Shaw
    Talebi](../Images/1449cc7c08890e2078f9e5d07897e3df.png)](https://shawhin.medium.com/?source=post_page-----10ce62c0ada1--------------------------------)[](https://towardsdatascience.com/?source=post_page-----10ce62c0ada1--------------------------------)[![Towards
    Data Science](../Images/a6ff2676ffcc0c7aad8aaf1d79379785.png)](https://towardsdatascience.com/?source=post_page-----10ce62c0ada1--------------------------------)
    [Shaw Talebi](https://shawhin.medium.com/?source=post_page-----10ce62c0ada1--------------------------------)'
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: '[![Shaw Talebi](../Images/1449cc7c08890e2078f9e5d07897e3df.png)](https://shawhin.medium.com/?source=post_page-----10ce62c0ada1--------------------------------)[![Towards
    Data Science](../Images/a6ff2676ffcc0c7aad8aaf1d79379785.png)](https://towardsdatascience.com/?source=post_page-----10ce62c0ada1--------------------------------)
    [Shaw Talebi](https://shawhin.medium.com/?source=post_page-----10ce62c0ada1--------------------------------)'
- en: ·Published in [Towards Data Science](https://towardsdatascience.com/?source=post_page-----10ce62c0ada1--------------------------------)
    ·11 min read·Dec 7, 2023
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: ·发表于[Towards Data Science](https://towardsdatascience.com/?source=post_page-----10ce62c0ada1--------------------------------)
    ·阅读时间11分钟·2023年12月7日
- en: --
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: --
- en: '![](../Images/b5203c61a2cee6046950ad6cec930138.png)'
  id: totrans-6
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/b5203c61a2cee6046950ad6cec930138.png)'
- en: A fat (cat’s) tail. Image from Canva.
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: 一条肥（猫的）尾巴。图像来自Canva。
- en: This is the third article in a series on [Power Laws and Fat Tails](/pareto-power-laws-and-fat-tails-0355a187ee6a).
    In the [previous post](https://medium.com/towards-data-science/detecting-power-laws-in-real-world-data-with-python-b464190fade6),
    we explored how to detect power laws from empirical data. While this technique
    can be handy, fat tails go beyond simply fitting data to a power law distribution.
    In this article, I will break down 4 ways we can quantify fat tails and share
    example Python code analyzing real-world data.
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: 这是关于[幂律和肥尾](/pareto-power-laws-and-fat-tails-0355a187ee6a)的系列文章中的第三篇。在[上一篇文章](https://medium.com/towards-data-science/detecting-power-laws-in-real-world-data-with-python-b464190fade6)中，我们探讨了如何从经验数据中检测幂律。虽然这种技术很有用，但肥尾超出了仅仅将数据拟合到幂律分布的范围。在这篇文章中，我将解析4种量化肥尾的方法，并分享分析真实数据的Python示例代码。
- en: '*Note: If you are unfamiliar with terms like Power Law distribution or Fat
    Tail, review* [*this article*](https://medium.com/towards-data-science/pareto-power-laws-and-fat-tails-0355a187ee6a)
    *as a primer.*'
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: '*注意：如果你不熟悉幂律分布或肥尾等术语，请查看* [*这篇文章*](https://medium.com/towards-data-science/pareto-power-laws-and-fat-tails-0355a187ee6a)
    *作为入门。*'
- en: In the [first article](/pareto-power-laws-and-fat-tails-0355a187ee6a) of this
    series, we introduced the idea of **fat tails,** which describes the **degree
    to which rare events drive the aggregate statistics of a distribution**. We saw
    an extreme example of fat tails via the Pareto distribution where, for example,
    80% of sales are generated by 20% of customers (and 50% of sales are generated
    by just 1% of customers).
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: 在本系列的[第一篇文章](/pareto-power-laws-and-fat-tails-0355a187ee6a)中，我们介绍了**肥尾**的概念，描述了**稀有事件如何推动分布的整体统计数据**。我们通过帕累托分布看到了肥尾的极端例子，例如，80%的销售额来自20%的客户（而50%的销售额来自仅1%的客户）。
- en: '[](/pareto-power-laws-and-fat-tails-0355a187ee6a?source=post_page-----10ce62c0ada1--------------------------------)
    [## Pareto, Power Laws, and Fat Tails'
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: '[## 帕累托、幂律和肥尾]'
- en: What they don’t teach you in statistics
  id: totrans-12
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 统计学中未教授的内容
- en: towardsdatascience.com](/pareto-power-laws-and-fat-tails-0355a187ee6a?source=post_page-----10ce62c0ada1--------------------------------)
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: '[towardsdatascience.com](/pareto-power-laws-and-fat-tails-0355a187ee6a?source=post_page-----10ce62c0ada1--------------------------------)'
- en: Although Pareto (and more generally power law) distributions give us a salient
    example of fat tails, this is a more general notion that lives on a spectrum ranging
    from thin-tailed (i.e. a Gaussian) to very fat-tailed (i.e. Pareto 80–20).
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 尽管帕累托（更一般地说，幂律）分布为我们提供了肥尾的显著例子，但这是一种更普遍的概念，它在从薄尾（即高斯分布）到非常肥尾（即帕累托80–20）的光谱上存在。
- en: '![](../Images/1165dd459098d49a27a5760128eeac49.png)'
  id: totrans-15
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/1165dd459098d49a27a5760128eeac49.png)'
- en: The spectrum of Fat-tailedness. Image by author.
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: 肥尾的光谱。图像由作者提供。
- en: 'This view of *fat-tailedness* provides us with a more flexible and precise
    way of categorizing data than simply labeling it as a Power Law (or not). However,
    this begs the question: *how do we define fat-tailedness?*'
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: 这种*粗尾性*的观点为我们提供了一种比仅仅标记为幂律（或不是）更灵活、更精确的数据分类方法。然而，这就提出了一个问题：*我们如何定义粗尾性？*
- en: '**4 Ways to Quantify Fat Tails**'
  id: totrans-18
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '**量化粗尾的4种方法**'
- en: While there is no “true” measure of fat-tailedness, there are a few heuristics
    (i.e. rules of thumb) we can use in practice to quantify *how fat-tailed* data
    are. Here, we review 4 such heuristics. We start by introducing each technique
    conceptually and then dive into example Python code.
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: 虽然没有“真实”的粗尾量度，但在实践中我们可以使用一些启发式方法（即经验法则）来量化*数据的粗尾程度*。在这里，我们回顾这4种启发式方法。我们首先从概念上介绍每种技术，然后深入示例Python代码。
- en: '**Heuristic 1: Power Law Tail Index**'
  id: totrans-20
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: '**启发式方法1：幂律尾部指数**'
- en: The *fattest* fat tails appear in Power Law distributions, where **the smaller
    a Power Law’s tail index (i.e. *α*), the fatter its tail**, as illustrated in
    the image below.
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: 在幂律分布中，*最粗*的粗尾出现，其中**幂律的尾部指数越小（即*α*），尾部越粗**，如下面的图像所示。
- en: '![](../Images/3930ecd4789e8b354961f2b415e00124.png)'
  id: totrans-22
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/3930ecd4789e8b354961f2b415e00124.png)'
- en: Example Power Law distributions with various α values. Image by author.
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: 具有不同α值的幂律分布示例。图像由作者提供。
- en: This observation that **smaller tail indexes imply fatter tails** naturally
    motivates us to use *α* to quantify fat tails. In practice, this boils down to
    [fitting a power law](/detecting-power-laws-in-real-world-data-with-python-b464190fade6)
    distribution to a given dataset and extracting the estimated *α* value.
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 这种观察表明**较小的尾部指数意味着尾部更粗**，自然促使我们使用*α*来量化粗尾。在实践中，这归结为[拟合幂律分布](/detecting-power-laws-in-real-world-data-with-python-b464190fade6)到给定数据集，并提取估计的*α*值。
- en: While this is a straightforward approach, it has one obvious limitation. Namely,
    the approach will break down when working with data that poorly fits a power law.
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: 尽管这是一种直接的方法，但它有一个明显的限制。即当处理数据与幂律拟合不良时，该方法将失效。
- en: '**Heuristic 2: Kurtosis (i.e. non-Gaussianity)**'
  id: totrans-26
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: '**启发式方法2：峰度（即非高斯性）**'
- en: The opposite of a fat tail is a **thin tail** (i.e. **rare events are so rare
    they are negligible**). A thin-tailed exemplar is the beloved Gaussian distribution,
    where the probability of an event 6 sigma away from the mean is about 1 in a billion.
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: 粗尾的对立面是**细尾**（即**稀有事件非常稀少到可以忽略不计**）。细尾的典型例子是受欢迎的高斯分布，其中事件偏离均值6个标准差的概率大约为十亿分之一。
- en: This inspires another measure of fat tails by quantifying how “UN-Gaussian”
    the data are. We can do this via so-called non-Gaussianity measures. While we
    could devise many such measures, the most popular is **Kurtosis**, defined by
    the expression below.
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: 这启发了另一种通过量化数据“非高斯”程度来测量粗尾的方法。我们可以通过所谓的非高斯性测量来实现这一点。虽然我们可以设计许多这种测量方法，但最受欢迎的是**峰度**，由下面的公式定义。
- en: '![](../Images/064b94c8c1dc272c7093f90b9f05cb2a.png)'
  id: totrans-29
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/064b94c8c1dc272c7093f90b9f05cb2a.png)'
- en: Definition of Kurtosis according to ref [1] and [2]. Image by author.
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: 根据参考文献[1]和[2]的峰度定义。图像由作者提供。
- en: Kurtosis is driven by values far from the center (i.e. the tails). Thus, **the
    larger the kurtosis, the fatter the tail**.
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: 峰度由远离中心的值（即尾部）驱动。因此，**峰度越大，尾部越粗**。
- en: This measure tends to work well when all the moments are finite [3]. One major
    limitation, however, is that Kurtosis is not defined for some distributions, e.g.
    Pareto with *α* =< 4, which makes it useless for many fat-tailed data.
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: 当所有矩都是有限的[3]时，这个测量方法往往效果很好。然而，一个主要的限制是峰度对某些分布没有定义，例如*α* <= 4的帕累托分布，这使得它对许多粗尾数据无用。
- en: '**Heuristic 3: Log-normal’s σ**'
  id: totrans-33
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: '**启发式方法3：对数正态的σ**'
- en: In past articles of this series, we discussed the Log-normal distribution, defined
    by the probability density function below.
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: 在本系列的过去文章中，我们讨论了对数正态分布，该分布由下面的概率密度函数定义。
- en: '![](../Images/baf93cd83c594d20e2c395eb9c14bdf7.png)'
  id: totrans-35
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/baf93cd83c594d20e2c395eb9c14bdf7.png)'
- en: The probability density function of log-normal distribution [4]. Image by author.
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: 对数正态分布的概率密度函数 [4]。图像由作者提供。
- en: As we saw [before](/detecting-power-laws-in-real-world-data-with-python-b464190fade6),
    this distribution is a bit *mischievous* because it can appear Gaussian-like for
    low **σ**, yet Pareto-like at high **σ**. This naturally provides another way
    to quantify fat tails, where **the larger the σ, the fatter the tail**.
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: 正如我们[之前看到的](/detecting-power-laws-in-real-world-data-with-python-b464190fade6)，这种分布有点*狡黠*，因为它在低**σ**时可能看起来像高斯分布，而在高**σ**时则类似于帕累托分布。这自然提供了另一种量化粗尾的方法，其中**σ越大，尾部越粗**。
- en: We can obtain this measure in a similar way as *Heuristic 1*. Namely, we fit
    a log-normal distribution to our data and extract the fit’s σ value. While this
    is a simple procedure, it (like *Heuristic 1*) breaks down when the log-normal
    fit does not explain the underlying data well.
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: 我们可以通过类似于*启发式 1* 的方法获得这个度量值。即，我们将对数据拟合一个对数正态分布并提取拟合的 σ 值。虽然这是一个简单的过程，但当对数正态拟合未能很好地解释数据时，它（如*启发式
    1*）就会失效。
- en: '**Heuristic 4: Taleb’s κ**'
  id: totrans-39
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: '**启发式 4：Taleb 的 κ**'
- en: The preceding heuristics (H) started with a particular distribution in mind
    (i.e. H1 — Power Law and H3 — Log-normal). In practice, however, our data rarely
    precisely follow any particular distribution.
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: 之前的启发式方法（H）以特定分布为起点（即 H1 — 幂律和 H3 — 对数正态）。然而，在实践中，我们的数据很少精确地遵循任何特定的分布。
- en: Moreover, comparisons using these measures may be problematic when evaluating
    2 variables following qualitatively different distributions. For instance, using
    a power law’s tail index to compare Pareto-like and Gaussian-like data may have
    little significance since a power law will poorly fit into Gaussian-like data.
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: 此外，当评估遵循质的不同分布的两个变量时，使用这些度量进行比较可能存在问题。例如，使用幂律的尾部指数来比较类似 Pareto 和类似高斯的数据可能意义不大，因为幂律对类似高斯的数据拟合较差。
- en: This motivates the use of non-distribution-specific measures of fat-tailedness.
    One such measure was proposed by Taleb in ref [3]. The proposed **metric (κ)**
    is defined for **unimodal data with finite mean** **and** **takes values between
    0 and 1**, where **0** indicates data are **maximally thin-tailed** and **1**
    implies the data are **maximally fat-tailed**. It is defined according to the
    expression below.
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: 这促使我们使用不依赖于特定分布的肥尾度量。Taleb 在参考文献 [3] 中提出了一个这样的度量。所提议的**度量 (κ)** 定义为**具有有限均值的单峰数据**，**其值在
    0 和 1 之间**，其中**0** 表示数据**最大程度地薄尾**，而**1** 表示数据**最大程度地肥尾**。其定义如下。
- en: '![](../Images/c60aa289efeb7e9afb85bba6042f03b1.png)'
  id: totrans-43
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/c60aa289efeb7e9afb85bba6042f03b1.png)'
- en: Definition of Taleb’s κ metric [3]. Image by author.
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: Taleb 的 κ 度量定义 [3]。图像来源于作者。
- en: The metric compares two samples (say, Sₙ₀ and Sₙ) where Sₙ is the sum of *n*
    samples drawn from a particular distribution. For example, if we evaluate a Gaussian
    distribution and choose *n*=100, we would draw 100 samples from a Gaussian and
    sum them all together to create S₁₀₀.
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: 该度量比较两个样本（例如，Sₙ₀ 和 Sₙ），其中 Sₙ 是从特定分布中抽取的 *n* 个样本的总和。例如，如果我们评估一个高斯分布并选择 *n*=100，我们将从高斯分布中抽取
    100 个样本并将它们全部加在一起以创建 S₁₀₀。
- en: '***M(n)*** in the above expression denotes the **mean absolute deviation**,
    defined according to the equation below. This measure of the **dispersion around
    the mean** tends to be more robust than the standard deviation [3][5].'
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: '***M(n)*** 在上述表达式中表示**平均绝对偏差**，根据下面的方程定义。这个**围绕均值的离散度**度量比标准差 [3][5] 更加稳健。'
- en: '![](../Images/c4be29d1e35847f2c5406b6b80027ea3.png)'
  id: totrans-47
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/c4be29d1e35847f2c5406b6b80027ea3.png)'
- en: Definition of mean absolute deviation from κ equation [3]. Image by author.
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: κ 方程中平均绝对偏差的定义 [3]。图像来源于作者。
- en: To simplify things, we can choose n₀=1, giving us the expression below.
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: 为了简化问题，我们可以选择 n₀=1，从而得到下面的表达式。
- en: '![](../Images/e94ec6235c9d1eb4d9f45036f749224a.png)'
  id: totrans-50
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/e94ec6235c9d1eb4d9f45036f749224a.png)'
- en: κ with n₀=1\. Image by author.
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: κ with n₀=1。图像来源于作者。
- en: The key term here is *M(n)/M(1)*, where ***M(n)* quantifies the dispersion around
    the mean for the sum of n samples** (of some distribution).
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: 这里的关键术语是 *M(n)/M(1)*，其中***M(n)* 量化了 n 个样本总和的均值周围的离散度**（某种分布）。
- en: For **thin-tailed** distributions, *M(30)* will be relatively close to *M(1)*
    since the data generally sit close to the mean. Thus, *M(30)/M(1) ~ 1.*
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: 对于**薄尾**分布，*M(30)* 将相对接近 *M(1)*，因为数据通常接近均值。因此，*M(30)/M(1) ~ 1*。
- en: For **fat-tailed** data, however, *M(30)* will be much larger than *M(1)*. Thus,
    *M(30)/M(1) >> 1\.* This is illustrated below, where the left plot shows how dispersion
    scales for a sum of Gaussians, and the right plot shows how it scales for a Pareto.
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: 然而，对于**肥尾**数据，*M(30)* 将比 *M(1)* 大得多。因此，*M(30)/M(1) >> 1*。下图中，左侧图示展示了高斯分布的离散度如何随和数的总和而变化，右侧图示则展示了
    Pareto 分布的变化情况。
- en: '![](../Images/619514d46d0fb2e071e1b9098bc217a0.png)'
  id: totrans-55
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/619514d46d0fb2e071e1b9098bc217a0.png)'
- en: '*Scaling of M(n) and M(1) for Gaussian (left) and Pareto 80–20 (right) distributions.
    Notice the y-axis labels.* Note: the scale of Gaussian dispersion increases due
    to the summing of n distributions. *Image by author.*'
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: '*高斯（左）和 Pareto 80–20（右）分布的 M(n) 和 M(1) 的缩放。注意 y 轴标签。* 注意：高斯离散度的尺度增加是由于和数的增加。*图像来源于作者。*'
- en: Thus, for fat-tailed data, the denominator in the κ equation will be bigger
    than the numerator, making the second term on the RHS smaller and, ultimately,
    κ larger.
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，对于肥尾数据，κ 方程中的分母将大于分子，使得右侧第二项变小，最终，κ 较大。
- en: 'If this was all more math than you bargained for, here’s the takeaway:'
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: 如果这些数学内容超出了你的预期，那么总结如下：
- en: '**Big κ = fat-tailed, small κ = thin-tailed**.'
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: '**大 κ = 肥尾，小 κ = 瘦尾**。'
- en: '**Example Code: Quantifying the Fat-tailedness of (Real-world) Social Media
    Data**'
  id: totrans-60
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '**示例代码：量化（现实世界）社交媒体数据的肥尾特征**'
- en: With the conceptual stuff out of the way, let’s see what using these heuristics
    looks like in practice. Here, we will use each approach described above to analyze
    the same data from the [previous article](/detecting-power-laws-in-real-world-data-with-python-b464190fade6)
    of this series.
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: 了解了概念后，让我们看看这些启发式方法在实际中的应用。这里，我们将使用上述每种方法分析本系列 [上一篇文章](/detecting-power-laws-in-real-world-data-with-python-b464190fade6)
    中的相同数据。
- en: The data are from my social media accounts, which include monthly followers
    gained on **Medium**, earnings per **YouTube** video, and daily impressions on
    **LinkedIn**. The data and code are freely available at the [GitHub repo](https://github.com/ShawhinT/YouTube-Blog/tree/main/power-laws/3-quantifying-fat-tails).
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: 数据来自我的社交媒体账户，包括 **Medium** 上的月度关注者增加、**YouTube** 视频的收入以及 **LinkedIn** 的每日印象数。数据和代码可以在
    [GitHub 仓库](https://github.com/ShawhinT/YouTube-Blog/tree/main/power-laws/3-quantifying-fat-tails)
    上免费获取。
- en: '[](https://github.com/ShawhinT/YouTube-Blog/tree/main/power-laws/3-quantifying-fat-tails?source=post_page-----10ce62c0ada1--------------------------------)
    [## YouTube-Blog/power-laws/3-quantifying-fat-tails at main · ShawhinT/YouTube-Blog'
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: '[](https://github.com/ShawhinT/YouTube-Blog/tree/main/power-laws/3-quantifying-fat-tails?source=post_page-----10ce62c0ada1--------------------------------)
    [## YouTube-Blog/power-laws/3-quantifying-fat-tails 在主分支 · ShawhinT/YouTube-Blog'
- en: Codes to complement YouTube videos and blog posts on Medium. - YouTube-Blog/power-laws/3-quantifying-fat-tails
    at main…
  id: totrans-64
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 补充 YouTube 视频和 Medium 博客文章的代码。 - YouTube-Blog/power-laws/3-quantifying-fat-tails
    在主分支…
- en: github.com](https://github.com/ShawhinT/YouTube-Blog/tree/main/power-laws/3-quantifying-fat-tails?source=post_page-----10ce62c0ada1--------------------------------)
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: '[github.com](https://github.com/ShawhinT/YouTube-Blog/tree/main/power-laws/3-quantifying-fat-tails?source=post_page-----10ce62c0ada1--------------------------------)'
- en: We start by importing some helpful libraries.
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: 我们首先导入一些有用的库。
- en: '[PRE0]'
  id: totrans-67
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: Next, we will load each dataset and store them in a dictionary.
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，我们将加载每个数据集并将其存储在字典中。
- en: '[PRE1]'
  id: totrans-69
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: At this point, looking at the data is always a good idea. We can do that by
    plotting histograms and printing the top 5 records for each dataset.
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: 在这一点上，查看数据总是一个好主意。我们可以通过绘制直方图和打印每个数据集的前 5 条记录来做到这一点。
- en: '[PRE2]'
  id: totrans-71
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: '![](../Images/c6f1b93d5bce6020817c85f4614546f9.png)'
  id: totrans-72
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/c6f1b93d5bce6020817c85f4614546f9.png)'
- en: Histograms for monthly Medium followers. Image by author.
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: Medium 月度关注者的直方图。图片由作者提供。
- en: '![](../Images/df31d7b781cdbfc08bff529aaeff5800.png)'
  id: totrans-74
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/df31d7b781cdbfc08bff529aaeff5800.png)'
- en: 'Histograms for YouTube video earnings. Note: if you notice a difference from
    the previous article, it’s because I found a rogue record in the data (that’s
    why looking is a good idea 😅). Image by author.'
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
  zh: YouTube 视频收入的直方图。注意：如果你发现与之前文章的差异，那是因为我在数据中发现了一个异常记录（这就是查看数据的好处 😅）。图片由作者提供。
- en: '![](../Images/1bbd897528f57b6f247f33ee6223bb66.png)'
  id: totrans-76
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/1bbd897528f57b6f247f33ee6223bb66.png)'
- en: Histograms for daily LinkedIn impressions. Image by author.
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
  zh: LinkedIn 日常印象的直方图。图片由作者提供。
- en: Based on the histograms above, each dataset appears fat-tailed to some extent.
    Let’s see the top 5 records by percentage to get another look at this.
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: 根据上述直方图，每个数据集在某种程度上都表现出肥尾特征。让我们查看按百分比排名前五的记录，以更深入地了解这一点。
- en: '![](../Images/fa20b74cd0e5ba368dc5e5595d01d78d.png)'
  id: totrans-79
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/fa20b74cd0e5ba368dc5e5595d01d78d.png)'
- en: Top 5 records by percentage for each dataset. Image by author.
  id: totrans-80
  prefs: []
  type: TYPE_NORMAL
  zh: 每个数据集按百分比排名前五的记录。图片由作者提供。
- en: From this view, Medium followers appear the most fat-tailed, with 60% of followers
    coming from just 2 months. YouTube earnings are also strongly fat-tailed, where
    about 60% of revenue comes from just 4 videos. LinkedIn impressions seem the least
    fat-tailed.
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: 从这个角度看，Medium 的关注者似乎最具肥尾特征，60% 的关注者来自仅 2 个月。YouTube 收入也强烈表现为肥尾特征，大约 60% 的收入来自仅
    4 个视频。LinkedIn 的印象数似乎是最不具肥尾特征的。
- en: While we may get a qualitative sense of the fat-tailedness just by *looking
    at the data*, let’s make this more quantitative via our 4 heuristics.
  id: totrans-82
  prefs: []
  type: TYPE_NORMAL
  zh: 尽管我们可以通过 *查看数据* 得到肥尾特征的定性感觉，但让我们通过我们的 4 个启发式方法使其更具定量性。
- en: '**Heuristic 1: Power Law Tail Index**'
  id: totrans-83
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: '**启发式 1：幂律尾部指数**'
- en: To obtain an *α* for each dataset, we can use the [*powerlaw*](https://pypi.org/project/powerlaw/)library
    as we did in the [previous article](/detecting-power-laws-in-real-world-data-with-python-b464190fade6).
    This is done in the code block below, where we perform the fit and print the parameter
    estimates for each dataset in a for loop.
  id: totrans-84
  prefs: []
  type: TYPE_NORMAL
  zh: 为每个数据集获得一个*α*，我们可以使用[*powerlaw*](https://pypi.org/project/powerlaw/)库，正如我们在[上一篇文章](/detecting-power-laws-in-real-world-data-with-python-b464190fade6)中所做的那样。这在下面的代码块中完成，我们在循环中进行拟合并打印每个数据集的参数估计值。
- en: '[PRE3]'
  id: totrans-85
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: '![](../Images/27ab7fb5f3ff30dd33631589952cd248.png)'
  id: totrans-86
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/27ab7fb5f3ff30dd33631589952cd248.png)'
- en: Power Law fit results. Image by author.
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
  zh: 幂律拟合结果。图片作者提供。
- en: The results above match our qualitative assessment that Medium followers are
    the most fat-tailed, followed by YouTube earnings and LinkedIn impressions (remember,
    a smaller *α* means a fatter tail).
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: 上述结果与我们的定性评估一致，即Medium粉丝是最胖尾的，其次是YouTube收入和LinkedIn印象（请记住，较小的*α*意味着较胖的尾部）。
- en: 'Heuristic 2: Kurtosis'
  id: totrans-89
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 启发式方法 2：峭度
- en: An easy way to compute Kurtosis is using an off-the-shelf implementation. Here,
    I use [Scipy](https://docs.scipy.org/doc/scipy/reference/generated/scipy.stats.kurtosis.html)
    and print the results in a similar way as before.
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: 计算峭度的一种简单方法是使用现成的实现。在这里，我使用[Scipy](https://docs.scipy.org/doc/scipy/reference/generated/scipy.stats.kurtosis.html)并以类似之前的方式打印结果。
- en: '[PRE4]'
  id: totrans-91
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: '![](../Images/7a5c6028042943ab2c6e65e12b4bf67a.png)'
  id: totrans-92
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/7a5c6028042943ab2c6e65e12b4bf67a.png)'
- en: Kurtosis values for each dataset. Image by author.
  id: totrans-93
  prefs: []
  type: TYPE_NORMAL
  zh: 每个数据集的峭度值。图片作者提供。
- en: 'Kurtosis tells us a different story than *Heuristic 1*. The ranking of fat-tailedness
    according to this measure is as follows: LinkedIn > Medium > YouTube.'
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: 峭度告诉我们与*启发式方法 1*不同的故事。根据这个测量，胖尾的排名如下：LinkedIn > Medium > YouTube。
- en: However, these results should be taken with a grain of salt. As we saw with
    the power law fits above, all 3 datasets fit a power law with *α* < 4, meaning
    the Kurtosis is infinite. So, while the computation returns a value, it’s probably
    wise to be suspicious of these numbers.
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
  zh: 然而，这些结果应持保留态度。正如我们在上面的幂律拟合中看到的，所有3个数据集都符合*α* < 4的幂律，这意味着峭度是无限的。因此，尽管计算返回了一个值，但最好对这些数字保持怀疑态度。
- en: 'Heuristic 3: Log-normal’s σ'
  id: totrans-96
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 启发式方法 3：对数正态的σ
- en: We can again use the [*powerlaw*](https://pypi.org/project/powerlaw/) library
    to obtain σ estimates similar to what we did for *Heuristic 1*. Here’s what that
    looks like.
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
  zh: 我们可以再次使用[*powerlaw*](https://pypi.org/project/powerlaw/)库来获得类似于*启发式方法 1*的σ估计值。这是它的样子。
- en: '[PRE5]'
  id: totrans-98
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: '![](../Images/c04fa0e0af43c6313421f3731517e5f7.png)'
  id: totrans-99
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/c04fa0e0af43c6313421f3731517e5f7.png)'
- en: Log-normal fit results. Image by author.
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
  zh: 对数正态拟合结果。图片作者提供。
- en: Looking at the σ values above, we see all fits imply the data are fat-tailed,
    where Medium followers and LinkedIn impressions have similar σ estimates. YouTube
    earnings, on the other hand, have a significantly larger σ value, implying a (much)
    fatter tail.
  id: totrans-101
  prefs: []
  type: TYPE_NORMAL
  zh: 查看上面的σ值，我们看到所有拟合都暗示数据是胖尾的，其中Medium粉丝和LinkedIn印象的σ估计值相似。另一方面，YouTube收入的σ值显著较大，暗示了一个（更）胖的尾部。
- en: One cause for suspicion, however, is that the fit estimates a negative μ, which
    may suggest a Log-normal fit may not explain the data well.
  id: totrans-102
  prefs: []
  type: TYPE_NORMAL
  zh: 令人怀疑的一点是，拟合估计了一个负的μ，这可能表明对数正态拟合可能无法很好地解释数据。
- en: 'Heuristic 4: Taleb’s κ'
  id: totrans-103
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 启发式方法 4：Taleb的κ
- en: Since I couldn’t find an off-the-shelf Python implementation for computing κ
    (I didn’t look very hard), this computation requires a few extra steps. Namely,
    we need to define 3 helper functions, as shown below.
  id: totrans-104
  prefs: []
  type: TYPE_NORMAL
  zh: 由于我找不到现成的Python实现来计算κ（我没有很认真地找），这个计算需要一些额外的步骤。也就是说，我们需要定义3个辅助函数，如下所示。
- en: '[PRE6]'
  id: totrans-105
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: The first function, *mean_abs_deviation(),* computes the mean absolute deviation
    as defined earlier.
  id: totrans-106
  prefs: []
  type: TYPE_NORMAL
  zh: 第一个函数*mean_abs_deviation()*计算之前定义的平均绝对偏差。
- en: Next, we need a way to generate and sum *n* samples from our empirical data.
    Here, I take a naive approach and randomly sample an input array (X) *n* times
    and sum the samples together.
  id: totrans-107
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，我们需要一种方法来生成并求和*n*个样本。这里，我采用了一个简单的方法，随机从输入数组（X）中采样*n*次并将样本相加。
- en: Finally, I bring together *mean_abs_deviation(S)* and *generate_n_sample(X,n)*
    to implement the κ calculation defined before and compute it for each dataset.
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
  zh: 最后，我将*mean_abs_deviation(S)*和*generate_n_sample(X,n)*结合起来，实现之前定义的κ计算，并为每个数据集进行计算。
- en: '[PRE7]'
  id: totrans-109
  prefs: []
  type: TYPE_PRE
  zh: '[PRE7]'
- en: '![](../Images/e9a0e3eec0eb8455d966fa603ee674c8.png)'
  id: totrans-110
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/e9a0e3eec0eb8455d966fa603ee674c8.png)'
- en: κ(1,100) values for each dataset. Image by author.
  id: totrans-111
  prefs: []
  type: TYPE_NORMAL
  zh: κ(1,100)的每个数据集值。图片作者提供。
- en: The results above give us yet another story. However, given the implicit randomness
    of this calculation (recall *generate_n_sample()* definition) and the fact we’re
    dealing with fat tails, point estimates (i.e. just running the computation once)
    cannot be trusted.
  id: totrans-112
  prefs: []
  type: TYPE_NORMAL
  zh: 上述结果给了我们另一个故事。然而，考虑到这一计算的隐含随机性（回忆一下*generate_n_sample()*的定义）以及我们正在处理胖尾数据的事实，点估计（即只运行一次计算）是不可靠的。
- en: Accordingly, I run the same calculation 1000x and print the mean *κ(1,100)*
    for each dataset.
  id: totrans-113
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，我进行了1000次相同的计算，并打印出每个数据集的均值*κ(1,100)*。
- en: '[PRE8]'
  id: totrans-114
  prefs: []
  type: TYPE_PRE
  zh: '[PRE8]'
- en: '![](../Images/3a6876630004a5b93d4e7621354d4920.png)'
  id: totrans-115
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/3a6876630004a5b93d4e7621354d4920.png)'
- en: Mean κ(1,100) values from 1000 runs for each dataset. Image by author.
  id: totrans-116
  prefs: []
  type: TYPE_NORMAL
  zh: 从每个数据集的1000次运行中得到的均值κ(1,100)。图片由作者提供。
- en: These more stable results indicate Medium followers are the most fat-tailed,
    followed by LinkedIn Impressions and YouTube earnings.
  id: totrans-117
  prefs: []
  type: TYPE_NORMAL
  zh: 这些更稳定的结果表明，Medium的关注者是最胖尾的，其次是LinkedIn的印象和YouTube的收入。
- en: '*Note: One can compare these values to Table III in ref [3] to better understand
    each κ value. Namely, these values are comparable to a Pareto distribution with
    α between 2 and 3.*'
  id: totrans-118
  prefs: []
  type: TYPE_NORMAL
  zh: '*注意：可以将这些值与参考文献[3]中的表III进行比较，以更好地理解每个κ值。即，这些值与α介于2到3之间的帕累托分布相当。*'
- en: Although each heuristic told a slightly different story, all signs point toward
    Medium followers gained being the most fat-tailed of the 3 datasets.
  id: totrans-119
  prefs: []
  type: TYPE_NORMAL
  zh: 尽管每种启发式方法讲述了略有不同的故事，但所有迹象都表明Medium的关注者增长是这三个数据集中最胖尾的。
- en: Conclusion
  id: totrans-120
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 结论
- en: While binary labeling data as fat-tailed (or not) may be tempting, fat-tailedness
    lives on a spectrum. Here, we broke down 4 heuristics for quantifying *how fat-tailed*
    data are.
  id: totrans-121
  prefs: []
  type: TYPE_NORMAL
  zh: 虽然将数据二分类为胖尾（或非胖尾）可能很诱人，但胖尾特征存在于一个范围上。在这里，我们分解了4种启发式方法，用于量化*数据的胖尾程度*。
- en: Although each approach has its limitations, they provide practitioners with
    quantitative ways of comparing the fat-tailedness of empirical data.
  id: totrans-122
  prefs: []
  type: TYPE_NORMAL
  zh: 尽管每种方法都有其局限性，但它们为从业者提供了定量比较经验数据的胖尾特征的方式。
- en: '**👉 More on Power Laws & Fat Tails**: [Introduction](/pareto-power-laws-and-fat-tails-0355a187ee6a)
    | [Power Law Fits](/detecting-power-laws-in-real-world-data-with-python-b464190fade6)'
  id: totrans-123
  prefs: []
  type: TYPE_NORMAL
  zh: '**👉 更多关于幂律和胖尾**: [介绍](/pareto-power-laws-and-fat-tails-0355a187ee6a) | [幂律拟合](/detecting-power-laws-in-real-world-data-with-python-b464190fade6)'
- en: '[](https://shawhin.medium.com/subscribe?source=post_page-----10ce62c0ada1--------------------------------)
    [## Get FREE access to every new story I write'
  id: totrans-124
  prefs: []
  type: TYPE_NORMAL
  zh: '[## 免费获取我撰写的每个新故事](https://shawhin.medium.com/subscribe?source=post_page-----10ce62c0ada1--------------------------------)'
- en: Get FREE access to every new story I write P.S. I do not share your email with
    anyone By signing up, you will create a…
  id: totrans-125
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 免费获取我撰写的每个新故事 另：我不会将您的电子邮件分享给任何人 注册后，您将创建一个...
- en: shawhin.medium.com](https://shawhin.medium.com/subscribe?source=post_page-----10ce62c0ada1--------------------------------)
  id: totrans-126
  prefs: []
  type: TYPE_NORMAL
  zh: '[shawhin.medium.com](https://shawhin.medium.com/subscribe?source=post_page-----10ce62c0ada1--------------------------------)'
- en: Resources
  id: totrans-127
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 资源
- en: '**Connect**: [My website](https://shawhintalebi.com/) | [Book a call](https://calendly.com/shawhintalebi)
    | [Ask me anything](https://shawhintalebi.com/contact/)'
  id: totrans-128
  prefs: []
  type: TYPE_NORMAL
  zh: '**连接**: [我的网站](https://shawhintalebi.com/) | [预约电话](https://calendly.com/shawhintalebi)
    | [问我任何问题](https://shawhintalebi.com/contact/)'
- en: '**Socials**: [YouTube 🎥](https://www.youtube.com/channel/UCa9gErQ9AE5jT2DZLjXBIdA)
    | [LinkedIn](https://www.linkedin.com/in/shawhintalebi/) | [Twitter](https://twitter.com/ShawhinT)'
  id: totrans-129
  prefs: []
  type: TYPE_NORMAL
  zh: '**社交媒体**: [YouTube 🎥](https://www.youtube.com/channel/UCa9gErQ9AE5jT2DZLjXBIdA)
    | [LinkedIn](https://www.linkedin.com/in/shawhintalebi/) | [Twitter](https://twitter.com/ShawhinT)'
- en: '**Support**: [Buy me a coffee](https://www.buymeacoffee.com/shawhint) ☕️'
  id: totrans-130
  prefs: []
  type: TYPE_NORMAL
  zh: '**支持**: [请我喝杯咖啡](https://www.buymeacoffee.com/shawhint) ☕️'
- en: '[](https://medium.com/the-data-entrepreneurs?source=post_page-----10ce62c0ada1--------------------------------)
    [## The Data Entrepreneurs'
  id: totrans-131
  prefs: []
  type: TYPE_NORMAL
  zh: '[## 数据创业者](https://medium.com/the-data-entrepreneurs?source=post_page-----10ce62c0ada1--------------------------------)'
- en: A community for entrepreneurs in the data space. 👉 Join the Discord!
  id: totrans-132
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 一个为数据领域创业者提供的社区。 👉 加入Discord！
- en: medium.com](https://medium.com/the-data-entrepreneurs?source=post_page-----10ce62c0ada1--------------------------------)
  id: totrans-133
  prefs: []
  type: TYPE_NORMAL
  zh: '[medium.com](https://medium.com/the-data-entrepreneurs?source=post_page-----10ce62c0ada1--------------------------------)'
- en: '[1] [Scipy Kurtosis](https://docs.scipy.org/doc/scipy/reference/generated/scipy.stats.kurtosis.html#scipy.stats.kurtosis)'
  id: totrans-134
  prefs: []
  type: TYPE_NORMAL
  zh: '[1] [Scipy 峰度](https://docs.scipy.org/doc/scipy/reference/generated/scipy.stats.kurtosis.html#scipy.stats.kurtosis)'
- en: '[2] [Scipy Moment](https://docs.scipy.org/doc/scipy/reference/generated/scipy.stats.moment.html)'
  id: totrans-135
  prefs: []
  type: TYPE_NORMAL
  zh: '[2] [Scipy Moment](https://docs.scipy.org/doc/scipy/reference/generated/scipy.stats.moment.html)'
- en: '[3] [arXiv:1802.05495](https://arxiv.org/abs/1802.05495) [stat.ME]'
  id: totrans-136
  prefs: []
  type: TYPE_NORMAL
  zh: '[3] [arXiv:1802.05495](https://arxiv.org/abs/1802.05495) [stat.ME]'
- en: '[4] [https://en.wikipedia.org/wiki/Log-normal_distribution](https://en.wikipedia.org/wiki/Log-normal_distribution)'
  id: totrans-137
  prefs: []
  type: TYPE_NORMAL
  zh: '[4] [https://en.wikipedia.org/wiki/Log-normal_distribution](https://en.wikipedia.org/wiki/Log-normal_distribution)'
- en: '[5] Pham-Gia, T., & Hung, T. (2001). The mean and median absolute deviations.
    *Mathematical and Computer Modelling*, *34*(7–8), 921–936\. [https://doi.org/10.1016/S0895-7177(01)00109-1](https://doi.org/10.1016/S0895-7177(01)00109-1)'
  id: totrans-138
  prefs: []
  type: TYPE_NORMAL
  zh: '[5] Pham-Gia, T., & Hung, T. (2001). 平均绝对偏差和中位绝对偏差。*数学与计算建模*，*34*(7–8)，921–936\.
    [https://doi.org/10.1016/S0895-7177(01)00109-1](https://doi.org/10.1016/S0895-7177(01)00109-1)'
