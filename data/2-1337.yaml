- en: Introducing Pythonâ€™s Magic Methods
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: ä»‹ç» Python çš„é­”æ³•æ–¹æ³•
- en: åŸæ–‡ï¼š[https://towardsdatascience.com/introducing-pythons-magic-methods-f443ed913703](https://towardsdatascience.com/introducing-pythons-magic-methods-f443ed913703)
  id: totrans-1
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: åŸæ–‡ï¼š[https://towardsdatascience.com/introducing-pythons-magic-methods-f443ed913703](https://towardsdatascience.com/introducing-pythons-magic-methods-f443ed913703)
- en: PYTHON | PROGRAMMING
  id: totrans-2
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: PYTHON | PROGRAMMING
- en: A hands-on guide to exploiting the power of dunder functions for better programming
  id: totrans-3
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: ä¸€ä»½å…³äºåˆ©ç”¨ dunder å‡½æ•°çš„åŠ›é‡æ¥æå‡ç¼–ç¨‹æ°´å¹³çš„å®ç”¨æŒ‡å—
- en: '[](https://david-farrugia.medium.com/?source=post_page-----f443ed913703--------------------------------)[![David
    Farrugia](../Images/082ed61e24c7c26a4ae1c77343a87824.png)](https://david-farrugia.medium.com/?source=post_page-----f443ed913703--------------------------------)[](https://towardsdatascience.com/?source=post_page-----f443ed913703--------------------------------)[![Towards
    Data Science](../Images/a6ff2676ffcc0c7aad8aaf1d79379785.png)](https://towardsdatascience.com/?source=post_page-----f443ed913703--------------------------------)
    [David Farrugia](https://david-farrugia.medium.com/?source=post_page-----f443ed913703--------------------------------)'
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: '[](https://david-farrugia.medium.com/?source=post_page-----f443ed913703--------------------------------)[![David
    Farrugia](../Images/082ed61e24c7c26a4ae1c77343a87824.png)](https://david-farrugia.medium.com/?source=post_page-----f443ed913703--------------------------------)[](https://towardsdatascience.com/?source=post_page-----f443ed913703--------------------------------)[![Towards
    Data Science](../Images/a6ff2676ffcc0c7aad8aaf1d79379785.png)](https://towardsdatascience.com/?source=post_page-----f443ed913703--------------------------------)
    [David Farrugia](https://david-farrugia.medium.com/?source=post_page-----f443ed913703--------------------------------)'
- en: Â·Published in [Towards Data Science](https://towardsdatascience.com/?source=post_page-----f443ed913703--------------------------------)
    Â·7 min readÂ·May 24, 2023
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: Â·å‘è¡¨äº [Towards Data Science](https://towardsdatascience.com/?source=post_page-----f443ed913703--------------------------------)
    Â·é˜…è¯»æ—¶é•¿ 7 åˆ†é’ŸÂ·2023 å¹´ 5 æœˆ 24 æ—¥
- en: --
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: --
- en: '![](../Images/e1d07678085006aa654f8b8a1494a25c.png)'
  id: totrans-7
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/e1d07678085006aa654f8b8a1494a25c.png)'
- en: Photo by [Matt Palmer](https://unsplash.com/@mattpalmer?utm_source=medium&utm_medium=referral)
    on [Unsplash](https://unsplash.com/?utm_source=medium&utm_medium=referral)
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: ç…§ç‰‡ç”± [Matt Palmer](https://unsplash.com/@mattpalmer?utm_source=medium&utm_medium=referral)
    æä¾›ï¼Œæ¥æºäº [Unsplash](https://unsplash.com/?utm_source=medium&utm_medium=referral)
- en: Python is an awesome programming language and as found by [GitHub](https://octoverse.github.com/2022/top-programming-languages),
    itâ€™s also the second most popular language in 2022\. The most attractive benefits
    of Python is its strong community. It seems that Python has a package for any
    use-case that you might have.
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: Python æ˜¯ä¸€ç§å¾ˆæ£’çš„ç¼–ç¨‹è¯­è¨€ï¼Œ[GitHub](https://octoverse.github.com/2022/top-programming-languages)å‘ç°ï¼Œå®ƒåœ¨
    2022 å¹´ä¹Ÿæ˜¯ç¬¬äºŒå¤§çƒ­é—¨è¯­è¨€ã€‚Python æœ€å¸å¼•äººçš„ä¼˜ç‚¹æ˜¯å…¶å¼ºå¤§çš„ç¤¾åŒºã€‚ä¼¼ä¹ Python ä¸ºä½ å¯èƒ½é‡åˆ°çš„ä»»ä½•ä½¿ç”¨åœºæ™¯éƒ½æœ‰ä¸€ä¸ªåŒ…ã€‚
- en: Python has a bunch of cool features that are not common knowledge. If youâ€™re
    interested to know more, feel free to go through my previous article on the subject.
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: Python è¿˜æœ‰å¾ˆå¤šé…·ç‚«çš„ç‰¹æ€§ï¼Œè¿™äº›ç‰¹æ€§å¹¶ä¸æ˜¯å¸¸è§çš„çŸ¥è¯†ã€‚å¦‚æœä½ æœ‰å…´è¶£äº†è§£æ›´å¤šï¼Œè¯·éšæ—¶æŸ¥çœ‹æˆ‘ä¹‹å‰çš„ç›¸å…³æ–‡ç« ã€‚
- en: '[](/5-awesome-python-hidden-features-a0172e0bd98e?source=post_page-----f443ed913703--------------------------------)
    [## 5 Awesome Python Hidden Features â€” Part 1'
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: '[](/5-awesome-python-hidden-features-a0172e0bd98e?source=post_page-----f443ed913703--------------------------------)
    [## 5 ä¸ªç²¾å½©çš„ Python éšè—ç‰¹æ€§ â€” ç¬¬ 1 éƒ¨åˆ†'
- en: Take your coding skills to the next level with these cool hidden Python features
  id: totrans-12
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: é€šè¿‡è¿™äº›é…·ç‚«çš„éšè— Python ç‰¹æ€§ï¼Œå°†ä½ çš„ç¼–ç æŠ€èƒ½æå‡åˆ°æ–°æ°´å¹³
- en: towardsdatascience.com](/5-awesome-python-hidden-features-a0172e0bd98e?source=post_page-----f443ed913703--------------------------------)
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: towardsdatascience.com](/5-awesome-python-hidden-features-a0172e0bd98e?source=post_page-----f443ed913703--------------------------------)
- en: In the vast and dynamic world of Python programming, there exists a unique set
    of functions that often go unnoticed by beginners, yet they provide a significant
    importance in the languageâ€™s ecosystem. These are the magic methods (also known
    as dunder functions).
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨å¹¿é˜”è€ŒåŠ¨æ€çš„ Python ç¼–ç¨‹ä¸–ç•Œä¸­ï¼Œå­˜åœ¨ä¸€ç»„ç‹¬ç‰¹çš„å‡½æ•°ï¼Œè¿™äº›å‡½æ•°é€šå¸¸è¢«åˆå­¦è€…å¿½è§†ï¼Œä½†å®ƒä»¬åœ¨è¯­è¨€çš„ç”Ÿæ€ç³»ç»Ÿä¸­å…·æœ‰é‡è¦æ„ä¹‰ã€‚è¿™äº›å°±æ˜¯é­”æ³•æ–¹æ³•ï¼ˆä¹Ÿç§°ä¸º
    dunder å‡½æ•°ï¼‰ã€‚
- en: Magic methods are a set of predefined methods in Python that provide special
    syntactic features. They are easily recognisable by their double underscores at
    the beginning and end, such as `__init__`, `__call__`, `__len__`, etc.
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: é­”æ³•æ–¹æ³•æ˜¯ä¸€ç»„åœ¨ Python ä¸­é¢„å®šä¹‰çš„æ–¹æ³•ï¼Œæä¾›äº†ç‰¹æ®Šçš„è¯­æ³•ç‰¹æ€§ã€‚å®ƒä»¬é€šè¿‡å…¶å‰åæœ‰åŒä¸‹åˆ’çº¿æ¥è½»æ¾è¯†åˆ«ï¼Œä¾‹å¦‚ `__init__`ã€`__call__`ã€`__len__`
    ç­‰ç­‰ã€‚
- en: Magic methods serve a crucial role in defining how objects of a class behave
    with respect to various Python operations. Essentially, they allow custom objects
    to behave similar to built-in Python types. The direct benefit here is enhancing
    Pythonâ€™s consistency and intuitiveness.
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: é­”æ³•æ–¹æ³•åœ¨å®šä¹‰ç±»çš„å¯¹è±¡å¦‚ä½•å¤„ç†å„ç§ Python æ“ä½œæ–¹é¢å‘æŒ¥äº†å…³é”®ä½œç”¨ã€‚å®è´¨ä¸Šï¼Œå®ƒä»¬å…è®¸è‡ªå®šä¹‰å¯¹è±¡è¡¨ç°å¾—ç±»ä¼¼äºå†…ç½®çš„ Python ç±»å‹ã€‚ç›´æ¥çš„å¥½å¤„æ˜¯å¢å¼ºäº†
    Python çš„ä¸€è‡´æ€§å’Œç›´è§‚æ€§ã€‚
- en: In this article, we will focus on and discuss the magic behind the powerful
    dunder function. Weâ€™ll explore their purpose and discuss their usage.
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬å°†ä¸“æ³¨äºå¹¶è®¨è®ºå¼ºå¤§çš„Dunderå‡½æ•°èƒŒåçš„é­”æ³•ã€‚æˆ‘ä»¬å°†æ¢è®¨å®ƒä»¬çš„ç›®çš„å¹¶è®¨è®ºå®ƒä»¬çš„ä½¿ç”¨ã€‚
- en: Whether youâ€™re a Python novice or a seasoned programmer, this guide aims to
    provide a comprehensive understanding of Dunder functions, making your Python
    coding experience more efficient and enjoyable.
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: æ— è®ºä½ æ˜¯Pythonæ–°æ‰‹è¿˜æ˜¯ç»éªŒä¸°å¯Œçš„ç¨‹åºå‘˜ï¼Œæœ¬æŒ‡å—æ—¨åœ¨æä¾›å¯¹Dunderå‡½æ•°çš„å…¨é¢ç†è§£ï¼Œä½¿ä½ çš„Pythonç¼–ç¨‹ä½“éªŒæ›´åŠ é«˜æ•ˆå’Œæ„‰å¿«ã€‚
- en: Remember, the magic of Python lies not just in its simplicity and versatility,
    but also in its powerful features like Dunder functions. So, letâ€™s unravel the
    magic together!
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: è®°ä½ï¼ŒPythonçš„é­”åŠ›ä¸ä»…åœ¨äºå®ƒçš„ç®€å•æ€§å’Œå¤šæ ·æ€§ï¼Œè¿˜åœ¨äºåƒDunderå‡½æ•°è¿™æ ·çš„å¼ºå¤§åŠŸèƒ½ã€‚æ‰€ä»¥ï¼Œè®©æˆ‘ä»¬ä¸€èµ·æ­å¼€é­”æ³•çš„é¢çº±å§ï¼
- en: The __init__
  id: totrans-20
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '`__init__`'
- en: Perhaps the most basic dunder function of them all is the `__init__`. This is
    the magic method that Python automatically calls whenever we create (or as the
    name implies, initialise) a new object.
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: ä¹Ÿè®¸æ‰€æœ‰Dunderå‡½æ•°ä¸­æœ€åŸºæœ¬çš„æ˜¯`__init__`ã€‚è¿™æ˜¯Pythonåœ¨æˆ‘ä»¬åˆ›å»ºï¼ˆæˆ–å¦‚åç§°æ‰€ç¤ºï¼Œåˆå§‹åŒ–ï¼‰ä¸€ä¸ªæ–°å¯¹è±¡æ—¶è‡ªåŠ¨è°ƒç”¨çš„é­”æ³•æ–¹æ³•ã€‚
- en: '[PRE0]'
  id: totrans-22
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: We create a class called `Pizza`. We set our `__init__` function to take in
    the size and toppings parameters that we specify at initialisation and set them
    as properties to our custom object.
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªåä¸º`Pizza`çš„ç±»ã€‚æˆ‘ä»¬å°†`__init__`å‡½æ•°è®¾ç½®ä¸ºæ¥å—åˆå§‹åŒ–æ—¶æŒ‡å®šçš„å¤§å°å’Œé…æ–™å‚æ•°ï¼Œå¹¶å°†å®ƒä»¬è®¾ç½®ä¸ºè‡ªå®šä¹‰å¯¹è±¡çš„å±æ€§ã€‚
- en: 'Here, `self` is used to represent the instance of the class. So when we say
    `self.size = size`, we''re saying: "Hey, this pizza object has an attribute size,
    and I want it to be whatever size I provided when I created the object."'
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨è¿™é‡Œï¼Œ`self`ç”¨äºè¡¨ç¤ºç±»çš„å®ä¾‹ã€‚æ‰€ä»¥å½“æˆ‘ä»¬è¯´`self.size = size`æ—¶ï¼Œæˆ‘ä»¬æ˜¯åœ¨è¯´ï¼šâ€œå˜¿ï¼Œè¿™ä¸ªpizzaå¯¹è±¡æœ‰ä¸€ä¸ªå±æ€§sizeï¼Œæˆ‘æƒ³å®ƒæ˜¯æˆ‘åœ¨åˆ›å»ºå¯¹è±¡æ—¶æä¾›çš„å¤§å°ã€‚â€
- en: The __str__ and __repr__
  id: totrans-25
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '`__str__`å’Œ`__repr__`'
- en: __str__
  id: totrans-26
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: '`__str__`'
- en: 'This is Pythonâ€™s magic method that allows us to define a desription for our
    custom object. Itâ€™s essentially answering the question:'
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™æ˜¯Pythonçš„é­”æ³•æ–¹æ³•ï¼Œå…è®¸æˆ‘ä»¬ä¸ºè‡ªå®šä¹‰å¯¹è±¡å®šä¹‰æè¿°ã€‚å®ƒæœ¬è´¨ä¸Šæ˜¯åœ¨å›ç­”ä»¥ä¸‹é—®é¢˜ï¼š
- en: '"How would you describe this object to a friend over coffee?"'
  id: totrans-28
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: â€œä½ ä¼šå¦‚ä½•å‘æœ‹å‹æè¿°è¿™ä¸ªå¯¹è±¡ï¼Ÿâ€
- en: When you print an object or convert it to a string using `str()`, Python checks
    to see if you've defined a `__str__` method for the class of that object.
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: å½“ä½ ä½¿ç”¨`str()`æ‰“å°å¯¹è±¡æˆ–å°†å…¶è½¬æ¢ä¸ºå­—ç¬¦ä¸²æ—¶ï¼ŒPythonä¼šæ£€æŸ¥ä½ æ˜¯å¦ä¸ºè¯¥å¯¹è±¡çš„ç±»å®šä¹‰äº†`__str__`æ–¹æ³•ã€‚
- en: If you have, it uses that method to convert the object to a string.
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: å¦‚æœä½ æœ‰ï¼Œå®ƒä¼šä½¿ç”¨é‚£ä¸ªæ–¹æ³•å°†å¯¹è±¡è½¬æ¢ä¸ºå­—ç¬¦ä¸²ã€‚
- en: 'We can extend our Pizza example to include a __str__ function as follows:'
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬å¯ä»¥æ‰©å±•æˆ‘ä»¬çš„Pizzaç¤ºä¾‹ï¼ŒåŠ å…¥ä¸€ä¸ª`__str__`å‡½æ•°ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š
- en: '[PRE1]'
  id: totrans-32
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: '`__repr__`'
  id: totrans-33
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: '`__repr__`'
- en: The `__str__` function is more of an informal way of describing the properties
    of an object. On the other hand, `__repr__` is used to provide a more formal,
    detailed, and unambiguous description of the custom object.
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: '`__str__`å‡½æ•°æ›´åƒæ˜¯æè¿°å¯¹è±¡å±æ€§çš„éæ­£å¼æ–¹å¼ã€‚å¦ä¸€æ–¹é¢ï¼Œ`__repr__`ç”¨äºæä¾›ä¸€ä¸ªæ›´æ­£å¼ã€è¯¦ç»†å’Œæ˜ç¡®çš„è‡ªå®šä¹‰å¯¹è±¡æè¿°ã€‚'
- en: If you call `repr()` on an object, or just type the object's name in the console,
    Python will look for a `__repr__` method.
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: å¦‚æœä½ åœ¨å¯¹è±¡ä¸Šè°ƒç”¨`repr()`ï¼Œæˆ–è€…åœ¨æ§åˆ¶å°ä¸­è¾“å…¥å¯¹è±¡çš„åç§°ï¼ŒPythonå°†æŸ¥æ‰¾`__repr__`æ–¹æ³•ã€‚
- en: If `__str__` isn't defined, Python will use `__repr__` as a backup when trying
    to print the object or convert it to a string. So it's often a good idea to at
    least define `__repr__`, even if you don't define `__str__`.
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: å¦‚æœ`__str__`æ²¡æœ‰å®šä¹‰ï¼ŒPythonä¼šä½¿ç”¨`__repr__`ä½œä¸ºå¤‡ä»½æ¥æ‰“å°å¯¹è±¡æˆ–å°†å…¶è½¬æ¢ä¸ºå­—ç¬¦ä¸²ã€‚å› æ­¤ï¼Œè‡³å°‘å®šä¹‰`__repr__`é€šå¸¸æ˜¯ä¸€ä¸ªå¥½ä¸»æ„ï¼Œå³ä½¿ä½ ä¸å®šä¹‰`__str__`ã€‚
- en: 'Hereâ€™s how we could define `__repr__` for our pizza example:'
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸‹é¢æ˜¯æˆ‘ä»¬å¯ä»¥ä¸ºæˆ‘ä»¬çš„pizzaç¤ºä¾‹å®šä¹‰`__repr__`çš„æ–¹æ³•ï¼š
- en: '[PRE2]'
  id: totrans-38
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: You see, `__repr__` gives you a string that you could run as a Python command
    to recreate the pizza object, while `__str__` gives you a more human-friendly
    description. Hope that helps you chew on these dunder methods a bit better!
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: ä½ çœ‹ï¼Œ`__repr__`ä¼šç»™ä½ ä¸€ä¸ªå¯ä»¥ä½œä¸ºPythonå‘½ä»¤è¿è¡Œçš„å­—ç¬¦ä¸²ï¼Œä»¥é‡å»ºpizzaå¯¹è±¡ï¼Œè€Œ`__str__`åˆ™æä¾›äº†ä¸€ä¸ªæ›´æ˜“äºç†è§£çš„æè¿°ã€‚å¸Œæœ›è¿™æœ‰åŠ©äºä½ æ›´å¥½åœ°ç†è§£è¿™äº›é­”æ³•æ–¹æ³•ï¼
- en: The __add__
  id: totrans-40
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '`__add__`'
- en: In Python, we all know that you can add numbers together using the `+` operator,
    like `3 + 5`.
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨Pythonä¸­ï¼Œæˆ‘ä»¬éƒ½çŸ¥é“ä½ å¯ä»¥ä½¿ç”¨`+`è¿ç®—ç¬¦å°†æ•°å­—ç›¸åŠ ï¼Œä¾‹å¦‚`3 + 5`ã€‚
- en: But if we want to add instances of some custom object? The `__add__` dunder
    function allows us to do just that. It gives us the ability to define the behaviour
    of the `+` operator on our custom objects.
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: ä½†æ˜¯å¦‚æœæˆ‘ä»¬æƒ³æ·»åŠ ä¸€äº›è‡ªå®šä¹‰å¯¹è±¡çš„å®ä¾‹å‘¢ï¼Ÿ`__add__` Dunderå‡½æ•°å…è®¸æˆ‘ä»¬åšåˆ°è¿™ä¸€ç‚¹ã€‚å®ƒä½¿æˆ‘ä»¬èƒ½å¤Ÿå®šä¹‰`+`è¿ç®—ç¬¦åœ¨è‡ªå®šä¹‰å¯¹è±¡ä¸Šçš„è¡Œä¸ºã€‚
- en: 'In the interest of consistency, suppost that we want to define `+` behaviour
    on our pizza example. Letâ€™s say that whenever we add two or more pizzas together,
    it will automatically combine all of their toppings. Hereâ€™s how that might look:'
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸ºäº†ä¿æŒä¸€è‡´æ€§ï¼Œå‡è®¾æˆ‘ä»¬æƒ³è¦åœ¨æˆ‘ä»¬çš„æŠ«è¨ç¤ºä¾‹ä¸­å®šä¹‰ `+` è¡Œä¸ºã€‚å‡è®¾æ¯å½“æˆ‘ä»¬å°†ä¸¤å¼ æˆ–æ›´å¤šçš„æŠ«è¨ç›¸åŠ æ—¶ï¼Œå®ƒå°†è‡ªåŠ¨åˆå¹¶æ‰€æœ‰çš„é…æ–™ã€‚ä»¥ä¸‹æ˜¯å®ƒå¯èƒ½çš„å®ç°æ–¹å¼ï¼š
- en: '[PRE3]'
  id: totrans-44
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: Similarly to the `__add__` dunder, we also can define other arithmetic functions
    such as `__sub__` (for subtraction using the `â€”` operator) and `__mul__` (for
    multiplication using the `*` operator).
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: ç±»ä¼¼äº `__add__` åŒä¸‹åˆ’çº¿æ–¹æ³•ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥å®šä¹‰å…¶ä»–ç®—æœ¯å‡½æ•°ï¼Œæ¯”å¦‚ `__sub__`ï¼ˆç”¨äºä½¿ç”¨ `â€”` æ“ä½œç¬¦è¿›è¡Œå‡æ³•ï¼‰å’Œ `__mul__`ï¼ˆç”¨äºä½¿ç”¨
    `*` æ“ä½œç¬¦è¿›è¡Œä¹˜æ³•ï¼‰ã€‚
- en: The __len__
  id: totrans-46
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: __len__
- en: This dunder method allows us to define what the `len()` function should return
    for our custom objects.
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™ä¸ªåŒä¸‹åˆ’çº¿æ–¹æ³•å…è®¸æˆ‘ä»¬å®šä¹‰ `len()` å‡½æ•°å¯¹äºæˆ‘ä»¬è‡ªå®šä¹‰å¯¹è±¡åº”è¿”å›çš„å†…å®¹ã€‚
- en: Python uses `len()` to get the length or size of a data structure like a list
    or a string.
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: Python ä½¿ç”¨ `len()` æ¥è·å–æ•°æ®ç»“æ„çš„é•¿åº¦æˆ–å¤§å°ï¼Œæ¯”å¦‚åˆ—è¡¨æˆ–å­—ç¬¦ä¸²ã€‚
- en: 'In the context of our Pizza class, we could say the â€œlengthâ€ of a pizza is
    the number of toppings it has. Hereâ€™s how we could implement that:'
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨æˆ‘ä»¬çš„æŠ«è¨ç±»çš„ä¸Šä¸‹æ–‡ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥è¯´æŠ«è¨çš„â€œé•¿åº¦â€æ˜¯å®ƒæ‹¥æœ‰çš„é…æ–™æ•°é‡ã€‚ä»¥ä¸‹æ˜¯æˆ‘ä»¬å¯ä»¥å®ç°è¿™ä¸€ç‚¹çš„æ–¹æ³•ï¼š
- en: '[PRE4]'
  id: totrans-50
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: In the `__len__` method, we just return the length of the `toppings` list. Now,
    `len(my_pizza)` will tell us how many toppings are on `my_pizza`.
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨ `__len__` æ–¹æ³•ä¸­ï¼Œæˆ‘ä»¬ä»…è¿”å› `toppings` åˆ—è¡¨çš„é•¿åº¦ã€‚ç°åœ¨ï¼Œ`len(my_pizza)` å°†å‘Šè¯‰æˆ‘ä»¬ `my_pizza` ä¸Šæœ‰å¤šå°‘ä¸ªé…æ–™ã€‚
- en: '**Note:**'
  id: totrans-52
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '**æ³¨æ„ï¼š**'
- en: ''
  id: totrans-53
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '`__len__` should always return an integer, and it''s expected to be a non-negative
    value. Negative toppings would just be weird, wouldn''t they?'
  id: totrans-54
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '`__len__` åº”è¯¥å§‹ç»ˆè¿”å›ä¸€ä¸ªæ•´æ•°ï¼Œå¹¶ä¸”é¢„æœŸæ˜¯ä¸€ä¸ªéè´Ÿå€¼ã€‚è´Ÿé…æ–™åªæ˜¯æ€ªå¼‚ï¼Œä¸æ˜¯å—ï¼Ÿ'
- en: The __iter__
  id: totrans-55
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: __iter__
- en: This dunder method allows your objects to be iterable â€” i.e., can be used in
    a for loop.
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™ä¸ªåŒä¸‹åˆ’çº¿æ–¹æ³•å…è®¸ä½ çš„å¯¹è±¡æ˜¯å¯è¿­ä»£çš„â€”â€”ä¹Ÿå°±æ˜¯è¯´ï¼Œå¯ä»¥åœ¨ `for` å¾ªç¯ä¸­ä½¿ç”¨ã€‚
- en: To do this, we also need to define the `__next__` function, This is used to
    define the behaviour that should return the next value in the iteration. Additionally,
    it also should signal to the iterable on the event that there are no more items
    in the sequence. We typically achieve this by raising a `StopIteration` exception.
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸ºæ­¤ï¼Œæˆ‘ä»¬è¿˜éœ€è¦å®šä¹‰ `__next__` å‡½æ•°ã€‚è¿™ä¸ªå‡½æ•°ç”¨äºå®šä¹‰è¿”å›è¿­ä»£ä¸­çš„ä¸‹ä¸€ä¸ªå€¼çš„è¡Œä¸ºã€‚æ­¤å¤–ï¼Œå®ƒè¿˜åº”è¯¥åœ¨åºåˆ—ä¸­æ²¡æœ‰æ›´å¤šé¡¹ç›®æ—¶å‘å¯è¿­ä»£å¯¹è±¡å‘å‡ºä¿¡å·ã€‚æˆ‘ä»¬é€šå¸¸é€šè¿‡å¼•å‘
    `StopIteration` å¼‚å¸¸æ¥å®ç°è¿™ä¸€ç‚¹ã€‚
- en: 'For our pizza example, letâ€™s say we want to iterate over the toppings. We could
    make our Pizza class iterable by defining an `__iter__` method like this:'
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: å¯¹äºæˆ‘ä»¬çš„æŠ«è¨ç¤ºä¾‹ï¼Œå‡è®¾æˆ‘ä»¬æƒ³è¦è¿­ä»£é…æ–™ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡å®šä¹‰ `__iter__` æ–¹æ³•ä½¿æˆ‘ä»¬çš„æŠ«è¨ç±»å¯è¿­ä»£ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š
- en: '[PRE5]'
  id: totrans-59
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: In this case, the for loop calls `__iter__`, which initialises a counter (`self.n`)
    and returns the pizza object itself (`self`).
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œ`for` å¾ªç¯è°ƒç”¨ `__iter__`ï¼Œå®ƒåˆå§‹åŒ–ä¸€ä¸ªè®¡æ•°å™¨ï¼ˆ`self.n`ï¼‰å¹¶è¿”å›æŠ«è¨å¯¹è±¡æœ¬èº«ï¼ˆ`self`ï¼‰ã€‚
- en: Then, the for loop calls `__next__` to get each topping in turn.
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: ç„¶åï¼Œ`for` å¾ªç¯è°ƒç”¨ `__next__` æ¥ä¾æ¬¡è·å–æ¯ä¸ªé…æ–™ã€‚
- en: When `__next__` has returned all the toppings, it raises a `StopIteration` exception,
    and the for loop now knows that there are no more toppings left and will therefore
    stop the iteration process.
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: å½“ `__next__` è¿”å›äº†æ‰€æœ‰é…æ–™åï¼Œå®ƒä¼šå¼•å‘ `StopIteration` å¼‚å¸¸ï¼Œç„¶å `for` å¾ªç¯ç°åœ¨çŸ¥é“æ²¡æœ‰æ›´å¤šçš„é…æ–™äº†ï¼Œå› æ­¤å°†åœæ­¢è¿­ä»£è¿‡ç¨‹ã€‚
- en: Concluding Remarks
  id: totrans-63
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: ç»“è®º
- en: In conclusion, itâ€™s evident that magic methods are truly at the heart of the
    Python language.
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: æ€»ä¹‹ï¼Œå¾ˆæ˜æ˜¾ï¼Œé­”æ³•æ–¹æ³•ç¡®å®æ˜¯ Python è¯­è¨€çš„æ ¸å¿ƒã€‚
- en: They form the foundation for many of Pythonâ€™s built-in operations, giving us
    the developers the necessary freedom to personalise the behavior of our objects
    in a manner that aligns with the rest of the languageâ€™s usage.
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: å®ƒä»¬æ„æˆäº†è®¸å¤š Python å†…ç½®æ“ä½œçš„åŸºç¡€ï¼Œä¸ºæˆ‘ä»¬å¼€å‘è€…æä¾›äº†å¿…è¦çš„è‡ªç”±åº¦ï¼Œä»¥ä¾¿ä»¥ä¸è¯­è¨€å…¶ä½™éƒ¨åˆ†çš„ç”¨æ³•ä¸€è‡´çš„æ–¹å¼ä¸ªæ€§åŒ–æˆ‘ä»¬å¯¹è±¡çš„è¡Œä¸ºã€‚
- en: 'In this article, we disucssed how Dunder functions such as `__init__`, `__iter__`,
    and `__len__` can be exploited to meet our requirements. You can find a full list
    of all the dunder methods allowed by python here:'
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬è®¨è®ºäº†å¦‚ä½•åˆ©ç”¨åŒä¸‹åˆ’çº¿å‡½æ•°ï¼Œå¦‚ `__init__`ã€`__iter__` å’Œ `__len__`ï¼Œæ¥æ»¡è¶³æˆ‘ä»¬çš„éœ€æ±‚ã€‚ä½ å¯ä»¥åœ¨è¿™é‡Œæ‰¾åˆ° Python
    å…è®¸çš„æ‰€æœ‰åŒä¸‹åˆ’çº¿æ–¹æ³•çš„å®Œæ•´åˆ—è¡¨ï¼š
- en: '[](https://mathspp.com/blog/pydonts/dunder-methods?source=post_page-----f443ed913703--------------------------------)
    [## mathspp - take your Python ğŸ to the next level ğŸš€'
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: '[](https://mathspp.com/blog/pydonts/dunder-methods?source=post_page-----f443ed913703--------------------------------)
    [## mathspp - å°†ä½ çš„ Python ğŸ æå‡åˆ°ä¸‹ä¸€ä¸ªæ°´å¹³ ğŸš€'
- en: This is an introduction to dunder methods in Python, to help you understand
    what they are and what they are for. (Ifâ€¦
  id: totrans-68
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: è¿™æ˜¯å¯¹ Python ä¸­åŒä¸‹åˆ’çº¿æ–¹æ³•çš„ä»‹ç»ï¼Œå¸®åŠ©ä½ ç†è§£å®ƒä»¬æ˜¯ä»€ä¹ˆä»¥åŠå®ƒä»¬çš„ä½œç”¨ã€‚ï¼ˆå¦‚æœâ€¦
- en: mathspp.com](https://mathspp.com/blog/pydonts/dunder-methods?source=post_page-----f443ed913703--------------------------------)
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: '[mathspp.com](https://mathspp.com/blog/pydonts/dunder-methods?source=post_page-----f443ed913703--------------------------------)'
- en: '**Did you enjoy this post? For $5/month, you can become a member to unlock
    unlimited access to Medium. You will be directly supporting me and all your other
    favourite writers on Medium. So huge thanks for that!**'
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: '**ä½ å–œæ¬¢è¿™ç¯‡æ–‡ç« å—ï¼Ÿæ¯æœˆ$5ï¼Œä½ å¯ä»¥æˆä¸ºä¼šå‘˜ï¼Œè§£é”æ— é™è®¿é—®Mediumçš„æƒé™ã€‚ä½ å°†ç›´æ¥æ”¯æŒæˆ‘å’Œä½ åœ¨Mediumä¸Šå–œçˆ±çš„æ‰€æœ‰å…¶ä»–ä½œå®¶ã€‚éå¸¸æ„Ÿè°¢ï¼**'
- en: '[](https://david-farrugia.medium.com/membership?source=post_page-----f443ed913703--------------------------------)
    [## Join Medium with my referral link - David Farrugia'
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: '[## é€šè¿‡æˆ‘çš„æ¨èé“¾æ¥åŠ å…¥Medium - David Farrugia](https://david-farrugia.medium.com/membership?source=post_page-----f443ed913703--------------------------------)'
- en: Get exclusive access to all my âš¡premiumâš¡ content and all over Medium without
    limits. Support my work by buying me aâ€¦
  id: totrans-72
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: è·å–å¯¹æˆ‘æ‰€æœ‰âš¡é«˜çº§âš¡å†…å®¹å’ŒMediumä¸Šæ— é™åˆ¶çš„è®¿é—®æƒé™ã€‚é€šè¿‡ä¹°ä¸€æ¯å’–å•¡æ”¯æŒæˆ‘çš„å·¥ä½œâ€¦
- en: david-farrugia.medium.com](https://david-farrugia.medium.com/membership?source=post_page-----f443ed913703--------------------------------)
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: '[david-farrugia.medium.com](https://david-farrugia.medium.com/membership?source=post_page-----f443ed913703--------------------------------)'
- en: Want to Get in Touch?
  id: totrans-74
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: æƒ³è¦è”ç³»æˆ‘å—ï¼Ÿ
- en: I would love to hear your thoughts on the topic, or anything AI and Data.
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘éå¸¸æƒ³å¬å¬ä½ å¯¹è¿™ä¸ªè¯é¢˜æˆ–å…³äºAIå’Œæ•°æ®çš„ä»»ä½•æƒ³æ³•ã€‚
- en: Drop me an email at ***davidfarrugia53@gmail.com*** should you wish to get in
    touch.
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: å¦‚æœä½ å¸Œæœ›è”ç³»æˆ‘ï¼Œè¯·å‘é‚®ä»¶è‡³ ***davidfarrugia53@gmail.com***ã€‚
- en: '[Linkedin](https://www.linkedin.com/in/david-farrugia/)'
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
  zh: '[Linkedin](https://www.linkedin.com/in/david-farrugia/)'
