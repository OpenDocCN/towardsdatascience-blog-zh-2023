- en: Modeling the Traveling Salesman Problem from first principles
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: ä»åŸºæœ¬åŸç†å»ºæ¨¡æ—…è¡Œæ¨é”€å‘˜é—®é¢˜
- en: åŸæ–‡ï¼š[https://towardsdatascience.com/modeling-the-traveling-salesman-problem-from-first-principles-bd6530c9c07?source=collection_archive---------1-----------------------#2023-05-14](https://towardsdatascience.com/modeling-the-traveling-salesman-problem-from-first-principles-bd6530c9c07?source=collection_archive---------1-----------------------#2023-05-14)
  id: totrans-1
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: åŸæ–‡ï¼š[https://towardsdatascience.com/modeling-the-traveling-salesman-problem-from-first-principles-bd6530c9c07?source=collection_archive---------1-----------------------#2023-05-14](https://towardsdatascience.com/modeling-the-traveling-salesman-problem-from-first-principles-bd6530c9c07?source=collection_archive---------1-----------------------#2023-05-14)
- en: A concepts-first, math-second approach to modeling the most well-known routing
    problem in Operations Research
  id: totrans-2
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: ä¸€ç§æ¦‚å¿µä¼˜å…ˆã€æ•°å­¦å…¶æ¬¡çš„å»ºæ¨¡æ–¹æ³•ï¼Œåº”ç”¨äºè¿è¥ç ”ç©¶ä¸­æœ€è‘—åçš„è·¯çº¿é—®é¢˜
- en: '[](https://medium.com/@carlosjuribe?source=post_page-----bd6530c9c07--------------------------------)[![Carlos
    J. Uribe](../Images/902c5f4ac5d404dd99916f145be6756c.png)](https://medium.com/@carlosjuribe?source=post_page-----bd6530c9c07--------------------------------)[](https://towardsdatascience.com/?source=post_page-----bd6530c9c07--------------------------------)[![Towards
    Data Science](../Images/a6ff2676ffcc0c7aad8aaf1d79379785.png)](https://towardsdatascience.com/?source=post_page-----bd6530c9c07--------------------------------)
    [Carlos J. Uribe](https://medium.com/@carlosjuribe?source=post_page-----bd6530c9c07--------------------------------)'
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: '[](https://medium.com/@carlosjuribe?source=post_page-----bd6530c9c07--------------------------------)[![Carlos
    J. Uribe](../Images/902c5f4ac5d404dd99916f145be6756c.png)](https://medium.com/@carlosjuribe?source=post_page-----bd6530c9c07--------------------------------)[](https://towardsdatascience.com/?source=post_page-----bd6530c9c07--------------------------------)[![Towards
    Data Science](../Images/a6ff2676ffcc0c7aad8aaf1d79379785.png)](https://towardsdatascience.com/?source=post_page-----bd6530c9c07--------------------------------)
    [Carlos J. Uribe](https://medium.com/@carlosjuribe?source=post_page-----bd6530c9c07--------------------------------)'
- en: Â·
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: Â·
- en: '[Follow](https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F4337eddb94ed&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmodeling-the-traveling-salesman-problem-from-first-principles-bd6530c9c07&user=Carlos+J.+Uribe&userId=4337eddb94ed&source=post_page-4337eddb94ed----bd6530c9c07---------------------post_header-----------)
    Published in [Towards Data Science](https://towardsdatascience.com/?source=post_page-----bd6530c9c07--------------------------------)
    Â·15 min readÂ·May 14, 2023[](https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2Fbd6530c9c07&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmodeling-the-traveling-salesman-problem-from-first-principles-bd6530c9c07&user=Carlos+J.+Uribe&userId=4337eddb94ed&source=-----bd6530c9c07---------------------clap_footer-----------)'
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: '[å…³æ³¨](https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F4337eddb94ed&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmodeling-the-traveling-salesman-problem-from-first-principles-bd6530c9c07&user=Carlos+J.+Uribe&userId=4337eddb94ed&source=post_page-4337eddb94ed----bd6530c9c07---------------------post_header-----------)
    å‘è¡¨åœ¨ [Towards Data Science](https://towardsdatascience.com/?source=post_page-----bd6530c9c07--------------------------------)
    Â·15åˆ†é’Ÿé˜…è¯»Â·2023å¹´5æœˆ14æ—¥'
- en: --
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: --
- en: '[](https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fbd6530c9c07&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmodeling-the-traveling-salesman-problem-from-first-principles-bd6530c9c07&source=-----bd6530c9c07---------------------bookmark_footer-----------)![](../Images/eb338d2b5f2eb31841f667fa8c183c65.png)'
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: '[](https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fbd6530c9c07&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmodeling-the-traveling-salesman-problem-from-first-principles-bd6530c9c07&source=-----bd6530c9c07---------------------bookmark_footer-----------)![](../Images/eb338d2b5f2eb31841f667fa8c183c65.png)'
- en: 'Image generated by DALLÂ·E 3 with authorâ€™s prompt: â€œa map displaying the typical
    tourist route in Paris with equations scattered throughoutâ€'
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: ç”± DALLÂ·E 3 æ ¹æ®ä½œè€…çš„æç¤ºç”Ÿæˆçš„å›¾åƒï¼šâ€œä¸€å¼ å±•ç¤ºå·´é»å…¸å‹æ—…æ¸¸è·¯çº¿çš„åœ°å›¾ï¼Œæ–¹ç¨‹å¼æ•£å¸ƒå…¶é—´â€
- en: '*ğŸ‘ï¸* **This is article #2 of the series covering the project â€œ**[**An Intelligent
    Decision Support System for Tourism in Python**](https://medium.com/@carlosjuribe/list/an-intelligent-decision-support-system-for-tourism-in-python-b6ba165b4236)**â€.**
    I encourage you to check it out to get a general overview of the whole project.
    If youâ€™re only interested in how to model the TSP, youâ€™re still at the right place,
    as this article is self-contained. **If youâ€™re** **also interested in solving
    the problem**, not just modeling it, youâ€™ll love the next 5 articles of the series.
    Trust me, theyâ€™ll provide you with what you need and what you didnâ€™t know you
    needed *ğŸ˜‰*'
  id: totrans-9
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '*ğŸ‘ï¸* **è¿™æ˜¯ç³»åˆ—æ–‡ç« çš„ç¬¬2ç¯‡ï¼Œæ¶µç›–äº†é¡¹ç›®â€œ**[**Pythonä¸­çš„æ™ºèƒ½å†³ç­–æ”¯æŒç³»ç»Ÿ**](https://medium.com/@carlosjuribe/list/an-intelligent-decision-support-system-for-tourism-in-python-b6ba165b4236)**â€ã€‚**
    æˆ‘é¼“åŠ±ä½ æŸ¥çœ‹å®ƒï¼Œä»¥è·å¾—æ•´ä¸ªé¡¹ç›®çš„ä¸€èˆ¬æ¦‚è¿°ã€‚å¦‚æœä½ åªå¯¹å¦‚ä½•å»ºæ¨¡TSPæ„Ÿå…´è¶£ï¼Œä½ ä»ç„¶åœ¨æ­£ç¡®çš„åœ°æ–¹ï¼Œå› ä¸ºè¿™ç¯‡æ–‡ç« æ˜¯ç‹¬ç«‹çš„ã€‚**å¦‚æœä½ ** **ä¹Ÿå¯¹è§£å†³é—®é¢˜æ„Ÿå…´è¶£**ï¼Œè€Œä¸ä»…ä»…æ˜¯å»ºæ¨¡å®ƒï¼Œä½ ä¼šå–œæ¬¢ç³»åˆ—çš„æ¥ä¸‹æ¥5ç¯‡æ–‡ç« ã€‚ç›¸ä¿¡æˆ‘ï¼Œå®ƒä»¬ä¼šæä¾›ä½ éœ€è¦çš„å’Œä½ ä¸çŸ¥é“ä½ éœ€è¦çš„*ğŸ˜‰*'
- en: Table of contents
  id: totrans-10
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: ç›®å½•
- en: '[**1\. Motivation and purpose**](#e5c2)'
  id: totrans-11
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: '[**1\. åŠ¨æœºå’Œç›®çš„**](#e5c2)'
- en: '[**2\. Understanding the data**](#e164)'
  id: totrans-12
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: '[**2\. ç†è§£æ•°æ®**](#e164)'
- en: '[**3\. Defining a conceptual model from the problem description**](#9b59)'
  id: totrans-13
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: '[**3\. ä»é—®é¢˜æè¿°ä¸­å®šä¹‰æ¦‚å¿µæ¨¡å‹**](#9b59)'
- en: '[**4\. Building a mathematical model from the conceptual model**](#d2ba)'
  id: totrans-14
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: '[**4\. ä»æ¦‚å¿µæ¨¡å‹æ„å»ºæ•°å­¦æ¨¡å‹**](#d2ba)'
- en: '[4.1\. Putting the data in Sets and Parameters](#94fd)'
  id: totrans-15
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[4.1\. å°†æ•°æ®æ”¾å…¥é›†åˆå’Œå‚æ•°](#94fd)'
- en: '[4.2\. Encoding decisions in Variables](#b192)'
  id: totrans-16
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[4.2\. åœ¨å˜é‡ä¸­ç¼–ç å†³ç­–](#b192)'
- en: '[4.3\. Defining the Objective](#8d7b)'
  id: totrans-17
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[4.3\. å®šä¹‰ç›®æ ‡](#8d7b)'
- en: '[4.4\. Creating the Constraints](#6582)'
  id: totrans-18
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[4.4\. åˆ›å»ºçº¦æŸæ¡ä»¶](#6582)'
- en: 1\. Motivation and purpose
  id: totrans-19
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 1\. åŠ¨æœºå’Œç›®çš„
- en: This article continues right where [the article for sprint 1](https://medium.com/@carlosjuribe/plan-an-optimal-trip-for-your-next-holidays-with-the-help-of-operations-research-and-python-481b1ea38fef)
    left off. You donâ€™t need to have read it to understand what weâ€™ll do here, but
    let me give you a quick recap (feel free to jump to section 2 if you did read
    the previous article). In a nutshell, we laid out the common problems that tourists
    face when planning a trip, and we set out to build a system that can *help us
    plan trips more effectively*, speeding up decision-making, or even fully automating
    the schedule for any given trip. We observed that stated like that, the problem
    is too complex, so we decomposed it and arrived at its essential version, and
    we called it the **minimum valuable problem**. In the end, we concluded that it
    took the form of the [Traveling Salesman Problem](https://en.wikipedia.org/wiki/Travelling_salesman_problem)
    (TSP), where the â€œcitiesâ€ that the proverbial salesman must visit correspond,
    in our version, to the â€œsites of interestâ€ in a city that a tourist desires to
    visit.
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: '-   æœ¬æ–‡æ¥ç€[ç¬¬ä¸€é˜¶æ®µæ–‡ç« ](https://medium.com/@carlosjuribe/plan-an-optimal-trip-for-your-next-holidays-with-the-help-of-operations-research-and-python-481b1ea38fef)çš„å†…å®¹ã€‚ä½ ä¸éœ€è¦é˜…è¯»å®ƒæ¥ç†è§£æˆ‘ä»¬å°†è¦åšçš„äº‹æƒ…ï¼Œä½†è®©æˆ‘ç»™ä½ ä¸€ä¸ªå¿«é€Ÿå›é¡¾ï¼ˆå¦‚æœä½ è¯»è¿‡ä¸Šä¸€ç¯‡æ–‡ç« ï¼Œå¯ä»¥è·³åˆ°ç¬¬2èŠ‚ï¼‰ã€‚ç®€è€Œè¨€ä¹‹ï¼Œæˆ‘ä»¬åˆ—å‡ºäº†æ¸¸å®¢åœ¨è§„åˆ’æ—…è¡Œæ—¶é¢ä¸´çš„å¸¸è§é—®é¢˜ï¼Œå¹¶ç€æ‰‹å»ºç«‹ä¸€ä¸ªå¯ä»¥*å¸®åŠ©æˆ‘ä»¬æ›´æœ‰æ•ˆåœ°è§„åˆ’æ—…è¡Œ*çš„ç³»ç»Ÿï¼ŒåŠ å¿«å†³ç­–è¿‡ç¨‹ï¼Œç”šè‡³å®Œå…¨è‡ªåŠ¨åŒ–ä»»ä½•ç»™å®šæ—…è¡Œçš„æ—¥ç¨‹å®‰æ’ã€‚æˆ‘ä»¬è§‚å¯Ÿåˆ°è¿™æ ·è¡¨è¿°çš„é—®é¢˜è¿‡äºå¤æ‚ï¼Œå› æ­¤æˆ‘ä»¬å°†å…¶æ‹†è§£ï¼Œå¹¶å¾—å‡ºäº†å…¶æœ¬è´¨ç‰ˆæœ¬ï¼Œç§°ä¹‹ä¸º**æœ€å°å¯è¡Œé—®é¢˜**ã€‚æœ€åï¼Œæˆ‘ä»¬å¾—å‡ºç»“è®ºï¼Œå®ƒçš„å½¢å¼æ˜¯[æ—…è¡Œå•†é—®é¢˜](https://en.wikipedia.org/wiki/Travelling_salesman_problem)ï¼ˆTSPï¼‰ï¼Œå…¶ä¸­â€œåŸå¸‚â€å¯¹åº”äºæˆ‘ä»¬ç‰ˆæœ¬ä¸­çš„â€œæ™¯ç‚¹â€ï¼Œå³æ¸¸å®¢å¸Œæœ›å‚è§‚çš„åŸå¸‚ä¸­çš„â€œæ™¯ç‚¹â€ã€‚'
- en: So, as a kickstarter, we must first formulate and solve the TSP, and once thatâ€™s
    done, weâ€™ll be on firm grounds to progress toward a more sophisticated and general
    solution to our trip planning problem. We chose this approach because **this article
    series aims to teach an agile approach to modeling in Operations Research (OR)**,
    so many of the lessons, tips, and tricks youâ€™ll find here are *applicable to any
    kind of problem* you may face in OR in general.
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: '-   å› æ­¤ï¼Œä½œä¸ºä¸€ä¸ªå¯åŠ¨æ­¥éª¤ï¼Œæˆ‘ä»¬å¿…é¡»é¦–å…ˆåˆ¶å®šå¹¶è§£å†³æ—…è¡Œå•†é—®é¢˜ï¼ˆTSPï¼‰ï¼Œä¸€æ—¦å®Œæˆï¼Œæˆ‘ä»¬å°±å¯ä»¥åœ¨æ›´åŠ ç¨³å›ºçš„åŸºç¡€ä¸Šï¼Œå‘ç€æ›´å¤æ‚å’Œæ›´é€šç”¨çš„æ—…è¡Œè§„åˆ’è§£å†³æ–¹æ¡ˆè¿ˆè¿›ã€‚æˆ‘ä»¬é€‰æ‹©è¿™ç§æ–¹æ³•æ˜¯å› ä¸º**è¿™ç¯‡æ–‡ç« ç³»åˆ—æ—¨åœ¨æ•™æˆä¸€ç§çµæ´»çš„è¿ç­¹å­¦ï¼ˆORï¼‰å»ºæ¨¡æ–¹æ³•**ï¼Œæ‰€ä»¥ä½ åœ¨è¿™é‡Œæ‰¾åˆ°çš„è®¸å¤šè¯¾ç¨‹ã€æŠ€å·§å’Œçªé—¨éƒ½æ˜¯*é€‚ç”¨äºä½ å¯èƒ½é‡åˆ°çš„ä»»ä½•é—®é¢˜*ã€‚'
- en: 'Returning to our business, we have the problem **description** of the TSP:'
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: '-   è¿”å›åˆ°æˆ‘ä»¬çš„ä¸šåŠ¡ä¸­ï¼Œæˆ‘ä»¬æœ‰TSPçš„**æè¿°**ï¼š'
- en: '**Goal**: walk as little distance as possible'
  id: totrans-23
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**ç›®æ ‡**ï¼šå°½å¯èƒ½å°‘èµ°è·ç¦»'
- en: '**Requirements**: visit each site only once, and return to the original departure
    site (in our case, the hotel).'
  id: totrans-24
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**è¦æ±‚**ï¼šæ¯ä¸ªæ™¯ç‚¹åªè®¿é—®ä¸€æ¬¡ï¼Œå¹¶è¿”å›åˆ°åŸå§‹å‡ºå‘ç‚¹ï¼ˆåœ¨æˆ‘ä»¬çš„æƒ…å†µä¸‹æ˜¯é…’åº—ï¼‰ã€‚'
- en: 'What we need is **a *model* of the problem**, **not a *solution* to the problem**.
    I know itâ€™s tempting to focus on getting solutions, but think about it: if we
    obtained a *direct solution* to the TSP, say, with some kind of [heuristic algorithm](https://en.wikipedia.org/wiki/Heuristic_(computer_science))
    that finds *some* solution â€” even if itâ€™s optimalâ€”, it would still be insufficient
    for us because *the TSP is not our actual problem, but a simple approximation
    to it that weâ€™ll need to expand to make it* ***approximate*** *our real-life problem.*
    The moment we change the problem description (which weâ€™ll do), any [solution algorithm](https://youtu.be/GiDsjIBOVoA?si=sY8LGNiehLoAXFtV)
    tailored for the TSP will become obsolete, and weâ€™d have to start from scratch.'
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬éœ€è¦çš„æ˜¯**é—®é¢˜çš„*æ¨¡å‹***ï¼Œ**è€Œä¸æ˜¯*é—®é¢˜çš„è§£å†³æ–¹æ¡ˆ***ã€‚æˆ‘çŸ¥é“ä¸“æ³¨äºè·å¾—è§£å†³æ–¹æ¡ˆå¾ˆæœ‰è¯±æƒ‘åŠ›ï¼Œä½†æƒ³ä¸€æƒ³ï¼šå¦‚æœæˆ‘ä»¬å¾—åˆ°äº† TSP çš„*ç›´æ¥è§£å†³æ–¹æ¡ˆ*ï¼Œæ¯”å¦‚ç”¨æŸç§
    [å¯å‘å¼ç®—æ³•](https://en.wikipedia.org/wiki/Heuristic_(computer_science)) æ‰¾åˆ°*æŸä¸ª*è§£å†³æ–¹æ¡ˆâ€”â€”å³ä½¿å®ƒæ˜¯æœ€ä¼˜çš„â€”â€”ä¹Ÿå¯¹æˆ‘ä»¬æ¥è¯´æ˜¯ä¸å¤Ÿçš„ï¼Œå› ä¸º*TSP
    å¹¶ä¸æ˜¯æˆ‘ä»¬å®é™…çš„é—®é¢˜ï¼Œè€Œæ˜¯ä¸€ä¸ªç®€å•çš„è¿‘ä¼¼ï¼Œæˆ‘ä»¬éœ€è¦æ‰©å±•å®ƒä»¥ä½¿å…¶* ***è¿‘ä¼¼*** *æˆ‘ä»¬çš„å®é™…é—®é¢˜ã€‚* å½“æˆ‘ä»¬æ›´æ”¹é—®é¢˜æè¿°ï¼ˆæˆ‘ä»¬ä¼šè¿™æ ·åšï¼‰æ—¶ï¼Œä»»ä½•é’ˆå¯¹ TSP
    çš„ [è§£å†³ç®—æ³•](https://youtu.be/GiDsjIBOVoA?si=sY8LGNiehLoAXFtV) éƒ½ä¼šå˜å¾—è¿‡æ—¶ï¼Œæˆ‘ä»¬å¿…é¡»ä»å¤´å¼€å§‹ã€‚
- en: Models can be augmented, tweaked and refined to adapt to your problem and its
    changing requirements. Solution algorithms, however, tend to be customized to
    specific problems, and are very hard to modify when the problem changes.
  id: totrans-26
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: æ¨¡å‹å¯ä»¥è¢«æ‰©å±•ã€è°ƒæ•´å’Œä¼˜åŒ–ä»¥é€‚åº”ä½ çš„é—®é¢˜åŠå…¶å˜åŒ–çš„éœ€æ±‚ã€‚ç„¶è€Œï¼Œè§£å†³ç®—æ³•å¾€å¾€æ˜¯é’ˆå¯¹ç‰¹å®šé—®é¢˜å®šåˆ¶çš„ï¼Œå½“é—®é¢˜å‘ç”Ÿå˜åŒ–æ—¶ï¼Œå¾ˆéš¾ä¿®æ”¹ã€‚
- en: Hence, our goal is to **build a model of the TSP.** Once you learn how to reason
    your way into such a model, you will have a good understanding to go and read
    [the next sprintâ€™s article](https://medium.com/@carlosjuribe/plan-optimal-trips-automatically-with-python-and-operations-research-models-part-2-fc7ee8198b6c),
    where we will **implement the model in Python:**
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: å› æ­¤ï¼Œæˆ‘ä»¬çš„ç›®æ ‡æ˜¯**å»ºç«‹ä¸€ä¸ª TSP æ¨¡å‹**ã€‚ä¸€æ—¦ä½ å­¦ä¼šäº†å¦‚ä½•æ¨ç†å‡ºè¿™æ ·çš„æ¨¡å‹ï¼Œä½ å°†ä¼šå¯¹æ¥ä¸‹æ¥é˜…è¯» [ä¸‹ä¸€ç¯‡æ–‡ç« ](https://medium.com/@carlosjuribe/plan-optimal-trips-automatically-with-python-and-operations-research-models-part-2-fc7ee8198b6c)æœ‰å¾ˆå¥½çš„ç†è§£ï¼Œåœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬å°†**åœ¨
    Python ä¸­å®ç°è¯¥æ¨¡å‹ï¼š**
- en: '[](/plan-optimal-trips-automatically-with-python-and-operations-research-models-part-2-fc7ee8198b6c?source=post_page-----bd6530c9c07--------------------------------)
    [## Implementing, solving and visualizing the Traveling Salesman Problem with
    Python'
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: '[](/plan-optimal-trips-automatically-with-python-and-operations-research-models-part-2-fc7ee8198b6c?source=post_page-----bd6530c9c07--------------------------------)
    [## ä½¿ç”¨ Python å®ç°ã€æ±‚è§£å’Œå¯è§†åŒ–æ—…è¡Œå•†é—®é¢˜'
- en: Learn how to translate an optimization model from Math to Python, optimize it,
    and visualize the solution to gain quickâ€¦
  id: totrans-29
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: å­¦ä¹ å¦‚ä½•å°†ä¼˜åŒ–æ¨¡å‹ä»æ•°å­¦ç¿»è¯‘åˆ° Pythonï¼Œä¼˜åŒ–å®ƒï¼Œå¹¶å¯è§†åŒ–è§£å†³æ–¹æ¡ˆä»¥å¿«é€Ÿè·å¾—â€¦
- en: towardsdatascience.com](/plan-optimal-trips-automatically-with-python-and-operations-research-models-part-2-fc7ee8198b6c?source=post_page-----bd6530c9c07--------------------------------)
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: towardsdatascience.com](/plan-optimal-trips-automatically-with-python-and-operations-research-models-part-2-fc7ee8198b6c?source=post_page-----bd6530c9c07--------------------------------)
- en: 2\. Understanding the data
  id: totrans-31
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 2. ç†è§£æ•°æ®
- en: 'If you recall from [our last sprint](https://medium.com/@carlosjuribe/plan-an-optimal-trip-for-your-next-holidays-with-the-help-of-operations-research-and-python-481b1ea38fef),
    the *basic input* for the TSP is just a list of sites that we want to visit in
    a single day. In this proof-of-concept, weâ€™re using Paris, so Iâ€™ve chosen these
    eight famous, must-visit places:'
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: å¦‚æœä½ è®°å¾— [æˆ‘ä»¬ä¸Šä¸€æ¬¡çš„æ–‡ç« ](https://medium.com/@carlosjuribe/plan-an-optimal-trip-for-your-next-holidays-with-the-help-of-operations-research-and-python-481b1ea38fef)ï¼ŒTSP
    çš„*åŸºæœ¬è¾“å…¥*åªæ˜¯æˆ‘ä»¬æƒ³åœ¨ä¸€å¤©å†…è®¿é—®çš„åœ°ç‚¹åˆ—è¡¨ã€‚åœ¨è¿™ä¸ªæ¦‚å¿µéªŒè¯ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨çš„æ˜¯å·´é»ï¼Œå› æ­¤æˆ‘é€‰æ‹©äº†è¿™å…«ä¸ªè‘—åçš„å¿…æ¸¸ä¹‹åœ°ï¼š
- en: Sacre Coeur
  id: totrans-33
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: åœ£å¿ƒå¤§æ•™å ‚
- en: Louvre
  id: totrans-34
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å¢æµ®å®«
- en: Montmartre
  id: totrans-35
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: è’™é©¬ç‰¹
- en: Port de Suffren
  id: totrans-36
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å åŠ ç å¤´
- en: Arc de Triomphe
  id: totrans-37
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å‡¯æ—‹é—¨
- en: Av. Champs Ã‰lysÃ©es
  id: totrans-38
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: é¦™æ¦­ä¸½èˆå¤§è¡—
- en: Notre Dame
  id: totrans-39
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å·´é»åœ£æ¯é™¢
- en: Tour Eiffel
  id: totrans-40
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: åŸƒè²å°”é“å¡”
- en: 'Since the problem consists of finding a tour of minimal *distance*, the actual
    data we need is *distance data,* whichdepends on the sites and their relative
    geographic positions. How to compute distance data from geographic locations will
    be covered in [sprint 4](https://medium.com/@carlosjuribe/compute-the-distance-matrix-of-a-set-of-sites-from-their-coordinates-in-python-d5fc92a0ba9e),
    since covering it now would entail a *de-tour* (pun intended) that would distract
    you from the main focus here: model building.'
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: ç”±äºé—®é¢˜åœ¨äºå¯»æ‰¾æœ€å°*è·ç¦»*çš„æ—…è¡Œï¼Œå› æ­¤æˆ‘ä»¬å®é™…éœ€è¦çš„æ•°æ®æ˜¯*è·ç¦»æ•°æ®*ï¼Œè¿™å–å†³äºåœ°ç‚¹åŠå…¶ç›¸å¯¹åœ°ç†ä½ç½®ã€‚å¦‚ä½•ä»åœ°ç†ä½ç½®è®¡ç®—è·ç¦»æ•°æ®å°†åœ¨ [ç¬¬ 4 ç¯‡æ–‡ç« ](https://medium.com/@carlosjuribe/compute-the-distance-matrix-of-a-set-of-sites-from-their-coordinates-in-python-d5fc92a0ba9e)ä¸­è®²è§£ï¼Œå› ä¸ºç°åœ¨è®²è§£è¿™ä¸ªä¼šå¯¼è‡´ä¸€ä¸ª*ç»•é“*ï¼ˆåŒå…³ï¼‰çš„å†…å®¹ï¼Œä½¿ä½ ä»è¿™é‡Œçš„ä¸»è¦ç„¦ç‚¹â€”â€”æ¨¡å‹æ„å»ºâ€”â€”åˆ†å¿ƒã€‚
- en: 'So, for now, consider youâ€™re given the distances between all possible pairs.
    They will be given as a CSV file in the [next sprint](https://medium.com/@carlosjuribe/plan-optimal-trips-automatically-with-python-and-operations-research-models-part-2-fc7ee8198b6c)
    when we implement the model in Python. The data looks like this:'
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: å› æ­¤ï¼Œç°åœ¨å‡è®¾ä½ å·²è·å¾—æ‰€æœ‰å¯èƒ½å¯¹ä¹‹é—´çš„è·ç¦»ã€‚è¿™äº›è·ç¦»å°†åœ¨[ä¸‹ä¸€ä¸ªè¿­ä»£](https://medium.com/@carlosjuribe/plan-optimal-trips-automatically-with-python-and-operations-research-models-part-2-fc7ee8198b6c)ä¸­ä½œä¸ºCSVæ–‡ä»¶æä¾›ï¼Œå½“æˆ‘ä»¬ç”¨Pythonå®ç°æ¨¡å‹æ—¶ã€‚æ•°æ®å¦‚ä¸‹æ‰€ç¤ºï¼š
- en: '![](../Images/18f610b518e1fed4161c761c29896bb7.png)'
  id: totrans-43
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/18f610b518e1fed4161c761c29896bb7.png)'
- en: '**Figure 2.1.** Distance data for a sample set of Paris sites, needed for the
    TSP. (Image by author)'
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: '**å›¾ 2.1.** ä¸€ç»„å·´é»ç«™ç‚¹çš„è·ç¦»æ•°æ®ï¼ŒTSPæ‰€éœ€ã€‚ï¼ˆå›¾ç‰‡ç”±ä½œè€…æä¾›ï¼‰'
- en: Weâ€™ll call this table the **distance matrix**. Note that, although not particularly
    postcard-worthy, the hotel is included in the matrix too, as it counts as another
    site that needs to be in the final tour. For this MVP, we keep things simple and
    use a **symmetric distance matrix**, which is a fancy way of saying that the distance
    from ğ´ to ğµ is the same as the distance from ğµ to ğ´, for any A and B. In more
    advanced settings, this need not be the case to a relevant degree, making this
    approximation ineffective.
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬ç§°è¿™ä¸ªè¡¨ä¸º**è·ç¦»çŸ©é˜µ**ã€‚è¯·æ³¨æ„ï¼Œè™½ç„¶è¿™ä¸ªé…’åº—å¹¶ä¸ç‰¹åˆ«å€¼å¾—æ˜ä¿¡ç‰‡ä¸Šçš„é£æ™¯ï¼Œä½†å®ƒä¹ŸåŒ…å«åœ¨çŸ©é˜µä¸­ï¼Œå› ä¸ºå®ƒè¢«è§†ä¸ºæœ€ç»ˆæ—…è¡Œä¸­çš„å¦ä¸€ä¸ªç«™ç‚¹ã€‚å¯¹äºè¿™ä¸ªMVPï¼Œæˆ‘ä»¬ä¿æŒç®€å•ï¼Œä½¿ç”¨**å¯¹ç§°è·ç¦»çŸ©é˜µ**ï¼Œè¿™æ˜¯è¯´ä»ğ´åˆ°ğµçš„è·ç¦»ä¸ä»ğµåˆ°ğ´çš„è·ç¦»ç›¸åŒï¼Œå¯¹äºä»»ä½•Aå’ŒBæ¥è¯´ã€‚åœ¨æ›´é«˜çº§çš„è®¾ç½®ä¸­ï¼Œè¿™ç§æƒ…å†µä¸ä¸€å®šæˆç«‹ï¼Œä½¿å¾—è¿™ç§è¿‘ä¼¼å˜å¾—æ— æ•ˆã€‚
- en: 3\. Defining a conceptual model from the problem description
  id: totrans-46
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 3\. ä»é—®é¢˜æè¿°ä¸­å®šä¹‰æ¦‚å¿µæ¨¡å‹
- en: 'Now weâ€™re at the stage represented as the green block in the flowchart below:'
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: ç°åœ¨æˆ‘ä»¬å¤„äºä¸‹å›¾æµç¨‹å›¾ä¸­è¡¨ç¤ºä¸ºç»¿è‰²å—çš„é˜¶æ®µï¼š
- en: '![](../Images/9fa991cd58851a35926426135bddd4b2.png)'
  id: totrans-48
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/9fa991cd58851a35926426135bddd4b2.png)'
- en: '**Figure 2.2.** Minimalist workflow to problem-solving in OR. 2nd stage: **conceptual
    model** (Image by author)'
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: '**å›¾ 2.2.** ORä¸­é—®é¢˜è§£å†³çš„ç®€çº¦å·¥ä½œæµç¨‹ã€‚ç¬¬2é˜¶æ®µï¼š**æ¦‚å¿µæ¨¡å‹**ï¼ˆå›¾ç‰‡ç”±ä½œè€…æä¾›ï¼‰'
- en: 'The purpose of the conceptual model is to state the problem using words, but
    in a **standardized format**, so that the **mapping between â€œsentencesâ€ and â€œmathematical
    objectsâ€ becomes clear** later in the subsequent phase (mathematical model formulation).
    We can postulate our **conceptual model** like this:'
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: æ¦‚å¿µæ¨¡å‹çš„ç›®çš„æ˜¯ç”¨è¯­è¨€é™ˆè¿°é—®é¢˜ï¼Œä½†é‡‡ç”¨**æ ‡å‡†åŒ–æ ¼å¼**ï¼Œä»¥ä¾¿**â€œå¥å­â€å’Œâ€œæ•°å­¦å¯¹è±¡â€ä¹‹é—´çš„æ˜ å°„åœ¨éšåçš„é˜¶æ®µï¼ˆæ•°å­¦æ¨¡å‹åˆ¶å®šï¼‰ä¸­å˜å¾—æ¸…æ™°**ã€‚æˆ‘ä»¬å¯ä»¥è¿™æ ·æ¨æµ‹æˆ‘ä»¬çš„**æ¦‚å¿µæ¨¡å‹**ï¼š
- en: (Knowing)
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: ï¼ˆçŸ¥é“ï¼‰
- en: '**Data (sets and parameters)**:'
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: '**æ•°æ®ï¼ˆé›†åˆå’Œå‚æ•°ï¼‰**ï¼š'
- en: The list of sites to visit
  id: totrans-53
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: éœ€è¦è®¿é—®çš„ç«™ç‚¹åˆ—è¡¨
- en: The distance between any pair of sites
  id: totrans-54
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ä»»ä½•ä¸€å¯¹ç«™ç‚¹ä¹‹é—´çš„è·ç¦»
- en: (We need to decide)
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: ï¼ˆæˆ‘ä»¬éœ€è¦å†³å®šï¼‰
- en: '**Decisions**: In which order to visit the sites'
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: '**å†³ç­–**ï¼šä»¥ä»€ä¹ˆé¡ºåºè®¿é—®ç«™ç‚¹'
- en: (In a way that we)
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: ï¼ˆä»¥è¿™æ ·çš„æ–¹å¼ï¼‰
- en: '**Objective**: Minimize the total distance traveled'
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: '**ç›®æ ‡**ï¼šæœ€å°åŒ–æ€»æ—…è¡Œè·ç¦»'
- en: (Such that)
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: ï¼ˆä½¿å¾—ï¼‰
- en: '**Constraints**:'
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: '**çº¦æŸæ¡ä»¶**ï¼š'
- en: All sites are visited
  id: totrans-61
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æ‰€æœ‰ç«™ç‚¹éƒ½è¢«è®¿é—®
- en: Each site is visited just once
  id: totrans-62
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æ¯ä¸ªç«™ç‚¹åªè®¿é—®ä¸€æ¬¡
- en: The last site visited is the site we started from (we do a closed tour)
  id: totrans-63
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æœ€åè®¿é—®çš„ç«™ç‚¹æ˜¯æˆ‘ä»¬å‡ºå‘çš„ç«™ç‚¹ï¼ˆæˆ‘ä»¬è¿›è¡Œå°é—­æ—…è¡Œï¼‰
- en: '***ğŸ‘ï¸ Follow good practices and, in practice, goodness will follow you***'
  id: totrans-64
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '***ğŸ‘ï¸ éµå¾ªè‰¯å¥½å®è·µï¼Œå®è·µä¸­ï¼Œä¼˜ç§€å°†éšä¹‹è€Œæ¥***'
- en: ''
  id: totrans-65
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: You may have thought that the conceptual model looks quite trivial and not very
    different from the â€œsimpleâ€ problem statement we started the article with. And
    you would be right. For small problems like this one, it can be a repetitive step.
    **But for bigger problems, this stage is indispensable, and attempting to build
    a mathematical model without having a conceptual model first usually translates
    into mayhem** (unclear or vague requirements, bad formulations, buggy code, infeasible
    models, etc.) Thus, it is paramount that we build the discipline now and go through
    this stage here too, even if the marginal value in our simple case is very low.
    Focus on good habits, and good results will follow.
  id: totrans-66
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: ä½ å¯èƒ½è®¤ä¸ºæ¦‚å¿µæ¨¡å‹çœ‹èµ·æ¥ç›¸å½“å¹³å‡¡ï¼Œä¸æˆ‘ä»¬å¼€å§‹æ–‡ç« æ—¶çš„â€œç®€å•â€é—®é¢˜å£°æ˜å¹¶æ²¡æœ‰å¤ªå¤§åŒºåˆ«ã€‚ä½ æ˜¯å¯¹çš„ã€‚å¯¹äºåƒè¿™æ ·çš„ç®€å•é—®é¢˜ï¼Œå®ƒå¯èƒ½æ˜¯ä¸€ä¸ªé‡å¤çš„æ­¥éª¤ã€‚**ä½†å¯¹äºæ›´å¤§çš„é—®é¢˜ï¼Œè¿™ä¸ªé˜¶æ®µæ˜¯ä¸å¯æˆ–ç¼ºçš„ï¼Œé€šå¸¸åœ¨æ²¡æœ‰é¦–å…ˆå»ºç«‹æ¦‚å¿µæ¨¡å‹çš„æƒ…å†µä¸‹æ„å»ºæ•°å­¦æ¨¡å‹ä¼šå¯¼è‡´æ··ä¹±**ï¼ˆä¸æ¸…æ™°æˆ–æ¨¡ç³Šçš„éœ€æ±‚ã€ç³Ÿç³•çš„å…¬å¼ã€é”™è¯¯çš„ä»£ç ã€ä¸å¯è¡Œçš„æ¨¡å‹ç­‰ï¼‰ã€‚å› æ­¤ï¼Œç°åœ¨æˆ‘ä»¬éœ€è¦å»ºç«‹è¿™ç§çºªå¾‹ï¼Œå³ä½¿åœ¨æˆ‘ä»¬ç®€å•çš„æ¡ˆä¾‹ä¸­è¾¹é™…ä»·å€¼å¾ˆä½ï¼Œä¹Ÿè¦é€šè¿‡è¿™ä¸€é˜¶æ®µã€‚ä¸“æ³¨äºè‰¯å¥½çš„ä¹ æƒ¯ï¼Œè‰¯å¥½çš„ç»“æœå°†éšä¹‹è€Œæ¥ã€‚
- en: 4\. Building a mathematical model from the conceptual model
  id: totrans-67
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 4\. ä»æ¦‚å¿µæ¨¡å‹å»ºç«‹æ•°å­¦æ¨¡å‹
- en: We just reached â€œstage 3â€ of the workflow, in green below. The â€œ**mathematical
    model** stageâ€, probably the most challenging stage of all, is where *natural*
    *language becomes mathematics.*
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬åˆšåˆšè¾¾åˆ°äº†å·¥ä½œæµç¨‹çš„â€œç¬¬3é˜¶æ®µâ€ï¼Œåœ¨ä¸‹å›¾ä¸­ç”¨ç»¿è‰²æ ‡å‡ºã€‚**æ•°å­¦æ¨¡å‹**é˜¶æ®µï¼Œå¯èƒ½æ˜¯æ‰€æœ‰é˜¶æ®µä¸­æœ€å…·æŒ‘æˆ˜æ€§çš„é˜¶æ®µï¼Œæ˜¯*è‡ªç„¶* *è¯­è¨€å˜ä¸ºæ•°å­¦*çš„åœ°æ–¹ã€‚
- en: '![](../Images/59a610c78053af6bbc78697cbfb9e844.png)'
  id: totrans-69
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/59a610c78053af6bbc78697cbfb9e844.png)'
- en: '**Figure 2.3.** Minimalist workflow to problem-solving in OR. 3rd stage: **mathematical
    model** (Image by author)'
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: '**å›¾ 2.3.** è¿ç­¹å­¦ä¸­çš„æç®€å·¥ä½œæµç¨‹ã€‚ç¬¬3é˜¶æ®µï¼š**æ•°å­¦æ¨¡å‹**ï¼ˆå›¾åƒç”±ä½œè€…æä¾›ï¼‰'
- en: It is at this stage where not even the least amount of ambiguity is permitted.
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨è¿™ä¸€é˜¶æ®µï¼Œä»»ä½•ä¸€ç‚¹æ¨¡ç³Šæ€§éƒ½æ˜¯ä¸è¢«å…è®¸çš„ã€‚
- en: A well defined mathematical model is worth a hundred clarifications
  id: totrans-72
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: ä¸€ä¸ªå®šä¹‰è‰¯å¥½çš„æ•°å­¦æ¨¡å‹èƒœè¿‡ä¸€ç™¾ä¸ªè§£é‡Š
- en: In this stage of our workflow, we build a *pure* model for the TSP, and in the
    next phase (covered in â€œ[sprint 3](https://medium.com/@carlosjuribe/plan-optimal-trips-automatically-with-python-and-operations-research-models-part-2-fc7ee8198b6c)â€)
    we will construct a **model instance** out of the CSV dataset we explained earlier,
    with the help of Python.
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨æˆ‘ä»¬å·¥ä½œæµç¨‹çš„è¿™ä¸€é˜¶æ®µï¼Œæˆ‘ä»¬ä¸ºTSPæ„å»ºäº†ä¸€ä¸ª*çº¯ç²¹çš„*æ¨¡å‹ï¼Œåœ¨ä¸‹ä¸€ä¸ªé˜¶æ®µï¼ˆè§â€œ[å†²åˆº 3](https://medium.com/@carlosjuribe/plan-optimal-trips-automatically-with-python-and-operations-research-models-part-2-fc7ee8198b6c)â€ï¼‰æˆ‘ä»¬å°†ä½¿ç”¨Pythonä»ä¹‹å‰è§£é‡Šè¿‡çš„CSVæ•°æ®é›†ä¸­æ„å»ºä¸€ä¸ª**æ¨¡å‹å®ä¾‹**ã€‚
- en: '*ğŸ“* ***Theory refresher: â€œ*abstract modelâ€ *vs â€œ*model instanceâ€**'
  id: totrans-74
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '*ğŸ“* ***ç†è®ºå›é¡¾ï¼šâ€œ*æŠ½è±¡æ¨¡å‹*â€ä¸â€œ*æ¨¡å‹å®ä¾‹*â€***'
- en: ''
  id: totrans-75
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: Mathematical models (in OR) are made of â€œ**components**â€. These are **all the
    elements** (equations, data, etc.) **that collectively represent a problem** of
    a certain structure. **What truly defines a model is its structure, *i.e.*, how
    its components relate to each other**, regardless of the particular numerical
    values that these components take in any given example.
  id: totrans-76
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: æ•°å­¦æ¨¡å‹ï¼ˆåœ¨è¿ç­¹å­¦ä¸­ï¼‰ç”±â€œ**ç»„ä»¶**â€æ„æˆã€‚è¿™äº›æ˜¯**æ‰€æœ‰å…ƒç´ **ï¼ˆæ–¹ç¨‹ã€æ•°æ®ç­‰ï¼‰ï¼Œ**å®ƒä»¬å…±åŒè¡¨ç¤ºä¸€ä¸ªç‰¹å®šç»“æ„çš„é—®é¢˜**ã€‚**çœŸæ­£å®šä¹‰ä¸€ä¸ªæ¨¡å‹çš„æ˜¯å®ƒçš„ç»“æ„ï¼Œ*å³*å…¶ç»„ä»¶ä¹‹é—´çš„å…³ç³»**ï¼Œæ— è®ºè¿™äº›ç»„ä»¶åœ¨ä»»ä½•ç»™å®šç¤ºä¾‹ä¸­å–ä»€ä¹ˆå…·ä½“çš„æ•°å€¼ã€‚
- en: ''
  id: totrans-77
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: A **model instance** is a specific â€œmaterializationâ€ of an â€œabstract modelâ€
    with **concrete data**. Thus, we normally define abstract models, then populate
    them with data of particular scenarios, which yields **model instances**. It is
    those model instances that we optimize to get **concrete results.**
  id: totrans-78
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '**æ¨¡å‹å®ä¾‹**æ˜¯â€œæŠ½è±¡æ¨¡å‹â€çš„ä¸€ä¸ªå…·ä½“â€œå®ç°â€ï¼ŒåŒ…å«**å…·ä½“æ•°æ®**ã€‚å› æ­¤ï¼Œæˆ‘ä»¬é€šå¸¸å®šä¹‰æŠ½è±¡æ¨¡å‹ï¼Œç„¶åç”¨ç‰¹å®šåœºæ™¯çš„æ•°æ®å¡«å……å®ƒä»¬ï¼Œè¿›è€Œå¾—åˆ°**æ¨¡å‹å®ä¾‹**ã€‚æˆ‘ä»¬ä¼˜åŒ–çš„å°±æ˜¯è¿™äº›æ¨¡å‹å®ä¾‹ï¼Œä»¥è·å¾—**å…·ä½“ç»“æœ**ã€‚'
- en: In the subsections below, I will briefly touch on the components that make up
    a model, and their purposes, while Iâ€™m defining them. Feel free to skip these
    explanations, and jump directly to the mathematical definitions, if you are not
    a beginner and already know the functions of the model components.
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨ä¸‹é¢çš„å°èŠ‚ä¸­ï¼Œæˆ‘å°†ç®€è¦ä»‹ç»æ„æˆæ¨¡å‹çš„ç»„ä»¶åŠå…¶ç›®çš„ï¼ŒåŒæ—¶å¯¹å®ƒä»¬è¿›è¡Œå®šä¹‰ã€‚å¦‚æœä½ ä¸æ˜¯åˆå­¦è€…ï¼Œå·²ç»äº†è§£æ¨¡å‹ç»„ä»¶çš„åŠŸèƒ½ï¼Œå¯ä»¥è·³è¿‡è¿™äº›è§£é‡Šï¼Œç›´æ¥è¿›å…¥æ•°å­¦å®šä¹‰éƒ¨åˆ†ã€‚
- en: 4.1\. Putting the data in Sets and Parameters
  id: totrans-80
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 4.1\. å°†æ•°æ®æ”¾å…¥é›†åˆå’Œå‚æ•°ä¸­
- en: All the data we need resides in the dataframe displayed in Figure 2.1\. We *could*
    keep the data *only* there, fetching all the numbers from that dataframe when
    creating the constraints and objective of the model. In fact many people do that,
    but **itâ€™s a bad habit that doesnâ€™t scale well with the size of the model**. As
    the model complexity grows, this approach necessitates of ever growing [glue code](https://en.wikipedia.org/wiki/Glue_code)
    (to deal with dataframe operations) that could be avoided if the data were kept
    organized in other data structures more geared towards the building of optimization
    models. These data structures are the **sets** and **parameters** of a model.
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬æ‰€éœ€çš„æ‰€æœ‰æ•°æ®éƒ½ä½äºå›¾ 2.1\. ä¸­æ˜¾ç¤ºçš„æ•°æ®æ¡†ä¸­ã€‚æˆ‘ä»¬*å¯ä»¥*åªå°†æ•°æ®*ä¿ç•™*åœ¨è¿™é‡Œï¼Œåœ¨åˆ›å»ºæ¨¡å‹çš„çº¦æŸå’Œç›®æ ‡æ—¶ä»è¯¥æ•°æ®æ¡†ä¸­æå–æ‰€æœ‰æ•°å­—ã€‚äº‹å®ä¸Šï¼Œè®¸å¤šäººè¿™æ ·åšï¼Œä½†**è¿™æ˜¯ä¸€ä¸ªä¸è‰¯ä¹ æƒ¯ï¼Œéšç€æ¨¡å‹çš„è§„æ¨¡å¢å¤§ï¼Œå®ƒæ— æ³•è‰¯å¥½æ‰©å±•**ã€‚éšç€æ¨¡å‹å¤æ‚æ€§çš„å¢åŠ ï¼Œè¿™ç§æ–¹æ³•éœ€è¦ä¸æ–­å¢åŠ çš„[èƒ¶æ°´ä»£ç ](https://en.wikipedia.org/wiki/Glue_code)ï¼ˆç”¨äºå¤„ç†æ•°æ®æ¡†æ“ä½œï¼‰ï¼Œå¦‚æœæ•°æ®ä¿æŒåœ¨æ›´é€‚åˆä¼˜åŒ–æ¨¡å‹æ„å»ºçš„å…¶ä»–æ•°æ®ç»“æ„ä¸­ï¼Œè¿™äº›ä»£ç æ˜¯å¯ä»¥é¿å…çš„ã€‚è¿™äº›æ•°æ®ç»“æ„å°±æ˜¯æ¨¡å‹çš„**é›†åˆ**å’Œ**å‚æ•°**ã€‚
- en: '*ğŸ’¡* ***Different data structures to serve different needs***'
  id: totrans-82
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '*ğŸ’¡* ***ä¸åŒçš„æ•°æ®ç»“æ„ä»¥æ»¡è¶³ä¸åŒçš„éœ€æ±‚***'
- en: ''
  id: totrans-83
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: 'In case you were wondering **â€œWhy create sets and parameters, when we already
    have the data we need in a table?â€**, the short answer is: because doing so makes
    the model building easier, more general, and less error-prone.'
  id: totrans-84
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: å¦‚æœä½ åœ¨æƒ³**â€œä¸ºä»€ä¹ˆè¦åˆ›å»ºé›†åˆå’Œå‚æ•°ï¼Œè€Œæˆ‘ä»¬å·²ç»åœ¨è¡¨æ ¼ä¸­æœ‰äº†æ‰€éœ€çš„æ•°æ®ï¼Ÿâ€**ï¼Œç®€çŸ­çš„å›ç­”æ˜¯ï¼šå› ä¸ºè¿™æ ·åšå¯ä»¥ä½¿æ¨¡å‹æ„å»ºæ›´å®¹æ˜“ã€æ›´é€šç”¨ï¼Œä¸”æ›´å°‘å‡ºé”™ã€‚
- en: ''
  id: totrans-85
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: 'â€œ***Sets***â€ are the model components used to **store the main â€œentitiesâ€,**
    or â€œelementsâ€, of a problem, whereas â€œ***parameters*â€ are used to store the**
    **numerical properties** **of those entities, or of their *relationships***. In
    our example, the sites are the main â€œentitiesâ€, so they will be stored in a **set**,
    and the distances between pairs of sites are the â€œnumerical propertiesâ€ of their
    relationships, so they will be stored as **parameters**. At the â€œimplementation
    levelâ€, it is also very useful to make this categorization because **each component
    serves a different function** that will make model building easier:'
  id: totrans-86
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: â€œ***é›†åˆ***â€æ˜¯ç”¨äº**å­˜å‚¨é—®é¢˜çš„ä¸»è¦â€œå®ä½“â€**æˆ–â€œå…ƒç´ â€çš„æ¨¡å‹ç»„ä»¶ï¼Œè€Œâ€œ***å‚æ•°***â€åˆ™ç”¨äºå­˜å‚¨è¿™äº›å®ä½“æˆ–å®ƒä»¬*å…³ç³»*çš„**æ•°å€¼å±æ€§**ã€‚åœ¨æˆ‘ä»¬çš„ä¾‹å­ä¸­ï¼Œè®¿é—®åœ°ç‚¹æ˜¯ä¸»è¦çš„â€œå®ä½“â€ï¼Œæ‰€ä»¥å®ƒä»¬ä¼šè¢«å­˜å‚¨åœ¨ä¸€ä¸ª**é›†åˆ**ä¸­ï¼Œè€Œåœ°ç‚¹å¯¹ä¹‹é—´çš„è·ç¦»æ˜¯å®ƒä»¬å…³ç³»çš„â€œæ•°å€¼å±æ€§â€ï¼Œæ‰€ä»¥å®ƒä»¬ä¼šè¢«å­˜å‚¨ä¸º**å‚æ•°**ã€‚åœ¨â€œå®ç°å±‚é¢â€ï¼Œè¿›è¡Œè¿™ç§åˆ†ç±»ä¹Ÿæ˜¯éå¸¸æœ‰ç”¨çš„ï¼Œå› ä¸º**æ¯ä¸ªç»„ä»¶éƒ½æœ‰ä¸åŒçš„åŠŸèƒ½**ï¼Œè¿™å°†ä½¿å¾—æ¨¡å‹æ„å»ºæ›´åŠ å®¹æ˜“ï¼š
- en: ''
  id: totrans-87
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: â€¢ The function of **sets** is the **convenient storage and manipulation of indices**.
    These indices are the IDs or names that represent the different â€œentitiesâ€ of
    the problem, and they are used **to *index* parameters in *convenient* ways**
    for the creation of constraints and objectives.
  id: totrans-88
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '**é›†åˆ**çš„ä½œç”¨æ˜¯**æ–¹ä¾¿åœ°å­˜å‚¨å’Œæ“ä½œç´¢å¼•**ã€‚è¿™äº›ç´¢å¼•æ˜¯ä»£è¡¨é—®é¢˜ä¸­ä¸åŒâ€œå®ä½“â€çš„IDæˆ–åç§°ï¼Œå®ƒä»¬è¢«ç”¨æ¥**ä»¥*æ–¹ä¾¿*çš„æ–¹å¼*ç´¢å¼•*å‚æ•°**ï¼Œç”¨äºçº¦æŸå’Œç›®æ ‡çš„åˆ›å»ºã€‚'
- en: ''
  id: totrans-89
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: â€¢ The function of **parameters** is the **convenient storage and manipulation
    of numerical properties of the â€œentitiesâ€ they are indexed by**, and these are
    the numbers that **actually appear** in the constraints and objectives.
  id: totrans-90
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '**å‚æ•°**çš„ä½œç”¨æ˜¯**æ–¹ä¾¿åœ°å­˜å‚¨å’Œæ“ä½œç”±å®ƒä»¬æ‰€ç´¢å¼•çš„â€œå®ä½“â€çš„æ•°å€¼å±æ€§**ï¼Œè¿™äº›å°±æ˜¯åœ¨çº¦æŸå’Œç›®æ ‡ä¸­**å®é™…å‡ºç°çš„**æ•°å­—ã€‚'
- en: 'From our conceptual model, we have:'
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
  zh: ä»æˆ‘ä»¬çš„æ¦‚å¿µæ¨¡å‹ä¸­ï¼Œæˆ‘ä»¬æœ‰ï¼š
- en: 'The list of sites to visit, which we define as the **set** ğ•Š:'
  id: totrans-92
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬å®šä¹‰çš„è®¿é—®åœ°ç‚¹åˆ—è¡¨æ˜¯**é›†åˆ**ğ•Šï¼š
- en: '![](../Images/395f8548dbc2fa320bc17034897f5338.png)'
  id: totrans-93
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/395f8548dbc2fa320bc17034897f5338.png)'
- en: '**Expression 2.1.** The set of all sites to visit on the trip (displaying just
    2 for brevity).'
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: '**è¡¨è¾¾å¼ 2.1.** æ˜¯æ—…è¡Œä¸­æ‰€æœ‰è®¿é—®åœ°ç‚¹çš„é›†åˆï¼ˆä¸ºäº†ç®€æ´èµ·è§ï¼Œåªæ˜¾ç¤ºä¸¤ä¸ªï¼‰ã€‚'
- en: The phrase â€œindexed by ğ‘–, ğ‘—â€ is placed next to the set definition to signal
    that whenever the indices ğ‘– or ğ‘— are used in the model, they represent members
    of ğ•Š. That way, when we have several sets, and thus multiple indices in use, itâ€™s
    easier to remember what each index means.
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
  zh: â€œç”±ğ‘–, ğ‘—ç´¢å¼•â€è¿™ä¸€çŸ­è¯­æ”¾åœ¨é›†åˆå®šä¹‰æ—è¾¹ï¼Œä»¥è¡¨ç¤ºæ¯å½“åœ¨æ¨¡å‹ä¸­ä½¿ç”¨ç´¢å¼•ğ‘–æˆ–ğ‘—æ—¶ï¼Œå®ƒä»¬ä»£è¡¨é›†åˆğ•Šä¸­çš„æˆå‘˜ã€‚è¿™æ ·ï¼Œå½“æˆ‘ä»¬æœ‰å¤šä¸ªé›†åˆï¼Œä»è€Œä½¿ç”¨å¤šä¸ªç´¢å¼•æ—¶ï¼Œæ›´å®¹æ˜“è®°ä½æ¯ä¸ªç´¢å¼•çš„å«ä¹‰ã€‚
- en: 'The distance between any pair of sites, which we define as the *indexed* **parameter**
    ğ·áµ¢â±¼:'
  id: totrans-96
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ä»»æ„ä¸€å¯¹åœ°ç‚¹ä¹‹é—´çš„è·ç¦»ï¼Œæˆ‘ä»¬å®šä¹‰ä¸º*ç´¢å¼•çš„* **å‚æ•°** ğ·áµ¢â±¼ï¼š
- en: '![](../Images/ede4dd301fb2d100773d9a5b77baac7f.png)'
  id: totrans-97
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/ede4dd301fb2d100773d9a5b77baac7f.png)'
- en: The parameter is called â€œ**indexed**â€ simply to indicate that it is not a scalar
    parameter (*i.e.*, a single number), but a 2-D matrix of numbers. To retrieve
    a number from this *indexed parameter* you need to specify two indices, ğ‘– and
    ğ‘—, which in turn will be taken from the set ğ•Š.
  id: totrans-98
  prefs: []
  type: TYPE_NORMAL
  zh: å‚æ•°ä¹‹æ‰€ä»¥ç§°ä¸ºâ€œ**ç´¢å¼•çš„**â€ï¼Œä»…ä»…æ˜¯ä¸ºäº†è¡¨æ˜å®ƒä¸æ˜¯ä¸€ä¸ªæ ‡é‡å‚æ•°ï¼ˆ*å³*ï¼Œå•ä¸ªæ•°å­—ï¼‰ï¼Œè€Œæ˜¯ä¸€ä¸ªäºŒç»´æ•°å­—çŸ©é˜µã€‚è¦ä»è¿™ä¸ª*ç´¢å¼•å‚æ•°*ä¸­æ£€ç´¢ä¸€ä¸ªæ•°å­—ï¼Œä½ éœ€è¦æŒ‡å®šä¸¤ä¸ªç´¢å¼•ğ‘–å’Œğ‘—ï¼Œè¿™ä¸¤ä¸ªç´¢å¼•ä¼šä»é›†åˆğ•Šä¸­å–å‡ºã€‚
- en: ğ•Š and ğ·áµ¢â±¼ are the only â€œdata componentsâ€ present in the conceptual model. But
    that shouldnâ€™t limit our ability to come up with other sets or parameters that
    *prove useful when building a model*.
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: ğ•Šå’Œğ·áµ¢â±¼æ˜¯æ¦‚å¿µæ¨¡å‹ä¸­å”¯ä¸€çš„â€œæ•°æ®ç»„ä»¶â€ã€‚ä½†è¿™ä¸åº”è¯¥é™åˆ¶æˆ‘ä»¬æå‡ºå…¶ä»–é›†åˆæˆ–å‚æ•°çš„èƒ½åŠ›ï¼Œ*å®ƒä»¬åœ¨æ„å»ºæ¨¡å‹æ—¶å¯èƒ½ä¼šå¾ˆæœ‰ç”¨*ã€‚
- en: As an illustration, note that the indices of ğ·áµ¢â±¼, ğ‘– and ğ‘—, are members of ğ•Š
    but *cannot coincide*. If they did, the distance would be zero, which is a trivial
    datum. Besides, we would never go from one place to itself again, so it is useless
    to consider pairs (ğ‘–, ğ‘–) at all. Thus, itâ€™s useful to limit the combinations that
    pairs (ğ‘–, ğ‘—) can take, **so that modeling becomes easier (and *errors less likely*).**
    To that end, we now create another set, ğ”¸, **derived** from ğ•Š, that contains all
    pairs (ğ‘–, ğ‘—) of *different sites*. Each pair represents an **arc** connecting
    site ğ‘– to site ğ‘—, hence the symbol ğ”¸.
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸¾ä¸ªä¾‹å­ï¼Œè¯·æ³¨æ„ğ·áµ¢â±¼çš„ç´¢å¼•ğ‘–å’Œğ‘—æ˜¯ğ•Šçš„æˆå‘˜ï¼Œä½†*ä¸èƒ½é‡åˆ*ã€‚å¦‚æœå®ƒä»¬é‡åˆï¼Œè·ç¦»å°†ä¸ºé›¶ï¼Œè¿™æ˜¯ä¸€ä¸ªå¹³å‡¡çš„æ•°æ®ã€‚æ­¤å¤–ï¼Œæˆ‘ä»¬ä¸ä¼šä»ä¸€ä¸ªåœ°æ–¹å†æ¬¡å›åˆ°è‡ªå·±ï¼Œå› æ­¤å®Œå…¨æ²¡æœ‰å¿…è¦è€ƒè™‘å¯¹ï¼ˆğ‘–,
    ğ‘–ï¼‰ã€‚å› æ­¤ï¼Œé™åˆ¶å¯¹ï¼ˆğ‘–, ğ‘—ï¼‰çš„ç»„åˆæ˜¯æœ‰ç”¨çš„ï¼Œ**ä»¥ä¾¿å»ºæ¨¡å˜å¾—æ›´å®¹æ˜“ï¼ˆå¹¶ä¸”*é”™è¯¯å¯èƒ½æ€§æ›´å°*ï¼‰**ã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬ç°åœ¨åˆ›å»ºå¦ä¸€ä¸ªé›†åˆğ”¸ï¼Œ**æºè‡ª**ğ•Šï¼ŒåŒ…å«æ‰€æœ‰*ä¸åŒåœ°ç‚¹*çš„å¯¹ï¼ˆğ‘–,
    ğ‘—ï¼‰ã€‚æ¯å¯¹è¡¨ç¤ºä¸€ä¸ª**å¼§**ï¼Œè¿æ¥åœ°ç‚¹ğ‘–åˆ°åœ°ç‚¹ğ‘—ï¼Œå› æ­¤ç¬¦å·æ˜¯ğ”¸ã€‚
- en: '*ğŸ“* **An arc is just a â€œdirected linkâ€** between two nodes of a â€œnetworkâ€.
    Just think of an arc (ğ‘–, ğ‘—) as a vector starting at ğ‘– and ending at ğ‘—. **When
    the â€œlinkâ€ between two nodes is not directed** (i.e., the direction is irrelevant)
    **the word â€œedgeâ€ is used**, as saying â€œundirected arcâ€ all the time would be
    too wordy. People in Graph Theory like to be efficient too.'
  id: totrans-101
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '*ğŸ“* **å¼§åªæ˜¯ä¸¤ä¸ªèŠ‚ç‚¹ä¹‹é—´çš„â€œæœ‰å‘è¿æ¥â€**ã€‚åªéœ€å°†å¼§ï¼ˆğ‘–, ğ‘—ï¼‰è§†ä¸ºä¸€ä¸ªä»ğ‘–å¼€å§‹å¹¶åœ¨ğ‘—å¤„ç»“æŸçš„å‘é‡ã€‚**å½“ä¸¤ä¸ªèŠ‚ç‚¹ä¹‹é—´çš„â€œè¿æ¥â€æ²¡æœ‰æ–¹å‘**ï¼ˆå³æ–¹å‘æ— å…³ç´§è¦ï¼‰**æ—¶ï¼Œä½¿ç”¨â€œè¾¹â€è¿™ä¸ªè¯**ï¼Œå› ä¸ºä¸€ç›´è¯´â€œæ— å‘å¼§â€ä¼šå¤ªå•°å—¦ã€‚å›¾è®ºä¸­çš„äººä»¬ä¹Ÿå–œæ¬¢é«˜æ•ˆã€‚'
- en: A nice property of ğ”¸ is that it is the **domain over which** ğ·áµ¢â±¼ **is defined**,
    and as we will see when implementing the model in Python, defining such a domain
    explicitly makes it *reusable* for other model components, and thatâ€™s also convenient.
  id: totrans-102
  prefs: []
  type: TYPE_NORMAL
  zh: ğ”¸çš„ä¸€ä¸ªå¥½å±æ€§æ˜¯å®ƒæ˜¯**å®šä¹‰ğ·áµ¢â±¼çš„åŸŸ**ï¼Œæ­£å¦‚æˆ‘ä»¬åœ¨ç”¨Pythonå®ç°æ¨¡å‹æ—¶æ‰€çœ‹åˆ°çš„ï¼Œæ˜¾å¼åœ°å®šä¹‰è¿™æ ·çš„åŸŸä½¿å…¶*å¯é‡ç”¨*äºå…¶ä»–æ¨¡å‹ç»„ä»¶ï¼Œè¿™ä¹Ÿæ˜¯å¾ˆæ–¹ä¾¿çš„ã€‚
- en: 'Set of possible arcs between different sites:'
  id: totrans-103
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ä¸åŒç«™ç‚¹ä¹‹é—´å¯èƒ½çš„å¼§é›†ï¼š
- en: '![](../Images/d715b2ebc97925fc3acc15991d0d540e.png)'
  id: totrans-104
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/d715b2ebc97925fc3acc15991d0d540e.png)'
- en: '**Expression 2.2.** (Derived) set of possible arcs of the tour (site-to-site
    paths).'
  id: totrans-105
  prefs: []
  type: TYPE_NORMAL
  zh: '**è¡¨è¾¾å¼2.2.**ï¼ˆå¯¼å‡ºçš„ï¼‰å·¡å›è·¯å¾„ï¼ˆç«™ç‚¹åˆ°ç«™ç‚¹è·¯å¾„ï¼‰å¯èƒ½çš„å¼§é›†ã€‚'
- en: 4.2\. Encoding decisions in variables
  id: totrans-106
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 4.2\. å°†å†³ç­–ç¼–ç ä¸ºå˜é‡
- en: Since we are building a model so it can tell us what actions we should take,
    and these prescribed actions are *unknown* to us before the model is optimized,
    we must encode into variables all the **potential actions we could take**.
  id: totrans-107
  prefs: []
  type: TYPE_NORMAL
  zh: ç”±äºæˆ‘ä»¬æ­£åœ¨æ„å»ºä¸€ä¸ªæ¨¡å‹ï¼Œä»¥ä¾¿å®ƒå¯ä»¥å‘Šè¯‰æˆ‘ä»¬åº”è¯¥é‡‡å–å“ªäº›è¡ŒåŠ¨ï¼Œå¹¶ä¸”è¿™äº›è§„å®šçš„è¡ŒåŠ¨åœ¨æ¨¡å‹ä¼˜åŒ–ä¹‹å‰å¯¹æˆ‘ä»¬æ¥è¯´æ˜¯*æœªçŸ¥çš„*ï¼Œæˆ‘ä»¬å¿…é¡»å°†æ‰€æœ‰**æˆ‘ä»¬å¯ä»¥é‡‡å–çš„æ½œåœ¨è¡ŒåŠ¨**ç¼–ç ä¸ºå˜é‡ã€‚
- en: But how do we define such potential actions? From our conceptual model, the
    generic â€œdecisionâ€ we need to make is the â€œorder in which to visit the sitesâ€.
    This â€œorderâ€ refers to one path among all possible paths we could follow when
    doing a tour. The key idea is that a *path is made of a sequence of arcs connecting
    individual nodes (i.e., sites)*. Therefore, **deciding to do a particular path
    is actually deciding to traverse a particular sequence of arcs.** **These â€œatomic
    decisionsâ€ about *whether or not* to traverse a particular arc connecting two
    sites** are the decisions we want to encode as variables.
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
  zh: ä½†æˆ‘ä»¬å¦‚ä½•å®šä¹‰è¿™äº›æ½œåœ¨çš„è¡ŒåŠ¨å‘¢ï¼Ÿæ ¹æ®æˆ‘ä»¬çš„æ¦‚å¿µæ¨¡å‹ï¼Œæˆ‘ä»¬éœ€è¦åšå‡ºçš„é€šç”¨â€œå†³ç­–â€æ˜¯â€œè®¿é—®å„ä¸ªç«™ç‚¹çš„é¡ºåºâ€ã€‚è¿™ä¸ªâ€œé¡ºåºâ€æŒ‡çš„æ˜¯åœ¨è¿›è¡Œå·¡å›æ—¶æˆ‘ä»¬å¯ä»¥éµå¾ªçš„æ‰€æœ‰å¯èƒ½è·¯å¾„ä¸­çš„ä¸€æ¡ã€‚å…³é”®æ€æƒ³æ˜¯*è·¯å¾„ç”±è¿æ¥å•ä¸ªèŠ‚ç‚¹ï¼ˆå³ç«™ç‚¹ï¼‰çš„å¼§çš„åºåˆ—ç»„æˆ*ã€‚å› æ­¤ï¼Œ**å†³å®šé‡‡å–ç‰¹å®šè·¯å¾„å®é™…ä¸Šæ˜¯å†³å®šç©¿è¶Šç‰¹å®šçš„å¼§åºåˆ—**ã€‚**è¿™äº›å…³äº*æ˜¯å¦*ç©¿è¶Šè¿æ¥ä¸¤ä¸ªç«™ç‚¹çš„ç‰¹å®šå¼§çš„â€œåŸå­å†³ç­–â€**å°±æ˜¯æˆ‘ä»¬å¸Œæœ›ä½œä¸ºå˜é‡è¿›è¡Œç¼–ç çš„å†³ç­–ã€‚
- en: '*â€œWhether or not* to go from site A to site Bâ€ is clearly a **binary decision**:
    either I go, or I donâ€™t. Because of this nature, the decision variables need to
    be binary (*i.e.*, taking only 0 or 1 as values) and are defined only for valid
    arcs (for which the derived ğ”¸ comes in handy now). In mathematical terms:'
  id: totrans-109
  prefs: []
  type: TYPE_NORMAL
  zh: '*â€œæ˜¯å¦*ä»ç«™ç‚¹Aå‰å¾€ç«™ç‚¹Bâ€æ˜¾ç„¶æ˜¯ä¸€ä¸ª**äºŒå…ƒå†³ç­–**ï¼šè¦ä¹ˆå»ï¼Œè¦ä¹ˆä¸å»ã€‚ç”±äºè¿™ç§ç‰¹æ€§ï¼Œå†³ç­–å˜é‡éœ€è¦æ˜¯äºŒå…ƒçš„ï¼ˆ*å³*ï¼Œåªå–0æˆ–1ä½œä¸ºå€¼ï¼‰ï¼Œå¹¶ä¸”ä»…å¯¹æœ‰æ•ˆçš„å¼§å®šä¹‰ï¼ˆå› æ­¤å¯¼å‡ºçš„ğ”¸ç°åœ¨æ´¾ä¸Šç”¨åœºï¼‰ã€‚ç”¨æ•°å­¦æœ¯è¯­è¡¨ç¤ºï¼š'
- en: '![](../Images/991fc19df0913c668de95e6e5728825e.png)'
  id: totrans-110
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/991fc19df0913c668de95e6e5728825e.png)'
- en: '**Expression 2.3.** Binary (go/no-go) decision variables, defined over possible
    arcs only.'
  id: totrans-111
  prefs: []
  type: TYPE_NORMAL
  zh: '**è¡¨è¾¾å¼2.3.** ä»…å®šä¹‰åœ¨å¯èƒ½çš„å¼§ä¸Šçš„äºŒå…ƒï¼ˆå»/ä¸å»ï¼‰å†³ç­–å˜é‡ã€‚'
- en: '**There is a unique decision variable for each possible arc (ğ‘–, ğ‘—)**, but when
    the model is optimized, we will only be interested in **the variables that take
    the value 1, for they indicate what arcs should be traversed.** For example, if
    the variable ğ›¿áµ¢â±¼, with ğ‘–=*hotel*, and ğ‘—=*Louvre*, takes the value 1, it means
    we should go from the hotel to the Louvre as part of our tour.'
  id: totrans-112
  prefs: []
  type: TYPE_NORMAL
  zh: '**æ¯ä¸ªå¯èƒ½çš„å¼§ï¼ˆğ‘–, ğ‘—ï¼‰éƒ½æœ‰ä¸€ä¸ªå”¯ä¸€çš„å†³ç­–å˜é‡**ï¼Œä½†å½“æ¨¡å‹ä¼˜åŒ–æ—¶ï¼Œæˆ‘ä»¬åªå…³å¿ƒ**å–å€¼ä¸º1çš„å˜é‡ï¼Œå› ä¸ºå®ƒä»¬æŒ‡ç¤ºäº†åº”ç©¿è¶Šå“ªäº›å¼§**ã€‚ä¾‹å¦‚ï¼Œå¦‚æœå˜é‡ğ›¿áµ¢â±¼ï¼Œå…¶ä¸­ğ‘–=*hotel*ï¼Œğ‘—=*Louvre*ï¼Œå–å€¼ä¸º1ï¼Œåˆ™æ„å‘³ç€æˆ‘ä»¬åº”è¯¥ä»é…’åº—åˆ°å¢æµ®å®«ä½œä¸ºæˆ‘ä»¬å·¡å›çš„ä¸€éƒ¨åˆ†ã€‚'
- en: 4.3\. Defining the objective
  id: totrans-113
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 4.3\. å®šä¹‰ç›®æ ‡
- en: 'Imagine we have 4 points, ğ‘, ğ‘, ğ‘, ğ‘‘, and we follow the path ğ‘ â†’ ğ‘ â†’ ğ‘, in
    which point ğ‘‘ is not visited. Its total distance is the sum of the distances of
    its arcs: ğ·áµƒáµ‡ + ğ·áµ‡á¶œ. But, if we donâ€™t know in advance what path we will follow,
    **how do we represent the total distance of this unknown path?**'
  id: totrans-114
  prefs: []
  type: TYPE_NORMAL
  zh: æƒ³è±¡æˆ‘ä»¬æœ‰4ä¸ªç‚¹ï¼Œğ‘, ğ‘, ğ‘, ğ‘‘ï¼Œä¸”æˆ‘ä»¬éµå¾ªè·¯å¾„ğ‘ â†’ ğ‘ â†’ ğ‘ï¼Œå…¶ä¸­ç‚¹ğ‘‘æœªè¢«è®¿é—®ã€‚å®ƒçš„æ€»è·ç¦»æ˜¯å…¶å¼§çš„è·ç¦»ä¹‹å’Œï¼šğ·áµƒáµ‡ + ğ·áµ‡á¶œã€‚ä½†æ˜¯ï¼Œå¦‚æœæˆ‘ä»¬äº‹å…ˆä¸çŸ¥é“å°†éµå¾ªä»€ä¹ˆè·¯å¾„ï¼Œ**æˆ‘ä»¬å¦‚ä½•è¡¨ç¤ºè¿™æ¡æœªçŸ¥è·¯å¾„çš„æ€»è·ç¦»ï¼Ÿ**
- en: '*ğŸ’¡* Precisely because the optimal path is unknown, **we need an expression
    that covers all possible paths**, but that reduces to the distance of the â€œbest
    pathâ€ when the model is optimized.'
  id: totrans-115
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '*ğŸ’¡* æ­£å› ä¸ºæœ€ä¼˜è·¯å¾„æœªçŸ¥ï¼Œ**æˆ‘ä»¬éœ€è¦ä¸€ä¸ªè¦†ç›–æ‰€æœ‰å¯èƒ½è·¯å¾„çš„è¡¨è¾¾å¼**ï¼Œä½†å½“æ¨¡å‹ä¼˜åŒ–æ—¶ï¼Œå®ƒä¼šç®€åŒ–ä¸ºâ€œæœ€ä½³è·¯å¾„â€çš„è·ç¦»ã€‚'
- en: By exploiting the fact that any *traversed* arc (ğ‘–, ğ‘—) will have ğ›¿áµ¢â±¼ = 1, and
    any *untraversed* arc (ğ‘–â€²,ğ‘—â€²) will have ğ›¿áµ¢á‘Šâ±¼á‘Š = 0, we can create an expression
    that, once the variables have been decided, will **reduce to the total distance
    of the traversed path**. The way to do that is to **â€œadd up all potentialitiesâ€**,
    *i.e.*, to do the summation over all possible arc distances ğ·áµ¢â±¼ weighted by their
    binary â€œarc variablesâ€ ğ›¿áµ¢â±¼, and let the 0â€™s and 1â€™s that those variables will
    take decide which distances remain (ğ·áµ¢â±¼ Ã— 1 = ğ·áµ¢â±¼) and which vanish (ğ·áµ¢â±¼ Ã— 0 =
    0), in the expression for the total distance. This â€œsummation of potentialitiesâ€
    represents the total distance the final tour will take, so it will be our objective
    (called ğ‘) to be *minimized*.
  id: totrans-116
  prefs: []
  type: TYPE_NORMAL
  zh: é€šè¿‡åˆ©ç”¨ä»»ä½•*éå†*å¼§ï¼ˆğ‘–, ğ‘—ï¼‰å°†æœ‰ğ›¿áµ¢â±¼ = 1ï¼Œè€Œä»»ä½•*æœªéå†*å¼§ï¼ˆğ‘–â€²,ğ‘—â€²ï¼‰å°†æœ‰ğ›¿áµ¢á‘Šâ±¼á‘Š = 0ï¼Œæˆ‘ä»¬å¯ä»¥åˆ›å»ºä¸€ä¸ªè¡¨è¾¾å¼ï¼Œä¸€æ—¦å˜é‡è¢«å†³å®šï¼Œå®ƒå°†**ç®€åŒ–ä¸ºéå†è·¯å¾„çš„æ€»è·ç¦»**ã€‚æ–¹æ³•æ˜¯**â€œç´¯åŠ æ‰€æœ‰å¯èƒ½æ€§â€**ï¼Œ*å³*å¯¹æ‰€æœ‰å¯èƒ½çš„å¼§è·ç¦»ğ·áµ¢â±¼è¿›è¡ŒåŠ æƒæ±‚å’Œï¼Œæƒé‡ä¸ºå…¶äºŒè¿›åˆ¶â€œå¼§å˜é‡â€ğ›¿áµ¢â±¼ï¼Œè®©è¿™äº›å˜é‡å–çš„0å’Œ1å†³å®šå“ªäº›è·ç¦»ä¿ç•™ï¼ˆğ·áµ¢â±¼
    Ã— 1 = ğ·áµ¢â±¼ï¼‰å“ªäº›æ¶ˆå¤±ï¼ˆğ·áµ¢â±¼ Ã— 0 = 0ï¼‰ï¼Œåœ¨æ€»è·ç¦»çš„è¡¨è¾¾å¼ä¸­ã€‚è¿™ç§â€œå¯èƒ½æ€§çš„æ±‚å’Œâ€ä»£è¡¨äº†æœ€ç»ˆå·¡å›å°†è¡Œèµ°çš„æ€»è·ç¦»ï¼Œå› æ­¤å®ƒå°†æ˜¯æˆ‘ä»¬çš„ç›®æ ‡ï¼ˆç§°ä¸ºğ‘ï¼‰éœ€è¦*æœ€å°åŒ–*ã€‚
- en: 'Mathematically, this is expressed as:'
  id: totrans-117
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨æ•°å­¦ä¸Šï¼Œè¿™è¡¨ç¤ºä¸ºï¼š
- en: '![](../Images/83034bc0bd4482a82054bf782181fd43.png)'
  id: totrans-118
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/83034bc0bd4482a82054bf782181fd43.png)'
- en: '**Expression 2.4.** Definition of the objective function in its raw version,
    using the primitive set ğ•Š only (left); and its simplified version, using the derived
    set ğ”¸ (right).'
  id: totrans-119
  prefs: []
  type: TYPE_NORMAL
  zh: '**è¡¨è¾¾å¼ 2.4.** ç›®æ ‡å‡½æ•°çš„åŸå§‹ç‰ˆæœ¬å®šä¹‰ï¼Œä½¿ç”¨åŸå§‹é›†ğ•Šï¼ˆå·¦ï¼‰ï¼›ä»¥åŠå…¶ç®€åŒ–ç‰ˆæœ¬ï¼Œä½¿ç”¨æ´¾ç”Ÿé›†ğ”¸ï¼ˆå³ï¼‰ã€‚'
- en: Note how the summation at the right has become simpler to read (and implement)
    thanks to the use of ğ”¸, the domain (set of indices) for both ğ·áµ¢â±¼ and ğ›¿áµ¢â±¼.
  id: totrans-120
  prefs: []
  type: TYPE_NORMAL
  zh: æ³¨æ„å³ä¾§çš„æ±‚å’Œå› ä¸ºä½¿ç”¨äº†ğ”¸ï¼ˆå³ğ·áµ¢â±¼å’Œğ›¿áµ¢â±¼çš„åŸŸï¼ˆç´¢å¼•é›†åˆï¼‰ï¼‰å˜å¾—æ›´æ˜“è¯»ï¼ˆå’Œå®ç°ï¼‰ã€‚
- en: Also, note that **the objective constitutes our definition of goodness**. Since
    we want to minimize it, a lower value is **better** than a higher value, so obviously,
    the minimum value is the **best** value. The values of the decision variables
    ğ›¿áµ¢â±¼ that correspond to this â€œbestâ€ value of the objective constitute the (optimal)
    solution to the problem, and they will be found by the optimization process.
  id: totrans-121
  prefs: []
  type: TYPE_NORMAL
  zh: åŒæ ·ï¼Œæ³¨æ„åˆ°**ç›®æ ‡æ„æˆäº†æˆ‘ä»¬å¯¹ä¼˜è‰¯æ€§çš„å®šä¹‰**ã€‚ç”±äºæˆ‘ä»¬å¸Œæœ›æœ€å°åŒ–ç›®æ ‡ï¼Œå› æ­¤è¾ƒä½çš„å€¼æ˜¯**æ›´å¥½**çš„ï¼Œè€Œæ˜¾ç„¶ï¼Œæœ€å°å€¼æ˜¯**æœ€ä½³**å€¼ã€‚ä¸è¿™ä¸€â€œæœ€ä½³â€ç›®æ ‡å€¼ç›¸å¯¹åº”çš„å†³ç­–å˜é‡ğ›¿áµ¢â±¼çš„å€¼æ„æˆäº†é—®é¢˜çš„ï¼ˆæœ€ä¼˜ï¼‰è§£ï¼Œå®ƒä»¬å°†é€šè¿‡ä¼˜åŒ–è¿‡ç¨‹æ‰¾åˆ°ã€‚
- en: 4.4\. Creating the constraints
  id: totrans-122
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 4.4. åˆ›å»ºçº¦æŸ
- en: 'From our conceptual model, we have:'
  id: totrans-123
  prefs: []
  type: TYPE_NORMAL
  zh: ä»æˆ‘ä»¬çš„æ¦‚å¿µæ¨¡å‹ä¸­ï¼Œæˆ‘ä»¬å¾—åˆ°ï¼š
- en: All sites are visited.
  id: totrans-124
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: æ‰€æœ‰ç«™ç‚¹éƒ½è¢«è®¿é—®ã€‚
- en: Each site is visited just once
  id: totrans-125
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: æ¯ä¸ªç«™ç‚¹ä»…è¢«è®¿é—®ä¸€æ¬¡
- en: The last site visited is the site we started from (we do a closed tour)
  id: totrans-126
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: æœ€åè®¿é—®çš„ç«™ç‚¹æ˜¯æˆ‘ä»¬å¼€å§‹çš„ç«™ç‚¹ï¼ˆæˆ‘ä»¬è¿›è¡Œä¸€ä¸ªé—­åˆå·¡å›ï¼‰
- en: We realize that requirement (1) is already â€œincludedâ€ in requirement (2), for
    if *each* site is visited just once, that entails each site is visited, and thus
    *all sites* are visited. So we dismiss the need for a separate constraint for
    requirement (1) and focus on how to model requirement (2) as a constraint.
  id: totrans-127
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬æ„è¯†åˆ°è¦æ±‚ï¼ˆ1ï¼‰å·²åŒ…å«åœ¨è¦æ±‚ï¼ˆ2ï¼‰ä¸­ï¼Œå› ä¸ºå¦‚æœ*æ¯ä¸ª*ç«™ç‚¹ä»…è¢«è®¿é—®ä¸€æ¬¡ï¼Œè¿™æ„å‘³ç€æ¯ä¸ªç«™ç‚¹éƒ½è¢«è®¿é—®äº†ï¼Œå› æ­¤*æ‰€æœ‰ç«™ç‚¹*éƒ½è¢«è®¿é—®äº†ã€‚å› æ­¤æˆ‘ä»¬ä¸å†éœ€è¦å•ç‹¬çš„çº¦æŸæ¥æ»¡è¶³è¦æ±‚ï¼ˆ1ï¼‰ï¼Œè€Œæ˜¯ä¸“æ³¨äºå¦‚ä½•å°†è¦æ±‚ï¼ˆ2ï¼‰å»ºæ¨¡ä¸ºçº¦æŸã€‚
- en: 'To say that â€œeach site is visited just onceâ€ is the same as to say that â€œeach
    site is *entered* and *exited* just onceâ€. And that phrase, in turn, is equivalent
    to these two phrases together: â€œeach site is *entered* just onceâ€ **and** â€œeach
    site is *exited* just onceâ€. Letâ€™s model the â€œphrasesâ€ separately:'
  id: totrans-128
  prefs: []
  type: TYPE_NORMAL
  zh: è¯´â€œæ¯ä¸ªç«™ç‚¹ä»…è¢«è®¿é—®ä¸€æ¬¡â€ä¸è¯´â€œæ¯ä¸ªç«™ç‚¹ä»…è¢«*è¿›å…¥*å’Œ*é€€å‡º*ä¸€æ¬¡â€æ˜¯ä¸€æ ·çš„ã€‚è¿™ä¸ªçŸ­è¯­åˆç­‰åŒäºè¿™ä¸¤ä¸ªçŸ­è¯­çš„ç»“åˆï¼šâ€œæ¯ä¸ªç«™ç‚¹ä»…è¢«*è¿›å…¥*ä¸€æ¬¡â€**å’Œ**â€œæ¯ä¸ªç«™ç‚¹ä»…è¢«*é€€å‡º*ä¸€æ¬¡â€ã€‚æˆ‘ä»¬æ¥åˆ†åˆ«å»ºæ¨¡è¿™äº›â€œçŸ­è¯­â€ï¼š
- en: '**Each site is *entered* just once**:'
  id: totrans-129
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**æ¯ä¸ªç«™ç‚¹ä»…*è¿›å…¥*ä¸€æ¬¡**ï¼š'
- en: '![](../Images/b77de8c8305e21df5c734eb15e98d8b5.png)'
  id: totrans-130
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/b77de8c8305e21df5c734eb15e98d8b5.png)'
- en: '**Expression 2.5.** Constraint set enforcing that each site is â€œenteredâ€ just
    once.'
  id: totrans-131
  prefs: []
  type: TYPE_NORMAL
  zh: '**è¡¨è¾¾å¼ 2.5.** çº¦æŸé›†è¦æ±‚æ¯ä¸ªç«™ç‚¹ä»…è¢«â€œè¿›å…¥â€ä¸€æ¬¡ã€‚'
- en: 'Itâ€™s useful to *read* the whole expression from right to left. If you first
    see over which indices the constraint is defined, interpreting the meaning of
    the constraint definition on the left side will be easier. I would read this constraint
    aloud as:'
  id: totrans-132
  prefs: []
  type: TYPE_NORMAL
  zh: '*ä»å³åˆ°å·¦*é˜…è¯»æ•´ä¸ªè¡¨è¾¾å¼æ˜¯æœ‰ç”¨çš„ã€‚å¦‚æœä½ é¦–å…ˆçœ‹åˆ°çº¦æŸå®šä¹‰çš„æŒ‡æ ‡ï¼Œè§£é‡Šå·¦ä¾§çº¦æŸå®šä¹‰çš„å«ä¹‰ä¼šæ›´å®¹æ˜“ã€‚æˆ‘ä¼šè¿™æ ·å¤§å£°è¯»å‡ºè¿™ä¸ªçº¦æŸï¼š'
- en: '*for each site ğ‘— belonging to the set of all sites ğ•Š, the sum of all potential
    arcs ğ›¿*áµ¢â±¼**arriving at *ğ‘—*** *must be equal to 1, meaning that* only one***incoming******arc***
    *must happen at ğ‘—. Or, more colloquially: each site must be* visited from *only
    one other site.*'
  id: totrans-133
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '*å¯¹äºå±äºæ‰€æœ‰ç«™ç‚¹é›†åˆğ•Šçš„æ¯ä¸ªç«™ç‚¹ğ‘—ï¼Œæ‰€æœ‰æ½œåœ¨å¼§ ğ›¿*áµ¢â±¼**åˆ°è¾¾*ğ‘—***çš„æ€»å’Œ*å¿…é¡»ç­‰äº1ï¼Œè¿™æ„å‘³ç€*ä»…æœ‰ä¸€ä¸ª***å…¥å¼§*** *å¿…é¡»å‘ç”Ÿåœ¨ğ‘—ã€‚æˆ–è€…ï¼Œæ›´é€šä¿—åœ°è¯´ï¼šæ¯ä¸ªç«™ç‚¹å¿…é¡»*ä»*ä»…æœ‰çš„ä¸€ä¸ªå…¶ä»–ç«™ç‚¹*è®¿é—®ã€‚*'
- en: '**Each site is *exited* just once**:'
  id: totrans-134
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**æ¯ä¸ªç«™ç‚¹*ç¦»å¼€*ä¸€æ¬¡**ï¼š'
- en: '![](../Images/19605aa22a16c154824f63abdd7e883e.png)'
  id: totrans-135
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/19605aa22a16c154824f63abdd7e883e.png)'
- en: '**Expression 2.6.** Constraint set enforcing that each site is â€œexitedâ€ just
    once.'
  id: totrans-136
  prefs: []
  type: TYPE_NORMAL
  zh: '**è¡¨è¾¾å¼ 2.6ã€‚** çº¦æŸé›†å¼ºåˆ¶æ¯ä¸ªç«™ç‚¹â€œç¦»å¼€â€ä¸€æ¬¡ã€‚'
- en: 'I would read this constraint as:'
  id: totrans-137
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä¼šè¿™æ ·é˜…è¯»è¿™ä¸ªçº¦æŸï¼š
- en: '*for each site ğ‘– belonging to the set of all sites ğ•Š, the sum of all potential
    arcs ğ›¿*áµ¢â±¼**departing from *ğ‘–*** *must be equal to 1, meaning that* only one***outgoing******arc***
    *must happen at ğ‘–. Or, more colloquially: each site must* departure to *only one
    other site.*'
  id: totrans-138
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '*å¯¹äºå±äºæ‰€æœ‰ç«™ç‚¹é›†åˆğ•Šçš„æ¯ä¸ªç«™ç‚¹ğ‘–ï¼Œæ‰€æœ‰æ½œåœ¨å¼§ ğ›¿*áµ¢â±¼**ä»*ğ‘–***çš„æ€»å’Œ*å¿…é¡»ç­‰äº1ï¼Œè¿™æ„å‘³ç€*ä»…æœ‰ä¸€ä¸ª***å‡ºå¼§*** *å¿…é¡»å‘ç”Ÿåœ¨ğ‘–ã€‚æˆ–è€…ï¼Œæ›´é€šä¿—åœ°è¯´ï¼šæ¯ä¸ªç«™ç‚¹å¿…é¡»*ç¦»å¼€åˆ°*ä»…æœ‰çš„ä¸€ä¸ªå…¶ä»–ç«™ç‚¹ã€‚*'
- en: 'Weâ€™re left with only requirement (3). It states that the optimal path must
    finish at the same site it started from, or equivalently, that the path must be
    a tour (a closed loop). Hereâ€™s a possible line of reasoning one can have at first
    sight: â€œBecause we have already created constraints to enforce that each site
    is **both *entered* and *exited* once**, this implies that the resulting path
    must be closed, since it is impossible for any site to be a â€œsinkâ€ (*i.e., a*
    site has one incoming arc but *no outgoing arcs*) or to be a â€œsourceâ€ (*i.e.,*
    a site has an outgoing arc but *no incoming arcs*). Therefore, the previous two
    constraints, *presumably*, **force the final trajectory to be a closed loopâ€.**'
  id: totrans-139
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬åªå‰©ä¸‹è¦æ±‚ (3)ã€‚å®ƒè§„å®šæœ€ä½³è·¯å¾„å¿…é¡»ä»èµ·ç‚¹è¿”å›åˆ°èµ·ç‚¹ï¼Œæˆ–è€…ç­‰æ•ˆåœ°ï¼Œè·¯å¾„å¿…é¡»æ˜¯ä¸€ä¸ªå›è·¯ï¼ˆä¸€ä¸ªé—­åˆçš„ç¯ï¼‰ã€‚è¿™é‡Œæœ‰ä¸€ç§åˆæ­¥çš„æ¨ç†æ–¹å¼ï¼šâ€œå› ä¸ºæˆ‘ä»¬å·²ç»è®¾ç½®äº†çº¦æŸæ¥ç¡®ä¿æ¯ä¸ªç«™ç‚¹**è¢«*è¿›å…¥*å’Œ*ç¦»å¼€*ä¸€æ¬¡**ï¼Œè¿™æ„å‘³ç€ç»“æœè·¯å¾„å¿…é¡»æ˜¯é—­åˆçš„ï¼Œå› ä¸ºä»»ä½•ç«™ç‚¹éƒ½ä¸å¯èƒ½æ˜¯â€œæ±‡ç‚¹â€ï¼ˆ*å³ï¼Œ*ä¸€ä¸ªç«™ç‚¹æœ‰ä¸€ä¸ªå…¥å¼§ä½†*æ²¡æœ‰å‡ºå¼§*ï¼‰æˆ–è€…æ˜¯â€œæºç‚¹â€ï¼ˆ*å³ï¼Œ*ä¸€ä¸ªç«™ç‚¹æœ‰ä¸€ä¸ªå‡ºå¼§ä½†*æ²¡æœ‰å…¥å¼§*ï¼‰ã€‚å› æ­¤ï¼Œå‰ä¸¤ä¸ªçº¦æŸï¼Œ*å¤§æ¦‚*ï¼Œ**å¼ºåˆ¶æœ€ç»ˆè½¨è¿¹æˆä¸ºä¸€ä¸ªé—­åˆå›è·¯**ã€‚â€
- en: '**Is that line of reasoning correct?** Letâ€™s take an experimental approach.
    Letâ€™s assume this reasoning is correct, and try to solve the model as is now.
    When we look at the solution, we will see if it looks right or if somethingâ€™s
    wrong. **If the results are wrong (or donâ€™t make sense in any way), we can always
    go back and revise our logic** (something which in real-life projects happens
    all the time). **The implementation, solution, and â€œexperimental validationâ€**
    is what itâ€™s covered in our â€œ[next sprint](https://medium.com/@carlosjuribe/plan-optimal-trips-automatically-with-python-and-operations-research-models-part-2-fc7ee8198b6c)â€,
    where a Python model is created, solved, inspected, and re-formulated based on
    the results we get.'
  id: totrans-140
  prefs: []
  type: TYPE_NORMAL
  zh: '**è¿™ç§æ¨ç†æ˜¯å¦æ­£ç¡®ï¼Ÿ** æˆ‘ä»¬é‡‡ç”¨å®éªŒæ–¹æ³•ã€‚å‡è®¾è¿™ç§æ¨ç†æ˜¯æ­£ç¡®çš„ï¼Œç„¶åå°è¯•æŒ‰ç°æœ‰æ¨¡å‹è§£å†³ã€‚å½“æˆ‘ä»¬æŸ¥çœ‹è§£å†³æ–¹æ¡ˆæ—¶ï¼Œæˆ‘ä»¬å°†çœ‹åˆ°å®ƒæ˜¯å¦æ­£ç¡®æˆ–æ˜¯å¦æœ‰é—®é¢˜ã€‚**å¦‚æœç»“æœé”™è¯¯ï¼ˆæˆ–ä»¥ä»»ä½•æ–¹å¼ä¸åˆé€»è¾‘ï¼‰ï¼Œæˆ‘ä»¬å¯ä»¥éšæ—¶è¿”å›å¹¶ä¿®æ­£é€»è¾‘**ï¼ˆè¿™åœ¨ç°å®é¡¹ç›®ä¸­æ—¶å¸¸å‘ç”Ÿï¼‰ã€‚**å®ç°ã€è§£å†³å’Œâ€œå®éªŒéªŒè¯â€**æ˜¯æˆ‘ä»¬åœ¨â€œ[ä¸‹ä¸€ä¸ªå†²åˆº](https://medium.com/@carlosjuribe/plan-optimal-trips-automatically-with-python-and-operations-research-models-part-2-fc7ee8198b6c)â€ä¸­æ¶µç›–çš„å†…å®¹ï¼Œåœ¨é‚£é‡Œåˆ›å»ºäº†ä¸€ä¸ªPythonæ¨¡å‹ï¼Œå¹¶æ ¹æ®å¾—åˆ°çš„ç»“æœè¿›è¡Œè§£å†³ã€æ£€æŸ¥å’Œé‡æ–°åˆ¶å®šã€‚'
- en: 'Thus, we conclude here (*tentatively*) the â€œmathematical model formulationâ€
    stage. Next stop: the â€œ**computer model** implementationâ€, carried out in [Implementing,
    solving, and visualizing the Traveling Salesman Problem with Python](https://medium.com/@carlosjuribe/plan-optimal-trips-automatically-with-python-and-operations-research-models-part-2-fc7ee8198b6c):'
  id: totrans-141
  prefs: []
  type: TYPE_NORMAL
  zh: å› æ­¤ï¼Œæˆ‘ä»¬åœ¨æ­¤ï¼ˆ*æš‚æ—¶*ï¼‰ç»“æŸâ€œæ•°å­¦æ¨¡å‹åˆ¶å®šâ€é˜¶æ®µã€‚ä¸‹ä¸€ç«™æ˜¯â€œ**è®¡ç®—æœºæ¨¡å‹**å®æ–½â€ï¼Œè§[ç”¨Pythonå®ç°ã€è§£å†³å’Œå¯è§†åŒ–æ—…è¡Œå•†é—®é¢˜](https://medium.com/@carlosjuribe/plan-optimal-trips-automatically-with-python-and-operations-research-models-part-2-fc7ee8198b6c)ï¼š
- en: '[](/plan-optimal-trips-automatically-with-python-and-operations-research-models-part-2-fc7ee8198b6c?source=post_page-----bd6530c9c07--------------------------------)
    [## Implementing, solving and visualizing the Traveling Salesman Problem with
    Python'
  id: totrans-142
  prefs: []
  type: TYPE_NORMAL
  zh: '[](/plan-optimal-trips-automatically-with-python-and-operations-research-models-part-2-fc7ee8198b6c?source=post_page-----bd6530c9c07--------------------------------)
    [## ä½¿ç”¨ Python å®ç°ã€æ±‚è§£å’Œå¯è§†åŒ–æ—…è¡Œå•†é—®é¢˜'
- en: Learn how to translate an optimization model from Math to Python, optimize it,
    and visualize the solution to gain quickâ€¦
  id: totrans-143
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: å­¦ä¹ å¦‚ä½•å°†ä¼˜åŒ–æ¨¡å‹ä»æ•°å­¦è½¬åŒ–ä¸º Pythonï¼Œä¼˜åŒ–å®ƒï¼Œå¹¶å¯è§†åŒ–è§£å†³æ–¹æ¡ˆä»¥è·å¾—å¿«é€Ÿç»“æœâ€¦â€¦
- en: towardsdatascience.com](/plan-optimal-trips-automatically-with-python-and-operations-research-models-part-2-fc7ee8198b6c?source=post_page-----bd6530c9c07--------------------------------)
  id: totrans-144
  prefs: []
  type: TYPE_NORMAL
  zh: towardsdatascience.com](/plan-optimal-trips-automatically-with-python-and-operations-research-models-part-2-fc7ee8198b6c?source=post_page-----bd6530c9c07--------------------------------)
- en: There will be more articles of more â€œsprintsâ€ coming out, so if youâ€™re eager
    to be my companion on this journey, stay tuned and **check the project timeline
    in section 3 of the** [**first article in this series**](https://medium.com/@carlosjuribe/plan-an-optimal-trip-for-your-next-holidays-with-the-help-of-operations-research-and-python-481b1ea38fef),
    to navigate to your desired sprint and follow the work being done there.
  id: totrans-145
  prefs: []
  type: TYPE_NORMAL
  zh: å°†ä¼šæœ‰æ›´å¤šâ€œå†²åˆºâ€çš„æ–‡ç« å‘å¸ƒï¼Œå¦‚æœä½ æ¸´æœ›æˆä¸ºæˆ‘åœ¨è¿™æ®µæ—…ç¨‹ä¸­çš„ä¼™ä¼´ï¼Œè¯·ä¿æŒå…³æ³¨ï¼Œå¹¶**æŸ¥çœ‹ç¬¬ 3 èŠ‚ä¸­çš„é¡¹ç›®æ—¶é—´è¡¨** [**æœ¬ç³»åˆ—çš„ç¬¬ä¸€ç¯‡æ–‡ç« **](https://medium.com/@carlosjuribe/plan-an-optimal-trip-for-your-next-holidays-with-the-help-of-operations-research-and-python-481b1ea38fef)ï¼Œä»¥å¯¼èˆªåˆ°ä½ æ„Ÿå…´è¶£çš„å†²åˆºå¹¶è·Ÿè¸ªé‚£é‡Œçš„å·¥ä½œè¿›å±•ã€‚
- en: Also, feel free to follow me, ask me questions in the comments, **give me feedback**,
    or contact me on [LinkedIn](https://www.linkedin.com/in/carlosjuribe/).
  id: totrans-146
  prefs: []
  type: TYPE_NORMAL
  zh: æ­¤å¤–ï¼Œæ¬¢è¿å…³æ³¨æˆ‘ï¼Œåœ¨è¯„è®ºä¸­å‘æˆ‘æé—®ï¼Œ**ç»™æˆ‘åé¦ˆ**ï¼Œæˆ–é€šè¿‡[LinkedIn](https://www.linkedin.com/in/carlosjuribe/)ä¸æˆ‘è”ç³»ã€‚
- en: Thanks for reading, and see you in the [next one](https://medium.com/@carlosjuribe/plan-optimal-trips-automatically-with-python-and-operations-research-models-part-2-fc7ee8198b6c)!
    ğŸ“ˆğŸ˜Š
  id: totrans-147
  prefs: []
  type: TYPE_NORMAL
  zh: æ„Ÿè°¢é˜…è¯»ï¼ŒæœŸå¾…åœ¨[ä¸‹ä¸€ç¯‡æ–‡ç« ](https://medium.com/@carlosjuribe/plan-optimal-trips-automatically-with-python-and-operations-research-models-part-2-fc7ee8198b6c)ä¸­è§åˆ°ä½ ï¼ğŸ“ˆğŸ˜Š
