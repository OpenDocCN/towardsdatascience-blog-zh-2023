- en: 5 easy Python features you can start using today to write better code
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 5 ä¸ªç®€å•çš„ Python ç‰¹æ€§ï¼Œä½ å¯ä»¥ç«‹å³å¼€å§‹ä½¿ç”¨ä»¥ç¼–å†™æ›´å¥½çš„ä»£ç 
- en: åŸæ–‡ï¼š[https://towardsdatascience.com/5-easy-python-features-you-can-start-using-today-to-write-better-code-b62e21190633](https://towardsdatascience.com/5-easy-python-features-you-can-start-using-today-to-write-better-code-b62e21190633)
  id: totrans-1
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: åŸæ–‡ï¼š[https://towardsdatascience.com/5-easy-python-features-you-can-start-using-today-to-write-better-code-b62e21190633](https://towardsdatascience.com/5-easy-python-features-you-can-start-using-today-to-write-better-code-b62e21190633)
- en: Iâ€™ve been using Python for 8+ years. Here are a few Python features I love,
    which makes your code refreshing and efficient.
  id: totrans-2
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: æˆ‘ä½¿ç”¨ Python å·²ç»è¶…è¿‡ 8 å¹´äº†ã€‚ä»¥ä¸‹æ˜¯æˆ‘å–œæ¬¢çš„ä¸€äº› Python ç‰¹æ€§ï¼Œå®ƒä»¬èƒ½ä½¿ä½ çš„ä»£ç ç„•ç„¶ä¸€æ–°ä¸”é«˜æ•ˆã€‚
- en: '[](https://thushv89.medium.com/?source=post_page-----b62e21190633--------------------------------)[![Thushan
    Ganegedara](../Images/3fabfa37132f7d3a9e7679c3b8d7e061.png)](https://thushv89.medium.com/?source=post_page-----b62e21190633--------------------------------)[](https://towardsdatascience.com/?source=post_page-----b62e21190633--------------------------------)[![Towards
    Data Science](../Images/a6ff2676ffcc0c7aad8aaf1d79379785.png)](https://towardsdatascience.com/?source=post_page-----b62e21190633--------------------------------)
    [Thushan Ganegedara](https://thushv89.medium.com/?source=post_page-----b62e21190633--------------------------------)'
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: '[](https://thushv89.medium.com/?source=post_page-----b62e21190633--------------------------------)[![Thushan
    Ganegedara](../Images/3fabfa37132f7d3a9e7679c3b8d7e061.png)](https://thushv89.medium.com/?source=post_page-----b62e21190633--------------------------------)[](https://towardsdatascience.com/?source=post_page-----b62e21190633--------------------------------)[![Towards
    Data Science](../Images/a6ff2676ffcc0c7aad8aaf1d79379785.png)](https://towardsdatascience.com/?source=post_page-----b62e21190633--------------------------------)
    [Thushan Ganegedara](https://thushv89.medium.com/?source=post_page-----b62e21190633--------------------------------)'
- en: Â·Published in [Towards Data Science](https://towardsdatascience.com/?source=post_page-----b62e21190633--------------------------------)
    Â·7 min readÂ·Jul 19, 2023
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: Â·å‘å¸ƒäº [Towards Data Science](https://towardsdatascience.com/?source=post_page-----b62e21190633--------------------------------)
    Â·é˜…è¯»æ—¶é—´ 7 åˆ†é’ŸÂ·2023å¹´7æœˆ19æ—¥
- en: --
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: --
- en: '![](../Images/41822c8a9c950dbeb77a5353e33dc731.png)'
  id: totrans-6
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/41822c8a9c950dbeb77a5353e33dc731.png)'
- en: Photo by [Chris Ried](https://unsplash.com/@cdr6934?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText)
    on [Unsplash](https://unsplash.com/photos/ieic5Tq8YMk?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText)
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: å›¾ç‰‡ç”± [Chris Ried](https://unsplash.com/@cdr6934?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText)
    æä¾›ï¼Œå‘å¸ƒåœ¨ [Unsplash](https://unsplash.com/photos/ieic5Tq8YMk?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText)
- en: You have to admit, seeing a comment like â€œ*This is super clean* ğŸ˜â€ or â€œ*Didnâ€™t
    know this could be done this way*â€ on your code or pull request fills you with
    a wonderful feeling. Personal experience has taught me, embracing good software
    engineering principles and making the most of the existing language functionality
    is the recipe for good code that others will feel grateful for.
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: ä½ å¿…é¡»æ‰¿è®¤ï¼Œçœ‹åˆ°ä»£ç æˆ–æ‹‰å–è¯·æ±‚ä¸Šå‡ºç°ç±»ä¼¼â€œ*è¿™çœŸæ˜¯è¶…çº§å¹²å‡€* ğŸ˜â€æˆ–â€œ*æ²¡æƒ³åˆ°å¯ä»¥è¿™æ ·åš*â€çš„è¯„è®ºï¼Œä¼šè®©ä½ æ„Ÿåˆ°éå¸¸æ„‰æ‚¦ã€‚ä¸ªäººç»éªŒå‘Šè¯‰æˆ‘ï¼Œæ‹¥æŠ±è‰¯å¥½çš„è½¯ä»¶å·¥ç¨‹åŸåˆ™å¹¶å……åˆ†åˆ©ç”¨ç°æœ‰çš„è¯­è¨€åŠŸèƒ½ï¼Œæ˜¯ç¼–å†™å‡ºåˆ«äººä¼šæ„Ÿæ¿€çš„å¥½ä»£ç çš„ç§˜è¯€ã€‚
- en: As an MLE I use Python day in and day out. Python is a great option for ML practitioners
    due to its low barrier to entry combined with the massive ecosystem of scientific
    tooling.
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: ä½œä¸ºä¸€å MLEï¼Œæˆ‘æ¯å¤©éƒ½åœ¨ä½¿ç”¨ Pythonã€‚ç”±äºå…¶ä½é—¨æ§›å’Œåºå¤§çš„ç§‘å­¦å·¥å…·ç”Ÿæ€ç³»ç»Ÿï¼ŒPython æ˜¯æœºå™¨å­¦ä¹ ä»ä¸šè€…çš„ä¸€ä¸ªæä½³é€‰æ‹©ã€‚
- en: This means that, an individual with little to no software engineering knowledge
    can quickly start using Python.
  id: totrans-10
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: è¿™æ„å‘³ç€ï¼Œå‡ ä¹æ²¡æœ‰è½¯ä»¶å·¥ç¨‹çŸ¥è¯†çš„ä¸ªäººä¹Ÿå¯ä»¥å¿«é€Ÿå¼€å§‹ä½¿ç”¨ Pythonã€‚
- en: This last statement can be said in two different tones of voice; positive or
    negative (try it!).
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™æœ€åä¸€å¥è¯å¯ä»¥ç”¨ä¸¤ç§ä¸åŒçš„è¯­æ°”æ¥è¡¨è¾¾ï¼šç§¯æçš„æˆ–æ¶ˆæçš„ï¼ˆè¯•è¯•çœ‹ï¼ï¼‰ã€‚
- en: It may look like itâ€™s a blessing at first, but in the grand scheme of things,
    the lack of the confinements of software engineering principles (e.g. Types, Objects)
    dissuade the engineers (MLE) or scientists (DS/AS) from writing good code (Trust
    me, we already got a bad reputation among software engineers as not-so-good engineers).
    This inevitably leads to unreadable, unmaintainable and untestable spaghetti code
    in most cases. And worse, one-day it becomes some unsuspecting victimâ€™s worst
    nightmare to reuse this evil code. And you may even see a domino effect, where
    code built on top of bad code leads to â€¦ more bad code. Ultimately, this could
    even lead to organizational headaches down the track.
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: èµ·åˆè¿™å¯èƒ½çœ‹èµ·æ¥æ˜¯ä¸ªç¦éŸ³ï¼Œä½†ä»æ•´ä½“æ¥çœ‹ï¼Œç¼ºä¹è½¯ä»¶å·¥ç¨‹åŸåˆ™ï¼ˆä¾‹å¦‚ç±»å‹ã€å¯¹è±¡ï¼‰çš„çº¦æŸä½¿å·¥ç¨‹å¸ˆï¼ˆMLEï¼‰æˆ–ç§‘å­¦å®¶ï¼ˆDS/ASï¼‰ä¸æ„¿ç¼–å†™è‰¯å¥½çš„ä»£ç ï¼ˆç›¸ä¿¡æˆ‘ï¼Œæˆ‘ä»¬åœ¨è½¯ä»¶å·¥ç¨‹å¸ˆä¸­å·²ç»æœ‰äº†ä¸å¤ªå¥½çš„å£°èª‰ï¼‰ã€‚è¿™ä¸å¯é¿å…åœ°ä¼šå¯¼è‡´å¤§å¤šæ•°æƒ…å†µä¸‹çš„ä»£ç ä¸å¯è¯»ã€ä¸å¯ç»´æŠ¤å’Œæ— æ³•æµ‹è¯•ã€‚è€Œæ›´ç³Ÿç³•çš„æ˜¯ï¼Œæœ‰ä¸€å¤©å®ƒä¼šæˆä¸ºæŸä¸ªæ¯«æ— é˜²å¤‡çš„å—å®³è€…æœ€ç³Ÿç³•çš„å™©æ¢¦ï¼Œå› ä¸ºè¦é‡å¤ä½¿ç”¨è¿™æ®µæ¶åŠ£çš„ä»£ç ã€‚ä½ å¯èƒ½è¿˜ä¼šçœ‹åˆ°ä¸€ç§å¤šç±³è¯ºæ•ˆåº”ï¼Œå³åœ¨ç³Ÿç³•ä»£ç ä¹‹ä¸Šæ„å»ºçš„ä»£ç ä¼šå¯¼è‡´â€¦â€¦æ›´å¤šç³Ÿç³•çš„ä»£ç ã€‚æœ€ç»ˆï¼Œè¿™ç”šè‡³å¯èƒ½ä¼šå¯¼è‡´ç»„ç»‡ä¸Šçš„å¤´ç—›ã€‚
- en: The bottom line is, doing something in Python is easy, but doing something the
    right way in Python is difficult. After 8+ years grappling with Python, Iâ€™m still
    learning different (and better) ways to improve my code. Iâ€™ve been blessed with
    good software engineers that would constructively criticize my code, when I do
    things in inefficient manner. Count your blessings if you have the same support.
    Here, Iâ€™m going to share a few levers you can pull to take your Python skills
    to the next level.
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: æ€»è€Œè¨€ä¹‹ï¼Œåœ¨ Python ä¸­åšäº‹æƒ…å¾ˆç®€å•ï¼Œä½†ä»¥æ­£ç¡®çš„æ–¹å¼åšäº‹æƒ…å´å¾ˆå›°éš¾ã€‚åœ¨ä¸ Python æ…æ–—äº† 8 å¹´ä¹‹åï¼Œæˆ‘ä»åœ¨å­¦ä¹ ä¸åŒï¼ˆå’Œæ›´å¥½ï¼‰çš„æ–¹å¼æ¥æ”¹å–„æˆ‘çš„ä»£ç ã€‚æˆ‘å¾ˆå¹¸è¿æœ‰å¥½çš„è½¯ä»¶å·¥ç¨‹å¸ˆä¼šå»ºè®¾æ€§åœ°æ‰¹è¯„æˆ‘çš„ä»£ç ï¼Œå½“æˆ‘ä»¥ä½æ•ˆçš„æ–¹å¼åšäº‹æ—¶ã€‚å¦‚æœä½ æœ‰åŒæ ·çš„æ”¯æŒï¼Œé‚£æ˜¯ä½ çš„å¹¸è¿ã€‚åœ¨è¿™é‡Œï¼Œæˆ‘å°†åˆ†äº«ä¸€äº›å¯ä»¥æå‡ä½ 
    Python æŠ€èƒ½çš„æ–¹æ³•ã€‚
- en: 1\. Dataclasses help to remove the clutter
  id: totrans-14
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 1\. æ•°æ®ç±»æœ‰åŠ©äºæ¸…é™¤æ‚ä¹±
- en: Say you want to manage a list of students with their heights. You may use a
    list of tuples to do this.
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: æ¯”å¦‚ä½ æƒ³ç®¡ç†ä¸€ä¸ªå­¦ç”ŸåŠå…¶èº«é«˜çš„åˆ—è¡¨ã€‚ä½ å¯ä»¥ä½¿ç”¨å…ƒç»„çš„åˆ—è¡¨æ¥åšåˆ°è¿™ä¸€ç‚¹ã€‚
- en: '[PRE0]'
  id: totrans-16
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: But what if you want to add other attributes like the weight, grade and gender
    later on? Thereâ€™s no possible way for you to use the above data structure without
    getting a headache and making tons of mistakes. You may use a dictionary, but
    still itâ€™s clunky. A better solution is, using `dataclasses`.
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: ä½†å¦‚æœä½ åæ¥æƒ³æ·»åŠ å…¶ä»–å±æ€§ï¼Œå¦‚ä½“é‡ã€æˆç»©å’Œæ€§åˆ«æ€ä¹ˆåŠï¼Ÿå¦‚æœä¸å¤´ç—›å¹¶çŠ¯å¾ˆå¤šé”™è¯¯ï¼Œä½ æ— æ³•ä½¿ç”¨ä¸Šè¿°æ•°æ®ç»“æ„ã€‚ä½ å¯ä»¥ä½¿ç”¨å­—å…¸ï¼Œä½†ä»ç„¶æ˜¾å¾—ç¬¨é‡ã€‚æ›´å¥½çš„è§£å†³æ–¹æ¡ˆæ˜¯ä½¿ç”¨
    `dataclasses`ã€‚
- en: '[PRE1]'
  id: totrans-18
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: So much cleaner! Then you simply instantiate a bunch of `Student` objects.
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™æ ·æ¸…çˆ½å¤šäº†ï¼ç„¶åä½ åªéœ€å®ä¾‹åŒ–ä¸€å † `Student` å¯¹è±¡ã€‚
- en: '[PRE2]'
  id: totrans-20
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: Then you can access attributes with, `students[0].name` like syntax. No more
    relying on obscure knowledge like, name is at `0th` position or using error-prone
    string keys (should you use a dictionary). Thereâ€™s many other cool things you
    can do with `dataclasses`. Such as,
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: ç„¶åï¼Œä½ å¯ä»¥ä½¿ç”¨ç±»ä¼¼ `students[0].name` çš„è¯­æ³•æ¥è®¿é—®å±æ€§ã€‚æ— éœ€å†ä¾èµ–æ¨¡ç³Šçš„çŸ¥è¯†ï¼Œä¾‹å¦‚åç§°åœ¨ `0th` ä½ç½®ï¼Œæˆ–ä½¿ç”¨å®¹æ˜“å‡ºé”™çš„å­—ç¬¦ä¸²é”®ï¼ˆå¦‚æœä½ ä½¿ç”¨å­—å…¸çš„è¯ï¼‰ã€‚ä½ å¯ä»¥ä½¿ç”¨
    `dataclasses` åšå¾ˆå¤šå…¶ä»–å¾ˆé…·çš„äº‹æƒ…ã€‚ä¾‹å¦‚ï¼Œ
- en: Make objects immutable (By using `@dataclasses.dataclass(frozen=True`)
  id: totrans-22
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ä½¿å¯¹è±¡ä¸å¯å˜ï¼ˆé€šè¿‡ä½¿ç”¨ `@dataclasses.dataclass(frozen=True)`ï¼‰
- en: Defining getters and setters
  id: totrans-23
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å®šä¹‰ getter å’Œ setter
- en: Use of the `dataclasses.field` for additional support for an attribute
  id: totrans-24
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ä½¿ç”¨ `dataclasses.field` ä¸ºå±æ€§æä¾›é¢å¤–æ”¯æŒ
- en: Convert to a dictionary (`.asdict()`) or tuple (`.astuple()`) for serialization
    and for compatibility reasons.
  id: totrans-25
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å°†å¯¹è±¡è½¬æ¢ä¸ºå­—å…¸ï¼ˆ`.asdict()`ï¼‰æˆ–å…ƒç»„ï¼ˆ`.astuple()`ï¼‰ä»¥è¿›è¡Œåºåˆ—åŒ–å’Œå…¼å®¹æ€§å¤„ç†ã€‚
- en: You can read more about `dataclasses` [here](https://docs.python.org/3/library/dataclasses.html).
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: ä½ å¯ä»¥åœ¨ [è¿™é‡Œ](https://docs.python.org/3/library/dataclasses.html) é˜…è¯»æ›´å¤šå…³äº `dataclasses`
    çš„å†…å®¹ã€‚
- en: 2\. Compare in Python with style
  id: totrans-27
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 2\. ä½¿ç”¨é£æ ¼åœ¨ Python ä¸­è¿›è¡Œæ¯”è¾ƒ
- en: Reduction and sorting is such an important part of any machine learning project.
    You probably are using `min` , `max` or `sorted` functions on lists of simple
    data types e.g. `str`, `float`, etc. But did you know that thereâ€™s a neat trick
    that increases the purview of the problems that can be solved using these basic
    functions?
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: å‡å°‘å’Œæ’åºæ˜¯ä»»ä½•æœºå™¨å­¦ä¹ é¡¹ç›®ä¸­ä¸€ä¸ªé‡è¦çš„éƒ¨åˆ†ã€‚ä½ å¯èƒ½ä¼šåœ¨ç®€å•æ•°æ®ç±»å‹çš„åˆ—è¡¨ï¼ˆä¾‹å¦‚ `str`ã€`float` ç­‰ï¼‰ä¸Šä½¿ç”¨ `min`ã€`max` æˆ– `sorted`
    å‡½æ•°ã€‚ä½†ä½ æ˜¯å¦çŸ¥é“ï¼Œæœ‰ä¸€ä¸ªå·§å¦™çš„æŠ€å·§å¯ä»¥æ‰©å±•è¿™äº›åŸºæœ¬å‡½æ•°æ‰€èƒ½è§£å†³çš„é—®é¢˜çš„èŒƒå›´ï¼Ÿ
- en: You can use `min` , `max` and `sorted` to solve problems creatively using a
    special argument called `key` . The key allows you to define the logic to extract
    a â€œ*comparison key*â€ from each item in your iterable.
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: ä½ å¯ä»¥ä½¿ç”¨ `min`ã€`max` å’Œ `sorted` åˆ›é€ æ€§åœ°è§£å†³é—®é¢˜ï¼Œé€šè¿‡ä¸€ä¸ªåä¸º `key` çš„ç‰¹æ®Šå‚æ•°ã€‚è¿™ä¸ªé”®å…è®¸ä½ å®šä¹‰é€»è¾‘ï¼Œä»å¯è¿­ä»£å¯¹è±¡ä¸­çš„æ¯ä¸ªé¡¹ç›®ä¸­æå–ä¸€ä¸ªâ€œ*æ¯”è¾ƒé”®*â€ã€‚
- en: Say you wanted to sort the following list of student heights,
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: æ¯”å¦‚ä½ æƒ³è¦æ’åºä»¥ä¸‹çš„å­¦ç”Ÿèº«é«˜åˆ—è¡¨ï¼Œ
- en: '[PRE3]'
  id: totrans-31
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: Even cooler, say you had a `dataclasses.dataclass` instead of this.
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: æ›´é…·çš„æ˜¯ï¼Œå‡è®¾ä½ æœ‰ä¸€ä¸ª `dataclasses.dataclass` è€Œä¸æ˜¯è¿™ä¸ªã€‚
- en: '[PRE4]'
  id: totrans-33
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: Looks slick. Perhaps you want to find the student with the maximum height.
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: çœ‹èµ·æ¥å¾ˆé…·ã€‚ä¹Ÿè®¸ä½ æƒ³æ‰¾å‡ºèº«é«˜æœ€é«˜çš„å­¦ç”Ÿã€‚
- en: '[PRE5]'
  id: totrans-35
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: Did you know that, you could even simulate the `argmax` operation in plain Python?
    For those who donâ€™t know, the `argmax` gives the index of the maximum value in
    a list/array. Again such an imperative computation in lot of algorithms.
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: ä½ çŸ¥é“å—ï¼Œä½ ç”šè‡³å¯ä»¥ç”¨çº¯ Python æ¨¡æ‹Ÿ `argmax` æ“ä½œï¼Ÿå¯¹äºé‚£äº›ä¸çŸ¥é“çš„äººï¼Œ`argmax` ç»™å‡ºåˆ—è¡¨/æ•°ç»„ä¸­æœ€å¤§å€¼çš„ç´¢å¼•ã€‚è¿™åœ¨å¾ˆå¤šç®—æ³•ä¸­éƒ½æ˜¯ä¸€ç§å¼ºåˆ¶è®¡ç®—ã€‚
- en: '[PRE6]'
  id: totrans-37
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: Thereâ€™s been many occasions in my life where I was writing many lines of code,
    which I couldâ€™ve achieved by simply paying more attention to the key.
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘æ›¾å¤šæ¬¡é‡åˆ°è¿‡è¿™æ ·çš„é—®é¢˜ï¼šå†™äº†å¾ˆå¤šè¡Œä»£ç ï¼Œè€Œè¿™äº›ä»£ç æœ¬æ¥å¯ä»¥é€šè¿‡æ›´å…³æ³¨å…³é”®ç‚¹æ¥å®Œæˆã€‚
- en: 3\. Make defaultdict your default
  id: totrans-39
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 3\. è®© defaultdict æˆä¸ºä½ çš„é»˜è®¤é€‰æ‹©
- en: When using dictionaries, thereâ€™s a handy variant of the standard dictionary
    that may make your life easier. Say you want to manage how stock prices changed
    over 3 years. Assume the original format is the following.
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: ä½¿ç”¨å­—å…¸æ—¶ï¼Œæœ‰ä¸€ä¸ªæ–¹ä¾¿çš„å˜ä½“å¯èƒ½ä¼šè®©ä½ çš„ç”Ÿæ´»æ›´è½»æ¾ã€‚å‡è®¾ä½ è¦ç®¡ç† 3 å¹´å†…è‚¡ç¥¨ä»·æ ¼çš„å˜åŒ–ã€‚å‡è®¾åŸå§‹æ ¼å¼å¦‚ä¸‹ã€‚
- en: '[PRE7]'
  id: totrans-41
  prefs: []
  type: TYPE_PRE
  zh: '[PRE7]'
- en: 'And you want to convert this to a dictionary. You can do:'
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: ä½ è¿˜æƒ³æŠŠè¿™ä¸ªè½¬æ¢ä¸ºå­—å…¸ã€‚ä½ å¯ä»¥è¿™æ ·åšï¼š
- en: '[PRE8]'
  id: totrans-43
  prefs: []
  type: TYPE_PRE
  zh: '[PRE8]'
- en: This gets the job done, no doubt. But hereâ€™s a more elegant version of the same
    code using `defaultdict`.
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™æ®µä»£ç ç¡®å®å®Œæˆäº†ä»»åŠ¡ã€‚ä½†è¿™é‡Œæœ‰ä¸€ä¸ªä½¿ç”¨ `defaultdict` çš„æ›´ä¼˜é›…ç‰ˆæœ¬ã€‚
- en: '[PRE9]'
  id: totrans-45
  prefs: []
  type: TYPE_PRE
  zh: '[PRE9]'
- en: Woah, the code is much cleaner this way. No more worrying about whether the
    value is already instantiated or not. And it really shows you know your Python
    and data structures.
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: å“‡ï¼Œä»£ç è¿™æ ·ä¼šæ›´ç®€æ´ã€‚æ— éœ€å†æ‹…å¿ƒå€¼æ˜¯å¦å·²è¢«å®ä¾‹åŒ–ã€‚è¿™çœŸçš„æ˜¾ç¤ºäº†ä½ å¯¹ Python å’Œæ•°æ®ç»“æ„çš„äº†è§£ã€‚
- en: 4\. Say â€œI doâ€ to the itertools
  id: totrans-47
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 4\. å¯¹ itertools è¯´â€œæˆ‘æ„¿æ„â€
- en: '`itertools` is a built-in Python library for performing advance iterating over
    data structures with easy.'
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: '`itertools` æ˜¯ä¸€ä¸ªå†…ç½®çš„ Python åº“ï¼Œç”¨äºè½»æ¾åœ°å¯¹æ•°æ®ç»“æ„è¿›è¡Œé«˜çº§è¿­ä»£ã€‚'
- en: 'You may have had times in your life, where you want to iterate multiple lists
    to create a single list. In Python you might do:'
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: ä½ å¯èƒ½åœ¨ç”Ÿæ´»ä¸­é‡åˆ°è¿‡éœ€è¦è¿­ä»£å¤šä¸ªåˆ—è¡¨ä»¥åˆ›å»ºä¸€ä¸ªå•ä¸€åˆ—è¡¨çš„æƒ…å†µã€‚åœ¨ Python ä¸­ä½ å¯èƒ½ä¼šè¿™æ ·åšï¼š
- en: '[PRE10]'
  id: totrans-50
  prefs: []
  type: TYPE_PRE
  zh: '[PRE10]'
- en: Would you believe that, with `itertools`, it is a one-liner?
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: ä½ ç›¸ä¿¡å—ï¼Œç”¨ `itertools` è¿™åªéœ€ä¸€è¡Œä»£ç ï¼Ÿ
- en: '[PRE11]'
  id: totrans-52
  prefs: []
  type: TYPE_PRE
  zh: '[PRE11]'
- en: Say you want to remove students that are less than 170cm tall. With `itertools`
    thatâ€™s another one liner.
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: æ¯”å¦‚ä½ æƒ³è¦ç§»é™¤èº«é«˜ä½äº 170cm çš„å­¦ç”Ÿã€‚ä½¿ç”¨ `itertools` è¿™ä¹Ÿæ˜¯ä¸€è¡Œä»£ç ã€‚
- en: '[PRE12]'
  id: totrans-54
  prefs: []
  type: TYPE_PRE
  zh: '[PRE12]'
- en: There are many other useful functions such as `accumulate`, `islice`, `starmap`,
    etc. You can checkout more [here](https://docs.python.org/3/library/itertools.html).
    Use `itertools`, rather than reinventing the wheel that leads to unwieldy and
    inefficient code. By using `itertools` you get the added benefit of speed, as
    it has efficient CPython based implementation of its functionality underneath.
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: è¿˜æœ‰è®¸å¤šå…¶ä»–æœ‰ç”¨çš„å‡½æ•°ï¼Œæ¯”å¦‚ `accumulate`ã€`islice`ã€`starmap` ç­‰ã€‚ä½ å¯ä»¥åœ¨[è¿™é‡Œ](https://docs.python.org/3/library/itertools.html)æŸ¥çœ‹æ›´å¤šã€‚ä½¿ç”¨
    `itertools`ï¼Œè€Œä¸æ˜¯é‡æ–°å‘æ˜è½®å­ï¼Œè¿™æ ·å¯ä»¥é¿å…å†—é•¿å’Œä½æ•ˆçš„ä»£ç ã€‚é€šè¿‡ä½¿ç”¨ `itertools`ï¼Œä½ è¿˜èƒ½äº«å—åˆ°é€Ÿåº¦ä¸Šçš„ä¼˜åŠ¿ï¼Œå› ä¸ºå®ƒåœ¨åº•å±‚æœ‰é«˜æ•ˆçš„
    CPython å®ç°ã€‚
- en: 5\. Packing/Unpacking arguments
  id: totrans-56
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 5\. æ‰“åŒ…/è§£åŒ…å‚æ•°
- en: 'Packing and unpacking is achieved via the star (`*`) and double star (`**`)
    operators. The easiest way to understand this concept is using functions. You
    can define a function with packed arguments or unpacked arguments. Letâ€™s say we
    define the following two functions:'
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: æ‰“åŒ…å’Œè§£åŒ…æ˜¯é€šè¿‡æ˜Ÿå· (`*`) å’ŒåŒæ˜Ÿå· (`**`) æ“ä½œç¬¦å®ç°çš„ã€‚ç†è§£è¿™ä¸€æ¦‚å¿µæœ€ç®€å•çš„æ–¹æ³•æ˜¯ä½¿ç”¨å‡½æ•°ã€‚ä½ å¯ä»¥å®šä¹‰ä¸€ä¸ªå¸¦æœ‰æ‰“åŒ…å‚æ•°æˆ–è§£åŒ…å‚æ•°çš„å‡½æ•°ã€‚å‡è®¾æˆ‘ä»¬å®šä¹‰ä»¥ä¸‹ä¸¤ä¸ªå‡½æ•°ï¼š
- en: '[PRE13]'
  id: totrans-58
  prefs: []
  type: TYPE_PRE
  zh: '[PRE13]'
- en: 'When calling `f1` you can only pass 3 parameters in, where `f2` can accept
    an arbitrary number of parameters, which are packed to a tuple `args`. So youâ€™d
    call:'
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨è°ƒç”¨ `f1` æ—¶ä½ åªèƒ½ä¼ é€’ 3 ä¸ªå‚æ•°ï¼Œè€Œ `f2` å¯ä»¥æ¥å—ä»»æ„æ•°é‡çš„å‚æ•°ï¼Œè¿™äº›å‚æ•°è¢«æ‰“åŒ…æˆä¸€ä¸ªå…ƒç»„ `args`ã€‚æ‰€ä»¥ä½ ä¼šè¿™æ ·è°ƒç”¨ï¼š
- en: '[PRE14]'
  id: totrans-60
  prefs: []
  type: TYPE_PRE
  zh: '[PRE14]'
- en: All of these would work. If you want dictionary, where the key is the argument
    and the value is the parameter passed, you use the double star operator.
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™äº›éƒ½å¯ä»¥å·¥ä½œã€‚å¦‚æœä½ æƒ³è¦ä¸€ä¸ªå­—å…¸ï¼Œå…¶ä¸­é”®æ˜¯å‚æ•°ï¼Œå€¼æ˜¯ä¼ é€’çš„å‚æ•°ï¼Œä½ å¯ä»¥ä½¿ç”¨åŒæ˜Ÿå·æ“ä½œç¬¦ã€‚
- en: '[PRE15]'
  id: totrans-62
  prefs: []
  type: TYPE_PRE
  zh: '[PRE15]'
- en: 'To see how much better this is, hereâ€™s your alternative for writing `f2` would
    be:'
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: è¦çœ‹çœ‹è¿™æœ‰å¤šå¥½ï¼Œè¿™é‡Œæ˜¯å†™ `f2` çš„æ›¿ä»£æ–¹æ¡ˆï¼š
- en: '[PRE16]'
  id: totrans-64
  prefs: []
  type: TYPE_PRE
  zh: '[PRE16]'
- en: That double parentheses is already giving me shivers! Using `*args` is much
    sweeter.
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: é‚£åŒé‡æ‹¬å·å·²ç»è®©æˆ‘ä¸å¯’è€Œæ —äº†ï¼ä½¿ç”¨ `*args` ç”œç¾å¾—å¤šã€‚
- en: '`zip()` is a real-life function that accepts an arbitrary number of iterables.
    It creates several new lists by taking the first item of each iterable, the second
    item from each iterable and so on. For the following example, `zip()` lets you
    interchange between the two formats;'
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: '`zip()` æ˜¯ä¸€ä¸ªå®é™…çš„å‡½æ•°ï¼Œå®ƒæ¥å—ä»»æ„æ•°é‡çš„å¯è¿­ä»£å¯¹è±¡ã€‚å®ƒé€šè¿‡å–å‡ºæ¯ä¸ªå¯è¿­ä»£å¯¹è±¡çš„ç¬¬ä¸€ä¸ªé¡¹ã€ç¬¬äºŒä¸ªé¡¹ï¼Œä»¥æ­¤ç±»æ¨ï¼Œåˆ›å»ºå‡ ä¸ªæ–°çš„åˆ—è¡¨ã€‚å¯¹äºä»¥ä¸‹ç¤ºä¾‹ï¼Œ`zip()`
    è®©ä½ å¯ä»¥åœ¨ä¸¤ç§æ ¼å¼ä¹‹é—´äº’æ¢ï¼›'
- en: '[PRE17]'
  id: totrans-67
  prefs: []
  type: TYPE_PRE
  zh: '[PRE17]'
- en: This is a surprisingly common necessity when you work with data. Remember our
    student example above? Say we just needed the sorted list of student names. we
    can simply zip the tuples to two lists.
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: å½“ä½ å¤„ç†æ•°æ®æ—¶ï¼Œè¿™æ˜¯ä¸€ç§æ„å¤–å¸¸è§çš„éœ€æ±‚ã€‚è®°å¾—æˆ‘ä»¬ä¸Šé¢çš„å­¦ç”Ÿç¤ºä¾‹å—ï¼Ÿå‡è®¾æˆ‘ä»¬åªéœ€è¦æ’åºåçš„å­¦ç”Ÿå§“ååˆ—è¡¨ã€‚æˆ‘ä»¬å¯ä»¥ç®€å•åœ°å°†å…ƒç»„ zip æˆä¸¤ä¸ªåˆ—è¡¨ã€‚
- en: '[PRE18]'
  id: totrans-69
  prefs: []
  type: TYPE_PRE
  zh: '[PRE18]'
- en: Itâ€™s bringing the layout of data from format 1 to format 2 and discarding the
    second list (as that will contain all the heights).
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™å°±æ˜¯å°†æ•°æ®ä»æ ¼å¼ 1 å¸ƒå±€åˆ°æ ¼å¼ 2ï¼Œå¹¶ä¸¢å¼ƒç¬¬äºŒä¸ªåˆ—è¡¨ï¼ˆå› ä¸ºå®ƒå°†åŒ…å«æ‰€æœ‰èº«é«˜æ•°æ®ï¼‰ã€‚
- en: So, if youâ€™re developing a function that needs to work with an arbitrary number
    of argument, use argument packing. Itâ€™s more elegant than passing a tuple or a
    dictionary.
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: å¦‚æœä½ æ­£åœ¨å¼€å‘ä¸€ä¸ªéœ€è¦å¤„ç†ä»»æ„æ•°é‡å‚æ•°çš„å‡½æ•°ï¼Œå¯ä»¥ä½¿ç”¨å‚æ•°æ‰“åŒ…ã€‚è¿™æ¯”ä¼ é€’ä¸€ä¸ªå…ƒç»„æˆ–å­—å…¸è¦ä¼˜é›…å¾—å¤šã€‚
- en: Conclusion
  id: totrans-72
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: ç»“è®º
- en: Those are 5 things that you can do differently next time you write an ML model
    in Python. Sticking with good software engineering principles and language standards
    gives a common ground for a group of engineers and scientists to work cohesively
    and iterate rapidly. By choosing to become better software engineers, youâ€™ll also
    be lighting the way for your colleagues to do the same, which will enable friction-less
    collaborations among individuals and teams.
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™äº›æ˜¯ä½ ä¸‹æ¬¡åœ¨ Python ä¸­ç¼–å†™ ML æ¨¡å‹æ—¶å¯ä»¥åšçš„ 5 ä»¶ä¸åŒçš„äº‹ã€‚åšæŒè‰¯å¥½çš„è½¯ä»¶å·¥ç¨‹åŸåˆ™å’Œè¯­è¨€æ ‡å‡†ä¸ºä¸€ç»„å·¥ç¨‹å¸ˆå’Œç§‘å­¦å®¶æä¾›äº†å…±åŒçš„åŸºç¡€ï¼Œä»è€Œä½¿ä»–ä»¬èƒ½å¤ŸååŒå·¥ä½œå¹¶å¿«é€Ÿè¿­ä»£ã€‚é€šè¿‡é€‰æ‹©æˆä¸ºæ›´å¥½çš„è½¯ä»¶å·¥ç¨‹å¸ˆï¼Œä½ ä¹Ÿå°†ä¸ºä½ çš„åŒäº‹ç…§äº®å‰è¿›çš„é“è·¯ï¼Œè¿™å°†å®ç°ä¸ªäººå’Œå›¢é˜Ÿä¹‹é—´æ— æ‘©æ“¦çš„åˆä½œã€‚
- en: If you enjoyed this story, feel free [subscribe](https://thushv89.medium.com/membership)
    to Medium, and you will get notifications to fresh content from me, as well as
    unlock full access to thousands of engaging stories from other authors.
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: å¦‚æœä½ å–œæ¬¢è¿™ä¸ªæ•…äº‹ï¼Œæ¬¢è¿[è®¢é˜…](https://thushv89.medium.com/membership) Mediumï¼Œä½ å°†è·å¾—æ¥è‡ªæˆ‘çš„æ–°å†…å®¹é€šçŸ¥ï¼Œå¹¶ä¸”è§£é”å¯¹å…¶ä»–ä½œè€…æˆåƒä¸Šä¸‡ç²¾å½©æ•…äº‹çš„å®Œå…¨è®¿é—®ã€‚
- en: '[](https://thushv89.medium.com/membership?source=post_page-----b62e21190633--------------------------------)
    [## Join Medium with my referral link - Thushan Ganegedara'
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
  zh: '[## ä½¿ç”¨æˆ‘çš„æ¨èé“¾æ¥åŠ å…¥ Medium - Thushan Ganegedara](https://thushv89.medium.com/membership?source=post_page-----b62e21190633--------------------------------)'
- en: As a Medium member, a portion of your membership fee goes to writers you read,
    and you get full access to every storyâ€¦
  id: totrans-76
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: ä½œä¸º Medium çš„ä¼šå‘˜ï¼Œä½ çš„éƒ¨åˆ†ä¼šå‘˜è´¹å°†ç›´æ¥æ”¯æŒä½ é˜…è¯»çš„ä½œè€…ï¼ŒåŒæ—¶ä½ ä¹Ÿå¯ä»¥å®Œå…¨è®¿é—®æ¯ä¸€ä¸ªæ•…äº‹â€¦â€¦
- en: thushv89.medium.com](https://thushv89.medium.com/membership?source=post_page-----b62e21190633--------------------------------)
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
  zh: '[thushv89.medium.com](https://thushv89.medium.com/membership?source=post_page-----b62e21190633--------------------------------)'
