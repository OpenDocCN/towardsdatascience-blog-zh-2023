- en: Pandas for Time Series
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: æ—¶é—´åºåˆ—çš„Pandas
- en: åŸæ–‡ï¼š[https://towardsdatascience.com/pandas-for-time-series-c6cb7c0a3680](https://towardsdatascience.com/pandas-for-time-series-c6cb7c0a3680)
  id: totrans-1
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: åŸæ–‡ï¼š[https://towardsdatascience.com/pandas-for-time-series-c6cb7c0a3680](https://towardsdatascience.com/pandas-for-time-series-c6cb7c0a3680)
- en: Data Processing in Python
  id: totrans-2
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: Pythonä¸­çš„æ•°æ®å¤„ç†
- en: This article explained the pandasâ€™ methods for time series. Letâ€™s deal with
    the time series like a pro.
  id: totrans-3
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: æœ¬æ–‡è§£é‡Šäº†pandasçš„æ—¶é—´åºåˆ—æ–¹æ³•ã€‚è®©æˆ‘ä»¬åƒä¸“ä¸šäººå£«ä¸€æ ·å¤„ç†æ—¶é—´åºåˆ—ã€‚
- en: '[](https://kahemchu.medium.com/?source=post_page-----c6cb7c0a3680--------------------------------)[![KahEm
    Chu](../Images/2f89d02e85f61f08f048773990f4d53f.png)](https://kahemchu.medium.com/?source=post_page-----c6cb7c0a3680--------------------------------)[](https://towardsdatascience.com/?source=post_page-----c6cb7c0a3680--------------------------------)[![Towards
    Data Science](../Images/a6ff2676ffcc0c7aad8aaf1d79379785.png)](https://towardsdatascience.com/?source=post_page-----c6cb7c0a3680--------------------------------)
    [KahEm Chu](https://kahemchu.medium.com/?source=post_page-----c6cb7c0a3680--------------------------------)'
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: '[](https://kahemchu.medium.com/?source=post_page-----c6cb7c0a3680--------------------------------)[![KahEm
    Chu](../Images/2f89d02e85f61f08f048773990f4d53f.png)](https://kahemchu.medium.com/?source=post_page-----c6cb7c0a3680--------------------------------)[](https://towardsdatascience.com/?source=post_page-----c6cb7c0a3680--------------------------------)[![Towards
    Data Science](../Images/a6ff2676ffcc0c7aad8aaf1d79379785.png)](https://towardsdatascience.com/?source=post_page-----c6cb7c0a3680--------------------------------)
    [KahEm Chu](https://kahemchu.medium.com/?source=post_page-----c6cb7c0a3680--------------------------------)'
- en: Â·Published in [Towards Data Science](https://towardsdatascience.com/?source=post_page-----c6cb7c0a3680--------------------------------)
    Â·13 min readÂ·Jul 26, 2023
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: Â·å‘è¡¨äº [Towards Data Science](https://towardsdatascience.com/?source=post_page-----c6cb7c0a3680--------------------------------)
    Â·é˜…è¯»æ—¶é—´13åˆ†é’ŸÂ·2023å¹´7æœˆ26æ—¥
- en: --
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: --
- en: '![](../Images/0d95a391ba99fb3f6fd922f3c4bbba8f.png)'
  id: totrans-7
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/0d95a391ba99fb3f6fd922f3c4bbba8f.png)'
- en: Photo by [Aron Visuals](https://unsplash.com/@aronvisuals?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText)
    on [Unsplash](https://unsplash.com/s/photos/time?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText)
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: å›¾ç‰‡ç”± [Aron Visuals](https://unsplash.com/@aronvisuals?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText)
    æä¾›ï¼Œ[Unsplash](https://unsplash.com/s/photos/time?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText)
    ä¸Šçš„ç…§ç‰‡
- en: Since I joined the workforce as a data scientist, most of the data I deal with
    are time series. Well, so there are a lot of definitions for ***time series***,
    generally itâ€™s defined as a set of data points collected over a period of time.
    Or speaking in a Pythonic way, it refers to a dataset with a datetime index, and
    at least one column with numerical values.
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: è‡ªä»æˆ‘ä½œä¸ºæ•°æ®ç§‘å­¦å®¶è¿›å…¥èŒåœºä»¥æ¥ï¼Œæˆ‘å¤„ç†çš„å¤§å¤šæ•°æ•°æ®éƒ½æ˜¯æ—¶é—´åºåˆ—ã€‚å¥½å§ï¼Œæ—¶é—´åºåˆ—æœ‰å¾ˆå¤šå®šä¹‰ï¼Œé€šå¸¸å®šä¹‰ä¸ºä¸€ç»„åœ¨ä¸€æ®µæ—¶é—´å†…æ”¶é›†çš„æ•°æ®ç‚¹ã€‚æˆ–è€…ç”¨Pythonçš„æ–¹å¼è¯´ï¼Œå®ƒæŒ‡çš„æ˜¯ä¸€ä¸ªå¸¦æœ‰æ—¥æœŸæ—¶é—´ç´¢å¼•çš„æ•°æ®é›†ï¼Œå¹¶ä¸”è‡³å°‘æœ‰ä¸€åˆ—æ•°å€¼ã€‚
- en: It could be the price of a stock over the past few months, the sales of a hypermarket
    for the past few weeks, or even the blood sugar level records collected throughout
    the months for a patient.
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™å¯ä»¥æ˜¯è¿‡å»å‡ ä¸ªæœˆçš„è‚¡ç¥¨ä»·æ ¼ï¼Œè¿‡å»å‡ å‘¨çš„å¤§å‹è¶…å¸‚é”€å”®æ•°æ®ï¼Œç”šè‡³æ˜¯ä¸€ä¸ªæ‚£è€…åœ¨å‡ ä¸ªæœˆå†…è®°å½•çš„è¡€ç³–æ°´å¹³ã€‚
- en: In this article, I will show how to apply pandas to a time series dataset, with
    an example of generated blood sugar level records.
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘å°†å±•ç¤ºå¦‚ä½•å°†pandasåº”ç”¨äºæ—¶é—´åºåˆ—æ•°æ®é›†ï¼Œä»¥ç”Ÿæˆçš„è¡€ç³–æ°´å¹³è®°å½•ä¸ºä¾‹ã€‚
- en: 'With that, this article will be structured as below:'
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: æœ‰äº†è¿™äº›ï¼Œè¿™ç¯‡æ–‡ç« å°†æŒ‰å¦‚ä¸‹ç»“æ„è¿›è¡Œï¼š
- en: '[DateTime Format Manipulation](#aca7) â€” *changing the datetime series into
    the desired format*'
  id: totrans-13
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[æ—¥æœŸæ—¶é—´æ ¼å¼å¤„ç†](#aca7) â€” *å°†æ—¥æœŸæ—¶é—´åºåˆ—è½¬æ¢ä¸ºæ‰€éœ€æ ¼å¼*'
- en: '[Converting DateTime to a Particular Period](#0342) â€” *convert each data point
    to the specific time periods*'
  id: totrans-14
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[å°†æ—¥æœŸæ—¶é—´è½¬æ¢ä¸ºç‰¹å®šå‘¨æœŸ](#0342) â€” *å°†æ¯ä¸ªæ•°æ®ç‚¹è½¬æ¢ä¸ºç‰¹å®šæ—¶é—´æ®µ*'
- en: '[Filtering DateTime Series based on Condition](#db28) â€” *filtering data points
    based on selected time period*'
  id: totrans-15
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[æ ¹æ®æ¡ä»¶ç­›é€‰æ—¥æœŸæ—¶é—´åºåˆ—](#db28) â€” *æ ¹æ®é€‰å®šæ—¶é—´æ®µç­›é€‰æ•°æ®ç‚¹*'
- en: '[Time Shift](#e5e1) â€” *shifting data points down for a specific number of period*'
  id: totrans-16
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[æ—¶é—´åç§»](#e5e1) â€” *å°†æ•°æ®ç‚¹å‘ä¸‹ç§»åŠ¨ç‰¹å®šå‘¨æœŸ*'
- en: '[Resampling Time Series](#6895) â€” *grouping data points based on the specified
    time period*'
  id: totrans-17
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[é‡æ–°æŠ½æ ·æ—¶é—´åºåˆ—](#6895) â€” *æ ¹æ®æŒ‡å®šçš„æ—¶é—´å‘¨æœŸå¯¹æ•°æ®ç‚¹è¿›è¡Œåˆ†ç»„*'
- en: '[Line Chart](#b3cf)'
  id: totrans-18
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[æŠ˜çº¿å›¾](#b3cf)'
- en: Letâ€™s get started!
  id: totrans-19
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: è®©æˆ‘ä»¬å¼€å§‹å§ï¼
- en: As usual, the first step in any analysis with Python is importing the necessary
    library.
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: åƒå¾€å¸¸ä¸€æ ·ï¼Œä»»ä½•Pythonåˆ†æçš„ç¬¬ä¸€æ­¥æ˜¯å¯¼å…¥å¿…è¦çš„åº“ã€‚
- en: Import Libraries
  id: totrans-21
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: å¯¼å…¥åº“
- en: '[PRE0]'
  id: totrans-22
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: Create data
  id: totrans-23
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: åˆ›å»ºæ•°æ®
- en: Then, letâ€™s generate a blood sugar level records dataset for this demo.
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: æ¥ä¸‹æ¥ï¼Œè®©æˆ‘ä»¬ä¸ºè¿™ä¸ªæ¼”ç¤ºç”Ÿæˆä¸€ä¸ªè¡€ç³–æ°´å¹³è®°å½•æ•°æ®é›†ã€‚
- en: '[PRE1]'
  id: totrans-25
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: With the script above, a dataset with 2160 data points recorded in one year,
    with 4 hours gap is generated. The data points started on July 1st, 2020 and ended
    on Jun 25th, 2021.
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: ä½¿ç”¨ä¸Šè¿°è„šæœ¬ï¼Œç”Ÿæˆäº†ä¸€ä¸ªåŒ…å«2160ä¸ªæ•°æ®ç‚¹çš„æ•°æ®é›†ï¼Œè®°å½•äº†ä¸€å¹´ï¼Œé—´éš”4å°æ—¶ã€‚æ•°æ®ç‚¹ä»2020å¹´7æœˆ1æ—¥å¼€å§‹ï¼Œåˆ°2021å¹´6æœˆ25æ—¥ç»“æŸã€‚
- en: '![](../Images/ab1a588e0031acd76012e416dc6774e4.png)'
  id: totrans-27
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/ab1a588e0031acd76012e416dc6774e4.png)'
- en: The first 10 data points. Image by the author.
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: å‰10ä¸ªæ•°æ®ç‚¹ã€‚å›¾ç‰‡æ¥æºï¼šä½œè€…ã€‚
- en: '![](../Images/099cacfb56278a59cdddf740a64b0c37.png)'
  id: totrans-29
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/099cacfb56278a59cdddf740a64b0c37.png)'
- en: The last 10 data points. Image by the author.
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: æœ€åçš„10ä¸ªæ•°æ®ç‚¹ã€‚å›¾ç‰‡æ¥æºï¼šä½œè€…ã€‚
- en: Now the data is ready, letâ€™s get started!ğŸ˜Š
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: ç°åœ¨æ•°æ®å‡†å¤‡å¥½äº†ï¼Œå¼€å§‹å§ï¼ğŸ˜Š
- en: DateTime Format Manipulation
  id: totrans-32
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: æ—¥æœŸæ—¶é—´æ ¼å¼æ“ä½œ
- en: Below are five methods that can be used for manipulating datetime series.
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: ä»¥ä¸‹æ˜¯äº”ç§å¯ä»¥ç”¨æ¥æ“ä½œæ—¥æœŸæ—¶é—´åºåˆ—çš„æ–¹æ³•ã€‚
- en: '`[pandas.Series.dt.normalize](https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Series.dt.normalize.html)`
    â€” Convert times to midnight, 12:00:00.'
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: '`[pandas.Series.dt.normalize](https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Series.dt.normalize.html)`
    â€” å°†æ—¶é—´è½¬æ¢ä¸ºåˆå¤œ12:00:00ã€‚'
- en: '`[pandas.Series.dt.round](https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Series.dt.round.html)`
    â€” Perform round operation on the data to the specified freq.'
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: '`[pandas.Series.dt.round](https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Series.dt.round.html)`
    â€” å¯¹æ•°æ®æ‰§è¡Œå››èˆäº”å…¥æ“ä½œåˆ°æŒ‡å®šçš„é¢‘ç‡ã€‚'
- en: '`[pandas.Series.dt.floor](https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Series.dt.floor.html)`
    â€” Perform floor operation on the data to the specified freq.'
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: '`[pandas.Series.dt.floor](https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Series.dt.floor.html)`
    â€” å¯¹æ•°æ®æ‰§è¡Œå‘ä¸‹å–æ•´æ“ä½œåˆ°æŒ‡å®šçš„é¢‘ç‡ã€‚'
- en: '`[pandas.Series.dt.ceil](https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Series.dt.ceil.html)`
    â€” Perform ceil operation on the data to the specified freq.'
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: '`[pandas.Series.dt.ceil](https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Series.dt.ceil.html)`
    â€” å¯¹æ•°æ®æ‰§è¡Œå‘ä¸Šå–æ•´æ“ä½œåˆ°æŒ‡å®šçš„é¢‘ç‡ã€‚'
- en: '`[pandas.Series.dt.strftime](https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Series.dt.strftime.html)`
    â€” Convert to Index using specified date_format.'
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: '`[pandas.Series.dt.strftime](https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Series.dt.strftime.html)`
    â€” ä½¿ç”¨æŒ‡å®šçš„date_formatè½¬æ¢ä¸ºç´¢å¼•ã€‚'
- en: Method to Round Off the Timestamp
  id: totrans-39
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: èˆå…¥æ—¶é—´æˆ³çš„æ–¹æ³•
- en: For the `.round`, `.floor` and `.ceil` methods, we need to define the frequency
    to round off the time. The frequency must be a fixed frequency like â€˜Sâ€™ (second)
    and cannot be â€˜MEâ€™ (month end).
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: å¯¹äº`.round`ã€`.floor`å’Œ`.ceil`æ–¹æ³•ï¼Œæˆ‘ä»¬éœ€è¦å®šä¹‰é¢‘ç‡æ¥èˆå…¥æ—¶é—´ã€‚é¢‘ç‡å¿…é¡»æ˜¯å›ºå®šé¢‘ç‡ï¼Œå¦‚â€˜Sâ€™ï¼ˆç§’ï¼‰ï¼Œä¸èƒ½æ˜¯â€˜MEâ€™ï¼ˆæœˆæœ«ï¼‰ã€‚
- en: Based on the authorâ€™s try & error, the fixed frequency are D, H, T/min, S, L/ms,
    U/us, and N. See [Time Series Frequencies](https://pandas.pydata.org/pandas-docs/stable/user_guide/timeseries.html#timeseries-offset-aliases)
    for all the frequency values.
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: æ ¹æ®ä½œè€…çš„å°è¯•ä¸é”™è¯¯ï¼Œå›ºå®šé¢‘ç‡æœ‰Dã€Hã€T/minã€Sã€L/msã€U/uså’ŒNã€‚æŸ¥çœ‹[æ—¶é—´åºåˆ—é¢‘ç‡](https://pandas.pydata.org/pandas-docs/stable/user_guide/timeseries.html#timeseries-offset-aliases)è·å–æ‰€æœ‰é¢‘ç‡å€¼ã€‚
- en: The difference of `.round`, `.floor` and `.ceil` methods will be shown in the
    two examples below. *The two examples below will use the list of dates generated
    instead of the data frame generated for demo purposes.*
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: '`.round`ã€`.floor`å’Œ`.ceil`æ–¹æ³•ä¹‹é—´çš„åŒºåˆ«å°†åœ¨ä¸‹é¢çš„ä¸¤ä¸ªä¾‹å­ä¸­æ˜¾ç¤ºã€‚*ä¸‹é¢çš„ä¸¤ä¸ªä¾‹å­å°†ä½¿ç”¨ç”Ÿæˆçš„æ—¥æœŸåˆ—è¡¨ï¼Œè€Œä¸æ˜¯ä¸ºæ¼”ç¤ºç”Ÿæˆçš„æ•°æ®æ¡†ã€‚*'
- en: The first example is rounding off the timestamp with a 2-hour frequency gap
    to a 6-hour frequency gap.
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: ç¬¬ä¸€ä¸ªä¾‹å­æ˜¯å°†æ—¶é—´æˆ³ä»2å°æ—¶é¢‘ç‡é—´éš”èˆå…¥åˆ°6å°æ—¶é¢‘ç‡é—´éš”ã€‚
- en: '[PRE2]'
  id: totrans-44
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: '![](../Images/9e61ab3ca714132bad512c44ec4fbccf.png)'
  id: totrans-45
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/9e61ab3ca714132bad512c44ec4fbccf.png)'
- en: Script Output 1\. Image by Author.
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: è„šæœ¬è¾“å‡º1ã€‚å›¾ç‰‡æ¥æºï¼šä½œè€…ã€‚
- en: The second example is rounding off the timestamp with a 3-hour frequency gap
    to a 6-hour frequency gap.
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: ç¬¬äºŒä¸ªä¾‹å­æ˜¯å°†æ—¶é—´æˆ³ä»3å°æ—¶é¢‘ç‡é—´éš”èˆå…¥åˆ°6å°æ—¶é¢‘ç‡é—´éš”ã€‚
- en: '[PRE3]'
  id: totrans-48
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: '![](../Images/05f6416445f4c74d95fafe6f03514bf0.png)'
  id: totrans-49
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/05f6416445f4c74d95fafe6f03514bf0.png)'
- en: Script Output 2\. Image by Author.
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: è„šæœ¬è¾“å‡º2ã€‚å›¾ç‰‡æ¥æºï¼šä½œè€…ã€‚
- en: The 6-hour frequency means the time will be cut into equal-length time periods,
    where each period is 6 hours apart, and the first period always starts at midnight
    00:00:00\. As there are 24 hours in a day, hence we will be having 4 periods as
    shown in the chart below.
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: 6å°æ—¶é¢‘ç‡æ„å‘³ç€æ—¶é—´å°†è¢«åˆ†å‰²æˆç­‰é•¿çš„æ—¶é—´æ®µï¼Œæ¯ä¸ªæ—¶é—´æ®µé—´éš”6å°æ—¶ï¼Œç¬¬ä¸€ä¸ªæ—¶é—´æ®µæ€»æ˜¯ä»åˆå¤œ00:00:00å¼€å§‹ã€‚ä¸€å¤©æœ‰24å°æ—¶ï¼Œå› æ­¤æˆ‘ä»¬ä¼šæœ‰4ä¸ªæ—¶é—´æ®µï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚
- en: The first period will be 12 am to 6 am, then the second period will be 6 am
    to 12 pm and so on.
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: ç¬¬ä¸€ä¸ªæ—¶é—´æ®µå°†æ˜¯å‡Œæ™¨12ç‚¹åˆ°æ—©ä¸Š6ç‚¹ï¼Œç„¶åç¬¬äºŒä¸ªæ—¶é—´æ®µå°†æ˜¯æ—©ä¸Š6ç‚¹åˆ°ä¸­åˆ12ç‚¹ï¼Œä»¥æ­¤ç±»æ¨ã€‚
- en: '![](../Images/e14e879219bb5be9280f8a761f5cb606.png)'
  id: totrans-53
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/e14e879219bb5be9280f8a761f5cb606.png)'
- en: Difference between round, floor and ceil methods. Image by Author.
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: roundã€floorå’Œceilæ–¹æ³•ä¹‹é—´çš„åŒºåˆ«ã€‚å›¾ç‰‡æ¥æºï¼šä½œè€…ã€‚
- en: As shown in the chart above, for the `.floor` method, it will always return
    the lower bound of the period. For the `.ceil` method, it is the opposite of `.floor`,
    where it will always return the upper bound of the period.
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œå¯¹äº `.floor` æ–¹æ³•ï¼Œå®ƒå°†å§‹ç»ˆè¿”å›æ—¶é—´æ®µçš„ä¸‹è¾¹ç•Œã€‚å¯¹äº `.ceil` æ–¹æ³•ï¼Œåˆ™ä¸ `.floor` ç›¸åï¼Œå®ƒå°†å§‹ç»ˆè¿”å›æ—¶é—´æ®µçš„ä¸Šè¾¹ç•Œã€‚
- en: For the `.round` method, it will return the nearest bound of the period, but
    when the distance to the two bounds is equal, it will return either.
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: å¯¹äº `.round` æ–¹æ³•ï¼Œå®ƒå°†è¿”å›è¯¥æ—¶é—´æ®µçš„æœ€è¿‘è¾¹ç•Œï¼Œä½†å½“è·ç¦»ä¸¤ä¸ªè¾¹ç•Œç›¸ç­‰æ—¶ï¼Œå®ƒå°†è¿”å›ä»»æ„ä¸€ä¸ªã€‚
- en: Thatâ€™s the difference between the 3 methods above. How the timestamps are rounded
    off will impact the result of the analysis later, hence, itâ€™s critical to pick
    the method according to the analysis required.
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™å°±æ˜¯ä¸Šè¿°ä¸‰ç§æ–¹æ³•ä¹‹é—´çš„åŒºåˆ«ã€‚æ—¶é—´æˆ³çš„èˆå…¥æ–¹å¼å°†å½±å“åç»­åˆ†æçš„ç»“æœï¼Œå› æ­¤ï¼Œæ ¹æ®éœ€è¦çš„åˆ†æé€‰æ‹©æ–¹æ³•æ˜¯è‡³å…³é‡è¦çš„ã€‚
- en: To apply the method above on a data frame, we need to add `.dt` before the method.
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: è¦åœ¨æ•°æ®æ¡†ä¸Šåº”ç”¨ä¸Šè¿°æ–¹æ³•ï¼Œæˆ‘ä»¬éœ€è¦åœ¨æ–¹æ³•å‰åŠ ä¸Š `.dt`ã€‚
- en: To change the date, let us copy the date index as a column.
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: è¦æ›´æ”¹æ—¥æœŸï¼Œæˆ‘ä»¬å¯ä»¥å°†æ—¥æœŸç´¢å¼•å¤åˆ¶ä¸ºä¸€åˆ—ã€‚
- en: '[PRE4]'
  id: totrans-60
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: '![](../Images/ec79f7a0c68e4a242cdce8ca3e5be818.png)'
  id: totrans-61
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/ec79f7a0c68e4a242cdce8ca3e5be818.png)'
- en: A data frame with duplicated dates column. Image by Author.
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸€ä¸ªåŒ…å«é‡å¤æ—¥æœŸåˆ—çš„æ•°æ®æ¡†ã€‚å›¾ç‰‡ç”±ä½œè€…æä¾›ã€‚
- en: The `dtypes` of the data frame is as follows.
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: æ•°æ®æ¡†çš„ `dtypes` å¦‚ä¸‹æ‰€ç¤ºã€‚
- en: '![](../Images/96a8f2018730d6f2208bc984cfc61dc2.png)'
  id: totrans-64
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/96a8f2018730d6f2208bc984cfc61dc2.png)'
- en: Image by Author.
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: å›¾ç‰‡ç”±ä½œè€…æä¾›ã€‚
- en: In the first example below, we will round the timestamp at a 6-hour frequency.
    The `.dt.normalize` will always round the time to midnight, hence only the date
    is shown here.
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨ä¸‹é¢çš„ç¬¬ä¸€ä¸ªç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬å°†åœ¨ 6 å°æ—¶çš„é¢‘ç‡ä¸‹å¯¹æ—¶é—´æˆ³è¿›è¡Œèˆå…¥ã€‚`.dt.normalize` å°†å§‹ç»ˆå°†æ—¶é—´èˆå…¥åˆ°åˆå¤œï¼Œå› æ­¤è¿™é‡Œåªæ˜¾ç¤ºæ—¥æœŸã€‚
- en: '[PRE5]'
  id: totrans-67
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: '![](../Images/edcbf73626b8f8fb800dce67bae2c0af.png)'
  id: totrans-68
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/edcbf73626b8f8fb800dce67bae2c0af.png)'
- en: Image by Author.
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: å›¾ç‰‡ç”±ä½œè€…æä¾›ã€‚
- en: The first example is the same as the two examples with generated list of dates,
    the timestamp is rounding off according to the hour.
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: ç¬¬ä¸€ä¸ªç¤ºä¾‹ä¸ç”Ÿæˆçš„æ—¥æœŸåˆ—è¡¨çš„ä¸¤ä¸ªç¤ºä¾‹ç›¸åŒï¼Œæ—¶é—´æˆ³æŒ‰å°æ—¶è¿›è¡Œèˆå…¥ã€‚
- en: In the second example below, we will round the date at â€œDâ€ frequency which means
    the timestamp will be rounded off to the nearest day.
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨ä¸‹é¢çš„ç¬¬äºŒä¸ªç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬å°†ä»¥â€œDâ€é¢‘ç‡å¯¹æ—¥æœŸè¿›è¡Œèˆå…¥ï¼Œè¿™æ„å‘³ç€æ—¶é—´æˆ³å°†èˆå…¥åˆ°æœ€è¿‘çš„ä¸€å¤©ã€‚
- en: '[PRE6]'
  id: totrans-72
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: '![](../Images/51c6b86cd4572b84cdd481c581f8a2e7.png)'
  id: totrans-73
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/51c6b86cd4572b84cdd481c581f8a2e7.png)'
- en: Image by Author.
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: å›¾ç‰‡ç”±ä½œè€…æä¾›ã€‚
- en: For the second example, the `.floor` method will return the lower bound of the
    period which is the same day as the timestamp, while the `.ceil` method will always
    return the upper bound of the period which is the next day of the date **except**
    when the timestamp is at midnight 00:00 hour.
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
  zh: å¯¹äºç¬¬äºŒä¸ªç¤ºä¾‹ï¼Œ`.floor` æ–¹æ³•å°†è¿”å›æ—¶é—´æ®µçš„ä¸‹è¾¹ç•Œï¼Œå³ä¸æ—¶é—´æˆ³ç›¸åŒçš„ä¸€å¤©ï¼Œè€Œ `.ceil` æ–¹æ³•å°†å§‹ç»ˆè¿”å›æ—¶é—´æ®µçš„ä¸Šè¾¹ç•Œï¼Œå³æ—¥æœŸçš„ä¸‹ä¸€å¤© **é™¤é**
    æ—¶é—´æˆ³æ˜¯åœ¨åˆå¤œ 00:00 æ—¶ã€‚
- en: For the `.round` method, it will still return the nearest bound of the period,
    but when the distance to the two bounds is equal, it will return either.
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: å¯¹äº `.round` æ–¹æ³•ï¼Œå®ƒä»ç„¶ä¼šè¿”å›æ—¶é—´æ®µçš„æœ€è¿‘è¾¹ç•Œï¼Œä½†å½“è·ç¦»ä¸¤ä¸ªè¾¹ç•Œç›¸ç­‰æ—¶ï¼Œå®ƒå°†è¿”å›ä»»æ„ä¸€ä¸ªã€‚
- en: Method to Convert the DateTime Format â€” strftime()
  id: totrans-77
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: è½¬æ¢ DateTime æ ¼å¼çš„æ–¹æ³• â€” strftime()
- en: By using `.strftime()` methods, we can convert the timestamp into the required
    format. In the example below, the standard ISO format date has been converted
    into <month> <day>, <year> format, which can be represented by `strftime()` format
    code`â€˜%B %d, %Yâ€™`. `%B` is referring to Month as the localeâ€™s full name. See all
    the `strftime()` format codes [here](https://docs.python.org/3/library/datetime.html#strftime-and-strptime-behavior).
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: é€šè¿‡ä½¿ç”¨ `.strftime()` æ–¹æ³•ï¼Œæˆ‘ä»¬å¯ä»¥å°†æ—¶é—´æˆ³è½¬æ¢ä¸ºæ‰€éœ€çš„æ ¼å¼ã€‚åœ¨ä¸‹é¢çš„ç¤ºä¾‹ä¸­ï¼Œæ ‡å‡†çš„ ISO æ ¼å¼æ—¥æœŸå·²è¢«è½¬æ¢ä¸º <month> <day>,
    <year> æ ¼å¼ï¼Œè¿™å¯ä»¥é€šè¿‡ `strftime()` æ ¼å¼ä»£ç `â€˜%B %d, %Yâ€™` è¡¨ç¤ºã€‚`%B` ä»£è¡¨çš„æ˜¯æœˆä»½çš„å®Œæ•´åç§°ã€‚æŸ¥çœ‹æ‰€æœ‰çš„ `strftime()`
    æ ¼å¼ä»£ç  [è¿™é‡Œ](https://docs.python.org/3/library/datetime.html#strftime-and-strptime-behavior)ã€‚
- en: '[PRE7]'
  id: totrans-79
  prefs: []
  type: TYPE_PRE
  zh: '[PRE7]'
- en: '![](../Images/2873e42fa1dfe494f788cad3e878f28e.png)'
  id: totrans-80
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/2873e42fa1dfe494f788cad3e878f28e.png)'
- en: Image by Author.
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: å›¾ç‰‡ç”±ä½œè€…æä¾›ã€‚
- en: Converting the DateTime format like changing the month from digit to full name
    can clear the clutter for whether the 7 refers to month or day.
  id: totrans-82
  prefs: []
  type: TYPE_NORMAL
  zh: è½¬æ¢ DateTime æ ¼å¼ï¼Œä¾‹å¦‚å°†æœˆä»½ä»æ•°å­—è½¬æ¢ä¸ºå®Œæ•´åç§°ï¼Œå¯ä»¥æ¶ˆé™¤ 7 æ˜¯æŒ‡æœˆä»½è¿˜æ˜¯æ—¥æœŸçš„æ··æ·†ã€‚
- en: Converting DateTime to a Particular Period
  id: totrans-83
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: å°† DateTime è½¬æ¢ä¸ºç‰¹å®šçš„æ—¶é—´æ®µ
- en: '`[pandas.Series.dt.to_period](https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Series.dt.to_period.html)`
    â€” Cast to PeriodArray/Index at a particular frequency. Converts DatetimeArray/Index
    to PeriodArray/Index.'
  id: totrans-84
  prefs: []
  type: TYPE_NORMAL
  zh: '`[pandas.Series.dt.to_period](https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Series.dt.to_period.html)`
    â€” è½¬æ¢ä¸ºç‰¹å®šé¢‘ç‡çš„ PeriodArray/Indexã€‚å°† DatetimeArray/Index è½¬æ¢ä¸º PeriodArray/Indexã€‚'
- en: The first example below will convert a timestamp to a week.
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: ä»¥ä¸‹ç¬¬ä¸€ä¸ªç¤ºä¾‹å°†æ—¶é—´æˆ³è½¬æ¢ä¸ºå‘¨ã€‚
- en: '[PRE8]'
  id: totrans-86
  prefs: []
  type: TYPE_PRE
  zh: '[PRE8]'
- en: As in the output below, the datetime array has been converted to a period array,
    where each element in the list has been changed from a timestamp to a week.
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
  zh: å¦‚ä¸‹è¾“å‡ºæ‰€ç¤ºï¼Œæ—¥æœŸæ—¶é—´æ•°ç»„å·²è½¬æ¢ä¸ºå‘¨æœŸæ•°ç»„ï¼Œå…¶ä¸­åˆ—è¡¨ä¸­çš„æ¯ä¸ªå…ƒç´ å·²ä»æ—¶é—´æˆ³æ›´æ”¹ä¸ºå‘¨ã€‚
- en: '![](../Images/9a90575ffc056d13bcb48f48aaae255e.png)'
  id: totrans-88
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/9a90575ffc056d13bcb48f48aaae255e.png)'
- en: Image by Author.
  id: totrans-89
  prefs: []
  type: TYPE_NORMAL
  zh: å›¾ç‰‡ç”±ä½œè€…æä¾›ã€‚
- en: The second example below will convert a timestamp to a month.
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: ä»¥ä¸‹ç¬¬äºŒä¸ªç¤ºä¾‹å°†æ—¶é—´æˆ³è½¬æ¢ä¸ºæœˆä»½ã€‚
- en: '[PRE9]'
  id: totrans-91
  prefs: []
  type: TYPE_PRE
  zh: '[PRE9]'
- en: As in the output below, the datetime array has been converted to a month array,
    where each element in the list has been changed from a timestamp to a month.
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: å¦‚ä¸‹è¾“å‡ºæ‰€ç¤ºï¼Œæ—¥æœŸæ—¶é—´æ•°ç»„å·²è½¬æ¢ä¸ºæœˆä»½æ•°ç»„ï¼Œå…¶ä¸­åˆ—è¡¨ä¸­çš„æ¯ä¸ªå…ƒç´ å·²ä»æ—¶é—´æˆ³æ›´æ”¹ä¸ºæœˆä»½ã€‚
- en: '![](../Images/fa55cb7d0207e8e8c7e3ade86c79f503.png)'
  id: totrans-93
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/fa55cb7d0207e8e8c7e3ade86c79f503.png)'
- en: Image by Author.
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: å›¾ç‰‡ç”±ä½œè€…æä¾›ã€‚
- en: Now let's apply that to a data frame. Same with the example earlier, we need
    to add `.dt` before `.to_period()` when applying the method to a data frame.
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
  zh: ç°åœ¨è®©æˆ‘ä»¬å°†å…¶åº”ç”¨äºæ•°æ®æ¡†ã€‚ä¸ä¹‹å‰çš„ç¤ºä¾‹ä¸€æ ·ï¼Œåº”ç”¨æ–¹æ³•åˆ°æ•°æ®æ¡†æ—¶ï¼Œéœ€è¦åœ¨ `.to_period()` å‰æ·»åŠ  `.dt`ã€‚
- en: '[PRE10]'
  id: totrans-96
  prefs: []
  type: TYPE_PRE
  zh: '[PRE10]'
- en: Each datetime in the dates column has been converted to a month.
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
  zh: æ—¥æœŸåˆ—ä¸­çš„æ¯ä¸ªæ—¥æœŸæ—¶é—´å·²è¢«è½¬æ¢ä¸ºæœˆä»½ã€‚
- en: '![](../Images/04b5ffce2c0afef01547e648c747be91.png)'
  id: totrans-98
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/04b5ffce2c0afef01547e648c747be91.png)'
- en: Image by Author.
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: å›¾ç‰‡ç”±ä½œè€…æä¾›ã€‚
- en: With the new period column, we can do a pivot table to get additional insight.
    For example, we can calculate the average blood sugar level for each month.
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
  zh: ä½¿ç”¨æ–°çš„å‘¨æœŸåˆ—ï¼Œæˆ‘ä»¬å¯ä»¥åˆ›å»ºé€è§†è¡¨ä»¥è·å¾—æ›´å¤šè§è§£ã€‚ä¾‹å¦‚ï¼Œæˆ‘ä»¬å¯ä»¥è®¡ç®—æ¯ä¸ªæœˆçš„å¹³å‡è¡€ç³–æ°´å¹³ã€‚
- en: '[PRE11]'
  id: totrans-101
  prefs: []
  type: TYPE_PRE
  zh: '[PRE11]'
- en: '![](../Images/f9169fc78117bfa750e47428d4e21774.png)'
  id: totrans-102
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/f9169fc78117bfa750e47428d4e21774.png)'
- en: Image by Author.
  id: totrans-103
  prefs: []
  type: TYPE_NORMAL
  zh: å›¾ç‰‡ç”±ä½œè€…æä¾›ã€‚
- en: We can also calculate the average blood sugar level by week period for more
    detailed monitoring.
  id: totrans-104
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬è¿˜å¯ä»¥é€šè¿‡å‘¨æœŸé—´è®¡ç®—å¹³å‡è¡€ç³–æ°´å¹³ï¼Œä»¥ä¾¿è¿›è¡Œæ›´è¯¦ç»†çš„ç›‘æµ‹ã€‚
- en: '[PRE12]'
  id: totrans-105
  prefs: []
  type: TYPE_PRE
  zh: '[PRE12]'
- en: '![](../Images/4bf944a77acb638a23066f071853ebc5.png)'
  id: totrans-106
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/4bf944a77acb638a23066f071853ebc5.png)'
- en: Image by Author.
  id: totrans-107
  prefs: []
  type: TYPE_NORMAL
  zh: å›¾ç‰‡ç”±ä½œè€…æä¾›ã€‚
- en: We can calculate the average blood sugar level for each week as below. If the
    blood sugar level continues to increase for multiple weeks, then we should take
    action to control it.
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬å¯ä»¥è®¡ç®—æ¯å‘¨çš„å¹³å‡è¡€ç³–æ°´å¹³ï¼Œå¦‚ä¸‹æ‰€ç¤ºã€‚å¦‚æœè¡€ç³–æ°´å¹³åœ¨å¤šå‘¨å†…æŒç»­ä¸Šå‡ï¼Œåˆ™åº”é‡‡å–æªæ–½è¿›è¡Œæ§åˆ¶ã€‚
- en: '[PRE13]'
  id: totrans-109
  prefs: []
  type: TYPE_PRE
  zh: '[PRE13]'
- en: '![](../Images/30a4d0016f257664489ee919ec838e31.png)'
  id: totrans-110
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/30a4d0016f257664489ee919ec838e31.png)'
- en: Image by Author.
  id: totrans-111
  prefs: []
  type: TYPE_NORMAL
  zh: å›¾ç‰‡ç”±ä½œè€…æä¾›ã€‚
- en: If we use the daily data, the rise in blood sugar level for a few days might
    be due to a luxurious dinner only, but the rise in blood sugar for a few weeks
    might indicate the patientâ€™s health is at risk.
  id: totrans-112
  prefs: []
  type: TYPE_NORMAL
  zh: å¦‚æœæˆ‘ä»¬ä½¿ç”¨æ¯æ—¥æ•°æ®ï¼Œå‡ å¤©å†…è¡€ç³–æ°´å¹³çš„ä¸Šå‡å¯èƒ½ä»…æ˜¯ç”±äºä¸°ç››çš„æ™šé¤ï¼Œä½†å‡ å‘¨å†…è¡€ç³–æ°´å¹³çš„ä¸Šå‡å¯èƒ½è¡¨æ˜æ‚£è€…çš„å¥åº·å­˜åœ¨é£é™©ã€‚
- en: '![](../Images/9499700b4325fe839794c84693dcdc78.png)'
  id: totrans-113
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/9499700b4325fe839794c84693dcdc78.png)'
- en: Image by Author.
  id: totrans-114
  prefs: []
  type: TYPE_NORMAL
  zh: å›¾ç‰‡ç”±ä½œè€…æä¾›ã€‚
- en: For the pivot table, the index label and the column label will not be at the
    same level, as shown in the image above.
  id: totrans-115
  prefs: []
  type: TYPE_NORMAL
  zh: å¯¹äºé€è§†è¡¨ï¼Œç´¢å¼•æ ‡ç­¾å’Œåˆ—æ ‡ç­¾å°†ä¸ä¼šå¤„äºåŒä¸€çº§åˆ«ï¼Œå¦‚ä¸Šå›¾æ‰€ç¤ºã€‚
- en: To make the Index label and column label at the same level, the index will need
    to be reset as below.
  id: totrans-116
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸ºäº†ä½¿ç´¢å¼•æ ‡ç­¾å’Œåˆ—æ ‡ç­¾å¤„äºåŒä¸€çº§åˆ«ï¼Œéœ€è¦é‡ç½®ç´¢å¼•ï¼Œå¦‚ä¸‹æ‰€ç¤ºã€‚
- en: '[PRE14]'
  id: totrans-117
  prefs: []
  type: TYPE_PRE
  zh: '[PRE14]'
- en: '![](../Images/228697cd406880712d8605853eed8baf.png)'
  id: totrans-118
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/228697cd406880712d8605853eed8baf.png)'
- en: Image by Author.
  id: totrans-119
  prefs: []
  type: TYPE_NORMAL
  zh: å›¾ç‰‡ç”±ä½œè€…æä¾›ã€‚
- en: Filtering DateTime Series based on Condition
  id: totrans-120
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: åŸºäºæ¡ä»¶è¿‡æ»¤ DateTime ç³»åˆ—
- en: '`[pandas.Series.at_time](https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Series.at_time.html)`
    â€” Select values at a particular time of day (e.g., 9:30 AM).'
  id: totrans-121
  prefs: []
  type: TYPE_NORMAL
  zh: '`[pandas.Series.at_time](https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Series.at_time.html)`
    â€” é€‰æ‹©ä¸€å¤©ä¸­ç‰¹å®šæ—¶é—´çš„å€¼ï¼ˆä¾‹å¦‚ï¼Œä¸Šåˆ 9:30ï¼‰ã€‚'
- en: '`[pandas.Series.between_time](https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Series.between_time.html)`
    â€” Select values between particular times of the day (e.g., 9:00â€“9:30 AM).'
  id: totrans-122
  prefs: []
  type: TYPE_NORMAL
  zh: '`[pandas.Series.between_time](https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Series.between_time.html)`
    â€” é€‰æ‹©ä¸€å¤©ä¸­ç‰¹å®šæ—¶é—´æ®µä¹‹é—´çš„å€¼ï¼ˆä¾‹å¦‚ï¼Œä¸Šåˆ 9:00â€“9:30ï¼‰ã€‚'
- en: This method is nice for the investigation of health records, like the blood
    sugar level of a patient every day in the early morning and before sleep. It could
    also be useful for applications like tracking your sales or the airline within
    a specific time period.
  id: totrans-123
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™ç§æ–¹æ³•é€‚ç”¨äºå¥åº·è®°å½•çš„è°ƒæŸ¥ï¼Œä¾‹å¦‚æ¯å¤©æ—©æ™¨å’Œç¡å‰çš„è¡€ç³–æ°´å¹³ã€‚å®ƒä¹Ÿå¯ä»¥ç”¨äºè·Ÿè¸ªé”€å”®æˆ–ç‰¹å®šæ—¶é—´æ®µå†…çš„èˆªç­ç­‰åº”ç”¨ã€‚
- en: For examples below, we will apply the two methods mentioned above to track the
    blood sugar level records at 8 am and between 7 pm and 9 pm.
  id: totrans-124
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨ä»¥ä¸‹ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬å°†åº”ç”¨ä¸Šè¿°ä¸¤ç§æ–¹æ³•æ¥è·Ÿè¸ªä¸Šåˆ 8 ç‚¹å’Œæ™šä¸Š 7 ç‚¹åˆ° 9 ç‚¹ä¹‹é—´çš„è¡€ç³–æ°´å¹³è®°å½•ã€‚
- en: '[PRE15]'
  id: totrans-125
  prefs: []
  type: TYPE_PRE
  zh: '[PRE15]'
- en: '![](../Images/83410cb6b8e5404b1d4a707d16cd31cc.png)'
  id: totrans-126
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/83410cb6b8e5404b1d4a707d16cd31cc.png)'
- en: Image by Author.
  id: totrans-127
  prefs: []
  type: TYPE_NORMAL
  zh: å›¾ç‰‡ç”±ä½œè€…æä¾›ã€‚
- en: In the example above, only the records that were recorded at 8 am will be shown.
  id: totrans-128
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œä»…ä¼šæ˜¾ç¤ºåœ¨æ—©ä¸Š8ç‚¹è®°å½•çš„è®°å½•ã€‚
- en: '**Note:** This method only can be applied on the data frame where the Index
    is **DatetimeIndex**, else will cause TypeError as below.'
  id: totrans-129
  prefs: []
  type: TYPE_NORMAL
  zh: '**æ³¨æ„ï¼š** æ­¤æ–¹æ³•åªèƒ½åº”ç”¨äºç´¢å¼•ä¸º**DatetimeIndex**çš„æ•°æ®æ¡†ï¼Œå¦åˆ™ä¼šå¯¼è‡´å¦‚ä¸‹é¢æ‰€ç¤ºçš„TypeErrorã€‚'
- en: '![](../Images/44aa998134696c5af3f4d4cdd8c6c438.png)'
  id: totrans-130
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/44aa998134696c5af3f4d4cdd8c6c438.png)'
- en: Image by Author.
  id: totrans-131
  prefs: []
  type: TYPE_NORMAL
  zh: ä½œè€…æä¾›çš„å›¾ç‰‡ã€‚
- en: For example below, only the first five records between 7 pm and 9 pm will be
    shown.
  id: totrans-132
  prefs: []
  type: TYPE_NORMAL
  zh: ä¾‹å¦‚ä¸‹é¢çš„ä¾‹å­ä¸­ï¼Œä»…ä¼šæ˜¾ç¤ºæ™šä¸Š7ç‚¹åˆ°9ç‚¹ä¹‹é—´çš„å‰äº”æ¡è®°å½•ã€‚
- en: '[PRE16]'
  id: totrans-133
  prefs: []
  type: TYPE_PRE
  zh: '[PRE16]'
- en: '![](../Images/1510c8b669c68f53b0ed19d7d44e5442.png)'
  id: totrans-134
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/1510c8b669c68f53b0ed19d7d44e5442.png)'
- en: Image by Author.
  id: totrans-135
  prefs: []
  type: TYPE_NORMAL
  zh: ä½œè€…æä¾›çš„å›¾ç‰‡ã€‚
- en: Time Shift
  id: totrans-136
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: æ—¶é—´ç§»ä½
- en: '`[pandas.Series.shift](https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Series.shift.html)`
    â€” Shift the time index, using the indexâ€™s frequency if available.'
  id: totrans-137
  prefs: []
  type: TYPE_NORMAL
  zh: '`[pandas.Series.shift](https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Series.shift.html)`
    â€” ç§»åŠ¨æ—¶é—´ç´¢å¼•ï¼Œå¦‚æœå¯ç”¨çš„è¯ä½¿ç”¨ç´¢å¼•çš„é¢‘ç‡ã€‚'
- en: '**Note:** As this method shifts the data points according to the time index,
    the Index must be a **Datetime index** or a **Period index**.'
  id: totrans-138
  prefs: []
  type: TYPE_NORMAL
  zh: '**æ³¨æ„ï¼š** ç”±äºæ­¤æ–¹æ³•æ ¹æ®æ—¶é—´ç´¢å¼•ç§»åŠ¨æ•°æ®ç‚¹ï¼Œå› æ­¤ç´¢å¼•å¿…é¡»æ˜¯**æ—¥æœŸæ—¶é—´ç´¢å¼•**æˆ–**å‘¨æœŸç´¢å¼•**ã€‚'
- en: '[PRE17]'
  id: totrans-139
  prefs: []
  type: TYPE_PRE
  zh: '[PRE17]'
- en: Letâ€™s recall the pivot table from the previous section to demo the time shift
    method.
  id: totrans-140
  prefs: []
  type: TYPE_NORMAL
  zh: è®©æˆ‘ä»¬å›é¡¾å‰ä¸€èŠ‚çš„é€è§†è¡¨æ¥æ¼”ç¤ºæ—¶é—´ç§»ä½æ–¹æ³•ã€‚
- en: '![](../Images/65190e0b07e74504bd611d78f1cf4a80.png)'
  id: totrans-141
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/65190e0b07e74504bd611d78f1cf4a80.png)'
- en: Image by Author.
  id: totrans-142
  prefs: []
  type: TYPE_NORMAL
  zh: ä½œè€…æä¾›çš„å›¾ç‰‡ã€‚
- en: '[PRE18]'
  id: totrans-143
  prefs: []
  type: TYPE_PRE
  zh: '[PRE18]'
- en: We can shift down the data points by one period as specified in the script.
  id: totrans-144
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬å¯ä»¥æŒ‰ç…§è„šæœ¬ä¸­æŒ‡å®šçš„å‘¨æœŸå‘ä¸‹ç§»ä½æ•°æ®ç‚¹ã€‚
- en: '![](../Images/6dc7a0152d5733655a9fb82c985e011f.png)'
  id: totrans-145
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/6dc7a0152d5733655a9fb82c985e011f.png)'
- en: Image by Author.
  id: totrans-146
  prefs: []
  type: TYPE_NORMAL
  zh: ä½œè€…æä¾›çš„å›¾ç‰‡ã€‚
- en: By changing the periods to -1, we can shift up the data points by one period
    too. For example, the data points have been shifting up one month, which means
    the current July data point was August.
  id: totrans-147
  prefs: []
  type: TYPE_NORMAL
  zh: é€šè¿‡å°†å‘¨æœŸæ›´æ”¹ä¸º-1ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥å°†æ•°æ®ç‚¹å‘ä¸Šç§»ä½ä¸€ä¸ªå‘¨æœŸã€‚ä¾‹å¦‚ï¼Œæ•°æ®ç‚¹å·²ç»å‘ä¸Šç§»ä½ä¸€ä¸ªæœˆï¼Œè¿™æ„å‘³ç€å½“å‰çš„7æœˆæ•°æ®ç‚¹æ˜¯8æœˆã€‚
- en: '[PRE19]'
  id: totrans-148
  prefs: []
  type: TYPE_PRE
  zh: '[PRE19]'
- en: '![](../Images/d443c77132f66aac8385a46d645424a2.png)'
  id: totrans-149
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/d443c77132f66aac8385a46d645424a2.png)'
- en: Image by Author.
  id: totrans-150
  prefs: []
  type: TYPE_NORMAL
  zh: ä½œè€…æä¾›çš„å›¾ç‰‡ã€‚
- en: The column name might be ambiguous as it did not reflect the actual value. To
    solve that, we can combine it with `.rename()` method to directly rename the time
    shift column.
  id: totrans-151
  prefs: []
  type: TYPE_NORMAL
  zh: åˆ—åå¯èƒ½ä¼šäº§ç”Ÿæ­§ä¹‰ï¼Œå› ä¸ºå®ƒæ²¡æœ‰åæ˜ å®é™…å€¼ã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬å¯ä»¥å°†å…¶ä¸`.rename()`æ–¹æ³•ç»“åˆï¼Œç›´æ¥é‡å‘½åæ—¶é—´ç§»ä½åˆ—ã€‚
- en: '[PRE20]'
  id: totrans-152
  prefs: []
  type: TYPE_PRE
  zh: '[PRE20]'
- en: '![](../Images/aeb5df3091c81123599f1f91fcd7addf.png)'
  id: totrans-153
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/aeb5df3091c81123599f1f91fcd7addf.png)'
- en: Image by Author.
  id: totrans-154
  prefs: []
  type: TYPE_NORMAL
  zh: ä½œè€…æä¾›çš„å›¾ç‰‡ã€‚
- en: We can combine the original data points with the shifted data points to make
    a comparison table.
  id: totrans-155
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬å¯ä»¥å°†åŸå§‹æ•°æ®ç‚¹ä¸ç§»ä½åçš„æ•°æ®ç‚¹ç»“åˆï¼Œåˆ¶ä½œæ¯”è¾ƒè¡¨ã€‚
- en: '[PRE21]'
  id: totrans-156
  prefs: []
  type: TYPE_PRE
  zh: '[PRE21]'
- en: '![](../Images/8fadc57577f486223f5525d494c55a1e.png)'
  id: totrans-157
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/8fadc57577f486223f5525d494c55a1e.png)'
- en: Image by Author.
  id: totrans-158
  prefs: []
  type: TYPE_NORMAL
  zh: ä½œè€…æä¾›çš„å›¾ç‰‡ã€‚
- en: With the two series above, we can calculate the percentage of changes in blood
    sugar levels.
  id: totrans-159
  prefs: []
  type: TYPE_NORMAL
  zh: ä½¿ç”¨ä¸Šé¢çš„ä¸¤ä¸ªç³»åˆ—ï¼Œæˆ‘ä»¬å¯ä»¥è®¡ç®—è¡€ç³–æ°´å¹³çš„å˜åŒ–ç™¾åˆ†æ¯”ã€‚
- en: '[PRE22]'
  id: totrans-160
  prefs: []
  type: TYPE_PRE
  zh: '[PRE22]'
- en: '![](../Images/04a81197d5a5a19fc6aaf0deef3899fb.png)'
  id: totrans-161
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/04a81197d5a5a19fc6aaf0deef3899fb.png)'
- en: Image by Author.
  id: totrans-162
  prefs: []
  type: TYPE_NORMAL
  zh: ä½œè€…æä¾›çš„å›¾ç‰‡ã€‚
- en: Thatâ€™s pretty cool. Do you know what is even cooler? We do not need to calculate
    the percentage of change, `pandas` have the method ready for youğŸ˜Š!
  id: totrans-163
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™å¾ˆé…·ã€‚ä½ çŸ¥é“ä»€ä¹ˆæ›´é…·å—ï¼Ÿæˆ‘ä»¬ä¸éœ€è¦è®¡ç®—å˜åŒ–ç™¾åˆ†æ¯”ï¼Œ`pandas`å·²ç»ä¸ºä½ å‡†å¤‡å¥½äº†æ–¹æ³•ğŸ˜Šï¼
- en: '[PRE23]'
  id: totrans-164
  prefs: []
  type: TYPE_PRE
  zh: '[PRE23]'
- en: '![](../Images/d1627990dbc8a45e4362ead6ca178d65.png)'
  id: totrans-165
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/d1627990dbc8a45e4362ead6ca178d65.png)'
- en: Image by Author.
  id: totrans-166
  prefs: []
  type: TYPE_NORMAL
  zh: ä½œè€…æä¾›çš„å›¾ç‰‡ã€‚
- en: '[PRE24]'
  id: totrans-167
  prefs: []
  type: TYPE_PRE
  zh: '[PRE24]'
- en: As we continue from the previous example, there are two columns in the data
    frame now. When have more than one column, need to specify to perform calculations
    on which column.
  id: totrans-168
  prefs: []
  type: TYPE_NORMAL
  zh: ç»§ç»­å‰é¢çš„ä¾‹å­ï¼Œç°åœ¨æ•°æ®æ¡†ä¸­æœ‰ä¸¤åˆ—ã€‚å½“æœ‰å¤šä¸ªåˆ—æ—¶ï¼Œéœ€è¦æŒ‡å®šåœ¨å“ªä¸€åˆ—ä¸Šè¿›è¡Œè®¡ç®—ã€‚
- en: '![](../Images/4059a24b87f02a485abf4304b8eb7842.png)'
  id: totrans-169
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/4059a24b87f02a485abf4304b8eb7842.png)'
- en: Image by Author.
  id: totrans-170
  prefs: []
  type: TYPE_NORMAL
  zh: ä½œè€…æä¾›çš„å›¾ç‰‡ã€‚
- en: Resampling Time Series
  id: totrans-171
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: é‡é‡‡æ ·æ—¶é—´åºåˆ—
- en: '`[pandas.Series.resample](https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Series.resample.html)`
    â€” Convenience method for frequency conversion and resampling of time series. The
    object must have a datetime-like index (DatetimeIndex, PeriodIndex, or TimedeltaIndex),
    or the caller must pass the label of a datetime-like series/index to the on/level
    keyword parameter.'
  id: totrans-172
  prefs: []
  type: TYPE_NORMAL
  zh: '`[pandas.Series.resample](https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Series.resample.html)`
    â€” ç”¨äºæ—¶é—´åºåˆ—é¢‘ç‡è½¬æ¢å’Œé‡é‡‡æ ·çš„ä¾¿æ·æ–¹æ³•ã€‚å¯¹è±¡å¿…é¡»å…·æœ‰ç±»ä¼¼æ—¥æœŸæ—¶é—´çš„ç´¢å¼•ï¼ˆDatetimeIndexã€PeriodIndex æˆ– TimedeltaIndexï¼‰ï¼Œæˆ–è€…è°ƒç”¨è€…å¿…é¡»å°†ç±»ä¼¼æ—¥æœŸæ—¶é—´çš„ç³»åˆ—/ç´¢å¼•çš„æ ‡ç­¾ä¼ é€’ç»™on/levelå…³é”®å­—å‚æ•°ã€‚'
- en: The example below is using the `df_pivot` from the previous section.
  id: totrans-173
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸‹é¢çš„ä¾‹å­ä½¿ç”¨çš„æ˜¯ä¸Šä¸€èŠ‚ä¸­çš„`df_pivot`ã€‚
- en: '[PRE25]'
  id: totrans-174
  prefs: []
  type: TYPE_PRE
  zh: '[PRE25]'
- en: The script above will resample the data frame based on the period index, which
    means it will group the data points based on the period specified, where in this
    case is â€œQâ€ or quarter, by the mean of the data points within the period.
  id: totrans-175
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸Šé¢çš„è„šæœ¬å°†æ ¹æ®æ—¶é—´æ®µç´¢å¼•é‡æ–°é‡‡æ ·æ•°æ®æ¡†ï¼Œè¿™æ„å‘³ç€å®ƒå°†æ ¹æ®æŒ‡å®šçš„æ—¶é—´æ®µè¿›è¡Œåˆ†ç»„ï¼Œåœ¨æœ¬ä¾‹ä¸­æ˜¯â€œQâ€æˆ–å­£åº¦ï¼Œé€šè¿‡è¯¥æ—¶é—´æ®µå†…æ•°æ®ç‚¹çš„å‡å€¼è¿›è¡Œåˆ†ç»„ã€‚
- en: '![](../Images/cad40a1b8bdb89fe8932f629eb7c0a7d.png)'
  id: totrans-176
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/cad40a1b8bdb89fe8932f629eb7c0a7d.png)'
- en: Image by Author.
  id: totrans-177
  prefs: []
  type: TYPE_NORMAL
  zh: å›¾ç‰‡ç”±ä½œè€…æä¾›ã€‚
- en: Below is another example of resampling the data points with another period of
    time.
  id: totrans-178
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸‹é¢æ˜¯å¦ä¸€ä¸ªä»¥ä¸åŒæ—¶é—´æ®µé‡æ–°é‡‡æ ·æ•°æ®ç‚¹çš„ç¤ºä¾‹ã€‚
- en: '[PRE26]'
  id: totrans-179
  prefs: []
  type: TYPE_PRE
  zh: '[PRE26]'
- en: '![](../Images/a6722e30b83e9813b00c114bf9a16b56.png)'
  id: totrans-180
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/a6722e30b83e9813b00c114bf9a16b56.png)'
- en: Image by Author.
  id: totrans-181
  prefs: []
  type: TYPE_NORMAL
  zh: å›¾ç‰‡ç”±ä½œè€…æä¾›ã€‚
- en: For this example, the data points will be grouped based on the period specified,
    where in this case is â€œYâ€ or year, by the mean of the data points within the period.
    We can also group the data points by the max value from the data points within
    the period.
  id: totrans-182
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨è¿™ä¸ªç¤ºä¾‹ä¸­ï¼Œæ•°æ®ç‚¹å°†æ ¹æ®æŒ‡å®šçš„æ—¶é—´æ®µè¿›è¡Œåˆ†ç»„ï¼Œåœ¨æœ¬ä¾‹ä¸­æ˜¯â€œYâ€æˆ–å¹´ä»½ï¼Œé€šè¿‡è¯¥æ—¶é—´æ®µå†…æ•°æ®ç‚¹çš„å‡å€¼è¿›è¡Œåˆ†ç»„ã€‚æˆ‘ä»¬ä¹Ÿå¯ä»¥é€šè¿‡è¯¥æ—¶é—´æ®µå†…æ•°æ®ç‚¹çš„æœ€å¤§å€¼è¿›è¡Œåˆ†ç»„ã€‚
- en: '[PRE27]'
  id: totrans-183
  prefs: []
  type: TYPE_PRE
  zh: '[PRE27]'
- en: '![](../Images/8a502609f7bb50ccd27fb941f3c268e2.png)'
  id: totrans-184
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/8a502609f7bb50ccd27fb941f3c268e2.png)'
- en: Image by Author.
  id: totrans-185
  prefs: []
  type: TYPE_NORMAL
  zh: å›¾ç‰‡ç”±ä½œè€…æä¾›ã€‚
- en: Take note that the calculated column like `pct_change` and `value_change` will
    be added up too, so now the calculated column in the output does not reflect the
    correct value anymore.
  id: totrans-186
  prefs: []
  type: TYPE_NORMAL
  zh: è¯·æ³¨æ„ï¼Œè®¡ç®—åˆ—å¦‚`pct_change`å’Œ`value_change`ä¹Ÿä¼šè¢«åŠ æ€»ï¼Œå› æ­¤ç°åœ¨è¾“å‡ºä¸­çš„è®¡ç®—åˆ—ä¸å†åæ˜ æ­£ç¡®çš„å€¼ã€‚
- en: Take note that the resample request the data frame to have a DateTime-like or
    period index, else it will cause a type error. Letâ€™s see
  id: totrans-187
  prefs: []
  type: TYPE_NORMAL
  zh: è¯·æ³¨æ„ï¼Œé‡æ–°é‡‡æ ·è¦æ±‚æ•°æ®æ¡†å…·æœ‰ç±»ä¼¼DateTimeæˆ–æ—¶é—´æ®µçš„ç´¢å¼•ï¼Œå¦åˆ™ä¼šå¯¼è‡´ç±»å‹é”™è¯¯ã€‚æˆ‘ä»¬æ¥çœ‹çœ‹ã€‚
- en: '[PRE28]'
  id: totrans-188
  prefs: []
  type: TYPE_PRE
  zh: '[PRE28]'
- en: '![](../Images/42d7d127534bd9082696331f1493eb13.png)'
  id: totrans-189
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/42d7d127534bd9082696331f1493eb13.png)'
- en: Image by Author.
  id: totrans-190
  prefs: []
  type: TYPE_NORMAL
  zh: å›¾ç‰‡ç”±ä½œè€…æä¾›ã€‚
- en: '[PRE29]'
  id: totrans-191
  prefs: []
  type: TYPE_PRE
  zh: '[PRE29]'
- en: '![](../Images/f64d19f9524971652070572afac56b76.png)'
  id: totrans-192
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/f64d19f9524971652070572afac56b76.png)'
- en: Image by Author.
  id: totrans-193
  prefs: []
  type: TYPE_NORMAL
  zh: å›¾ç‰‡ç”±ä½œè€…æä¾›ã€‚
- en: Line Chart
  id: totrans-194
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: æŠ˜çº¿å›¾
- en: '`[pandas.Series.plot.line](https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Series.plot.line.html)`
    â€” Plot Series or DataFrame as lines.'
  id: totrans-195
  prefs: []
  type: TYPE_NORMAL
  zh: '`[pandas.Series.plot.line](https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Series.plot.line.html)`
    â€” å°†Seriesæˆ–DataFrameç»˜åˆ¶ä¸ºæŠ˜çº¿å›¾ã€‚'
- en: We can plot the line chart with `.plot()` method and `.plot.line()` .
  id: totrans-196
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬å¯ä»¥ä½¿ç”¨`.plot()`æ–¹æ³•å’Œ`.plot.line()`ç»˜åˆ¶æŠ˜çº¿å›¾ã€‚
- en: '[PRE30]'
  id: totrans-197
  prefs: []
  type: TYPE_PRE
  zh: '[PRE30]'
- en: Both commands above yield the same result.
  id: totrans-198
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸Šè¿°ä¸¤ä¸ªå‘½ä»¤äº§ç”Ÿç›¸åŒçš„ç»“æœã€‚
- en: '![](../Images/378745db7b15c4059019f249c78307fa.png)'
  id: totrans-199
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/378745db7b15c4059019f249c78307fa.png)'
- en: Image by Author.
  id: totrans-200
  prefs: []
  type: TYPE_NORMAL
  zh: å›¾ç‰‡ç”±ä½œè€…æä¾›ã€‚
- en: If you notice, there is 2021 under Jan, maybe if we let the data start from
    2020 Jan, it will show 2020 as well?
  id: totrans-201
  prefs: []
  type: TYPE_NORMAL
  zh: å¦‚æœä½ æ³¨æ„åˆ°ï¼Œ1æœˆä¸‹æœ‰2021å¹´ï¼Œæˆ–è®¸å¦‚æœæˆ‘ä»¬è®©æ•°æ®ä»2020å¹´1æœˆå¼€å§‹ï¼Œå®ƒä¹Ÿä¼šæ˜¾ç¤º2020å¹´ï¼Ÿ
- en: Letâ€™s create the data frame with data points starting from the year 2020.
  id: totrans-202
  prefs: []
  type: TYPE_NORMAL
  zh: è®©æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªæ•°æ®ç‚¹ä»2020å¹´å¼€å§‹çš„æ•°æ®æ¡†ã€‚
- en: '[PRE31]'
  id: totrans-203
  prefs: []
  type: TYPE_PRE
  zh: '[PRE31]'
- en: '![](../Images/78a463395f065708813e4317cc4756da.png)'
  id: totrans-204
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/78a463395f065708813e4317cc4756da.png)'
- en: Image by Author.
  id: totrans-205
  prefs: []
  type: TYPE_NORMAL
  zh: å›¾ç‰‡ç”±ä½œè€…æä¾›ã€‚
- en: '[PRE32]'
  id: totrans-206
  prefs: []
  type: TYPE_PRE
  zh: '[PRE32]'
- en: Letâ€™s plot the chart!
  id: totrans-207
  prefs: []
  type: TYPE_NORMAL
  zh: è®©æˆ‘ä»¬ç»˜åˆ¶å›¾è¡¨ï¼
- en: '![](../Images/eb605ca424ac3274fdb77d81c8e2e1a1.png)'
  id: totrans-208
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/eb605ca424ac3274fdb77d81c8e2e1a1.png)'
- en: Image by Author.
  id: totrans-209
  prefs: []
  type: TYPE_NORMAL
  zh: å›¾ç‰‡ç”±ä½œè€…æä¾›ã€‚
- en: Yes! So the year will show under January, if you have data starting from the
    second or later month in the year, you may need to make a better title to remove
    clutter from your audience.
  id: totrans-210
  prefs: []
  type: TYPE_NORMAL
  zh: æ˜¯çš„ï¼æ‰€ä»¥å¹´ä»½ä¼šæ˜¾ç¤ºåœ¨1æœˆä¸‹ï¼Œå¦‚æœä½ æœ‰ä»å¹´åº¦ç¬¬äºŒä¸ªæœˆæˆ–ä¹‹åçš„æ•°æ®ï¼Œä½ å¯èƒ½éœ€è¦æ›´å¥½çš„æ ‡é¢˜ä»¥å‡å°‘è§‚ä¼—çš„æ··ä¹±ã€‚
- en: '[PRE33]'
  id: totrans-211
  prefs: []
  type: TYPE_PRE
  zh: '[PRE33]'
- en: '![](../Images/7c863a77c9fd478635a6deee038fd232.png)'
  id: totrans-212
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/7c863a77c9fd478635a6deee038fd232.png)'
- en: Image by Author.
  id: totrans-213
  prefs: []
  type: TYPE_NORMAL
  zh: å›¾ç‰‡ç”±ä½œè€…æä¾›ã€‚
- en: One last note to you, the `pandas` plot function required `matplotlib` library
    to be installed, or else it will cause an import error.
  id: totrans-214
  prefs: []
  type: TYPE_NORMAL
  zh: æœ€åä¸€ç‚¹ï¼Œ`pandas`ç»˜å›¾åŠŸèƒ½éœ€è¦å®‰è£…`matplotlib`åº“ï¼Œå¦åˆ™ä¼šå¯¼è‡´å¯¼å…¥é”™è¯¯ã€‚
- en: Conclusion
  id: totrans-215
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: ç»“è®º
- en: In conclusion, we have covered how to format the DateTime series, and how to
    change a timestamp to a period or group them into periods by resampling. We also
    cover how to effectively filter the time series based on condition, and shift
    the data points up or down to learn new insights. Lastly, we also go thru how
    to swiftly create a chart to see the trend for the time series.
  id: totrans-216
  prefs: []
  type: TYPE_NORMAL
  zh: æ€»ä¹‹ï¼Œæˆ‘ä»¬å·²ç»æ¶µç›–äº†å¦‚ä½•æ ¼å¼åŒ–DateTimeåºåˆ—ï¼Œä»¥åŠå¦‚ä½•é€šè¿‡é‡æ–°é‡‡æ ·å°†æ—¶é—´æˆ³æ›´æ”¹ä¸ºæ—¶é—´æ®µæˆ–å°†å…¶åˆ†ç»„åˆ°æ—¶é—´æ®µä¸­ã€‚æˆ‘ä»¬è¿˜æ¶µç›–äº†å¦‚ä½•æ ¹æ®æ¡ä»¶æœ‰æ•ˆè¿‡æ»¤æ—¶é—´åºåˆ—ï¼Œå¹¶ä¸Šä¸‹ç§»åŠ¨æ•°æ®ç‚¹ä»¥è·å–æ–°è§è§£ã€‚æœ€åï¼Œæˆ‘ä»¬è¿˜ä»‹ç»äº†å¦‚ä½•å¿«é€Ÿåˆ›å»ºå›¾è¡¨ä»¥æŸ¥çœ‹æ—¶é—´åºåˆ—çš„è¶‹åŠ¿ã€‚
- en: Thatâ€™s all for the `pandas` for time series. I hope you enjoy reading this article
    and hope it helps you to understand more about how to apply `pandas` to deal with
    time series. Thanks! ğŸ˜Š
  id: totrans-217
  prefs: []
  type: TYPE_NORMAL
  zh: å…³äº`pandas`æ—¶é—´åºåˆ—çš„å†…å®¹å°±åˆ°è¿™é‡Œã€‚æˆ‘å¸Œæœ›ä½ å–œæ¬¢é˜…è¯»è¿™ç¯‡æ–‡ç« ï¼Œå¹¶å¸Œæœ›å®ƒèƒ½å¸®åŠ©ä½ æ›´å¥½åœ°äº†è§£å¦‚ä½•åº”ç”¨`pandas`å¤„ç†æ—¶é—´åºåˆ—ã€‚è°¢è°¢ï¼ğŸ˜Š
- en: Stay Connected
  id: totrans-218
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: ä¿æŒè”ç³»
- en: Subscribe on [YouTube](https://www.youtube.com/channel/UCiMtx0qbILP41Ot-pkk6eJw)
  id: totrans-219
  prefs: []
  type: TYPE_NORMAL
  zh: è®¢é˜… [YouTube](https://www.youtube.com/channel/UCiMtx0qbILP41Ot-pkk6eJw)
- en: Side Note
  id: totrans-220
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: é™„æ³¨
- en: I have explained the possible manipulation you can perform on the DateTime variables
    in [Dealing with Dates in Python](https://medium.com/towards-data-science/dealing-with-dates-in-python-1b4069a07a0f).
  id: totrans-221
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘åœ¨ [å¤„ç† Python ä¸­çš„æ—¥æœŸ] (https://medium.com/towards-data-science/dealing-with-dates-in-python-1b4069a07a0f)
    ä¸­è§£é‡Šäº†ä½ å¯ä»¥å¯¹ DateTime å˜é‡è¿›è¡Œçš„å¯èƒ½æ“ä½œã€‚
- en: In [Report Automation Tips with Python](/report-automation-tips-with-python-783a9cd58e23),
    I have explained some tips on report automation. Check it out!
  id: totrans-222
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨ [æŠ¥å‘Šè‡ªåŠ¨åŒ–æŠ€å·§ä¸ Python](/report-automation-tips-with-python-783a9cd58e23) ä¸­ï¼Œæˆ‘è§£é‡Šäº†ä¸€äº›æŠ¥å‘Šè‡ªåŠ¨åŒ–çš„æŠ€å·§ã€‚å¿«æ¥çœ‹çœ‹å§ï¼
- en: Thank you and congrats for reading to the end ğŸ˜Š!
  id: totrans-223
  prefs: []
  type: TYPE_NORMAL
  zh: æ„Ÿè°¢ä½ é˜…è¯»åˆ°æœ€åï¼Œç¥è´ºä½ ğŸ˜Šï¼
- en: '![](../Images/9779752c92760d918255cb7694d8ab6f.png)'
  id: totrans-224
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/9779752c92760d918255cb7694d8ab6f.png)'
- en: Photo by [Hanny Naibaho](https://unsplash.com/@hannynaibaho?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText)
    on [Unsplash](https://unsplash.com/images/events/thank-you?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText)
  id: totrans-225
  prefs: []
  type: TYPE_NORMAL
  zh: å›¾ç‰‡ç”± [Hanny Naibaho](https://unsplash.com/@hannynaibaho?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText)
    æä¾›ï¼Œæ¥æºäº [Unsplash](https://unsplash.com/images/events/thank-you?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText)
