- en: How to Properly Deploy ML Models as Flask APIs on Amazon ECS
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: å¦‚ä½•åœ¨ Amazon ECS ä¸Šå°† ML æ¨¡å‹æ­£ç¡®éƒ¨ç½²ä¸º Flask APIs
- en: åŸæ–‡ï¼š[https://towardsdatascience.com/how-to-properly-deploy-ml-models-as-flask-apis-on-amazon-ecs-98428f9a0ecf](https://towardsdatascience.com/how-to-properly-deploy-ml-models-as-flask-apis-on-amazon-ecs-98428f9a0ecf)
  id: totrans-1
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: åŸæ–‡ï¼š[https://towardsdatascience.com/how-to-properly-deploy-ml-models-as-flask-apis-on-amazon-ecs-98428f9a0ecf](https://towardsdatascience.com/how-to-properly-deploy-ml-models-as-flask-apis-on-amazon-ecs-98428f9a0ecf)
- en: Deploy XGBoost models on Amazon ECS to recommend perfect puppies
  id: totrans-2
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: åœ¨ Amazon ECS ä¸Šéƒ¨ç½² XGBoost æ¨¡å‹ä»¥æ¨èå®Œç¾çš„å°ç‹—
- en: '[](https://medium.com/@nikola.kuzmic945?source=post_page-----98428f9a0ecf--------------------------------)[![Nikola
    Kuzmic](../Images/b6be2a8e377bc450ced5260a79a1f4bb.png)](https://medium.com/@nikola.kuzmic945?source=post_page-----98428f9a0ecf--------------------------------)[](https://towardsdatascience.com/?source=post_page-----98428f9a0ecf--------------------------------)[![Towards
    Data Science](../Images/a6ff2676ffcc0c7aad8aaf1d79379785.png)](https://towardsdatascience.com/?source=post_page-----98428f9a0ecf--------------------------------)
    [Nikola Kuzmic](https://medium.com/@nikola.kuzmic945?source=post_page-----98428f9a0ecf--------------------------------)'
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: '[](https://medium.com/@nikola.kuzmic945?source=post_page-----98428f9a0ecf--------------------------------)[![Nikola
    Kuzmic](../Images/b6be2a8e377bc450ced5260a79a1f4bb.png)](https://medium.com/@nikola.kuzmic945?source=post_page-----98428f9a0ecf--------------------------------)[](https://towardsdatascience.com/?source=post_page-----98428f9a0ecf--------------------------------)[![Towards
    Data Science](../Images/a6ff2676ffcc0c7aad8aaf1d79379785.png)](https://towardsdatascience.com/?source=post_page-----98428f9a0ecf--------------------------------)
    [Nikola Kuzmic](https://medium.com/@nikola.kuzmic945?source=post_page-----98428f9a0ecf--------------------------------)'
- en: Â·Published in [Towards Data Science](https://towardsdatascience.com/?source=post_page-----98428f9a0ecf--------------------------------)
    Â·8 min readÂ·Mar 16, 2023
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: Â·å‘å¸ƒåœ¨ [Towards Data Science](https://towardsdatascience.com/?source=post_page-----98428f9a0ecf--------------------------------)
    Â·é˜…è¯»æ—¶é—´ 8 åˆ†é’ŸÂ·2023å¹´3æœˆ16æ—¥
- en: --
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: --
- en: '![](../Images/d488dd1778ca6099a3740b2e610a8a63.png)'
  id: totrans-6
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/d488dd1778ca6099a3740b2e610a8a63.png)'
- en: Photo by [Carissa Weiser](https://unsplash.com/@carissaweiser?utm_source=medium&utm_medium=referral)
    on [Unsplash](https://unsplash.com/?utm_source=medium&utm_medium=referral)
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: å›¾ç‰‡ç”± [Carissa Weiser](https://unsplash.com/@carissaweiser?utm_source=medium&utm_medium=referral)
    æä¾›ï¼Œæ¥è‡ª [Unsplash](https://unsplash.com/?utm_source=medium&utm_medium=referral)
- en: With the wild success of ChatGPT it is becoming apparent just how much AI technology
    will impact our lives. However, unless those amazing ML models are made available
    for everyone to use and deployed properly to address high user demand, they will
    fail to create any positive impact on the world. Hence, why it is so important
    to be able to not only develop AI solutions, but also know how to deploy them
    properly. Not to mention that this skillset will make you vastly more valuable
    on the marketplace and open career opportunities to take on the lucrative roles
    of ML Engineering.
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: éšç€ ChatGPT çš„å¤§è·æˆåŠŸï¼ŒAI æŠ€æœ¯å¯¹æˆ‘ä»¬ç”Ÿæ´»çš„å½±å“å˜å¾—è¶Šæ¥è¶Šæ˜æ˜¾ã€‚ç„¶è€Œï¼Œé™¤éè¿™äº›å‡ºè‰²çš„ ML æ¨¡å‹å‘æ‰€æœ‰äººå¼€æ”¾å¹¶ä¸”æ­£ç¡®éƒ¨ç½²ä»¥åº”å¯¹é«˜ç”¨æˆ·éœ€æ±‚ï¼Œå¦åˆ™å®ƒä»¬å°†æ— æ³•å¯¹ä¸–ç•Œäº§ç”Ÿä»»ä½•ç§¯æå½±å“ã€‚å› æ­¤ï¼Œèƒ½å¤Ÿä¸ä»…å¼€å‘
    AI è§£å†³æ–¹æ¡ˆï¼Œè¿˜è¦äº†è§£å¦‚ä½•æ­£ç¡®éƒ¨ç½²å®ƒä»¬æ˜¯å¦‚æ­¤é‡è¦ã€‚æ›´ä¸ç”¨è¯´ï¼Œè¿™é¡¹æŠ€èƒ½å°†ä½¿ä½ åœ¨å¸‚åœºä¸Šå˜å¾—æ›´æœ‰ä»·å€¼ï¼Œå¹¶å¼€å¯æœ‰åˆ©å¯å›¾çš„ ML å·¥ç¨‹å¸ˆèŒä¸šæœºä¼šã€‚
- en: In this post weâ€™re going to deploy an **XGBoost** model as a **Flask API** using
    the **Gunicorn** application server on Amazon Elastic Container Service**.** The
    model will recommend aDachshund or a German Shepherd puppy based on how big someoneâ€™s
    home is.
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬å°†æŠŠ **XGBoost** æ¨¡å‹éƒ¨ç½²ä¸º **Flask API**ï¼Œå¹¶ä½¿ç”¨ **Gunicorn** åº”ç”¨æœåŠ¡å™¨åœ¨ Amazon Elastic
    Container Service ä¸Šè¿›è¡Œéƒ¨ç½²ã€‚è¯¥æ¨¡å‹å°†æ ¹æ®æŸäººå®¶çš„å¤§å°æ¨èä¸€åªè…Šè‚ çŠ¬æˆ–å¾·å›½ç‰§ç¾ŠçŠ¬å°ç‹—ã€‚
- en: '![](../Images/dc2a92633d6bb52863eea43d0f470682.png)'
  id: totrans-10
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/dc2a92633d6bb52863eea43d0f470682.png)'
- en: 'Image by Author, Sources: [1â€“2]'
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: 'å›¾ç‰‡ç”±ä½œè€…æä¾›ï¼Œæ¥æº: [1â€“2]'
- en: ğŸ‘‰ Game Plan
  id: totrans-12
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: ğŸ‘‰ æ¸¸æˆè®¡åˆ’
- en: Train an XGBoost model
  id: totrans-13
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: è®­ç»ƒä¸€ä¸ª XGBoost æ¨¡å‹
- en: Build a simple Gunicorn-Flask API to make recommendations
  id: totrans-14
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: æ„å»ºä¸€ä¸ªç®€å•çš„ Gunicorn-Flask API è¿›è¡Œæ¨è
- en: Build a Docker Image for the API
  id: totrans-15
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: ä¸º API æ„å»º Docker é•œåƒ
- en: Deploy the Docker Container on Amazon ECS
  id: totrans-16
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: åœ¨ Amazon ECS ä¸Šéƒ¨ç½² Docker å®¹å™¨
- en: 'Entire Source Code Github Repo: [link](https://github.com/kuzmicni/flask-on-ecs)ğŸ§‘â€ğŸ’»'
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: 'å®Œæ•´æºç  GitHub ä»“åº“: [é“¾æ¥](https://github.com/kuzmicni/flask-on-ecs)ğŸ§‘â€ğŸ’»'
- en: '[PRE0]'
  id: totrans-18
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: Deploying ML Models on Cloud
  id: totrans-19
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: åœ¨äº‘ä¸Šéƒ¨ç½² ML æ¨¡å‹
- en: It is often the case that we need to deploy our locally trained ML models to
    production for everyone on the internet to use. This approach requires first wrapping
    the ML model into an API and then Dockerizing it. AWS has built a specialized
    tool called Elastic Container Service (ECS) which removes the headache of managing
    compute environments like EC2s and enables us to simply deploy our Docker Containers
    using a serverless tool called **Fargate**.
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬é€šå¸¸éœ€è¦å°†æœ¬åœ°è®­ç»ƒçš„ ML æ¨¡å‹éƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒä¸­ä¾›äº’è”ç½‘ç”¨æˆ·ä½¿ç”¨ã€‚è¿™ç§æ–¹æ³•éœ€è¦é¦–å…ˆå°† ML æ¨¡å‹å°è£…æˆ APIï¼Œç„¶åè¿›è¡Œ Docker åŒ–ã€‚AWS
    æä¾›äº†ä¸€ä¸ªåä¸º Elastic Container Serviceï¼ˆECSï¼‰çš„ä¸“ç”¨å·¥å…·ï¼Œå®ƒæ¶ˆé™¤äº†ç®¡ç†è®¡ç®—ç¯å¢ƒï¼ˆå¦‚ EC2ï¼‰çš„éº»çƒ¦ï¼Œä½¿æˆ‘ä»¬å¯ä»¥ä½¿ç”¨åä¸º **Fargate**
    çš„æ— æœåŠ¡å™¨å·¥å…·ç®€å•åœ°éƒ¨ç½² Docker å®¹å™¨ã€‚
- en: Note about Web vs Application Servers
  id: totrans-21
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: å…³äº Web æœåŠ¡å™¨ä¸åº”ç”¨æœåŠ¡å™¨çš„è¯´æ˜
- en: 'In the traditional world of web development, it is common practice to have
    a Web Server, such as NGINX, handle enormous traffic from clients and interact
    with the backend applications (APIs) which serve dynamic content. A Web Server
    can be thought of as a waiter in a restaurant where he/she receives and processes
    orders from customers. Similarly, a web server receives and processes requests
    from web clients (such as web browsers). The waiter then communicates with the
    kitchen to have the order prepared and delivers the finished meal to the customer.
    In the same way, a web server communicates with the backend application to process
    the request and sends the response back to the web client. The setup would typically
    be as follows:'
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨ä¼ ç»Ÿçš„ web å¼€å‘ä¸–ç•Œä¸­ï¼Œé€šå¸¸çš„åšæ³•æ˜¯è®© Web æœåŠ¡å™¨ï¼ˆå¦‚ NGINXï¼‰å¤„ç†æ¥è‡ªå®¢æˆ·ç«¯çš„å¤§é‡æµé‡ï¼Œå¹¶ä¸æä¾›åŠ¨æ€å†…å®¹çš„åå°åº”ç”¨ç¨‹åºï¼ˆAPIï¼‰è¿›è¡Œäº¤äº’ã€‚å¯ä»¥å°†
    Web æœåŠ¡å™¨è§†ä¸ºé¤å…ä¸­çš„æœåŠ¡å‘˜ï¼ŒæœåŠ¡å‘˜æ¥æ”¶å¹¶å¤„ç†é¡¾å®¢çš„è®¢å•ã€‚ç±»ä¼¼åœ°ï¼ŒWeb æœåŠ¡å™¨æ¥æ”¶å¹¶å¤„ç†æ¥è‡ª Web å®¢æˆ·ç«¯ï¼ˆå¦‚ web æµè§ˆå™¨ï¼‰çš„è¯·æ±‚ã€‚æœåŠ¡å‘˜éšåä¸å¨æˆ¿æ²Ÿé€šä»¥å‡†å¤‡è®¢å•ï¼Œå¹¶å°†å®Œæˆçš„é¤ç‚¹é€åˆ°é¡¾å®¢é‚£é‡Œã€‚åŒæ ·ï¼ŒWeb
    æœåŠ¡å™¨ä¸åå°åº”ç”¨ç¨‹åºæ²Ÿé€šä»¥å¤„ç†è¯·æ±‚ï¼Œå¹¶å°†å“åº”å‘é€å› Web å®¢æˆ·ç«¯ã€‚è®¾ç½®é€šå¸¸å¦‚ä¸‹ï¼š
- en: '![](../Images/3113e0d3262d2d67c619c31913ef2db8.png)'
  id: totrans-23
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/3113e0d3262d2d67c619c31913ef2db8.png)'
- en: Image by Author
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: ä½œè€…æä¾›çš„å›¾ç‰‡
- en: Web Servers are awesome as they are able to distribute client requests to multiple
    backend applications and improve performance, security and scalability. However,
    in our case, since weâ€™ll be deploying the Flask API on AWS, there are cloud-native
    Load Balancers which can handle traffic routing to the backend APIs and also enable
    us to enforce SSL encryption. Hence, including NGINX would be somewhat redundant.
    Having only a Gunicorn application server is sufficient for the majority of ML
    model deployment cases, given you intend to use AWS Load Balancers. Ok butâ€¦
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: Web æœåŠ¡å™¨éå¸¸æ£’ï¼Œå› ä¸ºå®ƒä»¬èƒ½å¤Ÿå°†å®¢æˆ·ç«¯è¯·æ±‚åˆ†å‘åˆ°å¤šä¸ªåå°åº”ç”¨ç¨‹åºï¼Œä»è€Œæé«˜æ€§èƒ½ã€å®‰å…¨æ€§å’Œå¯æ‰©å±•æ€§ã€‚ç„¶è€Œï¼Œåœ¨æˆ‘ä»¬çš„æ¡ˆä¾‹ä¸­ï¼Œç”±äºæˆ‘ä»¬å°†åœ¨ AWS ä¸Šéƒ¨ç½²
    Flask APIï¼Œå› æ­¤æœ‰äº‘åŸç”Ÿçš„è´Ÿè½½å‡è¡¡å™¨å¯ä»¥å¤„ç†æµé‡è·¯ç”±åˆ°åå° APIï¼Œå¹¶ä¸”è¿˜å¯ä»¥å¼ºåˆ¶æ‰§è¡Œ SSL åŠ å¯†ã€‚å› æ­¤ï¼ŒåŒ…å« NGINX ä¼šæ˜¾å¾—æœ‰äº›å¤šä½™ã€‚ä»…ä½¿ç”¨
    Gunicorn åº”ç”¨æœåŠ¡å™¨å¯¹äºå¤§å¤šæ•° ML æ¨¡å‹éƒ¨ç½²æƒ…å†µè€Œè¨€æ˜¯è¶³å¤Ÿçš„ï¼Œå‰ææ˜¯ä½ æ‰“ç®—ä½¿ç”¨ AWS è´Ÿè½½å‡è¡¡å™¨ã€‚å¥½å§ï¼Œä½†â€¦â€¦
- en: What is WSGI & Gunicorn?
  id: totrans-26
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: ä»€ä¹ˆæ˜¯ WSGI å’Œ Gunicornï¼Ÿ
- en: '**WSGI** (Web Server Gateway Interface) is simply a convention or a **set of
    rules** that need to be used when a web server communicates with a web application.
    **Gunicorn** (Green Unicorn) is one such **Application Server** which follows
    WSGI rules and handles client request when sending them to the Python Flask applications.
    Flask itself provides a WSGI Werkzeugâ€™s development server for initial development,
    but if we want to deploy the API in production, then likely our Flask application
    needs to handle multiple requests at a time, hence why we need Gunicorn.'
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: '**WSGI**ï¼ˆWeb æœåŠ¡å™¨ç½‘å…³æ¥å£ï¼‰åªæ˜¯ä¸€ä¸ªçº¦å®šæˆ– **è§„åˆ™é›†**ï¼Œåœ¨ web æœåŠ¡å™¨ä¸ web åº”ç”¨ç¨‹åºé€šä¿¡æ—¶éœ€è¦éµå¾ªã€‚**Gunicorn**ï¼ˆç»¿è‰²ç‹¬è§’å…½ï¼‰æ˜¯ä¸€ä¸ªéµå¾ª
    WSGI è§„åˆ™å¹¶å¤„ç†å®¢æˆ·ç«¯è¯·æ±‚çš„ **åº”ç”¨æœåŠ¡å™¨**ï¼Œå°†è¯·æ±‚å‘é€åˆ° Python Flask åº”ç”¨ç¨‹åºã€‚Flask æœ¬èº«æä¾›äº† WSGI Werkzeug
    çš„å¼€å‘æœåŠ¡å™¨ç”¨äºåˆæ­¥å¼€å‘ï¼Œä½†å¦‚æœæˆ‘ä»¬è¦åœ¨ç”Ÿäº§ä¸­éƒ¨ç½² APIï¼Œé‚£ä¹ˆæˆ‘ä»¬çš„ Flask åº”ç”¨ç¨‹åºå¯èƒ½éœ€è¦åŒæ—¶å¤„ç†å¤šä¸ªè¯·æ±‚ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦ Gunicornã€‚'
- en: Typical Cloud Architecture for Real-time APIs
  id: totrans-28
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: å®æ—¶ API çš„å…¸å‹äº‘æ¶æ„
- en: Running APIs in cloud is greatly enhanced by the Application Load Balancers
    (ALBs) as they can typically serve the purpose of NGINX and route traffic to our
    backend applications. This tutorial will only focus on deploying the **Flask API
    on ECS** and we can cover ALBs in a future post.
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨äº‘ä¸­è¿è¡Œ API å¾—åˆ°äº†åº”ç”¨è´Ÿè½½å‡è¡¡å™¨ï¼ˆALBsï¼‰çš„æå¤§æå‡ï¼Œå› ä¸ºå®ƒä»¬é€šå¸¸å¯ä»¥ä»£æ›¿ NGINX çš„åŠŸèƒ½å¹¶å°†æµé‡è·¯ç”±åˆ°æˆ‘ä»¬çš„åå°åº”ç”¨ç¨‹åºã€‚è¿™ä¸ªæ•™ç¨‹å°†ä»…ä¸“æ³¨äºåœ¨
    **ECS ä¸Šéƒ¨ç½² Flask API**ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨æœªæ¥çš„å¸–å­ä¸­è®¨è®º ALBsã€‚
- en: '![](../Images/2b2f52668a668d49376f4ea002d06a9a.png)'
  id: totrans-30
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/2b2f52668a668d49376f4ea002d06a9a.png)'
- en: Image by Author
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: ä½œè€…æä¾›çš„å›¾ç‰‡
- en: Alright, enough of background, letâ€™s build & deploy some APIs!
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: å¥½äº†ï¼ŒèƒŒæ™¯ä»‹ç»å®Œäº†ï¼Œæˆ‘ä»¬å¼€å§‹æ„å»ºå’Œéƒ¨ç½²ä¸€äº› API å§ï¼
- en: 'ğŸ‘‰ Step 1: Train an XGBoost model'
  id: totrans-33
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: ğŸ‘‰ ç¬¬ä¸€æ­¥ï¼šè®­ç»ƒ XGBoost æ¨¡å‹
- en: Train an XGBoost model to predict either a Dachshund (Wiener Dog) or a German
    Shepherd based on house area and save the model as a pickle file.
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: è®­ç»ƒä¸€ä¸ª XGBoost æ¨¡å‹ï¼Œæ ¹æ®æˆ¿å±‹é¢ç§¯é¢„æµ‹ Dachshundï¼ˆè…Šè‚ çŠ¬ï¼‰æˆ– German Shepherdï¼ˆå¾·å›½ç‰§ç¾ŠçŠ¬ï¼‰ï¼Œå¹¶å°†æ¨¡å‹ä¿å­˜ä¸º pickle
    æ–‡ä»¶ã€‚
- en: 'To run it inside VS Code, letâ€™s create a separate Python 3.8 environment:'
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: è¦åœ¨ VS Code ä¸­è¿è¡Œå®ƒï¼Œæˆ‘ä»¬æ¥åˆ›å»ºä¸€ä¸ªå•ç‹¬çš„ Python 3.8 ç¯å¢ƒï¼š
- en: '[PRE1]'
  id: totrans-36
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: Then Restart VS Code and in Jupyter Notebook -> Select '**py38demo**' as the
    Kernel.
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: ç„¶åé‡æ–°å¯åŠ¨ VS Code å¹¶åœ¨ Jupyter Notebook ä¸­ -> é€‰æ‹© '**py38demo**' ä½œä¸ºå†…æ ¸ã€‚
- en: 'Train & pickle the XGBoost model:'
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: è®­ç»ƒå¹¶ pickle XGBoost æ¨¡å‹ï¼š
- en: '![](../Images/3dc22e313eb54d85806635d6a98169b2.png)'
  id: totrans-39
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/3dc22e313eb54d85806635d6a98169b2.png)'
- en: As you can see, we were able to train the model, tested it on a 300 & 600 ft2
    homes, and saved the XGBoost model as a **pickle** (.pkl) file.
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: å¦‚æ‚¨æ‰€è§ï¼Œæˆ‘ä»¬æˆåŠŸè®­ç»ƒäº†æ¨¡å‹ï¼Œåœ¨ 300 å’Œ 600 å¹³æ–¹è‹±å°ºçš„æˆ¿å±‹ä¸Šè¿›è¡Œäº†æµ‹è¯•ï¼Œå¹¶å°† XGBoost æ¨¡å‹ä¿å­˜ä¸º **pickle** (.pkl)
    æ–‡ä»¶ã€‚
- en: 'ğŸ‘‰ Step 2: Build a simple Gunicorn-Flask API'
  id: totrans-41
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: ğŸ‘‰ æ­¥éª¤ 2ï¼šæ„å»ºä¸€ä¸ªç®€å•çš„ Gunicorn-Flask API
- en: 'Letâ€™s build a very simple Flask API which serves our XGBoost model predictions.
    We have a simple helper function which translates 0/1 model predictions into â€˜wiener
    dogâ€™/â€˜german shepherdâ€™ outputs:'
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: è®©æˆ‘ä»¬æ„å»ºä¸€ä¸ªéå¸¸ç®€å•çš„ Flask API æ¥æä¾›æˆ‘ä»¬çš„ XGBoost æ¨¡å‹é¢„æµ‹ã€‚æˆ‘ä»¬æœ‰ä¸€ä¸ªç®€å•çš„åŠ©æ‰‹å‡½æ•°ï¼Œå°† 0/1 æ¨¡å‹é¢„æµ‹è½¬æ¢ä¸º â€˜wiener
    dogâ€™/â€˜german shepherdâ€™ è¾“å‡ºï¼š
- en: 'To run the API, in terminal:'
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: è¦è¿è¡Œ APIï¼Œè¯·åœ¨ç»ˆç«¯ä¸­ï¼š
- en: '[PRE2]'
  id: totrans-44
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: 'In a separate terminal, test it out by sending a POST request:'
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨å¦ä¸€ä¸ªç»ˆç«¯ä¸­ï¼Œæµ‹è¯•ä¸€ä¸‹å‘é€ POST è¯·æ±‚ï¼š
- en: '[PRE3]'
  id: totrans-46
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: 'How I ran it locally on my Mac:'
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘æ˜¯å¦‚ä½•åœ¨æˆ‘çš„ Mac ä¸Šæœ¬åœ°è¿è¡Œå®ƒçš„ï¼š
- en: '![](../Images/1f73f9a77c74818c53bcbb1581b96dd5.png)'
  id: totrans-48
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/1f73f9a77c74818c53bcbb1581b96dd5.png)'
- en: 'Our API is working great but you can see we get a warning that this is a Development
    Server:'
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬çš„ API å·¥ä½œå¾—å¾ˆå¥½ï¼Œä½†ä½ å¯ä»¥çœ‹åˆ°æˆ‘ä»¬æ”¶åˆ°ä¸€ä¸ªè­¦å‘Šï¼Œè¯´æ˜è¿™æ˜¯ä¸€ä¸ªå¼€å‘æœåŠ¡å™¨ï¼š
- en: '![](../Images/4ea674183a38197dd0514885ed2aca3f.png)'
  id: totrans-50
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/4ea674183a38197dd0514885ed2aca3f.png)'
- en: 'Letâ€™s stop our API, and use Gunicorn production-grade server instead:'
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: è®©æˆ‘ä»¬åœæ­¢ APIï¼Œæ”¹ç”¨ Gunicorn ç”Ÿäº§çº§æœåŠ¡å™¨ï¼š
- en: '[PRE4]'
  id: totrans-52
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: 'Going back to our VS Code:'
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: å›åˆ°æˆ‘ä»¬çš„ VS Codeï¼š
- en: '![](../Images/a5f26cfb620603f0ccfbae2869d69ed3.png)'
  id: totrans-54
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/a5f26cfb620603f0ccfbae2869d69ed3.png)'
- en: Now weâ€™re ready to Dockerize the API! ğŸ“¦
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: ç°åœ¨æˆ‘ä»¬å‡†å¤‡å¥½å°† API Docker åŒ–äº†ï¼ğŸ“¦
- en: ğŸ‘‰ 3\. Build a Docker Image for the API
  id: totrans-56
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: ğŸ‘‰ 3. ä¸º API æ„å»º Docker é•œåƒ
- en: Below is a **Dockerfile** which uses a python3.8 base image. We need the 3.8
    version since we used that version locally to train our XGBoost model.
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: ä»¥ä¸‹æ˜¯ä¸€ä¸ª **Dockerfile**ï¼Œå®ƒä½¿ç”¨ python3.8 åŸºç¡€é•œåƒã€‚æˆ‘ä»¬éœ€è¦ 3.8 ç‰ˆæœ¬ï¼Œå› ä¸ºæˆ‘ä»¬åœ¨æœ¬åœ°ä½¿ç”¨è¯¥ç‰ˆæœ¬è®­ç»ƒäº† XGBoost
    æ¨¡å‹ã€‚
- en: 'Note: since I am building the image on a Mac, I need to specify'
  id: totrans-58
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: æ³¨æ„ï¼šç”±äºæˆ‘åœ¨ Mac ä¸Šæ„å»ºé•œåƒï¼Œæˆ‘éœ€è¦æŒ‡å®š
- en: ''
  id: totrans-59
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '- -platform linux/amd64'
  id: totrans-60
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '- -platform linux/amd64'
- en: for it to be compatible with the ECS Fargate Linux environment.
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: ä½¿å…¶ä¸ ECS Fargate Linux ç¯å¢ƒå…¼å®¹ã€‚
- en: Hereâ€™s how we build & run the image.
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™æ˜¯æˆ‘ä»¬æ„å»ºå’Œè¿è¡Œé•œåƒçš„æ–¹æ³•ã€‚
- en: 'Note: we bind our host (i.e. laptopâ€™s) port 80 to docker containerâ€™s port 80:'
  id: totrans-63
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: æ³¨æ„ï¼šæˆ‘ä»¬å°†ä¸»æœºï¼ˆå³ç¬”è®°æœ¬ç”µè„‘ï¼‰çš„ 80 ç«¯å£ç»‘å®šåˆ° Docker å®¹å™¨çš„ 80 ç«¯å£ï¼š
- en: '[PRE5]'
  id: totrans-64
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: 'Letâ€™s quickly test it again:'
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: è®©æˆ‘ä»¬å¿«é€Ÿå†æµ‹è¯•ä¸€ä¸‹ï¼š
- en: '![](../Images/0c387e865a0efd17425aaf980c0b1daa.png)'
  id: totrans-66
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/0c387e865a0efd17425aaf980c0b1daa.png)'
- en: Now that we know our API is working inside a Docker Container, itâ€™s time to
    push it to AWS! ğŸŒ¤ï¸
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: ç°åœ¨æˆ‘ä»¬çŸ¥é“æˆ‘ä»¬çš„ API åœ¨ Docker å®¹å™¨å†…è¿è¡Œè‰¯å¥½ï¼Œæ˜¯æ—¶å€™å°†å…¶æ¨é€åˆ° AWS äº†ï¼ğŸŒ¤ï¸
- en: 'ğŸ‘‰ Step 4: Deploy the Docker Container on Amazon ECS'
  id: totrans-68
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: ğŸ‘‰ æ­¥éª¤ 4ï¼šåœ¨ Amazon ECS ä¸Šéƒ¨ç½² Docker å®¹å™¨
- en: This section may look complicated at first, but actually is quite simple if
    we break the process into 6 simple steps.
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™ä¸ªéƒ¨åˆ†çœ‹èµ·æ¥å¯èƒ½å¾ˆå¤æ‚ï¼Œä½†å®é™…ä¸Šï¼Œå¦‚æœæˆ‘ä»¬å°†è¿‡ç¨‹åˆ†è§£ä¸º 6 ä¸ªç®€å•æ­¥éª¤ï¼Œå°±ä¼šå¾ˆç®€å•ã€‚
- en: '![](../Images/48d378716110eaaf9830785bc81ba3e1.png)'
  id: totrans-70
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/48d378716110eaaf9830785bc81ba3e1.png)'
- en: Image by Author
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: å›¾ç‰‡ç”±ä½œè€…æä¾›
- en: '**i) Push the Docker image to ECR**'
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: '**i) å°† Docker é•œåƒæ¨é€åˆ° ECR**'
- en: Letâ€™s create an ECR repo called **demo** where we can push the Docker image.
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: è®©æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªåä¸º **demo** çš„ ECR ä»“åº“ï¼Œåœ¨è¿™é‡Œæˆ‘ä»¬å¯ä»¥æ¨é€ Docker é•œåƒã€‚
- en: '![](../Images/052bc48fc29df4f521e507c1ce4522c1.png)'
  id: totrans-74
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/052bc48fc29df4f521e507c1ce4522c1.png)'
- en: 'Then we can use the Push Commands provided by the ECR:'
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
  zh: ç„¶åæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ ECR æä¾›çš„æ¨é€å‘½ä»¤ï¼š
- en: '[PRE6]'
  id: totrans-76
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: 'Assumption: you have configured AWS CLI on your local machine and setup an
    IAM user with the right permission to interact with the ECR. You can find more
    info at this [link](https://docs.aws.amazon.com/AmazonECR/latest/userguide/getting-started-cli.html).'
  id: totrans-77
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: å‡è®¾ï¼šä½ å·²ç»åœ¨æœ¬åœ°è®¡ç®—æœºä¸Šé…ç½®äº† AWS CLIï¼Œå¹¶è®¾ç½®äº†å…·æœ‰æ­£ç¡®æƒé™çš„ IAM ç”¨æˆ·æ¥ä¸ ECR è¿›è¡Œäº¤äº’ã€‚ä½ å¯ä»¥åœ¨æ­¤ [é“¾æ¥](https://docs.aws.amazon.com/AmazonECR/latest/userguide/getting-started-cli.html)
    ä¸­æ‰¾åˆ°æ›´å¤šä¿¡æ¯ã€‚
- en: After running the above 3 commands, we can see our image is there on ECR ğŸ‰
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: è¿è¡Œä¸Šè¿° 3 ä¸ªå‘½ä»¤åï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°æˆ‘ä»¬çš„é•œåƒå·²ç»åœ¨ ECR ä¸Š ğŸ‰
- en: '![](../Images/0d986a7d46f60dccfb5000753d6c4285.png)'
  id: totrans-79
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/0d986a7d46f60dccfb5000753d6c4285.png)'
- en: '**Copy & Paste the Image URI** somewhere as weâ€™ll need it in the next couple
    of steps.'
  id: totrans-80
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '**å¤åˆ¶å¹¶ç²˜è´´å›¾åƒ URI** åˆ°æŸå¤„ï¼Œå› ä¸ºæˆ‘ä»¬åœ¨æ¥ä¸‹æ¥çš„æ­¥éª¤ä¸­éœ€è¦å®ƒã€‚'
- en: '**ii) Create an IAM Execution Role**'
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: '**ii) åˆ›å»ºä¸€ä¸ª IAM æ‰§è¡Œè§’è‰²**'
- en: 'We need to create an Execution Role so that our ECS task which will run the
    container has the access to pull images from the ECR. Weâ€™ll name it: **simpleRole**'
  id: totrans-82
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬éœ€è¦åˆ›å»ºä¸€ä¸ªæ‰§è¡Œè§’è‰²ï¼Œä»¥ä¾¿æˆ‘ä»¬çš„ ECS ä»»åŠ¡èƒ½å¤Ÿä» ECR æ‹‰å–é•œåƒã€‚æˆ‘ä»¬å°†å…¶å‘½åä¸ºï¼š**simpleRole**
- en: '![](../Images/baa3344183dc1d1c70b2124b4fd2f84e.png)'
  id: totrans-83
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/baa3344183dc1d1c70b2124b4fd2f84e.png)'
- en: '**iii) Create a Security Group**'
  id: totrans-84
  prefs: []
  type: TYPE_NORMAL
  zh: '**iii) åˆ›å»ºä¸€ä¸ªå®‰å…¨ç»„**'
- en: 'Security Group is needed to allow anyone on the internet to send requests to
    our API. In the real world you may want to constrain this to a specific set of
    IPs but weâ€™ll open it for everyone and call it: **simpleSG**'
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: å®‰å…¨ç»„æ˜¯å¿…éœ€çš„ï¼Œä»¥å…è®¸äº’è”ç½‘ä¸­çš„ä»»ä½•äººå‘æˆ‘ä»¬çš„ API å‘é€è¯·æ±‚ã€‚åœ¨ç°å®ä¸­ï¼Œä½ å¯èƒ½å¸Œæœ›å°†å…¶é™åˆ¶ä¸ºç‰¹å®š IP é›†åˆï¼Œä½†æˆ‘ä»¬å°†å…¶å¼€æ”¾ç»™æ‰€æœ‰äººï¼Œå¹¶ç§°ä¹‹ä¸ºï¼š**simpleSG**
- en: '![](../Images/b03a4f6fdaa10334799b8dd0fc1e057b.png)'
  id: totrans-86
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/b03a4f6fdaa10334799b8dd0fc1e057b.png)'
- en: '**iv) Create an ECS Cluster**'
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
  zh: '**iv) åˆ›å»ºä¸€ä¸ª ECS é›†ç¾¤**'
- en: 'This step is straightforward and only takes couple seconds. Weâ€™ll call it:
    **flaskCluster**'
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™ä¸€æ­¥å¾ˆç®€å•ï¼Œåªéœ€å‡ ç§’é’Ÿã€‚æˆ‘ä»¬ç§°ä¹‹ä¸ºï¼š**flaskCluster**
- en: '![](../Images/7e86f7cfaede8933a5bacb1fb73dbbc1.png)'
  id: totrans-89
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/7e86f7cfaede8933a5bacb1fb73dbbc1.png)'
- en: while our cluster is being provisioned, letâ€™s create a Task Definition.
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨æˆ‘ä»¬çš„é›†ç¾¤æ­£åœ¨é…ç½®çš„åŒæ—¶ï¼Œè®©æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªä»»åŠ¡å®šä¹‰ã€‚
- en: '**v) Create a Task Definition**'
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
  zh: '**v) åˆ›å»ºä»»åŠ¡å®šä¹‰**'
- en: 'Task Definition, as the name implies is a set of instructions related to which
    image to run, port to open, and how much virtual CPU and memory we want to allocate.
    Weâ€™ll call it: **demoTask**'
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: ä»»åŠ¡å®šä¹‰ï¼Œé¡¾åæ€ä¹‰ï¼Œæ˜¯ä¸€ç»„ä¸è¦è¿è¡Œçš„é•œåƒã€è¦æ‰“å¼€çš„ç«¯å£ä»¥åŠæˆ‘ä»¬å¸Œæœ›åˆ†é…çš„è™šæ‹Ÿ CPU å’Œå†…å­˜ç›¸å…³çš„æŒ‡ä»¤ã€‚æˆ‘ä»¬ç§°ä¹‹ä¸ºï¼š**demoTask**
- en: '![](../Images/713bffc8c5e6f1cd4fdd219169bb96af.png)'
  id: totrans-93
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/713bffc8c5e6f1cd4fdd219169bb96af.png)'
- en: '**vi) Run the Task**'
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: '**vi) è¿è¡Œä»»åŠ¡**'
- en: Letâ€™s run our **demoTask** on **flaskCluster,** with the **simpleSG** from ***step
    iii)***.
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
  zh: è®©æˆ‘ä»¬åœ¨**flaskCluster**ä¸Šè¿è¡Œæˆ‘ä»¬çš„**demoTask**ï¼Œä½¿ç”¨æ¥è‡ª***æ­¥éª¤ iii)***çš„**simpleSG**ã€‚
- en: '![](../Images/f46cd2d6ea10f104037ae766e2a28ad7.png)'
  id: totrans-96
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/f46cd2d6ea10f104037ae766e2a28ad7.png)'
- en: Time to test out our deployed API from the **Public IP** address! ğŸ¥
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
  zh: è¯¥æµ‹è¯•æˆ‘ä»¬éƒ¨ç½²çš„ API ä»**å…¬å…± IP**åœ°å€å¼€å§‹ï¼ ğŸ¥
- en: '[PRE7]'
  id: totrans-98
  prefs: []
  type: TYPE_PRE
  zh: '[PRE7]'
- en: '![](../Images/d95cf31e132277c595c0d4eb4d33366c.png)'
  id: totrans-99
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/d95cf31e132277c595c0d4eb4d33366c.png)'
- en: Itâ€™s working! ğŸ¥³
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
  zh: å®ƒè¿è¡Œæ­£å¸¸ï¼ ğŸ¥³
- en: As you can see we are able to get a perfect puppy recommendation by sending
    a POST request to the **Public IP** provided by ECS. ğŸ”¥
  id: totrans-101
  prefs: []
  type: TYPE_NORMAL
  zh: æ­£å¦‚ä½ æ‰€è§ï¼Œæˆ‘ä»¬é€šè¿‡å‘ ECS æä¾›çš„**å…¬å…± IP**å‘é€ POST è¯·æ±‚ï¼ŒæˆåŠŸè·å¾—äº†å®Œç¾çš„ç‹—ç‹—æ¨èã€‚ ğŸ”¥
- en: Thanks for reading, hope you found this useful for getting started with Flask,
    Gunicorn, Docker and ECS!
  id: totrans-102
  prefs: []
  type: TYPE_NORMAL
  zh: æ„Ÿè°¢é˜…è¯»ï¼Œå¸Œæœ›ä½ å‘ç°è¿™å¯¹å…¥é—¨ Flaskã€Gunicornã€Docker å’Œ ECS æœ‰æ‰€å¸®åŠ©ï¼
- en: Want more useful articles on ML Engineering?
  id: totrans-103
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: æƒ³è¦æ›´å¤šå…³äºæœºå™¨å­¦ä¹ å·¥ç¨‹çš„å®ç”¨æ–‡ç« å—ï¼Ÿ
- en: '[*Subscribe for free*](https://medium.com/@nikola.kuzmic945/subscribe) *to
    get notified when I publish a new story.*'
  id: totrans-104
  prefs: []
  type: TYPE_NORMAL
  zh: '[*å…è´¹è®¢é˜…*](https://medium.com/@nikola.kuzmic945/subscribe) *ä»¥ä¾¿åœ¨æˆ‘å‘å¸ƒæ–°æ•…äº‹æ—¶æ”¶åˆ°é€šçŸ¥ã€‚*'
- en: '*Become a Medium member to read more stories from me and thousands of other
    writers. You can support me by using my* [*referral link*](https://medium.com/@nikola.kuzmic945/membership)
    *when you sign up. Iâ€™ll receive a commission at no extra cost to you.*'
  id: totrans-105
  prefs: []
  type: TYPE_NORMAL
  zh: '*æˆä¸º Medium ä¼šå‘˜ä»¥é˜…è¯»æˆ‘å’Œå…¶ä»–æˆåƒä¸Šä¸‡ä½ä½œè€…çš„æ›´å¤šæ•…äº‹ã€‚ä½ å¯ä»¥é€šè¿‡ä½¿ç”¨æˆ‘çš„* [*æ¨èé“¾æ¥*](https://medium.com/@nikola.kuzmic945/membership)
    *æ¥æ”¯æŒæˆ‘ã€‚ä½ ä¸ä¼šé¢å¤–æ”¯ä»˜è´¹ç”¨ï¼Œä½†æˆ‘ä¼šè·å¾—ä½£é‡‘ã€‚*'
- en: References
  id: totrans-106
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: å‚è€ƒèµ„æ–™
- en: '[1] Dachshund Image: [Link](https://www.wisdompanel.com/en-us/dog-breeds/dachshund)'
  id: totrans-107
  prefs: []
  type: TYPE_NORMAL
  zh: '[1] è…Šè‚ çŠ¬å›¾ç‰‡ï¼š[é“¾æ¥](https://www.wisdompanel.com/en-us/dog-breeds/dachshund)'
- en: '[2] German Shepherd Image: [Link](https://www.lovetoknowpets.com/dogs/german-shepherd)'
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
  zh: '[2] å¾·å›½ç‰§ç¾ŠçŠ¬å›¾ç‰‡ï¼š[é“¾æ¥](https://www.lovetoknowpets.com/dogs/german-shepherd)'
