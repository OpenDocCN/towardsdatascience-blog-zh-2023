- en: How to Build Simple ETL Pipelines With GitHub Actions
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: å¦‚ä½•ä½¿ç”¨ GitHub Actions æ„å»ºç®€å•çš„ ETL æµæ°´çº¿
- en: åŸæ–‡ï¼š[https://towardsdatascience.com/etl-github-actions-cron-383f618704b6](https://towardsdatascience.com/etl-github-actions-cron-383f618704b6)
  id: totrans-1
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: åŸæ–‡ï¼š[https://towardsdatascience.com/etl-github-actions-cron-383f618704b6](https://towardsdatascience.com/etl-github-actions-cron-383f618704b6)
- en: ETLs donâ€™t have to be complex. If thatâ€™s the case, use GitHub Actions.
  id: totrans-2
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: ETL ä¸ä¸€å®šè¦å¤æ‚ã€‚å¦‚æœæ˜¯è¿™æ ·çš„è¯ï¼Œä½¿ç”¨ GitHub Actionsã€‚
- en: '[](https://thuwarakesh.medium.com/?source=post_page-----383f618704b6--------------------------------)[![Thuwarakesh
    Murallie](../Images/44f1a14a899426592bbd8c7f73ce169d.png)](https://thuwarakesh.medium.com/?source=post_page-----383f618704b6--------------------------------)[](https://towardsdatascience.com/?source=post_page-----383f618704b6--------------------------------)[![Towards
    Data Science](../Images/a6ff2676ffcc0c7aad8aaf1d79379785.png)](https://towardsdatascience.com/?source=post_page-----383f618704b6--------------------------------)
    [Thuwarakesh Murallie](https://thuwarakesh.medium.com/?source=post_page-----383f618704b6--------------------------------)'
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: '[](https://thuwarakesh.medium.com/?source=post_page-----383f618704b6--------------------------------)[![Thuwarakesh
    Murallie](../Images/44f1a14a899426592bbd8c7f73ce169d.png)](https://thuwarakesh.medium.com/?source=post_page-----383f618704b6--------------------------------)[](https://towardsdatascience.com/?source=post_page-----383f618704b6--------------------------------)[![Towards
    Data Science](../Images/a6ff2676ffcc0c7aad8aaf1d79379785.png)](https://towardsdatascience.com/?source=post_page-----383f618704b6--------------------------------)
    [Thuwarakesh Murallie](https://thuwarakesh.medium.com/?source=post_page-----383f618704b6--------------------------------)'
- en: Â·Published in [Towards Data Science](https://towardsdatascience.com/?source=post_page-----383f618704b6--------------------------------)
    Â·6 min readÂ·May 5, 2023
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: Â·å‘è¡¨äº [Towards Data Science](https://towardsdatascience.com/?source=post_page-----383f618704b6--------------------------------)
    Â·é˜…è¯»æ—¶é—´ 6 åˆ†é’ŸÂ·2023å¹´5æœˆ5æ—¥
- en: --
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: --
- en: '![](../Images/a24a64f85f7450f2509f91f3562ef550.png)'
  id: totrans-6
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/a24a64f85f7450f2509f91f3562ef550.png)'
- en: Photo by [Roman Synkevych ğŸ‡ºğŸ‡¦](https://unsplash.com/@synkevych?utm_source=medium&utm_medium=referral)
    on [Unsplash](https://unsplash.com/?utm_source=medium&utm_medium=referral)
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: ç…§ç‰‡ç”± [Roman Synkevych ğŸ‡ºğŸ‡¦](https://unsplash.com/@synkevych?utm_source=medium&utm_medium=referral)
    æ‹æ‘„ï¼Œ[Unsplash](https://unsplash.com/?utm_source=medium&utm_medium=referral) æä¾›
- en: If youâ€™re into software development, youâ€™d know what GitHub actions are. Itâ€™s
    a utility by GitHub to automate dev tasks. Or, in popular language, a DevOps tool.
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: å¦‚æœä½ å¯¹è½¯ä»¶å¼€å‘æ„Ÿå…´è¶£ï¼Œä½ ä¼šçŸ¥é“ GitHub Actions æ˜¯ä»€ä¹ˆã€‚å®ƒæ˜¯ GitHub æä¾›çš„ä¸€ä¸ªè‡ªåŠ¨åŒ–å¼€å‘ä»»åŠ¡çš„å·¥å…·ã€‚æˆ–è€…ç”¨æµè¡Œçš„è¯æ¥è¯´ï¼Œæ˜¯ä¸€ä¸ª
    DevOps å·¥å…·ã€‚
- en: But people hardly use it for building ETL pipelines.
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: ä½†äººä»¬å¾ˆå°‘ç”¨å®ƒæ¥æ„å»º ETL æµæ°´çº¿ã€‚
- en: The first thing that comes to mind when discussing ETLs is Airflow, Prefect,
    or related tools. They are, without a doubt, the best in the market for task orchestration.
    But many ETLs we build are simple, and hosting a separate tool for them is often
    overkill.
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: è®¨è®º ETL æ—¶ï¼Œç¬¬ä¸€ä¸ªæƒ³åˆ°çš„å·¥å…·æ˜¯ Airflowã€Prefect æˆ–ç›¸å…³å·¥å…·ã€‚æ¯«æ— ç–‘é—®ï¼Œå®ƒä»¬åœ¨ä»»åŠ¡ç¼–æ’æ–¹é¢æ˜¯å¸‚åœºä¸Šæœ€å¥½çš„ã€‚ä½†æˆ‘ä»¬æ„å»ºçš„è®¸å¤š ETL
    éƒ½å¾ˆç®€å•ï¼Œæ‰˜ç®¡ä¸€ä¸ªå•ç‹¬çš„å·¥å…·å¾€å¾€æ˜¯å¤šä½™çš„ã€‚
- en: You can use GitHub Actions instead.
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: ä½ å¯ä»¥æ”¹ç”¨ GitHub Actionsã€‚
- en: This article focuses on GitHub Actions. But if youâ€™re on Bitbucket or GitLab,
    you could use their respective alternatives too.
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: æœ¬æ–‡é‡ç‚¹ä»‹ç» GitHub Actionsã€‚ä½†å¦‚æœä½ ä½¿ç”¨ Bitbucket æˆ– GitLabï¼Œä½ ä¹Ÿå¯ä»¥ä½¿ç”¨å®ƒä»¬å„è‡ªçš„æ›¿ä»£æ–¹æ¡ˆã€‚
- en: '[](/black-with-git-hub-actions-4ffc5c61b5fe?source=post_page-----383f618704b6--------------------------------)
    [## Maintain Clean Python Code With Black and GitHub Actions.'
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: '[](/black-with-git-hub-actions-4ffc5c61b5fe?source=post_page-----383f618704b6--------------------------------)
    [## ä½¿ç”¨ Black å’Œ GitHub Actions ç»´æŠ¤å¹²å‡€çš„ Python ä»£ç ã€‚'
- en: Nobody wants a messy codebase; few have the patience to clean it.
  id: totrans-14
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: æ²¡æœ‰äººæƒ³è¦ä¸€ä¸ªæ··ä¹±çš„ä»£ç åº“ï¼›ä¹Ÿå¾ˆå°‘æœ‰äººæœ‰è€å¿ƒå»æ¸…ç†å®ƒã€‚
- en: towardsdatascience.com](/black-with-git-hub-actions-4ffc5c61b5fe?source=post_page-----383f618704b6--------------------------------)
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: towardsdatascience.com](/black-with-git-hub-actions-4ffc5c61b5fe?source=post_page-----383f618704b6--------------------------------)
- en: We can run our Python, R, or Julia scripts on GitHub Actions. So as a data scientist,
    you donâ€™t have to learn a new language or tool for this matter. You could even
    get email notifications when any of your ETL tasks fail.
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬å¯ä»¥åœ¨ GitHub Actions ä¸Šè¿è¡Œæˆ‘ä»¬çš„ Pythonã€R æˆ– Julia è„šæœ¬ã€‚æ‰€ä»¥ä½œä¸ºæ•°æ®ç§‘å­¦å®¶ï¼Œä½ ä¸å¿…ä¸ºæ­¤å­¦ä¹ ä¸€ç§æ–°çš„è¯­è¨€æˆ–å·¥å…·ã€‚ä½ ç”šè‡³å¯ä»¥åœ¨ä»»ä½•
    ETL ä»»åŠ¡å¤±è´¥æ—¶æ”¶åˆ°ç”µå­é‚®ä»¶é€šçŸ¥ã€‚
- en: You can still enjoy 2000min of computation monthly if youâ€™re on a free account.
    You can try GitHub action if you can estimate your ETL workload within this range.
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: å¦‚æœä½ ä½¿ç”¨å…è´¹è´¦æˆ·ï¼Œä½ æ¯æœˆä»ç„¶å¯ä»¥äº«å— 2000 åˆ†é’Ÿçš„è®¡ç®—æ—¶é—´ã€‚å¦‚æœä½ èƒ½ä¼°ç®—ä½ çš„ ETL å·¥ä½œè´Ÿè½½åœ¨è¿™ä¸ªèŒƒå›´å†…ï¼Œä½ å¯ä»¥å°è¯•ä½¿ç”¨ GitHub Actionsã€‚
- en: '[](/remove-file-from-git-history-ce404d7463d3?source=post_page-----383f618704b6--------------------------------)
    [## How to Remove Sensitive Data You Accidentally Uploaded To Github.'
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: '[](/remove-file-from-git-history-ce404d7463d3?source=post_page-----383f618704b6--------------------------------)
    [## å¦‚ä½•ç§»é™¤ä½ ä¸å°å¿ƒä¸Šä¼ åˆ° GitHub çš„æ•æ„Ÿæ•°æ®ã€‚'
- en: And how to avoid them getting in there? â€” A surprisingly simple technique to
    handle it.
  id: totrans-19
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: é‚£ä¹ˆå¦‚ä½•é¿å…å®ƒä»¬è¢«è¯¯å…¥å‘¢ï¼Ÿâ€”â€”ä¸€ç§å‡ºä¹æ„æ–™çš„ç®€å•å¤„ç†æ–¹æ³•ã€‚
- en: towardsdatascience.com](/remove-file-from-git-history-ce404d7463d3?source=post_page-----383f618704b6--------------------------------)
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: '[towardsdatascience.com](/remove-file-from-git-history-ce404d7463d3?source=post_page-----383f618704b6--------------------------------)'
- en: How do we start building ETLs on GitHub Actions?
  id: totrans-21
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬å¦‚ä½•å¼€å§‹åœ¨ GitHub Actions ä¸Šæ„å»º ETLï¼Ÿ
- en: Getting started with the GitHub actions is simple. You could follow the [official
    doc](https://docs.github.com/en/actions/quickstart). Or the three simple steps
    are as follows.
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: å¼€å§‹ä½¿ç”¨ GitHub Actions å¾ˆç®€å•ã€‚ä½ å¯ä»¥å‚è€ƒ[å®˜æ–¹æ–‡æ¡£](https://docs.github.com/en/actions/quickstart)ã€‚æˆ–è€…æŒ‰ç…§ä»¥ä¸‹ä¸‰ä¸ªç®€å•æ­¥éª¤æ“ä½œã€‚
- en: In your repository, create a directory at `.github/workflows` . Then create
    the YAML config file `actions.yaml` inside it with the following content.
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨ä½ çš„ä»£ç åº“ä¸­ï¼Œåˆ›å»ºä¸€ä¸ªç›®å½• `.github/workflows`ã€‚ç„¶ååœ¨å…¶ä¸­åˆ›å»ºä¸€ä¸ªåä¸º `actions.yaml` çš„ YAML é…ç½®æ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹ã€‚
- en: '[PRE0]'
  id: totrans-24
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: The above YAML automates an ETL (Extract, Transform, Load) pipeline. The workflow
    is triggered every day at 12:00 AM UTC, and it consists of a single job that runs
    on the `ubuntu-latest` environment (Whatever thatâ€™s available at the time.)
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸Šè¿° YAML è‡ªåŠ¨åŒ–äº†ä¸€ä¸ª ETLï¼ˆæå–ã€è½¬æ¢ã€åŠ è½½ï¼‰ç®¡é“ã€‚è¯¥å·¥ä½œæµæ¯å¤© UTC æ—¶é—´å‡Œæ™¨ 12:00 è§¦å‘ï¼Œç”±ä¸€ä¸ªåœ¨ `ubuntu-latest`
    ç¯å¢ƒä¸­è¿è¡Œçš„å•ä¸ªä»»åŠ¡ç»„æˆï¼ˆå…·ä½“ç¯å¢ƒä»¥å½“æ—¶å¯ç”¨çš„ä¸ºå‡†ï¼‰ã€‚
- en: The steps of these configurations are simple.
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™äº›é…ç½®æ­¥éª¤å¾ˆç®€å•ã€‚
- en: 'The job has five steps: the first two steps check out the code and set up the
    Python environment, respectively, while the next three steps execute the `extract.py`,
    `transform.py`, and `load.py` Python scripts sequentially.'
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: è¯¥å·¥ä½œåŒ…å«äº”ä¸ªæ­¥éª¤ï¼šå‰ä¸¤ä¸ªæ­¥éª¤åˆ†åˆ«ç”¨äºæ£€æŸ¥ä»£ç å’Œè®¾ç½® Python ç¯å¢ƒï¼Œæ¥ä¸‹æ¥çš„ä¸‰ä¸ªæ­¥éª¤æŒ‰é¡ºåºæ‰§è¡Œ `extract.py`ã€`transform.py`
    å’Œ `load.py` Python è„šæœ¬ã€‚
- en: This workflow provides an automated and efficient way of extracting, transforming,
    and loading data on a daily basis using GitHub Actions.
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: è¯¥å·¥ä½œæµæä¾›äº†ä¸€ç§è‡ªåŠ¨åŒ–å’Œé«˜æ•ˆçš„æ–¹æ³•ï¼Œä½¿ç”¨ GitHub Actions æ¯å¤©æå–ã€è½¬æ¢å’ŒåŠ è½½æ•°æ®ã€‚
- en: '[](/python-decorators-for-data-science-6913f717669a?source=post_page-----383f618704b6--------------------------------)
    [## 5 Python Decorators I Use in Almost All My Data Science Projects'
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: '[](/python-decorators-for-data-science-6913f717669a?source=post_page-----383f618704b6--------------------------------)
    [## æˆ‘åœ¨å‡ ä¹æ‰€æœ‰æ•°æ®ç§‘å­¦é¡¹ç›®ä¸­ä½¿ç”¨çš„ 5 ä¸ª Python è£…é¥°å™¨'
- en: Decorators provide a new and convenient way for everything from caching to sending
    notifications.
  id: totrans-30
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: è£…é¥°å™¨æä¾›äº†ä¸€ç§æ–°çš„ã€æ–¹ä¾¿çš„æ–¹æ³•ï¼Œç”¨äºç¼“å­˜åˆ°å‘é€é€šçŸ¥ç­‰å„ç§ç”¨é€”ã€‚
- en: towardsdatascience.com](/python-decorators-for-data-science-6913f717669a?source=post_page-----383f618704b6--------------------------------)
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: '[towardsdatascience.com](/python-decorators-for-data-science-6913f717669a?source=post_page-----383f618704b6--------------------------------)'
- en: The Python scripts may vary depending on the scenario. Hereâ€™s one of many ways.
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: Python è„šæœ¬å¯èƒ½ä¼šæ ¹æ®åœºæ™¯æœ‰æ‰€ä¸åŒã€‚è¿™æ˜¯ä¼—å¤šæ–¹æ³•ä¸­çš„ä¸€ç§ã€‚
- en: '[PRE1]'
  id: totrans-33
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: The above scripts read from a dummy API and push it to a Postgres database.
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸Šè¿°è„šæœ¬ä»è™šæ‹Ÿ API è¯»å–æ•°æ®å¹¶å°†å…¶æ¨é€åˆ° Postgres æ•°æ®åº“ã€‚
- en: '[](/fast-load-data-to-sql-from-python-2d67aea946c0?source=post_page-----383f618704b6--------------------------------)
    [## Python To SQL â€” I Can Now Load Data 20X Faster'
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: '[](/fast-load-data-to-sql-from-python-2d67aea946c0?source=post_page-----383f618704b6--------------------------------)
    [## Python åˆ° SQL â€” æˆ‘ç°åœ¨å¯ä»¥å°†æ•°æ®åŠ è½½é€Ÿåº¦æé«˜ 20 å€'
- en: The good, bad, and ugly ways of uploading large batches of data
  id: totrans-36
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: ä¸Šä¼ å¤§é‡æ•°æ®çš„å¥½æ–¹æ³•ã€åæ–¹æ³•å’Œä¸‘é™‹çš„æ–¹æ³•
- en: towardsdatascience.com](/fast-load-data-to-sql-from-python-2d67aea946c0?source=post_page-----383f618704b6--------------------------------)
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: '[towardsdatascience.com](/fast-load-data-to-sql-from-python-2d67aea946c0?source=post_page-----383f618704b6--------------------------------)'
- en: Things to consider when deploying ETL pipelines to GitHub Actions.
  id: totrans-38
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: éƒ¨ç½² ETL ç®¡é“åˆ° GitHub Actions æ—¶éœ€è¦è€ƒè™‘çš„äº‹é¡¹ã€‚
- en: '**1\. Security:** Keep your secrets secure by using GitHubâ€™s secret store and
    avoid hardcoding secrets into your workflows.'
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: '**1\. å®‰å…¨æ€§ï¼š** ä½¿ç”¨ GitHub çš„ç§˜å¯†å­˜å‚¨æ¥ä¿æŠ¤ä½ çš„ç§˜å¯†ï¼Œé¿å…å°†ç§˜å¯†ç¡¬ç¼–ç åˆ°ä½ çš„å·¥ä½œæµä¸­ã€‚'
- en: Have you already noticed that the sample code Iâ€™ve given above has database
    credentials? Itâ€™s not right for a production system.
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: ä½ æ˜¯å¦å·²ç»æ³¨æ„åˆ°æˆ‘ä¸Šé¢ç»™å‡ºçš„ç¤ºä¾‹ä»£ç åŒ…å«äº†æ•°æ®åº“å‡­æ®ï¼Ÿè¿™åœ¨ç”Ÿäº§ç³»ç»Ÿä¸­æ˜¯ä¸å¯¹çš„ã€‚
- en: We have other ways to securely embed secrets, like database credentials.
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬è¿˜æœ‰å…¶ä»–å®‰å…¨åµŒå…¥ç§˜å¯†çš„æ–¹æ³•ï¼Œå¦‚æ•°æ®åº“å‡­æ®ã€‚
- en: If you donâ€™t encrypt your secrets in GitHub Actions, they will be visible to
    anyone who has access to the repositoryâ€™s source code. This means that if an attacker
    gains access to the repository or the repositoryâ€™s source code is leaked; the
    attacker will be able to see your secret values.
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: å¦‚æœä½ åœ¨ GitHub Actions ä¸­ä¸åŠ å¯†ä½ çš„ç§˜å¯†ï¼Œä»»ä½•æœ‰æƒé™è®¿é—®ä»£ç åº“çš„äººéƒ½èƒ½çœ‹åˆ°è¿™äº›ç§˜å¯†ã€‚è¿™æ„å‘³ç€ï¼Œå¦‚æœæ”»å‡»è€…è·å¾—äº†å¯¹ä»£ç åº“çš„è®¿é—®æƒé™æˆ–ä»£ç åº“çš„æºä»£ç æ³„éœ²ï¼›æ”»å‡»è€…å°†èƒ½å¤Ÿçœ‹åˆ°ä½ çš„ç§˜å¯†å€¼ã€‚
- en: To protect your secrets, GitHub provides a feature called encrypted secrets,
    which allows you to store your secret values securely in the repository settings.
    Encrypted secrets are only accessible to authorized users and are never exposed
    in plaintext in your GitHub Actions workflows.
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸ºäº†ä¿æŠ¤ä½ çš„æœºå¯†ä¿¡æ¯ï¼ŒGitHub æä¾›äº†ä¸€é¡¹åä¸ºåŠ å¯†æœºå¯†çš„åŠŸèƒ½ï¼Œè¿™ä½¿ä½ èƒ½å¤Ÿåœ¨ä»“åº“è®¾ç½®ä¸­å®‰å…¨åœ°å­˜å‚¨ä½ çš„æœºå¯†å€¼ã€‚åŠ å¯†æœºå¯†ä»…å¯¹æˆæƒç”¨æˆ·å¯è®¿é—®ï¼Œå¹¶ä¸”åœ¨ä½ çš„ GitHub
    Actions å·¥ä½œæµä¸­ä»ä¸ä»¥æ˜æ–‡å½¢å¼æš´éœ²ã€‚
- en: Hereâ€™s how it works.
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸‹é¢æ˜¯å®ƒçš„å·¥ä½œåŸç†ã€‚
- en: In the repository settings sidebar, you can find the secrets and variables for
    Actions. You can create your variables here.
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨ä»“åº“è®¾ç½®ä¾§è¾¹æ ä¸­ï¼Œä½ å¯ä»¥æ‰¾åˆ° Actions çš„æœºå¯†ä¿¡æ¯å’Œå˜é‡ã€‚ä½ å¯ä»¥åœ¨è¿™é‡Œåˆ›å»ºä½ çš„å˜é‡ã€‚
- en: '![](../Images/2a69869f31b645e2075fffa99085e609.png)'
  id: totrans-46
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/2a69869f31b645e2075fffa99085e609.png)'
- en: Screenshot by the author.
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: ä½œè€…æˆªå›¾ã€‚
- en: Secrets created here are not visible to anyone. They are encrypted and can be
    used in the workflow. Even you canâ€™t read them. But you can update them with a
    new value.
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨è¿™é‡Œåˆ›å»ºçš„æœºå¯†ä¿¡æ¯å¯¹ä»»ä½•äººéƒ½ä¸å¯è§ã€‚å®ƒä»¬æ˜¯åŠ å¯†çš„ï¼Œå¯ä»¥åœ¨å·¥ä½œæµä¸­ä½¿ç”¨ã€‚å³ä½¿ä½ ä¹Ÿæ— æ³•è¯»å–å®ƒä»¬ã€‚ä½†ä½ å¯ä»¥ç”¨æ–°çš„å€¼æ›´æ–°å®ƒä»¬ã€‚
- en: 'Once you created the secrets, you can pass in them using the GitHub Actions
    configuration as an environment variable. Hereâ€™s how it works:'
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸€æ—¦ä½ åˆ›å»ºäº†æœºå¯†ä¿¡æ¯ï¼Œä½ å¯ä»¥é€šè¿‡ GitHub Actions é…ç½®å°†å®ƒä»¬ä½œä¸ºç¯å¢ƒå˜é‡ä¼ é€’ã€‚ä¸‹é¢æ˜¯å®ƒçš„å·¥ä½œåŸç†ï¼š
- en: '[PRE2]'
  id: totrans-50
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: Now, we can modify the Python scripts to read credentials from environment variables.
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: ç°åœ¨ï¼Œæˆ‘ä»¬å¯ä»¥ä¿®æ”¹ Python è„šæœ¬ä»¥ä»ç¯å¢ƒå˜é‡ä¸­è¯»å–å‡­è¯ã€‚
- en: '[PRE3]'
  id: totrans-52
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: '**2\. Dependencies**: Make sure to use the correct version of dependencies
    to avoid any issues.'
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: '**2. ä¾èµ–å…³ç³»**ï¼šç¡®ä¿ä½¿ç”¨æ­£ç¡®ç‰ˆæœ¬çš„ä¾èµ–é¡¹ï¼Œä»¥é¿å…ä»»ä½•é—®é¢˜ã€‚'
- en: Your Python project may already have a requirements.txt file that specifies
    dependencies along with their versions. Or, for more sophisticated projects, you
    may be using modern dependency management tools like Poetry.
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: ä½ çš„ Python é¡¹ç›®å¯èƒ½å·²ç»æœ‰ä¸€ä¸ª requirements.txt æ–‡ä»¶ï¼ŒæŒ‡å®šäº†ä¾èµ–é¡¹åŠå…¶ç‰ˆæœ¬ã€‚æˆ–è€…ï¼Œå¯¹äºæ›´å¤æ‚çš„é¡¹ç›®ï¼Œä½ å¯èƒ½ä½¿ç”¨åƒ Poetry
    è¿™æ ·çš„ç°ä»£ä¾èµ–ç®¡ç†å·¥å…·ã€‚
- en: You should have a step to set up your environment before you run the other pieces
    of your ETL. You can do this by specifying the following in your YAML configuration.
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨è¿è¡Œ ETL çš„å…¶ä»–éƒ¨åˆ†ä¹‹å‰ï¼Œä½ åº”è¯¥æœ‰ä¸€ä¸ªæ­¥éª¤æ¥è®¾ç½®ä½ çš„ç¯å¢ƒã€‚ä½ å¯ä»¥é€šè¿‡åœ¨ YAML é…ç½®ä¸­æŒ‡å®šä»¥ä¸‹å†…å®¹æ¥åšåˆ°è¿™ä¸€ç‚¹ã€‚
- en: '[PRE4]'
  id: totrans-56
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: '3\. **Timezone settings**: GitHub actions use UTC timezone, and as of writing
    this post, you canâ€™t change it.'
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: 3. **æ—¶åŒºè®¾ç½®**ï¼šGitHub Actions ä½¿ç”¨ UTC æ—¶åŒºï¼Œåœ¨æ’°å†™æœ¬æ–‡æ—¶ï¼Œä½ ä¸èƒ½æ›´æ”¹å®ƒã€‚
- en: Thus you must ensure youâ€™re using the correct timezone. You can use an online
    converter or manually adjust your local time to UTC before configuring.
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: å› æ­¤ï¼Œä½ å¿…é¡»ç¡®ä¿ä½¿ç”¨æ­£ç¡®çš„æ—¶åŒºã€‚ä½ å¯ä»¥ä½¿ç”¨åœ¨çº¿è½¬æ¢å·¥å…·æˆ–åœ¨é…ç½®ä¹‹å‰æ‰‹åŠ¨å°†æœ¬åœ°æ—¶é—´è°ƒæ•´ä¸º UTCã€‚
- en: The biggest caveat of GitHub action scheduling is its uncertainty in the execution
    time. Even though youâ€™ve configured it to run at a specific point in time, if
    the demand is high at that point, your job will be qued. Thus, there will be a
    short delay in the actual job starting time.
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: GitHub Actions è°ƒåº¦çš„æœ€å¤§é™·é˜±æ˜¯å…¶æ‰§è¡Œæ—¶é—´çš„ä¸ç¡®å®šæ€§ã€‚å³ä½¿ä½ å·²é…ç½®ä¸ºåœ¨ç‰¹å®šæ—¶é—´ç‚¹è¿è¡Œï¼Œå¦‚æœé‚£æ—¶éœ€æ±‚é‡å¾ˆé«˜ï¼Œä½ çš„ä»»åŠ¡å°†è¢«æ’é˜Ÿã€‚å› æ­¤ï¼Œå®é™…ä»»åŠ¡å¼€å§‹æ—¶é—´ä¼šæœ‰çŸ­æš‚çš„å»¶è¿Ÿã€‚
- en: If your job depends on exact execution time, using GitHub Actions scheduling
    is probably not a good option. Using a s[elf-hosted runner](https://docs.github.com/en/actions/hosting-your-own-runners/managing-self-hosted-runners/about-self-hosted-runners)
    in GitHub actions may help.
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: å¦‚æœä½ çš„ä»»åŠ¡ä¾èµ–äºå‡†ç¡®çš„æ‰§è¡Œæ—¶é—´ï¼Œä½¿ç”¨ GitHub Actions è°ƒåº¦å¯èƒ½ä¸æ˜¯ä¸€ä¸ªå¥½çš„é€‰æ‹©ã€‚åœ¨ GitHub Actions ä¸­ä½¿ç”¨ [è‡ªæ‰˜ç®¡è¿è¡Œå™¨](https://docs.github.com/en/actions/hosting-your-own-runners/managing-self-hosted-runners/about-self-hosted-runners)
    å¯èƒ½ä¼šæœ‰æ‰€å¸®åŠ©ã€‚
- en: '**4\. Resource Usage:** Avoid overloading the resources provided by GitHub.'
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: '**4. èµ„æºä½¿ç”¨ï¼š** é¿å…è¿‡è½½ GitHub æä¾›çš„èµ„æºã€‚'
- en: Even though [GitHub actions, even with a free account, has 2000 minutes](https://docs.github.com/en/billing/managing-billing-for-github-actions/about-billing-for-github-actions)
    of free run time, if you use a different OS than Linux, rules change a bit.
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: å³ä½¿ [GitHub Actionsï¼Œå³ä½¿æ˜¯å…è´¹è´¦æˆ·ï¼Œä¹Ÿæœ‰ 2000 åˆ†é’Ÿ](https://docs.github.com/en/billing/managing-billing-for-github-actions/about-billing-for-github-actions)
    çš„å…è´¹è¿è¡Œæ—¶é—´ï¼Œä½†å¦‚æœä½ ä½¿ç”¨çš„æ˜¯ä¸ Linux ä¸åŒçš„æ“ä½œç³»ç»Ÿï¼Œè§„åˆ™ä¼šæœ‰æ‰€ä¸åŒã€‚
- en: If youâ€™re using a Windows runtime, youâ€™ll get only half of it. In a MacOS environment,
    youâ€™ll only get one-tenth of it.
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: å¦‚æœä½ ä½¿ç”¨çš„æ˜¯ Windows è¿è¡Œæ—¶ï¼Œä½ åªä¼šè·å¾—ä¸€åŠçš„èµ„æºã€‚åœ¨ MacOS ç¯å¢ƒä¸­ï¼Œä½ åªä¼šè·å¾—ååˆ†ä¹‹ä¸€çš„èµ„æºã€‚
- en: '[](/github-automated-testing-python-fdfe5aec9446?source=post_page-----383f618704b6--------------------------------)
    [## How to Run Python Tests on Every Commit Using GitHub Actions?'
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: '[](/github-automated-testing-python-fdfe5aec9446?source=post_page-----383f618704b6--------------------------------)
    [## å¦‚ä½•åœ¨æ¯æ¬¡æäº¤æ—¶ä½¿ç”¨ GitHub Actions è¿è¡Œ Python æµ‹è¯•ï¼Ÿ'
- en: Automate the boring stuff and ensure your code quality with a CI pipeline.
  id: totrans-65
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: è‡ªåŠ¨åŒ–ä¹å‘³çš„ä»»åŠ¡ï¼Œå¹¶é€šè¿‡ CI æµæ°´çº¿ç¡®ä¿ä½ çš„ä»£ç è´¨é‡ã€‚
- en: towardsdatascience.com](/github-automated-testing-python-fdfe5aec9446?source=post_page-----383f618704b6--------------------------------)
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: towardsdatascience.com](/github-automated-testing-python-fdfe5aec9446?source=post_page-----383f618704b6--------------------------------)
- en: Conclusion
  id: totrans-67
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: ç»“è®º
- en: GitHub actions is a DevOps tool. But we can use it to run any scheduled tasks.
    In this post, weâ€™ve discussed how to create an ETL that periodically fetches an
    API and pushes the data to a dataframe.
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: GitHub Actions æ˜¯ä¸€ä¸ª DevOps å·¥å…·ï¼Œä½†æˆ‘ä»¬å¯ä»¥ç”¨å®ƒæ¥è¿è¡Œä»»ä½•è®¡åˆ’ä»»åŠ¡ã€‚åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬è®¨è®ºäº†å¦‚ä½•åˆ›å»ºä¸€ä¸ªå®šæœŸè·å– API å¹¶å°†æ•°æ®æ¨é€åˆ°æ•°æ®æ¡†çš„
    ETLã€‚
- en: For simple ETLs, this approach is easy to develop and deploy.
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: å¯¹äºç®€å•çš„ ETLï¼Œè¿™ç§æ–¹æ³•æ˜“äºå¼€å‘å’Œéƒ¨ç½²ã€‚
- en: But scheduled jobs in GitHub actions donâ€™t have to run at the exact same time.
    Hence for time bounded tasks, this isnâ€™t suitable.
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: ä½†æ˜¯ï¼ŒGitHub Actions ä¸­çš„è®¡åˆ’ä»»åŠ¡ä¸å¿…åœ¨å®Œå…¨ç›¸åŒçš„æ—¶é—´è¿è¡Œã€‚å› æ­¤ï¼Œå¯¹äºæ—¶é—´æ•æ„Ÿçš„ä»»åŠ¡ï¼Œè¿™ç§æ–¹æ³•å¹¶ä¸é€‚ç”¨ã€‚
- en: Thanks for reading, friend! Say Hi to me on [**LinkedIn**](https://www.linkedin.com/in/thuwarakesh/),
    [**Twitter**](https://twitter.com/Thuwarakesh), and [**Medium**](https://thuwarakesh.medium.com/).
  id: totrans-71
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: æ„Ÿè°¢é˜…è¯»ï¼Œæœ‹å‹ï¼åœ¨ [**LinkedIn**](https://www.linkedin.com/in/thuwarakesh/)ã€[**Twitter**](https://twitter.com/Thuwarakesh)
    å’Œ [**Medium**](https://thuwarakesh.medium.com/) ä¸Šè·Ÿæˆ‘æ‰“ä¸ªæ‹›å‘¼å§ã€‚
- en: ''
  id: totrans-72
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: Not a Medium member yet? Please use this link to [**become a member**](https://thuwarakesh.medium.com/membership)
    because, at no extra cost for you, I earn a small commission for referring you.
  id: totrans-73
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: è¿˜ä¸æ˜¯ Medium ä¼šå‘˜ï¼Ÿè¯·ä½¿ç”¨æ­¤é“¾æ¥ [**æˆä¸ºä¼šå‘˜**](https://thuwarakesh.medium.com/membership)ï¼Œå› ä¸ºè¿™æ ·ä½ æ— éœ€é¢å¤–æ”¯ä»˜è´¹ç”¨ï¼Œæˆ‘å¯ä»¥é€šè¿‡æ¨èä½ èµšå–å°‘é‡ä½£é‡‘ã€‚
