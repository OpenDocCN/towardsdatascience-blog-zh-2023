- en: Unlock the Secrets of Causal Inference with a Master Class in Directed Acyclic
    Graphs
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 解锁因果推断的秘密，通过有向无环图的硕士班
- en: 原文：[https://towardsdatascience.com/unlock-the-secrets-of-causal-inference-with-a-master-class-in-directed-acyclic-graphs-f2d3b40738e](https://towardsdatascience.com/unlock-the-secrets-of-causal-inference-with-a-master-class-in-directed-acyclic-graphs-f2d3b40738e)
  id: totrans-1
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 原文：[https://towardsdatascience.com/unlock-the-secrets-of-causal-inference-with-a-master-class-in-directed-acyclic-graphs-f2d3b40738e](https://towardsdatascience.com/unlock-the-secrets-of-causal-inference-with-a-master-class-in-directed-acyclic-graphs-f2d3b40738e)
- en: A step-by-step explanation of Directed Acyclic Graphs from the basics through
    to more advanced aspects
  id: totrans-2
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 从基础到更高级方面的有向无环图的逐步解释
- en: '[](https://grahamharrison-86487.medium.com/?source=post_page-----f2d3b40738e--------------------------------)[![Graham
    Harrison](../Images/c6bfe00c6e0cfcdf3bd042c7fdc03554.png)](https://grahamharrison-86487.medium.com/?source=post_page-----f2d3b40738e--------------------------------)[](https://towardsdatascience.com/?source=post_page-----f2d3b40738e--------------------------------)[![Towards
    Data Science](../Images/a6ff2676ffcc0c7aad8aaf1d79379785.png)](https://towardsdatascience.com/?source=post_page-----f2d3b40738e--------------------------------)
    [Graham Harrison](https://grahamharrison-86487.medium.com/?source=post_page-----f2d3b40738e--------------------------------)'
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: '[](https://grahamharrison-86487.medium.com/?source=post_page-----f2d3b40738e--------------------------------)[![Graham
    Harrison](../Images/c6bfe00c6e0cfcdf3bd042c7fdc03554.png)](https://grahamharrison-86487.medium.com/?source=post_page-----f2d3b40738e--------------------------------)[](https://towardsdatascience.com/?source=post_page-----f2d3b40738e--------------------------------)[![Towards
    Data Science](../Images/a6ff2676ffcc0c7aad8aaf1d79379785.png)](https://towardsdatascience.com/?source=post_page-----f2d3b40738e--------------------------------)
    [Graham Harrison](https://grahamharrison-86487.medium.com/?source=post_page-----f2d3b40738e--------------------------------)'
- en: ·Published in [Towards Data Science](https://towardsdatascience.com/?source=post_page-----f2d3b40738e--------------------------------)
    ·36 min read·Apr 6, 2023
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: ·发表于 [Towards Data Science](https://towardsdatascience.com/?source=post_page-----f2d3b40738e--------------------------------)
    ·阅读时长36分钟·2023年4月6日
- en: --
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: --
- en: '![](../Images/a3c8c1147fdd45191a6e1fc6574c9a09.png)'
  id: totrans-6
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/a3c8c1147fdd45191a6e1fc6574c9a09.png)'
- en: Photo by [Caleb Jones](https://unsplash.com/es/@gcalebjones?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText)
    on [Unsplash](https://unsplash.com/s/photos/paths?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText)
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: '[Caleb Jones](https://unsplash.com/es/@gcalebjones?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText)拍摄的照片，来自[Unsplash](https://unsplash.com/s/photos/paths?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText)'
- en: Objective
  id: totrans-8
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 目标
- en: Having spent a lot of time researching causal inference I began to realise that
    I did not have a full grasp of Directed Acyclic Graphs (DAGs) and that this was
    hampering my efforts to develop my understanding to a point where I could apply
    it in order to solve real-world problems.
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: 在花费大量时间研究因果推断之后，我开始意识到自己对有向无环图（DAGs）的理解不够全面，这影响了我将其应用于解决实际问题的能力。
- en: This objective of this article is to document my learning journey and to share
    everything you need to know about DAGs in order to take your understanding of
    Causal Inference to the next level.
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: 本文的目标是记录我的学习历程，并分享你需要了解的关于DAG的一切，以便将你对因果推断的理解提升到一个新的水平。
- en: Background
  id: totrans-11
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 背景
- en: I would like to start by proposing a definition for causal inference -
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 我想从提出因果推断的定义开始—
- en: '**Causal inference is the process of reasoning and the application of conclusions
    drawn from cause-and-effect relationships between variables while taking into
    account potential confounding factors and biases.**'
  id: totrans-13
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '**因果推断是推理的过程，是应用从变量之间的因果关系中得出的结论，同时考虑潜在的混杂因素和偏差。**'
- en: That is quite a mouthful, but it does encapsulate the key points -
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 这确实很复杂，但它概括了关键点—
- en: It is the study of cause-and-effect.
  id: totrans-15
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 这是一种因果关系的研究。
- en: The point is to draw conclusions that can be applied to solve real-world problems.
  id: totrans-16
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 关键在于得出可以应用于解决实际问题的结论。
- en: Any bias or “confounding” must be taken account of and compensated for.
  id: totrans-17
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 任何偏差或“混杂”都必须考虑在内并进行补偿。
- en: Moving beyond the definition, there is an age old saying that “correlation does
    not imply causation” which leads to the question “so what does then?”
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: 超越定义，有一句古老的格言是“相关性不等于因果性”，这引出了“那究竟是什么？”的问题
- en: It turns out that causation cannot be inferred or calculated from a set of data
    in isolation. That data needs to be extended and supplemented with additional
    information that can propose, visualise and represent the causal relationships
    and one common approach to the is to use a “Directed Acyclic Graph”.
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: 事实证明，因果关系不能仅从一组数据中推断或计算出来。数据需要扩展和补充额外的信息，以提出、可视化和表示因果关系，一种常见的方法是使用“有向无环图”。
- en: A Simple DAG
  id: totrans-20
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 一个简单的DAG
- en: At the most basic level DAGs are very simple indeed. The example below is representing
    the proposed relationship between taking a drug “D” and recovery “R” and the arrow
    is stating that taking the drug has a causal effect on recovery …
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: 从最基本的层面上看，DAG确实非常简单。下面的例子表示服用药物“D”和恢复“R”之间的拟议关系，箭头表明服用药物对恢复有因果影响……
- en: '![](../Images/fde4f9729710c41b569b662cbd7d2d53.png)'
  id: totrans-22
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/fde4f9729710c41b569b662cbd7d2d53.png)'
- en: Image by Author
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: 作者提供的图片
- en: This DAG illustrates two of the key terms — “treatment” and “outcome”.
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 这个DAG说明了两个关键术语——“treatment”（处理）和“outcome”（结果）。
- en: “treatment” (drug in this example) refers to the action or intervention being
    studied or manipulated to determine its effect on the outcome.
  id: totrans-25
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: “treatment”（在这个例子中是药物）指的是被研究或操控的行动或干预，以确定其对结果的影响。
- en: “outcome” (recovery in this example) refers to the variable being measured to
    determine the effect of the treatment.
  id: totrans-26
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: “outcome”（在这个例子中是恢复）指的是用来测量处理效果的变量。
- en: In traditional machine learning terms, the treatment is the independent variable(s)
    and the outcome the dependent variable.
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: 在传统机器学习术语中，处理是自变量，结果是因变量。
- en: When I first studied DAGs I was confused by the terminology as “treatment” and
    “outcome” are typically medical terms and I wondered if DAGs and causal inference
    were limited to the medical domain. This is not the case; causal inference can
    be applied to any set of variables in any domain and I suspect the medical-sounding
    terminology has been borrowed because drug and treatment trials have a significant
    overlap with causal inference.
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: 当我第一次研究DAG时，我对术语感到困惑，因为“treatment”（处理）和“outcome”（结果）通常是医学术语，我曾怀疑DAG和因果推断是否仅限于医学领域。事实并非如此；因果推断可以应用于任何领域中的变量集合，我怀疑医学听起来的术语被借用是因为药物和治疗试验与因果推断有显著的重叠。
- en: A DAG with a “Confounder”
  id: totrans-29
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 一个带有“混杂因素”的DAG
- en: '![](../Images/03f8522e452962d713f764c88ed10d5b.png)'
  id: totrans-30
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/03f8522e452962d713f764c88ed10d5b.png)'
- en: Image by Author
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: 作者提供的图片
- en: This example adds another factor — “G” or gender. The arrows show that gender
    (G) has a causal affect on both the drug (D) and on recovery (R). The explanation
    for this is as follows -
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: 这个例子增加了另一个因素——“G”或性别。箭头显示性别（G）对药物（D）和恢复（R）都有因果影响。解释如下——
- en: More males than females decide to take the drug so “Gender” causes “Drug”.
  id: totrans-33
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 更多的男性比女性决定服用药物，因此“性别”导致“药物”。
- en: Females have a better natural recovery rate than males so “Gender” causes “Recovery”.
  id: totrans-34
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 女性的自然恢复率比男性更高，因此“性别”导致“恢复”。
- en: This complicates things significantly. The objective is to establish the true
    effect of taking the drug on recovery but gender is affecting both so simply observing
    how many people in the trial took the drug and recovered does not provide an accurate
    answer.
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: 这使事情变得复杂。目标是确定服用药物对恢复的真实效果，但性别影响两者，因此仅仅观察试验中有多少人服用了药物并恢复，并不能提供准确的答案。
- en: This mixing effect is called “confounding” and a variable that causes this effect
    is a “confounder” which must be “de-confounded” to establish the true efficacy
    of the drug …
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: 这种混合效应称为“混杂”，造成这种效应的变量称为“混杂因素”，必须“去混杂”以确定药物的真实效果……
- en: Randomized Control Trials, Stratification, Conditioning, Controlling and Covariates
  id: totrans-37
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 随机对照试验、分层、条件控制、控制变量和协变量
- en: In order to calculate the true effect of D on R we need to isolate and remove
    the effect of G. There are several approaches that can be applied including the
    following …
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: 为了计算D对R的真实效果，我们需要隔离并去除G的影响。有几种方法可以应用，包括以下几种……
- en: Randomized Control Trials
  id: totrans-39
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 随机对照试验
- en: 'If this was a future trial that was being planned, one tried-and-tested approach
    would be to create a “Randomized Control Trial” (RCT). This would involve randomly
    assigning the drug trial subjects into a test group that receives the drug and
    a control group that received a placebo. (Note: it is important not to tell the
    subjects which group they have been allocated to).'
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: 如果这是一个正在规划的未来试验，一种经过验证的方法是创建一个“随机对照试验”（RCT）。这将涉及将药物试验对象随机分配到一个接受药物的实验组和一个接受安慰剂的对照组中。（注意：重要的是不要告诉受试者他们被分配到哪个组）。
- en: It is now impossible for gender to be causing or influencing who takes the drug
    because subjects are assigned randomly. This effectively “rubs out” the causal
    relationship between “G” and “D” which means that any observed effect of the drug
    on recovery will now be independent of the confounding effect -
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: 由于受试者被随机分配，现在不可能是性别在造成或影响谁接受药物。这有效地“抹去了” “G”和“D”之间的因果关系，这意味着药物对恢复的任何观察到的效果现在将与混杂效应无关
    -
- en: '![](../Images/062475693486f47730827d349eafe338.png)'
  id: totrans-42
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/062475693486f47730827d349eafe338.png)'
- en: Image by Author
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: 作者提供的图片
- en: However, if the study is based on a historical trial where the data has already
    been recorded it is too late to randomly assign the test and control groups and
    an RCT cannot be used.
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: 然而，如果研究基于历史试验，数据已经被记录，那么随机分配测试组和对照组就已经为时已晚，不能使用RCT。
- en: Another big challenge with RCTs is that if the “treatment” being studied is
    smoking or obesity it is not possible to randomly assign into a smoking group
    or obese group so clearly there are moral and ethical boundaries that limit the
    applicability of RCTs.
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: RCT的另一个大挑战是，如果所研究的“治疗”是吸烟或肥胖，就不能随机分配到吸烟组或肥胖组，因此显然存在限制RCT适用性的道德和伦理界限。
- en: Fortunately, there are other approaches that can be applied to historical, observational
    data to mitigate these challenges including “stratification” …
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: 幸运的是，还有其他方法可以应用于历史的观察数据，以缓解这些挑战，包括“分层”…
- en: Stratification
  id: totrans-47
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 分层
- en: In our example, if the subjects were 60% male and 40% female the effect of the
    drug “D” on recovery “R” can be isolated and calculated as follows -
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: 在我们的例子中，如果受试者是60%男性和40%女性，则药物“D”对恢复“R”的影响可以如下隔离和计算 -
- en: Calculate the recovery for males and multiply by 0.6 (as 60% are males).
  id: totrans-49
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 计算男性的恢复情况，并乘以0.6（因为60%是男性）。
- en: Calculate the recovery for females and multiply by 0.4 (as 40% are females).
  id: totrans-50
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 计算女性的恢复情况，并乘以0.4（因为40%是女性）。
- en: Add the two numbers together and this gives the effect of the drug on recovery
    independent from the impact of gender.
  id: totrans-51
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将这两个数字加在一起，这显示了药物对恢复的影响，与性别的影响无关。
- en: Unfortunately, if there are a large number of variables the stratification could
    become very complicated. For example, if there are 10 variables each with 10 possible
    values, we would already be up to 100 strata and if one or more of the variables
    were continuous the permutations would soon become overwhelming.
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: 不幸的是，如果有大量变量，分层可能变得非常复杂。例如，如果有10个变量，每个变量有10个可能的值，我们将已经达到100个层次，而如果一个或多个变量是连续的，排列将很快变得压倒性。
- en: Conditioning
  id: totrans-53
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 条件化
- en: Using causal inference techniques it is possible to simulate the affect of a
    real-world Randomized Control Trial on historical and observational data.
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: 使用因果推断技术可以模拟现实世界中的随机对照试验对历史和观察数据的影响。
- en: This sounds like magic but it uses sound mathematical techniques that have been
    established, defined and described over many years by experts including Judea
    Pearl who has published his findings in academic journals and books including
    the following -
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: 这听起来像魔法，但它使用了多年来由包括犹太·佩尔在内的专家们建立、定义和描述的成熟数学技术，佩尔在学术期刊和书籍中发表了他的发现，包括以下内容 -
- en: The Book of Why
  id: totrans-56
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 《为何之书》
- en: Causal Inference in Statistics
  id: totrans-57
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 统计中的因果推断
- en: This “simulation” of RCTs is achieved by applying something called **backfoor
    adjustment** to **condition** on all the **confounders** i.e. the variables that
    affect both the treatment and the outcome.
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: 这种RCT的“模拟”是通过应用所谓的**反向调整**来**条件**于所有的**混杂因素**即影响处理和结果的变量来实现的。
- en: Here is the **backdoor adjustment formula** for a single treatment variable
    (X) on a single outcome variable (Y) with a single confounder (Z) -
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: 这是针对一个单一处理变量（X）和一个单一结果变量（Y），以及一个单一混杂因素（Z）的**反向调整公式** -
- en: '![](../Images/160ce3c3aeb7e479d44b4cb8603395cc.png)'
  id: totrans-60
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/160ce3c3aeb7e479d44b4cb8603395cc.png)'
- en: Image by Author
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: 作者提供的图片
- en: The key takeaway is that the left hand side is describing an “intervention”,
    for example “assign everyone to take the drug” (do(X)) which is re-written on
    the right hand side and expressed in terms of purely observational data.
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: 关键点是，左侧描述了一个“干预”，例如“让每个人都服用药物”（do(X)），这在右侧被重新编写并用纯粹的观察数据来表示。
- en: A detailed explanation of the maths is beyond the scope of this article but
    if you would like to see a fully worked example, check this link out …
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: 数学的详细解释超出了本文的范围，但如果你想查看一个完全的示例，请查看这个链接……
- en: '[](/unlock-the-power-of-causal-inference-a-data-scientists-guide-to-understanding-backdoor-686d2826efa4?source=post_page-----f2d3b40738e--------------------------------)
    [## Unlock the Power of Causal Inference : A Data Scientist’s Guide to Understanding
    Backdoor…'
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: '[](/unlock-the-power-of-causal-inference-a-data-scientists-guide-to-understanding-backdoor-686d2826efa4?source=post_page-----f2d3b40738e--------------------------------)
    [## 解锁因果推断的力量：数据科学家的后门理解指南……'
- en: A fully working example of the backdoor adjustment formula using Python & the
    pgmpy library including a full…
  id: totrans-65
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 一个使用Python和pgmpy库的完整回门调整公式示例，包括完整的……
- en: towardsdatascience.com](/unlock-the-power-of-causal-inference-a-data-scientists-guide-to-understanding-backdoor-686d2826efa4?source=post_page-----f2d3b40738e--------------------------------)
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: towardsdatascience.com](/unlock-the-power-of-causal-inference-a-data-scientists-guide-to-understanding-backdoor-686d2826efa4?source=post_page-----f2d3b40738e--------------------------------)
- en: Controlling
  id: totrans-67
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 控制
- en: Controlling is a statistical technique that refers to holding the value of a
    variable constant that might otherwise adversely affect the outcome of a trial.
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: 控制是一种统计技术，指的是保持一个变量的值不变，以免它对试验结果产生不利影响。
- en: For example, in a trial that is investigating the effect of Vitamin D on alertness
    the designers of the trial might decide to give all participants specific instructions
    about their diet, when they eat, caffeine intake, screen time, exercise and alcohol
    intake in an attempt to isolate the true effect.
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: 例如，在一个研究维生素D对警觉性影响的试验中，试验设计者可能会决定给所有参与者提供关于饮食、进食时间、咖啡因摄入、屏幕时间、运动和酒精摄入的具体指示，以试图隔离真实效果。
- en: There seems to be some healthy disagreement in the literature at this point.
    Statisticians often seem to control for everything they can, even in a Randomized
    Control Trial.
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: 目前文献中似乎存在一些健康的分歧。统计学家通常似乎会控制他们能控制的所有因素，即使在随机对照试验中也是如此。
- en: Proponents of causal inference in general and Judea Pearl in particular seem
    to advocate only controlling (or conditioning) on those variables that are specifically
    confounding the effect of the treatment on the outcome.
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: 因果推断的支持者，尤其是Judea Pearl，似乎主张只控制（或条件化）那些具体干扰治疗效果对结果影响的变量。
- en: I do share Pearl’s view that controlling for everything in a trial may not be
    necessary and may even have unintended negative consequences on the results. My
    reasoning is that in a Randomized Control Trial any external factors like caffeine
    intake etc. should average out within and across the groups because of the random
    selection of the participants and also how do we know for sure that the participants
    followed the instructions?
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: 我确实同意Pearl的观点，即在实验中控制所有因素可能并非必要，甚至可能对结果产生意想不到的负面影响。我的理由是，在随机对照试验中，诸如咖啡因摄入等外部因素由于参与者的随机选择而在各组内外会趋于平均化，我们又怎么能确定参与者确实遵循了指示呢？
- en: Also, the theory of Causal Inference does make a strong case for identifying
    an optimum set of variables to condition on and to limit the adjustments accordingly
    (more on this later).
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: 此外，因果推断理论确实强烈主张识别一个最佳变量集进行条件设置，并相应地限制调整（更多内容稍后讨论）。
- en: Covariates
  id: totrans-74
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 协变量
- en: One definition of covariates are **variables that affect a response variable
    but are not of interest in a study.** Consider the following DAG …
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
  zh: 协变量的一个定义是**影响响应变量但在研究中不感兴趣的变量**。请考虑以下DAG……
- en: '![](../Images/7be391f8e79872c450a2bfe4006639b9.png)'
  id: totrans-76
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/7be391f8e79872c450a2bfe4006639b9.png)'
- en: Image by Author
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
  zh: 图片由作者提供
- en: H represents the hours of studying and is the treatment and E represents the
    exam score (the outcome) which are the only variables of interest.
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: H代表学习时间，是处理因素，E代表考试成绩（结果），这是唯一感兴趣的变量。
- en: However, a domain expert points out that prior student ability also affects
    the exam score and although it is of not interest to the study they introduce
    it to the model.
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
  zh: 然而，一位领域专家指出，先前的学生能力也会影响考试成绩，尽管它与研究无关，他们还是将其引入模型中。
- en: In this case G satisfies the definition of a covariate.
  id: totrans-80
  prefs: []
  type: TYPE_NORMAL
  zh: 在这种情况下，G 满足协变量的定义。
- en: My personal observation is that covariates appear to be a concept used in statistical
    and observational analyses, and hence favoured by statisticians and that proponents
    of causal inference may be inclined to say that unless G is a confounder of H
    and E it does not need to be introduced into the model.
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: 我个人观察到，协变量似乎是一个在统计和观察分析中使用的概念，因此受到统计学家的青睐，而因果推断的支持者可能倾向于认为，除非 G 是 H 和 E 的混杂因素，否则不需要将其引入模型中。
- en: Note that I have included an explanation of **covariates** for completeness
    as they are often mentioned in the literature and it is important to be able to
    understand the points being made whilst appreciating the difference between covariate
    and confounders.
  id: totrans-82
  prefs: []
  type: TYPE_NORMAL
  zh: 请注意，我包含了**协变量**的解释以求完整，因为在文献中经常提到协变量，并且理解协变量与混杂因素之间的区别是很重要的。
- en: Recap
  id: totrans-83
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 回顾
- en: At this point we have defined causal inference, explored the purpose of DAGs
    and explained confounders, RCTs, stratification, conditioning and controlling.
  id: totrans-84
  prefs: []
  type: TYPE_NORMAL
  zh: 到目前为止，我们已经定义了因果推断，探索了DAG的目的，并解释了混杂因素、RCTs、分层、条件和控制。
- en: RCTs, stratification and controlling are all statistical technqiues related
    to real-world trials.
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: RCTs、分层和控制都是与实际试验相关的统计技术。
- en: Conditioning is a causal inference technique that can be applied to historical,
    obervational data to draw conclusions about the affect of a treatment on an outcome
    even where the participants of the original survey were not selected at random.
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
  zh: 条件化是一种因果推断技术，可以应用于历史性观察数据，以得出关于治疗对结果的影响的结论，即使原始调查的参与者并非随机选择。
- en: This instantly opens up a world of opportunity because there are lots of historical,
    observational datasets that can now be explored for cause-and-effect and this
    is just one of the many benefits of causal inference and directed acyclic graphs.
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
  zh: 这立即打开了机会之门，因为现在有很多历史性的观察数据集可以用来探索因果关系，这只是因果推断和有向无环图众多好处之一。
- en: Armed with this understanding and terminology we are now ready to explore and
    the more complex aspects of DAGs which are often not explained clearly in the
    available books and online articles …
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: 掌握了这些理解和术语后，我们现在准备探索 DAGs 的更复杂方面，这些方面在现有的书籍和在线文章中通常没有明确解释……
- en: Paths
  id: totrans-89
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 路径
- en: Paths are a difficult subject to master because the concepts and techniques
    are all inter-related making the order of learning difficult. In the sections
    below I present paths at a high level, then delve into the patterns of forks,
    chains and colliders.
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: 路径是一个难以掌握的主题，因为这些概念和技术相互关联，使得学习的顺序变得困难。在下面的部分中，我将从高层次介绍路径，然后深入探讨分叉、链条和碰撞体的模式。
- en: This leads into conditioning, blocking and unblocking which only make sense
    when the topic of paths is completed by learning about how to condition an entire
    DAG to remove the effect of confounding and draw casual conclusions.
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
  zh: 这引出了条件、阻断和解阻的讨论，只有在学习如何对整个DAG进行条件设置以消除混杂效应并得出因果结论之后，这些概念才有意义。
- en: Let’s start by considering the following Directed Acyclic Graph …
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们从考虑以下有向无环图（DAG）开始……
- en: '![](../Images/b1a87a0bf11f44ae096a01c9e68a7c2c.png)'
  id: totrans-93
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/b1a87a0bf11f44ae096a01c9e68a7c2c.png)'
- en: Image by Author
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: 图片由作者提供
- en: This is more complicated that the drug, gender, recovery example but quite staright-forward
    once the key concept of **paths** has been unpacked. I have not managed to find
    a definitive definition of “path” in the literature, so here is my definition
    …
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
  zh: 这比药物、性别、恢复的例子要复杂，但一旦关键概念**路径**被解读出来，就会变得相当简单。我在文献中未能找到“路径”的明确定义，所以这是我的定义……
- en: '**A path is a sequence of causal links connecting the treatment and the outcome
    in a causal diagram.**'
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
  zh: '**路径是一系列因果链路，在因果图中连接了处理和结果。**'
- en: In the above DAG therefore, a single path is 𝑋←𝑍1→𝑍3→𝑌.
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，在上述DAG中，一条单独的路径是 𝑋←𝑍1→𝑍3→𝑌。
- en: Initially this is unintuitive because we are used to thinking of natural paths
    flowing directionally from left to right like 𝐴→𝐵→𝐶 but I would ask you to suspend
    that intuitive view. In causal diagrams the direction of the arrows does not matter,
    any set of edges from X to Y constitutes a path.
  id: totrans-98
  prefs: []
  type: TYPE_NORMAL
  zh: 起初这可能不直观，因为我们习惯于将自然路径从左到右流动地思考，比如 𝐴→𝐵→𝐶，但我希望你能暂时抛开这种直观的看法。在因果图中，箭头的方向并不重要，任何从
    X 到 Y 的边的集合都构成了一条路径。
- en: Once that point is fully understood the difference between DAGs and the flattened
    form like 𝐷←𝐺→𝑅 becomes clear.
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦完全理解了这一点，DAG与扁平形式如 𝐷←𝐺→𝑅 的区别就会变得清晰。
- en: A Directed Acyclic Graph is a visualisation of a set of causal relationships
    that contains a number of paths. Whenever the available literature examines the
    flattened form, it is looking at a single path that must exist with others to
    describe all the causal relationships.
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
  zh: 有向无环图是描述一组因果关系的可视化，它包含多个路径。每当现有文献检查扁平形式时，它是在查看必须与其他路径一起存在以描述所有因果关系的单一路径。
- en: To illustrate this explanation here is a list of all the “flattened” paths that
    exist within the example DAG …
  id: totrans-101
  prefs: []
  type: TYPE_NORMAL
  zh: 为了说明这个解释，以下是示例DAG中所有“扁平化”路径的列表……
- en: 1) 𝑋←𝑍1→𝑍3→𝑌
  id: totrans-102
  prefs: []
  type: TYPE_NORMAL
  zh: 1) 𝑋←𝑍1→𝑍3→𝑌
- en: 2) 𝑋←𝑍1→𝑍3←𝑍2→𝑌
  id: totrans-103
  prefs: []
  type: TYPE_NORMAL
  zh: 2) 𝑋←𝑍1→𝑍3←𝑍2→𝑌
- en: 3) 𝑋←𝑍3→𝑌
  id: totrans-104
  prefs: []
  type: TYPE_NORMAL
  zh: 3) 𝑋←𝑍3→𝑌
- en: 4) 𝑋←𝑍3←𝑍2→𝑌
  id: totrans-105
  prefs: []
  type: TYPE_NORMAL
  zh: 4) 𝑋←𝑍3←𝑍2→𝑌
- en: 5) 𝑋→𝑊←𝑌
  id: totrans-106
  prefs: []
  type: TYPE_NORMAL
  zh: 5) 𝑋→𝑊←𝑌
- en: An alternative visualisation to the flat view is to highlight every path on
    a separate copy of the DAG as in the following example …
  id: totrans-107
  prefs: []
  type: TYPE_NORMAL
  zh: 相对于扁平视图的另一种可视化方法是突出显示DAG中每条路径的单独副本，如下例所示……
- en: '![](../Images/6e64324e03c54758475cadad64d45f6d.png)'
  id: totrans-108
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/6e64324e03c54758475cadad64d45f6d.png)'
- en: Image by Author
  id: totrans-109
  prefs: []
  type: TYPE_NORMAL
  zh: 图片由作者提供
- en: Once these key points have been unpacked, paths are not very difficult to understand.
    I have often wondered if the authors of the available books and articles are so
    expert in their subjects that they overlook how it feels to be building an understanding
    from a beginners perspective.
  id: totrans-110
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦这些关键点被解读，路径就不难理解。我常常想，现有书籍和文章的作者是否在他们的领域如此专家，以至于忽略了从初学者角度建立理解的感觉。
- en: Visualising DAGs and paths like this certainly helped me to build an understanding
    that is critical to moving onto the next stage …
  id: totrans-111
  prefs: []
  type: TYPE_NORMAL
  zh: 这样可视化DAG和路径确实帮助我建立了对下一阶段至关重要的理解……
- en: Junctions, Forks, Chains and Colliders
  id: totrans-112
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 交汇点、分叉、链条和碰撞器
- en: Within any “flattened” path there will be a series of nodes representing the
    variables of interest with an arrow or edge connecting each one to the next that
    is unidirectional and that can point in either direction, for example 𝐴→𝐵→𝐶.
  id: totrans-113
  prefs: []
  type: TYPE_NORMAL
  zh: 在任何“扁平化”的路径中，将会有一系列表示感兴趣变量的节点，每个节点通过单向箭头或边连接到下一个节点，例如 𝐴→𝐵→𝐶。
- en: Any node that has two arrows must be in the middle of a path rather than at
    either end and this is referred to as a **junction**.
  id: totrans-114
  prefs: []
  type: TYPE_NORMAL
  zh: 任何有两个箭头的节点必须位于路径的中间而不是两端，这称为**交汇点**。
- en: A junction can only be one of three patterns — a fork, a chain or a collider
    which are all explored and explained in the sections below.
  id: totrans-115
  prefs: []
  type: TYPE_NORMAL
  zh: 交汇点只能是三种模式之一——分叉、链条或碰撞器，这些将在下面的部分中探讨和解释。
- en: Forks
  id: totrans-116
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 分叉
- en: Forks are a familiar as the relationship between drug (D), recovery (R) and
    gender (G) follows to this pattern. Here is an example visualised in a DAG and
    as a flattened path …
  id: totrans-117
  prefs: []
  type: TYPE_NORMAL
  zh: 分叉是熟悉的，因为药物（D）、康复（R）和性别（G）之间的关系遵循这一模式。以下是一个在DAG中可视化的示例以及一个扁平路径的示例……
- en: '![](../Images/acf4bb2ddbad694c0c778d4a3262aa6f.png)'
  id: totrans-118
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/acf4bb2ddbad694c0c778d4a3262aa6f.png)'
- en: Image by Author
  id: totrans-119
  prefs: []
  type: TYPE_NORMAL
  zh: 图片由作者提供
- en: 1) 𝑆←𝐴→𝑅
  id: totrans-120
  prefs: []
  type: TYPE_NORMAL
  zh: 1) 𝑆←𝐴→𝑅
- en: This example represents the causal relationships between childrens’ ages (A),
    shoe-size (S) and reading ability (R). It is called a “fork” because the path
    forks off in two different directions from the intermediate variable A.
  id: totrans-121
  prefs: []
  type: TYPE_NORMAL
  zh: 这个示例表示了儿童年龄（A）、鞋码（S）和阅读能力（R）之间的因果关系。它被称为“分叉”，因为路径从中间变量A处分叉成两个不同的方向。
- en: The rules of causal inference consider the path from S to R through A to be
    **open** i.e. that information about S can make its way over to R through the
    confounder A unless we “condition” on A in which case the path is **blocked**.
  id: totrans-122
  prefs: []
  type: TYPE_NORMAL
  zh: 因果推断的规则认为S到R通过A的路径是**开放的**，即关于S的信息可以通过混杂因子A传递到R，除非我们在A上“条件化”，否则路径是**封闭的**。
- en: This rule confused me for a long time, but it is easily explained by looking
    at a practical example with some data.
  id: totrans-123
  prefs: []
  type: TYPE_NORMAL
  zh: 这个规则让我困惑了很长时间，但通过查看一个实际的例子和一些数据，这个问题很容易解释。
- en: The synthetic dataset below contains 1000 data points for S, A and R …
  id: totrans-124
  prefs: []
  type: TYPE_NORMAL
  zh: 以下合成数据集包含了1000个S、A和R的数据点……
- en: '![](../Images/85c1c29ceba9acc4755d7d281a66000b.png)'
  id: totrans-125
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/85c1c29ceba9acc4755d7d281a66000b.png)'
- en: Image by Author
  id: totrans-126
  prefs: []
  type: TYPE_NORMAL
  zh: 图片由作者提供
- en: The synthetic dataset reflects the causality described in the DAG so we would
    expect a correlation between age and shoe size and also between age and reading
    ability. Here are two scatter plots that visualise these associations …
  id: totrans-127
  prefs: []
  type: TYPE_NORMAL
  zh: 合成数据集反映了DAG中描述的因果关系，因此我们可以预期年龄与鞋码之间以及年龄与阅读能力之间的相关性。以下是两个可视化这些关联的散点图……
- en: '![](../Images/8fdc8fc018b4b9d56dbfb4eab731ca42.png)'
  id: totrans-128
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/8fdc8fc018b4b9d56dbfb4eab731ca42.png)'
- en: Image by Author
  id: totrans-129
  prefs: []
  type: TYPE_NORMAL
  zh: 图片由作者提供
- en: Sure enough they are closely correlated with strong r scores. But what happens
    when we look at the correlation between shoe size and reading ability? There is
    no causal link but we will still see a correlation because age is having a **confounding**
    effect on both variables.
  id: totrans-130
  prefs: []
  type: TYPE_NORMAL
  zh: 确实，它们的相关性很强，r值很高。但当我们查看鞋码与阅读能力之间的相关性时，会发生什么呢？虽然没有因果关系，但我们仍会看到相关性，因为年龄对这两个变量产生了**混淆**效应。
- en: This apparently enables reading ability to be predicted from age and in a traditional
    predictive machine learning algorithm this could work, but there is no causal
    link because buying larger shoes will not make anyone more intelligent or vice
    versa.
  id: totrans-131
  prefs: []
  type: TYPE_NORMAL
  zh: 这显然使得可以从年龄预测阅读能力，在传统的预测机器学习算法中这可能有效，但没有因果关系，因为买大号鞋子不会让任何人更聪明，反之亦然。
- en: The next step is to understand what happens when we **condition** on age. Conditioning
    (and controlling) effectively holds or freezes the variable we are conditioning
    on to a single value or a narrow range or strata for a continuous variable. The
    difference is that conditioning achieves the affect through a mathematical formula
    and controlling isolates a group of interest in a real-world trial.
  id: totrans-132
  prefs: []
  type: TYPE_NORMAL
  zh: 下一步是理解在年龄上**加条件**会发生什么。加条件（和控制）实际上是将我们加条件的变量保持或冻结在一个单一值或狭窄范围或层次上。不同之处在于，加条件通过数学公式实现效果，而控制是在实际试验中隔离一个感兴趣的组。
- en: Therefore, the association between shoe size and age can be examined either
    unconditioned by considering all values of age or conditioned by selecting a single
    value for age which can easily be visualised as follows …
  id: totrans-133
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，鞋码与年龄之间的关联可以通过考虑所有年龄段的值来进行无条件检查，或者通过选择一个单一年龄值来进行加条件检查，这可以很容易地可视化如下……
- en: '![](../Images/e2f6f366f8ad29e5084f86030ec39115.png)'
  id: totrans-134
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/e2f6f366f8ad29e5084f86030ec39115.png)'
- en: Image by Author
  id: totrans-135
  prefs: []
  type: TYPE_NORMAL
  zh: 图片来源：作者
- en: The first plot is unconditioned (i.e. it shows all ages) and we can see that
    there is a strong correlation between S and R.
  id: totrans-136
  prefs: []
  type: TYPE_NORMAL
  zh: 第一张图没有条件限制（即显示所有年龄段），我们可以看到S和R之间有很强的相关性。
- en: The second chart age is conditioned by fixing to just the 8 year-olds. There
    is a clear difference in that there is no correlation between shoe size and reading
    ability for a single age and the regression line is flat with a low r value.
  id: totrans-137
  prefs: []
  type: TYPE_NORMAL
  zh: 第二张图的年龄条件限制在8岁儿童上。显然，在单一年龄段内，鞋码与阅读能力之间没有相关性，回归线平坦，r值很低。
- en: In the unconditioned chart it is possible to use the regression line to pick
    a shoe size and read across to predict a reading ability and this is what the
    term **unblocked** is referring to.
  id: totrans-138
  prefs: []
  type: TYPE_NORMAL
  zh: 在未加条件的图表中，可以使用回归线选择一个鞋码并读取来预测阅读能力，这就是**未阻塞**一词所指的。
- en: In the conditioned chart it is not possible to use the regression line to make
    a prediction because the line is horizontal and this is what the term **blocked**
    is referring to.
  id: totrans-139
  prefs: []
  type: TYPE_NORMAL
  zh: 在加条件的图表中，无法使用回归线进行预测，因为该线是水平的，这就是**阻塞**一词所指的。
- en: '**Conditioning on the intermediate node in a fork blocks the path whilst not
    conditioning on it leaves it unblocked and open.**'
  id: totrans-140
  prefs: []
  type: TYPE_NORMAL
  zh: '**在分叉的中间节点上加条件会阻塞路径，而不加条件则保持路径开放。**'
- en: An additional feature has been added to the charts to help understand this effect.
    In the unconditioned chart the individual ages have been colour coded so they
    can be picked out and the regression lines for each age added in light grey.
  id: totrans-141
  prefs: []
  type: TYPE_NORMAL
  zh: 在图表中添加了一个附加特性来帮助理解这种效应。在未加条件的图表中，单独的年龄已被着色，以便可以区分，并且每个年龄的回归线以浅灰色添加。
- en: Considering these visual features, it is immediately obvious that for any individual
    age the regression line is flat and the correlation low but when all the ages
    are considered together the combined correlation is high.
  id: totrans-142
  prefs: []
  type: TYPE_NORMAL
  zh: 考虑到这些视觉特征，立即显而易见，对于任何单一年龄段，回归线是平坦的，相关性较低，但当考虑所有年龄段时，综合相关性较高。
- en: This phenomenon is called **Simpson’s Paradox** which is another term used in
    the literature which is difficult to explain in words but easy to understand in
    pictures.
  id: totrans-143
  prefs: []
  type: TYPE_NORMAL
  zh: 这种现象被称为**辛普森悖论**，这是文献中使用的另一个术语，难以用语言解释，但用图示理解很容易。
- en: Chains
  id: totrans-144
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 链
- en: Chains are the simplest pattern between two nodes through an intermediary. The
    first variable has a causal affect on the intermediary which has a causal affect
    on the final variable.
  id: totrans-145
  prefs: []
  type: TYPE_NORMAL
  zh: 链是两个节点之间通过中介的最简单模式。第一个变量对中介有因果影响，中介对最终变量有因果影响。
- en: Please note that the middle node in a junction is referred to as an **intermediate**
    node but the middle node in a chain can also be referred to as an **intermediary**
    because it mediates changes between the source (first) and target (third) node.
  id: totrans-146
  prefs: []
  type: TYPE_NORMAL
  zh: 请注意，交汇点中的中间节点被称为**中介**节点，但链中的中间节点也可以称为**中介**节点，因为它调解了源节点（第一个）和目标节点（第三个）之间的变化。
- en: Here is an example of a **chain** where D represents taking a drug, B the patient
    blood pressure and R the patient recovery. The causal arrows are representing
    that the drug causes blood pressure to change which in turn causes recovery …
  id: totrans-147
  prefs: []
  type: TYPE_NORMAL
  zh: 这是一个**链**的示例，其中D代表药物使用，B代表患者血压，R代表患者恢复。因果箭头表示药物导致血压变化，而血压变化又导致恢复……
- en: '![](../Images/41592b2a14482946588d567354829b36.png)'
  id: totrans-148
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/41592b2a14482946588d567354829b36.png)'
- en: Image by Author
  id: totrans-149
  prefs: []
  type: TYPE_NORMAL
  zh: 图片由作者提供
- en: 1) 𝐷→𝐵→𝑅
  id: totrans-150
  prefs: []
  type: TYPE_NORMAL
  zh: 1) 𝐷→𝐵→𝑅
- en: Conditioning on a chain has exactly the same effect as conditioning on a fork
    i.e., conditioning will block the path and leaving it unconditioned will unblock
    it.
  id: totrans-151
  prefs: []
  type: TYPE_NORMAL
  zh: 对链进行条件限制的效果与对分叉进行条件限制完全相同，即条件限制会阻断路径，而不进行条件限制则会使路径畅通。
- en: It is much easier to understand this counter-intuitive statement by visualising
    an example so let’s start with a synthetic data set representing the causal relationships
    in the DAG …
  id: totrans-152
  prefs: []
  type: TYPE_NORMAL
  zh: 通过可视化示例来理解这一违反直觉的说法要容易得多，因此让我们从一个合成数据集开始，表示DAG中的因果关系……
- en: '![](../Images/d721b4b4834c05030a98f2604bffbfb3.png)'
  id: totrans-153
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/d721b4b4834c05030a98f2604bffbfb3.png)'
- en: Image by Author
  id: totrans-154
  prefs: []
  type: TYPE_NORMAL
  zh: 图片由作者提供
- en: If we look at a scatter plots for drug vs. blood pressure and blood pressure
    vs. recovery, we would expect to see a correlation …
  id: totrans-155
  prefs: []
  type: TYPE_NORMAL
  zh: 如果我们查看药物与血压以及血压与恢复之间的散点图，我们会期待看到一种相关性……
- en: '![](../Images/db9e46e1abde19782c3dde56d09ed2e7.png)'
  id: totrans-156
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/db9e46e1abde19782c3dde56d09ed2e7.png)'
- en: Image by Author
  id: totrans-157
  prefs: []
  type: TYPE_NORMAL
  zh: 图片由作者提供
- en: The first scatter plot shows that the more of the drug that is taken, the lower
    the blood pressure and the second shows that the lower the blood pressure is the
    higher the recovery rate, so the synthetic data is accurately representing the
    causal relationships in the DAG.
  id: totrans-158
  prefs: []
  type: TYPE_NORMAL
  zh: 第一个散点图显示，药物使用量越多，血压越低；第二个图则显示血压越低，恢复率越高，因此合成数据准确地表示了DAG中的因果关系。
- en: Now let’s take a look at the affect of conditioning the on the intermediate
    variable (blood pressure) …
  id: totrans-159
  prefs: []
  type: TYPE_NORMAL
  zh: 现在让我们来看一下对中间变量（血压）进行条件限制的影响……
- en: '![](../Images/0c93b8e218736007b31c322df1271338.png)'
  id: totrans-160
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/0c93b8e218736007b31c322df1271338.png)'
- en: Image by Author
  id: totrans-161
  prefs: []
  type: TYPE_NORMAL
  zh: 图片由作者提供
- en: With no conditioning there is a strong correlation between D and R and when
    we condition on a single value of B (or a narrow strata in the case of a continuous
    variable) there is low correlation.
  id: totrans-162
  prefs: []
  type: TYPE_NORMAL
  zh: 在没有条件限制的情况下，D与R之间有很强的相关性，而当我们对B的单一值（或在连续变量的情况下，对一个狭窄的层次）进行条件限制时，相关性较低。
- en: The scatter plots demonstrate that leaving the intermediary in a chain unconditioned
    leaves the path unblocked whilst conditioning on it will block the path.
  id: totrans-163
  prefs: []
  type: TYPE_NORMAL
  zh: 散点图显示，若在链中的中间节点不进行条件限制，则路径不会被阻断，而对其进行条件限制则会阻断路径。
- en: If this is still feeling a little counter intuitive consider that conditioning
    on a particular blood pressure (say 6.5) means that B is fixed and cannot change.
    That means that D and R are not going to change by very much and that any changes
    in D and R are caused by the error term in the data rather than any causal effect.
  id: totrans-164
  prefs: []
  type: TYPE_NORMAL
  zh: 如果这仍然有些违反直觉，可以考虑一下对特定血压值（例如6.5）进行条件限制的情况，这意味着B被固定且不能改变。这就意味着D和R的变化不会很大，D和R的任何变化都是由于数据中的误差项而非任何因果效应。
- en: The final way to dispel the counter-intuition is to look at the colour of the
    points in the unconditioned scatter plot. Each colour represents a fixed value
    of B (blood pressure) and just as in the fork example it is easy to see that the
    regression line for a single colour would be flat but when all data points are
    considered as a whole there is a strong correlation.
  id: totrans-165
  prefs: []
  type: TYPE_NORMAL
  zh: 解决违反直觉的最终方法是查看未进行条件限制的散点图中点的颜色。每种颜色代表B（血压）的固定值，就像在分叉例子中一样，很容易看到单一颜色的回归线是平的，但当所有数据点作为一个整体来看时，有很强的相关性。
- en: '**Conditioning on the intermediate node in a chain blocks and closes the path
    and not conditioning on it leaves it unblocked and open.**'
  id: totrans-166
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '**对链中的中间节点进行条件限制会阻断并关闭路径，而不对其进行条件限制则使路径保持畅通。**'
- en: A final point of interest is that the pattern in the data is identical for forks
    and chains which re-enforces the view that cause-and-effect cannot be established
    from the data alone. Rather a DAG is required to supplement the data in order
    to reveal causality supporting the view of the advocates of causality over that
    of the pure statisticians.
  id: totrans-167
  prefs: []
  type: TYPE_NORMAL
  zh: 一个值得关注的最后一点是，数据中的模式对于分叉和链条是相同的，这加强了因果关系不能仅仅通过数据确定的观点。实际上，需要一个DAG来补充数据，以揭示因果关系，这支持了因果关系倡导者的观点，而非纯粹统计学家的观点。
- en: Colliders
  id: totrans-168
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 碰撞器
- en: This third and final pattern is a collider which turns out to have some fascinating
    differences to forks and chains …
  id: totrans-169
  prefs: []
  type: TYPE_NORMAL
  zh: 这个第三种也是最终的模式是碰撞器，它与分叉和链条有一些有趣的不同 …
- en: '![](../Images/dd390e35618dd4aac74551ba60876e75.png)'
  id: totrans-170
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/dd390e35618dd4aac74551ba60876e75.png)'
- en: Image by Author
  id: totrans-171
  prefs: []
  type: TYPE_NORMAL
  zh: 作者提供的图像
- en: 1) 𝑆→𝐵←𝐴
  id: totrans-172
  prefs: []
  type: TYPE_NORMAL
  zh: 1) 𝑆→𝐵←𝐴
- en: This DAG represents the following causal relationships in a hypothetical college
    that specialises in sport -
  id: totrans-173
  prefs: []
  type: TYPE_NORMAL
  zh: 这个DAG表示了一个假设中的专注于体育的学院中的因果关系 -
- en: Sporting ability (S) causes the award of student bursaries (B).
  id: totrans-174
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 体育能力（S）导致学生奖学金的授予（B）。
- en: Academic ability (A) also causes the award of student bursaries (B).
  id: totrans-175
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 学术能力（A）也导致学生奖学金的授予（B）。
- en: As with the other patterns we will start with a set of data to visualise and
    understand what goes on inside a path that contains a collider …
  id: totrans-176
  prefs: []
  type: TYPE_NORMAL
  zh: 与其他模式一样，我们将从一组数据开始，以可视化和理解包含碰撞器的路径内部发生的情况 …
- en: '![](../Images/318d07b7bec4aa4b0121f619fe3bb23d.png)'
  id: totrans-177
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/318d07b7bec4aa4b0121f619fe3bb23d.png)'
- en: Image by Author
  id: totrans-178
  prefs: []
  type: TYPE_NORMAL
  zh: 作者提供的图像
- en: The scatter plots for sports ability vs. bursary and academic ability vs. bursary
    are as follows …
  id: totrans-179
  prefs: []
  type: TYPE_NORMAL
  zh: 体育能力与奖学金、学术能力与奖学金的散点图如下 …
- en: '![](../Images/82e2b2200112b922894f32588eb399ba.png)'
  id: totrans-180
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/82e2b2200112b922894f32588eb399ba.png)'
- en: Image by Author
  id: totrans-181
  prefs: []
  type: TYPE_NORMAL
  zh: 作者提供的图像
- en: Both types of ability are fairly strongly correlated with the score given by
    the college leading to the award of a bursary. Now let’s visualise the affect
    of leaving the intermediate variable (bursary) unconditioned or fixing and conditioning
    on it …
  id: totrans-182
  prefs: []
  type: TYPE_NORMAL
  zh: 两种能力与学院给予奖学金的得分之间有相当强的相关性。现在让我们可视化留下注间变量（奖学金）不条件化或固定并条件化的影响 …
- en: '![](../Images/53e4dd74f4a66745a99afbfe6efd9a3c.png)'
  id: totrans-183
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/53e4dd74f4a66745a99afbfe6efd9a3c.png)'
- en: Image by Author
  id: totrans-184
  prefs: []
  type: TYPE_NORMAL
  zh: 作者提供的图像
- en: The big surprise is that leaving a collider unconditioned means that the path
    is **blocked** as can be demonstrated by considering the low correlation of sports
    ability vs. academic ability.
  id: totrans-185
  prefs: []
  type: TYPE_NORMAL
  zh: 最大的惊讶是，留下一个碰撞器不进行条件化意味着路径是**阻塞的**，这可以通过考虑体育能力与学术能力之间的低相关性来证明。
- en: In the real world this is unsurprising. People with a high degree of sporting
    ability are unusual and people with high academic ability are also unusual whilst
    people with exception ability in both fields are very rare and that is why the
    correlation is flat.
  id: totrans-186
  prefs: []
  type: TYPE_NORMAL
  zh: 在现实世界中，这并不令人惊讶。拥有高水平体育能力的人是不寻常的，而具有高学术能力的人也不常见，而在这两个领域都具有卓越能力的人非常稀有，这就是为什么相关性是平坦的。
- en: However, if we condition on bursary by fixing on a particular bursary score
    we actually unblock a path that was naturally blocked and that is also easily
    explained. If we are looking at a particular bursary score and the person has
    a low sports ability they are highly likely to have a high academic ability and
    vice versa.
  id: totrans-187
  prefs: []
  type: TYPE_NORMAL
  zh: 然而，如果我们通过固定一个特定的奖学金得分来进行条件化，我们实际上解开了一个自然被阻塞的路径，这也是容易解释的。如果我们查看一个特定的奖学金得分，而这个人的体育能力较低，他们很可能具有较高的学术能力，反之亦然。
- en: '**Conditioning on the intermediate node in a collider unblocks and opens the
    path and not conditioning on it leaves it blocked and closed.**'
  id: totrans-188
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '**在碰撞器中的中间节点条件化会解开并打开路径，而不进行条件化则会使路径被阻塞和关闭。**'
- en: Recap
  id: totrans-189
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 回顾
- en: To recap, a DAG will have multiple paths connecting the treatment node to the
    outcome and each path can be visualised by highlighting copies of the DAG or showing
    in the “flattened” form 𝐴→𝐵→𝐶.
  id: totrans-190
  prefs: []
  type: TYPE_NORMAL
  zh: 回顾一下，DAG将有多个路径连接处理节点和结果，每个路径可以通过突出显示DAG的副本或以“扁平化”形式 𝐴→𝐵→𝐶 来可视化。
- en: Within a path if we exclude the treatment and outcome nodes each node that is
    left will have two arrows with a node connected to each and this pattern of 3
    nodes and two directional arrows is called a junction.
  id: totrans-191
  prefs: []
  type: TYPE_NORMAL
  zh: 在路径中，如果我们排除处理和结果节点，每个剩下的节点将有两个箭头，每个箭头连接到一个节点，这种3个节点和两个方向箭头的模式称为交点。
- en: Each junction can be connected using one of only 3 patterns — a fork, chain
    or collider and it is important to know the effect of conditioning each (or leaving
    them unconditioned).
  id: totrans-192
  prefs: []
  type: TYPE_NORMAL
  zh: 每个交点可以用仅有的3种模式之一连接——分叉、链条或碰撞器，了解每种模式的条件化效果（或不条件化）是很重要的。
- en: Visualising the effect of conditioning on each pattern is a complex topic but
    essentially there are just 3 rules to remember -
  id: totrans-193
  prefs: []
  type: TYPE_NORMAL
  zh: 直观地了解对每种模式进行条件化的效果是一个复杂的话题，但本质上只需要记住3条规则——
- en: Conditioning on the intermediate node in a fork blocks the path whilst not conditioning
    on it leaves it unblocked and open.
  id: totrans-194
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在分叉处对中间节点进行条件化会阻断路径，而不对其进行条件化则会使路径保持畅通。
- en: Conditioning on the intermediate node in a chain blocks and closes the path
    and not conditioning on it leaves it unblocked and open.
  id: totrans-195
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在链中的中间节点进行条件化会阻断并关闭路径，而不对其进行条件化则会使路径保持畅通。
- en: Conditioning on the intermediate node in a collider unblocks and opens the path
    and not conditioning on it leaves it blocked and closed.
  id: totrans-196
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在碰撞器中对中间节点进行条件化会解除阻断并打开路径，而不对其进行条件化则会使路径保持阻断状态。
- en: These are all the building blocks needed to move on to understanding how to
    condition and adjust complex DAGs and why that is important, but before moving
    onto that there is one more topic to explore …
  id: totrans-197
  prefs: []
  type: TYPE_NORMAL
  zh: 这些都是理解如何对复杂的DAG进行调整和条件化所需的基础知识，并了解其重要性，但在继续之前，还有一个话题需要探讨…
- en: Blocking and Unblocking Complex Paths
  id: totrans-198
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 阻断和解除复杂路径的阻断
- en: Consider the following path …
  id: totrans-199
  prefs: []
  type: TYPE_NORMAL
  zh: 考虑以下路径…
- en: 𝑋←𝑍1←𝑍3←𝑍2→𝑌
  id: totrans-200
  prefs: []
  type: TYPE_NORMAL
  zh: 𝑋←𝑍1←𝑍3←𝑍2→𝑌
- en: X is the treatment and Y is the outcome. Of the other nodes Z1 and Z3 are chains
    and Z2 is a fork. The question is — “how could we block this path?”
  id: totrans-201
  prefs: []
  type: TYPE_NORMAL
  zh: X是治疗，Y是结果。其他节点中，Z1和Z3是链，而Z2是分叉。问题是——“我们如何阻断这条路径？”
- en: The answer is that in any path, no matter how long or complex it is, if a single
    node is blocked then the whole path is blocked.
  id: totrans-202
  prefs: []
  type: TYPE_NORMAL
  zh: 答案是，在任何路径中，无论它多长或多复杂，只要一个节点被阻断，那么整条路径就会被阻断。
- en: This means that conditioning on Z2 on its own would block as it is a fork but
    also conditioning on just Z1 or just Z2 would block as well because they are chains.
    In fact, any combination would work — {Z1}, {Z2}, {Z3}, {Z1, Z2}, {Z1, Z3}, {Z2,
    Z3}, {Z1, Z2, Z3}.
  id: totrans-203
  prefs: []
  type: TYPE_NORMAL
  zh: 这意味着，仅对Z2进行条件化会阻断路径，因为它是一个分叉，但仅对Z1或Z2进行条件化也会阻断路径，因为它们是链。实际上，任何组合都有效——{Z1}、{Z2}、{Z3}、{Z1,
    Z2}、{Z1, Z3}、{Z2, Z3}、{Z1, Z2, Z3}。
- en: The optimum adjustment set to block the path is any one of the sets that contains
    a single node i.e., we should do the least amount of conditioning possible to
    block the path.
  id: totrans-204
  prefs: []
  type: TYPE_NORMAL
  zh: 阻断路径的最佳调整集是包含单个节点的任何一个集合，即我们应该尽量少地进行条件化以阻断路径。
- en: So now blocking complex paths has been explained you must be asking the question
    — “Why would I want to bother blocking a path?” The answer will become clear in
    the next section and the full power of Directed Acyclic Graphs will be revealed.
  id: totrans-205
  prefs: []
  type: TYPE_NORMAL
  zh: 现在已经解释了如何阻断复杂路径，你一定会问——“为什么我要费心去阻断一条路径？”答案将在下一节中揭示，并展示有向无环图的全部威力。
- en: Backdoor Adjustment
  id: totrans-206
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 回门调整
- en: We have already explored how a confounder causes the isolated effect of a treatment
    on an outcome to be lost because the effect of the confounder is mixed in with
    that isolated effect.
  id: totrans-207
  prefs: []
  type: TYPE_NORMAL
  zh: 我们已经探讨了混杂变量如何导致治疗对结果的孤立效应丧失，因为混杂变量的效应与该孤立效应混合在一起。
- en: We have also seen that conditioning on a confounder resolves this problem and
    enables the genuine effect of the treatment to be recovered …
  id: totrans-208
  prefs: []
  type: TYPE_NORMAL
  zh: 我们还看到，对混杂变量进行条件化可以解决这个问题，使治疗的真实效应得以恢复…
- en: '![](../Images/dc60522baab605394f19891aa1800d03.png)'
  id: totrans-209
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/dc60522baab605394f19891aa1800d03.png)'
- en: Image by Author
  id: totrans-210
  prefs: []
  type: TYPE_NORMAL
  zh: 由作者提供的图像
- en: 1) 𝑋←𝑍→𝑌
  id: totrans-211
  prefs: []
  type: TYPE_NORMAL
  zh: 1) 𝑋←𝑍→𝑌
- en: In this DAG if we condition on Z it blocks that path which has the desired effect.
    The highlighted path is called a back-door path and the direct path from X to
    Y is called a front-door path.
  id: totrans-212
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个DAG中，如果我们对Z进行条件化，它会阻断该路径，从而达到预期效果。被突出显示的路径称为回门路径，而从X到Y的直接路径称为前门路径。
- en: A commonsense definition of a back-door path is “any path from the treatment
    to the outcome that contains a fork” but I tracked down a more formal definition
    proposed by Judea Pearl …
  id: totrans-213
  prefs: []
  type: TYPE_NORMAL
  zh: 对回门路径的一个常识性定义是“从治疗到结果的任何包含分叉的路径”，但我找到了由Judea Pearl提出的更正式的定义…
- en: '**A back-door path is any path from X to Y that starts with an arrow pointing
    into X.** The Book of Why, Pearl and Mackensie, p158'
  id: totrans-214
  prefs: []
  type: TYPE_NORMAL
  zh: '**回门路径是从X到Y的任何一条路径，只要它以指向X的箭头开始。** 《为什么这本书》，Pearl和Mackensie，第158页'
- en: It also follows that any path that is not a back-door path is a front-door path,
    hence …
  id: totrans-215
  prefs: []
  type: TYPE_NORMAL
  zh: 同样，任何不是回门路径的路径都是前门路径，因此…
- en: '**A front-door path is any path from X to Y that starts with an arrow pointing
    out of X.**'
  id: totrans-216
  prefs: []
  type: TYPE_NORMAL
  zh: '**前门路径是从X到Y的任何一条路径，只要它以指向X的箭头开始。**'
- en: Valid Adjustment Sets
  id: totrans-217
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 有效调整集
- en: A valid adjustment set is any set of nodes which, when conditioned on, remove
    the effect of confounding and isolate the effect of the treatment on the outcome
    and their can be zero, one or more valid adjustment sets in any given DAG.
  id: totrans-218
  prefs: []
  type: TYPE_NORMAL
  zh: 一个有效的调整集是任何一个节点集合，当对这些节点进行条件化时，可以去除混淆效应并隔离处理对结果的影响，在任何给定的有向无环图（DAG）中，这些有效的调整集可以是零个、一个或多个。
- en: Here are a set of rules proposed by Judea Pearl that define valid adjustment
    sets …
  id: totrans-219
  prefs: []
  type: TYPE_NORMAL
  zh: 这里是 Judea Pearl 提出的定义有效调整集的一组规则……
- en: We block all spurious paths between X and Y.
  id: totrans-220
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 我们阻断 X 和 Y 之间的所有虚假路径。
- en: We leave all directed paths from X to Y unperturbed.
  id: totrans-221
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 我们保持从 X 到 Y 的所有有向路径不变。
- en: We create no new spurious paths.
  id: totrans-222
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 我们不创建新的虚假路径。
- en: (Pearl, Glymour and Jewell, “Causal Inference in Statistics”, p61)
  id: totrans-223
  prefs: []
  type: TYPE_NORMAL
  zh: (Pearl, Glymour 和 Jewell，《统计中的因果推断》，第61页)
- en: I consider this definition unsatisfying because the meaning of “spurious” is
    unclear to me and also, I do not like “unperturbed” as my view is that sometimes
    you have to perturb a path to create the desired effect (more on this later).
  id: totrans-224
  prefs: []
  type: TYPE_NORMAL
  zh: 我认为这个定义不令人满意，因为“虚假”的含义对我来说不清楚，并且我也不喜欢“未扰动”，因为我认为有时需要扰动路径以产生期望的效果（稍后会详细说明）。
- en: Given my dissatisfaction with the official definition, here is my own proposal
    …
  id: totrans-225
  prefs: []
  type: TYPE_NORMAL
  zh: 鉴于我对官方定义的不满，这里是我自己的提议……
- en: '**A valid adjustment set is any set of nodes that, when conditioned on, blocks
    and closes all back-door paths between the treatment and outcome and leaves at
    least one front-door path unblocked and open.**'
  id: totrans-226
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '**一个有效的调整集是任何一个节点集合，当对这些节点进行条件化时，可以阻断并关闭处理和结果之间的所有后门路径，同时保留至少一条前门路径未被阻断且开放。**'
- en: A Worked Example
  id: totrans-227
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 一个实例
- en: To test out my definition and to provide a worked example, let’s go back to
    one of the earlier examples of a complex Directed Acyclic Graph …
  id: totrans-228
  prefs: []
  type: TYPE_NORMAL
  zh: 为了测试我的定义并提供一个实例，我们回到之前的一个复杂有向无环图的例子……
- en: '![](../Images/6e64324e03c54758475cadad64d45f6d.png)'
  id: totrans-229
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/6e64324e03c54758475cadad64d45f6d.png)'
- en: Image by Author
  id: totrans-230
  prefs: []
  type: TYPE_NORMAL
  zh: 图片由作者提供
- en: 1) 𝑋←𝑍1→𝑍3→𝑌
  id: totrans-231
  prefs: []
  type: TYPE_NORMAL
  zh: 1) 𝑋←𝑍1→𝑍3→𝑌
- en: 2) 𝑋←𝑍1→𝑍3←𝑍2→𝑌
  id: totrans-232
  prefs: []
  type: TYPE_NORMAL
  zh: 2) 𝑋←𝑍1→𝑍3←𝑍2→𝑌
- en: 3) 𝑋←𝑍3→𝑌
  id: totrans-233
  prefs: []
  type: TYPE_NORMAL
  zh: 3) 𝑋←𝑍3→𝑌
- en: 4) 𝑋←𝑍3←𝑍2→𝑌
  id: totrans-234
  prefs: []
  type: TYPE_NORMAL
  zh: 4) 𝑋←𝑍3←𝑍2→𝑌
- en: 5) 𝑋→𝑊←𝑌
  id: totrans-235
  prefs: []
  type: TYPE_NORMAL
  zh: 5) 𝑋→𝑊←𝑌
- en: Using Pearl’s definition it is easy to see that the first 4 paths are back-door
    paths and the last one is a front-door path just by looking at the direction of
    the arrow pointing into or out of X.
  id: totrans-236
  prefs: []
  type: TYPE_NORMAL
  zh: 使用 Pearl 的定义，很容易看出前四条路径是后门路径，而最后一条路径是前门路径，只需查看指向或离开 X 的箭头方向即可。
- en: In order to find the valid adjustment sets we need to identify **any set of
    nodes that, when conditioned on, blocks and closes all back-door paths between
    the treatment and outcome and leaves at least one front-door path unblocked and
    open.**
  id: totrans-237
  prefs: []
  type: TYPE_NORMAL
  zh: 为了找到有效的调整集，我们需要确定**任何节点集合，当对这些节点进行条件化时，可以阻断并关闭处理和结果之间的所有后门路径，同时保留至少一条前门路径未被阻断且开放。**
- en: Z3 is the obvious node to condition on to start with because it is clearly confounding
    the treatment X and the outcome Y. Conditioning on Z3 blocks and hence de-confounds
    path 3.
  id: totrans-238
  prefs: []
  type: TYPE_NORMAL
  zh: Z3 是一个明显的条件节点，因为它明显混淆了处理 X 和结果 Y。对 Z3 进行条件化可以阻断并且消除路径 3 的混淆。
- en: So far, so good, but this is the part that I did not understand for a long time
    and that the available literature did not explain very well …
  id: totrans-239
  prefs: []
  type: TYPE_NORMAL
  zh: 到目前为止，一切顺利，但这是我长期无法理解的部分，而且现有文献也没有很好地解释这一点……
- en: In path 3, Z3 is a fork but in the M-shaped path 2 Z3 is a collider and we know
    that conditioning on a collider unblocks and opens the path. Therefore, we have
    blocked node Z3 to close and block path 3 but in doing so we have unblocked and
    opened path 2! Conditioning on Z3 has resolved one issue but has created another
    problem.
  id: totrans-240
  prefs: []
  type: TYPE_NORMAL
  zh: 在路径 3 中，Z3 是一个分叉点，但在 M 形的路径 2 中，Z3 是一个碰撞点，我们知道对碰撞点进行条件化会解除阻断并开放路径。因此，我们已经阻断了
    Z3 来关闭并阻断路径 3，但这样做的结果是我们无意中解除阻断并开放了路径 2！对 Z3 进行条件化解决了一个问题，但产生了另一个问题。
- en: However, that problem is easily solved. Conditioning on Z1 in addition to the
    conditioning on Z3 will block path 2\. The logic is as follows -
  id: totrans-241
  prefs: []
  type: TYPE_NORMAL
  zh: 然而，这个问题很容易解决。除了对 Z3 进行条件化外，对 Z1 进行条件化也会阻断路径 2。逻辑如下—
- en: Z3 must remain conditioned to block path 3 but in doing so, opens path 2.
  id: totrans-242
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Z3 必须保持条件化以阻断路径 3，但这样做会打开路径 2。
- en: Z1 can be additionally conditioned which blocks path 2 because Z1 is a fork
    in this path.
  id: totrans-243
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Z1 可以额外进行条件化，这样可以阻断路径 2，因为 Z1 是这条路径中的一个分叉点。
- en: The solution for the whole DAG is nearly there, but not quite …
  id: totrans-244
  prefs: []
  type: TYPE_NORMAL
  zh: 整个 DAG 的解决方案几乎完成，但还差一点……
- en: Certainly, conditioning on Z1 works but we could have conditioned on Z2 instead
    and in fact conditioning on both Z1 and Z2 would work as well so {Z1}, {Z2} and
    {Z1, Z2} are all equally valid adjustment sets.
  id: totrans-245
  prefs: []
  type: TYPE_NORMAL
  zh: 当然，对 Z1 进行条件化是有效的，但我们也可以对 Z2 进行条件化，实际上对 Z1 和 Z2 都进行条件化也有效，因此 {Z1}、{Z2} 和 {Z1,
    Z2} 都是同样有效的调整集。
- en: The final piece of the puzzle is that path 5 is the only front-door path. Our
    earlier definition tells us that we must leave at least one front-door path unblocked
    and open, but W is a collider which, if left unconditioned, will block and close
    path 5.
  id: totrans-246
  prefs: []
  type: TYPE_NORMAL
  zh: 拼图的最后一部分是路径 5 是唯一的正向路径。我们之前的定义告诉我们，必须保留至少一条正向路径不被阻塞，但 W 是一个碰撞器，如果不进行条件化，它将阻塞并关闭路径
    5。
- en: Therefore, we must also condition on W to open the front-door path from X to
    Y. Note that this is why I disagree the use of “unperturbed” because in this example
    path 5 must be perturbed to make sure there is an open front-door path from X
    to Y.
  id: totrans-247
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，我们还必须对 W 进行条件化，以打开 X 到 Y 的正向路径。请注意，这也是我不同意使用“未扰动”一词的原因，因为在这个例子中，路径 5 必须被扰动以确保
    X 到 Y 有一条开放的正向路径。
- en: If the explanation is a bit complicated, it is much easier to visualise. Here
    are all the valid adjustment sets for the DAG …
  id: totrans-248
  prefs: []
  type: TYPE_NORMAL
  zh: 如果解释有些复杂，可视化会更容易。以下是 DAG 的所有有效调整集……
- en: '![](../Images/5e6c44318448922e9c42f73f5d246c25.png)'
  id: totrans-249
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/5e6c44318448922e9c42f73f5d246c25.png)'
- en: Image by Author
  id: totrans-250
  prefs: []
  type: TYPE_NORMAL
  zh: 图片由作者提供
- en: Choosing any of the 3 will correctly adjust and condition the DAG by blocking
    and closing all 4 back-door paths and leaving the single front-door path unblocked
    and open.
  id: totrans-251
  prefs: []
  type: TYPE_NORMAL
  zh: 选择任意一个这三个调整集将正确调整和条件化 DAG，通过阻止并关闭所有 4 条反向路径，保留单一的正向路径不被阻塞。
- en: The final concept in adjustment sets is the **optimal adjustment set** which
    is to select one of the valid adjustment sets that has the least number of nodes.
  id: totrans-252
  prefs: []
  type: TYPE_NORMAL
  zh: 调整集中的最终概念是**最优调整集**，即选择有效调整集中节点最少的一个。
- en: In this example the optimal adjustment set would be either {Z1, Z3, W} or {Z2,
    Z3, W}. The 3rd valid adjustment set {Z1, Z2, Z3, W} is not optimal because it
    would involve carrying out more than the minimum number of adjustments.
  id: totrans-253
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个例子中，最优调整集可以是 {Z1, Z3, W} 或 {Z2, Z3, W}。第 3 个有效调整集 {Z1, Z2, Z3, W} 不是最优的，因为它涉及的调整数量多于最小数量。
- en: Why is this important?
  id: totrans-254
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 为什么这很重要？
- en: De-confounding is critical to identifying the isolated causal effect of X and
    Y with the mixing effects of any confounders removed.
  id: totrans-255
  prefs: []
  type: TYPE_NORMAL
  zh: 去混淆对于识别 X 和 Y 的孤立因果效应至关重要，同时去除了任何混淆变量的混合效应。
- en: For example we want to know the true impact of taking a drug on recovery irrespective
    of gender preferences for the drug or the true effect of sporting activity on
    academic performance irrespective of underlying fitness and the only way to do
    this is by constructing a DAG and conditioning or controlling on the correct set
    of nodes.
  id: totrans-256
  prefs: []
  type: TYPE_NORMAL
  zh: 例如，我们想知道服用药物对恢复的真实影响，无论药物的性别偏好如何，或运动对学术表现的真实影响，无论潜在的体能如何，唯一的办法是构建 DAG，并在正确的节点集上进行条件化或控制。
- en: My view is that identifying an optimum adjustment set is equally valid for conditioning
    on historical, observational data or controlling on factors in a real-world trial.
  id: totrans-257
  prefs: []
  type: TYPE_NORMAL
  zh: 我的观点是，识别最优调整集在条件化历史观测数据或控制现实世界试验中的因素时同样有效。
- en: If factors are not adjusted that should be then the results will be wrong and
    if too many factors are adjusted either the math's will be needlessly complicated
    for conditioning, or the experiments and trials made cumbersome and unwieldly
    in the real world.
  id: totrans-258
  prefs: []
  type: TYPE_NORMAL
  zh: 如果应调整的因素未被调整，结果将会错误；如果调整了过多因素，则数学计算将因条件设置而变得不必要地复杂，或实验和试验在实际中变得繁琐和笨重。
- en: Jargon Busting
  id: totrans-259
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 行话破解
- en: Before everything is brought together and applied to solve some example problems
    there are a few more pieces of causal jargon left to break down …
  id: totrans-260
  prefs: []
  type: TYPE_NORMAL
  zh: 在将所有内容汇总并应用于解决一些示例问题之前，还有一些因果术语需要解析……
- en: d-separation
  id: totrans-261
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: d-分离
- en: One formal definition of **d-separation** is as follows -
  id: totrans-262
  prefs: []
  type: TYPE_NORMAL
  zh: '**d-分离**的一个正式定义如下：'
- en: A path p is blocked by a set of conditioning nodes Z if and only if
  id: totrans-263
  prefs: []
  type: TYPE_NORMAL
  zh: 如果一个路径 p 被一组条件节点 Z 阻塞，当且仅当
- en: p contains a chain of nodes A -> B -> C or a fork A <- B -> C such that the
    middle node B is in Z (i.e. conditioned on), or
  id: totrans-264
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: p 包含一个节点链 A -> B -> C 或叉 A <- B -> C，使得中间节点 B 在 Z 中（即被条件化），或
- en: p contains a collider A -> B <- C such that the collision node B is not in Z
    and no descendant of B is in Z.
  id: totrans-265
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: p 包含一个碰撞器 A -> B <- C，使得碰撞节点 B 不在 Z 中，且 B 的任何后代不在 Z 中。
- en: Causal Inference in Statistics, Pearl, Glymour and Jewell, p46
  id: totrans-266
  prefs: []
  type: TYPE_NORMAL
  zh: 统计中的因果推断，Pearl、Glymour 和 Jewell，第 46 页
- en: The language is initially difficult to unpack but given the explanations and
    examples above for forks, chains, colliders, conditioning etc. above a more straight-forward
    definition might be …
  id: totrans-267
  prefs: []
  type: TYPE_NORMAL
  zh: 语言最初难以解读，但结合上述对叉、链、碰撞器、条件等的解释和示例，可能更直接的定义是……
- en: '**d-separation is the act of applying a set of conditioning nodes to a path
    such that it is blocked.**'
  id: totrans-268
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '**d-分离是应用一组条件节点到路径上，使其被阻塞的行为。**'
- en: The only part of the formal definition that is new is **and no descendant of
    B is in Z.** but that is easily explained.
  id: totrans-269
  prefs: []
  type: TYPE_NORMAL
  zh: 正式定义中唯一新的部分是**且 B 的后代不在 Z 中。**但这很容易解释。
- en: Consider the following DAG …
  id: totrans-270
  prefs: []
  type: TYPE_NORMAL
  zh: 考虑以下有向无环图……
- en: '![](../Images/e6ff80c3848d42324b0e7e9cc15122ce.png)'
  id: totrans-271
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/e6ff80c3848d42324b0e7e9cc15122ce.png)'
- en: Image by Author
  id: totrans-272
  prefs: []
  type: TYPE_NORMAL
  zh: 作者提供的图片
- en: In this DAG Z1 is a collider on the path X -> Z1 <- Y so conditioning on Z1
    will unblock and open the path whilst leaving it un-conditioned will leave the
    path blocked and closed.
  id: totrans-273
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个有向无环图 (DAG) 中，Z1 是路径 X -> Z1 <- Y 上的一个碰撞点，因此对 Z1 进行条件化会解锁并打开该路径，而不对 Z1 进行条件化则会使路径保持封闭。
- en: The statement **and no descendant of B is in Z** means that conditioning (or
    un-conditioning) on Z2 has exactly the same effect as acting on Z1 the valid set
    of nodes to open path X -> Z1 <- Y is {Z1}, {Z2}.
  id: totrans-274
  prefs: []
  type: TYPE_NORMAL
  zh: '**且 B 的后代不在 Z 中** 的陈述意味着，对 Z2 进行条件化（或不条件化）与对 Z1 进行操作的效果完全相同，打开路径 X -> Z1 <-
    Y 的有效节点集是 {Z1}、{Z2}。'
- en: This additional condition is difficult to visualise and rationalise so I have
    taken the approach of accepting it given the credentials of the authors that are
    describing and also to appreciate that its use is likely to be rare. Colliders
    are the most unusual of the 3 patterns and a descendant of a collider would be
    even more unusual.
  id: totrans-275
  prefs: []
  type: TYPE_NORMAL
  zh: 这个额外的条件很难可视化和理顺，因此我采纳了这样的方式，鉴于描述作者的资历，并且也认识到它的使用可能是稀少的。碰撞点是三种模式中最不寻常的，而碰撞点的后代则更加不寻常。
- en: It is worth bearing in mind though as a lot of the examples in the literature
    do throw in a descendant of a collider so be on the lookout!
  id: totrans-276
  prefs: []
  type: TYPE_NORMAL
  zh: 但值得注意的是，文献中的许多示例确实包含了碰撞点的后代，因此要注意！
- en: d-connection
  id: totrans-277
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: d-连接
- en: '**d-connection** is the opposite of d-separation. I have not seen the formal
    definition in any of the literature but reversing the definition of d-separation
    would give the following -'
  id: totrans-278
  prefs: []
  type: TYPE_NORMAL
  zh: '**d-连接** 是 d-分离的对立面。我在文献中没有看到正式的定义，但逆转 d-分离的定义会得到以下结果 -'
- en: A path p is unblocked by a set of conditioning nodes Z if and only if
  id: totrans-279
  prefs: []
  type: TYPE_NORMAL
  zh: 路径 p 只有在条件节点集 Z 的影响下才能被解锁，当且仅当
- en: p contains a chain of nodes A -> B -> C or a fork A <- B -> C such that the
    middle node B is not in Z (i.e., not conditioned on), or
  id: totrans-280
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: p 包含一个节点链 A -> B -> C 或者一个分叉 A <- B -> C，条件是中间节点 B 不在 Z 中（即，没有进行条件化），或者
- en: p contains a collider A -> B <- C such that the collision node B is in Z or
    a descendant of B is in Z.
  id: totrans-281
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: p 包含一个碰撞点 A -> B <- C，使得碰撞节点 B 在 Z 中，或者 B 的后代在 Z 中。
- en: The more straight-forward, informal definition might be
  id: totrans-282
  prefs: []
  type: TYPE_NORMAL
  zh: 更简单、非正式的定义可能是
- en: '**d-connection is the act of applying a set of conditioning nodes to a path
    such that it is unblocked.**'
  id: totrans-283
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '**d-连接是应用一组条件节点到路径上，使其被解锁的行为。**'
- en: Note that the set of conditioning nodes may be the empty set {} and in fact
    will be the empty set unless the path contains a collider.
  id: totrans-284
  prefs: []
  type: TYPE_NORMAL
  zh: 请注意，条件节点集可以是空集 {}，实际上，除非路径包含碰撞点，否则将是空集。
- en: Note on d-separation and d-connection
  id: totrans-285
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 关于 d-分离和 d-连接的说明
- en: My view is that d-separation and d-connection are complicated and they do not
    serve any purpose in isolation. The end game is to identify a valid adjustment
    set or the optimal adjustment set in order to condition on the right set of nodes
    to isolate the effect of the treatment on the outcome.
  id: totrans-286
  prefs: []
  type: TYPE_NORMAL
  zh: 我的观点是，d-分离和 d-连接非常复杂，它们单独存在并没有实际意义。最终目标是确定一个有效的调整集或最佳调整集，以便对正确的节点集进行条件化，从而隔离处理对结果的影响。
- en: I have included an explanation because the literature uses this terminology
    and hence understanding their meaning helps to read the literature, but my focus
    is on the adjustment sets.
  id: totrans-287
  prefs: []
  type: TYPE_NORMAL
  zh: 我提供了一个解释，因为文献中使用了这些术语，因此理解它们的含义有助于阅读文献，但我的重点在于调整集。
- en: Unconditional dependence, unconditional independence, conditional dependence
    and conditional independence
  id: totrans-288
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 无条件依赖、无条件独立、条件依赖和条件独立
- en: These 4 terms are commonly used in the literature, usually without a clear explanation.
    These are my definitions -
  id: totrans-289
  prefs: []
  type: TYPE_NORMAL
  zh: 这四个术语在文献中常被使用，通常没有明确的解释。这些是我的定义 -
- en: '**Unconditional dependence:** a particular path is naturally unblocked and
    open with no conditioning.'
  id: totrans-290
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**无条件依赖：** 特定路径自然是未被阻塞和开放的，没有任何条件化。'
- en: '**Unconditional independence:** a particular path is naturally blocked and
    closed with no conditioning.'
  id: totrans-291
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**无条件独立：** 特定路径自然是被阻塞和封闭的，没有任何条件化。'
- en: '**Conditional dependence:** a particular path that has been conditioned on
    is unblocked and open.'
  id: totrans-292
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**条件依赖性：**一个特定的路径在进行条件化后是开放的，没有被阻塞。'
- en: '**Conditional independence:** a particular path that has been conditioned on
    is blocked and closed.'
  id: totrans-293
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**条件独立性：**一个特定的路径在进行条件化后被阻塞且关闭。'
- en: '**Dependence** infers that the outcome depends on the treatment i.e. a change
    in the value of the treatment changes the value of the outcome.'
  id: totrans-294
  prefs: []
  type: TYPE_NORMAL
  zh: '**依赖性**意味着结果依赖于治疗，即治疗值的变化会改变结果值。'
- en: '**Independence** infers that the outcome does not depend on the treatment i.e.,
    a change in the value of the treatment does not change the value of the outcome.'
  id: totrans-295
  prefs: []
  type: TYPE_NORMAL
  zh: '**独立性**意味着结果不依赖于治疗，即治疗值的变化不会改变结果值。'
- en: Exogenous and Endogenous Variables
  id: totrans-296
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 外生变量与内生变量
- en: There are two more terms commonly used in the literature that are easily understood
    by visualising them. Consider the following DAG …
  id: totrans-297
  prefs: []
  type: TYPE_NORMAL
  zh: 文献中还有两个常用的术语，通过可视化容易理解。考虑以下DAG……
- en: '![](../Images/32c9f23ae06e742b2f1a72573eea66f1.png)'
  id: totrans-298
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/32c9f23ae06e742b2f1a72573eea66f1.png)'
- en: Image by Author
  id: totrans-299
  prefs: []
  type: TYPE_NORMAL
  zh: 作者提供的图像
- en: The light blue nodes are **exogenous** and the dark blue **endogenous**.
  id: totrans-300
  prefs: []
  type: TYPE_NORMAL
  zh: 浅蓝色节点是**外生变量**，深蓝色节点是**内生变量**。
- en: A formal definition of **exogenous variables** might be
  id: totrans-301
  prefs: []
  type: TYPE_NORMAL
  zh: '**外生变量**的正式定义可能是：'
- en: '**variables that are external to the model i.e. we choose, for whatever reason,
    not to explain how they are caused.**'
  id: totrans-302
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '**模型外部的变量，即我们选择不解释它们是如何产生的变量，不论出于何种原因。**'
- en: Stated more simply the exogenous nodes have no inputs, only outputs i.e. they
    do not have any causes but they do cause other variables to change.
  id: totrans-303
  prefs: []
  type: TYPE_NORMAL
  zh: 更简单地说，外生节点没有输入，只有输出，即它们没有任何原因，但它们会导致其他变量发生变化。
- en: Endogenous nodes are the opposite, they do have inputs or causes that are internal
    to the “system” being studied.
  id: totrans-304
  prefs: []
  type: TYPE_NORMAL
  zh: 内生节点则相反，它们确实有内部“系统”中的输入或原因。
- en: In the literature it is common to see a structural causal model defined using
    U to represent the exogenous variables and V for the endogenous variables as follows
    …
  id: totrans-305
  prefs: []
  type: TYPE_NORMAL
  zh: 在文献中，常见的结构因果模型使用U来表示外生变量，V来表示内生变量，如下所示……
- en: V = {Z, W, U, X, Y}
  id: totrans-306
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: V = {Z, W, U, X, Y}
- en: U = {Uz, Uu, Uw, Ux, Uy}
  id: totrans-307
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: U = {Uz, Uu, Uw, Ux, Uy}
- en: Unobserved Confounders
  id: totrans-308
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 未观察到的混杂因素
- en: Unobserved confounders are commonly represented as “U” nodes on causal diagrams,
    but they should not be confused with **exogenous variables**.
  id: totrans-309
  prefs: []
  type: TYPE_NORMAL
  zh: 未观察到的混杂因素通常在因果图上表示为“U”节点，但不应与**外生变量**混淆。
- en: '**An unobserved confounder is a variable that influences both the treatment
    and the outcome but is not measured or included in the analysis**.'
  id: totrans-310
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '**未观察到的混杂因素是一个同时影响治疗和结果的变量，但未在分析中测量或包含该变量**。'
- en: An example might be if we suspected that gender was influencing both the uptake
    and efficacy of the drug but it had not been measured in the analysis.
  id: totrans-311
  prefs: []
  type: TYPE_NORMAL
  zh: 一个例子可能是我们怀疑性别影响了药物的摄取和效果，但在分析中未测量性别。
- en: There are several causal techniques available for taking account of unobserved
    confounders, but these are beyond the scope of this article.
  id: totrans-312
  prefs: []
  type: TYPE_NORMAL
  zh: 有几种因果技术可以用来考虑未观察到的混杂因素，但这些超出了本文的范围。
- en: Putting it all Together with Some Practical Examples
  id: totrans-313
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 将所有内容结合起来，并用一些实际例子进行说明
- en: All of the techniques required to understand the vast majority of directed acyclic
    graphs have now been covered so it is time to put that knowledge to the test to
    analyze a selection of DAGs.
  id: totrans-314
  prefs: []
  type: TYPE_NORMAL
  zh: 现在已经涵盖了理解绝大多数有向无环图所需的所有技术，因此是时候利用这些知识来测试并分析一些DAG了。
- en: Here is a methodology for solving a DAG and to identifying the optimum adjustment
    set …
  id: totrans-315
  prefs: []
  type: TYPE_NORMAL
  zh: 这里是一种解决DAG和识别最佳调整集的方法……
- en: Study the DAG and identify all of the paths between the treatment and the outcome.
  id: totrans-316
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 研究DAG并识别治疗与结果之间的所有路径。
- en: Separate the paths into back-door (with an arrow pointing into the treatment)
    and front-door (with an arrow pointing out of the treatment).
  id: totrans-317
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将路径分为后门路径（箭头指向治疗）和前门路径（箭头指向结果）。
- en: The front-door path (there will usually be only 1) does not need conditioning
    unless it contains a collider, in which case add the collider to the set of nodes
    to condition on.
  id: totrans-318
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 前门路径（通常只有一条）不需要条件化，除非它包含碰撞点，在这种情况下将碰撞点添加到条件化节点集合中。
- en: Each back-door path will need to be conditioned on by choosing either a fork
    or a chain from the nodes on the path. Add these to the set of nodes to condition.
  id: totrans-319
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 每条后门路径都需要通过选择路径上的节点中的叉或链来进行条件化。将这些节点添加到条件化节点集合中。
- en: Consider the nodes you have selected to ensure they meet these criteria — a.
    All back-door paths have been blocked and closed. b. At least one front-door path
    has been left open or un-blocked.
  id: totrans-320
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 考虑你所选择的节点，以确保它们符合以下标准 — a. 所有的后门路径都已经被阻断和关闭。b. 至少有一条前门路径保持开放或未被阻断。
- en: If there are multiple adjustment sets that achieve the criteria in step 4, select
    the one with the lowest number of nodes.
  id: totrans-321
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果有多个调整集满足第4步的标准，则选择节点数量最少的一个。
- en: By following this methodology, you will be able to identify the optimal adjustment
    set from any DAG.
  id: totrans-322
  prefs: []
  type: TYPE_NORMAL
  zh: 通过遵循这种方法论，你将能够从任何有向无环图中识别出最优调整集。
- en: The following examples apply that methodology with a solution and explanation
    for each.
  id: totrans-323
  prefs: []
  type: TYPE_NORMAL
  zh: 以下示例应用了这种方法论，并为每个示例提供了解决方案和解释。
- en: Example 1
  id: totrans-324
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 示例 1
- en: '![](../Images/ca5169a508e29a1c80cf88472ec3896c.png)'
  id: totrans-325
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/ca5169a508e29a1c80cf88472ec3896c.png)'
- en: Image by Author
  id: totrans-326
  prefs: []
  type: TYPE_NORMAL
  zh: 图片来源：作者
- en: 1) 𝑋→𝐴→𝑌
  id: totrans-327
  prefs: []
  type: TYPE_NORMAL
  zh: 1) 𝑋→𝐴→𝑌
- en: Let’s start with an easy one. There are no back-door paths and a single front-door
    path X -> A -> Y that is unblocked, hence no conditioning is necessary (i.e.,
    the optimal adjustment set is the empty set {}).
  id: totrans-328
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们从一个简单的开始。没有后门路径，且唯一的前门路径是 X -> A -> Y，这条路径未被阻断，因此不需要任何条件处理（即，最优调整集是空集{}）。
- en: Example 2
  id: totrans-329
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 示例 2
- en: '![](../Images/9a2b47086ba72cf172d86cd99a68fbfa.png)'
  id: totrans-330
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/9a2b47086ba72cf172d86cd99a68fbfa.png)'
- en: Image by Author
  id: totrans-331
  prefs: []
  type: TYPE_NORMAL
  zh: 图片来源：作者
- en: 1) 𝑋←𝐴→𝐵←𝐷→𝐸→𝑌
  id: totrans-332
  prefs: []
  type: TYPE_NORMAL
  zh: 1) 𝑋←𝐴→𝐵←𝐷→𝐸→𝑌
- en: 2) 𝑋→𝐸→𝑌
  id: totrans-333
  prefs: []
  type: TYPE_NORMAL
  zh: 2) 𝑋→𝐸→𝑌
- en: This one requires a bit more thinking about. There is a single back-door path
    (path 1) and a single front-door path (path 2). Front-door path 2 is not blocked
    so needs no conditioning to remain valid and open. Back-door path 1 has a collider
    at B and so is naturally blocked and also needs no action.
  id: totrans-334
  prefs: []
  type: TYPE_NORMAL
  zh: 这个需要多一些思考。有一条后门路径（路径1）和一条前门路径（路径2）。前门路径2没有被阻断，因此不需要条件处理以保持有效和开放。后门路径1在B处有一个碰撞点，因此自然被阻断，也不需要任何操作。
- en: In conclusion all back-door paths are naturally blocked and front-door paths
    naturally unblocked so the optimum adjustment set is again the empty set {}.
  id: totrans-335
  prefs: []
  type: TYPE_NORMAL
  zh: 总结一下，所有的后门路径自然被阻断，前门路径自然被打开，因此最优调整集仍然是空集{}。
- en: The story does not end there though. It should be noted that node C could be
    conditioned on and that would do no harm as it does not affect anything.
  id: totrans-336
  prefs: []
  type: TYPE_NORMAL
  zh: 故事并没有就此结束。需要注意的是，节点C可以被条件处理，这不会造成任何伤害，因为它不影响任何东西。
- en: Also the fork at A could be conditioned on which double-blocks the back-door
    path 1 in addition to the unconditioned blocking of collider B and again the DAG
    would be correctly adjusted.
  id: totrans-337
  prefs: []
  type: TYPE_NORMAL
  zh: 同样，A处的分叉也可以进行条件处理，这将进一步阻断后门路径1，除了未条件处理的碰撞点B的阻断，再次使有向无环图得到正确调整。
- en: This illustrates that there can be more than one way to adjust or condition
    a DAG to get the “correct” results and that yet again there may be a difference
    between the way statisticians and causal inference specialists decide to act.
  id: totrans-338
  prefs: []
  type: TYPE_NORMAL
  zh: 这说明了调整或条件化有向无环图以获得“正确”结果的方式可能不止一种，并且统计学家和因果推断专家在决定如何行动时可能会有所不同。
- en: Pearl quotes a leading statistician (anonymously) who wrote “To avoid conditioning
    on some observed covariates … is nonscientific ad hockery” (The Book of Why, Pearl
    and Mackenzie, p160) but the brute force approach of conditioning on everything
    can be refuted with this example.
  id: totrans-339
  prefs: []
  type: TYPE_NORMAL
  zh: Pearl引用了一位领先的统计学家（匿名）的说法：“避免对某些观察到的协变量进行条件处理……是不科学的临时措施”（《为什么的书》，Pearl和Mackenzie，第160页），但通过这个例子可以反驳条件处理一切的粗暴方法。
- en: Conditioning on B or C would open and unblock back-door path 1 which needs to
    be closed (B because it is a collider and C because it is a descendant of a collider).
    If B or C were conditioned or controlled then path 1 could be re-blocked by additionally
    controlling on A or E (or both) but this could lead to complicated maths (for
    conditioning) or a real-world trial that is difficult to moderate (for controlling).
  id: totrans-340
  prefs: []
  type: TYPE_NORMAL
  zh: 对B或C进行条件处理会打开并解锁后门路径1，而这需要被关闭（B因为它是一个碰撞点，C因为它是碰撞点的后代）。如果对B或C进行条件处理或控制，那么通过额外控制A或E（或两者）可以重新阻断路径1，但这可能导致复杂的数学问题（对于条件处理）或难以调节的现实试验（对于控制）。
- en: My preference is to use historical and observational data, optimise the adjustment
    set, simplify the math's and use conditioning but others may have a different
    view.
  id: totrans-341
  prefs: []
  type: TYPE_NORMAL
  zh: 我的偏好是使用历史和观察数据，优化调整集，简化数学计算并使用条件处理，但其他人可能有不同的看法。
- en: Example 3
  id: totrans-342
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 示例 3
- en: '![](../Images/f6e8df1d629992a67da3a18182a7d69c.png)'
  id: totrans-343
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/f6e8df1d629992a67da3a18182a7d69c.png)'
- en: Image by Author
  id: totrans-344
  prefs: []
  type: TYPE_NORMAL
  zh: 图片来源：作者
- en: 1) 𝑋←𝐵→𝑌
  id: totrans-345
  prefs: []
  type: TYPE_NORMAL
  zh: 1) 𝑋←𝐵→𝑌
- en: 2) 𝑋→𝐴←𝐵→𝑌
  id: totrans-346
  prefs: []
  type: TYPE_NORMAL
  zh: 2) 𝑋→𝐴←𝐵→𝑌
- en: 3) 𝑋→𝑌
  id: totrans-347
  prefs: []
  type: TYPE_NORMAL
  zh: 3) 𝑋→𝑌
- en: Path 3 is an open, unblocked front-door path which does not need any conditioning.
  id: totrans-348
  prefs: []
  type: TYPE_NORMAL
  zh: 路径3是一个开放的、未被阻断的前门路径，不需要任何条件处理。
- en: There are two back-door paths. Path 1 contains a fork at B which must be conditioned
    on. Path 2 contains a collider at A so path 2 is unconditionally blocked.
  id: totrans-349
  prefs: []
  type: TYPE_NORMAL
  zh: 有两个后门路径。路径 1 包含一个分叉点 B，必须对其进行条件调整。路径 2 包含一个碰撞点 A，因此路径 2 是无条件阻塞的。
- en: The optimal adjustment set is {B} but to note conditioning on {A, B} would also
    work because even though conditioning on A would unblock the collider, path 2
    would be blocked by conditioning on B.
  id: totrans-350
  prefs: []
  type: TYPE_NORMAL
  zh: 最佳调整集是 {B}，但需要注意的是，对 {A, B} 进行条件调整也会有效，因为尽管对 A 的条件调整会解锁碰撞点，但路径 2 会被对 B 的条件调整所阻塞。
- en: The statistical solution might be to control on A and B but the optimal causal
    solution is to condition just on B.
  id: totrans-351
  prefs: []
  type: TYPE_NORMAL
  zh: 统计解决方案可能是对 A 和 B 进行控制，但最佳因果解决方案是仅对 B 进行条件调整。
- en: Example 4
  id: totrans-352
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 示例 4
- en: '![](../Images/710b1eb5541e50e739a6fc579d97ed59.png)'
  id: totrans-353
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/710b1eb5541e50e739a6fc579d97ed59.png)'
- en: Image by Author
  id: totrans-354
  prefs: []
  type: TYPE_NORMAL
  zh: 图片由作者提供
- en: 1) 𝑋→𝐴←𝑌
  id: totrans-355
  prefs: []
  type: TYPE_NORMAL
  zh: 1) 𝑋→𝐴←𝑌
- en: This example is a bit sneaky! It is a variation of Example 1 with a single front-door
    path but this time A is a collider.
  id: totrans-356
  prefs: []
  type: TYPE_NORMAL
  zh: 这个例子有点狡猾！它是示例 1 的变体，具有单一的前门路径，但这次 A 是一个碰撞点。
- en: As A is a collider it will close and block the front-door path 1 so a perfectly
    valid solution is to condition on A.
  id: totrans-357
  prefs: []
  type: TYPE_NORMAL
  zh: 由于 A 是一个碰撞点，它将关闭并阻塞前门路径 1，因此完全有效的解决方案是对 A 进行条件调整。
- en: However, B is a descendant of A and recalling the definition of d-separation
    above i.e. …
  id: totrans-358
  prefs: []
  type: TYPE_NORMAL
  zh: 然而，B 是 A 的后代，并且回顾上述 d-分离的定义，即…
- en: p contains a chain of nodes A -> B -> C or a fork A <- B -> C such that the
    middle node B is in Z (i.e. conditioned on), or
  id: totrans-359
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: p 包含节点链 A -> B -> C 或分叉 A <- B -> C，使得中间节点 B 在 Z 中（即被条件调整），或
- en: p contains a collider A -> B <- C such that the collision node B is not in Z
    and no descendant of B is in Z.
  id: totrans-360
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: p 包含碰撞点 A -> B <- C，使得碰撞节点 B 不在 Z 中，并且 B 的任何后代不在 Z 中。
- en: … conditioning on B has exactly the same effect as conditioning on A.
  id: totrans-361
  prefs: []
  type: TYPE_NORMAL
  zh: … 对 B 的条件调整与对 A 的条件调整效果完全相同。
- en: Therefore, the valid adjustment sets are {A}, {B} and {A, B} and the optimal
    adjustment set is either {A} or {B}.
  id: totrans-362
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，有效的调整集是 {A}、{B} 和 {A, B}，最佳调整集是 {A} 或 {B}。
- en: Example 5
  id: totrans-363
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 示例 5
- en: '![](../Images/0f10056c268b16cf5209b6c05e7c0818.png)'
  id: totrans-364
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/0f10056c268b16cf5209b6c05e7c0818.png)'
- en: Image by Author
  id: totrans-365
  prefs: []
  type: TYPE_NORMAL
  zh: 图片由作者提供
- en: 1) 𝐺→𝑄→𝐻
  id: totrans-366
  prefs: []
  type: TYPE_NORMAL
  zh: 1) 𝐺→𝑄→𝐻
- en: 2) 𝐺→𝑄←𝐼→𝐻
  id: totrans-367
  prefs: []
  type: TYPE_NORMAL
  zh: 2) 𝐺→𝑄←𝐼→𝐻
- en: 3) 𝐺→𝐻
  id: totrans-368
  prefs: []
  type: TYPE_NORMAL
  zh: 3) 𝐺→𝐻
- en: In this DAG the nodes represent the following variables -
  id: totrans-369
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个 DAG 中，节点代表以下变量 -
- en: 'G : Gender (treatment)'
  id: totrans-370
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 'G : 性别（处理）'
- en: 'H : Hiring (outcome)'
  id: totrans-371
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 'H : 招聘（结果）'
- en: 'Q : Qualifications'
  id: totrans-372
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 'Q : 资格'
- en: 'I : Income'
  id: totrans-373
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 'I : 收入'
- en: The objective is to capture the causal of gender (the treatment) on hiring (the
    outcome). In addition the DAG proposes that gender has a causal effect on qualification
    and income has a causal effect on both qualification and hiring.
  id: totrans-374
  prefs: []
  type: TYPE_NORMAL
  zh: 目标是捕捉性别（处理）对招聘（结果）的因果关系。此外，DAG 提出了性别对资格的因果影响和收入对资格及招聘的因果影响。
- en: It looks quite complicated but it is easy to solve. There are no arrows into
    the treatment G so no back-door paths. All 3 paths are front-door paths which
    are all open and unblocked without any conditioning hence the optimal adjustment
    set is {} and.
  id: totrans-375
  prefs: []
  type: TYPE_NORMAL
  zh: 看起来非常复杂，但实际上很容易解决。没有箭头指向处理 G，因此没有后门路径。所有 3 条路径都是前门路径，均开放且未被阻塞，无需任何条件调整，因此最佳调整集是
    {}。
- en: Note that there are several sets of nodes that could be conditioned on that
    would produce the correct result but taking no action is optimal. For example,
    conditioning on I would block path 2 but the other front-door paths would remain
    open.
  id: totrans-376
  prefs: []
  type: TYPE_NORMAL
  zh: 注意，虽然有几个节点集可以进行条件调整以产生正确结果，但不采取任何行动是最佳选择。例如，对 I 进行条件调整会阻塞路径 2，但其他前门路径仍会保持开放。
- en: This is another instance of where the causal inference perspective would choose
    no action to keep the maths simple and the statistical perspective may choose
    to control on some of the variables.
  id: totrans-377
  prefs: []
  type: TYPE_NORMAL
  zh: 这是因果推断视角选择不采取行动以保持数学简单的另一实例，而统计视角可能选择对某些变量进行控制。
- en: Example 6
  id: totrans-378
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 示例 6
- en: '![](../Images/81f03353af30995d4b7b3256b81ace61.png)'
  id: totrans-379
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/81f03353af30995d4b7b3256b81ace61.png)'
- en: Image by Author
  id: totrans-380
  prefs: []
  type: TYPE_NORMAL
  zh: 图片由作者提供
- en: This example looks more complicated is actually very straightforward. The light
    blue nodes are **exogenous** variables i.e. variables whose cause we have chosen
    not to explain.
  id: totrans-381
  prefs: []
  type: TYPE_NORMAL
  zh: 这个例子看起来更复杂，但实际上非常简单。浅蓝色节点是**外生**变量，即我们选择不解释其原因的变量。
- en: This may give rise to the question “why include them at all?”. In the earlier
    section on forks shoe-size was defined in the model as follows (where shoe-size
    = S and age = A) -
  id: totrans-382
  prefs: []
  type: TYPE_NORMAL
  zh: 这可能引发“为什么要包含这些变量？”的问题。在前面关于分叉的部分中，鞋码在模型中的定义如下（其中鞋码 = S 和年龄 = A） -
- en: 𝑆 = 2 + 2 + 𝜖
  id: totrans-383
  prefs: []
  type: TYPE_NORMAL
  zh: 𝑆 = 2 + 2 + 𝜖
- en: This example shows that age is exogenous — there is no explanation for the “cause”
    of age, but age is critical to the model because shoe-size is derived from it.
  id: totrans-384
  prefs: []
  type: TYPE_NORMAL
  zh: 这个例子显示了年龄是外生变量——没有关于年龄的“原因”的解释，但年龄对模型至关重要，因为鞋码是从年龄派生的。
- en: This also helps to illustrate the difference between exogenous variables and
    unobserved confounders. In a causal model we would have the data for any exogenous
    variables, but we would not have the data for any unobserved confounders.
  id: totrans-385
  prefs: []
  type: TYPE_NORMAL
  zh: 这也有助于说明外生变量和未观察到的混杂因素之间的区别。在因果模型中，我们会有外生变量的数据，但我们没有未观察到的混杂因素的数据。
- en: When calculating the valid and optimal adjustment sets unobserved confounders
    should always be excluded from consideration as we do not have any data on them,
    hence they are impossible to condition on.
  id: totrans-386
  prefs: []
  type: TYPE_NORMAL
  zh: 在计算有效和最佳调整集时，未观察到的混杂因素应始终排除在考虑范围之外，因为我们没有关于它们的数据，因此无法对其进行条件化。
- en: Exogenous variables can be included in conditioning sets. In the age and shoe
    size example it made perfect sense to condition on age as it was confounding shoe
    size and academic ability whereas in this example it does no harm to condition
    on the exogenous variables but it will not be optimal as none of them appear in
    the only path (path 1).
  id: totrans-387
  prefs: []
  type: TYPE_NORMAL
  zh: 外生变量可以被纳入条件化集合。在年龄和鞋码的例子中，对年龄进行条件化是非常合理的，因为它干扰了鞋码和学术能力，而在这个例子中，条件化外生变量不会造成任何损害，但也不会是最佳选择，因为它们都没有出现在唯一的路径（路径1）中。
- en: So what is the optimal adjustment set for this example?
  id: totrans-388
  prefs: []
  type: TYPE_NORMAL
  zh: 那么，这个例子的最佳调整集是什么呢？
- en: Assuming that Z is the treatment and Y is the outcome, there are no back-door
    paths and just 1 front-door path. That path is blocked by the collider W which
    can be conditioned on to open and unblock it.
  id: totrans-389
  prefs: []
  type: TYPE_NORMAL
  zh: 假设Z是处理变量，Y是结果变量，则没有回门路径，只有1条前门路径。该路径被碰撞器W阻挡，可以通过对W进行条件化来开放和解锁它。
- en: It should also be noted that U is a descendant of collider W and hence conditioning
    on U will have the same effect as conditioning on W.
  id: totrans-390
  prefs: []
  type: TYPE_NORMAL
  zh: 还应该注意，U是碰撞器W的后代，因此对U进行条件化将与对W进行条件化有相同的效果。
- en: Therefore, there are 3 valid adjustment sets — {W}, {U} and {W, U} with either
    of the first two being optimum.
  id: totrans-391
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，有3个有效调整集——{W}、{U} 和 {W, U}，其中前两个是最佳的。
- en: Example 7
  id: totrans-392
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 示例 7
- en: '![](../Images/1388586951d37d528224bd531afa1377.png)'
  id: totrans-393
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/1388586951d37d528224bd531afa1377.png)'
- en: Image by Author
  id: totrans-394
  prefs: []
  type: TYPE_NORMAL
  zh: 作者提供的图像
- en: 1) 𝑍→𝑊←𝑋→𝑌
  id: totrans-395
  prefs: []
  type: TYPE_NORMAL
  zh: 1) 𝑍→𝑊←𝑋→𝑌
- en: 2) 𝑍←𝑇→𝑌
  id: totrans-396
  prefs: []
  type: TYPE_NORMAL
  zh: 2) 𝑍←𝑇→𝑌
- en: Example 7 is an extension of example 6\. This time a back-door path has been
    added with a fork at T between the treatment Z and the outcome Y.
  id: totrans-397
  prefs: []
  type: TYPE_NORMAL
  zh: 示例 7 是示例 6 的扩展。这次添加了一个回门路径，在处理Z和结果Y之间的T处有一个分叉。
- en: T must be conditioned on to block back-door path 2 and hence there are two optimum
    adjustment sets — {T, W} and {T, U}.
  id: totrans-398
  prefs: []
  type: TYPE_NORMAL
  zh: 必须对T进行条件化以阻断回门路径2，因此有两个最佳调整集——{T, W} 和 {T, U}。
- en: Example 8
  id: totrans-399
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 示例 8
- en: '![](../Images/9273fd3781446f869fbd93aa4128349e.png)'
  id: totrans-400
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/9273fd3781446f869fbd93aa4128349e.png)'
- en: Image by Author
  id: totrans-401
  prefs: []
  type: TYPE_NORMAL
  zh: 作者提供的图像
- en: 1) 𝑇←𝐴→𝐼
  id: totrans-402
  prefs: []
  type: TYPE_NORMAL
  zh: 1) 𝑇←𝐴→𝐼
- en: 2) 𝑇→𝐼
  id: totrans-403
  prefs: []
  type: TYPE_NORMAL
  zh: 2) 𝑇→𝐼
- en: 3) 𝑇←𝐸→𝐼
  id: totrans-404
  prefs: []
  type: TYPE_NORMAL
  zh: 3) 𝑇←𝐸→𝐼
- en: 4) 𝑇←𝐵→𝐼
  id: totrans-405
  prefs: []
  type: TYPE_NORMAL
  zh: 4) 𝑇←𝐵→𝐼
- en: 5) 𝑇←𝑆→𝐼
  id: totrans-406
  prefs: []
  type: TYPE_NORMAL
  zh: 5) 𝑇←𝑆→𝐼
- en: 6) 𝑇←𝑈→𝐼
  id: totrans-407
  prefs: []
  type: TYPE_NORMAL
  zh: 6) 𝑇←𝑈→𝐼
- en: The nodes in this DAG represent the following variables …
  id: totrans-408
  prefs: []
  type: TYPE_NORMAL
  zh: 这个DAG中的节点表示以下变量…
- en: 'T : training'
  id: totrans-409
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 'T : 培训'
- en: 'I : income'
  id: totrans-410
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 'I : 收入'
- en: 'A : age'
  id: totrans-411
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 'A : 年龄'
- en: 'E : education'
  id: totrans-412
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 'E : 教育'
- en: 'B : benefits'
  id: totrans-413
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 'B : 福利'
- en: 'S : single'
  id: totrans-414
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 'S : 单身'
- en: 'U : university degree'
  id: totrans-415
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 'U : 大学学位'
- en: The DAG is representing the causal impact of a training course T on income I
    and also representing that age, education, benefits, single (vs. married) and
    a university degree all cause and confound both i.e. whether the individual will
    attend the training and their income.
  id: totrans-416
  prefs: []
  type: TYPE_NORMAL
  zh: 这个DAG表示培训课程T对收入I的因果影响，同时也表示年龄、教育、福利、单身（与已婚相比）和大学学位都对个人是否参加培训和收入造成了混杂。
- en: There are 5 back-door paths (paths 1, 3, 4, 5 and 6) and 1 front-door path (path
    2).
  id: totrans-417
  prefs: []
  type: TYPE_NORMAL
  zh: 有5条回门路径（路径1、3、4、5 和 6）和1条前门路径（路径2）。
- en: The front-door path is open and unblocked and does not need any conditioning.
  id: totrans-418
  prefs: []
  type: TYPE_NORMAL
  zh: 前门路径是开放的和未被阻塞的，无需任何条件化处理。
- en: The back-door paths all have a single fork and no intermediate node appears
    on more than one back-door path so all of the forks need to be conditioned on.
  id: totrans-419
  prefs: []
  type: TYPE_NORMAL
  zh: 所有的回门路径都有一个分叉，并且没有中间节点出现在多个回门路径上，因此所有的分叉都需要进行条件化处理。
- en: The optimum (and only) adjustment set is {A, E, B, S, U} noting that U = university
    degree, not to be confused with unobserved.
  id: totrans-420
  prefs: []
  type: TYPE_NORMAL
  zh: 最佳（也是唯一的）调整集是 {A, E, B, S, U}，其中U = 大学学位，不能与未观察到的混杂因素混淆。
- en: Example 9
  id: totrans-421
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 示例 9
- en: '![](../Images/de798421cadd7844a0a1fd7c7206a482.png)'
  id: totrans-422
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/de798421cadd7844a0a1fd7c7206a482.png)'
- en: Image by Author
  id: totrans-423
  prefs: []
  type: TYPE_NORMAL
  zh: 作者提供的图像
- en: The nodes in this DAG represent the following variables …
  id: totrans-424
  prefs: []
  type: TYPE_NORMAL
  zh: 这个DAG中的节点表示以下变量…
- en: 'A : Parental Smoking'
  id: totrans-425
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 'A : 父母吸烟'
- en: 'B : Childhood Asthma'
  id: totrans-426
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 'B : 儿童哮喘'
- en: 'C : Underlying Atopy (Unobserved)'
  id: totrans-427
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 'C : 潜在过敏体质（未观察到）'
- en: 'D : Parental Asthma'
  id: totrans-428
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 'D : 父母哮喘'
- en: 'E : Chronic Bronchitis'
  id: totrans-429
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 'E : 慢性支气管炎'
- en: 'F : Sex'
  id: totrans-430
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 'F : 性别'
- en: 'G : Socio-economic Status'
  id: totrans-431
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 'G : 社会经济状态'
- en: 'X : Smoking'
  id: totrans-432
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 'X : 吸烟'
- en: 'Y : Asthma'
  id: totrans-433
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 'Y : 哮喘'
- en: This is an extremely complex DAG. There are 20 paths through the DAG in total
    that can be visualised as follows …
  id: totrans-434
  prefs: []
  type: TYPE_NORMAL
  zh: 这是一个极其复杂的DAG。总共有20条路径可以通过DAG进行可视化，如下所示…
- en: '![](../Images/09812a22983ca6ec764e03a6b11f2903.png)'
  id: totrans-435
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/09812a22983ca6ec764e03a6b11f2903.png)'
- en: Image by Author
  id: totrans-436
  prefs: []
  type: TYPE_NORMAL
  zh: 作者提供的图片
- en: There is one front-door path (the direct path from X to Y in the penultimate
    row), the other 19 are all back-door paths.
  id: totrans-437
  prefs: []
  type: TYPE_NORMAL
  zh: 这里有一条正向路径（倒数第二行中的X到Y的直接路径），其他19条都是反向路径。
- en: There are 64 possibilities for different sets of nodes that might be able to
    condition the DAG successfully for example {D}, {D, B}, {D, B, E} etc. and 20
    different paths that each possible set of nodes need testing for, so 1,280 permutations
    in total.
  id: totrans-438
  prefs: []
  type: TYPE_NORMAL
  zh: 共有64种可能的节点组合可以成功条件化DAG，例如{D}、{D, B}、{D, B, E}等，且每个可能的节点组合需要测试20条不同路径，总共1,280种排列组合。
- en: There are precisely two valid adjustment sets — {A, B, E, F, G} and {A, B, D,
    E, F, G} with the first being the optimum adjustment set …
  id: totrans-439
  prefs: []
  type: TYPE_NORMAL
  zh: 准确地说，有两个有效的调整集——{A, B, E, F, G} 和 {A, B, D, E, F, G}，其中第一个是最佳调整集…
- en: '![](../Images/cba9b8346ef0e69cd817c5e94361225a.png)'
  id: totrans-440
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/cba9b8346ef0e69cd817c5e94361225a.png)'
- en: Image by Author
  id: totrans-441
  prefs: []
  type: TYPE_NORMAL
  zh: 作者提供的图片
- en: It would be very difficult and time-consuming for a human being to have checked
    all 1,280 permutations and to have made sure that all of the back-door paths are
    blocked and closed and the front-door path left unblocked and open.
  id: totrans-442
  prefs: []
  type: TYPE_NORMAL
  zh: 人工检查所有1,280种排列组合并确保所有的反向路径都被阻塞且正向路径未被阻塞将是非常困难且耗时的。
- en: You may have guessed by now from all of the pictures of DAGs and the examples
    I have worked through that I have developed a code library that has done all of
    the drawing, calculating and route-finding for me.
  id: totrans-443
  prefs: []
  type: TYPE_NORMAL
  zh: 你可能已经从所有DAG的图片和我处理过的例子中猜到，我开发了一个代码库，它为我完成了所有绘图、计算和路径查找工作。
- en: This article has been the documentation of everything I have learned whilst
    developing that library whilst a future article will demonstrate, explore and
    explain how that code library works and how to automate everything you could ever
    want to know about a DAG in just a few lines of Python code.
  id: totrans-444
  prefs: []
  type: TYPE_NORMAL
  zh: 本文记录了我在开发该库时所学到的一切，未来的文章将展示、探索和解释该代码库的工作原理以及如何用几行Python代码自动化你可能想知道的关于DAG的一切。
- en: Conclusion
  id: totrans-445
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 结论
- en: For anyone that has made it to the end of such a long and detailed article,
    thank-you for sticking with it! Most of my articles are relatively short and focused
    and contain all of the source code and this one has been the exact opposite!
  id: totrans-446
  prefs: []
  type: TYPE_NORMAL
  zh: 对于任何坚持读完这样一篇长且详细的文章的人，我感谢你的坚持！我的大多数文章相对较短且集中，包含所有源代码，而这篇正好相反！
- en: However, it has ended up detailing and explaining all of the things I wish I
    had known in relation to Directed Acyclic Graphs when I started my Causal Inference
    journey.
  id: totrans-447
  prefs: []
  type: TYPE_NORMAL
  zh: 然而，这篇文章详细说明了我希望在开始我的因果推断之旅时了解的所有关于有向无环图的内容。
- en: There are many articles and books available but in my view they miss the mark.
    They usually jump straight in with formulas and equations and omit the basics
    and fundamentals which need explaining with the aid of examples and visualisations.
  id: totrans-448
  prefs: []
  type: TYPE_NORMAL
  zh: 有许多文章和书籍，但在我看来，它们未能击中要点。它们通常直接跳入公式和方程，而忽略了需要通过示例和可视化来解释的基础知识和基本概念。
- en: DAGs that capture the causal relationships are one of the most important parts
    of causal inference. None of the rest of it makes sense without a full understanding
    of what they are, why they exist and how they help to identify adjustment sets
    which is so critical to understand before moving on the applying back-door (or
    front-door) adjustment to answer to the question “what is the isolated effect
    of the treatment on the outcome independent of any bias or confounding effects?”
  id: totrans-449
  prefs: []
  type: TYPE_NORMAL
  zh: 捕捉因果关系的DAG是因果推断中最重要的部分之一。如果没有对它们的全面理解，其余部分都没有意义，需要理解它们是什么、为什么存在以及它们如何帮助识别调整集，这是在应用反向（或正向）调整之前必须了解的关键问题。
- en: Connect and Get in Touch …
  id: totrans-450
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 联系并保持联系…
- en: If you enjoyed this article, you can get unlimited access to thousands more
    by becoming a Medium member for just $5 a month by [clicking on my referral link](https://grahamharrison-86487.medium.com/membership)
    (I will receive a proportion of the fees if you sign up using this link at no
    extra cost to you).
  id: totrans-451
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你喜欢这篇文章，你可以通过[点击我的推荐链接](https://grahamharrison-86487.medium.com/membership)以每月仅5美元成为Medium会员，获得对更多成千上万篇文章的无限访问（如果你通过此链接注册，我将获得部分费用，对你没有额外费用）。
- en: '[](https://grahamharrison-86487.medium.com/membership?source=post_page-----f2d3b40738e--------------------------------)
    [## Join Medium with my referral link - Graham Harrison'
  id: totrans-452
  prefs: []
  type: TYPE_NORMAL
  zh: '[## 通过我的推荐链接加入Medium - Graham Harrison](https://grahamharrison-86487.medium.com/membership?source=post_page-----f2d3b40738e--------------------------------)'
- en: Read every story from Graham Harrison (and thousands of other writers on Medium).
    Enhance your knowledge of Data…
  id: totrans-453
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 阅读Graham Harrison的每个故事（以及Medium上的成千上万的其他作家）。提升你对数据的知识……
- en: grahamharrison-86487.medium.com](https://grahamharrison-86487.medium.com/membership?source=post_page-----f2d3b40738e--------------------------------)
  id: totrans-454
  prefs: []
  type: TYPE_NORMAL
  zh: '[grahamharrison-86487.medium.com](https://grahamharrison-86487.medium.com/membership?source=post_page-----f2d3b40738e--------------------------------)'
- en: … or connect by …
  id: totrans-455
  prefs: []
  type: TYPE_NORMAL
  zh: ……或通过以下方式连接……
- en: '[Subscribing to a free e-mail whenever I publish a new story](https://grahamharrison-86487.medium.com/subscribe).'
  id: totrans-456
  prefs: []
  type: TYPE_NORMAL
  zh: '[订阅免费电子邮件，获取我发布的新故事](https://grahamharrison-86487.medium.com/subscribe)。'
- en: '[Taking a quick look at my previous articles](https://grahamharrison-86487.medium.com/).'
  id: totrans-457
  prefs: []
  type: TYPE_NORMAL
  zh: '[快速查看我之前的文章](https://grahamharrison-86487.medium.com/)。'
- en: '[Downloading my free strategic data-driven decision making framework](https://relentless-originator-3199.ck.page/5f4857fd12).'
  id: totrans-458
  prefs: []
  type: TYPE_NORMAL
  zh: '[下载我的免费战略数据驱动决策框架](https://relentless-originator-3199.ck.page/5f4857fd12)。'
- en: Visiting my data science website — [The Data Blog](https://www.the-data-blog.co.uk/).
  id: totrans-459
  prefs: []
  type: TYPE_NORMAL
  zh: 访问我的数据科学网站——[数据博客](https://www.the-data-blog.co.uk/)。
- en: Further Reading
  id: totrans-460
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 进一步阅读
- en: If you would like to know more about causal inference, this amazing book is
    a great place to get started …
  id: totrans-461
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你想了解更多关于因果推断的内容，这本精彩的书籍是一个很好的起点……
- en: '[](https://amzn.to/3iCVF8r?source=post_page-----f2d3b40738e--------------------------------)
    [## The Book of Why: The New Science of Cause and Effect (Penguin Science)'
  id: totrans-462
  prefs: []
  type: TYPE_NORMAL
  zh: '[## 为什么的书：因果关系的新科学（企鹅科学）](https://amzn.to/3iCVF8r?source=post_page-----f2d3b40738e--------------------------------)'
- en: 'Buy The Book of Why: The New Science of Cause and Effect (Penguin Science)
    01 by Pearl, Judea, Mackenzie, Dana (ISBN…'
  id: totrans-463
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 购买《为什么的书：因果关系的新科学（企鹅科学）》01 由Pearl, Judea, Mackenzie, Dana (ISBN……
- en: amzn.to](https://amzn.to/3iCVF8r?source=post_page-----f2d3b40738e--------------------------------)
  id: totrans-464
  prefs: []
  type: TYPE_NORMAL
  zh: '[amzn.to](https://amzn.to/3iCVF8r?source=post_page-----f2d3b40738e--------------------------------)'
- en: And this book provides a deeper and more detailed exploration of some of the
    key concepts …
  id: totrans-465
  prefs: []
  type: TYPE_NORMAL
  zh: 本书对一些关键概念进行了更深入和详细的探讨……
- en: '[](https://amzn.to/3WblFp1?source=post_page-----f2d3b40738e--------------------------------)
    [## Causal Inference in Statistics: A Primer'
  id: totrans-466
  prefs: []
  type: TYPE_NORMAL
  zh: '[## 统计中的因果推断：入门](https://amzn.to/3WblFp1?source=post_page-----f2d3b40738e--------------------------------)'
- en: 'Buy Causal Inference in Statistics: A Primer 1 by Pearl, Judea, Glymour, Madelyn,
    Jewell, Nicholas P. (ISBN…'
  id: totrans-467
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 购买《统计中的因果推断：入门》 1 由Pearl, Judea, Glymour, Madelyn, Jewell, Nicholas P. (ISBN……
- en: amzn.to](https://amzn.to/3WblFp1?source=post_page-----f2d3b40738e--------------------------------)
  id: totrans-468
  prefs: []
  type: TYPE_NORMAL
  zh: '[amzn.to](https://amzn.to/3WblFp1?source=post_page-----f2d3b40738e--------------------------------)'
- en: 'Note: These are affiliate links so if you decide to purchase via these links,
    I will receive a small proportion at no extra cost to you.'
  id: totrans-469
  prefs: []
  type: TYPE_NORMAL
  zh: 注：这些是附属链接，如果你通过这些链接购买，我将获得一小部分佣金，对你没有额外费用。
