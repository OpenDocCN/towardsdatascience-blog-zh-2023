- en: Level Up Your Data Storytelling with Animated Bar Charts in Plotly
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: åœ¨ Plotly ä¸­æå‡ä½ çš„æ•°æ®è®²è¿°èƒ½åŠ›ï¼Œä½¿ç”¨åŠ¨ç”»æŸ±çŠ¶å›¾
- en: åŸæ–‡ï¼š[https://towardsdatascience.com/level-up-your-data-storytelling-with-animated-bar-charts-in-plotly-f9ace6d73f27](https://towardsdatascience.com/level-up-your-data-storytelling-with-animated-bar-charts-in-plotly-f9ace6d73f27)
  id: totrans-1
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: åŸæ–‡ï¼š[https://towardsdatascience.com/level-up-your-data-storytelling-with-animated-bar-charts-in-plotly-f9ace6d73f27](https://towardsdatascience.com/level-up-your-data-storytelling-with-animated-bar-charts-in-plotly-f9ace6d73f27)
- en: Transforming static plots into captivating narratives
  id: totrans-2
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: å°†é™æ€å›¾è¡¨è½¬å˜ä¸ºå¼•äººå…¥èƒœçš„å™è¿°
- en: '[](https://brian-mattis.medium.com/?source=post_page-----f9ace6d73f27--------------------------------)[![Brian
    Mattis](../Images/40296183ee475462f7699b65f3a30eba.png)](https://brian-mattis.medium.com/?source=post_page-----f9ace6d73f27--------------------------------)[](https://towardsdatascience.com/?source=post_page-----f9ace6d73f27--------------------------------)[![Towards
    Data Science](../Images/a6ff2676ffcc0c7aad8aaf1d79379785.png)](https://towardsdatascience.com/?source=post_page-----f9ace6d73f27--------------------------------)
    [Brian Mattis](https://brian-mattis.medium.com/?source=post_page-----f9ace6d73f27--------------------------------)'
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: '[](https://brian-mattis.medium.com/?source=post_page-----f9ace6d73f27--------------------------------)[![Brian
    Mattis](../Images/40296183ee475462f7699b65f3a30eba.png)](https://brian-mattis.medium.com/?source=post_page-----f9ace6d73f27--------------------------------)[](https://towardsdatascience.com/?source=post_page-----f9ace6d73f27--------------------------------)[![Towards
    Data Science](../Images/a6ff2676ffcc0c7aad8aaf1d79379785.png)](https://towardsdatascience.com/?source=post_page-----f9ace6d73f27--------------------------------)
    [Brian Mattis](https://brian-mattis.medium.com/?source=post_page-----f9ace6d73f27--------------------------------)'
- en: Â·Published in [Towards Data Science](https://towardsdatascience.com/?source=post_page-----f9ace6d73f27--------------------------------)
    Â·6 min readÂ·Dec 2, 2023
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: Â·å‘è¡¨äº [Towards Data Science](https://towardsdatascience.com/?source=post_page-----f9ace6d73f27--------------------------------)
    Â·6 åˆ†é’Ÿé˜…è¯»Â·2023 å¹´ 12 æœˆ 2 æ—¥
- en: --
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: --
- en: '![](../Images/4e12d61700b107cf6c44cc6091ebec87.png)'
  id: totrans-6
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/4e12d61700b107cf6c44cc6091ebec87.png)'
- en: Photo by [Teemu Paananen](https://unsplash.com/@xteemu?utm_source=medium&utm_medium=referral)
    on [Unsplash](https://unsplash.com/?utm_source=medium&utm_medium=referral)
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: å›¾ç‰‡æ¥æºï¼š[Teemu Paananen](https://unsplash.com/@xteemu?utm_source=medium&utm_medium=referral)
    åœ¨ [Unsplash](https://unsplash.com/?utm_source=medium&utm_medium=referral)
- en: Plotly supports an excellent foundation for animated plots. I highly recommend
    their basic tutorial [here](https://plotly.com/python/animations/). However, plotly
    animations are primarily set up to add another dimension to the visualization
    â€” usually time. This is fantastic for adding more meaning to a plot.
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: Plotly æ”¯æŒåŠ¨ç”»å›¾è¡¨çš„**ä¼˜ç§€åŸºç¡€**ã€‚æˆ‘å¼ºçƒˆæ¨èä»–ä»¬çš„åŸºç¡€æ•™ç¨‹ [è¿™é‡Œ](https://plotly.com/python/animations/)ã€‚ç„¶è€Œï¼Œplotly
    åŠ¨ç”»ä¸»è¦æ˜¯ä¸ºäº†ç»™å¯è§†åŒ–æ·»åŠ å¦ä¸€ä¸ªç»´åº¦â€”â€”é€šå¸¸æ˜¯æ—¶é—´ã€‚è¿™å¯¹ä¸ºå›¾è¡¨å¢æ·»æ›´å¤šæ„ä¹‰éå¸¸æ£’ã€‚
- en: Animation, however, *doesnâ€™t have to be used to add complexity to a plot*. The
    ability to **emphasize** with animation is powerful. When we have the pivotal
    graph for our audience, we want to pull in their attention without explicitly
    shouting â€œThis is the plot you should really pay attention to!â€ Our eyes are naturally
    drawn to things moving, and animated plots can have a way of building up anticipation.
    Your audience engages and mentally tries to anticipate next bar or line in real
    time. Imagine if key business decisions hinge on this plot â€” your audience waits
    with baited breath while the results unfold before their eyes!
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: ç„¶è€Œï¼Œ*åŠ¨ç”»ä¸å¿…ç”¨äºå¢åŠ å›¾è¡¨çš„å¤æ‚æ€§*ã€‚åˆ©ç”¨åŠ¨ç”»è¿›è¡Œ**å¼ºè°ƒ**æ˜¯éå¸¸å¼ºå¤§çš„ã€‚å½“æˆ‘ä»¬ä¸ºè§‚ä¼—å‡†å¤‡å¥½å…³é”®å›¾è¡¨æ—¶ï¼Œæˆ‘ä»¬å¸Œæœ›å¸å¼•ä»–ä»¬çš„æ³¨æ„ï¼Œè€Œä¸æ˜¯æ˜ç¡®åœ°å–Šå‡ºâ€œè¿™æ˜¯ä½ åº”è¯¥ç‰¹åˆ«å…³æ³¨çš„å›¾è¡¨ï¼â€æˆ‘ä»¬çš„è§†çº¿è‡ªç„¶ä¼šè¢«ç§»åŠ¨çš„ä¸œè¥¿å¸å¼•ï¼ŒåŠ¨ç”»å›¾è¡¨å¯ä»¥åœ¨æŸç§ç¨‹åº¦ä¸Šè¥é€ å‡ºæœŸå¾…æ„Ÿã€‚ä½ çš„è§‚ä¼—ä¼šå‚ä¸å…¶ä¸­ï¼Œè¯•å›¾å®æ—¶é¢„æµ‹ä¸‹ä¸€æ¡æŸ±çŠ¶å›¾æˆ–çº¿æ¡ã€‚å¦‚æœå…³é”®ä¸šåŠ¡å†³ç­–ä¾èµ–äºè¿™ä¸ªå›¾è¡¨â€”â€”ä½ çš„è§‚ä¼—ä¼šå±æ¯ä»¥å¾…ï¼Œçœ¼çççœ‹ç€ç»“æœå±•å¼€ï¼
- en: 'To put it in perspective â€” imagine youâ€™re 20 minutes into a colleagueâ€™s presentation
    â€” which graph grabs your attention? This simple (pandas-generated) graph:'
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸ºäº†æ›´å¥½åœ°ç†è§£â€”â€”æƒ³è±¡ä¸€ä¸‹ä½ å·²ç»çœ‹äº†åŒäº‹çš„æ¼”ç¤ºæ–‡ç¨¿ 20 åˆ†é’Ÿâ€”â€”å“ªä¸ªå›¾è¡¨å¸å¼•äº†ä½ çš„æ³¨æ„ï¼Ÿè¿™ä¸ªç®€å•çš„ï¼ˆpandas ç”Ÿæˆçš„ï¼‰å›¾è¡¨ï¼š
- en: '![](../Images/9f8ff96c7540f05c923ad44140386e00.png)'
  id: totrans-11
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/9f8ff96c7540f05c923ad44140386e00.png)'
- en: Basic bar plot â€” Image by Author
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: åŸºæœ¬æŸ±çŠ¶å›¾â€”â€”ä½œè€…æä¾›çš„å›¾åƒ
- en: 'Or this animated graph of the same data:'
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ–è€…è¿™å¼ ç›¸åŒæ•°æ®çš„åŠ¨ç”»å›¾è¡¨ï¼š
- en: '![](../Images/ffbeeee8afa37382e4c7e854e7600139.png)'
  id: totrans-14
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/ffbeeee8afa37382e4c7e854e7600139.png)'
- en: Custom Plotly animated bar plot â€” Image by Author
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: è‡ªå®šä¹‰ Plotly åŠ¨ç”»æŸ±çŠ¶å›¾â€”â€”ä½œè€…æä¾›çš„å›¾åƒ
- en: Building in Plotly
  id: totrans-16
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: åœ¨ Plotly ä¸­æ„å»º
- en: 'To pull this off in Plotly, we actually have to reshuffle our data a bit. Again,
    Plotly animations are set up to step with some sequence (usually time). So, weâ€™re
    going to stretch our data to effectively make a frame for each data point. Here
    we go:'
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: è¦åœ¨ Plotly ä¸­å®ç°è¿™ä¸€ç‚¹ï¼Œæˆ‘ä»¬å®é™…ä¸Šéœ€è¦ç¨å¾®é‡æ–°æ’åˆ—æ•°æ®ã€‚åŒæ ·ï¼ŒPlotly åŠ¨ç”»çš„è®¾ç½®æ˜¯æŒ‰æŸç§é¡ºåºï¼ˆé€šå¸¸æ˜¯æ—¶é—´ï¼‰è¿›è¡Œçš„ã€‚å› æ­¤ï¼Œæˆ‘ä»¬å°†æ‰©å±•æ•°æ®ä»¥æœ‰æ•ˆåœ°ä¸ºæ¯ä¸ªæ•°æ®ç‚¹åˆ¶ä½œä¸€ä¸ªå¸§ã€‚æ¥å§ï¼š
- en: 'First, letâ€™s import the plotly package (install with pip if you havenâ€™t already),
    and create a dummy data set to work with:'
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: é¦–å…ˆï¼Œè®©æˆ‘ä»¬å¯¼å…¥ plotly åŒ…ï¼ˆå¦‚æœè¿˜æ²¡æœ‰å®‰è£…ï¼Œè¯·ä½¿ç”¨ pip å®‰è£…ï¼‰ï¼Œå¹¶åˆ›å»ºä¸€ä¸ªè™šæ‹Ÿæ•°æ®é›†è¿›è¡Œæ“ä½œï¼š
- en: 'To use plotlyâ€™s animation directly, weâ€™ll need to augment our data set into
    this:'
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: è¦ç›´æ¥ä½¿ç”¨ plotly çš„åŠ¨ç”»ï¼Œæˆ‘ä»¬éœ€è¦å°†æ•°æ®é›†å¢å¼ºä¸ºä»¥ä¸‹å†…å®¹ï¼š
- en: '![](../Images/73e28d4e10301c794f68cd18faf1f64d.png)'
  id: totrans-20
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/73e28d4e10301c794f68cd18faf1f64d.png)'
- en: Data transformation for animated bars â€” Image by Author
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: åŠ¨ç”»æ¡å½¢å›¾çš„æ•°æ®è½¬æ¢ â€” å›¾ç‰‡æ¥è‡ªä½œè€…
- en: 'Weâ€™ll want to effectively stack copies of our dataframe, with the number of
    copies being the length of our original dataframe. With each copy, weâ€™ll want
    to add a Frame value to set its sequence in the animation. Where it gets tricky
    is that we want more bars to appear with each step of the sequence. We want to
    start with no bars showing on our plot, so for the first Frame weâ€™ll set all of
    the values to 0\. Then, on the second Frame weâ€™ll set all of them to zero ***except***
    the first data point (A: 10). This method continues until the last Frame (Frame
    #6 in this case) shows all of the values from our original data.'
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: 'æˆ‘ä»¬éœ€è¦æœ‰æ•ˆåœ°å †å æ•°æ®æ¡†çš„å‰¯æœ¬ï¼Œå‰¯æœ¬çš„æ•°é‡ä¸åŸå§‹æ•°æ®æ¡†çš„é•¿åº¦ç›¸åŒã€‚å¯¹äºæ¯ä¸ªå‰¯æœ¬ï¼Œæˆ‘ä»¬éœ€è¦æ·»åŠ ä¸€ä¸ª Frame å€¼æ¥è®¾ç½®å…¶åœ¨åŠ¨ç”»ä¸­çš„åºåˆ—ã€‚é—®é¢˜åœ¨äºï¼Œæˆ‘ä»¬å¸Œæœ›æ¯ä¸€æ­¥åºåˆ—ä¸­å‡ºç°æ›´å¤šçš„æ¡å½¢å›¾ã€‚æˆ‘ä»¬å¸Œæœ›åœ¨ç»˜å›¾ä¸­å¼€å§‹æ—¶ä¸æ˜¾ç¤ºä»»ä½•æ¡å½¢å›¾ï¼Œå› æ­¤å¯¹äºç¬¬ä¸€ä¸ª
    Frameï¼Œæˆ‘ä»¬å°†æ‰€æœ‰å€¼è®¾ç½®ä¸º 0ã€‚ç„¶åï¼Œåœ¨ç¬¬äºŒä¸ª Frame ä¸Šï¼Œæˆ‘ä»¬å°†æ‰€æœ‰å€¼è®¾ç½®ä¸º 0 ***é™¤äº†*** ç¬¬ä¸€ä¸ªæ•°æ®ç‚¹ï¼ˆA: 10ï¼‰ã€‚è¿™ä¸ªæ–¹æ³•ä¸€ç›´æŒç»­åˆ°æœ€åä¸€ä¸ª
    Frameï¼ˆåœ¨è¿™ç§æƒ…å†µä¸‹æ˜¯ Frame #6ï¼‰æ˜¾ç¤ºæˆ‘ä»¬åŸå§‹æ•°æ®ä¸­çš„æ‰€æœ‰å€¼ã€‚'
- en: 'At this point we have set up individual â€œFrameâ€ elements for Plotly to smoothly
    animate between. Note that we **are not** coding every frame of the animation,
    we simply are snapshotting the final value for each Label, one-by-one, and letting
    Plotly fill in the blanks. Now we just need a helper function so we can apply
    this transformation concept to any simple dataframe:'
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: åˆ°æ­¤ä¸ºæ­¢ï¼Œæˆ‘ä»¬å·²ç»ä¸º Plotly è®¾ç½®äº†å•ç‹¬çš„â€œFrameâ€å…ƒç´ ï¼Œä»¥ä¾¿å¹³æ»‘åœ°åŠ¨ç”»è¿‡æ¸¡ã€‚è¯·æ³¨æ„ï¼Œæˆ‘ä»¬**æ²¡æœ‰**ä¸ºåŠ¨ç”»ç¼–ç æ¯ä¸€å¸§ï¼Œæˆ‘ä»¬åªæ˜¯é€ä¸ªå¿«ç…§æ¯ä¸ª
    Label çš„æœ€ç»ˆå€¼ï¼Œè®© Plotly å¡«è¡¥ç©ºç™½ã€‚ç°åœ¨æˆ‘ä»¬åªéœ€è¦ä¸€ä¸ªè¾…åŠ©å‡½æ•°ï¼Œè¿™æ ·æˆ‘ä»¬å°±å¯ä»¥å°†è¿™ä¸ªè½¬æ¢æ¦‚å¿µåº”ç”¨äºä»»ä½•ç®€å•çš„æ•°æ®æ¡†ï¼š
- en: Dataframe stacking and sequencing function
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: æ•°æ®æ¡†å †å å’Œæ’åºå‡½æ•°
- en: In this code, we start my creating our blank destination dataframe, which will
    be the returned output. We loop through for as many times as there are elements
    in the passed-in dataframe â€” `range(len(starting_df)+1)`. We add 1 here, as the
    first Frame will have all values zeroed out so that our plot starts out empty.
    Within the for loop, we start with a deep copy of the original dataframe. This
    means that changes we make to this copy wonâ€™t propagate back to the original.
    On this free-and-clear copy we add a Frame value, and zero out some of the data
    points, depending on which loop weâ€™re on. Finally, we can add this copy to the
    end of the final dataframe weâ€™re constructing.
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨è¿™æ®µä»£ç ä¸­ï¼Œæˆ‘ä»¬é¦–å…ˆåˆ›å»ºä¸€ä¸ªç©ºç™½çš„ç›®æ ‡æ•°æ®æ¡†ï¼Œå®ƒå°†ä½œä¸ºè¿”å›çš„è¾“å‡ºã€‚æˆ‘ä»¬å¾ªç¯éå†ä¼ å…¥æ•°æ®æ¡†ä¸­çš„å…ƒç´ æ•°é‡ â€” `range(len(starting_df)+1)`ã€‚æˆ‘ä»¬åœ¨è¿™é‡ŒåŠ äº†
    1ï¼Œå› ä¸ºç¬¬ä¸€ä¸ª Frame å°†æ‰€æœ‰å€¼éƒ½ç½®ä¸ºé›¶ï¼Œä»¥ä¾¿æˆ‘ä»¬çš„å›¾å¼€å§‹æ—¶ä¸ºç©ºã€‚åœ¨å¾ªç¯å†…éƒ¨ï¼Œæˆ‘ä»¬ä»åŸå§‹æ•°æ®æ¡†çš„æ·±æ‹·è´å¼€å§‹ã€‚è¿™æ„å‘³ç€æˆ‘ä»¬å¯¹è¿™ä¸ªå‰¯æœ¬æ‰€åšçš„æ›´æ”¹ä¸ä¼šä¼ é€’å›åŸå§‹æ•°æ®æ¡†ã€‚åœ¨è¿™ä¸ªå¹²å‡€çš„å‰¯æœ¬ä¸Šï¼Œæˆ‘ä»¬æ·»åŠ ä¸€ä¸ª
    Frame å€¼ï¼Œå¹¶æ ¹æ®æˆ‘ä»¬æ‰€åœ¨çš„å¾ªç¯æ¬¡æ•°å°†ä¸€äº›æ•°æ®ç‚¹ç½®ä¸ºé›¶ã€‚æœ€åï¼Œæˆ‘ä»¬å¯ä»¥å°†è¿™ä¸ªå‰¯æœ¬æ·»åŠ åˆ°æˆ‘ä»¬æ­£åœ¨æ„å»ºçš„æœ€ç»ˆæ•°æ®æ¡†çš„æœ«å°¾ã€‚
- en: Plotting
  id: totrans-26
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: ç»˜å›¾
- en: 'From here weâ€™re ready to start plotting. If we just use the stock plotly function,
    it looks something like this:'
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: ä»è¿™é‡Œå¼€å§‹æˆ‘ä»¬å‡†å¤‡å¼€å§‹ç»˜å›¾ã€‚å¦‚æœæˆ‘ä»¬åªæ˜¯ä½¿ç”¨é»˜è®¤çš„ plotly å‡½æ•°ï¼Œå®ƒçœ‹èµ·æ¥ä¼šåƒè¿™æ ·ï¼š
- en: '![](../Images/390f7cfac691f0ebb596a05707ad2729.png)'
  id: totrans-28
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/390f7cfac691f0ebb596a05707ad2729.png)'
- en: Default plotting setup â€” Image by Author
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: é»˜è®¤ç»˜å›¾è®¾ç½® â€” å›¾ç‰‡æ¥è‡ªä½œè€…
- en: 'As you can see, it gets a little wonky at the get-go. This mainly has to do
    with how the plot autoscales the y-axis as the data appears. Itâ€™s not particularly
    surprising, as when it first plots (Frame=0), all of the values are zero. On top
    of that, the speed of the sequence may not be what you want. Maybe you want it
    to draw the bars a bit slower? Maybe itâ€™d be nice to have a pause between drawing
    bars? These are all modifiable parameters. Best of all, with plotly, we donâ€™t
    even have to have the bars grow linearly â€” there are a broad set transition settings
    you can use. To clean this plot into something Iâ€™d want to present, Iâ€™ll alter
    the:'
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: æ­£å¦‚ä½ æ‰€è§ï¼Œå¼€å§‹æ—¶æœ‰ç‚¹æ€ªå¼‚ã€‚è¿™ä¸»è¦ä¸ç»˜å›¾å¦‚ä½•è‡ªåŠ¨ç¼©æ”¾ y è½´ä»¥é€‚åº”æ•°æ®æœ‰å…³ã€‚è¿™å¹¶ä¸ç‰¹åˆ«ä»¤äººæƒŠè®¶ï¼Œå› ä¸ºåœ¨å®ƒç¬¬ä¸€æ¬¡ç»˜åˆ¶æ—¶ï¼ˆFrame=0ï¼‰ï¼Œæ‰€æœ‰å€¼éƒ½æ˜¯é›¶ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œåºåˆ—çš„é€Ÿåº¦å¯èƒ½ä¸æ˜¯ä½ æƒ³è¦çš„ã€‚ä¹Ÿè®¸ä½ æƒ³è®©æ¡å½¢å›¾ç»˜åˆ¶å¾—æ…¢ä¸€ç‚¹ï¼Ÿä¹Ÿè®¸åœ¨ç»˜åˆ¶æ¡å½¢å›¾ä¹‹é—´æœ‰ä¸€ä¸ªæš‚åœä¼šå¾ˆå¥½ï¼Ÿè¿™äº›éƒ½æ˜¯å¯è°ƒæ•´çš„å‚æ•°ã€‚æœ€å¥½çš„éƒ¨åˆ†æ˜¯ï¼Œä½¿ç”¨
    plotlyï¼Œæˆ‘ä»¬ç”šè‡³ä¸éœ€è¦æ¡å½¢å›¾çº¿æ€§å¢é•¿ â€” ä½ å¯ä»¥ä½¿ç”¨ä¸€ç³»åˆ—çš„è¿‡æ¸¡è®¾ç½®ã€‚ä¸ºäº†å°†è¿™ä¸ªå›¾å½¢æ¸…ç†æˆæˆ‘æƒ³å±•ç¤ºçš„æ ·å­ï¼Œæˆ‘å°†è°ƒæ•´ï¼š
- en: Y-axis range (take the max value in the dataframe and add 10%)
  id: totrans-31
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Yè½´èŒƒå›´ï¼ˆå–æ•°æ®æ¡†ä¸­çš„æœ€å¤§å€¼å¹¶åŠ ä¸Š10%ï¼‰
- en: Figure size and aspect ratio
  id: totrans-32
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å›¾å½¢å¤§å°å’Œçºµæ¨ªæ¯”
- en: Duration of each Frame and the time between Frames
  id: totrans-33
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æ¯å¸§çš„æŒç»­æ—¶é—´å’Œå¸§ä¹‹é—´çš„æ—¶é—´
- en: The animation movement itself (transition)
  id: totrans-34
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: åŠ¨ç”»ç§»åŠ¨æœ¬èº«ï¼ˆè¿‡æ¸¡ï¼‰
- en: '![](../Images/b5aaa768847c84bedf9fe3ceb36050b4.png)'
  id: totrans-35
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/b5aaa768847c84bedf9fe3ceb36050b4.png)'
- en: Formatted animated bar plot using the â€œquad-outâ€ animation â€” Image by Author
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: ä½¿ç”¨â€œquad-outâ€åŠ¨ç”»æ ¼å¼åŒ–çš„åŠ¨ç”»æ¡å½¢å›¾â€”â€”ä½œè€…æä¾›çš„å›¾åƒ
- en: In this case, I used the â€œquad-outâ€ transition, but there are bunch to chose
    from that can impact the visualization. Check out the documentation [here](https://plotly.com/python/reference/layout/sliders/#layout-sliders-items-slider-transition-easing)
    and give a few a try â€” â€œbounceâ€ in particular is pretty entertaining (though maybe
    not the most professional). There are also lots of [settings](https://plotly.com/python/reference/layout/sliders/)
    you can alter to modify or remove the buttons below the plot, though depending
    on how you export your graph, it may not be necessary.
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä½¿ç”¨äº†â€œquad-outâ€è¿‡æ¸¡æ•ˆæœï¼Œä½†è¿˜æœ‰å¾ˆå¤šå¯ä»¥é€‰æ‹©çš„æ•ˆæœï¼Œè¿™äº›æ•ˆæœä¼šå½±å“å¯è§†åŒ–æ•ˆæœã€‚å¯ä»¥æŸ¥çœ‹æ–‡æ¡£ [è¿™é‡Œ](https://plotly.com/python/reference/layout/sliders/#layout-sliders-items-slider-transition-easing)
    å¹¶å°è¯•å‡ ç§æ•ˆæœâ€”â€”ç‰¹åˆ«æ˜¯â€œbounceâ€æ•ˆæœç›¸å½“æœ‰è¶£ï¼ˆå°½ç®¡å¯èƒ½ä¸æ˜¯æœ€ä¸“ä¸šçš„ï¼‰ã€‚è¿˜æœ‰è®¸å¤šå¯ä»¥è°ƒæ•´çš„ [è®¾ç½®](https://plotly.com/python/reference/layout/sliders/)ï¼Œå¯ä»¥ç”¨æ¥ä¿®æ”¹æˆ–ç§»é™¤å›¾è¡¨ä¸‹æ–¹çš„æŒ‰é’®ï¼Œä¸è¿‡è¿™å¯èƒ½å–å†³äºä½ å¯¼å‡ºå›¾è¡¨çš„æ–¹å¼ï¼Œæœ‰æ—¶å¯èƒ½å¹¶ä¸å¿…è¦ã€‚
- en: Export to GIF
  id: totrans-38
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: å¯¼å‡ºä¸º GIF
- en: Now for the bad news â€” thereâ€™s no built-in way to extract these animations in
    Plotly. Youâ€™ll have to do a work-around for now. There are packages you can use
    to extract to a movie file like `moviepy`, but this is a bit overkill if weâ€™re
    looking to put this into a powerpoint or web-based customer dashboard. An animated
    GIF is really what weâ€™re after here. While extracting the animation frames as
    pngs with Plotlyâ€™s graph_objects and using other packages to build the GIF inline
    is an option, itâ€™s a bit out of scope for this post. For now, itâ€™s easy to use
    a basic GIF screen-capture software on the Jupyter Notebook window. There are
    lots of options out there â€” [here](https://www.screentogif.com/) is a free one
    that worked for me.
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: ç°åœ¨æœ‰ä¸ªåæ¶ˆæ¯â€”â€”Plotlyæ²¡æœ‰å†…ç½®çš„æ–¹æ³•æ¥æå–è¿™äº›åŠ¨ç”»ã€‚ä½ ç°åœ¨éœ€è¦åšä¸€äº›å˜é€šçš„æ–¹æ³•ã€‚æœ‰äº›åŒ…å¯ä»¥ç”¨æ¥æå–æˆç”µå½±æ–‡ä»¶ï¼Œå¦‚ `moviepy`ï¼Œä½†å¦‚æœæˆ‘ä»¬è¦å°†å…¶æ”¾å…¥æ¼”ç¤ºæ–‡ç¨¿æˆ–åŸºäºç½‘é¡µçš„å®¢æˆ·ä»ªè¡¨æ¿ä¸­ï¼Œè¿™å¯èƒ½æœ‰äº›è¿‡äºå¤æ‚ã€‚æˆ‘ä»¬çœŸæ­£éœ€è¦çš„æ˜¯ä¸€ä¸ªåŠ¨ç”»
    GIFã€‚è™½ç„¶ä½¿ç”¨ Plotly çš„ graph_objects æå–åŠ¨ç”»å¸§ä¸º PNG å¹¶ä½¿ç”¨å…¶ä»–åŒ…åœ¨çº¿ç”Ÿæˆ GIF æ˜¯ä¸€ä¸ªé€‰é¡¹ï¼Œä½†è¿™è¶…å‡ºäº†æœ¬å¸–çš„èŒƒå›´ã€‚ç°åœ¨ï¼Œå¯ä»¥ä½¿ç”¨åŸºæœ¬çš„
    GIF å±å¹•æ•æ‰è½¯ä»¶åœ¨ Jupyter Notebook çª—å£ä¸Šè¿›è¡Œæ“ä½œã€‚è¿™é‡Œæœ‰å¾ˆå¤šé€‰æ‹©â€”â€”[è¿™é‡Œ](https://www.screentogif.com/)
    æœ‰ä¸€ä¸ªå…è´¹çš„è½¯ä»¶å¯¹æˆ‘æœ‰æ•ˆã€‚
- en: Extra Credit
  id: totrans-40
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: é¢å¤–åŠ åˆ†
- en: 'Of course, this sequence is made to draw the bars from left to right. Should
    we want the opposite, Frame #1 would have a value for F (16) and A would still
    be 0\. This may come in handy for line plots, where multiple lines can grow from
    different sides of the plot. ğŸ¤¯'
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: å½“ç„¶ï¼Œè¿™ä¸ªåºåˆ—æ˜¯ä¸ºäº†ä»å·¦åˆ°å³ç»˜åˆ¶æ¡å½¢å›¾ã€‚å¦‚æœæˆ‘ä»¬æƒ³è¦ç›¸åçš„æ•ˆæœï¼Œå¸§#1çš„Få€¼å°†ä¸º16ï¼Œè€ŒAå€¼ä»ä¸º0ã€‚è¿™åœ¨ç»˜åˆ¶æŠ˜çº¿å›¾æ—¶å¯èƒ½ä¼šå¾ˆæœ‰ç”¨ï¼Œå…¶ä¸­å¤šæ¡çº¿å¯ä»¥ä»å›¾è¡¨çš„ä¸åŒä¾§é¢ç”Ÿé•¿ã€‚ğŸ¤¯
- en: Conclusion
  id: totrans-42
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: ç»“è®º
- en: I hope you can see how adding a bit of animation can make a simple plot much
    more impactful to our audience. By using this relatively simple function we can
    quickly and easily transition our static plots into images that are dramatically
    more engaging. Of course, this is just the start! As followers of my channel know,
    I love enhancing plots with meaningful [bar color gradients](https://medium.com/towards-data-science/beautiful-bars-scaled-gradient-fill-on-bar-plots-e4da4cdae033)
    and [background transitions](https://medium.com/towards-data-science/custom-matplotlib-colormaps-for-danger-zone-plots-62310983eb67)
    to intuitively communicate more to our audience. More on that coming soon.
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘å¸Œæœ›ä½ èƒ½çœ‹åˆ°æ·»åŠ ä¸€ç‚¹åŠ¨ç”»å¦‚ä½•ä½¿ç®€å•çš„å›¾è¡¨å¯¹è§‚ä¼—æ›´å…·å½±å“åŠ›ã€‚é€šè¿‡ä½¿ç”¨è¿™ä¸ªç›¸å¯¹ç®€å•çš„åŠŸèƒ½ï¼Œæˆ‘ä»¬å¯ä»¥å¿«é€Ÿè€Œè½»æ¾åœ°å°†é™æ€å›¾è¡¨è½¬æ¢æˆæå…·å¸å¼•åŠ›çš„å›¾åƒã€‚å½“ç„¶ï¼Œè¿™åªæ˜¯ä¸€ä¸ªå¼€å§‹ï¼æ­£å¦‚æˆ‘é¢‘é“çš„ç²‰ä¸æ‰€çŸ¥é“çš„ï¼Œæˆ‘å–œæ¬¢ç”¨æœ‰æ„ä¹‰çš„
    [æ¡å½¢é¢œè‰²æ¸å˜](https://medium.com/towards-data-science/beautiful-bars-scaled-gradient-fill-on-bar-plots-e4da4cdae033)
    å’Œ [èƒŒæ™¯è¿‡æ¸¡](https://medium.com/towards-data-science/custom-matplotlib-colormaps-for-danger-zone-plots-62310983eb67)
    æ¥ç›´è§‚åœ°å‘è§‚ä¼—ä¼ è¾¾æ›´å¤šä¿¡æ¯ã€‚æ›´å¤šå†…å®¹å³å°†åˆ°æ¥ã€‚
- en: As usual, the entire code walk-through notebook can be [snagged from my github](https://github.com/bamattis/Blog/tree/main/Plotly_animation).
    ***Please follow me if you found this useful!*** Cheers, and happy coding out
    there.
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: å’Œå¾€å¸¸ä¸€æ ·ï¼Œæ•´ä¸ªä»£ç æ¼”ç¤ºç¬”è®°æœ¬å¯ä»¥ [ä»æˆ‘çš„ github è·å–](https://github.com/bamattis/Blog/tree/main/Plotly_animation)ã€‚***å¦‚æœä½ è§‰å¾—è¿™æœ‰ç”¨ï¼Œè¯·å…³æ³¨æˆ‘ï¼***
    ç¥å¥½ï¼Œç¼–ç æ„‰å¿«ã€‚
