- en: The Most Complete Guide for Creating a Good PyPI Package
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: åˆ›å»ºä¸€ä¸ªä¼˜ç§€ PyPI åŒ…çš„æœ€å®Œæ•´æŒ‡å—
- en: åŸæ–‡ï¼š[https://towardsdatascience.com/the-complete-guide-for-creating-a-good-pypi-package-acb5420a03f8](https://towardsdatascience.com/the-complete-guide-for-creating-a-good-pypi-package-acb5420a03f8)
  id: totrans-1
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: åŸæ–‡ï¼š[https://towardsdatascience.com/the-complete-guide-for-creating-a-good-pypi-package-acb5420a03f8](https://towardsdatascience.com/the-complete-guide-for-creating-a-good-pypi-package-acb5420a03f8)
- en: Everything you need to know â€” for new and experienced users
  id: totrans-2
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: ä½ éœ€è¦äº†è§£çš„æ‰€æœ‰å†…å®¹â€”â€”æ— è®ºæ˜¯æ–°æ‰‹è¿˜æ˜¯ç»éªŒä¸°å¯Œçš„ç”¨æˆ·
- en: '[](https://eliselandman.medium.com/?source=post_page-----acb5420a03f8--------------------------------)[![Elise
    Landman](../Images/1cd86aa9df340e430820a48f4d26de5a.png)](https://eliselandman.medium.com/?source=post_page-----acb5420a03f8--------------------------------)[](https://towardsdatascience.com/?source=post_page-----acb5420a03f8--------------------------------)[![Towards
    Data Science](../Images/a6ff2676ffcc0c7aad8aaf1d79379785.png)](https://towardsdatascience.com/?source=post_page-----acb5420a03f8--------------------------------)
    [Elise Landman](https://eliselandman.medium.com/?source=post_page-----acb5420a03f8--------------------------------)'
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: '[](https://eliselandman.medium.com/?source=post_page-----acb5420a03f8--------------------------------)[![Elise
    Landman](../Images/1cd86aa9df340e430820a48f4d26de5a.png)](https://eliselandman.medium.com/?source=post_page-----acb5420a03f8--------------------------------)[](https://towardsdatascience.com/?source=post_page-----acb5420a03f8--------------------------------)[![Towards
    Data Science](../Images/a6ff2676ffcc0c7aad8aaf1d79379785.png)](https://towardsdatascience.com/?source=post_page-----acb5420a03f8--------------------------------)
    [Elise Landman](https://eliselandman.medium.com/?source=post_page-----acb5420a03f8--------------------------------)'
- en: Â·Published in [Towards Data Science](https://towardsdatascience.com/?source=post_page-----acb5420a03f8--------------------------------)
    Â·11 min readÂ·Mar 27, 2023
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: Â·å‘å¸ƒåœ¨ [Towards Data Science](https://towardsdatascience.com/?source=post_page-----acb5420a03f8--------------------------------)
    Â·11åˆ†é’Ÿé˜…è¯»Â·2023å¹´3æœˆ27æ—¥
- en: --
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: --
- en: '![](../Images/726e161623b0a5e82e1c2c669eee378e.png)'
  id: totrans-6
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/726e161623b0a5e82e1c2c669eee378e.png)'
- en: Image from [Unsplash](https://unsplash.com/photos/DYHx6h3lMdY).
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: å›¾ç‰‡æ¥æºäº [Unsplash](https://unsplash.com/photos/DYHx6h3lMdY)ã€‚
- en: '**Python Package Index** (or [PyP](https://pypi.org/)I) is the official **software
    repository** for third-party **Python packages**. It is a one-stop-shop for Python
    programmers for any pre-built and reusable software components â€” making our coding
    lives easier and more efficient. A simple `pip install`and any PyPI package can
    easily be downloaded and installed on our machines.'
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: '**Python åŒ…ç´¢å¼•**ï¼ˆæˆ–[PyP](https://pypi.org/)Iï¼‰æ˜¯ç¬¬ä¸‰æ–¹**Python åŒ…**çš„å®˜æ–¹**è½¯ä»¶åº“**ã€‚å®ƒæ˜¯ Python
    ç¨‹åºå‘˜è·å–ä»»ä½•é¢„æ„å»ºå’Œå¯é‡ç”¨çš„è½¯ä»¶ç»„ä»¶çš„ä¸€ç«™å¼å•†åº—â€”â€”è®©æˆ‘ä»¬çš„ç¼–ç ç”Ÿæ´»æ›´åŠ è½»æ¾å’Œé«˜æ•ˆã€‚ä¸€ä¸ªç®€å•çš„`pip install`å°±å¯ä»¥è½»æ¾ä¸‹è½½å¹¶å®‰è£…ä»»ä½• PyPI
    åŒ…ã€‚'
- en: After 2 years of ongoing development and updates to [my own PyPI package](https://github.com/elisemercury/Duplicate-Image-Finder),
    I learned many things that I wish I knew from day one. In this guide, I will **share
    all my learnings and tips** that can **make your PyPI package upload** and **maintenance**
    **more successful**.
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨å¯¹[æˆ‘è‡ªå·±çš„ PyPI åŒ…](https://github.com/elisemercury/Duplicate-Image-Finder)è¿›è¡Œä¸¤å¹´çš„æŒç»­å¼€å‘å’Œæ›´æ–°åï¼Œæˆ‘å­¦åˆ°äº†è®¸å¤šå¸Œæœ›ä¸€å¼€å§‹å°±çŸ¥é“çš„ä¸œè¥¿ã€‚åœ¨æœ¬æŒ‡å—ä¸­ï¼Œæˆ‘å°†**åˆ†äº«æˆ‘æ‰€æœ‰çš„ç»éªŒå’ŒæŠ€å·§**ï¼Œè¿™äº›å¯ä»¥**è®©ä½ çš„
    PyPI åŒ…ä¸Šä¼ **å’Œ**ç»´æŠ¤**å˜å¾—**æ›´åŠ æˆåŠŸ**ã€‚
- en: 'This guide is divided into 2 parts:'
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: æœ¬æŒ‡å—åˆ†ä¸ºä¸¤ä¸ªéƒ¨åˆ†ï¼š
- en: ğŸ‘‰ If you are *new to PyPI* and this will be your first package, start at:[**1
    | Preparing your Package for PyPI**](/the-complete-guide-for-creating-a-good-pypi-package-acb5420a03f8#:~:text=your%20PyPI%20Package-,1%20%7C%20Preparing%20your%20Package%20for%20PyPI,-When%20uploading%20your)
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: ğŸ‘‰ å¦‚æœä½ æ˜¯*PyPI æ–°æ‰‹*ï¼Œå¹¶ä¸”è¿™æ˜¯ä½ çš„ç¬¬ä¸€ä¸ªåŒ…ï¼Œä»ä»¥ä¸‹éƒ¨åˆ†å¼€å§‹ï¼š[**1 | ä¸º PyPI å‡†å¤‡ä½ çš„åŒ…**](/the-complete-guide-for-creating-a-good-pypi-package-acb5420a03f8#:~:text=your%20PyPI%20Package-,1%20%7C%20Preparing%20your%20Package%20for%20PyPI,-When%20uploading%20your)
- en: ğŸ‘‰ If you are *already a PyPI user* and have uploaded your package, start at:[**2
    | Uploading and Maintaining your PyPI Package**](/the-complete-guide-for-creating-a-good-pypi-package-acb5420a03f8#:~:text=to%20PyPI!%20%F0%9F%9A%80-,2%20%7C%20Uploading%20and%20Maintaining%20your%20PyPI%20Package,-If%20your%20package)
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: ğŸ‘‰ å¦‚æœä½ *å·²ç»æ˜¯ PyPI ç”¨æˆ·*å¹¶ä¸”å·²ç»ä¸Šä¼ äº†ä½ çš„åŒ…ï¼Œä»ä»¥ä¸‹éƒ¨åˆ†å¼€å§‹ï¼š[**2 | ä¸Šä¼ å’Œç»´æŠ¤ä½ çš„ PyPI åŒ…**](/the-complete-guide-for-creating-a-good-pypi-package-acb5420a03f8#:~:text=to%20PyPI!%20%F0%9F%9A%80-,2%20%7C%20Uploading%20and%20Maintaining%20your%20PyPI%20Package,-If%20your%20package)
- en: 1 | Preparing your Package for PyPI
  id: totrans-13
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 1 | ä¸º PyPI å‡†å¤‡ä½ çš„åŒ…
- en: 'When uploading your package to [PyPI](https://pypi.org/), you are making it
    available for anyone to install via the `pip`installer. Anyone could then run
    the command:'
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: å½“ä½ å°†ä½ çš„åŒ…ä¸Šä¼ åˆ°[PyPI](https://pypi.org/)æ—¶ï¼Œä½ æ˜¯è®©ä»»ä½•äººéƒ½å¯ä»¥é€šè¿‡`pip`å®‰è£…å™¨è¿›è¡Œå®‰è£…ã€‚ä»»ä½•äººéƒ½å¯ä»¥è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š
- en: '[PRE0]'
  id: totrans-15
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: 'and it will be installed on their machines. To make your **code ready for PyPI**,
    there are a few steps you need to follow:'
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: å¹¶ä¸”å®ƒå°†è¢«å®‰è£…åˆ°ä»–ä»¬çš„æœºå™¨ä¸Šã€‚ä¸ºäº†è®©ä½ çš„**ä»£ç é€‚åˆ PyPI**ï¼Œä½ éœ€è¦éµå¾ªä¸€äº›æ­¥éª¤ï¼š
- en: First of all, you will need to [**create a PyPI account**](https://pypi.org/account/register/).
    I highly recommend activating two-factor authentication for enhanced account security.
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: é¦–å…ˆï¼Œä½ éœ€è¦[**åˆ›å»ºä¸€ä¸ªPyPIè´¦æˆ·**](https://pypi.org/account/register/)ã€‚æˆ‘å¼ºçƒˆå»ºè®®å¯ç”¨åŒå› ç´ è®¤è¯ä»¥å¢å¼ºè´¦æˆ·å®‰å…¨ã€‚
- en: 'Secondly, you need to **prepare the folder structure** of your package and
    add a few required files. These include:'
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: å…¶æ¬¡ï¼Œä½ éœ€è¦**å‡†å¤‡åŒ…çš„æ–‡ä»¶å¤¹ç»“æ„**å¹¶æ·»åŠ ä¸€äº›å¿…éœ€çš„æ–‡ä»¶ã€‚è¿™äº›æ–‡ä»¶åŒ…æ‹¬ï¼š
- en: The `__init__.py` file that will initialize your package.
  id: totrans-19
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '`__init__.py`æ–‡ä»¶å°†åˆå§‹åŒ–ä½ çš„åŒ…ã€‚'
- en: A `version.py` file that will contain the version of your package.
  id: totrans-20
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: ä¸€ä¸ªåŒ…å«ä½ çš„åŒ…ç‰ˆæœ¬çš„`version.py`æ–‡ä»¶ã€‚
- en: 'The files to actually build your Python package: `setup.py`, `pyproject.toml`,
    `setup.cfg` and `MANIFEST.in`.'
  id: totrans-21
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: å®é™…æ„å»ºPythonåŒ…æ‰€éœ€çš„æ–‡ä»¶ï¼š`setup.py`ã€`pyproject.toml`ã€`setup.cfg`å’Œ`MANIFEST.in`ã€‚
- en: The `LICENSE.txt` file.
  id: totrans-22
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '`LICENSE.txt`æ–‡ä»¶ã€‚'
- en: And the `README.md` file.
  id: totrans-23
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: ä»¥åŠ`README.md`æ–‡ä»¶ã€‚
- en: 'After all these have been added, the **final file structure** of your package
    will look as follows:'
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨æ·»åŠ äº†æ‰€æœ‰è¿™äº›æ–‡ä»¶åï¼Œä½ çš„åŒ…çš„**æœ€ç»ˆæ–‡ä»¶ç»“æ„**å°†å¦‚ä¸‹æ‰€ç¤ºï¼š
- en: '[PRE1]'
  id: totrans-25
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: 'And with a bit of imagination, your package could soon look similar to this:'
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: åªéœ€ç¨åŠ æƒ³è±¡ï¼Œä½ çš„åŒ…å¾ˆå¿«å°±ä¼šç±»ä¼¼äºä¸‹å›¾ï¼š
- en: '![](../Images/201500802c8dd528773e9e40676f2052.png)'
  id: totrans-27
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/201500802c8dd528773e9e40676f2052.png)'
- en: Sample PyPI Package. Image from [PyPI.org](https://pypi.org/) by author.
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: ç¤ºä¾‹PyPIåŒ…ã€‚å›¾ç‰‡æ¥è‡ª[PyPI.org](https://pypi.org/)ç”±ä½œè€…æä¾›ã€‚
- en: Letâ€™s **go through each** of the required files together and see why we need
    them, as well as what they can look like.
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸€èµ·**é€ä¸ªæŸ¥çœ‹**æ‰€éœ€çš„æ–‡ä»¶ï¼Œäº†è§£æˆ‘ä»¬ä¸ºä»€ä¹ˆéœ€è¦å®ƒä»¬ï¼Œä»¥åŠå®ƒä»¬å¯èƒ½çš„æ ·å­ã€‚
- en: 1.1 | __init__.py
  id: totrans-30
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 1.1 | __init__.py
- en: 'This file will **mark your folder as a Python package** and make sure that
    your package is properly imported when launched. A sample for the `__init__.py`
    file could be:'
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™ä¸ªæ–‡ä»¶å°†**æ ‡è®°ä½ çš„æ–‡ä»¶å¤¹ä¸ºPythonåŒ…**ï¼Œå¹¶ç¡®ä¿åœ¨å¯åŠ¨æ—¶ä½ çš„åŒ…èƒ½è¢«æ­£ç¡®å¯¼å…¥ã€‚`__init__.py`æ–‡ä»¶çš„ç¤ºä¾‹å¦‚ä¸‹ï¼š
- en: '[PRE2]'
  id: totrans-32
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: '`your_package.py` is the main script of your package that will be imported
    through the `__init__.py` file. You can of course import more than one main script,
    if desired.'
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: '`your_package.py`æ˜¯ä½ çš„åŒ…çš„ä¸»è¦è„šæœ¬ï¼Œå®ƒå°†é€šè¿‡`__init__.py`æ–‡ä»¶è¢«å¯¼å…¥ã€‚å½“ç„¶ï¼Œä½ ä¹Ÿå¯ä»¥æ ¹æ®éœ€è¦å¯¼å…¥å¤šä¸ªä¸»è¦è„šæœ¬ã€‚'
- en: 1.2 | your_package.py
  id: totrans-34
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 1.2 | your_package.py
- en: As mentioned in section *1.1*, `your_package.py` is the main **script of your
    package** that you should already have created. You can include **more than one
    script** in your package, if desired.
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: å¦‚*1.1*èŠ‚ä¸­æåˆ°çš„ï¼Œ`your_package.py`æ˜¯ä½ åº”è¯¥å·²ç»åˆ›å»ºçš„åŒ…çš„ä¸»è¦**è„šæœ¬**ã€‚å¦‚æœéœ€è¦ï¼Œä½ å¯ä»¥åœ¨åŒ…ä¸­åŒ…å«**å¤šä¸ªè„šæœ¬**ã€‚
- en: 1.3 | version.py
  id: totrans-36
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 1.3 | version.py
- en: 'Often, popular Python packages let you **look up their version** by calling
    the `.__version__` function. As an example, you can look up the [Pandas](https://pandas.pydata.org/)
    version installed on your machine by executing the following code line below:'
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: é€šå¸¸ï¼Œæµè¡Œçš„PythonåŒ…å…è®¸ä½ é€šè¿‡è°ƒç”¨`.__version__`å‡½æ•°æ¥**æŸ¥æ‰¾å®ƒä»¬çš„ç‰ˆæœ¬**ã€‚ä¾‹å¦‚ï¼Œä½ å¯ä»¥é€šè¿‡æ‰§è¡Œä»¥ä¸‹ä»£ç è¡Œæ¥æŸ¥æ‰¾ä½ æœºå™¨ä¸Šå®‰è£…çš„[Pandas](https://pandas.pydata.org/)ç‰ˆæœ¬ï¼š
- en: '[PRE3]'
  id: totrans-38
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: 'To ensure the same can be done with your package, you will want to include
    a `version.py` file in your package folder. This file can look as simple as below:'
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸ºäº†ç¡®ä¿ä½ çš„åŒ…ä¹Ÿèƒ½å®Œæˆç›¸åŒçš„æ“ä½œï¼Œä½ éœ€è¦åœ¨åŒ…æ–‡ä»¶å¤¹ä¸­åŒ…å«ä¸€ä¸ª`version.py`æ–‡ä»¶ã€‚è¿™ä¸ªæ–‡ä»¶å¯ä»¥åƒä¸‹é¢è¿™æ ·ç®€å•ï¼š
- en: '[PRE4]'
  id: totrans-40
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: 1.4 | setup.py and pyproject.toml
  id: totrans-41
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 1.4 | setup.py å’Œ pyproject.toml
- en: The `setup.py` file, as well as the `pyproject.toml` file are configuration
    files used to **build your package**. `pyproject.toml` is a new type of configuration
    file introduced with the [PEP 517](https://peps.python.org/pep-0517/) and [PEP
    518](https://peps.python.org/pep-0518/) standards.
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: '`setup.py`æ–‡ä»¶å’Œ`pyproject.toml`æ–‡ä»¶æ˜¯ç”¨äº**æ„å»ºä½ çš„åŒ…**çš„é…ç½®æ–‡ä»¶ã€‚`pyproject.toml`æ˜¯éšç€[PEP 517](https://peps.python.org/pep-0517/)å’Œ[PEP
    518](https://peps.python.org/pep-0518/)æ ‡å‡†å¼•å…¥çš„æ–°å‹é…ç½®æ–‡ä»¶ã€‚'
- en: '*But, when to use which?*'
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: '*é‚£ä¹ˆï¼Œä»€ä¹ˆæ—¶å€™ç”¨å“ªä¸ªå‘¢ï¼Ÿ*'
- en: When you want to create a Python package, it first has to be built. There are
    various popular Python build systems, f. e. `setuptools` is one of them. But,
    in some cases you might choose to use others, such as `[Poetry](https://python-poetry.org/)`,
    `[Flit](https://flit.pypa.io/en/stable/)` [](https://flit.pypa.io/en/stable/)
    or `[Bento](https://cournape.github.io/Bento/)`. `pyproject.toml` replaces the
    `setup.py` file when using packaging tools **other than** `setuptools`.
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: å½“ä½ æƒ³åˆ›å»ºä¸€ä¸ªPythonåŒ…æ—¶ï¼Œé¦–å…ˆå¿…é¡»æ„å»ºå®ƒã€‚æœ‰å„ç§æµè¡Œçš„Pythonæ„å»ºç³»ç»Ÿï¼Œä¾‹å¦‚`setuptools`å°±æ˜¯å…¶ä¸­ä¹‹ä¸€ã€‚ä½†åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œä½ å¯èƒ½ä¼šé€‰æ‹©ä½¿ç”¨å…¶ä»–å·¥å…·ï¼Œå¦‚[Poetry](https://python-poetry.org/)ã€[Flit](https://flit.pypa.io/en/stable/)æˆ–[Bento](https://cournape.github.io/Bento/)ã€‚å½“ä½¿ç”¨**å…¶ä»–**æ‰“åŒ…å·¥å…·æ—¶ï¼Œ`pyproject.toml`ä¼šæ›¿ä»£`setup.py`æ–‡ä»¶ã€‚
- en: When using `setuptools` as build system, it is recommended to include both the
    `setup.py` file and the `pyproject.toml` file. If you use any other build system,
    you will usually only need the `pyproject.toml` file. For this guide, we will
    be using `setuptools` and therefore, I highly recommend to **include both files**
    in your package. For more details, I suggest checking out [this post](https://stackoverflow.com/questions/62983756/what-is-pyproject-toml-file-for).
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: å½“ä½¿ç”¨`setuptools`ä½œä¸ºæ„å»ºç³»ç»Ÿæ—¶ï¼Œå»ºè®®åŒ…æ‹¬`setup.py`æ–‡ä»¶å’Œ`pyproject.toml`æ–‡ä»¶ã€‚å¦‚æœä½ ä½¿ç”¨å…¶ä»–æ„å»ºç³»ç»Ÿï¼Œé€šå¸¸åªéœ€è¦`pyproject.toml`æ–‡ä»¶ã€‚å¯¹äºæœ¬æŒ‡å—ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨`setuptools`ï¼Œå› æ­¤æˆ‘å¼ºçƒˆå»ºè®®**åœ¨ä½ çš„åŒ…ä¸­åŒ…å«è¿™ä¸¤ä¸ªæ–‡ä»¶**ã€‚æœ‰å…³æ›´å¤šè¯¦ç»†ä¿¡æ¯ï¼Œæˆ‘å»ºè®®æŸ¥çœ‹[è¿™ç¯‡æ–‡ç« ](https://stackoverflow.com/questions/62983756/what-is-pyproject-toml-file-for)ã€‚
- en: 'Below is a template for `setup.py` that you can edit and reuse:'
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸‹é¢æ˜¯ä¸€ä¸ª`setup.py`çš„æ¨¡æ¿ï¼Œä½ å¯ä»¥ç¼–è¾‘å¹¶é‡å¤ä½¿ç”¨ï¼š
- en: '[PRE5]'
  id: totrans-47
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: 'Secondly, below is a template for `pyproject.toml`:'
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: å…¶æ¬¡ï¼Œä¸‹é¢æ˜¯`pyproject.toml`çš„æ¨¡æ¿ï¼š
- en: '[PRE6]'
  id: totrans-49
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: 1.5 | setup.cfg
  id: totrans-50
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 1.5 | setup.cfg
- en: 'This file is needed so that **metadata is included** when building your package.
    For example: the package name, the name of the author, a homepage URL, supported
    Python versions, etc. It also makes sure PyPI uses your `README.md` as package
    description and references the `LICENSE.txt` file.'
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™ä¸ªæ–‡ä»¶æ˜¯å¿…éœ€çš„ï¼Œä»¥ä¾¿åœ¨æ„å»ºä½ çš„åŒ…æ—¶**åŒ…å«å…ƒæ•°æ®**ã€‚ä¾‹å¦‚ï¼šåŒ…çš„åç§°ã€ä½œè€…çš„åå­—ã€ä¸»é¡µ URLã€æ”¯æŒçš„ Python ç‰ˆæœ¬ç­‰ã€‚å®ƒè¿˜ç¡®ä¿ PyPI ä½¿ç”¨ä½ çš„`README.md`ä½œä¸ºåŒ…æè¿°ï¼Œå¹¶å¼•ç”¨`LICENSE.txt`æ–‡ä»¶ã€‚
- en: '[PRE7]'
  id: totrans-52
  prefs: []
  type: TYPE_PRE
  zh: '[PRE7]'
- en: 1.6 | MANIFEST.in
  id: totrans-53
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 1.6 | MANIFEST.in
- en: 'You might have created a package that is made up of **multiple different scripts**,
    or includes **additional files** used by the main script. For example, your package
    could look like this:'
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: ä½ å¯èƒ½åˆ›å»ºäº†ä¸€ä¸ªç”±**å¤šä¸ªä¸åŒè„šæœ¬**ç»„æˆçš„åŒ…ï¼Œæˆ–è€…åŒ…å«**ä¸»è„šæœ¬ä½¿ç”¨çš„é™„åŠ æ–‡ä»¶**ã€‚ä¾‹å¦‚ï¼Œä½ çš„åŒ…å¯èƒ½çœ‹èµ·æ¥åƒè¿™æ ·ï¼š
- en: '[PRE8]'
  id: totrans-55
  prefs: []
  type: TYPE_PRE
  zh: '[PRE8]'
- en: 'By default, when uploading to PyPI, only the scripts referenced in the `__init__.py`
    file will be included in the uploaded package. If we want any other scripts or
    files to be included, we need to reference them here:'
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: é»˜è®¤æƒ…å†µä¸‹ï¼Œå½“ä¸Šä¼ åˆ° PyPI æ—¶ï¼Œåªæœ‰åœ¨`__init__.py`æ–‡ä»¶ä¸­å¼•ç”¨çš„è„šæœ¬ä¼šè¢«åŒ…å«åœ¨ä¸Šä¼ çš„åŒ…ä¸­ã€‚å¦‚æœæˆ‘ä»¬å¸Œæœ›åŒ…å«å…¶ä»–è„šæœ¬æˆ–æ–‡ä»¶ï¼Œéœ€è¦åœ¨æ­¤å¤„è¿›è¡Œå¼•ç”¨ï¼š
- en: '[PRE9]'
  id: totrans-57
  prefs: []
  type: TYPE_PRE
  zh: '[PRE9]'
- en: 1.7 | LICENSE.txt
  id: totrans-58
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 1.7 | LICENSE.txt
- en: This file will include the **license** that you are **distributing your package**
    under. Itâ€™s up to you to decide which license to use, nevertheless, make sure
    that you respect the licenses of the packages that yours depends on. You might
    not be allowed to copyright your package if it uses packages that are already
    under copyright.
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™ä¸ªæ–‡ä»¶å°†åŒ…å«ä½ **åˆ†å‘åŒ…çš„è®¸å¯**ã€‚é€‰æ‹©ä½¿ç”¨å“ªä¸ªè®¸å¯å–å†³äºä½ ï¼Œä¸è¿‡ï¼Œç¡®ä¿å°Šé‡ä½ åŒ…æ‰€ä¾èµ–çš„åŒ…çš„è®¸å¯ã€‚å¦‚æœä½ ä½¿ç”¨äº†å·²ç»æœ‰ç‰ˆæƒçš„åŒ…ï¼Œä½ å¯èƒ½ä¸èƒ½å¯¹ä½ çš„åŒ…è¿›è¡Œç‰ˆæƒä¿æŠ¤ã€‚
- en: A commonly used license for **open source software** is MIT. You can find a
    sample of the MIT license content [here](https://opensource.org/license/mit/).
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: å¯¹äº**å¼€æºè½¯ä»¶**ï¼Œå¸¸ç”¨çš„è®¸å¯æ˜¯ MITã€‚ä½ å¯ä»¥åœ¨[è¿™é‡Œ](https://opensource.org/license/mit/)æ‰¾åˆ° MIT è®¸å¯å†…å®¹çš„ç¤ºä¾‹ã€‚
- en: 1.8 | README.md
  id: totrans-61
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 1.8 | README.md
- en: The `README.md` file can be used as a source for the **description of your package**
    (i. e. the content of the PyPI page). In this guide, we are using a markdown based
    `README`, but you can choose any of the [supported markup languages](https://packaging.python.org/en/latest/guides/making-a-pypi-friendly-readme/#creating-a-readme-file).
    If you decide to change the markup type, make sure to also adjust the `long_description_content_type`
    variable in your `setup.cfg` file.
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: '`README.md`æ–‡ä»¶å¯ä»¥ç”¨ä½œ**ä½ åŒ…çš„æè¿°**ï¼ˆå³ PyPI é¡µé¢å†…å®¹ï¼‰ã€‚åœ¨æœ¬æŒ‡å—ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨åŸºäº Markdown çš„`README`ï¼Œä½†ä½ å¯ä»¥é€‰æ‹©ä»»ä½•[æ”¯æŒçš„æ ‡è®°è¯­è¨€](https://packaging.python.org/en/latest/guides/making-a-pypi-friendly-readme/#creating-a-readme-file)ã€‚å¦‚æœä½ å†³å®šæ›´æ”¹æ ‡è®°ç±»å‹ï¼Œè¯·ç¡®ä¿åœ¨`setup.cfg`æ–‡ä»¶ä¸­è°ƒæ•´`long_description_content_type`å˜é‡ã€‚'
- en: You could use the same `README` as f. e. in your GitHub repository, but be aware
    that PyPI markdown is not identical to GitHubâ€™s markdown and that you might experience
    issues with formatting f. e. when using [emojis](https://github.com/ikatyang/emoji-cheat-sheet/blob/master/README.md)
    or [badges](https://github.com/Ileriayo/markdown-badges).
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: ä½ å¯ä»¥ä½¿ç”¨ä¸ GitHub ä»“åº“ä¸­ç›¸åŒçš„`README`ï¼Œä½†è¦æ³¨æ„ PyPI çš„ Markdown ä¸ GitHub çš„ Markdown ä¸å®Œå…¨ç›¸åŒï¼Œå¯èƒ½åœ¨ä½¿ç”¨[è¡¨æƒ…ç¬¦å·](https://github.com/ikatyang/emoji-cheat-sheet/blob/master/README.md)æˆ–[å¾½ç« ](https://github.com/Ileriayo/markdown-badges)æ—¶ä¼šé‡åˆ°æ ¼å¼é—®é¢˜ã€‚
- en: After having added all the required files, your package is **ready to be uploaded
    to PyPI**! ğŸš€
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨æ·»åŠ æ‰€æœ‰å¿…éœ€çš„æ–‡ä»¶åï¼Œä½ çš„åŒ…å·²ç»**å‡†å¤‡å¥½ä¸Šä¼ åˆ° PyPI**äº†ï¼ğŸš€
- en: '**2 | Uploading and Maintaining your PyPI Package**'
  id: totrans-65
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '**2 | ä¸Šä¼ å’Œç»´æŠ¤ä½ çš„ PyPI åŒ…**'
- en: If your package is fully updated and ready to be published to PyPI, the next
    following sections are right for you. Below you will find some tips and recommendations
    on how to avoid common mistakes and pitfalls. Applying these will make the upload-
    and update-cycle of your PyPI packages smoother, and ultimately better.
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: å¦‚æœä½ çš„åŒ…å·²ç»å®Œå…¨æ›´æ–°å¹¶å‡†å¤‡å¥½å‘å¸ƒåˆ° PyPIï¼Œé‚£ä¹ˆæ¥ä¸‹æ¥çš„éƒ¨åˆ†æ­£é€‚åˆä½ ã€‚ä¸‹é¢ä½ å°†æ‰¾åˆ°ä¸€äº›é¿å…å¸¸è§é”™è¯¯å’Œé™·é˜±çš„æç¤ºå’Œå»ºè®®ã€‚åº”ç”¨è¿™äº›å»ºè®®å°†ä½¿ä½ çš„ PyPI
    åŒ…çš„ä¸Šä¼ å’Œæ›´æ–°å‘¨æœŸæ›´åŠ é¡ºç•…ï¼Œæœ€ç»ˆæ•ˆæœæ›´å¥½ã€‚
- en: 2.1 | Upload your Package first to TestPyPI
  id: totrans-67
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 2.1 | é¦–å…ˆå°†ä½ çš„åŒ…ä¸Šä¼ åˆ° TestPyPI
- en: 'To submit your package to PyPI, you need to first **build it** and then use
    the [Twine](https://pypi.org/project/twine/) package to **upload it**. Twine can
    be easily installed via the `pip` installer, as shown below:'
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: è¦æäº¤ä½ çš„åŒ…åˆ° PyPIï¼Œä½ éœ€è¦å…ˆ**æ„å»ºå®ƒ**ï¼Œç„¶åä½¿ç”¨[Twine](https://pypi.org/project/twine/)åŒ…æ¥**ä¸Šä¼ å®ƒ**ã€‚Twine
    å¯ä»¥é€šè¿‡ `pip` å®‰è£…ç¨‹åºè½»æ¾å®‰è£…ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š
- en: '[PRE10]'
  id: totrans-69
  prefs: []
  type: TYPE_PRE
  zh: '[PRE10]'
- en: 'But, before uploading anything to PyPI, I highly recommend to **first upload
    your package to** [**TestPyPI**](https://test.pypi.org/). Why? Because, once uploaded
    to PyPI:'
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: ä½†æ˜¯ï¼Œåœ¨å°†ä»»ä½•ä¸œè¥¿ä¸Šä¼ åˆ° PyPI ä¹‹å‰ï¼Œæˆ‘å¼ºçƒˆå»ºè®®**é¦–å…ˆå°†ä½ çš„åŒ…ä¸Šä¼ åˆ°**[**TestPyPI**](https://test.pypi.org/)ã€‚ä¸ºä»€ä¹ˆï¼Ÿå› ä¸ºä¸€æ—¦ä¸Šä¼ åˆ°
    PyPIï¼š
- en: You **cannot edit the uploaded content** of your package. This means you cannot
    fix issues in your package metadata, your code, your package description (i. e.
    the README), etc. Bugs and typos will stay there, until you fix them in the next
    upload.
  id: totrans-71
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ä½ **ä¸èƒ½ç¼–è¾‘å·²ä¸Šä¼ çš„å†…å®¹**ã€‚è¿™æ„å‘³ç€ä½ ä¸èƒ½ä¿®å¤åŒ…å…ƒæ•°æ®ã€ä»£ç ã€åŒ…æè¿°ï¼ˆå³ READMEï¼‰ä¸­çš„é—®é¢˜ç­‰ã€‚é”™è¯¯å’Œæ‹¼å†™é”™è¯¯å°†ä¿ç•™ï¼Œç›´åˆ°ä½ åœ¨ä¸‹ä¸€æ¬¡ä¸Šä¼ æ—¶ä¿®å¤å®ƒä»¬ã€‚
- en: 'And, even worse: package **versions cannot be re-uploaded**. As soon as you
    uploaded f. e. version 1.0.0 of your package, even if you delete this version
    from PyPI, you cannot re-upload version 1.0.0 anymore â€” ever.'
  id: totrans-72
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æ›´ç³Ÿç³•çš„æ˜¯ï¼šåŒ…çš„**ç‰ˆæœ¬ä¸èƒ½é‡æ–°ä¸Šä¼ **ã€‚ä¾‹å¦‚ï¼Œä¸€æ—¦ä½ ä¸Šä¼ äº†ç‰ˆæœ¬ 1.0.0ï¼Œå³ä½¿ä½ ä» PyPI ä¸­åˆ é™¤äº†è¯¥ç‰ˆæœ¬ï¼Œä½ ä¹Ÿä¸èƒ½å†é‡æ–°ä¸Šä¼ ç‰ˆæœ¬ 1.0.0 â€”â€”
    æ°¸è¿œä¸èƒ½ã€‚
- en: TestPyPI allows you to **upload your package and test it**, before actually
    uploading it to PyPI. It is a complete separate instance of PyPI, meaning you
    will need to [create a TestPyPI account](https://test.pypi.org/account/register/).
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: TestPyPI å…è®¸ä½ **ä¸Šä¼ å¹¶æµ‹è¯•ä½ çš„åŒ…**ï¼Œåœ¨å®é™…ä¸Šä¼ åˆ° PyPI ä¹‹å‰ã€‚è¿™æ˜¯ PyPI çš„ä¸€ä¸ªå®Œå…¨ç‹¬ç«‹çš„å®ä¾‹ï¼Œæ„å‘³ç€ä½ éœ€è¦[åˆ›å»ºä¸€ä¸ª TestPyPI
    è´¦æˆ·](https://test.pypi.org/account/register/)ã€‚
- en: 'To **upload a package to TestPyPI**, execute the following commands in your
    package folder:'
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: è¦**å°†åŒ…ä¸Šä¼ åˆ° TestPyPI**ï¼Œåœ¨ä½ çš„åŒ…æ–‡ä»¶å¤¹ä¸­æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š
- en: '[PRE11]'
  id: totrans-75
  prefs: []
  type: TYPE_PRE
  zh: '[PRE11]'
- en: '*This will upload a source and a built distribution of your package (see section
    2.2 for more details).*'
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: '*è¿™å°†ä¸Šä¼ ä½ çš„åŒ…çš„æºåˆ†å‘ç‰ˆå’Œæ„å»ºåˆ†å‘ç‰ˆï¼ˆæ›´å¤šç»†èŠ‚è¯·å‚è§ç¬¬ 2.2 èŠ‚ï¼‰ã€‚*'
- en: 'After you have done your tests and checks, **upload your package to PyPI**
    by executing to following commands:'
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨å®Œæˆæµ‹è¯•å’Œæ£€æŸ¥åï¼Œé€šè¿‡æ‰§è¡Œä»¥ä¸‹å‘½ä»¤**å°†ä½ çš„åŒ…ä¸Šä¼ åˆ° PyPI**ï¼š
- en: '[PRE12]'
  id: totrans-78
  prefs: []
  type: TYPE_PRE
  zh: '[PRE12]'
- en: It took me quite some time to discover TestPyPI and since then, I cannot do
    without â€” and I am sure you will neither.
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘èŠ±äº†ç›¸å½“é•¿çš„æ—¶é—´æ‰å‘ç° TestPyPIï¼Œè‡ªé‚£æ—¶èµ·ï¼Œæˆ‘å†ä¹Ÿç¦»ä¸å¼€å®ƒ â€”â€” æˆ‘ç›¸ä¿¡ä½ ä¹Ÿä¼šå¦‚æ­¤ã€‚
- en: 2.2 | Upload Wheels with your Package
  id: totrans-80
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 2.2 | ä¸ä½ çš„åŒ…ä¸€èµ·ä¸Šä¼  Wheels
- en: 'I noticed that online guides on â€œhow to upload a package to PyPIâ€ often display
    the following commands:'
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘æ³¨æ„åˆ°åœ¨çº¿æŒ‡å—ä¸­â€œå¦‚ä½•ä¸Šä¼ åŒ…åˆ° PyPIâ€ç»å¸¸æ˜¾ç¤ºä»¥ä¸‹å‘½ä»¤ï¼š
- en: '[PRE13]'
  id: totrans-82
  prefs: []
  type: TYPE_PRE
  zh: '[PRE13]'
- en: This will upload **a source distribution** of your package to PyPI from which
    it can be downloaded and installed via the `pip` installer.
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™å°†ä¸Šä¼ **ä½ çš„åŒ…çš„æºåˆ†å‘ç‰ˆ**åˆ° PyPIï¼Œä¾›é€šè¿‡ `pip` å®‰è£…ç¨‹åºä¸‹è½½å’Œå®‰è£…ã€‚
- en: In addition to uploading the source distribution,I can highly recommend to also
    **upload a built distribution** (i. e.a Python wheel) of your package. Wheels
    have various advantages for your users, including **faster installation times**,
    since they are usually **smaller in size** and because they donâ€™t have to first
    be built from the source distribution when installed.
  id: totrans-84
  prefs: []
  type: TYPE_NORMAL
  zh: é™¤äº†ä¸Šä¼ æºåˆ†å‘ç‰ˆï¼Œæˆ‘å¼ºçƒˆæ¨èåŒæ—¶**ä¸Šä¼ æ„å»ºåˆ†å‘ç‰ˆ**ï¼ˆå³ Python wheelï¼‰ã€‚å› ä¸º wheel é€šå¸¸**ä½“ç§¯æ›´å°**ä¸”å®‰è£…æ—¶æ— éœ€ä»æºåˆ†å‘ç‰ˆé‡æ–°æ„å»ºï¼Œæ‰€ä»¥å¯¹ç”¨æˆ·æ¥è¯´**å®‰è£…æ—¶é—´æ›´å¿«**ã€‚
- en: '![](../Images/695cf961f1b0c2fbb730b6ede8c2065b.png)'
  id: totrans-85
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/695cf961f1b0c2fbb730b6ede8c2065b.png)'
- en: PyPI Package Files. Image from [PyPI.org](https://pypi.org/) by author.
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
  zh: PyPI åŒ…æ–‡ä»¶ã€‚å›¾ç‰‡æ¥æºäº[PyPI.org](https://pypi.org/)ä½œè€…ã€‚
- en: 'Tocreate a built distributionof your package, you will first need to install
    the [Wheel](https://pypi.org/project/wheel/) package:'
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
  zh: è¦åˆ›å»ºä½ åŒ…çš„æ„å»ºåˆ†å‘ç‰ˆï¼Œä½ é¦–å…ˆéœ€è¦å®‰è£…[Wheel](https://pypi.org/project/wheel/)åŒ…ï¼š
- en: '[PRE14]'
  id: totrans-88
  prefs: []
  type: TYPE_PRE
  zh: '[PRE14]'
- en: 'You can then execute the following commands to **create the source and built
    distribution**, and upload them to PyPI:'
  id: totrans-89
  prefs: []
  type: TYPE_NORMAL
  zh: ç„¶åä½ å¯ä»¥æ‰§è¡Œä»¥ä¸‹å‘½ä»¤**åˆ›å»ºæºåˆ†å‘ç‰ˆå’Œæ„å»ºåˆ†å‘ç‰ˆ**ï¼Œå¹¶å°†å®ƒä»¬ä¸Šä¼ åˆ° PyPIï¼š
- en: '[PRE15]'
  id: totrans-90
  prefs: []
  type: TYPE_PRE
  zh: '[PRE15]'
- en: 'Wheels can be built specifically for certain Python versions and OS types.
    The above command will **create a Python 3 OS-independent wheel**. Nevertheless,
    for your use case you might want to add multiple wheel types: for example, if
    your package should support Python 2, you can include a Python 2 wheel. For more
    information on wheels, I can recommend checking out [the following article](https://realpython.com/python-wheels/).'
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
  zh: å¯ä»¥ä¸“é—¨ä¸ºç‰¹å®šçš„ Python ç‰ˆæœ¬å’Œæ“ä½œç³»ç»Ÿç±»å‹æ„å»º Wheelsã€‚ä¸Šè¿°å‘½ä»¤å°†**åˆ›å»ºä¸€ä¸ª Python 3 æ“ä½œç³»ç»Ÿç‹¬ç«‹çš„ wheel**ã€‚ç„¶è€Œï¼Œå¯¹äºä½ çš„ä½¿ç”¨åœºæ™¯ï¼Œä½ å¯èƒ½éœ€è¦æ·»åŠ å¤šä¸ª
    wheel ç±»å‹ï¼šä¾‹å¦‚ï¼Œå¦‚æœä½ çš„åŒ…åº”è¯¥æ”¯æŒ Python 2ï¼Œä½ å¯ä»¥åŒ…æ‹¬ä¸€ä¸ª Python 2 çš„ wheelã€‚æœ‰å…³ wheel çš„æ›´å¤šä¿¡æ¯ï¼Œæˆ‘å»ºè®®æŸ¥çœ‹[ä»¥ä¸‹æ–‡ç« ](https://realpython.com/python-wheels/)ã€‚
- en: 2.3 | Properly Version your Package
  id: totrans-92
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 2.3 | æ­£ç¡®ç‰ˆæœ¬åŒ–ä½ çš„åŒ…
- en: Whenever you make changes to your package, make sure to **upload them to a new
    version release**. Versioning your package is very important, since your users
    will be able to follow the changes you made and update their package installation
    if necessary. Do not make updates to an existing version in your repository, as
    this is not best practice.
  id: totrans-93
  prefs: []
  type: TYPE_NORMAL
  zh: æ¯æ¬¡å¯¹ä½ çš„åŒ…è¿›è¡Œæ›´æ”¹æ—¶ï¼Œç¡®ä¿**å°†å…¶ä¸Šä¼ åˆ°æ–°ç‰ˆæœ¬å‘å¸ƒ**ã€‚ç‰ˆæœ¬ç®¡ç†ä½ çš„åŒ…éå¸¸é‡è¦ï¼Œå› ä¸ºä½ çš„ç”¨æˆ·å°†èƒ½å¤Ÿè·Ÿè¸ªä½ æ‰€åšçš„æ›´æ”¹ï¼Œå¹¶åœ¨å¿…è¦æ—¶æ›´æ–°ä»–ä»¬çš„åŒ…å®‰è£…ã€‚ä¸è¦åœ¨ç°æœ‰ç‰ˆæœ¬ä¸­è¿›è¡Œæ›´æ–°ï¼Œå› ä¸ºè¿™ä¸æ˜¯æœ€ä½³å®è·µã€‚
- en: Below you will find a **few steps you can follow to implement proper versioning
    for your package:**
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: ä»¥ä¸‹æ˜¯ä½ å¯ä»¥éµå¾ªçš„**å®æ–½æ­£ç¡®ç‰ˆæœ¬ç®¡ç†çš„å‡ ä¸ªæ­¥éª¤**ï¼š
- en: '**Define a versioning syntax** and be consistent with it. For example: start
    with 1.0.0\. If you make a minor change to your package, release 1.0.1\. If you
    make a major change, release 1.1.0, etc.'
  id: totrans-95
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**å®šä¹‰ä¸€ä¸ªç‰ˆæœ¬æ§åˆ¶è¯­æ³•**å¹¶ä¿æŒä¸€è‡´ã€‚ä¾‹å¦‚ï¼šä»1.0.0å¼€å§‹ã€‚å¦‚æœä½ å¯¹åŒ…è¿›è¡Œäº†ä¸€äº›å°çš„æ›´æ”¹ï¼Œå‘å¸ƒ1.0.1ã€‚å¦‚æœä½ è¿›è¡Œäº†ä¸€æ¬¡é‡å¤§æ›´æ”¹ï¼Œå‘å¸ƒ1.1.0ï¼Œç­‰ç­‰ã€‚'
- en: '**Update the version** in your `version.py` file (as described in section *1.3*)'
  id: totrans-96
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: åœ¨ä½ çš„`version.py`æ–‡ä»¶ä¸­**æ›´æ–°ç‰ˆæœ¬**ï¼ˆå¦‚ç¬¬*1.3*èŠ‚æ‰€è¿°ï¼‰
- en: '**Create a new version release** on GitHub (or any other source repository
    you are using for your package) and add release notes to it (what features were
    added/deleted? did you fix any bugs?).'
  id: totrans-97
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: åœ¨ GitHubï¼ˆæˆ–ä½ ä¸ºä½ çš„åŒ…ä½¿ç”¨çš„ä»»ä½•å…¶ä»–æºä»£ç ä»“åº“ï¼‰ä¸Š**åˆ›å»ºä¸€ä¸ªæ–°ç‰ˆæœ¬å‘å¸ƒ**å¹¶æ·»åŠ å‘å¸ƒè¯´æ˜ï¼ˆæ·»åŠ /åˆ é™¤äº†å“ªäº›åŠŸèƒ½ï¼Ÿä½ ä¿®å¤äº†å“ªäº›bugï¼Ÿï¼‰ã€‚
- en: '**Update the** `download_url` **variable** in the `setup.cfg` file (as described
    in section *1.5*) to point to the URL of the `tar.gz` package in the new release
    on GitHub (or any other source repository you are using for your package).'
  id: totrans-98
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**æ›´æ–°** `download_url` **å˜é‡** åœ¨ `setup.cfg` æ–‡ä»¶ä¸­ï¼ˆå¦‚ç¬¬*1.5*èŠ‚æ‰€è¿°ï¼‰ï¼Œå°†å…¶æŒ‡å‘ GitHub ä¸Šæ–°å‘å¸ƒçš„
    `tar.gz` åŒ…çš„ URLï¼ˆæˆ–ä½ ä¸ºåŒ…ä½¿ç”¨çš„ä»»ä½•å…¶ä»–æºä»£ç ä»“åº“ï¼‰ã€‚'
- en: 'Finally: **upload your new version** to PyPI (but first: **TestPyPI**!)'
  id: totrans-99
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: æœ€åï¼š**å°†ä½ çš„æ–°ç‰ˆæœ¬ä¸Šä¼ **åˆ° PyPIï¼ˆä½†é¦–å…ˆï¼š**æµ‹è¯• PyPI**ï¼ï¼‰
- en: These stepscould of course **be different for you**, but if you have been consistently
    **following this guide from *Part 1***, then they will contain all the necessary
    actions to implement proper versioning of your package.
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™äº›æ­¥éª¤**å¯¹ä½ æ¥è¯´å¯èƒ½ä¼šæœ‰æ‰€ä¸åŒ**ï¼Œä½†å¦‚æœä½ ä¸€ç›´**éµå¾ªäº†*ç¬¬ 1 éƒ¨åˆ†*çš„æŒ‡å—**ï¼Œé‚£ä¹ˆå®ƒä»¬å°†åŒ…å«æ‰€æœ‰å®æ–½ä½ åŒ…çš„æ­£ç¡®ç‰ˆæœ¬ç®¡ç†æ‰€éœ€çš„æ“ä½œã€‚
- en: 2.4 | Documenting your Package
  id: totrans-101
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 2.4 | è®°å½•ä½ çš„åŒ…
- en: When creating a package for the public to use, it is important to create a **clearly
    structured documentation** and always **update it if you make any changes to your
    code**.
  id: totrans-102
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨ä¸ºå…¬ä¼—ä½¿ç”¨åˆ›å»ºåŒ…æ—¶ï¼Œé‡è¦çš„æ˜¯åˆ›å»º**ç»“æ„æ¸…æ™°çš„æ–‡æ¡£**ï¼Œå¹¶ä¸”**å¦‚æœä½ å¯¹ä»£ç åšå‡ºä»»ä½•æ›´æ”¹ï¼Œå§‹ç»ˆæ›´æ–°æ–‡æ¡£**ã€‚
- en: '*A package is only as good as its documentation is.*'
  id: totrans-103
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '*ä¸€ä¸ªåŒ…çš„å¥½åå–å†³äºå…¶æ–‡æ¡£çš„è´¨é‡ã€‚*'
- en: 'How much documentation is needed depends on the complexity of your package:
    a simple package might only need a few lines of instructions that can be included
    directly in the repository `README`. If your package is more complex, the `README`
    will likely be too limited.'
  id: totrans-104
  prefs: []
  type: TYPE_NORMAL
  zh: æ‰€éœ€çš„æ–‡æ¡£é‡å–å†³äºä½ çš„åŒ…çš„å¤æ‚æ€§ï¼šä¸€ä¸ªç®€å•çš„åŒ…å¯èƒ½åªéœ€è¦å‡ è¡Œè¯´æ˜ï¼Œè¿™äº›è¯´æ˜å¯ä»¥ç›´æ¥åŒ…å«åœ¨ä»“åº“çš„`README`ä¸­ã€‚å¦‚æœä½ çš„åŒ…æ›´å¤æ‚ï¼Œ`README`å¯èƒ½ä¼šæ˜¾å¾—è¿‡äºæœ‰é™ã€‚
- en: If I could start over, I would **use** [**readthedocs.org**](https://readthedocs.org/)
    **from day one**. Readthedocs is a popular **platform for software documentation
    hosting**. You will find that a lot of popular Python packages host their documentation
    there (see [Pandas](https://pandasguide.readthedocs.io/en/latest/) or [Pillow](https://pillow.readthedocs.io/en/stable/)).
  id: totrans-105
  prefs: []
  type: TYPE_NORMAL
  zh: å¦‚æœæˆ‘å¯ä»¥é‡æ–°å¼€å§‹ï¼Œæˆ‘ä¼šä»ç¬¬ä¸€å¤©èµ·**ä½¿ç”¨** [**readthedocs.org**](https://readthedocs.org/) ã€‚Readthedocs
    æ˜¯ä¸€ä¸ªæµè¡Œçš„**è½¯ä»¶æ–‡æ¡£æ‰˜ç®¡å¹³å°**ã€‚ä½ ä¼šå‘ç°è®¸å¤šæµè¡Œçš„ Python åŒ…éƒ½åœ¨é‚£å„¿æ‰˜ç®¡ä»–ä»¬çš„æ–‡æ¡£ï¼ˆè§ [Pandas](https://pandasguide.readthedocs.io/en/latest/)
    æˆ– [Pillow](https://pillow.readthedocs.io/en/stable/)ï¼‰ã€‚
- en: 'Hosting on readthedocs has various benefits, including:'
  id: totrans-106
  prefs: []
  type: TYPE_NORMAL
  zh: æ‰˜ç®¡åœ¨ readthedocs ä¸Šæœ‰å„ç§å¥½å¤„ï¼ŒåŒ…æ‹¬ï¼š
- en: automatic **creation of downloadable formats** of your documentation such as
    PDF, or HTML formats,
  id: totrans-107
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: è‡ªåŠ¨**åˆ›å»ºå¯ä¸‹è½½æ ¼å¼**çš„æ–‡æ¡£ï¼Œä¾‹å¦‚ PDF æˆ– HTML æ ¼å¼ã€‚
- en: support for **versioning of your documentation**,
  id: totrans-108
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æ”¯æŒ**æ–‡æ¡£ç‰ˆæœ¬æ§åˆ¶**ï¼Œ
- en: following a **standard page structure** that your users will often already be
    familiar with.
  id: totrans-109
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: éµå¾ªç”¨æˆ·é€šå¸¸å·²ç»ç†Ÿæ‚‰çš„**æ ‡å‡†é¡µé¢ç»“æ„**ã€‚
- en: You can connect readthedocs to your GitHub repository, which will allow you
    to edit your documentation directly on your local machine. Then, whenever you
    commit changes to your GitHub repo, it will **instantly trigger a new build of
    your documentation**.
  id: totrans-110
  prefs: []
  type: TYPE_NORMAL
  zh: ä½ å¯ä»¥å°† readthedocs è¿æ¥åˆ°ä½ çš„ GitHub ä»“åº“ï¼Œè¿™æ ·ä½ å¯ä»¥ç›´æ¥åœ¨æœ¬åœ°æœºå™¨ä¸Šç¼–è¾‘æ–‡æ¡£ã€‚ç„¶åï¼Œæ¯å½“ä½ å‘ GitHub ä»“åº“æäº¤æ›´æ”¹æ—¶ï¼Œå®ƒå°†**ç«‹å³è§¦å‘æ–‡æ¡£çš„æ–°æ„å»º**ã€‚
- en: I can recommend to follow [this official tutorial](https://docs.readthedocs.io/en/stable/tutorial/index.html)
    on how to set up readthedocs. As a reference example, this is the [readthedocs
    documentation of my package difPy](https://difpy.readthedocs.io/en/latest/index.html)
    on [GitHub](https://github.com/elisemercury/Duplicate-Image-Finder/tree/main/docs).
  id: totrans-111
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘æ¨èä½ å‚è€ƒ[è¿™ç¯‡å®˜æ–¹æ•™ç¨‹](https://docs.readthedocs.io/en/stable/tutorial/index.html)æ¥äº†è§£å¦‚ä½•è®¾ç½®
    readthedocsã€‚ä½œä¸ºå‚è€ƒç¤ºä¾‹ï¼Œè¿™æ˜¯æˆ‘åœ¨[GitHub](https://github.com/elisemercury/Duplicate-Image-Finder/tree/main/docs)ä¸Šçš„[readthedocs
    æ–‡æ¡£ difPy åŒ…](https://difpy.readthedocs.io/en/latest/index.html)ã€‚
- en: 2.5 | Maintain Code Hygiene
  id: totrans-112
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 2.5 | ç»´æŠ¤ä»£ç å«ç”Ÿ
- en: Lastly, it is also important to maintain certain **code hygiene standards**
    when making your package available on PyPI. The higher the quality of your source
    code, the more credible your package will be.
  id: totrans-113
  prefs: []
  type: TYPE_NORMAL
  zh: æœ€åï¼Œåœ¨å°†ä½ çš„åŒ…å‘å¸ƒåˆ° PyPI æ—¶ï¼Œä¿æŒä¸€å®šçš„**ä»£ç å«ç”Ÿæ ‡å‡†**ä¹Ÿéå¸¸é‡è¦ã€‚æºä»£ç çš„è´¨é‡è¶Šé«˜ï¼Œä½ çš„åŒ…å°±ä¼šè¶Šå¯ä¿¡ã€‚
- en: 'Some best practices on code hygiene include:'
  id: totrans-114
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸€äº›ä»£ç å«ç”Ÿçš„æœ€ä½³å®è·µåŒ…æ‹¬ï¼š
- en: '**Consistent use of variable and function names**: use either capitalized variable
    name, like f. e. `variableName`, or use underscore-separated variables like `variable_name`.
    Do not mix both within one single script.'
  id: totrans-115
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**ä¸€è‡´ä½¿ç”¨å˜é‡å’Œå‡½æ•°åç§°**ï¼šè¦ä¹ˆä½¿ç”¨é¦–å­—æ¯å¤§å†™çš„å˜é‡åï¼Œä¾‹å¦‚`variableName`ï¼Œè¦ä¹ˆä½¿ç”¨ä¸‹åˆ’çº¿åˆ†éš”çš„å˜é‡åï¼Œå¦‚`variable_name`ã€‚ä¸è¦åœ¨ä¸€ä¸ªè„šæœ¬ä¸­æ··åˆä½¿ç”¨è¿™ä¸¤ç§æ–¹å¼ã€‚'
- en: '**Consistent use of quotation marks**: Python supports both single `''` and
    double `"` quotation marks. Choose which one to use in your script and do not
    mix them (except if absolutely necessary, when f. e. formatting strings).'
  id: totrans-116
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**ä¸€è‡´ä½¿ç”¨å¼•å·**ï¼šPython æ”¯æŒå•å¼•å·`''`å’ŒåŒå¼•å·`"`ã€‚é€‰æ‹©åœ¨ä½ çš„è„šæœ¬ä¸­ä½¿ç”¨å“ªä¸€ç§ï¼Œå¹¶ä¸”ä¸è¦æ··ç”¨ï¼ˆé™¤éç»å¯¹å¿…è¦ï¼Œä¾‹å¦‚åœ¨æ ¼å¼åŒ–å­—ç¬¦ä¸²æ—¶ï¼‰ã€‚'
- en: '**Comment your code**! This might seem obvious to you, but it is a must to
    include as a best practice.'
  id: totrans-117
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**æ³¨é‡Šä½ çš„ä»£ç **ï¼è¿™å¯¹ä½ æ¥è¯´å¯èƒ½å¾ˆæ˜æ˜¾ï¼Œä½†ä½œä¸ºæœ€ä½³å®è·µå¿…é¡»åŒ…å«åœ¨å†…ã€‚'
- en: There are of course more best practices to follow than those I have listed here,
    so I would recommend checking out [this article](https://www.codingdojo.com/blog/python-best-practices)
    for more.
  id: totrans-118
  prefs: []
  type: TYPE_NORMAL
  zh: å½“ç„¶ï¼Œé™¤äº†æˆ‘åœ¨è¿™é‡Œåˆ—å‡ºçš„æœ€ä½³å®è·µï¼Œè¿˜æœ‰æ›´å¤šçš„å®è·µå¯ä»¥éµå¾ªï¼Œå› æ­¤æˆ‘å»ºè®®ä½ æŸ¥çœ‹[è¿™ç¯‡æ–‡ç« ](https://www.codingdojo.com/blog/python-best-practices)ä»¥è·å–æ›´å¤šä¿¡æ¯ã€‚
- en: Conclusion
  id: totrans-119
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: ç»“è®º
- en: Uploading and maintaining a PyPI package can be a lot of fun and a very rewarding
    experience. Sharing your work with the world by making it available for others
    can **help you learn** and **gain more coding experience** by receiving **feedback**
    and **improvement suggestions** from the Python community.
  id: totrans-120
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸Šä¼ å’Œç»´æŠ¤ PyPI åŒ…å¯ä»¥éå¸¸æœ‰è¶£ä¸”å……æ»¡æˆå°±æ„Ÿã€‚é€šè¿‡è®©å…¶ä»–äººä½¿ç”¨ä½ çš„å·¥ä½œæ¥åˆ†äº«ä½ çš„æˆæœï¼Œ**å¸®åŠ©ä½ å­¦ä¹ **å¹¶é€šè¿‡è·å¾—æ¥è‡ª Python ç¤¾åŒºçš„**åé¦ˆ**å’Œ**æ”¹è¿›å»ºè®®**æ¥**è·å¾—æ›´å¤šç¼–ç ç»éªŒ**ã€‚
- en: I hope this guide gave you some **valuable insights** in how to get started
    with PyPI â€” or if you were already using PyPI, gave you some new hints on how
    to improve your current usage. âœ¨
  id: totrans-121
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘å¸Œæœ›æœ¬æŒ‡å—ä¸ºä½ æä¾›äº†ä¸€äº›**å®è´µçš„è§è§£**ï¼Œå¸®åŠ©ä½ å¼€å§‹ä½¿ç”¨ PyPIâ€”â€”æˆ–è€…å¦‚æœä½ å·²ç»åœ¨ä½¿ç”¨ PyPIï¼Œèƒ½ç»™ä½ ä¸€äº›æ–°çš„æç¤ºæ¥æ”¹è¿›ä½ å½“å‰çš„ä½¿ç”¨æ–¹å¼ã€‚âœ¨
- en: Let me know if you have any feedback, and feel free to **share your own PyPI
    usage tips** by leaving a comment! ğŸ€
  id: totrans-122
  prefs: []
  type: TYPE_NORMAL
  zh: å¦‚æœä½ æœ‰ä»»ä½•åé¦ˆï¼Œè¯·å‘Šè¯‰æˆ‘ï¼Œä¹Ÿå¯ä»¥**åˆ†äº«ä½ è‡ªå·±çš„ PyPI ä½¿ç”¨æŠ€å·§**ï¼Œç•™ä¸‹è¯„è®ºå§ï¼ğŸ€
- en: References
  id: totrans-123
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: å‚è€ƒæ–‡çŒ®
- en: '[1] PyPA, [Packaging Python Projects](https://packaging.python.org/en/latest/tutorials/packaging-projects/)
    (2023)'
  id: totrans-124
  prefs: []
  type: TYPE_NORMAL
  zh: '[1] PyPA, [æ‰“åŒ… Python é¡¹ç›®](https://packaging.python.org/en/latest/tutorials/packaging-projects/)
    (2023)'
- en: '[2] Setuptools, [Configuring setuptools using pyproject.toml files](https://setuptools.pypa.io/en/latest/userguide/pyproject_config.html)
    (2023)'
  id: totrans-125
  prefs: []
  type: TYPE_NORMAL
  zh: '[2] Setuptools, [ä½¿ç”¨ pyproject.toml æ–‡ä»¶é…ç½® setuptools](https://setuptools.pypa.io/en/latest/userguide/pyproject_config.html)
    (2023)'
- en: '[3] Readthedocs, [Read the Docs: documentation simplified](https://docs.readthedocs.io/en/stable/index.html)
    (2023)'
  id: totrans-126
  prefs: []
  type: TYPE_NORMAL
  zh: '[3] Readthedocs, [Read the Docsï¼šç®€åŒ–æ–‡æ¡£](https://docs.readthedocs.io/en/stable/index.html)
    (2023)'
