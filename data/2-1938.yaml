- en: Success in ML Projects through Technical Drawings
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 通过技术图示实现ML项目的成功
- en: 原文：[https://towardsdatascience.com/success-in-ml-projects-through-technical-drawings-69dd8d2744a4](https://towardsdatascience.com/success-in-ml-projects-through-technical-drawings-69dd8d2744a4)
  id: totrans-1
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 原文：[https://towardsdatascience.com/success-in-ml-projects-through-technical-drawings-69dd8d2744a4](https://towardsdatascience.com/success-in-ml-projects-through-technical-drawings-69dd8d2744a4)
- en: Improve workflows and expectation management in ML through technical drawings
  id: totrans-2
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 通过技术图示改进机器学习（ML）项目的工作流程和期望管理
- en: '[](https://medium.com/@benjamin.thuerer?source=post_page-----69dd8d2744a4--------------------------------)[![Benjamin
    Thürer](../Images/b4c49698c7270c592bf992fc47f75765.png)](https://medium.com/@benjamin.thuerer?source=post_page-----69dd8d2744a4--------------------------------)[](https://towardsdatascience.com/?source=post_page-----69dd8d2744a4--------------------------------)[![Towards
    Data Science](../Images/a6ff2676ffcc0c7aad8aaf1d79379785.png)](https://towardsdatascience.com/?source=post_page-----69dd8d2744a4--------------------------------)
    [Benjamin Thürer](https://medium.com/@benjamin.thuerer?source=post_page-----69dd8d2744a4--------------------------------)'
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: '[](https://medium.com/@benjamin.thuerer?source=post_page-----69dd8d2744a4--------------------------------)[![本杰明·图勒](../Images/b4c49698c7270c592bf992fc47f75765.png)](https://medium.com/@benjamin.thuerer?source=post_page-----69dd8d2744a4--------------------------------)[](https://towardsdatascience.com/?source=post_page-----69dd8d2744a4--------------------------------)[![数据科学前沿](../Images/a6ff2676ffcc0c7aad8aaf1d79379785.png)](https://towardsdatascience.com/?source=post_page-----69dd8d2744a4--------------------------------)
    [本杰明·图勒](https://medium.com/@benjamin.thuerer?source=post_page-----69dd8d2744a4--------------------------------)'
- en: ·Published in [Towards Data Science](https://towardsdatascience.com/?source=post_page-----69dd8d2744a4--------------------------------)
    ·8 min read·May 30, 2023
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: ·发表于[数据科学前沿](https://towardsdatascience.com/?source=post_page-----69dd8d2744a4--------------------------------)
    ·阅读时间8分钟·2023年5月30日
- en: --
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: --
- en: '![](../Images/1e2c2fabc1e86199247430be94b494bf.png)'
  id: totrans-6
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/1e2c2fabc1e86199247430be94b494bf.png)'
- en: 'Machine Learning (ML) projects are becoming increasingly popular in business
    as organizations strive to gain a competitive advantage or increased market value
    by utilizing AI. However, unlike traditional software development or analytical
    projects, scheduling machine learning projects can be more challenging since the
    success of a project is hardly known before it is completed and because of less
    structured work processes. One could also say:'
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: 机器学习（ML）项目在商业中变得越来越受欢迎，因为组织力图通过利用人工智能获得竞争优势或增加市场价值。然而，与传统的软件开发或分析项目不同，机器学习项目的调度可能更加具有挑战性，因为项目的成功往往在完成之前很难预知，且工作流程较为松散。也可以这样说：
- en: “You don’t know if the ML project succeeds until the model is developed and
    deployed into production”
  id: totrans-8
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: “你不知道ML项目是否成功，直到模型开发完成并投入生产”
- en: In other words, you want to make sure you set your team up for success with
    a structured workflow and reasonable expectations before starting a large ML project
    (If you want to know more about ML in general, the best tutorials you will find
    are from [Cassie Kozyrkov](https://medium.com/u/2fccb851bb5e?source=post_page-----69dd8d2744a4--------------------------------)).
    A key factor for success is effective communication enabling proper workflows
    and project management.
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: 换句话说，你希望在开始一个大型ML项目之前，通过有结构的工作流程和合理的期望来确保你的团队能够成功（如果你想了解更多关于ML的一般知识，你可以找到最好的教程来自[Cassie
    Kozyrkov](https://medium.com/u/2fccb851bb5e?source=post_page-----69dd8d2744a4--------------------------------)）。成功的一个关键因素是有效的沟通，这能够促成合适的工作流程和项目管理。
- en: Why Technical Drawings?
  id: totrans-10
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 为什么选择技术图示？
- en: Communication in words is hard and can lead to misunderstandings, especially
    when people speak slightly different languages (the business side on one hand
    and the technology on the other). In addition, words describing complex relationships
    require a lot of text or long meetings. Drawings, however, have the benefit to
    be easy to understand and can be very intuitive (of course only when they are
    done well). Sometimes, a single drawing (or picture) can replace 1000 words.
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: 用语言进行沟通是困难的，尤其是当人们讲的语言有所不同（业务方面和技术方面）。此外，描述复杂关系的语言需要大量的文本或长时间的会议。然而，图示的好处在于容易理解，并且可以非常直观（当然前提是制作得当）。有时候，一幅图示（或图片）可以替代1000个词。
- en: Together with my team, I started with a first technical drawing mostly to help
    ourselves to keep an overview of our ML project and to make sure we have a standardized
    workflow. Over time, I realized that working with such drawings can help also
    in future projects and can help inform others and leadership in the company what
    an ML project entails. The overall feedback so far has been so good that I like
    to show here what we do and how we use that for communication, deadlines, and
    setting expectations.
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 我和我的团队一开始制作了一个技术图，主要是为了帮助我们自己保持对机器学习项目的总体概览，并确保我们有一个标准化的工作流程。随着时间的推移，我意识到使用这样的图不仅对未来项目有帮助，还可以帮助公司内部的其他人和领导了解一个机器学习项目的内容。到目前为止的整体反馈非常好，所以我想展示我们所做的工作，以及我们如何利用这些图进行沟通、设定截止日期和期望。
- en: 'Technical drawings: from simple to complex'
  id: totrans-13
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 技术图：从简单到复杂
- en: 'Complex technical drawings can be overwhelming which is why it is better to
    start simple and add more layers later. This is a potential first drawing of an
    ML project:'
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 复杂的技术图可能令人不知所措，因此最好从简单开始，之后再添加更多层。这是一个机器学习项目的潜在初始图：
- en: '![](../Images/2bb29ccb28e74ada3e489368f54e7f97.png)'
  id: totrans-15
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/2bb29ccb28e74ada3e489368f54e7f97.png)'
- en: Simplified drawing of the “inner loop” that uses features and a target to iteratively
    train a model.
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: “内循环”的简化图，展示了如何使用特征和目标来迭代训练模型。
- en: 'As can be seen, this technical drawing is very high level and shows how incoming
    data creates the two necessary ingredients needed to train a model: features and
    target. Highlighted in red is the so-called “inner loop” of the ML cycle describing
    simplified the iterative process using data to train and improve a model.'
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: 如图所示，这个技术图非常高层次，展示了如何通过输入数据生成训练模型所需的两个必要成分：特征和目标。用红色突出显示的是所谓的“内循环”，它描述了使用数据来训练和改进模型的简化迭代过程。
- en: 'Before we add more details to the drawing, let’s finish the process first and
    add what happens after a model has been trained:'
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: 在我们添加更多细节之前，先完成这个过程，并添加模型训练后的情况：
- en: '![](../Images/85533e72d2f1b5bdac0423769b466731.png)'
  id: totrans-19
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/85533e72d2f1b5bdac0423769b466731.png)'
- en: Simplified drawing of a part of the “outer loop” that brings the trained model
    into production and produces output.
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: “外循环”部分的简化图，展示了如何将训练好的模型投入生产并产生输出。
- en: This drawing now adds the production pipeline and partly the so-called “outer
    loop” where features are fed into the model on a scheduled basis and final predictions
    are outputted into a dataset or directly to the user.
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: 这个图现在添加了生产管道和部分所谓的“外循环”，其中特征按照计划输入模型，最终预测被输出到数据集或直接给用户。
- en: 'This is the point where we are having a high-level but complete technical drawing
    of an ML project cycle. Now it is time to add some missing and very important
    details:'
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: 这是我们拥有的高层次但完整的机器学习项目周期技术图。现在是时候添加一些缺失且非常重要的细节了：
- en: '![](../Images/066b807e56c2fd81c23058cb5eab431a.png)'
  id: totrans-23
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/066b807e56c2fd81c23058cb5eab431a.png)'
- en: Monitoring is essential for every model that makes it into production and must
    be part of the drawing.
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 监控对于每一个投入生产的模型都是至关重要的，必须在图中体现。
- en: Monitoring is essential for every product but especially for ML. Slight changes
    in features can have massive impacts on predictions or vice versa. If you want
    to prevent your customers from doing the monitoring for you (meaning that you
    wait until they complain), it is always recommended to monitor the data closely
    before and after the model. In case your model is re-trained and updated on the
    fly, additional monitoring would be needed (not shown in the drawing).
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: 监控对于每个产品都是必不可少的，尤其是对于机器学习。特征的轻微变化可能会对预测产生巨大影响，反之亦然。如果你想防止客户替你做监控（即等到他们抱怨时才采取行动），建议在模型训练前后密切监控数据。如果你的模型会实时再训练和更新，则需要额外的监控（在图中未显示）。
- en: 'Additional details are now very dependent on the audience of the drawing. The
    audience in this example is on the one end an ML team with experienced data scientists
    and on the other end a partly technical leadership team that needs to be informed
    on the process. Given the mostly technical background, I would add more details
    about the feature store first:'
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: 额外的细节现在非常依赖于图的受众。这个例子的受众一方面是经验丰富的数据科学家组成的机器学习团队，另一方面是需要了解过程的部分技术领导团队。鉴于主要的技术背景，我会首先添加有关特征存储的更多细节：
- en: '![](../Images/eaee126220aa82dc1c66539efd9f2b5f.png)'
  id: totrans-27
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/eaee126220aa82dc1c66539efd9f2b5f.png)'
- en: Good feature extraction is key to model performance and a scalable and maintainable
    feature extraction process will ensure faster turnaround.
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: 良好的特征提取是模型性能的关键，而一个可扩展且可维护的特征提取过程将确保更快的周转。
- en: Since we are working with tabular data (geospatial data over time), we do not
    “just” leave the data scientists and data engineers alone with the abstract term
    “feature store”. Together, we define in more detail up front what we believe has
    the most value to improve the model and set up a data management system that can
    easily handle the required data types. For instance, we do separate static context
    that does not have a timeline from the historical dynamic context that has a timeline
    but is not regularly updated. In addition, we separate an ongoing dynamic context
    that has a live feed. In the end, all of these different datasets come together
    in a unified dataset which we call the feature store to have one place where everyone
    can pull and test new features and also request to have more features added.
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: 由于我们处理的是表格数据（随时间变化的地理空间数据），我们不会“仅仅”让数据科学家和数据工程师独自面对抽象的“特征存储”概念。我们将详细定义前期认为对改进模型最有价值的内容，并建立一个能够轻松处理所需数据类型的数据管理系统。例如，我们将不具备时间线的静态上下文与具有时间线但不定期更新的历史动态上下文分开。此外，我们将具有实时数据流的持续动态上下文分开。最终，所有这些不同的数据集汇聚成一个统一的数据集，我们称之为特征存储，以便所有人可以在一个地方拉取和测试新特征，并要求添加更多特征。
- en: 'For a data scientist, this is a great situation to be in. The features are
    already available and formatted in a standard way, so the fun (training a model)
    can immediately begin. But, before the data scientist can start, we need to adjust
    our inner loop in the drawing:'
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: 对于数据科学家来说，这是一种很好的情况。特征已经可用并以标准方式格式化，因此可以立即开始有趣的工作（训练模型）。但在数据科学家可以开始之前，我们需要调整图中的内部循环：
- en: '![](../Images/ce9d977abd4ff73347fe3f1a518a91f4.png)'
  id: totrans-31
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/ce9d977abd4ff73347fe3f1a518a91f4.png)'
- en: A detailed refinement of the inner loop adding preprocessing, the split into
    4 datasets for modeling, and layers of evaluation.
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: 内部循环的详细完善，包括添加预处理、将数据集分为4个用于建模的部分，以及评估层级。
- en: 'This drawing shows a detailed refinement of the inner loop adding 3 important
    aspects to the training cycle:'
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: 这张图展示了对内部循环的详细完善，添加了3个重要方面到训练周期中：
- en: '**Preprocessing:** to keep the feature store somewhat scalable, any processing
    of an existing feature (like creating a lagged version for autoregression) will
    happen on the fly in the preprocessing using views/pointer functions and not be
    added to the store as another redundant feature.'
  id: totrans-34
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**预处理：** 为了使特征存储具有一定的可扩展性，任何对现有特征的处理（例如，为自回归创建滞后版本）将在预处理时通过视图/指针函数即时完成，而不是作为另一种冗余特征添加到存储中。'
- en: '**Split in 4 datasets:** training of a model is an iterative process. However,
    to improve on those iterations we need to gain insights into how to improve the
    model, and with that, we automatically introduce a bias that can lead to overfitting.
    Therefore, we create one dataset for training, one dataset for validation of the
    training, one dataset where we can debug and gain insights for iterative improvements,
    and one dataset at the very end as the final test of the project and if the model
    needs success criteria.'
  id: totrans-35
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**分成4个数据集：** 模型的训练是一个迭代过程。然而，为了改进这些迭代，我们需要获取关于如何改进模型的见解，这样会自动引入可能导致过拟合的偏差。因此，我们创建一个用于训练的数据集，一个用于训练验证的数据集，一个用于调试和获得迭代改进见解的数据集，以及一个作为项目最终测试的数据集，以判断模型是否符合成功标准。'
- en: '**Layers of evaluation:** with the 4 datasets in mind we also introduce 3 different
    evaluations based on validation, debugging, or test set. Before starting to work
    on the inner loop it is important to align and write down what “success” actually
    means for the project in terms of these evaluations. **Only** when the test evaluation
    performs as planned, is the model a success and ready for production.'
  id: totrans-36
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**评估层级：** 考虑到这4个数据集，我们还引入了基于验证、调试或测试集的3种不同评估。在开始处理内部循环之前，重要的是对这些评估中的“成功”进行对齐并记录下来。**只有**当测试评估按计划进行时，模型才算成功并准备投入生产。'
- en: 'With this, we are almost done with a medium-detailed technical drawing of an
    ML project and only have to add a small thing:'
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: 这样，我们几乎完成了一个中等详细度的机器学习项目技术图纸，只需添加一个小的部分：
- en: '![](../Images/54cce9c3359ecf0a6aab6d207fc0eb9c.png)'
  id: totrans-38
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/54cce9c3359ecf0a6aab6d207fc0eb9c.png)'
- en: A policy layer at the very end ensures that unexpected model behavior is filtered
    out or replaced.
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: 最终的政策层确保过滤掉或替换意外的模型行为。
- en: One disadvantage of using machine learning is that a model will always give
    you a result, no matter how much that makes sense. So it doesn’t matter how good
    your training data is, since you can never ensure that new incoming data is following
    the norm of your training data, you should expect some unpleasant model behavior
    at least sometimes. The idea of the policy layer is to filter or replace that
    behavior. To give an example, a model predicting how many people visit a location
    could easily predict negative counts for certain situations. The policy layer
    detects that and replaces those with hardcoded numbers or output from a different
    model situated on top.
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: 使用机器学习的一个缺点是模型总会给出结果，无论结果是否合理。因此，无论你的训练数据有多好，由于你无法确保新进入的数据遵循训练数据的规范，你应该预期模型行为有时会出现不愉快的情况。政策层的理念是过滤或替换这些行为。例如，一个预测某地访问人数的模型可能会在某些情况下预测负数。政策层检测到这种情况并将其替换为硬编码的数字或另一个位于其上的模型的输出。
- en: Use colors or shapes for planning and set timelines
  id: totrans-41
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 使用颜色或形状进行规划并设置时间表
- en: We now landed on a technical drawing covering our entire ML project. However,
    even though we went in small steps and set up the technical drawing layer-by-layer,
    it still can be overwhelming looking at the drawing. Imagine you would require
    more details. Having more complexity will make the drawing less and less intuitive
    and, thus, useless.
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: 我们现在已经制定了涵盖整个机器学习项目的技术图纸。然而，即使我们一步一步地进行并逐层建立技术图纸，查看图纸仍然可能令人不知所措。想象一下你需要更多细节。增加的复杂性会使图纸越来越不直观，因此变得无用。
- en: This is where intuitive color codings or shapes can come in. For instance, we
    use color codings in the drawing to keep track of our progress. As an example,
    when a new feature was added to the feature store and the code runs in production,
    the feature store task would be marked as green. That informs the entire team
    (and company) about the current process in the project.
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: 这时直观的颜色编码或形状可以派上用场。例如，我们在图纸中使用颜色编码来跟踪进度。例如，当新的功能被添加到功能存储并且代码在生产中运行时，功能存储任务将标记为绿色。这会通知整个团队（和公司）当前项目的进展情况。
- en: '![](../Images/1e2c2fabc1e86199247430be94b494bf.png)'
  id: totrans-44
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/1e2c2fabc1e86199247430be94b494bf.png)'
- en: Green shapes highlight tasks that are “done”. Orange marks tasks that are “in
    process”. All other tasks are in a “coming up” state.
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: 绿色形状突出显示“完成”的任务。橙色标记“进行中”的任务。所有其他任务则处于“即将开始”状态。
- en: In addition, discussing the drawing with the team will make setting deadlines
    way easier. It is possible to split the drawing into sub-parts where for each
    of these it is fairly predictable how long the work will take. For instance, setting
    up a feature store or bringing an existing model to production are predictable
    working tasks. The inner loop, however, is harder to predict but also here it
    is possible to set estimates. For instance by restricting the time in the inner
    loop to X weeks. By the time is done, the test evaluation criteria must be met
    or, otherwise, the project will be down-prioritized (but might be picked up at
    a later point).
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: 此外，与团队讨论图纸将使设置截止日期变得更容易。可以将图纸拆分成子部分，对于每个子部分，工作所需时间相对可预测。例如，设置功能存储或将现有模型投入生产是可预测的工作任务。然而，内部循环则更难预测，但这里也可以设定估算。例如，通过将内部循环的时间限制为X周。到时，测试评估标准必须得到满足，否则，项目将被降级优先级（但可能会在后续被重新考虑）。
- en: Summarised
  id: totrans-47
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 总结
- en: The process from the product idea utilizing machine learning to a production-ready
    state can face unique challenges. Due to its complexity, ML projects are difficult
    to estimate, and with weak project management only a limited number of projects
    will reach the production state. Technical drawings can overcome these limitations
    by providing visual clarity and aiding in effective communication. Making the
    overall complexity of the project visible in an intuitive way will aid the team
    and the entire organization to understand what the project entails and setting
    reasonable estimates. With this, technical drawings can contribute to more effective
    communication and workflows throughout the organization.
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: 从利用机器学习的产品创意到生产就绪状态的过程可能面临独特的挑战。由于其复杂性，机器学习项目难以估算，而且在项目管理薄弱的情况下，只有有限数量的项目能够达到生产状态。技术图纸可以通过提供视觉清晰度和有效沟通来克服这些限制。以直观的方式使项目的整体复杂性可见将有助于团队和整个组织了解项目内容并设定合理的估算。通过这种方式，技术图纸可以促进整个组织更有效的沟通和工作流程。
- en: '*All images, unless otherwise noted, are by the author.*'
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: '*除非另有说明，所有图片均为作者提供。*'
