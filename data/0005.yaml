- en: Multi-Stage Approach to Building Recommender Systems
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: å¤šé˜¶æ®µæ¨èç³»ç»Ÿæ„å»ºæ–¹æ³•
- en: åŸæ–‡ï¼š[https://towardsdatascience.com/multi-stage-approach-to-building-recommender-systems-71a31e58ecb4?source=collection_archive---------4-----------------------#2023-01-01](https://towardsdatascience.com/multi-stage-approach-to-building-recommender-systems-71a31e58ecb4?source=collection_archive---------4-----------------------#2023-01-01)
  id: totrans-1
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: åŸæ–‡ï¼š[https://towardsdatascience.com/multi-stage-approach-to-building-recommender-systems-71a31e58ecb4?source=collection_archive---------4-----------------------#2023-01-01](https://towardsdatascience.com/multi-stage-approach-to-building-recommender-systems-71a31e58ecb4?source=collection_archive---------4-----------------------#2023-01-01)
- en: Discover state-of-the-art approaches to building RecSys
  id: totrans-2
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: å‘ç°æ„å»ºæ¨èç³»ç»Ÿçš„æœ€å…ˆè¿›æ–¹æ³•
- en: '[](https://natworkeffects.medium.com/?source=post_page-----71a31e58ecb4--------------------------------)[![Nathan
    Cheng](../Images/d7477ae4d208a039ab75e402e1abe3ce.png)](https://natworkeffects.medium.com/?source=post_page-----71a31e58ecb4--------------------------------)[](https://towardsdatascience.com/?source=post_page-----71a31e58ecb4--------------------------------)[![Towards
    Data Science](../Images/a6ff2676ffcc0c7aad8aaf1d79379785.png)](https://towardsdatascience.com/?source=post_page-----71a31e58ecb4--------------------------------)
    [Nathan Cheng](https://natworkeffects.medium.com/?source=post_page-----71a31e58ecb4--------------------------------)'
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: '[](https://natworkeffects.medium.com/?source=post_page-----71a31e58ecb4--------------------------------)[![Nathan
    Cheng](../Images/d7477ae4d208a039ab75e402e1abe3ce.png)](https://natworkeffects.medium.com/?source=post_page-----71a31e58ecb4--------------------------------)[](https://towardsdatascience.com/?source=post_page-----71a31e58ecb4--------------------------------)[![Towards
    Data Science](../Images/a6ff2676ffcc0c7aad8aaf1d79379785.png)](https://towardsdatascience.com/?source=post_page-----71a31e58ecb4--------------------------------)
    [Nathan Cheng](https://natworkeffects.medium.com/?source=post_page-----71a31e58ecb4--------------------------------)'
- en: Â·
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: Â·
- en: '[Follow](https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F9dbd159f0e0a&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmulti-stage-approach-to-building-recommender-systems-71a31e58ecb4&user=Nathan+Cheng&userId=9dbd159f0e0a&source=post_page-9dbd159f0e0a----71a31e58ecb4---------------------post_header-----------)
    Published in [Towards Data Science](https://towardsdatascience.com/?source=post_page-----71a31e58ecb4--------------------------------)
    Â·9 min readÂ·Jan 1, 2023[](https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F71a31e58ecb4&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmulti-stage-approach-to-building-recommender-systems-71a31e58ecb4&user=Nathan+Cheng&userId=9dbd159f0e0a&source=-----71a31e58ecb4---------------------clap_footer-----------)'
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: '[å…³æ³¨](https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F9dbd159f0e0a&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmulti-stage-approach-to-building-recommender-systems-71a31e58ecb4&user=Nathan+Cheng&userId=9dbd159f0e0a&source=post_page-9dbd159f0e0a----71a31e58ecb4---------------------post_header-----------)
    å‘è¡¨åœ¨ [Towards Data Science](https://towardsdatascience.com/?source=post_page-----71a31e58ecb4--------------------------------)
    Â· 9åˆ†é’Ÿé˜…è¯» Â· 2023å¹´1æœˆ1æ—¥ [](https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Ftowards-data-science%2F71a31e58ecb4&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmulti-stage-approach-to-building-recommender-systems-71a31e58ecb4&user=Nathan+Cheng&userId=9dbd159f0e0a&source=-----71a31e58ecb4---------------------clap_footer-----------)'
- en: --
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: --
- en: '[](https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F71a31e58ecb4&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmulti-stage-approach-to-building-recommender-systems-71a31e58ecb4&source=-----71a31e58ecb4---------------------bookmark_footer-----------)![](../Images/156c54eb9b049f036faff64f3704ec2a.png)'
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: '[](https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F71a31e58ecb4&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fmulti-stage-approach-to-building-recommender-systems-71a31e58ecb4&source=-----71a31e58ecb4---------------------bookmark_footer-----------)![](../Images/156c54eb9b049f036faff64f3704ec2a.png)'
- en: Multi-stage Recommender System. Image by [author](https://natworkeffects.medium.com).
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: å¤šé˜¶æ®µæ¨èç³»ç»Ÿã€‚å›¾åƒæ¥æº [ä½œè€…](https://natworkeffects.medium.com)ã€‚
- en: 1 Problem of Information Overload
  id: totrans-9
  prefs:
  - PREF_H1
  - PREF_H1
  type: TYPE_NORMAL
  zh: 1 ä¿¡æ¯è¶…è½½çš„é—®é¢˜
- en: All of us are no stranger to search engines and recommender systems. Without
    them, we would get overwhelmed with the sheer amount of information being created
    every second. This information could take different data formats â€”***text***,
    ***images***, ***audio***, ***video*** etc.
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬éƒ½å¯¹æœç´¢å¼•æ“å’Œæ¨èç³»ç»Ÿå¹¶ä¸é™Œç”Ÿã€‚æ²¡æœ‰å®ƒä»¬ï¼Œæˆ‘ä»¬ä¼šè¢«æ¯ç§’é’Ÿäº§ç”Ÿçš„å¤§é‡ä¿¡æ¯æ‰€æ·¹æ²¡ã€‚è¿™äº›ä¿¡æ¯å¯èƒ½æœ‰ä¸åŒçš„æ•°æ®æ ¼å¼ â€”â€” ***æ–‡æœ¬***ã€***å›¾åƒ***ã€***éŸ³é¢‘***ã€***è§†é¢‘***
    ç­‰ã€‚
- en: Fundamentally, these systems can, given a large catalog of information, surface,
    filter and rank the relevant items based on the userâ€™s query or profile, enabling
    us to navigate a sea of items, where otherwise users would struggle with information
    overload.
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: ä»æ ¹æœ¬ä¸Šè®²ï¼Œè¿™äº›ç³»ç»Ÿå¯ä»¥åœ¨æ‹¥æœ‰å¤§é‡ä¿¡æ¯ç›®å½•çš„æƒ…å†µä¸‹ï¼Œæ ¹æ®ç”¨æˆ·çš„æŸ¥è¯¢æˆ–ä¸ªäººèµ„æ–™ï¼Œå‘ˆç°ã€è¿‡æ»¤å’Œæ’åºç›¸å…³é¡¹ç›®ï¼Œä½¿æˆ‘ä»¬èƒ½å¤Ÿåœ¨ä¿¡æ¯çš„æµ·æ´‹ä¸­è¿›è¡Œå¯¼èˆªï¼Œå¦åˆ™ç”¨æˆ·ä¼šå› ä¿¡æ¯è¿‡è½½è€ŒæŒ£æ‰ã€‚
- en: As the title of this post has already mentioned, we will focus on recommender
    systems in this article. I might cover system design for search in a separate
    article in the future, stay tuned.
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: å¦‚æœ¬å¸–æ ‡é¢˜æ‰€æï¼Œæˆ‘ä»¬å°†é‡ç‚¹è®¨è®ºæ¨èç³»ç»Ÿã€‚æˆ‘å¯èƒ½ä¼šåœ¨æœªæ¥çš„æ–‡ç« ä¸­å•ç‹¬ä»‹ç»æœç´¢ç³»ç»Ÿè®¾è®¡ï¼Œè¯·å…³æ³¨ã€‚
- en: 2 Industry Use Cases for RecSys
  id: totrans-13
  prefs:
  - PREF_H1
  - PREF_H1
  type: TYPE_NORMAL
  zh: 2 ä¸ªè¡Œä¸šæ¨èç³»ç»Ÿçš„ç”¨ä¾‹
- en: Do you need a recommender?
  id: totrans-14
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: ä½ éœ€è¦ä¸€ä¸ªæ¨èç³»ç»Ÿå—ï¼Ÿ
- en: To be fair, 80% of companies will not have the requirement to build a sophisticated
    recommender system. For small catalogs with a small number of product categories,
    you can get by just fine using dynamic SQL queries.
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: å…¬å¹³åœ°è¯´ï¼Œ80% çš„å…¬å¸ä¸ä¼šæœ‰å»ºç«‹å¤æ‚æ¨èç³»ç»Ÿçš„éœ€æ±‚ã€‚å¯¹äºå°å‹ç›®å½•å’Œå°‘é‡äº§å“ç±»åˆ«ï¼Œä½¿ç”¨åŠ¨æ€ SQL æŸ¥è¯¢å°±è¶³å¤Ÿäº†ã€‚
- en: If you wanted to build for example, a **â€œSimilar Items toâ€¦â€** or **â€œYou might
    also likeâ€¦â€** panel on the item description page, you would write a SQL query
    that retrieved the `top xx items` for the current `category` of item.
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: å¦‚æœä½ æƒ³ä¾‹å¦‚ï¼Œåœ¨é¡¹ç›®æè¿°é¡µé¢ä¸Šå»ºç«‹ä¸€ä¸ª **â€œç±»ä¼¼çš„é¡¹ç›®â€¦â€** æˆ– **â€œä½ å¯èƒ½ä¹Ÿå–œæ¬¢â€¦â€** é¢æ¿ï¼Œä½ ä¼šç¼–å†™ä¸€ä¸ª SQL æŸ¥è¯¢ï¼Œä»¥æ£€ç´¢å½“å‰ `ç±»åˆ«`
    çš„ `top xx items`ã€‚
- en: The same applies if you wanted to build a **â€œRecommended for youâ€¦â€** panel on
    the home page of your website or list of recommended items to be sent in a marketing
    email. Simply retrieve the top item category the user has viewed over a historical
    time period, and write the same dynamic SQL query to retrieve the recommended
    items based on the userâ€™s historical interaction data.
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: å¦‚æœä½ æƒ³åœ¨ç½‘ç«™é¦–é¡µä¸Šå»ºç«‹ä¸€ä¸ª **â€œä¸ºä½ æ¨èâ€¦â€** é¢æ¿ï¼Œæˆ–åœ¨è¥é”€é‚®ä»¶ä¸­å‘é€æ¨èé¡¹ç›®åˆ—è¡¨ï¼ŒåŒæ ·é€‚ç”¨ã€‚åªéœ€æ£€ç´¢ç”¨æˆ·åœ¨å†å²æ—¶é—´æ®µå†…æŸ¥çœ‹çš„é¡¶çº§é¡¹ç›®ç±»åˆ«ï¼Œå¹¶ç¼–å†™ç›¸åŒçš„åŠ¨æ€
    SQL æŸ¥è¯¢ä»¥åŸºäºç”¨æˆ·çš„å†å²äº’åŠ¨æ•°æ®æ£€ç´¢æ¨èé¡¹ç›®ã€‚
- en: Users who are exploring your site would also be able to scan through your entire
    catalog to find what they are looking for without feeling overwhelmed.
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: æ¢ç´¢ä½ çš„ç½‘ç«™çš„ç”¨æˆ·ä¹Ÿèƒ½å¤Ÿæ‰«ææ•´ä¸ªç›®å½•ï¼Œä»¥å¯»æ‰¾ä»–ä»¬éœ€è¦çš„å†…å®¹ï¼Œè€Œä¸ä¼šæ„Ÿåˆ°ä¸çŸ¥æ‰€æªã€‚
- en: Factors that influence whether you need a recommender system
  id: totrans-19
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: å½±å“æ˜¯å¦éœ€è¦æ¨èç³»ç»Ÿçš„å› ç´ 
- en: '**Item catalog size:**'
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: '**é¡¹ç›®ç›®å½•å¤§å°ï¼š**'
- en: As catalog size increases, it becomes more tedious and expensive to label each
    itemâ€™s metadata through a manual process.
  id: totrans-21
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: éšç€ç›®å½•è§„æ¨¡çš„å¢åŠ ï¼Œé€šè¿‡æ‰‹åŠ¨è¿‡ç¨‹æ ‡è®°æ¯ä¸ªé¡¹ç›®çš„å…ƒæ•°æ®å˜å¾—æ›´åŠ ç¹çå’Œæ˜‚è´µã€‚
- en: In business models such as marketplaces, where item listings are completely
    crowdsourced to users, it is impossible to ensure high quality item metadata labels.
  id: totrans-22
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: åœ¨å¸‚åœºç­‰å•†ä¸šæ¨¡å¼ä¸­ï¼Œå…¶ä¸­é¡¹ç›®åˆ—è¡¨å®Œå…¨ç”±ç”¨æˆ·ä¼—åŒ…ï¼Œç¡®ä¿é«˜è´¨é‡çš„é¡¹ç›®å…ƒæ•°æ®æ ‡ç­¾å‡ ä¹æ˜¯ä¸å¯èƒ½çš„ã€‚
- en: We have to look at alternative methods of generating recommendations outside
    of simple SQL queries.
  id: totrans-23
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬å¿…é¡»å¯»æ‰¾ç”Ÿæˆæ¨èçš„æ›¿ä»£æ–¹æ³•ï¼Œè€Œä¸ä»…ä»…æ˜¯ä½¿ç”¨ç®€å•çš„ SQL æŸ¥è¯¢ã€‚
- en: '**Lack of structured data:**'
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: '**ç¼ºä¹ç»“æ„åŒ–æ•°æ®ï¼š**'
- en: For certain companies, structured data in a tabular format may not even be collected.
    Instead, they might have a repository of videos, images, free text, articles that
    could be mined for generating recommendations.
  id: totrans-25
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å¯¹äºæŸäº›å…¬å¸ï¼Œè¡¨æ ¼æ ¼å¼çš„ç»“æ„åŒ–æ•°æ®å¯èƒ½ç”šè‡³æ²¡æœ‰è¢«æ”¶é›†ã€‚ç›¸åï¼Œä»–ä»¬å¯èƒ½æ‹¥æœ‰ä¸€ä¸ªåŒ…å«è§†é¢‘ã€å›¾åƒã€è‡ªç”±æ–‡æœ¬ã€æ–‡ç« çš„å­˜å‚¨åº“ï¼Œè¿™äº›å¯ä»¥è¢«æŒ–æ˜ç”¨äºç”Ÿæˆæ¨èã€‚
- en: Using unstructured data as the basis of that idea requires use of deep neural
    network approaches that encode unstructured data into structured numerical data
    to learn meaningful representations.
  id: totrans-26
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ä½¿ç”¨éç»“æ„åŒ–æ•°æ®ä½œä¸ºè¯¥æƒ³æ³•çš„åŸºç¡€éœ€è¦é‡‡ç”¨æ·±åº¦ç¥ç»ç½‘ç»œæ–¹æ³•ï¼Œå°†éç»“æ„åŒ–æ•°æ®ç¼–ç ä¸ºç»“æ„åŒ–çš„æ•°å€¼æ•°æ®ï¼Œä»¥å­¦ä¹ æœ‰æ„ä¹‰çš„è¡¨ç¤ºã€‚
- en: '**structured** â€” data in tabular format with well-defined schema.'
  id: totrans-27
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**ç»“æ„åŒ–** â€” è¡¨æ ¼æ ¼å¼çš„æ•°æ®ï¼Œå…·æœ‰æ˜ç¡®å®šä¹‰çš„æ¨¡å¼ã€‚'
- en: '**unstructured â€” *text***, ***images***, ***audio***, ***video***'
  id: totrans-28
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**éç»“æ„åŒ– â€” *æ–‡æœ¬***ï¼Œ***å›¾åƒ***ï¼Œ***éŸ³é¢‘***ï¼Œ***è§†é¢‘***'
- en: '**Repeatable process for improving business metrics:**'
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: '**å¯é‡å¤çš„ä¸šåŠ¡æŒ‡æ ‡æ”¹è¿›è¿‡ç¨‹ï¼š**'
- en: Without a repeatable experimentation process, there is no way to test new techniques
    to improve your recommendations for your users. In addition, there is no way to
    monitor whether the changes to the system has a tangible impact on key business
    metrics.
  id: totrans-30
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å¦‚æœæ²¡æœ‰å¯é‡å¤çš„å®éªŒè¿‡ç¨‹ï¼Œå°±æ— æ³•æµ‹è¯•æ–°æŠ€æœ¯æ¥æ”¹è¿›å¯¹ç”¨æˆ·çš„æ¨èã€‚æ­¤å¤–ï¼Œä¹Ÿæ— æ³•ç›‘æ§ç³»ç»Ÿæ›´æ”¹æ˜¯å¦å¯¹å…³é”®ä¸šåŠ¡æŒ‡æ ‡äº§ç”Ÿäº†å®é™…å½±å“ã€‚
- en: Recommender systems have been shown to improve business metrics e.g. click-through
    rates, conversion rates, add-to-cart purchase, new item add-to-cart, listen /
    watch time, etc.
  id: totrans-31
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æ¨èç³»ç»Ÿå·²è¢«è¯æ˜èƒ½å¤Ÿæ”¹å–„ä¸šåŠ¡æŒ‡æ ‡ï¼Œä¾‹å¦‚ç‚¹å‡»ç‡ã€è½¬åŒ–ç‡ã€åŠ è´­ç‰©è½¦è´­ä¹°ã€æ–°é¡¹æ·»åŠ åˆ°è´­ç‰©è½¦ã€æ”¶å¬/è§‚çœ‹æ—¶é—´ç­‰ã€‚
- en: Putting in place your first recommender system does not necessarily guarantee
    you a repeatable experimentation process to start, but rather is the first step
    to moving towards that.
  id: totrans-32
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å®æ–½ç¬¬ä¸€ä¸ªæ¨èç³»ç»Ÿå¹¶ä¸ä¸€å®šèƒ½ä¿è¯ä½ ä¼šæœ‰ä¸€ä¸ªå¯é‡å¤çš„å®éªŒè¿‡ç¨‹å¼€å§‹ï¼Œä½†å®ƒæ˜¯è¿ˆå‘è¿™ä¸€ç›®æ ‡çš„ç¬¬ä¸€æ­¥ã€‚
- en: RecSys Case Studies
  id: totrans-33
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: æ¨èç³»ç»Ÿæ¡ˆä¾‹ç ”ç©¶
- en: '**Below are some example use cases of recommender systems that are prevalent
    in society, broken down by industry:**'
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: '**ä»¥ä¸‹æ˜¯ä¸€äº›ç¤¾ä¼šä¸­æ™®éå­˜åœ¨çš„æ¨èç³»ç»Ÿç¤ºä¾‹ç”¨ä¾‹ï¼ŒæŒ‰è¡Œä¸šåˆ†ç±»ï¼š**'
- en: '**Example RecSys Use Cases in Industry:**'
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: '**è¡Œä¸šä¸­çš„æ¨èç³»ç»Ÿä½¿ç”¨æ¡ˆä¾‹ï¼š**'
- en: 'Online Commerce: [eBay â€” Building a Deep Learning Based Retrieval System for
    Personalized Recommendations](https://tech.ebayinc.com/engineering/building-a-deep-learning-based-retrieval-system-for-personalized-recommendations)'
  id: totrans-36
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 'åœ¨çº¿å•†åŠ¡: [eBay â€” åŸºäºæ·±åº¦å­¦ä¹ çš„ä¸ªæ€§åŒ–æ¨èæ£€ç´¢ç³»ç»Ÿ](https://tech.ebayinc.com/engineering/building-a-deep-learning-based-retrieval-system-for-personalized-recommendations)'
- en: 'Fashion: [ASOS â€” Fashion Recommendations at ASOS](https://www.youtube.com/watch?v=kGuaEqEsxKM)'
  id: totrans-37
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 'æ—¶å°š: [ASOS â€” ASOS çš„æ—¶å°šæ¨è](https://www.youtube.com/watch?v=kGuaEqEsxKM)'
- en: 'Music: [Spotify â€” Automatic Music Playlist Continuation](https://research.atspotify.com/publications/recsys-challenge-2018-automatic-music-playlist-continuation)'
  id: totrans-38
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 'éŸ³ä¹: [Spotify â€” è‡ªåŠ¨éŸ³ä¹æ’­æ”¾åˆ—è¡¨ç»­é›†](https://research.atspotify.com/publications/recsys-challenge-2018-automatic-music-playlist-continuation)'
- en: 'Videos: [YouTube â€” Deep Neural Networks for Recommendations](https://research.google/pubs/pub45530/)'
  id: totrans-39
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 'è§†é¢‘: [YouTube â€” ç”¨äºæ¨èçš„æ·±åº¦ç¥ç»ç½‘ç»œ](https://research.google/pubs/pub45530/)'
- en: 'Images: [Pinterest â€” Unifying Visual Embeddings for Visual Search](https://medium.com/pinterest-engineering/unifying-visual-embeddings-for-visual-search-at-pinterest-74ea7ea103f0)'
  id: totrans-40
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 'å›¾ç‰‡: [Pinterest â€” ç»Ÿä¸€è§†è§‰åµŒå…¥ä»¥è¿›è¡Œè§†è§‰æœç´¢](https://medium.com/pinterest-engineering/unifying-visual-embeddings-for-visual-search-at-pinterest-74ea7ea103f0)'
- en: 'Written Content: [New York Times â€” Building the Next Recommendation Engine](https://archive.nytimes.com/open.blogs.nytimes.com/2015/08/11/building-the-next-new-york-times-recommendation-engine)'
  id: totrans-41
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 'ä¹¦é¢å†…å®¹: [çº½çº¦æ—¶æŠ¥ â€” æ„å»ºä¸‹ä¸€ä¸ªæ¨èå¼•æ“](https://archive.nytimes.com/open.blogs.nytimes.com/2015/08/11/building-the-next-new-york-times-recommendation-engine)'
- en: 'Online Dating: [Tinder â€” Personlized Recommendations using TinVec](https://www.youtube.com/watch?v=j2rfLFYYdfM)'
  id: totrans-42
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 'åœ¨çº¿çº¦ä¼š: [Tinder â€” ä½¿ç”¨ TinVec çš„ä¸ªæ€§åŒ–æ¨è](https://www.youtube.com/watch?v=j2rfLFYYdfM)'
- en: 'Online Gaming: [Steam â€” Recommender Systems for Online Video Game Platforms](https://www.researchgate.net/publication/333072035_Recommender_Systems_for_Online_Video_Game_Platforms_the_Case_of_STEAM)'
  id: totrans-43
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 'åœ¨çº¿æ¸¸æˆ: [Steam â€” åœ¨çº¿è§†é¢‘æ¸¸æˆå¹³å°çš„æ¨èç³»ç»Ÿ](https://www.researchgate.net/publication/333072035_Recommender_Systems_for_Online_Video_Game_Platforms_the_Case_of_STEAM)'
- en: 'Travel Accommodation: [Expedia â€” Recommendations using Hotel2Vec](https://medium.com/expedia-group-tech/expedia-group-recsys-2021-ff791f42ba07)'
  id: totrans-44
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 'æ—…è¡Œä½å®¿: [Expedia â€” ä½¿ç”¨ Hotel2Vec çš„æ¨è](https://medium.com/expedia-group-tech/expedia-group-recsys-2021-ff791f42ba07)'
- en: 'Healthcare Procurement: [Novartis AG â€” Powering Search and Recommendation with
    Amazon OpenSearch KNN and SageMaker](https://aws.amazon.com/blogs/industries/novartis-ag-uses-amazon-elasticsearch-k-nearest-neighbor-knn-and-amazon-sagemaker-to-power-search-and-recommendation)'
  id: totrans-45
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 'åŒ»ç–—é‡‡è´­: [Novartis AG â€” ä½¿ç”¨ Amazon OpenSearch KNN å’Œ SageMaker æä¾›æœç´¢å’Œæ¨èæœåŠ¡](https://aws.amazon.com/blogs/industries/novartis-ag-uses-amazon-elasticsearch-k-nearest-neighbor-knn-and-amazon-sagemaker-to-power-search-and-recommendation)'
- en: 'Food Delivery: [Instacart â€” Personalizing Recommendations of a Learning User](https://www.instacart.com/company/how-its-made/personalizing-recommendations-for-a-learning-user)'
  id: totrans-46
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 'é£Ÿå“é…é€: [Instacart â€” ä¸ªæ€§åŒ–å­¦ä¹ ç”¨æˆ·çš„æ¨è](https://www.instacart.com/company/how-its-made/personalizing-recommendations-for-a-learning-user)'
- en: 'Housing and Apartments: [Zillow â€” Home Embeddings for Similar Home Recommendations](https://www.zillow.com/tech/embedding-similar-home-recommendation/)'
  id: totrans-47
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 'ä½æˆ¿å’Œå…¬å¯“: [Zillow â€” åŸºäºæˆ¿å±‹åµŒå…¥çš„ç›¸ä¼¼æˆ¿å±‹æ¨è](https://www.zillow.com/tech/embedding-similar-home-recommendation/)'
- en: 'Leasing and Office Rental: [WeWork â€” Recommendation Systems](https://www.youtube.com/watch?v=-R1loUK_EdA)'
  id: totrans-48
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 'ç§Ÿèµå’ŒåŠå…¬å®¤ç§Ÿèµ: [WeWork â€” æ¨èç³»ç»Ÿ](https://www.youtube.com/watch?v=-R1loUK_EdA)'
- en: 'Recruitment and Candidate Search: [LinkedIn â€” Quality Matches via Personalized
    AI for hirer and seeker preferences](https://engineering.linkedin.com/blog/2020/quality-matches-via-personalized-ai)'
  id: totrans-49
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 'æ‹›è˜å’Œå€™é€‰äººæœç´¢: [LinkedIn â€” é€šè¿‡ä¸ªæ€§åŒ– AI å®ç°é«˜è´¨é‡åŒ¹é…](https://engineering.linkedin.com/blog/2020/quality-matches-via-personalized-ai)'
- en: '**Online Education, Online Banking, Insurance were also the industries where
    I expected to find examples of successful case studies, however information was
    scarce.**'
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: '**åœ¨çº¿æ•™è‚²ã€åœ¨çº¿é“¶è¡Œã€ä¿é™©ä¹Ÿæ˜¯æˆ‘æœŸæœ›æ‰¾åˆ°æˆåŠŸæ¡ˆä¾‹çš„è¡Œä¸šï¼Œä½†ä¿¡æ¯å¾ˆå°‘ã€‚**'
- en: Architecting and Building a RecSys
  id: totrans-51
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: æ„å»ºå’Œè®¾è®¡æ¨èç³»ç»Ÿ
- en: Often in the real world, IT systems are a collection of services working together.
    Architecting and building a recommender system is a layered, multi-stage process
    that uses the right type of model for each stage in the layer.
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨ç°å®ä¸–ç•Œä¸­ï¼ŒITç³»ç»Ÿé€šå¸¸æ˜¯å¤šä¸ªæœåŠ¡å…±åŒå·¥ä½œçš„é›†åˆã€‚æ„å»ºæ¨èç³»ç»Ÿæ˜¯ä¸€ç§åˆ†å±‚ã€å¤šé˜¶æ®µçš„è¿‡ç¨‹ï¼Œæ¯ä¸ªé˜¶æ®µä½¿ç”¨é€‚å½“ç±»å‹çš„æ¨¡å‹ã€‚
- en: Letâ€™s take a look at the stages a machine learning engineer goes through when
    building a recommender system.
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: è®©æˆ‘ä»¬æ¥çœ‹çœ‹æœºå™¨å­¦ä¹ å·¥ç¨‹å¸ˆåœ¨æ„å»ºæ¨èç³»ç»Ÿæ—¶æ‰€ç»å†çš„é˜¶æ®µã€‚
- en: 3 Recommender System Design
  id: totrans-54
  prefs:
  - PREF_H1
  - PREF_H1
  type: TYPE_NORMAL
  zh: 3 æ¨èç³»ç»Ÿè®¾è®¡
- en: '![](../Images/fdd8d505e7545bf896a2bf91e60c32e7.png)'
  id: totrans-55
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/fdd8d505e7545bf896a2bf91e60c32e7.png)'
- en: Multi-stage Recommender System. Image by [author](https://natworkeffects.medium.com).
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: å¤šé˜¶æ®µæ¨èç³»ç»Ÿã€‚å›¾ç‰‡ç”± [ä½œè€…](https://natworkeffects.medium.com) æä¾›ã€‚
- en: The above diagram shows the de-facto standard for building recommender systems.
    State-of-the-art (SOTA) recommender systems separate the engineering of such a
    system into this 3-stage process.
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸Šå›¾å±•ç¤ºäº†æ„å»ºæ¨èç³»ç»Ÿçš„äº‹å®æ ‡å‡†ã€‚æœ€å…ˆè¿›ï¼ˆSOTAï¼‰çš„æ¨èç³»ç»Ÿå°†ç³»ç»Ÿå·¥ç¨‹åˆ†è§£ä¸ºè¿™ä¸ªä¸‰é˜¶æ®µçš„è¿‡ç¨‹ã€‚
- en: '**Note on Model Serving:** At each stage of the process, we also need to think
    about how to expose or serve the ML model that has been built for downstream consumers
    to utilize.'
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: '**å…³äºæ¨¡å‹æœåŠ¡çš„è¯´æ˜ï¼š** åœ¨æ¯ä¸ªé˜¶æ®µï¼Œæˆ‘ä»¬è¿˜éœ€è¦è€ƒè™‘å¦‚ä½•æš´éœ²æˆ–æœåŠ¡å·²ç»ä¸ºä¸‹æ¸¸æ¶ˆè´¹è€…æ„å»ºçš„æœºå™¨å­¦ä¹ æ¨¡å‹ã€‚'
- en: We will explore this in the subsequent sections as we explain each of the stages.
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬å°†åœ¨åç»­éƒ¨åˆ†ä¸­æ¢è®¨æ¯ä¸ªé˜¶æ®µã€‚
- en: Candidate Generation; Retrieval
  id: totrans-60
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: å€™é€‰ç”Ÿæˆï¼›æ£€ç´¢
- en: Candidate generation is also known as the **Retrieval** stage in some recommender
    system literature. Item catalogs can potentially grow into the hundred thousands,
    millions or billions of items.
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: å€™é€‰ç”Ÿæˆåœ¨ä¸€äº›æ¨èç³»ç»Ÿæ–‡çŒ®ä¸­ä¹Ÿè¢«ç§°ä¸º**æ£€ç´¢**é˜¶æ®µã€‚é¡¹ç›®ç›®å½•å¯èƒ½ä¼šå¢é•¿åˆ°æ•°åä¸‡ã€æ•°ç™¾ä¸‡æˆ–æ•°åäº¿é¡¹ã€‚
- en: Candidate generation methods are able to select the top hundred most relevant
    items through efficiently comparing the similarity between items using a distance
    metric.
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: å€™é€‰ç”Ÿæˆæ–¹æ³•èƒ½å¤Ÿé€šè¿‡é«˜æ•ˆæ¯”è¾ƒé¡¹ç›®ä¹‹é—´çš„ç›¸ä¼¼æ€§ï¼Œä½¿ç”¨è·ç¦»åº¦é‡é€‰æ‹©å‰ä¸€ç™¾ä¸ªæœ€ç›¸å…³çš„é¡¹ç›®ã€‚
- en: The first big idea here is to learn a numerical vector representation of users
    and item, the input data. These vectors, called embeddings can be written to a
    database or a nearest neighbors index where they are later retrieved by downstream
    systems.
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: é¦–è¦çš„æƒ³æ³•æ˜¯å­¦ä¹ ç”¨æˆ·å’Œé¡¹ç›®çš„æ•°å€¼å‘é‡è¡¨ç¤ºï¼Œå³è¾“å…¥æ•°æ®ã€‚è¿™äº›å‘é‡ï¼Œç§°ä¸ºåµŒå…¥ï¼Œå¯ä»¥è¢«å†™å…¥æ•°æ®åº“æˆ–æœ€è¿‘é‚»ç´¢å¼•ä¸­ï¼Œåç»­ç³»ç»Ÿå¯ä»¥ä»ä¸­æ£€ç´¢å®ƒä»¬ã€‚
- en: Once we have the user and item embeddings, we can calculate their similarity
    in the embedding space using distance metrics such as euclidean distance, dot
    product, cosine similarity etc.
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸€æ—¦æˆ‘ä»¬æœ‰äº†ç”¨æˆ·å’Œé¡¹ç›®çš„åµŒå…¥ï¼Œå°±å¯ä»¥ä½¿ç”¨è·ç¦»åº¦é‡å¦‚æ¬§æ°è·ç¦»ã€ç‚¹ç§¯ã€ä½™å¼¦ç›¸ä¼¼åº¦ç­‰è®¡ç®—å®ƒä»¬åœ¨åµŒå…¥ç©ºé—´ä¸­çš„ç›¸ä¼¼æ€§ã€‚
- en: Candidate Generation aims to whittle down the number of potential candidates
    using an efficient approach that returns hundreds of candidate results that are
    ranked in the next stage. Usually, multiple candidate generators are built, that
    are trained using different approaches, each utilizing its own specific set of
    training data.
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: å€™é€‰ç”Ÿæˆæ—¨åœ¨é€šè¿‡ä¸€ç§é«˜æ•ˆçš„æ–¹æ³•æ¥ç¼©å°æ½œåœ¨å€™é€‰çš„æ•°é‡ï¼Œè¯¥æ–¹æ³•è¿”å›æ•°ç™¾ä¸ªå€™é€‰ç»“æœï¼Œå¹¶åœ¨ä¸‹ä¸€é˜¶æ®µè¿›è¡Œæ’åºã€‚é€šå¸¸ï¼Œä¼šå»ºç«‹å¤šä¸ªå€™é€‰ç”Ÿæˆå™¨ï¼Œè¿™äº›ç”Ÿæˆå™¨ä½¿ç”¨ä¸åŒçš„æ–¹æ³•è¿›è¡Œè®­ç»ƒï¼Œæ¯ä¸ªç”Ÿæˆå™¨åˆ©ç”¨å…¶ç‰¹å®šçš„æ•°æ®é›†ã€‚
- en: '**Why not just go straight to the Scoring stage?**'
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: '**ä¸ºä»€ä¹ˆä¸ç›´æ¥è¿›å…¥è¯„åˆ†é˜¶æ®µï¼Ÿ**'
- en: A common and valid question to ask here is why not just go straight to the scoring
    stage? Why go through the process of generating embeddings for candidate generation?
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸€ä¸ªå¸¸è§ä¸”åˆç†çš„é—®é¢˜æ˜¯ï¼Œä¸ºä»€ä¹ˆä¸ç›´æ¥è¿›å…¥è¯„åˆ†é˜¶æ®µï¼Ÿä¸ºä»€ä¹ˆè¦ç»è¿‡ç”ŸæˆåµŒå…¥çš„è¿‡ç¨‹æ¥è¿›è¡Œå€™é€‰ç”Ÿæˆï¼Ÿ
- en: 'There are several points to consider here:'
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™é‡Œæœ‰å‡ ä¸ªéœ€è¦è€ƒè™‘çš„è¦ç‚¹ï¼š
- en: Generating embeddings are a key feature engineering step. The vector values
    can be re-used downstream as input feature values to further increase the accuracy
    of the downstream scoring model.
  id: totrans-69
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: ç”ŸæˆåµŒå…¥æ˜¯ä¸€ä¸ªå…³é”®çš„ç‰¹å¾å·¥ç¨‹æ­¥éª¤ã€‚è¿™äº›å‘é‡å€¼å¯ä»¥åœ¨ä¸‹æ¸¸ä½œä¸ºè¾“å…¥ç‰¹å¾å€¼é‡å¤ä½¿ç”¨ï¼Œä»¥è¿›ä¸€æ­¥æé«˜ä¸‹æ¸¸è¯„åˆ†æ¨¡å‹çš„å‡†ç¡®æ€§ã€‚
- en: Candidate generation models can train on unstructured data, and represent unstructured
    data attributes of the item or user using a multi-dimensional vector. This useful
    information, such as ***text***, ***images***, ***audio***, ***video***, would
    otherwise remain untapped.
  id: totrans-70
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: å€™é€‰ç”Ÿæˆæ¨¡å‹å¯ä»¥åœ¨éç»“æ„åŒ–æ•°æ®ä¸Šè¿›è¡Œè®­ç»ƒï¼Œå¹¶ä½¿ç”¨å¤šç»´å‘é‡è¡¨ç¤ºé¡¹æˆ–ç”¨æˆ·çš„éç»“æ„åŒ–æ•°æ®å±æ€§ã€‚è¿™äº›æœ‰ç”¨çš„ä¿¡æ¯ï¼Œå¦‚***æ–‡æœ¬***ã€***å›¾åƒ***ã€***éŸ³é¢‘***ã€***è§†é¢‘***ï¼Œå¦åˆ™å°†è¢«å¿½è§†ã€‚
- en: Semantic visual understanding of each item or user in the embedding space. You
    can visualize high-dimensional vectors in a 2-D space using tools such as [TensorBoard
    Embedding Projector](https://www.tensorflow.org/tensorboard/tensorboard_projector_plugin).
    By doing so, you also gain the ability to observe, and apply clustering algorithms
    to discover clusters of similar objects.
  id: totrans-71
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: åµŒå…¥ç©ºé—´ä¸­æ¯ä¸ªé¡¹æˆ–ç”¨æˆ·çš„è¯­ä¹‰è§†è§‰ç†è§£ã€‚ä½ å¯ä»¥ä½¿ç”¨å¦‚[TensorBoard Embedding Projector](https://www.tensorflow.org/tensorboard/tensorboard_projector_plugin)è¿™æ ·çš„å·¥å…·åœ¨äºŒç»´ç©ºé—´ä¸­å¯è§†åŒ–é«˜ç»´å‘é‡ã€‚è¿™æ ·ï¼Œä½ ä¹Ÿå¯ä»¥è§‚å¯Ÿï¼Œå¹¶åº”ç”¨èšç±»ç®—æ³•å‘ç°ç›¸ä¼¼å¯¹è±¡çš„ç°‡ã€‚
- en: The output of a candidate generation model aims to establish similarity between
    items or users. This idea is fundamental in most recommender system products.
    Examples such as **â€œSimilar Items toâ€¦â€** or **â€œUsers similar to you also likedâ€¦â€**
    spring to mind.
  id: totrans-72
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: å€™é€‰ç”Ÿæˆæ¨¡å‹çš„è¾“å‡ºæ—¨åœ¨å»ºç«‹é¡¹æˆ–ç”¨æˆ·ä¹‹é—´çš„ç›¸ä¼¼æ€§ã€‚è¿™ä¸ªæƒ³æ³•åœ¨å¤§å¤šæ•°æ¨èç³»ç»Ÿäº§å“ä¸­æ˜¯åŸºç¡€çš„ã€‚ä¾‹å¦‚**â€œç±»ä¼¼äºâ€¦â€**æˆ–**â€œä¸ä½ ç›¸ä¼¼çš„ç”¨æˆ·ä¹Ÿå–œæ¬¢â€¦â€**ã€‚
- en: 'Serve model results efficiently. Serving a candidate generation model is also
    efficient using an Approximate Nearest Neighbors (ANN) engine. For more information
    about the ANN algorithm, please refer to the video: [Approximate Nearest Neighbors:
    Data Science Concepts](https://www.youtube.com/watch?v=DRbjpuqOsjk). **Contrast
    this with the Scoring stage â€” where you have the added overhead of computing all
    the engineered features that went into training the Scoring model, before the
    API is able to return you the model results.**'
  id: totrans-73
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 'é«˜æ•ˆæœåŠ¡æ¨¡å‹ç»“æœã€‚ä½¿ç”¨è¿‘ä¼¼æœ€è¿‘é‚»ï¼ˆANNï¼‰å¼•æ“æ¥æœåŠ¡å€™é€‰ç”Ÿæˆæ¨¡å‹ä¹Ÿå¾ˆé«˜æ•ˆã€‚æœ‰å…³ANNç®—æ³•çš„æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚é˜…è§†é¢‘ï¼š[Approximate Nearest
    Neighbors: Data Science Concepts](https://www.youtube.com/watch?v=DRbjpuqOsjk)ã€‚**ä¸è¯„åˆ†é˜¶æ®µå¯¹æ¯”â€”â€”åœ¨è¯„åˆ†æ¨¡å‹è®­ç»ƒè¿‡ç¨‹ä¸­ï¼Œä½ è¿˜éœ€è®¡ç®—æ‰€æœ‰å·¥ç¨‹ç‰¹å¾ï¼ŒAPIæ‰èƒ½è¿”å›æ¨¡å‹ç»“æœã€‚**'
- en: 'As mentioned earlier, serving these embeddings is done via exposing an ANN
    engine. There are a lot of choices on the market for this, both open source and
    on public clouds, below are just some of your options:'
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: å¦‚å‰æ‰€è¿°ï¼ŒæœåŠ¡è¿™äº›åµŒå…¥æ˜¯é€šè¿‡æš´éœ²ANNå¼•æ“æ¥å®Œæˆçš„ã€‚å¸‚åœºä¸Šæœ‰è®¸å¤šé€‰æ‹©ï¼ŒåŒ…æ‹¬å¼€æºå’Œå…¬å…±äº‘ï¼Œä»¥ä¸‹æ˜¯ä¸€äº›é€‰é¡¹ï¼š
- en: 'Open-Source: [Facebook faiss library](https://github.com/facebookresearch/faiss)'
  id: totrans-75
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å¼€æºï¼š[Facebook faiss library](https://github.com/facebookresearch/faiss)
- en: 'AWS: [Amazon OpenSearch](https://docs.aws.amazon.com/opensearch-service/latest/developerguide/knn.html)'
  id: totrans-76
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: AWSï¼š[Amazon OpenSearch](https://docs.aws.amazon.com/opensearch-service/latest/developerguide/knn.html)
- en: 'GCP: [Vertex AI Matching Engine](https://cloud.google.com/vertex-ai/docs/matching-engine/ann-service-overview)'
  id: totrans-77
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: GCPï¼š[Vertex AI Matching Engine](https://cloud.google.com/vertex-ai/docs/matching-engine/ann-service-overview)
- en: Simply use one of these services, select your distance similarity metric, and
    downstream consumers can call the API to retrieve object embeddings.
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: åªéœ€ä½¿ç”¨è¿™äº›æœåŠ¡ä¸­çš„ä¸€ä¸ªï¼Œé€‰æ‹©ä½ çš„è·ç¦»ç›¸ä¼¼æ€§åº¦é‡ï¼Œä¸‹æ¸¸æ¶ˆè´¹è€…å¯ä»¥è°ƒç”¨APIä»¥æ£€ç´¢å¯¹è±¡åµŒå…¥ã€‚
- en: An alternative approach is to write the object embeddings to a database, and
    downstream systems query the database to retrieve them. This is essentially what
    [Spotify does using Cloud Bigtable](https://www.youtube.com/watch?v=807uHC0Ia10).
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
  zh: å¦ä¸€ç§æ–¹æ³•æ˜¯å°†å¯¹è±¡åµŒå…¥å†™å…¥æ•°æ®åº“ï¼Œä¸‹æ¸¸ç³»ç»ŸæŸ¥è¯¢æ•°æ®åº“ä»¥æ£€ç´¢è¿™äº›åµŒå…¥ã€‚è¿™æœ¬è´¨ä¸Šå°±æ˜¯[Spotify ä½¿ç”¨ Cloud Bigtable](https://www.youtube.com/watch?v=807uHC0Ia10)æ‰€åšçš„ã€‚
- en: Scoring; Ranking
  id: totrans-80
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: è¯„åˆ†ï¼›æ’å
- en: 'Scoring is also known as the **Ranking** stage in some recommender system literature.
    It is stage that happens after candidate generation. A visual representation of
    this is shown in the diagram below:'
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: è¯„åˆ†åœ¨ä¸€äº›æ¨èç³»ç»Ÿæ–‡çŒ®ä¸­ä¹Ÿè¢«ç§°ä¸º**æ’å**é˜¶æ®µã€‚å®ƒæ˜¯åœ¨å€™é€‰ç”Ÿæˆä¹‹åå‘ç”Ÿçš„é˜¶æ®µã€‚ä¸‹å›¾å±•ç¤ºäº†è¿™ä¸€è¿‡ç¨‹çš„å¯è§†åŒ–è¡¨ç¤ºï¼š
- en: '![](../Images/ea2a35637c320970aa3aaed4e8199976.png)'
  id: totrans-82
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/ea2a35637c320970aa3aaed4e8199976.png)'
- en: Multiple Candidate Generation Models. Image by [author](https://natworkeffects.medium.com).
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
  zh: å¤šå€™é€‰ç”Ÿæˆæ¨¡å‹ã€‚å›¾ç‰‡ç”±[ä½œè€…](https://natworkeffects.medium.com)æä¾›ã€‚
- en: After retrieving top hundred candidates from multiple candidate generator models,
    each candidateâ€™s embeddings can be organized into a structured tabular format
    along with other input data about the item and user such as datetime, category,
    device type etc. Scoring is a supervised learning problem, so we have to ensure
    that we pass it labeled training data relevant to the business metric we are optimizing
    for.
  id: totrans-84
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨ä»å¤šä¸ªå€™é€‰ç”Ÿæˆæ¨¡å‹ä¸­æ£€ç´¢å‡ºå‰ä¸€ç™¾ä¸ªå€™é€‰é¡¹åï¼Œæ¯ä¸ªå€™é€‰é¡¹çš„åµŒå…¥å¯ä»¥ä¸æœ‰å…³é¡¹ç›®å’Œç”¨æˆ·çš„å…¶ä»–è¾“å…¥æ•°æ®ï¼ˆå¦‚æ—¥æœŸæ—¶é—´ã€ç±»åˆ«ã€è®¾å¤‡ç±»å‹ç­‰ï¼‰ä¸€èµ·ç»„ç»‡æˆç»“æ„åŒ–çš„è¡¨æ ¼æ ¼å¼ã€‚è¯„åˆ†æ˜¯ä¸€ä¸ªç›‘ç£å­¦ä¹ é—®é¢˜ï¼Œå› æ­¤æˆ‘ä»¬å¿…é¡»ç¡®ä¿ä¼ é€’ç›¸å…³ä¸šåŠ¡æŒ‡æ ‡çš„æ ‡è®°è®­ç»ƒæ•°æ®ã€‚
- en: '**Scoring is an optional stage**'
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: '**è¯„åˆ†æ˜¯ä¸€ä¸ªå¯é€‰çš„é˜¶æ®µ**'
- en: Depending on whether you have labeled training data or not, your company may
    not have a Scoring stage. This is perfectly fine, and some companies get by with
    just Candidate Generation stage powering their recommender system products. **It
    may take more time and effort for your internal data engineering process to put
    in place the right telemetry to produce labeled training datasets.**
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
  zh: æ ¹æ®ä½ æ˜¯å¦æœ‰æ ‡è®°çš„è®­ç»ƒæ•°æ®ï¼Œä½ çš„å…¬å¸å¯èƒ½æ²¡æœ‰è¯„åˆ†é˜¶æ®µã€‚è¿™å®Œå…¨æ²¡é—®é¢˜ï¼Œæœ‰äº›å…¬å¸ä»…ä¾é å€™é€‰ç”Ÿæˆé˜¶æ®µæ¥æ”¯æŒå®ƒä»¬çš„æ¨èç³»ç»Ÿäº§å“ã€‚**ä¸ºå†…éƒ¨æ•°æ®å·¥ç¨‹è¿‡ç¨‹å»ºç«‹æ­£ç¡®çš„é¥æµ‹ä»¥ç”Ÿæˆæ ‡è®°çš„è®­ç»ƒæ•°æ®é›†å¯èƒ½éœ€è¦æ›´å¤šçš„æ—¶é—´å’Œç²¾åŠ›ã€‚**
- en: Scoring is a classification problem. The output of the classification model
    is a probability score that enables you to rank the candidates from most likely
    to increase the business metric to least likely to do so. Examples of such business
    metrics include click-through rate, video watch time, item add-to-cart etc.
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
  zh: è¯„åˆ†æ˜¯ä¸€ä¸ªåˆ†ç±»é—®é¢˜ã€‚åˆ†ç±»æ¨¡å‹çš„è¾“å‡ºæ˜¯ä¸€ä¸ªæ¦‚ç‡è¯„åˆ†ï¼Œèƒ½å¤Ÿè®©ä½ æŒ‰ä»æœ€å¯èƒ½æå‡ä¸šåŠ¡æŒ‡æ ‡çš„å€™é€‰é¡¹åˆ°æœ€ä¸å¯èƒ½æå‡çš„å€™é€‰é¡¹è¿›è¡Œæ’åã€‚è¿™äº›ä¸šåŠ¡æŒ‡æ ‡çš„ç¤ºä¾‹åŒ…æ‹¬ç‚¹å‡»ç‡ã€è§†é¢‘è§‚çœ‹æ—¶é—´ã€é¡¹ç›®æ·»åŠ åˆ°è´­ç‰©è½¦ç­‰ã€‚
- en: To serve the output of a Scoring model, you can publish an API endpoint with
    the model version you would like to deploy. The downstream system would have to
    call the API with the base input features (we must be careful here to not introduce
    data leakage), and the Scoring model would calculate the engineered features,
    before returning a ranked list of items, each with their own probability score.
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸ºäº†æœåŠ¡äºè¯„åˆ†æ¨¡å‹çš„è¾“å‡ºï¼Œä½ å¯ä»¥å‘å¸ƒä¸€ä¸ªå¸¦æœ‰æ¨¡å‹ç‰ˆæœ¬çš„ API ç«¯ç‚¹ã€‚ä¸‹æ¸¸ç³»ç»Ÿéœ€è¦è°ƒç”¨ APIï¼Œä½¿ç”¨åŸºæœ¬è¾“å…¥ç‰¹å¾ï¼ˆæˆ‘ä»¬å¿…é¡»å°å¿ƒä¸è¦å¼•å…¥æ•°æ®æ³„æ¼ï¼‰ï¼Œç„¶åè¯„åˆ†æ¨¡å‹å°†è®¡ç®—å·¥ç¨‹ç‰¹å¾ï¼Œå¹¶è¿”å›ä¸€ä¸ªæŒ‰æ¦‚ç‡è¯„åˆ†æ’åºçš„é¡¹ç›®åˆ—è¡¨ã€‚
- en: 'There are easy options for deploying such an endpoint on all 3 public cloud
    providers:'
  id: totrans-89
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨æ‰€æœ‰ 3 ä¸ªå…¬å…±äº‘æä¾›å•†ä¸Šéƒ¨ç½²è¿™æ ·çš„ç«¯ç‚¹æœ‰ç®€å•çš„é€‰é¡¹ï¼š
- en: Similarly, the ranked list of results, if retrieved via a batch endpoint can
    be cached into a database, for retrieval later by the downstream application.
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: åŒæ ·ï¼Œè‹¥é€šè¿‡æ‰¹å¤„ç†ç«¯ç‚¹æ£€ç´¢çš„æ’åç»“æœå¯ä»¥ç¼“å­˜åˆ°æ•°æ®åº“ä¸­ï¼Œä»¥ä¾¿ç¨åç”±ä¸‹æ¸¸åº”ç”¨ç¨‹åºæ£€ç´¢ã€‚
- en: Re-Ranking
  id: totrans-91
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: é‡æ–°æ’åº
- en: 'After ranking your items by assigning them probability scores, systems can
    also re-rank the ordered list of items. There are several benefits to re-ranking,
    namely:'
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨é€šè¿‡åˆ†é…æ¦‚ç‡è¯„åˆ†å¯¹é¡¹ç›®è¿›è¡Œæ’åºåï¼Œç³»ç»Ÿè¿˜å¯ä»¥é‡æ–°æ’åºè¿™äº›æœ‰åºçš„é¡¹ç›®åˆ—è¡¨ã€‚é‡æ–°æ’åºæœ‰å‡ ä¸ªå¥½å¤„ï¼Œå³ï¼š
- en: Item quality â€” removal of malicious items such as fake / pirated / scam products,
    poor quality item listings, clickbait etc that could negatively affect user confidence
    and discourage them from using the platform.
  id: totrans-93
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: é¡¹ç›®è´¨é‡â€”â€”å»é™¤æ¶æ„é¡¹ç›®ï¼Œå¦‚è™šå‡/ç›—ç‰ˆ/è¯ˆéª—äº§å“ã€ä½è´¨é‡çš„é¡¹ç›®åˆ—è¡¨ã€ç‚¹å‡»è¯±é¥µç­‰ï¼Œè¿™äº›å¯èƒ½ä¼šå¯¹ç”¨æˆ·ä¿¡å¿ƒäº§ç”Ÿè´Ÿé¢å½±å“ï¼Œé˜»æ­¢ä»–ä»¬ä½¿ç”¨å¹³å°ã€‚
- en: Item diversity â€” Instead of recommending items that users have seen before,
    we can recommend lesser known item listings, or different categories of items
    that a user usually looks at to encourage discovery and exploration on the platform.
  id: totrans-94
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: é¡¹ç›®å¤šæ ·æ€§â€”â€”æˆ‘ä»¬å¯ä»¥æ¨èç”¨æˆ·ä»¥å‰æœªè§è¿‡çš„é¡¹ç›®ï¼Œæˆ–è€…æ¨èç”¨æˆ·é€šå¸¸æŸ¥çœ‹çš„ä¸åŒç±»åˆ«çš„é¡¹ç›®ï¼Œä»¥é¼“åŠ±å¹³å°ä¸Šçš„å‘ç°å’Œæ¢ç´¢ã€‚
- en: When you optimize for a business metric, you are prone to [metric corruption](https://www.nngroup.com/articles/campbells-law/)
    â€” you encourage certain malicious behaviours from bad actors. The re-ranking stage
    serves to mitigate that, by considering other metrics that are complimentary to
    the primary one that was optimized for during the Scoring stage.
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
  zh: å½“ä½ é’ˆå¯¹ä¸šåŠ¡æŒ‡æ ‡è¿›è¡Œä¼˜åŒ–æ—¶ï¼Œä½ å¯èƒ½ä¼šé‡åˆ°[æŒ‡æ ‡è…è´¥](https://www.nngroup.com/articles/campbells-law/)â€”â€”è¿™ä¼šé¼“åŠ±ä¸è‰¯è¡Œä¸ºè€…é‡‡å–æŸäº›æ¶æ„è¡Œä¸ºã€‚é‡æ–°æ’åºé˜¶æ®µæ—¨åœ¨é€šè¿‡è€ƒè™‘ä¸è¯„åˆ†é˜¶æ®µä¼˜åŒ–çš„ä¸»è¦æŒ‡æ ‡äº’è¡¥çš„å…¶ä»–æŒ‡æ ‡æ¥å‡è½»è¿™ä¸€é—®é¢˜ã€‚
- en: The process of Re-Ranking could be simple business rules to ensure mandatory
    fields for an item is filled in, or you could train a separate model that learns
    characteristics of the bad actors or items with malicious intent. Serving these
    models would be similar to the approach described in the Scoring stage.
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
  zh: é‡æ–°æ’åçš„è¿‡ç¨‹å¯ä»¥æ˜¯ç®€å•çš„ä¸šåŠ¡è§„åˆ™ï¼Œä»¥ç¡®ä¿å¡«å……é¡¹ç›®çš„å¼ºåˆ¶å­—æ®µï¼Œæˆ–è€…å¯ä»¥è®­ç»ƒä¸€ä¸ªç‹¬ç«‹çš„æ¨¡å‹æ¥å­¦ä¹ æ¶æ„è¡Œä¸ºè€…æˆ–å…·æœ‰æ¶æ„æ„å›¾çš„é¡¹ç›®çš„ç‰¹å¾ã€‚æœåŠ¡è¿™äº›æ¨¡å‹å°†ç±»ä¼¼äºåœ¨è¯„åˆ†é˜¶æ®µæè¿°çš„æ–¹æ³•ã€‚
- en: To promote new item discovery on your platform, and encourage diversity, companies
    also utilize variants of multi-armed bandit algorithms when serving the ranked
    item list to end users, to strike a balance between exploration vs. exploitation
    of items, but thatâ€™s a topic that warrants a dedicated blog post for another time.
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸ºäº†ä¿ƒè¿›å¹³å°ä¸Šæ–°é¡¹ç›®çš„å‘ç°å¹¶é¼“åŠ±å¤šæ ·æ€§ï¼Œå…¬å¸åœ¨å‘æœ€ç»ˆç”¨æˆ·æä¾›æ’åé¡¹ç›®åˆ—è¡¨æ—¶ï¼Œä¹Ÿåˆ©ç”¨å¤šè‡‚è€è™æœºç®—æ³•çš„å˜ä½“ï¼Œä»¥åœ¨æ¢ç´¢ä¸å¼€å‘ä¹‹é—´å–å¾—å¹³è¡¡ï¼Œä½†è¿™æ˜¯ä¸€ä¸ªéœ€è¦ä¸“é—¨åšå®¢æ–‡ç« è®¨è®ºçš„ä¸»é¢˜ã€‚
- en: 4 Special Thanks / References
  id: totrans-98
  prefs:
  - PREF_H1
  - PREF_H1
  type: TYPE_NORMAL
  zh: 4 ç‰¹åˆ«æ„Ÿè°¢ / å‚è€ƒæ–‡çŒ®
- en: '*A special mention and thanks to the authors and creators of the following
    resources, that helped me to write this post:*'
  id: totrans-99
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '*ç‰¹åˆ«æ„Ÿè°¢ä»¥ä¸‹èµ„æºçš„ä½œè€…å’Œåˆ›ä½œè€…ï¼Œä»–ä»¬å¸®åŠ©æˆ‘å†™äº†è¿™ç¯‡æ–‡ç« ï¼š*'
- en: ğŸ“š [Google Developers Recommendation Systems Course](https://developers.google.com/machine-learning/recommendation)
  id: totrans-100
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ğŸ“š [Google å¼€å‘è€…æ¨èç³»ç»Ÿè¯¾ç¨‹](https://developers.google.com/machine-learning/recommendation)
- en: 'ğŸ¦ [Approximate Nearest Neighbors: Data Science Concepts](https://www.youtube.com/watch?v=DRbjpuqOsjk)'
  id: totrans-101
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ğŸ¦ [è¿‘ä¼¼æœ€è¿‘é‚»ï¼šæ•°æ®ç§‘å­¦æ¦‚å¿µ](https://www.youtube.com/watch?v=DRbjpuqOsjk)
- en: ğŸ¦ [Spotify Music Recommendations at Scale with Cloud Bigtable](https://www.youtube.com/watch?v=807uHC0Ia10)
  id: totrans-102
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ğŸ¦ [Spotify å¤§è§„æ¨¡éŸ³ä¹æ¨èä¸ Cloud Bigtable](https://www.youtube.com/watch?v=807uHC0Ia10)
- en: '*Originally published at* [*https://natworkeffects.com*](https://natworkeffects.com/posts/multi-stage-approach-to-building-recommender-systems)
    *on February 10, 2023.*'
  id: totrans-103
  prefs: []
  type: TYPE_NORMAL
  zh: '*æœ€åˆå‘è¡¨äº* [*https://natworkeffects.com*](https://natworkeffects.com/posts/multi-stage-approach-to-building-recommender-systems)
    *äº 2023 å¹´ 2 æœˆ 10 æ—¥ã€‚*'
