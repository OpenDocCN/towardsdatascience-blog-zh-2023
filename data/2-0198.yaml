- en: A Guide to Association Rule Mining
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: å…³è”è§„åˆ™æŒ–æ˜æŒ‡å—
- en: åŸæ–‡ï¼š[https://towardsdatascience.com/a-guide-to-association-rule-mining-96c42968ba6](https://towardsdatascience.com/a-guide-to-association-rule-mining-96c42968ba6)
  id: totrans-1
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: åŸæ–‡ï¼š[https://towardsdatascience.com/a-guide-to-association-rule-mining-96c42968ba6](https://towardsdatascience.com/a-guide-to-association-rule-mining-96c42968ba6)
- en: Create insights from frequent patterns using market basket analysis with Python
  id: totrans-2
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: ä½¿ç”¨ Python é€šè¿‡å¸‚åœºç¯®å­åˆ†æåˆ›å»ºé¢‘ç¹æ¨¡å¼çš„æ´å¯Ÿ
- en: '[](https://idilismiguzel.medium.com/?source=post_page-----96c42968ba6--------------------------------)[![Idil
    Ismiguzel](../Images/6846628535770a9f3e13ebb555e82abd.png)](https://idilismiguzel.medium.com/?source=post_page-----96c42968ba6--------------------------------)[](https://towardsdatascience.com/?source=post_page-----96c42968ba6--------------------------------)[![Towards
    Data Science](../Images/a6ff2676ffcc0c7aad8aaf1d79379785.png)](https://towardsdatascience.com/?source=post_page-----96c42968ba6--------------------------------)
    [Idil Ismiguzel](https://idilismiguzel.medium.com/?source=post_page-----96c42968ba6--------------------------------)'
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: '[](https://idilismiguzel.medium.com/?source=post_page-----96c42968ba6--------------------------------)[![Idil
    Ismiguzel](../Images/6846628535770a9f3e13ebb555e82abd.png)](https://idilismiguzel.medium.com/?source=post_page-----96c42968ba6--------------------------------)[](https://towardsdatascience.com/?source=post_page-----96c42968ba6--------------------------------)[![Towards
    Data Science](../Images/a6ff2676ffcc0c7aad8aaf1d79379785.png)](https://towardsdatascience.com/?source=post_page-----96c42968ba6--------------------------------)
    [Idil Ismiguzel](https://idilismiguzel.medium.com/?source=post_page-----96c42968ba6--------------------------------)'
- en: Â·Published in [Towards Data Science](https://towardsdatascience.com/?source=post_page-----96c42968ba6--------------------------------)
    Â·10 min readÂ·Apr 5, 2023
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: Â·å‘å¸ƒäº [Towards Data Science](https://towardsdatascience.com/?source=post_page-----96c42968ba6--------------------------------)
    Â·é˜…è¯»æ—¶é—´ 10 åˆ†é’ŸÂ·2023å¹´4æœˆ5æ—¥
- en: --
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: --
- en: '![](../Images/c4deb918ffc351de2f6044aa03c1a954.png)'
  id: totrans-6
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/c4deb918ffc351de2f6044aa03c1a954.png)'
- en: Photo by [Matthias SchrÃ¶der](https://unsplash.com/@trancepole?utm_source=medium&utm_medium=referral)
    on [Unsplash](https://unsplash.com/?utm_source=medium&utm_medium=referral)
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: å›¾ç‰‡æ¥æº [Matthias SchrÃ¶der](https://unsplash.com/@trancepole?utm_source=medium&utm_medium=referral)
    äº [Unsplash](https://unsplash.com/?utm_source=medium&utm_medium=referral)
- en: Association rule mining is a rule-based machine learning technique used to find
    frequent patterns in a data set. Frequent patterns may include frequent itemsets
    that are usually bought together or subsequences that are bought in sequence.
    For example, cookies and coffee can be *frequent itemset* for a cafe, and a laptop
    and external monitor can be a *subsequence* for an electronics store. Finding
    frequent patterns in a transactional database and detecting associations between
    items is an extremely popular data science use case. Some application areas are
    item recommendations, cross-selling, promotion design, customer behavior analysis,
    and inventory management.
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: å…³è”è§„åˆ™æŒ–æ˜æ˜¯ä¸€ç§åŸºäºè§„åˆ™çš„æœºå™¨å­¦ä¹ æŠ€æœ¯ï¼Œç”¨äºå‘ç°æ•°æ®é›†ä¸­é¢‘ç¹å‡ºç°çš„æ¨¡å¼ã€‚é¢‘ç¹æ¨¡å¼å¯èƒ½åŒ…æ‹¬é€šå¸¸ä¸€èµ·è´­ä¹°çš„é¢‘ç¹é¡¹é›†æˆ–æŒ‰é¡ºåºè´­ä¹°çš„å­åºåˆ—ã€‚ä¾‹å¦‚ï¼Œå¯¹äºä¸€å®¶å’–å•¡é¦†ï¼Œé¥¼å¹²å’Œå’–å•¡å¯ä»¥æ˜¯*é¢‘ç¹é¡¹é›†*ï¼Œè€Œå¯¹äºä¸€å®¶ç”µå­äº§å“å•†åº—ï¼Œç¬”è®°æœ¬ç”µè„‘å’Œå¤–æ¥æ˜¾ç¤ºå™¨å¯ä»¥æ˜¯*å­åºåˆ—*ã€‚åœ¨äº¤æ˜“æ•°æ®åº“ä¸­å¯»æ‰¾é¢‘ç¹æ¨¡å¼å’Œæ£€æµ‹é¡¹ä¹‹é—´çš„å…³è”æ˜¯ä¸€ä¸ªæå—æ¬¢è¿çš„æ•°æ®ç§‘å­¦ç”¨ä¾‹ã€‚ä¸€äº›åº”ç”¨é¢†åŸŸåŒ…æ‹¬å•†å“æ¨èã€äº¤å‰é”€å”®ã€ä¿ƒé”€è®¾è®¡ã€å®¢æˆ·è¡Œä¸ºåˆ†æå’Œåº“å­˜ç®¡ç†ã€‚
- en: 'In this article, we will cover **market basket analysis** technique for association
    rule mining and will answer questions including but not limited to:'
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬å°†æ¶µç›–**å¸‚åœºç¯®å­åˆ†æ**æŠ€æœ¯çš„å…³è”è§„åˆ™æŒ–æ˜ï¼Œå¹¶å›ç­”åŒ…æ‹¬ä½†ä¸é™äºä»¥ä¸‹é—®é¢˜ï¼š
- en: if a customer buys item A how likely will she also buy item B? Is there a positive
    or negative correlation or it happens totally at random?
  id: totrans-10
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å¦‚æœé¡¾å®¢è´­ä¹°äº†å•†å“ Aï¼Œå¥¹è¿˜æœ‰å¤šå¤§å¯èƒ½è´­ä¹°å•†å“ Bï¼Ÿæ˜¯å¦å­˜åœ¨æ­£ç›¸å…³æˆ–è´Ÿç›¸å…³ï¼Œè¿˜æ˜¯å®Œå…¨éšæœºå‘ç”Ÿï¼Ÿ
- en: which items should be placed next to each other in a store or content page of
    an app?
  id: totrans-11
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å“ªäº›å•†å“åº”è¯¥æ”¾ç½®åœ¨å•†åº—æˆ–åº”ç”¨çš„å†…å®¹é¡µé¢ä¸Šçš„ç›¸é‚»ä½ç½®ï¼Ÿ
- en: which items can be bundled together in a promotional activity or recommended
    after showing interest in a certain item?
  id: totrans-12
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å“ªäº›å•†å“å¯ä»¥åœ¨ä¿ƒé”€æ´»åŠ¨ä¸­æ†ç»‘åœ¨ä¸€èµ·ï¼Œæˆ–åœ¨å¯¹æŸä¸€å•†å“è¡¨ç°å‡ºå…´è¶£åæ¨èï¼Ÿ
- en: While following the article, you can check out the [Jupyter Notebook](https://github.com/Idilismiguzel/Machine-Learning/blob/master/Association_Rule_Mining/market_basket_analysis.ipynb)
    on my GitHub for complete analysis and code.
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨é˜…è¯»æœ¬æ–‡æ—¶ï¼Œä½ å¯ä»¥æŸ¥çœ‹æˆ‘åœ¨ GitHub ä¸Šçš„ [Jupyter Notebook](https://github.com/Idilismiguzel/Machine-Learning/blob/master/Association_Rule_Mining/market_basket_analysis.ipynb)
    ä»¥è·å–å®Œæ•´åˆ†æå’Œä»£ç ã€‚
- en: What is market basket analysis?
  id: totrans-14
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: ä»€ä¹ˆæ˜¯å¸‚åœºç¯®å­åˆ†æï¼Ÿ
- en: A basket is a collection of items that are selected by the user such as items
    in a shopping cart or content consumed on a website. Market basket analysis helps
    us to learn **associations** between items in the inventory and therefore, we
    can leverage historical data to predict user purchase behavior and recommend items
    to the users without knowing extra information about them.
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: è´­ç‰©ç¯®æ˜¯ç”¨æˆ·é€‰æ‹©çš„å•†å“é›†åˆï¼Œä¾‹å¦‚è´­ç‰©è½¦ä¸­çš„å•†å“æˆ–ç½‘ç«™ä¸Šæ¶ˆè´¹çš„å†…å®¹ã€‚å¸‚åœºç¯®åˆ†æå¸®åŠ©æˆ‘ä»¬äº†è§£åº“å­˜ä¸­å•†å“ä¹‹é—´çš„**å…³è”**ï¼Œå› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨å†å²æ•°æ®é¢„æµ‹ç”¨æˆ·è´­ä¹°è¡Œä¸ºï¼Œå¹¶åœ¨ä¸çŸ¥é“é¢å¤–ä¿¡æ¯çš„æƒ…å†µä¸‹å‘ç”¨æˆ·æ¨èå•†å“ã€‚
- en: Data
  id: totrans-16
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: æ•°æ®
- en: In this article, we will use â€œ[The Bread Basket](https://www.kaggle.com/datasets/mittalvasu95/the-bread-basket)â€
    data set that belongs to a bakery located in Edinburgh and includes over 9000
    transactions. You can download it from Kaggle.
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨â€œ[é¢åŒ…ç¯®](https://www.kaggle.com/datasets/mittalvasu95/the-bread-basket)â€æ•°æ®é›†ï¼Œè¯¥æ•°æ®é›†æ¥è‡ªä½äºçˆ±ä¸å ¡çš„ä¸€å®¶é¢åŒ…åº—ï¼ŒåŒ…æ‹¬è¶…è¿‡
    9000 ç¬”äº¤æ˜“ã€‚ä½ å¯ä»¥ä» Kaggle ä¸‹è½½ã€‚
- en: Letâ€™s have a look! â˜•ï¸
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: æ¥çœ‹çœ‹å§ï¼â˜•ï¸
- en: '[PRE0]'
  id: totrans-19
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: '![](../Images/91ade79624ab8a4e9fbca0608beace99.png)'
  id: totrans-20
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/91ade79624ab8a4e9fbca0608beace99.png)'
- en: First 5 rows of the data set
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: æ•°æ®é›†çš„å‰ 5 è¡Œ
- en: As you can see the data set has transaction ids in `Transaction` column and
    every item bought has a separate row even though they belong to the same transaction
    id. Letâ€™s print all the items of Transaction=3.
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: å¦‚ä½ æ‰€è§ï¼Œæ•°æ®é›†åœ¨`Transaction`åˆ—ä¸­æœ‰äº¤æ˜“ IDï¼Œæ¯ä¸ªè´­ä¹°çš„å•†å“å³ä½¿å±äºåŒä¸€ä¸ªäº¤æ˜“ IDï¼Œä¹Ÿæœ‰å•ç‹¬çš„ä¸€è¡Œã€‚è®©æˆ‘ä»¬æ‰“å°å‡ºäº¤æ˜“ ID=3 çš„æ‰€æœ‰å•†å“ã€‚
- en: '[PRE1]'
  id: totrans-23
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: '![](../Images/9845e068c4b575151f28c0bd761b2dc2.png)'
  id: totrans-24
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/9845e068c4b575151f28c0bd761b2dc2.png)'
- en: Transaction ID=3
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: äº¤æ˜“ ID=3
- en: During the analysis, we will not use `date_time`, `period_day`, and `weekday_weekend`
    columns. Additionally, we will need to show items as boolean and each transaction
    id should be represented in one row. After this feature engineering, we transform
    the data set as below.
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨åˆ†æè¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬å°†ä¸ä¼šä½¿ç”¨`date_time`ã€`period_day`å’Œ`weekday_weekend`åˆ—ã€‚æ­¤å¤–ï¼Œæˆ‘ä»¬éœ€è¦å°†å•†å“æ˜¾ç¤ºä¸ºå¸ƒå°”å€¼ï¼Œæ¯ä¸ªäº¤æ˜“
    ID åº”è¯¥åœ¨ä¸€è¡Œä¸­è¡¨ç¤ºã€‚ç»è¿‡æ­¤ç‰¹å¾å·¥ç¨‹åï¼Œæˆ‘ä»¬å°†æ•°æ®é›†è½¬æ¢ä¸ºå¦‚ä¸‹å½¢å¼ã€‚
- en: '[PRE2]'
  id: totrans-27
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: '![](../Images/23fedc78d81a907531c1e21076d67072.png)'
  id: totrans-28
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/23fedc78d81a907531c1e21076d67072.png)'
- en: First 5 rows of the data set after feature engineering
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: æ•°æ®é›†ç»è¿‡ç‰¹å¾å·¥ç¨‹åçš„å‰ 5 è¡Œ
- en: What are association rules?
  id: totrans-30
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: å…³è”è§„åˆ™æ˜¯ä»€ä¹ˆï¼Ÿ
- en: Market basket analysis is based on discovering associations between items by
    using **association rules** which take the form of if-then relationships. To build
    an association rule, we should have at least one **antecedent** and one **consequent**.
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: å¸‚åœºç¯®åˆ†æåŸºäºä½¿ç”¨**å…³è”è§„åˆ™**å‘ç°å•†å“ä¹‹é—´çš„å…³è”ï¼Œè¿™äº›è§„åˆ™é‡‡å– if-then å…³ç³»çš„å½¢å¼ã€‚è¦æ„å»ºä¸€ä¸ªå…³è”è§„åˆ™ï¼Œæˆ‘ä»¬åº”è¯¥è‡³å°‘æœ‰ä¸€ä¸ª**å‰æ**å’Œä¸€ä¸ª**ç»“æœ**ã€‚
- en: 'One antecedent and one consequent: if { ğŸª } then { â˜•ï¸ }'
  id: totrans-32
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ä¸€ä¸ªå‰æå’Œä¸€ä¸ªç»“æœï¼šå¦‚æœ{ğŸª}åˆ™{â˜•ï¸}
- en: 'Multi antecedent: if { ğŸª, ğŸ° } then { â˜•ï¸}'
  id: totrans-33
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å¤šé‡å‰æï¼šå¦‚æœ{ğŸª, ğŸ°}åˆ™{â˜•ï¸}
- en: 'Multi consequent: if { ğŸª } then { â˜•ï¸, ğŸ¥› }'
  id: totrans-34
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å¤šé‡ç»“æœï¼šå¦‚æœ{ğŸª}åˆ™{â˜•ï¸, ğŸ¥›}
- en: The number of total rules grows by the factor of unique items. As you can imagine,
    not all rules can be equally important and we need **metrics** to help us identify
    which rules to eliminate and which to consider.
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: æ€»è§„åˆ™æ•°éšå”¯ä¸€é¡¹çš„æ•°é‡å¢é•¿ã€‚æ­£å¦‚ä½ æ‰€æƒ³ï¼Œå¹¶éæ‰€æœ‰è§„åˆ™éƒ½åŒæ ·é‡è¦ï¼Œæˆ‘ä»¬éœ€è¦**æŒ‡æ ‡**æ¥å¸®åŠ©æˆ‘ä»¬è¯†åˆ«å“ªäº›è§„åˆ™åº”è¯¥è¢«æ·˜æ±°ï¼Œå“ªäº›åº”è¯¥è¢«è€ƒè™‘ã€‚
- en: Support
  id: totrans-36
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: æ”¯æŒåº¦
- en: Support is the main metric to measure how interesting and important a rule is.
    It can be applied to a single item or pair of antecedents and consequents. It
    is calculated by dividing the number of transactions including certain item(s)
    by the number of total transactions. Support value ranges from 0 to 1.
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: æ”¯æŒåº¦æ˜¯è¡¡é‡è§„åˆ™æœ‰è¶£æ€§å’Œé‡è¦æ€§çš„ä¸»è¦æŒ‡æ ‡ã€‚å®ƒå¯ä»¥åº”ç”¨äºå•ä¸ªé¡¹æˆ–å‰æå’Œç»“æœçš„å¯¹ã€‚å®ƒé€šè¿‡å°†åŒ…å«ç‰¹å®šé¡¹çš„äº¤æ˜“æ•°é™¤ä»¥æ€»äº¤æ˜“æ•°æ¥è®¡ç®—ã€‚æ”¯æŒåº¦å€¼èŒƒå›´ä» 0 åˆ° 1ã€‚
- en: '![](../Images/cd0aaeb3206a2245dbe2f4da013227d6.png)'
  id: totrans-38
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/cd0aaeb3206a2245dbe2f4da013227d6.png)'
- en: For example, if we have 10 transactions and 6 of them include coffee and 4 of
    them include both coffee and cookie, then support of {coffee} is 60% and support
    of {coffee, cookie} is 40%. Note that, support is equal to 40% for both if {coffee}
    then {cookie} and if {cookie} then {coffee}. Letâ€™s calculate support on our data
    set.
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: ä¾‹å¦‚ï¼Œå¦‚æœæˆ‘ä»¬æœ‰ 10 ç¬”äº¤æ˜“ï¼Œå…¶ä¸­ 6 ç¬”åŒ…æ‹¬å’–å•¡ï¼Œ4 ç¬”åŒæ—¶åŒ…æ‹¬å’–å•¡å’Œé¥¼å¹²ï¼Œåˆ™{å’–å•¡}çš„æ”¯æŒåº¦ä¸º 60%ï¼Œ{å’–å•¡, é¥¼å¹²}çš„æ”¯æŒåº¦ä¸º 40%ã€‚æ³¨æ„ï¼Œå¦‚æœ{å’–å•¡}åˆ™{é¥¼å¹²}å’Œå¦‚æœ{é¥¼å¹²}åˆ™{å’–å•¡}çš„æ”¯æŒåº¦éƒ½æ˜¯
    40%ã€‚è®©æˆ‘ä»¬è®¡ç®—æ•°æ®é›†ä¸Šçš„æ”¯æŒåº¦ã€‚
- en: '[PRE3]'
  id: totrans-40
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: '![](../Images/fa1000546a5d0a630eb2e6c57e9d77b9.png)'
  id: totrans-41
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/fa1000546a5d0a630eb2e6c57e9d77b9.png)'
- en: Support value of top 10
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: å‰ 10 çš„æ”¯æŒåº¦å€¼
- en: If we want to find the support value of a pair of antecedent and consequent
    we can add them as follows.
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: å¦‚æœæˆ‘ä»¬æƒ³æ‰¾åˆ°ä¸€å¯¹å‰æå’Œç»“æœçš„æ”¯æŒåº¦å€¼ï¼Œå¯ä»¥æŒ‰ç…§ä»¥ä¸‹æ–¹å¼æ·»åŠ å®ƒä»¬ã€‚
- en: '[PRE4]'
  id: totrans-44
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: '![](../Images/f7f7e2def33cd2e46256d0ba9b1fbf69.png)'
  id: totrans-45
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/f7f7e2def33cd2e46256d0ba9b1fbf69.png)'
- en: Support value of top 10 after adding new pairs
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: æ·»åŠ æ–°å¯¹åå‰ 10 çš„æ”¯æŒåº¦å€¼
- en: Confidence
  id: totrans-47
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: ç½®ä¿¡åº¦
- en: Confidence is the probability of purchasing item B given that they purchased
    item A. It is calculated by dividing the support of item A&B by the support of
    item A. Confidence value ranges from 0 to 1.
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: ç½®ä¿¡åº¦æ˜¯è´­ä¹°é¡¹ç›®Bçš„æ¦‚ç‡ï¼Œå‰ææ˜¯ä»–ä»¬å·²ç»è´­ä¹°äº†é¡¹ç›®Aã€‚å®ƒé€šè¿‡å°†é¡¹ç›®A&Bçš„æ”¯æŒåº¦é™¤ä»¥é¡¹ç›®Açš„æ”¯æŒåº¦æ¥è®¡ç®—ã€‚ç½®ä¿¡åº¦å€¼çš„èŒƒå›´æ˜¯0åˆ°1ã€‚
- en: It is important to use support together with confidence since popular items
    can mislead the interpretation of results if we use support metric only.
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: é‡è¦çš„æ˜¯è¦å°†æ”¯æŒåº¦ä¸ç½®ä¿¡åº¦ä¸€èµ·ä½¿ç”¨ï¼Œå› ä¸ºå¦‚æœä»…ä½¿ç”¨æ”¯æŒåº¦æŒ‡æ ‡ï¼Œæµè¡Œçš„é¡¹ç›®å¯èƒ½ä¼šè¯¯å¯¼ç»“æœçš„è§£é‡Šã€‚
- en: '![](../Images/fb803052d2616b5fc768e686b848a57c.png)'
  id: totrans-50
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/fb803052d2616b5fc768e686b848a57c.png)'
- en: '[PRE5]'
  id: totrans-51
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: 0.18 for Coffee â†’ Bread
  id: totrans-52
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 0.18 å¯¹äºå’–å•¡ â†’ é¢åŒ…
- en: 0.11 for Coffee â†’ Cake
  id: totrans-53
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 0.11 å¯¹äºå’–å•¡ â†’ è›‹ç³•
- en: We can interpret these results as 18% confidence means that 18% of the transactions
    that include Coffee also include Bread.
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬å¯ä»¥å°†è¿™äº›ç»“æœè§£é‡Šä¸º18%çš„ç½®ä¿¡åº¦æ„å‘³ç€18%çš„åŒ…å«å’–å•¡çš„äº¤æ˜“ä¹ŸåŒ…å«é¢åŒ…ã€‚
- en: It is important to mention that, confidence metric is not symmetric and Confidence(Aâ†’B)
    is different than Confidence(Bâ†’A).
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: é‡è¦çš„æ˜¯è¦æåˆ°ï¼Œç½®ä¿¡åº¦æŒ‡æ ‡ä¸æ˜¯å¯¹ç§°çš„ï¼ŒConfidence(Aâ†’B) ä¸ Confidence(Bâ†’A) æ˜¯ä¸åŒçš„ã€‚
- en: We summarise support and confidence with the following notation and we will
    see that while pruning association rules, it is important to check if the rules
    satisfy both minimum support and minimum confidence levels.
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬ç”¨ä»¥ä¸‹ç¬¦å·æ€»ç»“æ”¯æŒåº¦å’Œç½®ä¿¡åº¦ï¼Œå¹¶ä¸”åœ¨ä¿®å‰ªå…³è”è§„åˆ™æ—¶ï¼Œæ£€æŸ¥è§„åˆ™æ˜¯å¦åŒæ—¶æ»¡è¶³æœ€å°æ”¯æŒåº¦å’Œæœ€å°ç½®ä¿¡åº¦æ°´å¹³æ˜¯å¾ˆé‡è¦çš„ã€‚
- en: '![](../Images/64f7de3d4c3c345458218fa0152b21af.png)'
  id: totrans-57
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/64f7de3d4c3c345458218fa0152b21af.png)'
- en: Lift
  id: totrans-58
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: æå‡åº¦
- en: Lift metric is used to detect uninteresting association rules to ease rule pruning.
    It assumes the occurrence of item A in a transaction is independent of the occurrence
    of item B if *P*(*A* âˆª *B*) = *P*(*A*)*P*(*B*), otherwise these two items are
    dependent and so **correlated**. It is calculated by dividing the proportion of
    transactions that contain items A and B by the proportion of item A and item B
    that takes place independently. The lift value ranges from 0 to infinity.
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: æå‡åº¦æŒ‡æ ‡ç”¨äºæ£€æµ‹æ— è¶£çš„å…³è”è§„åˆ™ä»¥ä¾¿äºè§„åˆ™ä¿®å‰ªã€‚å®ƒå‡è®¾åœ¨äº¤æ˜“ä¸­ï¼Œé¡¹ç›®Açš„å‡ºç°ä¸é¡¹ç›®Bçš„å‡ºç°æ˜¯ç‹¬ç«‹çš„ï¼Œå¦‚æœ *P*(*A* âˆª *B*) = *P*(*A*)*P*(*B*)ï¼Œå¦åˆ™è¿™ä¸¤ä¸ªé¡¹ç›®æ˜¯ä¾èµ–çš„ï¼Œå› æ­¤**ç›¸å…³**ã€‚å®ƒé€šè¿‡å°†åŒ…å«é¡¹ç›®Aå’ŒBçš„äº¤æ˜“æ¯”ä¾‹é™¤ä»¥é¡¹ç›®Aå’ŒBç‹¬ç«‹å‡ºç°çš„æ¯”ä¾‹æ¥è®¡ç®—ã€‚æå‡åº¦å€¼çš„èŒƒå›´æ˜¯0åˆ°æ— ç©·å¤§ã€‚
- en: '![](../Images/915c7bb4ff7a030961ced891244f4cac.png)'
  id: totrans-60
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/915c7bb4ff7a030961ced891244f4cac.png)'
- en: Lift(A â†’ B) > 1 means that items are **positively** correlated and occurrence
    of one positively affects the occurrence of other
  id: totrans-61
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: Lift(A â†’ B) > 1 æ„å‘³ç€é¡¹ç›®æ˜¯**æ­£ç›¸å…³**çš„ï¼Œä¸€ä¸ªé¡¹ç›®çš„å‡ºç°ä¼šæ­£é¢å½±å“å¦ä¸€ä¸ªé¡¹ç›®çš„å‡ºç°ã€‚
- en: ''
  id: totrans-62
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: Lift(A â†’ B) =1 means that there is no correlation
  id: totrans-63
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: Lift(A â†’ B) =1 æ„å‘³ç€æ²¡æœ‰ç›¸å…³æ€§
- en: ''
  id: totrans-64
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: Lift(A â†’ B) < 1 means that items are **negatively** correlated and occurrence
    of one negatively affects the occurrence of other
  id: totrans-65
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: Lift(A â†’ B) < 1 æ„å‘³ç€é¡¹ç›®æ˜¯**è´Ÿç›¸å…³**çš„ï¼Œä¸€ä¸ªé¡¹ç›®çš„å‡ºç°ä¼šè´Ÿé¢å½±å“å¦ä¸€ä¸ªé¡¹ç›®çš„å‡ºç°ã€‚
- en: '[PRE6]'
  id: totrans-66
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: 0.57 for Coffee â†’ Bread
  id: totrans-67
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 0.57 å¯¹äºå’–å•¡ â†’ é¢åŒ…
- en: 1.10 for Coffee â†’ Cake
  id: totrans-68
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 1.10 å¯¹äºå’–å•¡ â†’ è›‹ç³•
- en: As you can see having Coffee in a transaction decreases the chances of having
    Bread while increasing the chances of having a Cake.
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: æ­£å¦‚ä½ æ‰€è§ï¼Œåœ¨äº¤æ˜“ä¸­æœ‰å’–å•¡ä¼šå‡å°‘æœ‰é¢åŒ…çš„æœºä¼šï¼ŒåŒæ—¶å¢åŠ æœ‰è›‹ç³•çš„æœºä¼šã€‚
- en: Also, note that the lift metric is symmetric, meaning Lift(Aâ†’B) is equal to
    Lift(Bâ†’A).
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: æ­¤å¤–ï¼Œè¯·æ³¨æ„æå‡åº¦æŒ‡æ ‡æ˜¯å¯¹ç§°çš„ï¼Œè¿™æ„å‘³ç€ Lift(Aâ†’B) ç­‰äº Lift(Bâ†’A)ã€‚
- en: Leverage
  id: totrans-71
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: æ æ†åº¦
- en: Leverage is the measure of the difference between having items A&B in a transaction
    together and having item A and item B as they were independent. It is calculated
    by extracting the proportion of item A and item B that takes place independently
    from the proportion of transactions that contain items A and B. Leverage value
    ranges between -1 and 1.
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: æ æ†åº¦æ˜¯è¡¡é‡åœ¨äº¤æ˜“ä¸­åŒæ—¶å‡ºç°é¡¹ç›®Aå’ŒBä¸é¡¹ç›®Aå’ŒBç‹¬ç«‹å‡ºç°ä¹‹é—´å·®å¼‚çš„åº¦é‡ã€‚å®ƒé€šè¿‡ä»åŒ…å«é¡¹ç›®Aå’ŒBçš„äº¤æ˜“æ¯”ä¾‹ä¸­å‡å»é¡¹ç›®Aå’ŒBç‹¬ç«‹å‡ºç°çš„æ¯”ä¾‹æ¥è®¡ç®—ã€‚æ æ†åº¦å€¼çš„èŒƒå›´æ˜¯-1åˆ°1ã€‚
- en: '![](../Images/f13b75a6c4b566db65d8ed26a6a22440.png)'
  id: totrans-73
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/f13b75a6c4b566db65d8ed26a6a22440.png)'
- en: '[PRE7]'
  id: totrans-74
  prefs: []
  type: TYPE_PRE
  zh: '[PRE7]'
- en: -0.06 for Coffee â†’ Bread
  id: totrans-75
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: -0.06 å¯¹äºå’–å•¡ â†’ é¢åŒ…
- en: 0.005 for Coffee â†’ Cake
  id: totrans-76
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 0.005 å¯¹äºå’–å•¡ â†’ è›‹ç³•
- en: Since the leverage value ranges between -1 and 1 we can use it to compare different
    pairs.
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
  zh: ç”±äºæ æ†åº¦å€¼çš„èŒƒå›´æ˜¯-1åˆ°1ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨å®ƒæ¥æ¯”è¾ƒä¸åŒçš„é…å¯¹ã€‚
- en: Conviction
  id: totrans-78
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: ç¡®ä¿¡åº¦
- en: Conviction metric is used to measure how much a consequent depends on an antecedent.
    It is calculated by multiplying the proportion of transactions that contain item
    A with the proportion of transactions that do not contain item B and dividing
    this by the proportion of transactions that contain item A and not item B. Conviction
    value ranges from 0 to infinity.
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
  zh: ç¡®ä¿¡åº¦æŒ‡æ ‡ç”¨äºè¡¡é‡ç»“æœé¡¹ä¾èµ–äºå‰é¡¹çš„ç¨‹åº¦ã€‚å®ƒé€šè¿‡å°†åŒ…å«é¡¹ç›®Açš„äº¤æ˜“æ¯”ä¾‹ä¸ä¸åŒ…å«é¡¹ç›®Bçš„äº¤æ˜“æ¯”ä¾‹ç›¸ä¹˜ï¼Œç„¶åé™¤ä»¥åŒ…å«é¡¹ç›®Aè€Œä¸åŒ…å«é¡¹ç›®Bçš„äº¤æ˜“æ¯”ä¾‹æ¥è®¡ç®—ã€‚ç¡®ä¿¡åº¦å€¼çš„èŒƒå›´æ˜¯0åˆ°æ— ç©·å¤§ã€‚
- en: '![](../Images/6b3e2804fdd6b4b1d8109f74788e0d4b.png)'
  id: totrans-80
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/6b3e2804fdd6b4b1d8109f74788e0d4b.png)'
- en: If the conviction value is high, this means that the consequent is highly dependent
    on the antecedent.
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: å¦‚æœç½®ä¿¡åº¦å€¼å¾ˆé«˜ï¼Œè¿™æ„å‘³ç€ç»“æœæ˜¯é«˜åº¦ä¾èµ–äºå‰æçš„ã€‚
- en: '[PRE8]'
  id: totrans-82
  prefs: []
  type: TYPE_PRE
  zh: '[PRE8]'
- en: As you can see we calculated support for *not* bread as `1-support(Bread)` and
    support for coffee and *not* bread as `support(Coffee) â€” support(Coffee & Bread).`
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
  zh: å¦‚ä½ æ‰€è§ï¼Œæˆ‘ä»¬è®¡ç®—äº†*é*é¢åŒ…çš„æ”¯æŒåº¦ä¸º`1-support(Bread)`ï¼Œä»¥åŠå’–å•¡å’Œ*é*é¢åŒ…çš„æ”¯æŒåº¦ä¸º`support(Coffee) â€” support(Coffee
    & Bread)`ã€‚
- en: 0.82 for Coffee â†’ Bread
  id: totrans-84
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 0.82å¯¹äºå’–å•¡ â†’ é¢åŒ…
- en: 1.01 for Coffee â†’ Cake
  id: totrans-85
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 1.01å¯¹äºå’–å•¡ â†’ è›‹ç³•
- en: Putting all together
  id: totrans-86
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: ç»¼åˆæ‰€æœ‰å†…å®¹
- en: Previously, we learned support, confidence, lift, leverage, and conviction metrics
    and manually calculated them. Letâ€™s now put them all together and make the calculations
    using `[mlxtend](http://rasbt.github.io/mlxtend/)` library instead.
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
  zh: ä¹‹å‰ï¼Œæˆ‘ä»¬å­¦ä¹ äº†æ”¯æŒåº¦ã€ç½®ä¿¡åº¦ã€æå‡åº¦ã€æ æ†æ•ˆåº”å’Œç½®ä¿¡åº¦åº¦é‡ï¼Œå¹¶æ‰‹åŠ¨è®¡ç®—äº†å®ƒä»¬ã€‚ç°åœ¨è®©æˆ‘ä»¬æŠŠå®ƒä»¬ç»“åˆèµ·æ¥ï¼Œæ”¹ç”¨`[mlxtend](http://rasbt.github.io/mlxtend/)`åº“è¿›è¡Œè®¡ç®—ã€‚
- en: We first create frequent itemsets using our transactional data with the`[apriori](https://github.com/rasbt/mlxtend/blob/master/mlxtend/frequent_patterns/apriori.py)`function.
    In the function, we can define a minimum threshold for the support metric which
    is very useful for pruning. I decided to define minimum support as 0.01, but you
    can try different values.
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬é¦–å…ˆä½¿ç”¨`[apriori](https://github.com/rasbt/mlxtend/blob/master/mlxtend/frequent_patterns/apriori.py)`å‡½æ•°ä»æˆ‘ä»¬çš„äº‹åŠ¡æ•°æ®ä¸­åˆ›å»ºé¢‘ç¹é¡¹é›†ã€‚åœ¨è¯¥å‡½æ•°ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥å®šä¹‰ä¸€ä¸ªæ”¯æŒåº¦åº¦é‡çš„æœ€å°é˜ˆå€¼ï¼Œè¿™å¯¹äºå‰ªæéå¸¸æœ‰ç”¨ã€‚æˆ‘å†³å®šå°†æœ€å°æ”¯æŒåº¦å®šä¹‰ä¸º0.01ï¼Œä½†ä½ å¯ä»¥å°è¯•ä¸åŒçš„å€¼ã€‚
- en: '[PRE9]'
  id: totrans-89
  prefs: []
  type: TYPE_PRE
  zh: '[PRE9]'
- en: Letâ€™s have a look at the first 20 items of the `frequent_itemsets.`
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: è®©æˆ‘ä»¬çœ‹çœ‹`frequent_itemsets`çš„å‰20é¡¹ã€‚
- en: '[PRE10]'
  id: totrans-91
  prefs: []
  type: TYPE_PRE
  zh: '[PRE10]'
- en: '![](../Images/07a1cb406f122c0f5ef96535faf67d46.png)'
  id: totrans-92
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/07a1cb406f122c0f5ef96535faf67d46.png)'
- en: First 20 rows of frequent_itemsets generated
  id: totrans-93
  prefs: []
  type: TYPE_NORMAL
  zh: ç”Ÿæˆçš„frequent_itemsetsçš„å‰20è¡Œ
- en: You can see the apriori algorithm automatically calculated support metric for
    both unique items and antecedent-consequent pairs.
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: ä½ å¯ä»¥çœ‹åˆ°aprioriç®—æ³•è‡ªåŠ¨è®¡ç®—äº†å”¯ä¸€é¡¹å’Œå‰æ-ç»“æœå¯¹çš„æ”¯æŒåº¦åº¦é‡ã€‚
- en: Next, we will generate the rules by using `[association_rules](https://github.com/rasbt/mlxtend/blob/master/mlxtend/frequent_patterns/association_rules.py)`
    function. In association_rules, we can select an evaluation metric ( `'support',
    'confidence', 'lift', 'leverage', 'conviction', or 'zhangs_metric'` ) and set
    a minimum threshold value for that. Here, I selected â€˜confidenceâ€™ as evaluation
    metric and set the minimum threshold as 0.5\. Feel free to change the metric based
    on the rule of interest.
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
  zh: æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†é€šè¿‡ä½¿ç”¨`[association_rules](https://github.com/rasbt/mlxtend/blob/master/mlxtend/frequent_patterns/association_rules.py)`å‡½æ•°ç”Ÿæˆè§„åˆ™ã€‚åœ¨association_rulesä¸­ï¼Œæˆ‘ä»¬å¯ä»¥é€‰æ‹©ä¸€ä¸ªè¯„ä¼°æŒ‡æ ‡ï¼ˆ`'support',
    'confidence', 'lift', 'leverage', 'conviction', or 'zhangs_metric'`ï¼‰å¹¶ä¸ºå…¶è®¾ç½®æœ€å°é˜ˆå€¼ã€‚è¿™é‡Œï¼Œæˆ‘é€‰æ‹©äº†â€˜confidenceâ€™ä½œä¸ºè¯„ä¼°æŒ‡æ ‡ï¼Œå¹¶å°†æœ€å°é˜ˆå€¼è®¾ç½®ä¸º0.5ã€‚å¯ä»¥æ ¹æ®æ„Ÿå…´è¶£çš„è§„åˆ™è‡ªç”±æ›´æ”¹æŒ‡æ ‡ã€‚
- en: '[PRE11]'
  id: totrans-96
  prefs: []
  type: TYPE_PRE
  zh: '[PRE11]'
- en: Letâ€™s have a look at `rules` â€” the output pandas dataframe.
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
  zh: è®©æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹`rules`â€”â€”è¾“å‡ºçš„pandasæ•°æ®æ¡†ã€‚
- en: '![](../Images/650685d724c3fabb1d705e66fecebbe3.png)'
  id: totrans-98
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/650685d724c3fabb1d705e66fecebbe3.png)'
- en: Rules generated by association_rules
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: ç”±association_rulesç”Ÿæˆçš„è§„åˆ™
- en: Super! ğŸš€ We now have a very interesting set of rules that have confidence greater
    than 0.5, lift greater than 1 (meaning positive correlation), positive leverage,
    and high conviction. Also, note that our starting point was a total number of
    rules that was exponential in the number of items and we ended up with 10 rules
    which are the most important and interesting.
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
  zh: å¤ªæ£’äº†ï¼ğŸš€ æˆ‘ä»¬ç°åœ¨æœ‰äº†ä¸€ç»„éå¸¸æœ‰è¶£çš„è§„åˆ™ï¼Œè¿™äº›è§„åˆ™çš„ç½®ä¿¡åº¦å¤§äº0.5ï¼Œæå‡åº¦å¤§äº1ï¼ˆæ„å‘³ç€æ­£ç›¸å…³ï¼‰ï¼Œå…·æœ‰æ­£å‘æ æ†æ•ˆåº”ï¼Œå¹¶ä¸”ç½®ä¿¡åº¦é«˜ã€‚è¿˜è¦æ³¨æ„ï¼Œæˆ‘ä»¬çš„èµ·ç‚¹æ˜¯è§„åˆ™æ€»æ•°ä¸é¡¹æ•°æˆæŒ‡æ•°å…³ç³»ï¼Œè€Œæˆ‘ä»¬æœ€ç»ˆå¾—åˆ°äº†10æ¡æœ€é‡è¦å’Œæœ‰è¶£çš„è§„åˆ™ã€‚
- en: We will now look at a plotting technique to help us visualize. You may think
    this is not necessary cause we have only 10 rules, however, if you have many rules
    or need to present, a good visual helps a lot.
  id: totrans-101
  prefs: []
  type: TYPE_NORMAL
  zh: ç°åœ¨æˆ‘ä»¬å°†æŸ¥çœ‹ä¸€ç§ç»˜å›¾æŠ€æœ¯æ¥å¸®åŠ©æˆ‘ä»¬å¯è§†åŒ–ã€‚ä½ å¯èƒ½è®¤ä¸ºè¿™ä¸æ˜¯å¿…éœ€çš„ï¼Œå› ä¸ºæˆ‘ä»¬åªæœ‰10æ¡è§„åˆ™ï¼Œç„¶è€Œï¼Œå¦‚æœä½ æœ‰å¾ˆå¤šè§„åˆ™æˆ–éœ€è¦å±•ç¤ºï¼Œå¥½çš„è§†è§‰æ•ˆæœä¼šå¤§æœ‰å¸®åŠ©ã€‚
- en: I think `plot_model` function from `PyCaret` library is extremely easy to use
    and interpret to visualize association rules. But note that, while I write this
    article pycaret version 3.0 was released however, to use this specific function
    I had to downgrade to pycaret version 2.3.
  id: totrans-102
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘è®¤ä¸º`PyCaret`åº“ä¸­çš„`plot_model`å‡½æ•°éå¸¸æ˜“äºä½¿ç”¨å’Œè§£é‡Šï¼Œä»¥å¯è§†åŒ–å…³è”è§„åˆ™ã€‚ä½†è¯·æ³¨æ„ï¼Œåœ¨æ’°å†™æœ¬æ–‡æ—¶pycaretç‰ˆæœ¬3.0å·²å‘å¸ƒï¼Œä½†ä¸ºäº†ä½¿ç”¨è¿™ä¸ªç‰¹å®šçš„å‡½æ•°ï¼Œæˆ‘ä¸å¾—ä¸é™çº§åˆ°pycaretç‰ˆæœ¬2.3ã€‚
- en: '[PRE12]'
  id: totrans-103
  prefs: []
  type: TYPE_PRE
  zh: '[PRE12]'
- en: '![](../Images/9724992165b5215b64d156d5cb14b983.png)'
  id: totrans-104
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/9724992165b5215b64d156d5cb14b983.png)'
- en: Visualizing association rules
  id: totrans-105
  prefs: []
  type: TYPE_NORMAL
  zh: å¯è§†åŒ–å…³è”è§„åˆ™
- en: As you can see we have confidence plotted on the left, lift plotted on the right
    with a colormap, and support plotted on the x-axis. From the plot, it is clear
    that Toast has the highest lift and confidence which makes it a great antecedent
    for Coffee. If you hover over Toast, it shows all metric calculations.
  id: totrans-106
  prefs: []
  type: TYPE_NORMAL
  zh: å¦‚ä½ æ‰€è§ï¼Œæˆ‘ä»¬åœ¨å·¦ä¾§ç»˜åˆ¶äº†ç½®ä¿¡åº¦ï¼Œåœ¨å³ä¾§ä½¿ç”¨è‰²å½©å›¾ç»˜åˆ¶äº†æå‡åº¦ï¼Œå¹¶åœ¨ x è½´ä¸Šç»˜åˆ¶äº†æ”¯æŒåº¦ã€‚ä»å›¾è¡¨ä¸­å¯ä»¥æ˜æ˜¾çœ‹å‡ºï¼ŒToast å…·æœ‰æœ€é«˜çš„æå‡åº¦å’Œç½®ä¿¡åº¦ï¼Œè¿™ä½¿å…¶æˆä¸º
    Coffee çš„ä¸€ä¸ªå¾ˆå¥½çš„å‰æã€‚å¦‚æœä½ å°†é¼ æ ‡æ‚¬åœåœ¨ Toast ä¸Šï¼Œå®ƒä¼šæ˜¾ç¤ºæ‰€æœ‰æŒ‡æ ‡è®¡ç®—å€¼ã€‚
- en: '![](../Images/1218985a5af71114b1cc9a0dec71ec21.png)'
  id: totrans-107
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/1218985a5af71114b1cc9a0dec71ec21.png)'
- en: Visualizing association rules for Coffee
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
  zh: Coffee çš„å…³è”è§„åˆ™å¯è§†åŒ–
- en: You can easily rank the rules by looking at the plot for further assessment.
    But in general, all these antecedents can get Coffee as a recommendation.
  id: totrans-109
  prefs: []
  type: TYPE_NORMAL
  zh: ä½ å¯ä»¥é€šè¿‡æŸ¥çœ‹å›¾è¡¨æ¥è½»æ¾åœ°å¯¹è§„åˆ™è¿›è¡Œæ’åï¼Œä»¥ä¾¿è¿›ä¸€æ­¥è¯„ä¼°ã€‚ä½†ä¸€èˆ¬æ¥è¯´ï¼Œæ‰€æœ‰è¿™äº›å‰æéƒ½å¯ä»¥å¾—åˆ° Coffee ä½œä¸ºæ¨èã€‚
- en: Feel free to re-set the minimum threshold or change the evaluation metric while
    filtering the rules to allow different consequents and larger item sets.
  id: totrans-110
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨ç­›é€‰è§„åˆ™æ—¶ï¼Œå¯ä»¥éšæ„é‡æ–°è®¾ç½®æœ€å°é˜ˆå€¼æˆ–æ›´æ”¹è¯„ä¼°æŒ‡æ ‡ï¼Œä»¥å…è®¸ä¸åŒçš„ç»“æœå’Œæ›´å¤§çš„é¡¹é›†ã€‚
- en: Conclusion
  id: totrans-111
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: ç»“è®º
- en: In this article, we covered association rule mining and learned how we can apply
    it to a data set using market basket analysis technique. We learned support, confidence,
    lift, leverage, and conviction metrics and calculated them both manually and using
    mlxtend library. We also saw how to set minimum thresholds for those metrics to
    filter out uninteresting rules. In the end, we ended up with 10 interesting rules
    and visualized them using pycaret library.
  id: totrans-112
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬ä»‹ç»äº†å…³è”è§„åˆ™æŒ–æ˜ï¼Œå¹¶å­¦ä¹ äº†å¦‚ä½•ä½¿ç”¨å¸‚åœºç¯®å­åˆ†ææŠ€æœ¯å°†å…¶åº”ç”¨äºæ•°æ®é›†ã€‚æˆ‘ä»¬å­¦ä¹ äº†æ”¯æŒåº¦ã€ç½®ä¿¡åº¦ã€æå‡åº¦ã€æ æ†åº¦å’Œå®šç½ªåº¦æŒ‡æ ‡ï¼Œå¹¶ä¸”é€šè¿‡æ‰‹åŠ¨å’Œä½¿ç”¨
    mlxtend åº“è®¡ç®—äº†è¿™äº›æŒ‡æ ‡ã€‚æˆ‘ä»¬è¿˜çœ‹åˆ°äº†å¦‚ä½•è®¾ç½®è¿™äº›æŒ‡æ ‡çš„æœ€å°é˜ˆå€¼ä»¥ç­›é€‰å‡ºä¸æ„Ÿå…´è¶£çš„è§„åˆ™ã€‚æœ€åï¼Œæˆ‘ä»¬å¾—åˆ°äº† 10 æ¡æœ‰è¶£çš„è§„åˆ™ï¼Œå¹¶ä½¿ç”¨ pycaret
    åº“å¯¹å®ƒä»¬è¿›è¡Œäº†å¯è§†åŒ–ã€‚
- en: I hope you enjoyed reading about association rules and find the article useful!
    âœ¨
  id: totrans-113
  prefs: []
  type: TYPE_NORMAL
  zh: å¸Œæœ›ä½ å–œæ¬¢é˜…è¯»å…³äºå…³è”è§„åˆ™çš„å†…å®¹ï¼Œå¹¶å‘ç°è¿™ç¯‡æ–‡ç« æœ‰ç”¨ï¼âœ¨
- en: '**Enjoy this article?** [**Become a member for more!**](https://idilismiguzel.medium.com/membership)'
  id: totrans-114
  prefs: []
  type: TYPE_NORMAL
  zh: '**å–œæ¬¢è¿™ç¯‡æ–‡ç« å—ï¼Ÿ** [**æˆä¸ºä¼šå‘˜è·å–æ›´å¤šå†…å®¹ï¼**](https://idilismiguzel.medium.com/membership)'
- en: '*You can*[***read my other articles here***](https://medium.com/@idilismiguzel)*and*
    [***follow me on Medium.***](https://medium.com/@idilismiguzel/follow)Let me know
    if you have any questions or suggestions.âœ¨'
  id: totrans-115
  prefs: []
  type: TYPE_NORMAL
  zh: '*ä½ å¯ä»¥*[***åœ¨è¿™é‡Œé˜…è¯»æˆ‘çš„å…¶ä»–æ–‡ç« ***](https://medium.com/@idilismiguzel)*å¹¶* [***åœ¨ Medium
    ä¸Šå…³æ³¨æˆ‘ã€‚***](https://medium.com/@idilismiguzel/follow)å¦‚æœ‰ä»»ä½•é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·å‘Šè¯‰æˆ‘ã€‚âœ¨'
- en: References
  id: totrans-116
  prefs: []
  type: TYPE_NORMAL
  zh: å‚è€ƒæ–‡çŒ®
- en: 'The Bread Basket dataset from [Kaggle](https://www.kaggle.com/datasets/mittalvasu95/the-bread-basket),
    License [CC0: Public Domain](https://creativecommons.org/publicdomain/zero/1.0/)'
  id: totrans-117
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 'æ¥è‡ª [Kaggle](https://www.kaggle.com/datasets/mittalvasu95/the-bread-basket)
    çš„ Bread Basket æ•°æ®é›†ï¼Œè®¸å¯è¯ [CC0: å…¬å…±é¢†åŸŸ](https://creativecommons.org/publicdomain/zero/1.0/)'
- en: Header photo by [Matthias SchrÃ¶der](https://unsplash.com/@trancepole?utm_source=medium&utm_medium=referral)
    on [Unsplash](https://unsplash.com/?utm_source=medium&utm_medium=referral)
  id: totrans-118
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: å¤´å›¾ç”± [Matthias SchrÃ¶der](https://unsplash.com/@trancepole?utm_source=medium&utm_medium=referral)
    åœ¨ [Unsplash](https://unsplash.com/?utm_source=medium&utm_medium=referral) ä¸Šæ‹æ‘„
- en: All other images are by the Author
  id: totrans-119
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: æ‰€æœ‰å…¶ä»–å›¾ç‰‡å‡ç”±ä½œè€…æä¾›
- en: '[Mlxtend source code](https://github.com/rasbt/mlxtend/tree/master/mlxtend/frequent_patterns)'
  id: totrans-120
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[Mlxtend æºä»£ç ](https://github.com/rasbt/mlxtend/tree/master/mlxtend/frequent_patterns)'
- en: '[PyCaret source code](https://pycaret.gitbook.io/docs/get-started/installation)'
  id: totrans-121
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[PyCaret æºä»£ç ](https://pycaret.gitbook.io/docs/get-started/installation)'
