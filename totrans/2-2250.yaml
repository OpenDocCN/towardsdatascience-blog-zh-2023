- en: Use Frequency More Frequently
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 更频繁地使用频率分析
- en: 原文：[https://towardsdatascience.com/use-frequency-more-frequently-14715714de38](https://towardsdatascience.com/use-frequency-more-frequently-14715714de38)
  id: totrans-1
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 原文：[https://towardsdatascience.com/use-frequency-more-frequently-14715714de38](https://towardsdatascience.com/use-frequency-more-frequently-14715714de38)
- en: 'A handbook from simple to advanced frequency analysis: exploring a vital tool
    which is widely underutilized in data science'
  id: totrans-2
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 一本从基础到高级的频率分析手册：探索一个在数据科学中广泛被低估的重要工具
- en: '[](https://medium.com/@danielwarfield1?source=post_page-----14715714de38--------------------------------)[![Daniel
    Warfield](../Images/c1c8b4dd514f6813e08e401401324bca.png)](https://medium.com/@danielwarfield1?source=post_page-----14715714de38--------------------------------)[](https://towardsdatascience.com/?source=post_page-----14715714de38--------------------------------)[![Towards
    Data Science](../Images/a6ff2676ffcc0c7aad8aaf1d79379785.png)](https://towardsdatascience.com/?source=post_page-----14715714de38--------------------------------)
    [Daniel Warfield](https://medium.com/@danielwarfield1?source=post_page-----14715714de38--------------------------------)'
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: '[](https://medium.com/@danielwarfield1?source=post_page-----14715714de38--------------------------------)[![Daniel
    Warfield](../Images/c1c8b4dd514f6813e08e401401324bca.png)](https://medium.com/@danielwarfield1?source=post_page-----14715714de38--------------------------------)[](https://towardsdatascience.com/?source=post_page-----14715714de38--------------------------------)[![Towards
    Data Science](../Images/a6ff2676ffcc0c7aad8aaf1d79379785.png)](https://towardsdatascience.com/?source=post_page-----14715714de38--------------------------------)
    [Daniel Warfield](https://medium.com/@danielwarfield1?source=post_page-----14715714de38--------------------------------)'
- en: ·Published in [Towards Data Science](https://towardsdatascience.com/?source=post_page-----14715714de38--------------------------------)
    ·20 min read·May 18, 2023
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: ·发布于 [Towards Data Science](https://towardsdatascience.com/?source=post_page-----14715714de38--------------------------------)
    ·阅读时间20分钟·2023年5月18日
- en: --
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: --
- en: Frequency analysis is extremely useful in a vast number of domains. From audio,
    to mechanical systems, to natural language processing and unsupervised learning.
    For many scientists and engineers it’s a vital tool, but for many data scientists
    and developers it’s hardly understood, if at all. If you don’t know about frequency
    analysis, don’t fret, you just found your handbook.
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: 频率分析在众多领域中极其有用。从音频到机械系统，再到自然语言处理和无监督学习。对许多科学家和工程师来说，它是一个重要的工具，但对许多数据科学家和开发者来说，它几乎不为人知。如果你不了解频率分析，不用担心，你刚刚找到了一本手册。
- en: '![](../Images/5ed73a6c744b310272e6a50573d693d9.png)'
  id: totrans-7
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/5ed73a6c744b310272e6a50573d693d9.png)'
- en: Image by Daniel Warfield using p5.js. All images in this document are either
    created with p5.js or Python’s Matplotlib library unless otherwise specified.
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: 图片由 Daniel Warfield 使用 p5.js 制作。本文档中的所有图片均使用 p5.js 或 Python 的 Matplotlib 库创建，除非另有说明。
- en: '**Who is this useful for?** Anyone who works with virtually any signal, sensor,
    image, or AI/ML model.'
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: '**这对谁有用？** 任何处理几乎所有信号、传感器、图像或AI/ML模型的人。'
- en: '**How advanced is this post?** This post is accessible to beginners and contains
    examples that will interest even the most advanced users of frequency analysis.
    You will likely get something out of this article regardless of your skill level.'
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: '**这篇文章有多高级？** 这篇文章适合初学者，包含的示例也会引起即使是最高级的频率分析用户的兴趣。无论你的技能水平如何，你都能从这篇文章中获得一些有用的东西。'
- en: '**What will you get from this post?** Both a conceptual and mathematical understanding
    of waves and frequencies, a practical understanding of how to employ those concepts
    in Python, some common use cases, and some more advanced use cases.'
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: '**你将从这篇文章中获得什么？** 对波动和频率的概念性和数学性理解，对如何在Python中应用这些概念的实际理解，一些常见的使用案例以及一些更高级的使用案例。'
- en: '**Note:** To help you skim through, I’ve labeled subsections as **Basic**,
    **Intermediate**, and **Advanced**. This is a long article designed to get someone
    from zero to hero. However, if you already have education or experience in the
    frequency domain, you can probably skim the intermediate sections or jump right
    to the advanced topics.'
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: '**注意：** 为了帮助你快速浏览，我将子章节标记为**基础**、**中级**和**高级**。这是一篇长文，旨在让从零开始的读者掌握相关知识。然而，如果你已经在频率领域有了教育或经验，你可以跳过中级部分，直接阅读高级主题。'
- en: I’ve also set up **links** so you can click to navigate to and from the table
    of contents
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: 我还设置了**链接**，方便你点击导航到目录以及从目录返回
- en: Table Of Contents
  id: totrans-14
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 目录
- en: Click the links to navigate to specific sections
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: 点击链接以导航到特定部分
- en: '**1) The Frequency Domain**'
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: '**1) 频率领域**'
- en: 1.1) [The Basics of the Frequency Domain (Basic)](#a905)
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: 1.1) [频率领域的基础（基础）](#a905)
- en: 1.2) [The Specifics of the Frequency Domain (Intermediate)](#ca52)
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: 1.2) [频率领域的细节（中级）](#ca52)
- en: 1.3) [A Simple Example in Python (Intermediate)](#1c83)
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: 1.3) [Python中的简单示例（中级）](#1c83)
- en: '**2) Common Uses of the Frequency Domain** 2.1) [De-trending and Signal Processing
    (Intermediate)](#5099)'
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: '**2) 频域的常见应用** 2.1) [去趋势和信号处理（中级）](#5099)'
- en: 2.2) [Vibration Analysis (Advanced)](#6742)
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: 2.2) [振动分析（高级）](#6742)
- en: '**3) Advanced Uses of the Frequency Domain**'
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: '**3) 频域的高级应用**'
- en: 3.1) [Data Augmentation (Advanced)](#cbd0)
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: 3.1) [数据增强（高级）](#cbd0)
- en: 3.2) [Embedding and Clustering (Advanced)](#2036)
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 3.2) [嵌入和聚类（高级）](#2036)
- en: 3.3) [Compression (Intermediate)](#cbd8)
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: 3.3) [压缩（中级）](#cbd8)
- en: '**4)** [**Conceptual Takeaways for Data Scientists**](#b5c9) **5)** [**Summary**](#79f8)'
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: '**4)** [**数据科学家的概念要点**](#b5c9) **5)** [**总结**](#79f8)'
- en: '**1) The Frequency Domain**'
  id: totrans-27
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '**1) 频域**'
- en: '**1.1) The Basics of the Frequency Domain (Basic)**'
  id: totrans-28
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: '**1.1) 频域基础（基础）**'
- en: ([Back To Table of Contents](#ff9b))
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: ([返回目录](#ff9b))
- en: 'First, what is a *domain*? Imagine you want to understand temperature changes
    over time. Just reading that sentence, you probably imagined a graph like this:'
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: 首先，什么是 *领域*？假设你想理解温度随时间的变化。仅仅阅读这句话，你可能会想象出这样的图表：
- en: '![](../Images/7802984b94909fa9bbae2cac7f211243.png)'
  id: totrans-31
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/7802984b94909fa9bbae2cac7f211243.png)'
- en: What you might be imagining when you think of temperature over some period of
    time
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: 当你考虑某一时间段内的温度时，你可能会想象的场景
- en: Maybe you imagine time progressing from left to right, and greater temperatures
    corresponding to higher vertical points. Congratulations, you’ve taken data and
    mapped it to a 2d time *domain*. In other words, you’ve taken temperature readings,
    recorded at certain times, and mapped that information to a space where time is
    one axis, and the value is another.
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: 也许你想象时间从左到右进展，更高的温度对应更高的垂直点。恭喜你，你已经将数据映射到了一个二维时间 *领域* 中。换句话说，你把在某些时间记录的温度读数映射到一个时间为一轴、值为另一轴的空间中。
- en: 'There are other ways to represent our temperature vs time data. As you can
    see, there’s a “periodic” nature to this data, meaning it oscillates back and
    forth. A lot of data behaves this way: sound, ECG data from heartbeats, movement
    sensors like accelerometers, and even images. In one way or another, a lot of
    things have data that goes to and fro periodically.'
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: 我们还有其他方式来表示温度与时间的数据。如你所见，这些数据具有“周期性”特征，意味着它来回振荡。许多数据以这种方式表现：声音、心跳的 ECG 数据、加速度计等运动传感器，甚至图像。在某种程度上，很多事物的数据都是周期性来回变化的。
- en: “If you want to find the secrets of the universe, think in terms of energy,
    frequency and vibration.” ― Nikola Tesla
  id: totrans-35
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: “如果你想发现宇宙的秘密，就要从能量、频率和振动的角度思考。” ― 尼古拉·特斯拉
- en: I could get to this point in a circuitous way, but a picture speaks 1000 words.
    In essence, we can disassemble our temperature graph into a bunch of simple waves,
    with various frequencies and amplitudes (frequency being the speed it goes back
    in forth, and amplitude being how high and low it goes), and use that to describe
    the data.
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: 我可以通过曲折的方式到达这一点，但一图胜千言。本质上，我们可以将温度图表拆解成一系列简单的波，这些波具有不同的频率和振幅（频率指波动的快慢，振幅指波动的高低），然后用这些波来描述数据。
- en: '![](../Images/627c17dea2b4213d3157ce727d6ed8dc.png)'
  id: totrans-37
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/627c17dea2b4213d3157ce727d6ed8dc.png)'
- en: All the waves, of various frequencies and amplitudes, which goes into making
    our original wave. You might notice that there’s one wave which is more subtle
    than the other two and is practically impossible to see in the original. Finding
    this hidden information is one benefit of frequency analysis.
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: 所有不同频率和振幅的波组成了我们原始的波。你可能会注意到，有一条波比另外两条更为微妙，几乎在原始波中看不出来。找到这些隐藏的信息是频域分析的一大好处。
- en: These waves are extracted using a Fourier Transform, which maps our original
    wave from the time domain to the frequency domain. Instead of value vs time, the
    frequency domain is amplitude vs frequency.
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: 这些波是通过傅里叶变换提取的，傅里叶变换将我们的原始波从时间域映射到频域。频域中不是值对时间，而是振幅对频率。
- en: '![](../Images/0e277cebb3f4cb61b2b9fb248007309f.png)'
  id: totrans-40
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/0e277cebb3f4cb61b2b9fb248007309f.png)'
- en: Each of the extracted waves has a frequency and amplitude. If we plot frequency
    on the x axis, and amplitude on the y axis, we have plotted what is called a spectrogram
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: 每个提取的波都有一个频率和振幅。如果我们将频率绘制在 x 轴上，将振幅绘制在 y 轴上，我们就绘制了所谓的频谱图
- en: So, to summarize, the Fourier Transform maps data (usually, but not always in
    the time domain) into the frequency domain. The frequency domain describes all
    of the waves, with different frequencies and amplitudes, which when added together
    reconstruct the original wave.
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: 总结来说，傅里叶变换将数据（通常，但不总是在时间域中）映射到频域中。频域描述了所有的波形，具有不同的频率和振幅，这些波形加在一起可以重建原始波形。
- en: '![](../Images/68595f1999672457599d64a5d4288133.png)'
  id: totrans-43
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/68595f1999672457599d64a5d4288133.png)'
- en: The original wave, in the time domain, and the frequency content in the frequency
    domain. These both describe the same signal
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: 原始波形在时间域中的表现，以及在频域中的频率内容。这两者描述的是相同的信号
- en: 1.2) The Specifics of the Frequency Domain (Intermediate)
  id: totrans-45
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 1.2) 频域的细节（中级）
- en: ([Back To Table of Contents](#ff9b))
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: ([返回目录](#ff9b))
- en: The *sin* function is the ratio of the opposite side of a triangle vs the hypotenuse
    of that right triangle, for some angle.
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: '*sin* 函数是三角形的对边与直角三角形的斜边的比值，针对某个角度。'
- en: '![](../Images/43b4d1dc1f3aa8790833185f7bfd85a9.png)'
  id: totrans-48
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/43b4d1dc1f3aa8790833185f7bfd85a9.png)'
- en: θ(theta) is an angle of a right triangle, a is the length of the opposite side
    of θ, and c is the length of the hypotenuse
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: θ(theta) 是一个直角三角形的角度，a 是 θ 对边的长度，c 是斜边的长度
- en: The *sin* wave is what you get when you plot *a/c* for different values of *θ*
    (Different Angles)*,* andis used in virtually all scientific disciplines as the
    most fundamental wave.
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: '*sin* 波是当你绘制 *a/c* 对于不同的 *θ*（不同的角度）时得到的结果，并且它在几乎所有的科学学科中作为最基本的波形使用。'
- en: '![](../Images/b4870f5af414757c21e4ee110cb7eced.png)'
  id: totrans-51
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/b4870f5af414757c21e4ee110cb7eced.png)'
- en: The relationship between the sin function, right triangles, and the sin wave
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: 正弦函数、直角三角形和正弦波之间的关系
- en: Often *sin(θ)* is expanded to *A*sin(ωθ*+*ϕ).*
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: 通常 *sin(θ)* 被展开为 *A*sin(ωθ*+*ϕ)*。
- en: '***ω***(omega) represents frequency (larger values of *ω* mean the sin wave
    oscillates more quickly)'
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: '***ω***(omega) 代表频率（*ω* 的值越大，正弦波的振荡速度越快）'
- en: '***ϕ***(phi) represents phase (changing *ϕ* shifts the wave to the right or
    left)'
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: '***ϕ***(phi) 代表相位（改变 *ϕ* 会将波形向右或向左移动）'
- en: '***A*** scales the function, which defines the amplitude (how large the oscillations
    are).'
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: '***A*** 影响函数的缩放，定义了振幅（振荡的大小）。'
- en: '![](../Images/eab1a90ed8e7234166ec31b9bfb20bbe.png)'
  id: totrans-57
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/eab1a90ed8e7234166ec31b9bfb20bbe.png)'
- en: “A” controls the amplitude (height), “omega” controls the frequency (speed of
    oscillation), and “phi” controls the phase (shift from side to side)
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: “A” 控制振幅（高度）， “omega” 控制频率（振荡速度）， “phi” 控制相位（左右移动）
- en: 'When I explained the frequency domain I presented a simplified representation,
    where the horizontal axis is frequency, and the vertical axis is amplitude. In
    actuality the frequency domain is not 2 dimensional, but 3: one dimension for
    frequency, one for amplitude, and one for phase. A spectrogram can be of even
    higher dimension for higher dimensional signals (like images).'
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: 当我解释频域时，我展示了一个简化的表示，其中水平轴是频率，垂直轴是振幅。实际上，频域不是二维的，而是三维的：一个维度表示频率，一个维度表示振幅，另一个维度表示相位。对于更高维度的信号（如图像），谱图可以具有更高的维度。
- en: '![](../Images/c5a63781adc46b90da61e9a09a872676.png)'
  id: totrans-60
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/c5a63781adc46b90da61e9a09a872676.png)'
- en: A Traditional Amplitude vs frequency spectrogram (left) vs a more descriptive
    amplitude, frequency, and phase plot.
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: 传统的振幅与频率谱图（左）与更具描述性的振幅、频率和相位图。
- en: When converting a signal to the frequency domain (using a library like scipy,
    for instance) you’ll get a list of imaginary numbers.
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: 当将信号转换到频域（例如使用像 scipy 这样的库）时，你会得到一个虚数列表。
- en: '[PRE0]'
  id: totrans-63
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: If you’re not familiar with imaginary numbers, don’t worry about it. You can
    imagine these lists as points, where the index of the list corresponds to frequency,
    and the complex imaginary number represents a tuple corresponding to amplitude
    and phase respectively.
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你不熟悉虚数，不用担心。你可以将这些列表想象成点，其中列表的索引对应于频率，而复数虚数分别代表振幅和相位的元组。
- en: '[PRE1]'
  id: totrans-65
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: I haven’t talked about the units of these numbers. Because units are, essentially,
    linear transformations to all data, they can often be disregarded from a data
    science perspective. However, if you do use the frequency domain in the future,
    you will likely encounter words like Hertz (Hz), Period (T), and other frequency
    domain-specific concepts. You will see these units explored in the examples.
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
- en: If you want to learn more about units in general, and how to deal with them
    as a data scientist, I have an article all about it [here](https://medium.com/@danielwarfield1/how-to-deal-with-units-as-a-data-scientist-7d59fc0c6506)
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
- en: 1.3) A Simple Example in Python (Intermediate)
  id: totrans-68
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: ([Back To Table of Contents](#ff9b))
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
- en: In this example, we load a snippet of trumpet music, convert it to the frequency
    domain, plot the frequency spectrogram, and use the spectrogram to understand
    the original signal.
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
- en: First, we’ll load and plot the sound data, which is an amplitude over time.
    This data is used to control the location of the diaphragm within a speaker, the
    oscillation of which generates sound.
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE2]'
  id: totrans-72
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: '![](../Images/843d274f389d75215e1c5cc403ac1a18.png)'
  id: totrans-73
  prefs: []
  type: TYPE_IMG
- en: The left and right sound waves from a snippet of stereo trumpet music, in the
    time domain. The X axis corresponds to time, in seconds, and the y axis corresponds
    to the amplitude of the signal, which controls the location of a speaker diaphragm,
    generating sound. (Raw trumpet data from storyblocks.com)
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
- en: Lets convert these waveforms to the frequency domain
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE3]'
  id: totrans-76
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: '![](../Images/f515725187bbde46bf095bf33aedddb3.png)'
  id: totrans-77
  prefs: []
  type: TYPE_IMG
- en: The frequency domain representation of the previously loaded trumpet audio.
    The X axis is the frequency (in Hz, which is oscillations/second), and the y axis
    is the amplitude of the signal.
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
- en: Just by visualizing this graph, a few insights can be made.
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
- en: Both signals contain very similar frequency content, which makes sense because
    they’re both from the same recording. Often stereo recordings are recorded with
    two separate microphones simultaneously.
  id: totrans-80
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: The dominant frequency is around 523Hz, which corresponds to a C5 note.
  id: totrans-81
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: There is a lot of sympathetic resonance, which can be seen as spikes at frequencies
    that are at integer multiples of the base frequency. This trait is critical in
    making an instrument sound good and is the result of various pieces of the instrument
    resonating at different frequencies which is induced by the primary vibration.
  id: totrans-82
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: This is a very clear sound, the spikes are not muddled by a lot of unrelated
    frequency content
  id: totrans-83
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: This is an organic sound. There is some frequency content which is not related
    to the base frequency. This can be thought of as the timbre of the instrument
    and makes it sound like a trumpet, rather than some other instrument performing
    the same note.
  id: totrans-84
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: In section 2 we’ll explore how the frequency domain is used commonly in time
    series signal processing. In section 3 we’ll explore more advanced topics.
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
- en: 2) Common Uses of the Frequency Domain
  id: totrans-86
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 2.1) De-trending and Signal Processing (Intermediate)
  id: totrans-87
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: ([Back To Table of Contents](#ff9b))
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: ([返回目录](#ff9b))
- en: Let’s say you have an electrical system, and you want to understand the minute-by-minute
    voltage changes in that system over the course of a day. You set up a voltage
    meter, capture, and plot the voltage information over time.
  id: totrans-89
  prefs: []
  type: TYPE_NORMAL
  zh: 假设你有一个电气系统，并且你想了解在一天时间内该系统的逐分钟电压变化。你设置一个电压计，捕捉并绘制电压随时间的变化信息。
- en: Let's say, for the purposes of this example, we only cared about the graph for
    the minute-by-minute data, and we consider waves which are too high of a frequency
    to be noise, and waves which are too low in frequency to be a trend that we want
    to ignore.
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: 假设在这个例子中，我们只关心逐分钟数据的图表，并且我们将频率过高的波视为噪声，将频率过低的波视为我们想忽略的趋势。
- en: '![](../Images/147dffca4bcc40ccf60b0cb50707fddb.png)'
  id: totrans-91
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/147dffca4bcc40ccf60b0cb50707fddb.png)'
- en: We don’t care about the long term trends which take place over the course of
    hours. We’re interested in minute-by-minute data (raw data synthetically generated
    by the author)
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: 我们不关心几个小时内发生的长期趋势。我们感兴趣的是逐分钟数据（由作者合成生成的原始数据）
- en: '![](../Images/97e113091cf3ed32bffa9899070d4f65.png)'
  id: totrans-93
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/97e113091cf3ed32bffa9899070d4f65.png)'
- en: We care about the trends going on in around this time frame
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: 我们关心的是这个时间范围内的趋势
- en: '![](../Images/14589bb4c33436af53d3ac982053bbee.png)'
  id: totrans-95
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/14589bb4c33436af53d3ac982053bbee.png)'
- en: We don’t care about waves which oscillate too quickly, these are considered
    as noise in the signal
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
  zh: 我们不关心振荡过快的波，这些被视为信号中的噪声
- en: So, for this example, we only care about observing content which oscillates
    slower than once per second, and faster than once every 5 minutes. We can convert
    our data to the frequency domain, remove all but the frequencies we’re interested
    in observing, then convert back to the time domain. so we can visualize the wave
    including only the trends we’re interested in.
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
  zh: 所以，在这个例子中，我们只关心观察振荡频率低于每秒一次，并且高于每5分钟一次的内容。我们可以将数据转换到频域，去除所有不感兴趣的频率，然后转换回时间域，以便仅包括我们感兴趣的趋势来可视化波形。
- en: 'First, let’s observe the frequency domain unaltered:'
  id: totrans-98
  prefs: []
  type: TYPE_NORMAL
  zh: 首先，让我们观察未更改的频域：
- en: '[PRE4]'
  id: totrans-99
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: '![](../Images/a904859a34345a84a5ecf09ce8cf2f20.png)'
  id: totrans-100
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/a904859a34345a84a5ecf09ce8cf2f20.png)'
- en: This is the complete , unfiltered spectrogram for the electrical system we are
    analyzing
  id: totrans-101
  prefs: []
  type: TYPE_NORMAL
  zh: 这是我们正在分析的电气系统的完整未过滤频谱图
- en: We can set all the frequency content we are not interested into zero. Often
    you use a special filter, like a butter-worth filter, to do this, but we’ll keep
    it simple.
  id: totrans-102
  prefs: []
  type: TYPE_NORMAL
  zh: 我们可以将所有我们不感兴趣的频率内容设置为零。通常你会使用像巴特沃斯滤波器这样的特殊滤波器来完成这个任务，但我们会保持简单。
- en: '[PRE5]'
  id: totrans-103
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: '![](../Images/3a684dcf898674dc50c9ba167e87dbbd.png)'
  id: totrans-104
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/3a684dcf898674dc50c9ba167e87dbbd.png)'
- en: The plot of the frequency domain we’re isolating, with all other frequency information
    set to zero
  id: totrans-105
  prefs: []
  type: TYPE_NORMAL
  zh: 我们所隔离的频域图，其它频率信息都设置为零
- en: Now we can perform an inverse Fast Fourier Transform to reconstruct the wave,
    including only the data we care about
  id: totrans-106
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们可以进行逆快速傅里叶变换，以重构我们关心的数据波形
- en: '[PRE6]'
  id: totrans-107
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: '![](../Images/eef112a660edce837ad014dc8d104834.png)'
  id: totrans-108
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/eef112a660edce837ad014dc8d104834.png)'
- en: A few minutes of data, with our filter enabled. We have removed excessively
    high frequency content, and brought the wave to center around 0 by removing excessively
    low frequency content.
  id: totrans-109
  prefs: []
  type: TYPE_NORMAL
  zh: 几分钟的数据，启用了我们的滤波器。我们已经去除了过高频率的内容，并通过去除过低频率的内容将波形集中在0附近。
- en: And that’s it. We have successfully removed high-frequency information we don’t
    care about, and centered the data we do care about around zero by removing low-frequency
    trends. We can now use this minute-by-minute data to hone in on understanding
    the electrical system we’re measuring.
  id: totrans-110
  prefs: []
  type: TYPE_NORMAL
  zh: 就这样。我们成功地去除了我们不关心的高频信息，并通过去除低频趋势将我们关心的数据集中在零附近。我们现在可以使用这逐分钟数据来深入了解我们正在测量的电气系统。
- en: 2.2) Vibration Analysis (Advanced)
  id: totrans-111
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 2.2) 振动分析（高级）
- en: ([Back To Table of Contents](#ff9b))
  id: totrans-112
  prefs: []
  type: TYPE_NORMAL
  zh: ([返回目录](#ff9b))
- en: I covered vibration analysis in a previous example in the form of analyzing
    a sound wave. In this example, I’ll discuss analyzing vibrations in physical systems,
    like a motor in a factory.
  id: totrans-113
  prefs: []
  type: TYPE_NORMAL
  zh: 我在之前的例子中已经介绍了振动分析，以分析声波的形式。在这个例子中，我将讨论分析物理系统中的振动，比如工厂中的电机。
- en: It can be difficult to predict when certain motors require maintenance. Often,
    simple issues like a misalignment can cascade into much more severe issues, like
    a complete engine failure. We can use frequency recordings, collected periodically
    over time, to help us understand when a motor is operating differently; allowing
    us to diagnose issues within an engine before it cascades into a larger issue.
  id: totrans-114
  prefs: []
  type: TYPE_NORMAL
  zh: 预测某些电机何时需要维护可能是困难的。通常，像对齐不当这样简单的问题会发展成更严重的问题，例如完全的发动机故障。我们可以使用周期性收集的频率记录来帮助我们了解电机是否以不同的方式运行；从而让我们在问题变成更大的问题之前对发动机进行诊断。
- en: '![](../Images/d6891d0d263dcd99ca63cd493bd5dce3.png)'
  id: totrans-115
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/d6891d0d263dcd99ca63cd493bd5dce3.png)'
- en: Vibration data taken over a period of time where the engine experienced a minor
    failure. In the time domain it’s virtually impossible to see the time of failure.
    (raw data synthetically generated by the author)
  id: totrans-116
  prefs: []
  type: TYPE_NORMAL
  zh: 在发动机经历轻微故障的期间采集的振动数据。在时间域中，几乎不可能看到故障发生的时间。（原数据由作者合成生成）
- en: To analyze this data, we will compute and render what is called a mel spectrogram.
    A mel spectrogram is just like a normal spectrogram, but instead of computing
    the frequency content across the entire waveform, we extract the frequency content
    from small rolling windows extracted from the signal. This allows us to plot **how
    the frequency content changes over time**.
  id: totrans-117
  prefs: []
  type: TYPE_NORMAL
  zh: 为了分析这些数据，我们将计算并呈现所谓的梅尔频谱图。梅尔频谱图就像普通的频谱图，但不是计算整个波形的频率内容，而是从信号中提取小的滚动窗口中的频率内容。这使我们能够绘制**频率内容随时间变化的情况**。
- en: '[PRE7]'
  id: totrans-118
  prefs: []
  type: TYPE_PRE
  zh: '[PRE7]'
- en: '![](../Images/2dcad45ee0f252470884f45174f8d356.png)'
  id: totrans-119
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/2dcad45ee0f252470884f45174f8d356.png)'
- en: 'A mel spectrogram of the motor data. Instead of the a 2d frequency spectrogram,
    mel spectrograms are 3d: The vertical axis is the frequency of oscillation, the
    x axis is time (in this case a percentage of time) that the frequency content
    was calculated, and the color represents amplitude, which is measured in a unit
    called decibels. Note that at time 0.2, the frequency content of the motor suddenly
    changes.'
  id: totrans-120
  prefs: []
  type: TYPE_NORMAL
  zh: 电机数据的梅尔频谱图。与二维频谱图不同，梅尔频谱图是三维的：垂直轴是振荡频率，x轴是时间（在这种情况下是时间的百分比），颜色代表幅度，以分贝为单位。注意在时间0.2时，电机的频率内容突然发生变化。
- en: In a Mel Spectrogram, each vertical slice represents a region of time, with
    high-frequency content being shown higher up, and low-frequency content being
    shown lower down in the plot. It’s easy to see that at time 0.2 (20% through our
    data), the frequency content changed dramatically. At this point a balancing weight
    became loose, causing the engine to become unbalanced. Maintenance at this point
    may save the engine from excess wear in the future.
  id: totrans-121
  prefs: []
  type: TYPE_NORMAL
  zh: 在梅尔频谱图中，每个垂直切片代表一个时间区域，高频内容显示在图上方，低频内容显示在图下方。很容易看出在时间0.2（数据的20%处），频率内容发生了剧烈变化。在这一点上，一个平衡重物变松，导致发动机失衡。在此时进行维护可能会避免未来的过度磨损。
- en: A simple yet effective way to employ this principle is with scheduled vibration
    readings. A worker sticks an accelerometer on the body of a motor with a magnet
    and records the frequency content once or twice a month. Those windows of vibration
    data are then converted to the frequency domain, where certain key features are
    extracted. A common extracted feature from the frequency domain is power spectral
    density, which is essentially the area under the frequency domain curve over certain
    regions of frequencies. Extracted features can be plotted over several weeks of
    recordings and used as a proxy for overall motor health.
  id: totrans-122
  prefs: []
  type: TYPE_NORMAL
  zh: 一种简单而有效地应用这一原理的方法是通过定期振动读数。工人将一个加速度计通过磁铁固定在电机的机体上，并每月记录一次或两次频率内容。这些振动数据窗口随后被转换到频率域，在那里提取某些关键特征。一个常见的频率域提取特征是功率谱密度，实际上是某些频率区域下频率域曲线的面积。提取的特征可以绘制在几周的记录上，并用作整体电机健康状况的代理。
- en: 3) Advanced Uses of the Frequency Domain
  id: totrans-123
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 3) 频率域的高级应用
- en: 3.1) Data Augmentation (Advanced)
  id: totrans-124
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 3.1) 数据增强（高级）
- en: ([Back To Table of Contents](#ff9b))
  id: totrans-125
  prefs: []
  type: TYPE_NORMAL
  zh: ([返回目录](#ff9b))
- en: Data augmentation is the process of creating fake data from real data. The quintessential
    example is image classification to bolster a data set for classifying if images
    are of a dog or a cat.
  id: totrans-126
  prefs: []
  type: TYPE_NORMAL
  zh: 数据增强是从真实数据中创建假数据的过程。一个典型的例子是图像分类，以增强一个用于分类图像是否是狗还是猫的数据集。
- en: '![](../Images/0da109bceaefeda69ec917f5fe384d06.png)'
  id: totrans-127
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/0da109bceaefeda69ec917f5fe384d06.png)'
- en: Example of image augmentation, where a single image can be used to generate
    multiple images for a machine learning model to learn from. Created with Affinity
    Designer 2, stock photo from storyblocks.com
  id: totrans-128
  prefs: []
  type: TYPE_NORMAL
  zh: 图像增强的示例，其中单张图像可以用来生成多个图像供机器学习模型学习。由 Affinity Designer 2 创建，图片来自 storyblocks.com
- en: 'Augmentation can be an incredibly powerful tool, but what if you don’t have
    images? What if you have sound, motion, temperature, or some other signal? How
    can one sensibly augment these types of data? In the time domain, augmentation
    strategies look a lot more like regularization strategies: add a bit of noise
    here, and shift the data up or down there. They add random information to data,
    which can be useful, but they don’t really make new examples.'
  id: totrans-129
  prefs: []
  type: TYPE_NORMAL
  zh: 增强可以是一个极其强大的工具，但如果你没有图像怎么办？如果你有声音、运动、温度或其他信号呢？如何合理地增强这些类型的数据？在时间域中，增强策略更像是正则化策略：在这里添加一点噪声，在那里上下移动数据。它们向数据中添加随机信息，这可能有用，但实际上并不会生成新的示例。
- en: 'We can steal something from the music production scene: a wavetable. The idea
    behind a wavetable is to convert two waves to the frequency domain, interpolate
    between the two in the frequency domain, then convert the interpolation back to
    the time domain. I don’t mean blending, where you overlay one signal over the
    other, but making a completely new wave which contains frequency content from
    two (or more) other waves.'
  id: totrans-130
  prefs: []
  type: TYPE_NORMAL
  zh: 我们可以借鉴音乐制作场景中的一个概念：波形表。波形表的思想是将两个波形转换到频域，在频域中进行插值，然后将插值转换回时间域。我并不是指混合，将一个信号叠加在另一个信号上，而是创建一个完全新的波形，其中包含两个（或更多）其他波形的频率内容。
- en: Let’s imagine we’re trying to build a model to detect if people are talking
    or not in an audio snippet. We have a bunch of samples of audio where people are
    talking, and a bunch of samples where people aren’t, both in a variety of situations.
    This data requires someone to go out with a collection of different microphones
    and capture sounds, and then manually flag if the data contains someone talking
    or not, in a variety of situations. let’s say the model has to be very robust,
    and very accurate, and recording sufficient data to reach desired performance
    levels is not financially feasible.
  id: totrans-131
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们假设我们正在尝试构建一个模型来检测音频片段中是否有人在说话。我们有一堆包含人们说话的音频样本，还有一堆没有人说话的样本，且都在各种不同的情况下。这些数据需要有人带着不同的麦克风去捕捉声音，然后手动标记数据是否包含有人说话，且涉及各种情况。假设模型必须非常稳健和准确，而录制足够的数据以达到所需的性能水平在财务上是不可行的。
- en: In theory, the thing that makes human speech sound the way it does is frequency
    content. A blend of frequency content from one snippet of talking and another
    snippet of talking should still sound like someone talking. We can use a wave
    table to construct these artificial waves, thus making more data for free (besides
    a data scientist's salary and big old expensive computing resources on the cloud).
  id: totrans-132
  prefs: []
  type: TYPE_NORMAL
  zh: 理论上，使人类语音听起来像这样的是频率内容。将一个谈话片段和另一个谈话片段的频率内容混合起来，应该仍然听起来像有人在说话。我们可以使用波形表来构造这些人工波形，从而免费生成更多数据（除了数据科学家的薪水和云端昂贵的计算资源）。
- en: '[PRE8]'
  id: totrans-133
  prefs: []
  type: TYPE_PRE
  zh: '[PRE8]'
- en: '![](../Images/73857b9384d30e0deefa9241a7d11935.png)'
  id: totrans-134
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/73857b9384d30e0deefa9241a7d11935.png)'
- en: Two waveforms, both prominently including people talking. (raw data from storyblocks.com)
  id: totrans-135
  prefs: []
  type: TYPE_NORMAL
  zh: 两个波形，均明显包含人们说话的声音。（原始数据来自 storyblocks.com）
- en: We can convert both of these waves to the frequency domain, and create several
    frequency representations which are interpolations between the two waves.
  id: totrans-136
  prefs: []
  type: TYPE_NORMAL
  zh: 我们可以将这两个波形转换到频域，并创建几个在这两个波形之间的频率表示。
- en: '[PRE9]'
  id: totrans-137
  prefs: []
  type: TYPE_PRE
  zh: '[PRE9]'
- en: '![](../Images/8111a739cb92ea5dcc3c99c560517783.png)'
  id: totrans-138
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/8111a739cb92ea5dcc3c99c560517783.png)'
- en: Frequency spectrograms for both the original waveforms (at the extremes) and
    the waveforms in the middle. Note that the the plot shows the spectrogram as frequency
    vs amplitude, but the interpolation also is done over the phase as well.
  id: totrans-139
  prefs: []
  type: TYPE_NORMAL
  zh: 原始波形（在极端位置）和中间波形的频谱图。请注意，图表显示的频谱图为频率与振幅，但插值也在相位上进行。
- en: We can now compute the inverse Fast Fourier Transform on all of these interpolated
    frequency domains, and extract our table of waves.
  id: totrans-140
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们可以对所有这些插值的频域计算逆快速傅里叶变换，并提取我们的波形表。
- en: '[PRE10]'
  id: totrans-141
  prefs: []
  type: TYPE_PRE
  zh: '[PRE10]'
- en: '![](../Images/19d8f03769f33933e0a485e9827c84a7.png)'
  id: totrans-142
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/19d8f03769f33933e0a485e9827c84a7.png)'
- en: The final wave table. The extreme waves are the source waves, while the ones
    in between are interpolations in the frequency domain.
  id: totrans-143
  prefs: []
  type: TYPE_NORMAL
  zh: 最终的波形表。极端的波形是源波，而中间的波形是在频域中的插值。
- en: And there we go. From 2 waves of people talking, we now have 10 waves of people
    talking. Data augmentation can be a tricky task, as you can easily create data
    which is not actually indicative of the data you’re trying to emulate. When employing
    a similar augmentation strategy, you can use augmentations which are closer to
    the source waves (80% one wave, 20% another). These will be more likely to be
    realistic than waves closer to the center (50%, 50%).
  id: totrans-144
  prefs: []
  type: TYPE_NORMAL
  zh: 就这样。从2个讨论波形，我们现在有了10个讨论波形。数据增强可能是一个棘手的任务，因为你可能会创建不实际反映你试图模拟的数据的内容。当使用类似的增强策略时，你可以使用更接近源波形的增强（80%
    一个波形，20% 另一个）。这些比接近中心的波形（50%，50%）更可能是现实的。
- en: 3.2) Embedding and Clustering (Advanced)
  id: totrans-145
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 3.2) 嵌入和聚类（高级）
- en: ([Back To Table of Contents](#ff9b))
  id: totrans-146
  prefs: []
  type: TYPE_NORMAL
  zh: ([返回目录](#ff9b))
- en: For this example, we’ll use the output from a sentiment analysis model to cluster
    different products based on their customer sentiment over time. Let’s say we run
    a store with reviews, and those reviews fluctuate between positive and negative.
    We notice we have some reviews which correlate with one another. We want to find
    products which have similar sentiment analysis trends, such that they can be grouped
    together and further understood.
  id: totrans-147
  prefs: []
  type: TYPE_NORMAL
  zh: 对于这个示例，我们将使用情感分析模型的输出，基于客户情感随时间的变化对不同产品进行聚类。假设我们运营一家有评论的商店，这些评论在正面和负面之间波动。我们注意到一些评论彼此相关。我们想要找到具有相似情感分析趋势的产品，以便将它们分组在一起并进一步理解。
- en: 'First, let’s look at our data:'
  id: totrans-148
  prefs: []
  type: TYPE_NORMAL
  zh: 首先，让我们看看我们的数据：
- en: '[PRE11]'
  id: totrans-149
  prefs: []
  type: TYPE_PRE
  zh: '[PRE11]'
- en: '![](../Images/0c2af187a0fc72154f2660c41715edd5.png)'
  id: totrans-150
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/0c2af187a0fc72154f2660c41715edd5.png)'
- en: first 10 examples of sentiment (data synthetically generated by the author)
  id: totrans-151
  prefs: []
  type: TYPE_NORMAL
  zh: 前10个情感示例（数据由作者合成生成）
- en: As you can see, we have many examples of user sentiment, averaged on a per-day
    basis. We can remove the very low-frequency content, which will remove very long-term
    average trends (like the average), and we will remove very high-frequency content,
    which is noise and is unlikely to create useful clusters.
  id: totrans-152
  prefs: []
  type: TYPE_NORMAL
  zh: 如你所见，我们有许多用户情感的示例，按天平均。我们可以去除非常低频的内容，这将去除非常长期的平均趋势（如平均值），同时去除非常高频的内容，这些是噪声，不太可能产生有用的聚类。
- en: '[PRE12]'
  id: totrans-153
  prefs: []
  type: TYPE_PRE
  zh: '[PRE12]'
- en: '![](../Images/cfbde06bf5cd16b89a13c83518427192.png)'
  id: totrans-154
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/cfbde06bf5cd16b89a13c83518427192.png)'
- en: 'Ultimately, we will be clustering data in the frequency domain. We generate
    this plot just so we can confirm that we’re preserving the type of content we
    care about: not too low frequency, and not too high frequency.'
  id: totrans-155
  prefs: []
  type: TYPE_NORMAL
  zh: 最终，我们将会在频域中对数据进行聚类。我们生成这个图表只是为了确认我们是否保留了我们关心的内容类型：既不过于低频，也不过于高频。
- en: Now we’re done with the time domain, and will begin working on building up our
    clustering in the frequency domain. Let’s look at our filtered frequency domain
    plots
  id: totrans-156
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们完成了时间域的处理，将开始在频域中构建我们的聚类。让我们看看我们筛选后的频域图。
- en: '![](../Images/43f844f3e9148310fa80db7334cc789b.png)'
  id: totrans-157
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/43f844f3e9148310fa80db7334cc789b.png)'
- en: The frequency content used to construct the waves above
  id: totrans-158
  prefs: []
  type: TYPE_NORMAL
  zh: 用于构建上述波形的频率内容
- en: 'The input to our clustering operation will be a list of amplitudes, each of
    which corresponds to a specific frequency. We could feed this data to our clustering
    algorithm, but there is an additional step which can create significant improvements.
    Imagine we are trying to cluster four simple sin waves, with frequency domain
    content which looks like this:'
  id: totrans-159
  prefs: []
  type: TYPE_NORMAL
  zh: 我们的聚类操作的输入将是一个振幅列表，每个振幅对应一个特定的频率。我们可以将这些数据输入到我们的聚类算法中，但还有一个额外的步骤可以带来显著的改进。想象一下，我们试图聚类四个简单的正弦波，其频域内容如下：
- en: '![](../Images/d6c466326173de6ecf4fca28a978c584.png)'
  id: totrans-160
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/d6c466326173de6ecf4fca28a978c584.png)'
- en: a representation of four sin waves, plotted in the frequency domain, for demonstrative
    purposes
  id: totrans-161
  prefs: []
  type: TYPE_NORMAL
  zh: 四个正弦波的频域表示，用于演示目的
- en: 'You would expect the waves on the left to cluster together, and the waves on
    the right to cluster closely together. However, the vectors which describe this
    data look like this:'
  id: totrans-162
  prefs: []
  type: TYPE_NORMAL
  zh: 你会期望左边的波形聚集在一起，右边的波形也紧密聚集在一起。然而，描述这些数据的向量看起来是这样的：
- en: '[PRE13]'
  id: totrans-163
  prefs: []
  type: TYPE_PRE
  zh: '[PRE13]'
- en: From the perspective of t-SNE, all of these waves are, equally, orthogonal to
    each-other, as none of them share any value along a similar axis. We can get around
    this issue by making the frequency domain “fuzzy”; we can apply a moving average
    to this data such that frequency content blends to adjacent regions.
  id: totrans-164
  prefs: []
  type: TYPE_NORMAL
  zh: 从t-SNE的角度来看，这些波形都是彼此正交的，因为它们没有沿相似的轴共享任何值。我们可以通过使频域“模糊”来解决这个问题；我们可以对这些数据应用移动平均，使频率内容与邻近区域融合。
- en: '![](../Images/70cbd79ff99612d4a79299395da285e8.png)'
  id: totrans-165
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/70cbd79ff99612d4a79299395da285e8.png)'
- en: our sample data, with an exponential moving average applied in both directions,
    causing similar frequency content to bleed into one another.
  id: totrans-166
  prefs: []
  type: TYPE_NORMAL
  zh: 我们的样本数据，应用了双向指数移动平均，导致相似的频率内容互相渗透。
- en: 'This data is significantly more likely to yield good clustering results, as
    similar frequency content spikes are more apt to bleed into one another. Let’s
    apply this concept to our sample plot of sentiment data:'
  id: totrans-167
  prefs: []
  type: TYPE_NORMAL
  zh: 这些数据更有可能产生良好的聚类结果，因为相似的频率内容尖峰更容易互相渗透。让我们将这一概念应用到我们的情感数据样本图中：
- en: '[PRE14]'
  id: totrans-168
  prefs: []
  type: TYPE_PRE
  zh: '[PRE14]'
- en: '![](../Images/a8517595b8767530641a32fc4f3351f7.png)'
  id: totrans-169
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/a8517595b8767530641a32fc4f3351f7.png)'
- en: Filtered amplitude over frequency data, for clustering. Keep in mind, there
    are numerous changes that can be made to this general approach. Different high
    and low frequencies can be used, different spans of the exponential average can
    be used, the frequency domain can be normalized such that relative amplitudes
    are similar, etc.
  id: totrans-170
  prefs: []
  type: TYPE_NORMAL
  zh: 经过滤波的频率数据，用于聚类。请记住，可以对这种一般方法进行许多更改。可以使用不同的高频和低频，可以使用不同范围的指数平均，可以对频率域进行归一化，以使相对幅度相似，等等。
- en: 'As a result of our processing steps, this data is significantly more likely
    to create clusters of data we actually care about. Now we can tie all this together,
    and create our final cluster:'
  id: totrans-171
  prefs: []
  type: TYPE_NORMAL
  zh: 由于我们的处理步骤，这些数据更有可能创建我们实际关心的数据簇。现在我们可以将所有这些整合在一起，创建我们的最终簇：
- en: '[PRE15]'
  id: totrans-172
  prefs: []
  type: TYPE_PRE
  zh: '[PRE15]'
- en: '![](../Images/5f2341cdd5e7f3e721edd0ac9bdb27e4.png)'
  id: totrans-173
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/5f2341cdd5e7f3e721edd0ac9bdb27e4.png)'
- en: t-SNE plot of the filtered frequency domain for all user sentiment product reviews.
  id: totrans-174
  prefs: []
  type: TYPE_NORMAL
  zh: t-SNE 图，展示了所有用户情感产品评论的过滤频率域。
- en: And that’s it! Naturally, for a practical application, a lot of work has to
    be done after this graph is generated. Likely, these clouds of data would have
    to be explored, and potentially labeled, and further refinement of key parameters
    would have to be done to gain further insights. For this example, though, we have
    used the frequency domain to apply a clustering algorithm to time series data,
    allowing us to see which sentiments oscillate in similar ways. This type of analysis
    could inform product recommendations within a website, for instance.
  id: totrans-175
  prefs: []
  type: TYPE_NORMAL
  zh: 就这样！自然地，对于实际应用，生成此图表后还需要做大量工作。这些数据云很可能需要被探索，并可能需要标记，还需要进一步调整关键参数以获得更多洞察。不过在这个例子中，我们使用频率域对时间序列数据应用了聚类算法，使我们能够看到哪些情感以相似的方式波动。这种类型的分析可以为网站内的产品推荐提供信息。
- en: 3.3) Compression (Intermediate)
  id: totrans-176
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 3.3) 压缩（中级）
- en: ([Back To Table of Contents](#ff9b))
  id: totrans-177
  prefs: []
  type: TYPE_NORMAL
  zh: ([返回目录](#ff9b))
- en: Signals contain a lot of data. Sampling at 96,000 samples per second for a few
    hours yields massive audio files. These raw recordings are useful for high-quality
    audio processing, but when you’re done and want to send a sample to a friend,
    you’re willing to sacrifice a bit of audio quality for speed and size. You can
    down-sample to a point (send fewer samples per second), however, that will limit
    the maximum pitch of the frequencies you can send (If you’re only sending 200
    samples/second you can’t send any frequency higher than 100 Hz). Instead, you
    can convert your sample to the frequency domain, compress similar frequencies
    together, then send the frequency domain along with the sampling rate. the recipient
    can then rebuild the compressed audio via a transform from the frequency domain
    to the time domain. This allows you to send arbitrarily high frequencies without
    needing to send an arbitrarily large amount of data. The reason mp3 files, for
    instance, are so much smaller than .wav files is that they use a Fourier transform
    prominently in their encoding.
  id: totrans-178
  prefs: []
  type: TYPE_NORMAL
  zh: 信号包含大量数据。在每秒采样96,000次的情况下，几个小时的录音会生成巨大的音频文件。这些原始录音对于高质量音频处理非常有用，但当你完成工作并想要将样本发送给朋友时，你愿意为了速度和大小牺牲一些音频质量。你可以降采样到一个点（每秒发送更少的样本），但是，这会限制你可以发送的频率的最大音调（如果你每秒只发送200个样本，就不能发送高于100
    Hz的任何频率）。相反，你可以将样本转换到频率域，将相似频率压缩在一起，然后发送频率域和采样率。接收者可以通过从频率域到时间域的变换来重建压缩后的音频。这使你能够发送任意高的频率，而无需发送任意大的数据量。例如，mp3
    文件之所以比 .wav 文件小得多，是因为它们在编码中显著使用了傅里叶变换。
- en: 4) Conceptual Takeaways for Data Scientists
  id: totrans-179
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 4) 数据科学家的概念性收获
- en: ([Back To Table of Contents](#ff9b))
  id: totrans-180
  prefs: []
  type: TYPE_NORMAL
  zh: ([返回目录](#ff9b))
- en: Using frequency analysis directly as a tool can be vital for solving certain
    problems, as we’ve seen in previous examples. What often goes unappreciated is
    the usage of the frequency domain as a concept. As a data scientist, it might
    be difficult to wrap your brain around self-similar modeling strategies like recurrent
    and convolutional networks, especially when solving specific, subtle problems.
    Sometimes, thinking of these problems as a quasi-frequency domain extraction can
    be more useful.
  id: totrans-181
  prefs: []
  type: TYPE_NORMAL
  zh: 直接使用频率分析作为工具对于解决某些问题可能至关重要，正如我们在之前的例子中所看到的。经常被忽视的是将频率域作为一个概念的使用。作为数据科学家，可能很难理解自相似建模策略，如递归网络和卷积网络，尤其是在解决具体且微妙的问题时。有时，将这些问题视为准频率域提取可能更为有用。
- en: Convolutional networks, for instance, use wavelets (convolutions) that propagate
    over data. The result then gets pooled, reducing the resolution of the data, and
    further wavelets get applied. You can think of convolutions as extracting **varying
    frequencies of information**, often from high-frequency information to low-frequency
    information. Keeping this in mind can lead to a more intuitive understanding of
    stride, kernel size, and other hyperparameters.
  id: totrans-182
  prefs: []
  type: TYPE_NORMAL
  zh: 例如，卷积网络使用在数据上传播的波形（卷积）。结果随后被池化，降低了数据的分辨率，然后应用进一步的波形。你可以将卷积视为提取**不同频率的信息**，通常是从高频信息到低频信息。记住这一点可以对步幅、内核大小和其他超参数有更直观的理解。
- en: 5) Summary
  id: totrans-183
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 5) 总结
- en: ([Back To Table of Contents](#ff9b))
  id: totrans-184
  prefs: []
  type: TYPE_NORMAL
  zh: ([返回目录](#ff9b))
- en: In this article we covered the frequency domain, how it relates to signals and
    sin waves, and saw a few examples of frequency domain representations. We saw
    how a time-series signal can be converted to the frequency domain, and vice versa,
    and saw several examples of how, by converting to the frequency domain, several
    classes of problems can be solved.
  id: totrans-185
  prefs: []
  type: TYPE_NORMAL
  zh: 在这篇文章中，我们涵盖了频率域，它如何与信号和正弦波相关，并看到了一些频率域表示的例子。我们看到如何将时间序列信号转换为频率域，反之亦然，并看到通过转换到频率域，如何解决几类问题。
- en: Follow For More!
  id: totrans-186
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 关注更多内容！
- en: In a future post, I’ll describe how the frequency domain can be applied to higher
    dimensional signals, like images and video, and how that can be used to great
    effect in machine learning/data science applications. I’ll also be describing
    several landmark papers in the ML space, with an emphasis on practical and intuitive
    explanations.
  id: totrans-187
  prefs: []
  type: TYPE_NORMAL
  zh: 在未来的帖子中，我将描述频率域如何应用于更高维度的信号，如图像和视频，以及如何在机器学习/数据科学应用中发挥巨大作用。我还将描述几个机器学习领域的标志性论文，重点关注实用和直观的解释。
- en: '**Attribution:** All of the images in this document were created by Daniel
    Warfield. You can use any images in this post for your own non-commercial purposes,
    so long as you reference this article, [https://danielwarfield.dev](https://danielwarfield.dev),
    or both.'
  id: totrans-188
  prefs: []
  type: TYPE_NORMAL
  zh: '**署名：** 本文档中的所有图片均由丹尼尔·沃菲尔德（Daniel Warfield）创作。只要你引用本文或[https://danielwarfield.dev](https://danielwarfield.dev)，你可以将本文中的任何图片用于个人非商业目的。'
- en: P.S. — Join me on RoundtableML
  id: totrans-189
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 附言——加入我在 RoundtableML 的行列
- en: RoundtableML is a vibrant community where ambitious and driven individuals come
    together to collaborate and push boundaries of ML and AI application in a safe
    and responsible way. If you're eager to expand your knowledge of ML, engage in
    open research diveinto scientific papers and work on ML project within small intimate
    groups — this is the place for you!
  id: totrans-190
  prefs: []
  type: TYPE_NORMAL
  zh: RoundtableML 是一个充满活力的社区，雄心勃勃且积极进取的个人聚集在一起，协作并推动机器学习和人工智能应用的边界，以安全和负责任的方式。如果你渴望扩展机器学习知识，参与开放研究，深入科学论文，并在小型亲密小组中进行机器学习项目——这里就是你的理想之地！
- en: You can join using this discord [invite](https://discord.gg/3gT8PVggPN).
  id: totrans-191
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以通过这个 Discord [邀请](https://discord.gg/3gT8PVggPN)加入。
