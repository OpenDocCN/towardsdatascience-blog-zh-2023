- en: Dijkstraâ€™s algorithm weighted by travel time in OSM networks
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: Dijkstra ç®—æ³•åœ¨ OSM ç½‘ç»œä¸­æŒ‰æ—…è¡Œæ—¶é—´åŠ æƒ
- en: åŸæ–‡ï¼š[https://towardsdatascience.com/dijkstras-algorithm-weighted-by-travel-time-in-osm-networks-792aa92e03af](https://towardsdatascience.com/dijkstras-algorithm-weighted-by-travel-time-in-osm-networks-792aa92e03af)
  id: totrans-1
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: åŸæ–‡ï¼š[https://towardsdatascience.com/dijkstras-algorithm-weighted-by-travel-time-in-osm-networks-792aa92e03af](https://towardsdatascience.com/dijkstras-algorithm-weighted-by-travel-time-in-osm-networks-792aa92e03af)
- en: Finding the fastest and shortest path with the OSMNX 1.6
  id: totrans-2
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: ä½¿ç”¨ OSMNX 1.6 å¯»æ‰¾æœ€å¿«å’Œæœ€çŸ­è·¯å¾„
- en: '[](https://bryanvallejo16.medium.com/?source=post_page-----792aa92e03af--------------------------------)[![Bryan
    R. Vallejo](../Images/fd92974f57c72875cc133a2c959d64ca.png)](https://bryanvallejo16.medium.com/?source=post_page-----792aa92e03af--------------------------------)[](https://towardsdatascience.com/?source=post_page-----792aa92e03af--------------------------------)[![Towards
    Data Science](../Images/a6ff2676ffcc0c7aad8aaf1d79379785.png)](https://towardsdatascience.com/?source=post_page-----792aa92e03af--------------------------------)
    [Bryan R. Vallejo](https://bryanvallejo16.medium.com/?source=post_page-----792aa92e03af--------------------------------)'
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: '[](https://bryanvallejo16.medium.com/?source=post_page-----792aa92e03af--------------------------------)[![Bryan
    R. Vallejo](../Images/fd92974f57c72875cc133a2c959d64ca.png)](https://bryanvallejo16.medium.com/?source=post_page-----792aa92e03af--------------------------------)[](https://towardsdatascience.com/?source=post_page-----792aa92e03af--------------------------------)[![Towards
    Data Science](../Images/a6ff2676ffcc0c7aad8aaf1d79379785.png)](https://towardsdatascience.com/?source=post_page-----792aa92e03af--------------------------------)
    [Bryan R. Vallejo](https://bryanvallejo16.medium.com/?source=post_page-----792aa92e03af--------------------------------)'
- en: Â·Published in [Towards Data Science](https://towardsdatascience.com/?source=post_page-----792aa92e03af--------------------------------)
    Â·7 min readÂ·Oct 10, 2023
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: Â·å‘è¡¨äº [Towards Data Science](https://towardsdatascience.com/?source=post_page-----792aa92e03af--------------------------------)
    Â·7 min é˜…è¯»Â·2023å¹´10æœˆ10æ—¥
- en: --
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: --
- en: '![](../Images/692de08c2ac0d0d9fef8304a5bad06dc.png)'
  id: totrans-6
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/692de08c2ac0d0d9fef8304a5bad06dc.png)'
- en: Image by the Author. Fastest route (red) and Shortest route (orange) in Morocco
    example
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: å›¾ç‰‡ç”±ä½œè€…æä¾›ã€‚æ‘©æ´›å“¥ç¤ºä¾‹ä¸­çš„æœ€å¿«è·¯çº¿ï¼ˆçº¢è‰²ï¼‰å’Œæœ€çŸ­è·¯çº¿ï¼ˆæ©™è‰²ï¼‰
- en: The Shortest Path (Dijkstraâ€™s) algorithm can be applied in OSM networks like
    driving, bike, and pedestrian, to find the most optime route between origin and
    destination. But, the algorithm calculates in the network the shortest routes
    based on distance and it does not really mean the most optime route. The distance
    in a road network can be relative when we consider the speed of the roads. Definitely,
    the most optime route between the two points might be the shortest if the road
    network has equal speed on all roads. In the case we compare the speed in highways
    with urban streets we will refactor this idea understanding that the most optime
    route is the fastest.
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: æœ€çŸ­è·¯å¾„ï¼ˆDijkstraï¼‰ç®—æ³•å¯ä»¥åº”ç”¨äº OSM ç½‘ç»œä¸­ï¼Œå¦‚é©¾é©¶ã€éª‘è¡Œå’Œæ­¥è¡Œï¼Œä»¥æ‰¾åˆ°èµ·ç‚¹å’Œç»ˆç‚¹ä¹‹é—´çš„æœ€ä¼˜è·¯çº¿ã€‚ä½†è¯¥ç®—æ³•åœ¨ç½‘ç»œä¸­è®¡ç®—åŸºäºè·ç¦»çš„æœ€çŸ­è·¯çº¿ï¼Œè¿™å¹¶ä¸æ„å‘³ç€æœ€ä¼˜è·¯çº¿ã€‚åœ¨é“è·¯ç½‘ç»œä¸­ï¼Œè·ç¦»å¯ä»¥æ˜¯ç›¸å¯¹çš„ï¼Œå½“æˆ‘ä»¬è€ƒè™‘é“è·¯çš„é€Ÿåº¦æ—¶ã€‚æ˜¾ç„¶ï¼Œåœ¨æ‰€æœ‰é“è·¯é€Ÿåº¦ç›¸ç­‰çš„æƒ…å†µä¸‹ï¼Œä¸¤ç‚¹ä¹‹é—´çš„æœ€ä¼˜è·¯çº¿å¯èƒ½æ˜¯æœ€çŸ­çš„ã€‚å¦‚æœæˆ‘ä»¬æ¯”è¾ƒé«˜é€Ÿå…¬è·¯ä¸åŸå¸‚è¡—é“çš„é€Ÿåº¦ï¼Œæˆ‘ä»¬ä¼šé‡æ–°è°ƒæ•´è¿™ä¸ªæƒ³æ³•ï¼Œç†è§£æœ€ä¼˜è·¯çº¿æ˜¯æœ€å¿«çš„ã€‚
- en: â€œThe distance in a road network can be relative when we consider the speed of
    the roadsâ€
  id: totrans-9
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: â€œåœ¨é“è·¯ç½‘ç»œä¸­ï¼Œè·ç¦»å¯èƒ½æ˜¯ç›¸å¯¹çš„ï¼Œå½“æˆ‘ä»¬è€ƒè™‘é“è·¯çš„é€Ÿåº¦æ—¶â€
- en: Thanks to the Python library OSMNX, it is possible to add speed to different
    kinds of roads at the global level and calculate the *Travel times* between nodes
    in the OSM network. This allows the Python library to process the Shortest Path
    algorithm weighted by *Travel times*.
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: å€ŸåŠ© Python åº“ OSMNXï¼Œå¯ä»¥åœ¨å…¨çƒèŒƒå›´å†…ä¸ºä¸åŒç±»å‹çš„é“è·¯æ·»åŠ é€Ÿåº¦ï¼Œå¹¶è®¡ç®— OSM ç½‘ç»œä¸­èŠ‚ç‚¹ä¹‹é—´çš„*æ—…è¡Œæ—¶é—´*ã€‚è¿™ä½¿å¾— Python åº“å¯ä»¥å¤„ç†ä»¥*æ—…è¡Œæ—¶é—´*åŠ æƒçš„æœ€çŸ­è·¯å¾„ç®—æ³•ã€‚
- en: This practice is the continuation of a previous tutorial that used the Shortest
    Path algorithm to calculate the shortest route between two locations in Morocco.
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™ä¸€å®è·µæ˜¯ä¹‹å‰ä¸€ä¸ªæ•™ç¨‹çš„å»¶ç»­ï¼Œé‚£ä¸ªæ•™ç¨‹ä½¿ç”¨äº†æœ€çŸ­è·¯å¾„ç®—æ³•æ¥è®¡ç®—æ‘©æ´›å“¥ä¸¤ä¸ªä½ç½®ä¹‹é—´çš„æœ€çŸ­è·¯çº¿ã€‚
- en: Shortest route in OSM network in Morocco
  id: totrans-12
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: æ‘©æ´›å“¥ OSM ç½‘ç»œä¸­çš„æœ€çŸ­è·¯çº¿
- en: '[](/shortest-path-dijkstras-algorithm-step-by-step-python-guide-896769522752?source=post_page-----792aa92e03af--------------------------------)
    [## Shortest Path (Dijkstraâ€™s) algorithm step-by-step Python guide'
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: '[](/shortest-path-dijkstras-algorithm-step-by-step-python-guide-896769522752?source=post_page-----792aa92e03af--------------------------------)
    [## æœ€çŸ­è·¯å¾„ï¼ˆDijkstraï¼‰ç®—æ³•é€æ­¥ Python æŒ‡å—'
- en: An update using OSMNX 1.6 and a long-distance path
  id: totrans-14
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: ä½¿ç”¨ OSMNX 1.6 çš„æ›´æ–°åŠé•¿è·ç¦»è·¯å¾„
- en: towardsdatascience.com](/shortest-path-dijkstras-algorithm-step-by-step-python-guide-896769522752?source=post_page-----792aa92e03af--------------------------------)
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: towardsdatascience.com](/shortest-path-dijkstras-algorithm-step-by-step-python-guide-896769522752?source=post_page-----792aa92e03af--------------------------------)
- en: Access coding tutorials
  id: totrans-16
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: è®¿é—®ç¼–ç æ•™ç¨‹
- en: If you are not yet a member of [Medium](https://medium.com/u/504c7870fdb6?source=post_page-----792aa92e03af--------------------------------)
    you will be required to subscribe to access the stories. You can follow more coding
    tutorials and support my work by joining using my personal link. Be part of this
    coding journey.
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
- en: Join here ğŸ‘‰ [https://bit.ly/3yjLsSL](https://bit.ly/3yjLsSL)
  id: totrans-18
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: OSM data license
  id: totrans-19
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: '**Open Street Map data.** Licensed under [Open Data Commons Open Database License
    (ODbl)](https://opendatacommons.org/licenses/odbl/) or attribution license. Users
    are free to copy, distribute, transmit, and adapt the data as long as it is attributed
    to the author like Â© [OpenStreetMap](https://www.openstreetmap.org/copyright)
    contributors.'
  id: totrans-20
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Introduction
  id: totrans-21
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: The next steps will guide the process for applying the Shortest Path using the
    travel times. We will compare the fastest route and the shortest route to understand
    how the travel time and length changed.
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
- en: Also, we will use more functions from OSMNX that improve the results like `utils_graph.route_to_gdf()`
    , and for computing *Travel times* `add_edge_speeds()` and `add_edge_travel_times()`
    .
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
- en: Here is a quick view of the origin and destination suggested by [Hanae](https://medium.com/u/3b913af53dd0?source=post_page-----792aa92e03af--------------------------------).
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/dd1ded2472ba3b204998b6b2c29a83e0.png)'
  id: totrans-25
  prefs: []
  type: TYPE_IMG
- en: Image by the Author. Origin and destination locations.
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
- en: Coding practice
  id: totrans-27
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Start getting the libraries we need.
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE0]'
  id: totrans-29
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: 1\. Define origin and destination as GeoDataFrames
  id: totrans-30
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: Start adding the coordinates and creating a new GDF using Geopandas.
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE1]'
  id: totrans-32
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: 2\. Get the Graph network
  id: totrans-33
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: When we have long-distance routes it is recommended to use the *envelope* function
    to get the Graph.
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
- en: Letâ€™s use a previously defined function
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE2]'
  id: totrans-36
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: Apply and visualize
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE3]'
  id: totrans-38
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: '[PRE4]'
  id: totrans-39
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: '![](../Images/86ce92fc96ba9311953cbbad921a39d9.png)'
  id: totrans-40
  prefs: []
  type: TYPE_IMG
- en: Image by the Author. Graph with road network the contains origin and destination
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
- en: 3\. Adding Travel times to road network
  id: totrans-42
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: We will add the travel times using the function `add_edge_speeds()` that imputes
    the speed in km/h. The imputation adds mean max speed values of roads, per highway
    type. Then, we calculate the *travel times* using the function `add_edge_travel_time()`
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
- en: We will keep the same variable *graph*
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE5]'
  id: totrans-45
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: In the case you want to modify the highway classes you can pass a dictionary
    based on local speed values
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE6]'
  id: totrans-47
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: Now, letâ€™s give a quick view of the travel times by highway type getting the
    edges classes.
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE7]'
  id: totrans-49
  prefs: []
  type: TYPE_PRE
  zh: '[PRE7]'
- en: '![](../Images/e6d02f38607c6f55db56f06ffa1277c3.png)'
  id: totrans-50
  prefs: []
  type: TYPE_IMG
- en: Image by the Author. Speed and travel times in road network
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
- en: 4\. Find the closest nodes of Origin and Destination
  id: totrans-52
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: Get the closest nodes that are part of the network using the origin and destination
    coordinates. The function is `nearest_nodes()` in this new version 1.6
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE8]'
  id: totrans-54
  prefs: []
  type: TYPE_PRE
  zh: '[PRE8]'
- en: Then, we apply the shortest path algorithm between nodes.
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
- en: 5\. Calculate the Shortest Path using travel times
  id: totrans-56
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: We are going to use the function `shortest_path()` to calculate our route. We
    will use both the distance and time to compare how different the routes are with
    the parameter `weight`
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬å°†ä½¿ç”¨ `shortest_path()` å‡½æ•°æ¥è®¡ç®—æˆ‘ä»¬çš„è·¯çº¿ã€‚æˆ‘ä»¬å°†åŒæ—¶ä½¿ç”¨è·ç¦»å’Œæ—¶é—´æ¥æ¯”è¾ƒè·¯çº¿åœ¨ `weight` å‚æ•°ä¸‹çš„ä¸åŒä¹‹å¤„ã€‚
- en: '[PRE9]'
  id: totrans-58
  prefs: []
  type: TYPE_PRE
  zh: '[PRE9]'
- en: This will give back a bunch of nodeâ€™s code that are part of the route.
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™å°†è¿”å›ä¸€ç»„å±äºè¯¥è·¯çº¿çš„èŠ‚ç‚¹ä»£ç ã€‚
- en: '![](../Images/93c60e89b3cfd82895cb495dd0e3f234.png)'
  id: totrans-60
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/93c60e89b3cfd82895cb495dd0e3f234.png)'
- en: Image by the Author. Routeâ€™s nodes
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: ä½œè€…æä¾›çš„å›¾åƒã€‚è·¯çº¿çš„èŠ‚ç‚¹
- en: 6\. Create routes from nodes (one-line-code)
  id: totrans-62
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 6\. ä»èŠ‚ç‚¹åˆ›å»ºè·¯çº¿ï¼ˆå•è¡Œä»£ç ï¼‰
- en: The osmnx has implemented a function `utils_graph.route_to_gdf()` that transforms
    the nodes to GeoDataFrame in just one line. Nicely, we can get the columns of
    interest on the fly.
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: osmnx å®ç°äº†ä¸€ä¸ªå‡½æ•° `utils_graph.route_to_gdf()`ï¼Œå¯ä»¥åœ¨ä¸€è¡Œä¸­å°†èŠ‚ç‚¹è½¬æ¢ä¸º GeoDataFrameã€‚å¾ˆæ–¹ä¾¿ï¼Œæˆ‘ä»¬å¯ä»¥åŠ¨æ€è·å–æ„Ÿå…´è¶£çš„åˆ—ã€‚
- en: '[PRE10]'
  id: totrans-64
  prefs: []
  type: TYPE_PRE
  zh: '[PRE10]'
- en: 7\. Quick comparison (time and distance)
  id: totrans-65
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 7\. å¿«é€Ÿæ¯”è¾ƒï¼ˆæ—¶é—´å’Œè·ç¦»ï¼‰
- en: We will compare both routes in travel time and length.
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬å°†æ¯”è¾ƒä¸¤æ¡è·¯çº¿çš„æ—…è¡Œæ—¶é—´å’Œé•¿åº¦ã€‚
- en: '[PRE11]'
  id: totrans-67
  prefs: []
  type: TYPE_PRE
  zh: '[PRE11]'
- en: Print the values
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: æ‰“å°å€¼
- en: '[PRE12]'
  id: totrans-69
  prefs: []
  type: TYPE_PRE
  zh: '[PRE12]'
- en: '*Fastest Route: Time 5.42 hours, Distance 378.93 km'
  id: totrans-70
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '*æœ€å¿«è·¯çº¿ï¼šæ—¶é—´ 5.42 å°æ—¶ï¼Œè·ç¦» 378.93 å…¬é‡Œ'
- en: 'Shortest Route: Time 5.6 hours, Distance 362.84 km*'
  id: totrans-71
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: æœ€çŸ­è·¯çº¿ï¼šæ—¶é—´ 5.6 å°æ—¶ï¼Œè·ç¦» 362.84 å…¬é‡Œ*
- en: The results say that the fastest route is longer. As expected, the distance
    gets relative when the speed is involved.
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: ç»“æœæ˜¾ç¤ºæœ€å¿«çš„è·¯çº¿æ›´é•¿ã€‚å¦‚é¢„æœŸçš„é‚£æ ·ï¼Œæ¶‰åŠé€Ÿåº¦æ—¶ï¼Œè·ç¦»å˜å¾—ç›¸å¯¹ã€‚
- en: 8\. Save files and visualize
  id: totrans-73
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 8\. ä¿å­˜æ–‡ä»¶å¹¶å¯è§†åŒ–
- en: Save network and routes
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: ä¿å­˜ç½‘ç»œå’Œè·¯çº¿
- en: '[PRE13]'
  id: totrans-75
  prefs: []
  type: TYPE_PRE
  zh: '[PRE13]'
- en: In QGIS
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨ QGIS ä¸­
- en: '![](../Images/1fe4f787061be2e19a0907d58ce2108d.png)'
  id: totrans-77
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/1fe4f787061be2e19a0907d58ce2108d.png)'
- en: Image by the Author. Fastest route (orange) and shortest route (yellow)
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: ä½œè€…æä¾›çš„å›¾åƒã€‚æœ€å¿«çš„è·¯çº¿ï¼ˆæ©™è‰²ï¼‰å’Œæœ€çŸ­çš„è·¯çº¿ï¼ˆé»„è‰²ï¼‰
- en: In Matplotlib
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨ Matplotlib ä¸­
- en: '[PRE14]'
  id: totrans-80
  prefs: []
  type: TYPE_PRE
  zh: '[PRE14]'
- en: '![](../Images/4c910cbf3a0c59ef031d78ac5e8bf926.png)'
  id: totrans-81
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/4c910cbf3a0c59ef031d78ac5e8bf926.png)'
- en: Image by the Author. Faster route (red) and shortest route (yellow)
  id: totrans-82
  prefs: []
  type: TYPE_NORMAL
  zh: ä½œè€…æä¾›çš„å›¾åƒã€‚è¾ƒå¿«çš„è·¯çº¿ï¼ˆçº¢è‰²ï¼‰å’Œæœ€çŸ­çš„è·¯çº¿ï¼ˆé»„è‰²ï¼‰
- en: Known improvements
  id: totrans-83
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: å·²çŸ¥æ”¹è¿›
- en: The new function used from osmnx `utils_graph.route_gdf()` creates a clean route.
    It uses the road segments and not only the union between nodes and the new path
    overlaps the OSM road network.
  id: totrans-84
  prefs: []
  type: TYPE_NORMAL
  zh: ä» osmnx ä½¿ç”¨çš„æ–°åŠŸèƒ½ `utils_graph.route_gdf()` åˆ›å»ºäº†ä¸€ä¸ªå¹²å‡€çš„è·¯çº¿ã€‚å®ƒä½¿ç”¨äº†é“è·¯æ®µï¼Œè€Œä¸ä»…ä»…æ˜¯èŠ‚ç‚¹ä¹‹é—´çš„è”æ¥ï¼Œæ–°è·¯å¾„è¦†ç›–äº†
    OSM é“è·¯ç½‘ç»œã€‚
- en: '![](../Images/fcbca57f332951bddbf520786144db7d.png)'
  id: totrans-85
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/fcbca57f332951bddbf520786144db7d.png)'
- en: Image by the Author. Route overlaps road network.
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
  zh: ä½œè€…æä¾›çš„å›¾åƒã€‚è·¯çº¿è¦†ç›–äº†é“è·¯ç½‘ç»œã€‚
- en: '**Conclusion**'
  id: totrans-87
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '**ç»“è®º**'
- en: The Shortest Path algorithm can be calculated using road speeds with the OSMNX
    function `add_edge_speeds()` and `add_edge_travel_times().` This different approach
    showed that the shortest path is relative if we implement the speed (travel time)
    in the calculation of the route. As expected, the fastest route ended up being
    longer than the shortest route but it reached its destination in the shortest
    travel time.
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: æœ€çŸ­è·¯å¾„ç®—æ³•å¯ä»¥ä½¿ç”¨ OSMNX å‡½æ•° `add_edge_speeds()` å’Œ `add_edge_travel_times()` è®¡ç®—é“è·¯é€Ÿåº¦ã€‚è¿™ç§ä¸åŒçš„æ–¹æ³•è¡¨æ˜ï¼Œå¦‚æœåœ¨è·¯çº¿è®¡ç®—ä¸­å®æ–½é€Ÿåº¦ï¼ˆæ—…è¡Œæ—¶é—´ï¼‰ï¼Œæœ€çŸ­è·¯å¾„æ˜¯ç›¸å¯¹çš„ã€‚æ­£å¦‚é¢„æœŸçš„é‚£æ ·ï¼Œæœ€å¿«çš„è·¯çº¿æœ€ç»ˆæ¯”æœ€çŸ­è·¯çº¿æ›´é•¿ï¼Œä½†å®ƒä»¥æœ€çŸ­çš„æ—…è¡Œæ—¶é—´åˆ°è¾¾äº†ç›®çš„åœ°ã€‚
- en: The improvement in the generation of the route overlapping the road network
    makes the calculation of distances and travel times more accurate in studies of
    accessibility and proximity at the urban-regional level.
  id: totrans-89
  prefs: []
  type: TYPE_NORMAL
  zh: ç”Ÿæˆè¦†ç›–é“è·¯ç½‘ç»œçš„è·¯çº¿çš„æ”¹è¿›ä½¿å¾—åœ¨åŸå¸‚åŒºåŸŸçº§åˆ«çš„å¯è¾¾æ€§å’Œé‚»è¿‘æ€§ç ”ç©¶ä¸­ï¼Œè·ç¦»å’Œæ—…è¡Œæ—¶é—´çš„è®¡ç®—æ›´åŠ å‡†ç¡®ã€‚
- en: Acknowledgment
  id: totrans-90
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: è‡´è°¢
- en: Thanks to the material of [Geoff Boeing](https://medium.com/u/c490d872f7a?source=post_page-----792aa92e03af--------------------------------)
    I was able to explore these features and understand the functions of OSMNX.
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
  zh: å¤šäºäº†[Geoff Boeing](https://medium.com/u/c490d872f7a?source=post_page-----792aa92e03af--------------------------------)æä¾›çš„èµ„æ–™ï¼Œæˆ‘å¾—ä»¥æ¢ç´¢è¿™äº›åŠŸèƒ½å¹¶ç†è§£
    OSMNX çš„åŠŸèƒ½ã€‚
- en: 'If you want to reach me for questions or customized analysis:'
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: å¦‚æœä½ æƒ³å°±é—®é¢˜æˆ–å®šåˆ¶åˆ†æè”ç³»æˆ‘ï¼š
- en: '[*Bryan R. LinkedIn*](https://www.linkedin.com/in/bryanrvallejo/)'
  id: totrans-93
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '[*Bryan R. LinkedIn*](https://www.linkedin.com/in/bryanrvallejo/)'
