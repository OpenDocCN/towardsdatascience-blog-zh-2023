- en: How to Create Map Plots with Plotly
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 原文：[https://towardsdatascience.com/how-to-create-map-plots-with-plotly-26111d38fff9](https://towardsdatascience.com/how-to-create-map-plots-with-plotly-26111d38fff9)
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: 5 examples from the Significant Volcanic Eruption database
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: '[](https://medium.com/@caroline.arnold_63207?source=post_page-----26111d38fff9--------------------------------)[![Caroline
    Arnold](../Images/2560e106ba9deda7889c7d253792d814.png)](https://medium.com/@caroline.arnold_63207?source=post_page-----26111d38fff9--------------------------------)[](https://towardsdatascience.com/?source=post_page-----26111d38fff9--------------------------------)[![Towards
    Data Science](../Images/a6ff2676ffcc0c7aad8aaf1d79379785.png)](https://towardsdatascience.com/?source=post_page-----26111d38fff9--------------------------------)
    [Caroline Arnold](https://medium.com/@caroline.arnold_63207?source=post_page-----26111d38fff9--------------------------------)'
  prefs: []
  type: TYPE_NORMAL
- en: ·Published in [Towards Data Science](https://towardsdatascience.com/?source=post_page-----26111d38fff9--------------------------------)
    ·5 min read·Sep 10, 2023
  prefs: []
  type: TYPE_NORMAL
- en: --
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/460866e5b3e61c4ac92a13b8c511d114.png)'
  prefs: []
  type: TYPE_IMG
- en: Photo by [Willian Justen de Vasconcellos](https://unsplash.com/@willianjusten?utm_source=medium&utm_medium=referral)
    on [Unsplash](https://unsplash.com/?utm_source=medium&utm_medium=referral)
  prefs: []
  type: TYPE_NORMAL
- en: '[Plotly](https://plotly.com/) is a great open source library for visualizing
    data. In this blog post, I am going to show you how to generate cartographic plots
    with plotly, working with the Python backend.'
  prefs: []
  type: TYPE_NORMAL
- en: 'For illustration purposes, I will use the Significant Volcanic Eruption Database,
    published by the US National Centers for Environmental Information under the [U.S.
    Government Work License](https://www.usa.gov/government-works). The dataset is
    available for download here: [https://public.opendatasoft.com/explore/dataset/significant-volcanic-eruption-database/information/](https://public.opendatasoft.com/explore/dataset/significant-volcanic-eruption-database/information/)'
  prefs: []
  type: TYPE_NORMAL
- en: 'You are going to see the following five visualizations:'
  prefs: []
  type: TYPE_NORMAL
- en: Global distribution of significant volcanic eruptions
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Volcano types in North America
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Volcanic eruptions associated with tsunamis
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Most damaging volcanic eruptions
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Funny map projections
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'For readers interested in using plotly for data analysis, please refer to my
    recent post on visualizing data from the Women’s World Cup:'
  prefs: []
  type: TYPE_NORMAL
- en: '[](/fifa-womens-world-cup-2023-visualized-with-plotly-a7277edf6278?source=post_page-----26111d38fff9--------------------------------)
    [## FIFA Women’s World Cup 2023 visualized with Plotly'
  prefs: []
  type: TYPE_NORMAL
- en: A data scientist’s review in five plots
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: towardsdatascience.com](/fifa-womens-world-cup-2023-visualized-with-plotly-a7277edf6278?source=post_page-----26111d38fff9--------------------------------)
  prefs: []
  type: TYPE_NORMAL
- en: Preparing the data
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: After [downloading](https://public.opendatasoft.com/explore/dataset/significant-volcanic-eruption-database/information/)
    the volcanic eruption database, we load it as a pandas DataFrame. DataFrames integrate
    naturally with Plotly and are convenient for data analysis. We transform the columns
    that encode whether a volcanic eruption is associated with a volcano or an earthquake
    to True/False values and add new columns for the *latitude* and *longitude* of
    an eruption.
  prefs: []
  type: TYPE_NORMAL
- en: Global distribution of significant volcanic eruptions
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: The first visualization shows the global distribution of significant volcanic
    eruptions. This is a `scatter_geo` scatter plot, using longitude and latitude
    as *x* and *y* coordinates, respectively. The map projection is set to `natural
    earth` , and the individual events are colored and increased in size according
    the their Volcanic Explosivity Index. For the color scale, I chose the inbuilt
    magma sequential scale that seemed fitting for the volcano topic.
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/89ce9cd4f8ebd893f99afe55037aaf97.png)'
  prefs: []
  type: TYPE_IMG
- en: 'Volcanic explosivity index scatter plot. Image: Author.'
  prefs: []
  type: TYPE_NORMAL
- en: As we can see, volcanic eruptions do not occur evenly distributed across the
    world, but are centered in certain regions. These are related to tectonic boundaries,
    e.g. at the American west coast and the Pacific fire belt.
  prefs: []
  type: TYPE_NORMAL
- en: 'This is the code to generate the visualization:'
  prefs: []
  type: TYPE_NORMAL
- en: Volcano types in North America
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: There are different types of volcanoes, and some are more frequent than others.
    In the next visualization, we focus on North America. Again, we use a `scatter_geo`
    plot, and use the keyword argument `scope='north america'` to automatically set
    the displayed map extent to the desired region.
  prefs: []
  type: TYPE_NORMAL
- en: We observe the famous Hawaiian shield volcanoes, and the large number of stratovolcanoes
    along the tectonic boundaries at the Pacific coast.
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/8c4bc38368a26882fd622b2aa181451f.png)'
  prefs: []
  type: TYPE_IMG
- en: 'Volcano types in North America. Image: Author.'
  prefs: []
  type: TYPE_NORMAL
- en: 'The visualization is generated with the following code:'
  prefs: []
  type: TYPE_NORMAL
- en: Volcanic eruptions associated with tsunamis
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: Volcanic eruptions are often associated with other catastrophic events like
    earthquakes and tsunamis. In this visualization, we focus on the Pacific ocean
    and display volcanic events on a terrain map. The color encodes whether an event
    was accompanied by a tsunami.
  prefs: []
  type: TYPE_NORMAL
- en: The mapbox tiles are available via `scatter_mapbox` .
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/ee3e33e5931e7f1bf62c579f8d20d6b4.png)'
  prefs: []
  type: TYPE_IMG
- en: 'Significant volcanic eruptions accompanied by Tsunamis. Image: Author.'
  prefs: []
  type: TYPE_NORMAL
- en: 'This visualization is generated with the following code:'
  prefs: []
  type: TYPE_NORMAL
- en: Most deadly volcanic eruptions
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: We now turn to the side effects of volcanic eruptions. Eruptions of the size
    that are covered in the dataset are huge natural disasters, and are often accompanied
    by a significant loss of human lives.
  prefs: []
  type: TYPE_NORMAL
- en: In this visualization, we use a density plot overlayed with mapbox tiles to
    illustrate the deadly impact of volcanic eruptions. The mapbox tiles are cartographic,
    displaying state boundaries rather than a terrain map as in the previous visualization.
    The color scale intensity signifies the total number of deaths associated with
    an individual eruption.
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/1b886045fb8cfeb0da91e5da85374535.png)'
  prefs: []
  type: TYPE_IMG
- en: 'Deadly impact of volcanic eruptions. Image: Author.'
  prefs: []
  type: TYPE_NORMAL
- en: Eruptions that take place in populated areas are likely to cause more damage.
    From the map, the island archipelago of Indonesia sticks out. This region is part
    of the volcanically active pacific fire belt, and at the same time is densely
    populated. In Europe, the catastrophic eruption of Vesuvius in Roman times led
    to a high death toll.
  prefs: []
  type: TYPE_NORMAL
- en: 'The code to generate this visualization is as follows:'
  prefs: []
  type: TYPE_NORMAL
- en: Funny map projections
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: Since Earth is not flat, any representation of its surface in a two-dimensional
    plane has to resort to a map projection. Projections can emphasize different aspects
    of the map [[https://en.wikipedia.org/wiki/Map_projection](https://en.wikipedia.org/wiki/Map_projection)].
  prefs: []
  type: TYPE_NORMAL
- en: Plotly offers a wide range of in-built map projections that can be used together
    with the geoplots. To choose another map projection, change the `projection` keyword
    in `scatter_geo` and other plotting functions.
  prefs: []
  type: TYPE_NORMAL
- en: Here, we visualize again volcanoes colored by their explosivity, but on a Foucaut
    map projection. This is a type of area-preserving projection, i.e areas are *not*
    inflated in size the farther away they are from the equator. Note how tiny Greenland
    appears, compared to what we are used to from standard map projections!
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/51fdb8374c99806ea83b761fe6880d31.png)'
  prefs: []
  type: TYPE_IMG
- en: 'Foucaut projection. Image: Author.'
  prefs: []
  type: TYPE_NORMAL
- en: Summary
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: We generated five visualizations using cartographic scatter plots from the plotly
    library. Plotly offers terrain maps that can be automatically added to the plot
    using tiles from the mapbox library. The plots are customizable in a similar way
    as standard plots.
  prefs: []
  type: TYPE_NORMAL
- en: Cartographic plots are great to illustrate the regional impact of events in
    a dataset. Compared to other packages, such as cartopy and folium, the plotly
    library offers less functionality. However, if you are interested in quickly visualizing
    your data on a map, plotly enables you to do that without getting into details
    of geospatial data formats.
  prefs: []
  type: TYPE_NORMAL
- en: Further reading and references
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: '[https://plotly.com/python/scatter-plots-on-maps/](https://plotly.com/python/scatter-plots-on-maps/)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Check out the notebook to generate the plots on Github:'
  prefs: []
  type: TYPE_NORMAL
- en: '[](https://github.com/crlna16/medium_notebooks/blob/main/plotly/volcanic_activity.ipynb?source=post_page-----26111d38fff9--------------------------------)
    [## medium_notebooks/plotly/volcanic_activity.ipynb at main · crlna16/medium_notebooks'
  prefs: []
  type: TYPE_NORMAL
- en: Contribute to crlna16/medium_notebooks development by creating an account on
    GitHub.
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: github.com](https://github.com/crlna16/medium_notebooks/blob/main/plotly/volcanic_activity.ipynb?source=post_page-----26111d38fff9--------------------------------)
  prefs: []
  type: TYPE_NORMAL
