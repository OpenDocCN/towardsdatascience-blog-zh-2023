- en: The New Generative AI Function in BigQuery
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: BigQuery中的新生成AI功能
- en: 原文：[https://towardsdatascience.com/the-new-generative-ai-function-in-bigquery-38d7a16d4efc](https://towardsdatascience.com/the-new-generative-ai-function-in-bigquery-38d7a16d4efc)
  id: totrans-1
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 原文：[https://towardsdatascience.com/the-new-generative-ai-function-in-bigquery-38d7a16d4efc](https://towardsdatascience.com/the-new-generative-ai-function-in-bigquery-38d7a16d4efc)
- en: How to use BigQuery GENERATE_TEXT remote function
  id: totrans-2
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何使用BigQuery的GENERATE_TEXT远程函数
- en: '[](https://medium.com/@martosi?source=post_page-----38d7a16d4efc--------------------------------)[![Marina
    Tosic](../Images/cb2168826ed9ed608d61c6c90843c535.png)](https://medium.com/@martosi?source=post_page-----38d7a16d4efc--------------------------------)[](https://towardsdatascience.com/?source=post_page-----38d7a16d4efc--------------------------------)[![Towards
    Data Science](../Images/a6ff2676ffcc0c7aad8aaf1d79379785.png)](https://towardsdatascience.com/?source=post_page-----38d7a16d4efc--------------------------------)
    [Marina Tosic](https://medium.com/@martosi?source=post_page-----38d7a16d4efc--------------------------------)'
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: '[](https://medium.com/@martosi?source=post_page-----38d7a16d4efc--------------------------------)[![Marina
    Tosic](../Images/cb2168826ed9ed608d61c6c90843c535.png)](https://medium.com/@martosi?source=post_page-----38d7a16d4efc--------------------------------)[](https://towardsdatascience.com/?source=post_page-----38d7a16d4efc--------------------------------)[![Towards
    Data Science](../Images/a6ff2676ffcc0c7aad8aaf1d79379785.png)](https://towardsdatascience.com/?source=post_page-----38d7a16d4efc--------------------------------)
    [Marina Tosic](https://medium.com/@martosi?source=post_page-----38d7a16d4efc--------------------------------)'
- en: ·Published in [Towards Data Science](https://towardsdatascience.com/?source=post_page-----38d7a16d4efc--------------------------------)
    ·10 min read·Dec 1, 2023
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: ·发表于[数据科学之路](https://towardsdatascience.com/?source=post_page-----38d7a16d4efc--------------------------------)
    ·阅读时间10分钟·2023年12月1日
- en: --
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: --
- en: '![](../Images/6bc5b9d4bfe58fdc6f69a6a33a2454d3.png)'
  id: totrans-6
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/6bc5b9d4bfe58fdc6f69a6a33a2454d3.png)'
- en: “Everyone can code and do NLP analysis in BigQuery with SQL knowledge and a
    good prompt structure” [Photo by [Adi Goldstein](https://unsplash.com/@adigold1?utm_source=medium&utm_medium=referral)
    on [Unsplash](https://unsplash.com/?utm_source=medium&utm_medium=referral)]
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: “每个人都可以通过SQL知识和良好的提示结构在BigQuery中进行编程和自然语言处理分析” [照片来源：[Adi Goldstein](https://unsplash.com/@adigold1?utm_source=medium&utm_medium=referral)于[Unsplash](https://unsplash.com/?utm_source=medium&utm_medium=referral)]
- en: Introduction
  id: totrans-8
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 介绍
- en: Since I started working with the Google Platform, Google has not stopped surprising
    me with its [BigQuery](https://cloud.google.com/bigquery) (BQ) features and development.
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: 自从我开始使用Google平台以来，Google一直没有停止用其[BigQuery](https://cloud.google.com/bigquery)（BQ）功能和开发给我带来惊喜。
- en: A real “wow” moment for me happened four years ago.
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: 四年前我经历了真正的“哇”时刻。
- en: I remember it like it was yesterday, and I was sitting in the front row at the
    [Big Data London](https://bigdataldn.com/) 2019 conference. Little did I know
    back then about the possibility of creating machine learning models using only
    BQ functions, or, better said, what BQ Machine Learning ([BQML](https://cloud.google.com/bigquery/docs/bqml-introduction))
    is.
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: 我记得就像昨天一样，当时我坐在[大数据伦敦](https://bigdataldn.com/)2019年会议的前排。那时我完全不知道只用BQ函数就能创建机器学习模型的可能性，或者更准确地说，不知道BQ机器学习（[BQML](https://cloud.google.com/bigquery/docs/bqml-introduction)）是什么。
- en: At least until the conference session, where the Google colleague presented
    how you can create [classification](https://cloud.google.com/bigquery/docs/logistic-regression-prediction),
    [clustering,](https://cloud.google.com/bigquery/docs/kmeans-tutorial) and [time-series
    forecasting](https://cloud.google.com/bigquery/docs/arima-single-time-series-forecasting-tutorial)
    models by simply using Google’s SQL.
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 至少在会议环节之前，Google的同事展示了如何仅使用Google的SQL创建[分类](https://cloud.google.com/bigquery/docs/logistic-regression-prediction)、[聚类](https://cloud.google.com/bigquery/docs/kmeans-tutorial)和[时间序列预测](https://cloud.google.com/bigquery/docs/arima-single-time-series-forecasting-tutorial)模型。
- en: The first thought that went through my mind back then was “You must be joking”.
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: 当时我脑海中闪过的第一个念头是“你一定是在开玩笑”。
- en: The second thought in my head was, “Does this mean that everyone who knows only
    SQL will be able to create machine learning models?”
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 我脑海中的第二个念头是：“这是否意味着所有只知道SQL的人都能创建机器学习模型？”
- en: As you can assume, the answer is “***yes”*** if you are using BigQuery as your
    data warehouse.
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: 正如你可以想象的那样，如果你使用BigQuery作为数据仓库，那么答案是“***是的***”。
- en: Now, after using the [BQML](https://cloud.google.com/bigquery/docs/bqml-introduction)
    functions for a while, the correct answer to the question listed above is “***maybe***.”
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，在使用了[**BQML**](https://cloud.google.com/bigquery/docs/bqml-introduction)函数一段时间后，上述问题的正确答案是“***也许***”。
- en: This means that even though the `[CREATE MODEL](https://cloud.google.com/bigquery/docs/reference/standard-sql/bigqueryml-syntax-create)`
    syntax is written in SQL, knowledge of machine learning modelling and statistics
    is still needed.
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: 这意味着即使`[CREATE MODEL](https://cloud.google.com/bigquery/docs/reference/standard-sql/bigqueryml-syntax-create)`语法是用SQL编写的，仍然需要了解机器学习建模和统计学知识。
- en: In other words, you still need to understand the math behind the available models
    for different types of machine learning use cases ([supervised](https://cloud.google.com/discover/what-is-supervised-learning#section-1)/[unsupervised](https://cloud.google.com/discover/what-is-unsupervised-learning)),
    conduct feature engineering, hyperparameter tuning and model evaluation tasks.
  id: totrans-18
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 换句话说，你仍然需要理解不同类型机器学习用例的模型背后的数学知识（[监督学习](https://cloud.google.com/discover/what-is-supervised-learning#section-1)/[无监督学习](https://cloud.google.com/discover/what-is-unsupervised-learning)），进行特征工程、超参数调整和模型评估任务。
- en: Fast forward to the year 2023, and BigQuery is further amazing me with its new
    features.
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: 快进到2023年，BigQuery通过其新功能进一步让我惊叹。
- en: This time, we are talking about the new generative AI BigQuery machine learning
    functions.
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: 这一次，我们讨论的是新的生成性AI BigQuery机器学习函数。
- en: With these new functions, data engineers and analysts are able to perform generative
    natural language tasks on textual data stored in BQ tables with a few query lines.
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: 利用这些新功能，数据工程师和分析师可以在BQ表中存储的文本数据上执行生成性自然语言任务，只需几行查询代码。
- en: Hence, the goal of this blog post is to showcase the new analytical advances
    of BQ in generative AI, with a focus on one function**—the** [***GENERATE_TEXT***](https://cloud.google.com/bigquery/docs/generate-text-tutorial)**function.**
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，本博客文章的目标是展示BQ在生成性AI中的新分析进展，重点介绍一个功能**—** [***GENERATE_TEXT***](https://cloud.google.com/bigquery/docs/generate-text-tutorial)**功能。**
- en: About the GENERATE_TEXT function
  id: totrans-23
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 关于GENERATE_TEXT函数
- en: 'The main idea behind the *GENERATE_TEXT* function is to assist data professionals
    with the following tasks using only SQL and prompt instructions in BigQuery [[1](https://cloud.google.com/bigquery/docs/reference/standard-sql/bigqueryml-syntax-generate-text#:~:text=GENERATE_TEXT%20function,%20which%20lets%20you,Sentiment%20Analysis)]:'
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: '*GENERATE_TEXT*函数的主要思想是通过BigQuery中的SQL和提示指令来协助数据专业人员完成以下任务[[1](https://cloud.google.com/bigquery/docs/reference/standard-sql/bigqueryml-syntax-generate-text#:~:text=GENERATE_TEXT%20function,%20which%20lets%20you,Sentiment%20Analysis)]：'
- en: '***Classification***'
  id: totrans-25
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '***分类***'
- en: '***Sentiment Analysis***'
  id: totrans-26
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '***情感分析***'
- en: '***Entity extraction***'
  id: totrans-27
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '***实体提取***'
- en: '***Extractive Question Answering***'
  id: totrans-28
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '***提取式问答***'
- en: '***Summarization***'
  id: totrans-29
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '***总结***'
- en: '***Re-writing text in a different style***'
  id: totrans-30
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '***以不同风格重写文本***'
- en: '***Ad copy generation***'
  id: totrans-31
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '***广告文案生成***'
- en: '***Concept ideation***'
  id: totrans-32
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '***概念构思***'
- en: In other words, the function can perform generative natural language tasks on
    textual attributes stored in BQ by using the [Vertex AI](https://cloud.google.com/vertex-ai)
    `[text-bison](https://cloud.google.com/vertex-ai/docs/generative-ai/model-reference/text)`
    natural language [foundation model](https://cloud.google.com/vertex-ai/docs/generative-ai/learn/models#foundation_models)
    [[1](https://cloud.google.com/bigquery/docs/reference/standard-sql/bigqueryml-syntax-generate-text#:~:text=GENERATE_TEXT%20function,%20which%20lets%20you,Sentiment%20Analysis)].
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: 换句话说，该函数可以利用[Vertex AI](https://cloud.google.com/vertex-ai) `[text-bison](https://cloud.google.com/vertex-ai/docs/generative-ai/model-reference/text)`自然语言[基础模型](https://cloud.google.com/vertex-ai/docs/generative-ai/learn/models#foundation_models)
    [[1](https://cloud.google.com/bigquery/docs/reference/standard-sql/bigqueryml-syntax-generate-text#:~:text=GENERATE_TEXT%20function,%20which%20lets%20you,Sentiment%20Analysis)]在BQ中对存储的文本属性执行生成性自然语言任务。
- en: 'It works in the following way [[1](https://cloud.google.com/bigquery/docs/reference/standard-sql/bigqueryml-syntax-generate-text#:~:text=GENERATE_TEXT%20function,%20which%20lets%20you,Sentiment%20Analysis)]:'
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: 它的工作原理如下[[1](https://cloud.google.com/bigquery/docs/reference/standard-sql/bigqueryml-syntax-generate-text#:~:text=GENERATE_TEXT%20function,%20which%20lets%20you,Sentiment%20Analysis)]：
- en: '***First***, it sends requests to a BigQuery ML remote model representing a
    Vertex AI `text-bison` natural language foundation model (LLM).'
  id: totrans-35
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '***首先***，它向代表Vertex AI `text-bison`自然语言基础模型（LLM）的BigQuery ML远程模型发送请求。'
- en: '***Then***, it returns the response with defined input parameters.'
  id: totrans-36
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '***然后***，它返回带有定义输入参数的响应。'
- en: This means that different *function parameters* and the *input prompt design*
    (prompt instructions for analysis) affect the LLM’s response.
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: 这意味着不同的*函数参数*和*输入提示设计*（分析的提示指令）会影响LLM的响应。
- en: 'With this said, the following function-specific parameters can be passed to
    the *GENERATE_TEXT* function and affect the response quality [[1](https://cloud.google.com/bigquery/docs/reference/standard-sql/bigqueryml-syntax-generate-text#:~:text=GENERATE_TEXT%20function,%20which%20lets%20you,Sentiment%20Analysis)]:'
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: 说到这里，可以将以下函数特定参数传递给 *GENERATE_TEXT* 函数，并影响响应质量 [[1](https://cloud.google.com/bigquery/docs/reference/standard-sql/bigqueryml-syntax-generate-text#:~:text=GENERATE_TEXT%20function,%20which%20lets%20you,Sentiment%20Analysis)]：
- en: '**#1:** `model` [`STRING`] → specifies the name of a remote model that uses
    one of the `text-bison` Vertex AI LLMs.'
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: '**#1:** `model` [`STRING`] → 指定使用 `text-bison` Vertex AI LLMs 之一的远程模型的名称。'
- en: '**#2:** `query_statement` [`STRING`] → specifies the SQL query that is used
    to generate the prompt data.'
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: '**#2:** `query_statement` [`STRING`] → 指定用于生成提示数据的 SQL 查询。'
- en: '**#3:** `max_output_tokens` [`INT64`] → sets the maximum number of tokens that
    the model outputs. For shorter responses, the lower value can be specified.'
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: '**#3:** `max_output_tokens` [`INT64`] → 设置模型输出的最大 token 数量。对于较短的响应，可以指定较低的值。'
- en: '***Note***: A token might be smaller than a word and is approximately four
    characters.'
  id: totrans-42
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '***注意***: 一个 token 可能比一个词小，约为四个字符。'
- en: '**#4:** `temperature` [`FLOAT64`] → argument in the range`[0.0,1.0]` that is
    used for sampling during the response generation, which occurs when `top_k` and
    `top_p` are applied.'
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: '**#4:** `temperature` [`FLOAT64`] → 范围在`[0.0,1.0]`内的参数，用于在响应生成期间进行采样，当 `top_k`
    和 `top_p` 被应用时会发生采样。'
- en: '***Note:*** The argument presents the degree of randomness in token selection,
    i.e., the lower values are good for prompts that require a more deterministic
    response, while higher values can lead to more diverse results.'
  id: totrans-44
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '***注意：*** 该参数表示 token 选择的随机程度，即，较低的值适用于需要更确定性响应的提示，而较高的值可能导致更具多样性的结果。'
- en: '**#5:** `top_k` [`FLOAT64`] → argument in the range`[1,40]` that changes how
    the model selects tokens for output.'
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: '**#5:** `top_k` [`FLOAT64`] → 范围在`[1,40]`内的参数，决定模型如何选择输出的 token。'
- en: '***Note:*** To get fewer random responses, lower values should be specified.'
  id: totrans-46
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '***注意：*** 为了获得更少的随机响应，应指定较低的值。'
- en: '**#6:** `top_p` [`FLOAT64`] → argument in the range`[0.0,1.0]` that changes
    how the model selects tokens for output.'
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: '**#6:** `top_p` [`FLOAT64`] → 范围在`[0.0,1.0]`内的参数，决定模型如何选择输出的 token。'
- en: '***Note:*** To get fewer random responses, lower values should be specified.
    Tokens are selected from the most probable (based on the`top_k` value) to the
    least probable until the sum of their probabilities equals the `top_p` value.'
  id: totrans-48
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '***注意：*** 为了获得更少的随机响应，应指定较低的值。 Tokens 从最可能的（基于 `top_k` 值）到最不可能的进行选择，直到它们的概率总和等于
    `top_p` 值。'
- en: After we understand the purpose of the function and the role of each parameter,
    we can start to demo how the BigQuery *GENERATE_TEXT* function *c*an be used.
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: 在了解了函数的目的和每个参数的作用之后，我们可以开始演示如何使用 BigQuery 的 *GENERATE_TEXT* 函数。
- en: The 4-step methodology for using the function
  id: totrans-50
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 使用该函数的 4 步方法
- en: This section will present four methodological steps for testing the generative
    AI function *GENERATE_TEXT*.
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: 本节将介绍测试生成 AI 功能*GENERATE_TEXT*的四个方法步骤。
- en: '![](../Images/75f192b921bf431562d0830f63059cb9.png)'
  id: totrans-52
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/75f192b921bf431562d0830f63059cb9.png)'
- en: GENERATE_TEXT function workflow [Image by author]
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: GENERATE_TEXT 函数工作流程 [图片由作者提供]
- en: 'In summary, the methodology consists of:'
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: 总的来说，该方法包括：
- en: Generation of the small mockup dataset using ChatGPT and exporting it to a Google
    Sheets document.
  id: totrans-55
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用 ChatGPT 生成小型模拟数据集并将其导出到 Google Sheets 文档中。
- en: Creation of the BigQuery dataset on top of the Google Sheets document.
  id: totrans-56
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 Google Sheets 文档的基础上创建 BigQuery 数据集。
- en: Setting up the connection between Google service Vertex AI and BQ in order to
    use a remote generative AI model.
  id: totrans-57
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 设置 Google 服务 Vertex AI 和 BQ 之间的连接，以便使用远程生成 AI 模型。
- en: Hands-on use-case examples for testing function *GENERATE_TEXT* on top of the
    mockup dataset in BigQuery.
  id: totrans-58
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 BigQuery 的模拟数据集上测试 *GENERATE_TEXT* 函数的实际用例示例。
- en: More context for every step is shown in the subsections below.
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: 每一步的更多背景信息请参见下面的子节。
- en: '*Step 1:* ***Generate a mockup dataset using ChatGPT***'
  id: totrans-60
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: '*步骤 1:* ***使用 ChatGPT 生成模拟数据集***'
- en: As I didn’t have a real-life dataset, I decided to create a mockup dataset for
    testing purposes.
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: 由于我没有现实生活中的数据集，我决定创建一个用于测试目的的模拟数据集。
- en: 'For this, I used ChatGPT by entering the following prompt text:'
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: 为此，我使用 ChatGPT 输入了以下提示文本：
- en: '*“I would need to automatically generate customer reviews for 50 different
    imaginary hair products.*'
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: '*“我需要为 50 种不同的虚构头发产品自动生成客户评价。*'
- en: '*For each product, I would need 2 positive, 2 negative, and 1 neutral review.*'
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: '*对于每个产品，我需要 2 条正面评论、2 条负面评论和 1 条中性评论。*'
- en: '*In addition, I would expect reviews to be at least 4 sentences long and contain
    different information: product name, location of the store where the product was
    bought, and price of the product.*'
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: '*此外，我希望评论至少有 4 句话，并包含不同的信息：产品名称、购买产品的商店位置和产品价格。*'
- en: '*In negative reviews, please include different reasons, like product quality
    issues, price issues, and delivery issues.”*'
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: '*在负面评论中，请包括不同的原因，如产品质量问题、价格问题和配送问题。*'
- en: 'The outcome was a small dataset table with five attributes (previewed in the
    image below):'
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: 结果是一个小型数据集表，包含五个属性（下图预览）：
- en: '***product_name —*** contains values of the fake product names,'
  id: totrans-68
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '***product_name —*** 包含虚假产品名称的值，'
- en: '***review_type —*** contains the review sentiment type (positive, negative
    or neutral),'
  id: totrans-69
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '***review_type —*** 包含评论情感类型（正面、负面或中性），'
- en: '***store_location —*** contains the random city and state name,'
  id: totrans-70
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '***store_location —*** 包含随机的城市和州名称，'
- en: '***product_price —*** contains the random product price in dollars***,*** and'
  id: totrans-71
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '***product_price —*** 包含随机的美元产品价格***,*** 和'
- en: '***product_review—***contains the five-sentence-long fake product review text.'
  id: totrans-72
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '***product_review—*** 包含五句话长的虚假产品评论文本。'
- en: '![](../Images/fa3e3249317a2d778593bff93708693a.png)'
  id: totrans-73
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/fa3e3249317a2d778593bff93708693a.png)'
- en: BigQuery mockup dataset preview [Image by author]
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: BigQuery 模拟数据集预览 [作者提供的图片]
- en: The complete dataset can be found in the Git repository [here](https://github.com/CassandraOfTroy/bigquery-generate_text-AI_function/blob/main/product_review_table%20-%20ChatGPT_Mockup_Reviews.csv)
    [4].
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
  zh: 完整数据集可以在 Git 仓库中找到 [这里](https://github.com/CassandraOfTroy/bigquery-generate_text-AI_function/blob/main/product_review_table%20-%20ChatGPT_Mockup_Reviews.csv)
    [4]。
- en: After preparing the mockup dataset and storing it in Google Sheets, the next
    step is transferring it to BigQuery.
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: 在准备好模拟数据集并将其存储在 Google Sheets 后，下一步是将其转移到 BigQuery。
- en: '*Step* ***2:*** *Create a BQ table on top of the Google Sheet document*'
  id: totrans-77
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: '*步骤* ***2:*** *在 Google Sheet 文档上创建 BQ 表*'
- en: My go-to method when I have a small dataset, which I need to tweak or change
    often manually, is to create a BigQuery table on top of the editable Google Sheet
    document.
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: 当我有一个小型数据集，需要频繁手动调整或更改时，我的首选方法是创建一个 BigQuery 表，基于可编辑的 Google Sheet 文档。
- en: 'To do so, the following substeps are needed [[2](https://supermetrics.com/blog/bigquery-query-google-sheets?utm_source=google&utm_medium=cpc&utm_campaign=G_CEU_PPC_Prod_GS&utm_adgroup=g-sheets-dsa&utm_category=search-nonbrand&utm_term=&location=&google_ads_redirect=true&hsa_acc=9495023515&hsa_cam=20418026394&hsa_grp=151612487469&hsa_ad=668219731129&hsa_src=g&hsa_tgt=dsa-1517773330948&hsa_kw=&hsa_mt=&hsa_net=adwords&hsa_ver=3&gad_source=1&gclid=CjwKCAiAmZGrBhAnEiwAo9qHiUUYA_iYfKl6S-mCF7nbb7e2Xzia1ny9M5OwHTw2CQGwai6ZL4CY9BoC1BMQAvD_BwE)]:'
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
  zh: 为此，需要以下子步骤 [[2](https://supermetrics.com/blog/bigquery-query-google-sheets?utm_source=google&utm_medium=cpc&utm_campaign=G_CEU_PPC_Prod_GS&utm_adgroup=g-sheets-dsa&utm_category=search-nonbrand&utm_term=&location=&google_ads_redirect=true&hsa_acc=9495023515&hsa_cam=20418026394&hsa_grp=151612487469&hsa_ad=668219731129&hsa_src=g&hsa_tgt=dsa-1517773330948&hsa_kw=&hsa_mt=&hsa_net=adwords&hsa_ver=3&gad_source=1&gclid=CjwKCAiAmZGrBhAnEiwAo9qHiUUYA_iYfKl6S-mCF7nbb7e2Xzia1ny9M5OwHTw2CQGwai6ZL4CY9BoC1BMQAvD_BwE)]：
- en: '***Substep #1: Create a dataset and table in the BigQuery project by specifying
    the file location and format***'
  id: totrans-80
  prefs: []
  type: TYPE_NORMAL
  zh: '***子步骤 #1: 在 BigQuery 项目中创建数据集和表，通过指定文件位置和格式***'
- en: The `CREATE TABLE` option located in the top-right corner of the BigQuery environment
    should be selected for the creation of the new dataset and table. Values marked
    with a star sign (*******) need to be entered, as shown in the image below.
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: 应选择 BigQuery 环境右上角的 `CREATE TABLE` 选项来创建新数据集和表。需要输入标有星号（*******) 的值，如下图所示。
- en: '![](../Images/a509be96d50efc83bb4e722d980288b1.png)'
  id: totrans-82
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/a509be96d50efc83bb4e722d980288b1.png)'
- en: Creating a BQ dataset and table on top of the mockup dataset in Google Sheets
    [Image by author]
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
  zh: 在 Google Sheets 中的模拟数据集上创建 BQ 数据集和表 [作者提供的图片]
- en: As visible from the image above, the name of the newly created BQ dataset is
    `hair_shop` , while the name of the newly created table is `product_review_table.`
  id: totrans-84
  prefs: []
  type: TYPE_NORMAL
  zh: 从上图可以看出，新创建的 BQ 数据集名称为 `hair_shop` ，新创建的表名称为 `product_review_table`。
- en: 'Important note to keep in mind:'
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: 需要注意的重要事项：
- en: In case you don’t want to define the table schema in the `Schema` section shown
    in the image above, all imported attributes from Google Sheets will have the datatype
    `STRING` by default.
  id: totrans-86
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果你不想在上图所示的 `Schema` 部分定义表模式，则从 Google Sheets 导入的所有属性默认的数据类型为 `STRING`。
- en: '***Substep #2: Query the mockup dataset in the BQ***'
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
  zh: '***子步骤 #2: 在 BQ 中查询模拟数据集***'
- en: The second substep is to simply explore the `hair_shop.product_review_table`dataset
    directly in BigQuery.
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: 第二个子步骤是直接在 BigQuery 中探索 `hair_shop.product_review_table` 数据集。
- en: '![](../Images/28426c2e311e275229f48f9e0d88ef1c.png)'
  id: totrans-89
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/28426c2e311e275229f48f9e0d88ef1c.png)'
- en: Query the mockup dataset in BQ [Image by author]
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: 在 BQ 中查询模拟数据集 [作者图片]
- en: Now that you can access your mockup dataset in BQ, it’s time to connect the
    generative AI remote model to it.
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
  zh: 现在你可以访问 BQ 中的模拟数据集，是时候将生成 AI 远程模型连接到它了。
- en: '*Step* ***3:*** *Connect the Vertex AI service to BQ*'
  id: totrans-92
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: '*步骤* ***3:*** *将 Vertex AI 服务连接到 BQ*'
- en: A detailed explanation that served as a guideline for this step can be found
    in Google’s documentation [here](https://cloud.google.com/bigquery/docs/generate-text-tutorial#create_a_connection)
    [3].
  id: totrans-93
  prefs: []
  type: TYPE_NORMAL
  zh: 详细说明该步骤的指南可以在 Google 的文档 [这里](https://cloud.google.com/bigquery/docs/generate-text-tutorial#create_a_connection)
    [3] 中找到。
- en: 'To summarize the provided Google tutorial, the three main substeps for connecting
    the Vertex AI to BQ are:'
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: 总结提供的 Google 教程，将 Vertex AI 连接到 BQ 的三个主要子步骤是：
- en: '***Substep #1:*** Create a cloud resource connection from BigQuery to get the
    connection’s service account.'
  id: totrans-95
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '***子步骤 #1:*** 从 BigQuery 创建一个云资源连接，以获取连接的服务帐户。'
- en: '***Substep #2:*** Grant the connection’s service account an appropriate role
    to access the Vertex AI service.'
  id: totrans-96
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '***子步骤 #2:*** 授予连接的服务帐户适当的角色，以访问 Vertex AI 服务。'
- en: '***Substep #3:*** Create the `text-bison` remote model that represents a hosted
    Vertex AI large language model in the created BigQuery dataset `hair_shop`.'
  id: totrans-97
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '***子步骤 #3:*** 创建代表托管 Vertex AI 大型语言模型的 `text-bison` 远程模型，在创建的 BigQuery 数据集
    `hair_shop` 中。'
- en: Once these substeps are concluded, a new object `Model` will be visible within
    the `hair_shop` dataset.
  id: totrans-98
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦这些子步骤完成，新的对象 `Model` 将在 `hair_shop` 数据集中可见。
- en: '![](../Images/0bc518332fed9cee2cf5b52cdcfa4467.png)'
  id: totrans-99
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/0bc518332fed9cee2cf5b52cdcfa4467.png)'
- en: A preview of the new database object `Model` in the selected BQ dataset [Image
    by author]
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
  zh: 选定 BQ 数据集中 `Model` 的新数据库对象的预览 [作者图片]
- en: Finally, the magic can begin, and we can start using the *GENERATE_TEXT* function.
  id: totrans-101
  prefs: []
  type: TYPE_NORMAL
  zh: 最后，魔法可以开始了，我们可以开始使用 *GENERATE_TEXT* 函数。
- en: '*Step* ***4: Use the*** `*GENERATE_TEXT*` *function in BQ*'
  id: totrans-102
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: '*步骤* ***4: 使用*** `*GENERATE_TEXT*` *函数在 BQ 中*'
- en: 'In this step, we will focus on two use cases for testing the function usage:
    ***sentiment*** ***analysis*** and ***entity extraction***.'
  id: totrans-103
  prefs: []
  type: TYPE_NORMAL
  zh: 在此步骤中，我们将关注两个用于测试函数使用的用例：***情感分析*** 和 ***实体提取***。
- en: The reason for selecting these two use cases is that we already created two
    attributes in the input mockup dataset (`review_type` and `product_review)`which
    can be used to test the function results. With function results, we mean validating
    the accuracy of the AI-generated values within the new attributes.
  id: totrans-104
  prefs: []
  type: TYPE_NORMAL
  zh: 选择这两个用例的原因是我们已经在输入模拟数据集中创建了两个属性（`review_type` 和 `product_review`），可以用来测试函数结果。函数结果指的是验证
    AI 生成的值在新属性中的准确性。
- en: Let’s now present the concrete input-output flow for generating the new attributes
    for each use case.
  id: totrans-105
  prefs: []
  type: TYPE_NORMAL
  zh: 现在让我们展示生成每个用例的新属性的具体输入输出流程。
- en: '***Sentiment analysis example***'
  id: totrans-106
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: '***情感分析示例***'
- en: The query for sentiment analysis is shown in the code block below.
  id: totrans-107
  prefs: []
  type: TYPE_NORMAL
  zh: 情感分析的查询显示在下面的代码块中。
- en: '[PRE0]'
  id: totrans-108
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: 'The breakdown of the query is as follows:'
  id: totrans-109
  prefs: []
  type: TYPE_NORMAL
  zh: 查询的详细信息如下：
- en: '***Outer SELECT statement:***'
  id: totrans-110
  prefs: []
  type: TYPE_NORMAL
  zh: '***外部 SELECT 语句:***'
- en: The outer query selects the newly generated string attribute `review_sentiment`
    obtained from LLM by applying the `ML.GENERATE_TEXT` function to the `hair_shop.llm_model`
    object.
  id: totrans-111
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 外部查询从 LLM 获取的新生成的字符串属性 `review_sentiment` 通过将 `ML.GENERATE_TEXT` 函数应用于 `hair_shop.llm_model`
    对象来选择。
- en: In addition, it selects all other columns from the input dataset `hair_shop.product_review_table`.
  id: totrans-112
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 此外，它还选择了输入数据集 `hair_shop.product_review_table` 中的所有其他列。
- en: '***Inner SELECT statement:***'
  id: totrans-113
  prefs: []
  type: TYPE_NORMAL
  zh: '***内部 SELECT 语句:***'
- en: The inner query statement selects a `CONCAT` function with a specific prompt
    instruction to each `product_review` from the input dataset `hair_shop.product_review_table`.
  id: totrans-114
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 内部查询语句选择了一个 `CONCAT` 函数，并对每个来自输入数据集 `hair_shop.product_review_table` 的 `product_review`
    应用特定的提示指令。
- en: In other words, the prompt instruction guides the model to extract a one-word
    sentiment (positive, negative, or neutral) from the `product_review` attribute.
  id: totrans-115
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 换句话说，提示指令引导模型从 `product_review` 属性中提取一个单词的情感（积极、消极或中立）。
- en: '***STRUCT for model parameters:***'
  id: totrans-116
  prefs: []
  type: TYPE_NORMAL
  zh: '***模型参数的 STRUCT:***'
- en: '`temperature: 0.1` - a lower value of 0.1 will lead to more predictable text
    generation.'
  id: totrans-117
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`temperature: 0.1` - 较低的值 0.1 将导致更可预测的文本生成。'
- en: '`max_output_tokens: 1`- limits the model''s output to 1 token (sentiment analysis
    outcome can be either positive, negative, or neutral).'
  id: totrans-118
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`max_output_tokens: 1` - 将模型的输出限制为1个标记（情感分析结果可以是积极的、消极的或中性的）。'
- en: '`top_p: 0.1` is influencing the likelihood distribution of the next token.'
  id: totrans-119
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`top_p: 0.1` 影响下一个标记的可能性分布。'
- en: '`top_k: 1` is restricting the number of top tokens considered.'
  id: totrans-120
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`top_k: 1` 限制考虑的前几个标记的数量。'
- en: 'After triggering the presented query, the first five outcomes were analysed:'
  id: totrans-121
  prefs: []
  type: TYPE_NORMAL
  zh: 在触发所示查询后，对前五个结果进行了分析：
- en: '![](../Images/72c6a4277dbb9312eb9b01b097525f33.png)'
  id: totrans-122
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/72c6a4277dbb9312eb9b01b097525f33.png)'
- en: The sentiment analysis outcome of the GENERATE_TEXT function [Image by author]
  id: totrans-123
  prefs: []
  type: TYPE_NORMAL
  zh: GENERATE_TEXT函数的情感分析结果 [图片由作者提供]
- en: As visible from the image, the newly generated attribute named `review_sentiment`
    is added to the mockup dataset. The values of the `review_sentiment` attribute
    were compared to the values in the `review_type` attribute, and their records
    matched.
  id: totrans-124
  prefs: []
  type: TYPE_NORMAL
  zh: 从图像中可以看到，新生成的属性`review_sentiment`被添加到模拟数据集中。`review_sentiment`属性的值与`review_type`属性的值进行了比较，并且它们的记录匹配。
- en: Following the sentiment analysis outcome, the aim was to identify the reason
    behind every sentiment, i.e., to perform entity extraction.
  id: totrans-125
  prefs: []
  type: TYPE_NORMAL
  zh: 在情感分析结果之后，目标是识别每个情感背后的原因，即进行实体提取。
- en: '***Entity extraction example***'
  id: totrans-126
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: '***实体提取示例***'
- en: The query for entity extraction analysis is shown in the code block below.
  id: totrans-127
  prefs: []
  type: TYPE_NORMAL
  zh: 实体提取分析的查询在下面的代码块中显示。
- en: '[PRE1]'
  id: totrans-128
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: The breakdown of the query is analogous to the sentiment analysis query breakdown,
    except that the prompt instruction and model parameter values have been adjusted
    for entity extraction analysis.
  id: totrans-129
  prefs: []
  type: TYPE_NORMAL
  zh: 查询的分解与情感分析查询的分解类似，只是提示指令和模型参数值已调整为实体提取分析。
- en: 'After triggering the presented query, the first five outcomes were analysed:'
  id: totrans-130
  prefs: []
  type: TYPE_NORMAL
  zh: 在触发所示查询后，对前五个结果进行了分析：
- en: '![](../Images/3011b6722be6624291f5ed5515b21956.png)'
  id: totrans-131
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/3011b6722be6624291f5ed5515b21956.png)'
- en: The entity extraction analysis outcome of the GENERATE_TEXT function [Image
    by author]
  id: totrans-132
  prefs: []
  type: TYPE_NORMAL
  zh: GENERATE_TEXT函数的实体提取分析结果 [图片由作者提供]
- en: The results of the `review_reason` attribute were compared to the values of
    the `product_review` attribute. Like in the previous example, the outcomes were
    matching.
  id: totrans-133
  prefs: []
  type: TYPE_NORMAL
  zh: '`review_reason`属性的结果与`product_review`属性的值进行了比较。与之前的示例一样，结果匹配。'
- en: And here you have it, folks. This was the tutorial that showed the two use cases
    for creating new attributes from unstructured text by using only SQL and prompt
    text. All with the aid of the new generative AI function in BigQuery.
  id: totrans-134
  prefs: []
  type: TYPE_NORMAL
  zh: 各位，这就是了。这个教程展示了如何仅通过使用SQL和提示文本从非结构化文本中创建新属性的两个用例。所有这些都借助BigQuery中新生成的AI功能完成。
- en: We can now share a short summary of this blog post.
  id: totrans-135
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，我们可以分享这篇博客文章的简要总结。
- en: Conclusion
  id: totrans-136
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 结论
- en: The goal of this blog post was to present the usage of the new `GENERATE_TEXT`
    ML function in BigQuery.
  id: totrans-137
  prefs: []
  type: TYPE_NORMAL
  zh: 这篇博客文章的目标是介绍BigQuery中新的`GENERATE_TEXT` ML功能的使用。
- en: With this function, data professionals who are SQL-oriented now have options
    to create new insights (attributes) from the unstructured text stored directly
    in the BQ data warehouse table.
  id: totrans-138
  prefs: []
  type: TYPE_NORMAL
  zh: 通过此功能，SQL导向的数据专业人士现在可以从直接存储在BQ数据仓库表中的非结构化文本中创建新的洞察（属性）。
- en: In other words, the function enables data professionals to leverage [NLP machine
    learning](https://en.wikipedia.org/wiki/Natural_language_processing) tasks directly
    within the BigQuery environment.
  id: totrans-139
  prefs: []
  type: TYPE_NORMAL
  zh: 换句话说，该功能使数据专业人士能够直接在BigQuery环境中利用[NLP机器学习](https://en.wikipedia.org/wiki/Natural_language_processing)任务。
- en: Furthermore, it overcomes the knowledge gap between the data professionals who
    are developing new analytical insights using Python and the ones who are more
    database-oriented.
  id: totrans-140
  prefs: []
  type: TYPE_NORMAL
  zh: 此外，它弥合了使用Python开发新分析洞察的数据专业人士与那些更注重数据库的专业人士之间的知识差距。
- en: 'Finally, I will conclude this blog post with one saying: “Everyone can code
    and do NLP analysis in BigQuery with SQL knowledge and a good prompt structure.”'
  id: totrans-141
  prefs: []
  type: TYPE_NORMAL
  zh: 最后，我将以一句话总结这篇博客文章：“每个人都可以使用SQL知识和良好的提示结构在BigQuery中进行编码和执行NLP分析。”
- en: Thank you for reading my post. Stay connected for more stories on [Medium](https://medium.com/@martosi/subscribe)
    and [Linkedin](https://www.linkedin.com/in/martosi/).
  id: totrans-142
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 感谢阅读我的文章。请关注[Medium](https://medium.com/@martosi/subscribe)和[Linkedin](https://www.linkedin.com/in/martosi/)以获取更多故事。
- en: Knowledge references
  id: totrans-143
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 知识参考
- en: '[[1](https://cloud.google.com/bigquery/docs/reference/standard-sql/bigqueryml-syntax-generate-text#:~:text=GENERATE_TEXT%20function,%20which%20lets%20you,Sentiment%20Analysis)]
    Google article “The ML.GENERATE_TEXT function”, accessed November 10th 2023, [https://cloud.google.com/bigquery/docs/reference/standard-sql/bigqueryml-syntax-generate-text](https://cloud.google.com/bigquery/docs/reference/standard-sql/bigqueryml-syntax-generate-text)'
  id: totrans-144
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[[1](https://cloud.google.com/bigquery/docs/reference/standard-sql/bigqueryml-syntax-generate-text#:~:text=GENERATE_TEXT%20function,%20which%20lets%20you,Sentiment%20Analysis)]
    Google文章《ML.GENERATE_TEXT函数》，访问时间：2023年11月10日，[https://cloud.google.com/bigquery/docs/reference/standard-sql/bigqueryml-syntax-generate-text](https://cloud.google.com/bigquery/docs/reference/standard-sql/bigqueryml-syntax-generate-text)'
- en: '[[2](https://supermetrics.com/blog/bigquery-query-google-sheets?utm_source=google&utm_medium=cpc&utm_campaign=G_CEU_PPC_Prod_GS&utm_adgroup=g-sheets-dsa&utm_category=search-nonbrand&utm_term=&location=&google_ads_redirect=true&hsa_acc=9495023515&hsa_cam=20418026394&hsa_grp=151612487469&hsa_ad=668219731129&hsa_src=g&hsa_tgt=dsa-1517773330948&hsa_kw=&hsa_mt=&hsa_net=adwords&hsa_ver=3&gad_source=1&gclid=CjwKCAiAmZGrBhAnEiwAo9qHiUUYA_iYfKl6S-mCF7nbb7e2Xzia1ny9M5OwHTw2CQGwai6ZL4CY9BoC1BMQAvD_BwE)]
    Supermetrics article “Google Sheets to BigQuery: a step-by-step guide”, accessed
    November 22nd 2023, [https://t.ly/ZZ2lN](https://t.ly/ZZ2lN)'
  id: totrans-145
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[[2](https://supermetrics.com/blog/bigquery-query-google-sheets?utm_source=google&utm_medium=cpc&utm_campaign=G_CEU_PPC_Prod_GS&utm_adgroup=g-sheets-dsa&utm_category=search-nonbrand&utm_term=&location=&google_ads_redirect=true&hsa_acc=9495023515&hsa_cam=20418026394&hsa_grp=151612487469&hsa_ad=668219731129&hsa_src=g&hsa_tgt=dsa-1517773330948&hsa_kw=&hsa_mt=&hsa_net=adwords&hsa_ver=3&gad_source=1&gclid=CjwKCAiAmZGrBhAnEiwAo9qHiUUYA_iYfKl6S-mCF7nbb7e2Xzia1ny9M5OwHTw2CQGwai6ZL4CY9BoC1BMQAvD_BwE)]
    Supermetrics文章《Google Sheets到BigQuery：逐步指南》，访问时间：2023年11月22日，[https://t.ly/ZZ2lN](https://t.ly/ZZ2lN)'
- en: '[[3](https://cloud.google.com/bigquery/docs/generate-text-tutorial#create_a_connection)]
    Google tutorial “Generate text by using the ML.GENERATE_TEXT function”, section
    “Create a connection”, accessed November 10th 2023, [https://cloud.google.com/bigquery/docs/generate-text#generate_text](https://cloud.google.com/bigquery/docs/generate-text-tutorial#create_a_connection)'
  id: totrans-146
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[[3](https://cloud.google.com/bigquery/docs/generate-text-tutorial#create_a_connection)]
    Google教程《使用ML.GENERATE_TEXT函数生成文本》，章节《创建连接》，访问时间：2023年11月10日，[https://cloud.google.com/bigquery/docs/generate-text#generate_text](https://cloud.google.com/bigquery/docs/generate-text-tutorial#create_a_connection)'
- en: '[[4](https://github.com/CassandraOfTroy/bigquery-generate_text-AI_function/tree/main)]
    Git repository by author: [https://github.com/CassandraOfTroy/bigquery-generate_text-AI_function/tree/main](https://github.com/CassandraOfTroy/bigquery-generate_text-AI_function/tree/main)'
  id: totrans-147
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[[4](https://github.com/CassandraOfTroy/bigquery-generate_text-AI_function/tree/main)]
    作者的Git代码库：[https://github.com/CassandraOfTroy/bigquery-generate_text-AI_function/tree/main](https://github.com/CassandraOfTroy/bigquery-generate_text-AI_function/tree/main)'
