- en: How Can AI Be Used to Predict AND Explain Student Performance?
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 原文：[https://towardsdatascience.com/beyond-grades-using-ai-to-forecast-and-explain-student-performance-23580747e8b0](https://towardsdatascience.com/beyond-grades-using-ai-to-forecast-and-explain-student-performance-23580747e8b0)
  id: totrans-1
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: Can AI be used to curb year repetition rates and improve education?
  id: totrans-2
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: '[](https://medium.com/@chrisgalea?source=post_page-----23580747e8b0--------------------------------)[![Christian
    Galea](../Images/1e4e32ce529f7694422f130897eb071b.png)](https://medium.com/@chrisgalea?source=post_page-----23580747e8b0--------------------------------)[](https://towardsdatascience.com/?source=post_page-----23580747e8b0--------------------------------)[![Towards
    Data Science](../Images/a6ff2676ffcc0c7aad8aaf1d79379785.png)](https://towardsdatascience.com/?source=post_page-----23580747e8b0--------------------------------)
    [Christian Galea](https://medium.com/@chrisgalea?source=post_page-----23580747e8b0--------------------------------)'
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
- en: ·Published in [Towards Data Science](https://towardsdatascience.com/?source=post_page-----23580747e8b0--------------------------------)
    ·27 min read·Sep 18, 2023
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
- en: --
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/c7ed926388535f0bf6b0c61eb4495e82.png)'
  id: totrans-6
  prefs: []
  type: TYPE_IMG
- en: Image by [Dids](https://www.pexels.com/@didsss/) on [Pexels](https://www.pexels.com/photo/photo-of-empty-class-room-2675061/)
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
- en: 👋 Introduction
  id: totrans-8
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Machine Learning (ML) has significantly transformed various industries by enabling
    computers to learn and make decisions from data. From recommending products on
    e-commerce websites to diagnosing medical conditions, the applications of ML and
    Artificial Intelligence (AI) are as diverse as they are impactful.
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
- en: 'ML is also highly useful when applied to audio, images, and videos. Examples
    include face recognition and image quality improvement, the latter of which was
    covered in two of my previous articles:'
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
- en: '[](/what-is-image-super-resolution-and-why-do-we-need-it-9c3bd9dc233e?source=post_page-----23580747e8b0--------------------------------)
    [## What is ‘Image Super Resolution’, and why do we need it?'
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
- en: An introduction to the field, its applications, and current issues
  id: totrans-12
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: 'towardsdatascience.com](/what-is-image-super-resolution-and-why-do-we-need-it-9c3bd9dc233e?source=post_page-----23580747e8b0--------------------------------)
    [](/image-super-resolution-an-overview-of-the-current-state-of-research-94294a77ed5a?source=post_page-----23580747e8b0--------------------------------)
    [## Image Super-Resolution: An Overview of the Current State of Research'
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
- en: A review of popular techniques and remaining challenges
  id: totrans-14
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: towardsdatascience.com](/image-super-resolution-an-overview-of-the-current-state-of-research-94294a77ed5a?source=post_page-----23580747e8b0--------------------------------)
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
- en: The recent advent of Large Language Models (LLMs) such as [ChatGPT](https://chat.openai.com/)
    has demonstrated the power of ML for Natural Language Processing (NLP), another
    branch of AI where the task is to equip computers with the ability to understand
    text and speech with the same capabilities as humans — and sometimes, perhaps
    even better than some humans…
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: 最近，大型语言模型（LLMs）如 [ChatGPT](https://chat.openai.com/) 展示了 ML 在自然语言处理（NLP）中的强大能力，这是一种使计算机具备理解文本和语音的能力，与人类相当——有时，甚至比某些人类更强的能力……
- en: 'Different streams of AI can also be combined together when solving a problem.
    For instance, in a previous article, I used machine learning and ChatGPT to predict
    if a user of a mobile game app will stop playing in the coming days (a problem
    known as player churn):'
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: 在解决问题时，不同的 AI 领域也可以结合在一起。例如，在之前的一篇文章中，我使用了机器学习和 ChatGPT 来预测一个移动游戏应用的用户是否会在接下来的几天内停止玩游戏（这被称为玩家流失问题）：
- en: '[](/player-churn-rate-prediction-data-analysis-and-visualisation-part-1-12a9fdff9c10?source=post_page-----23580747e8b0--------------------------------)
    [## How to Predict Player Churn, with Some Help From ChatGPT'
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: '[](/player-churn-rate-prediction-data-analysis-and-visualisation-part-1-12a9fdff9c10?source=post_page-----23580747e8b0--------------------------------)
    [## 如何预测玩家流失，借助 ChatGPT 的一些帮助'
- en: Analyzing data and training models for player churn prediction, using a low-code
    platform
  id: totrans-19
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 使用低代码平台进行玩家流失预测的数据分析和模型训练
- en: towardsdatascience.com](/player-churn-rate-prediction-data-analysis-and-visualisation-part-1-12a9fdff9c10?source=post_page-----23580747e8b0--------------------------------)
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: towardsdatascience.com](/player-churn-rate-prediction-data-analysis-and-visualisation-part-1-12a9fdff9c10?source=post_page-----23580747e8b0--------------------------------)
- en: AI and ML also have many applications in education, which arguably forms the
    foundations of many aspects in our day-to-day life. After all, good education
    ensures that the generation of tomorrow will be able to lead and advance humanity.
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: AI 和 ML 在教育领域也有许多应用，这无疑构成了我们日常生活许多方面的基础。毕竟，良好的教育确保了明天的这一代能够引领和推动人类的进步。
- en: Despite its importance, I often feel that articles do not shed enough light
    on the applications of AI and ML in education, to instead focus on more eye-catching
    and clickbait-focused content. That’s why this article will be considering such
    a use-case, specifically how ML could be used to identify students who might be
    at risk of repeating a year due to academic difficulties or other influences such
    as socio-economic factors — and help to determine the reasons behind it.
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: 尽管其重要性，我常常觉得文章没有充分阐明 AI 和 ML 在教育中的应用，而是更侧重于引人注目和点击诱导的内容。这就是为什么本文将考虑这样一个用例，特别是
    ML 如何用于识别可能因学术困难或其他因素如社会经济因素而面临重读风险的学生——并帮助确定其背后的原因。
- en: Given that many students worldwide will soon be returning—and some have already
    returned — to their desks, this is also perhaps a rather timely article that could
    provide insights into how to leverage ML and AI to improve students’ education.
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: 鉴于全球许多学生即将返回——而一些学生已经返回——他们的学习桌前，这也许是一个相当及时的文章，可以提供关于如何利用 ML 和 AI 改善学生教育的见解。
- en: The implications of such predictive capabilities are vast. By identifying struggling
    students early on, schools could tailor their interventions to address specific
    needs and potentially avert the need for year repetition. This not only benefits
    individual students but also allows educational institutions to allocate resources
    more efficiently.
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 这种预测能力的意义是巨大的。通过及早识别出有困难的学生，学校可以针对具体需求量身定制干预措施，从而可能避免学生重读一年。这不仅有利于个别学生，还可以使教育机构更有效地分配资源。
- en: The insights drawn from these models could also facilitate a deeper understanding
    of the complex interplay between various factors influencing student performance.
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: 从这些模型中获得的见解还可以促进对影响学生表现的各种因素之间复杂相互作用的深入理解。
- en: 'The rest of this article will go through the thought process of a data scientist
    and how to interpret any findings, as follows:'
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: 本文将介绍数据科学家的思考过程以及如何解读任何发现，如下所示：
- en: '[🖥️ The Setup](#b7ec)'
  id: totrans-27
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[🖥️ 配置](#b7ec)'
- en: '[🗂️ The Dataset](#2302)'
  id: totrans-28
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[🗂️ 数据集](#2302)'
- en: '[🔍 Data Exploration](#da14)'
  id: totrans-29
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[🔍 数据探索](#da14)'
- en: '[🔮 Time for Some Predictions](#f3d8)'
  id: totrans-30
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[🔮 一些预测的时间](#f3d8)'
- en: '[💯 BONUS: Can we predict the actual grades instead?](#a192)'
  id: totrans-31
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[💯 奖励：我们可以预测实际成绩吗？](#a192)'
- en: '[⚠️ Ethical and Pedagogical Concerns](#6bfe)'
  id: totrans-32
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[⚠️ 伦理和教学关注](#6bfe)'
- en: '[🗒️Conclusions](#a3a9)'
  id: totrans-33
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[🗒️ 结论](#a3a9)'
- en: '[📚 References](#e2ad)'
  id: totrans-34
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[📚 参考文献](#e2ad)'
- en: 🖥️ The Setup
  id: totrans-35
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 🖥️ 配置
- en: As mentioned above, a low-code machine learning platform was used for churn
    prediction in [a previous article](https://medium.com/towards-data-science/player-churn-rate-prediction-data-analysis-and-visualisation-part-1-12a9fdff9c10).
    In this article, I will be using a different platform called [Dataiku](https://www.dataiku.com/),
    which also aims to make data science and machine learning easy — especially to
    those who may not be very familiar with programming languages such as Python.
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: 如上所述，之前的文章中使用了一个低代码机器学习平台进行流失预测 [a previous article](https://medium.com/towards-data-science/player-churn-rate-prediction-data-analysis-and-visualisation-part-1-12a9fdff9c10)。在这篇文章中，我将使用一个不同的平台
    [Dataiku](https://www.dataiku.com/)，该平台也旨在使数据科学和机器学习变得简单——特别是对那些可能不太熟悉像 Python
    这样的编程语言的人。
- en: A free tier is offered that actually offers most functions, although it needs
    to be installed locally on your own computer (which might be a good thing or a
    bad thing depending on how you see it).
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: 提供了一个免费层，实际上提供了大多数功能，尽管它需要在你自己的计算机上本地安装（这可能是好事也可能是坏事，取决于你的看法）。
- en: Do note that the Dataiku Science Studio (DSS) is only provided as an experimental
    version for testing purposes on [Windows](https://www.dataiku.com/product/get-started/windows/)
    and is not officially supported at the time of writing this article. A full list
    of warnings is available in the Dataiku documentation [here](https://doc.dataiku.com/dss/latest/installation/other/windows.html).
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: 请注意，Dataiku Science Studio (DSS) 仅作为实验版本提供用于测试目的，支持 [Windows](https://www.dataiku.com/product/get-started/windows/)，在撰写本文时尚未正式支持。完整的警告列表可以在
    Dataiku 文档 [这里](https://doc.dataiku.com/dss/latest/installation/other/windows.html)
    中找到。
- en: 'You should see something similar to this when you launch Dataiku DSS (but without
    the projects and items that I was working on):'
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: 当你启动 Dataiku DSS 时，你应该会看到类似这样的界面（但没有我正在处理的项目和条目）：
- en: '![](../Images/892d841474d593b870dc6b0202adf21c.png)'
  id: totrans-40
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/892d841474d593b870dc6b0202adf21c.png)'
- en: Home screen of Dataiku DSS. Image by author.
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: Dataiku DSS 的主屏幕。图片由作者提供。
- en: 🗂️ The Dataset
  id: totrans-42
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 🗂️ 数据集
- en: The dataset that we’ll be using is based on one available in the UCI Machine
    Learning Repository, named ‘Student Performance’ [1] having a CC BY 4.0 license.
    Many classical datasets used to demonstrate machine learning tools and applications
    are derived from the UCI repository, so it is a great source of data that should
    be considered alongside other platforms such as [Kaggle](https://www.kaggle.com/).
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将使用的数据集基于 UCI 机器学习库中的一个名为‘学生表现’ [1] 的数据集，拥有 CC BY 4.0 许可证。许多用于演示机器学习工具和应用的经典数据集都来源于
    UCI 库，因此这是一个值得与其他平台如 [Kaggle](https://www.kaggle.com/) 一起考虑的重要数据来源。
- en: '[](https://archive.ics.uci.edu/dataset/320/student+performance?source=post_page-----23580747e8b0--------------------------------)
    [## UCI Machine Learning Repository'
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: '[](https://archive.ics.uci.edu/dataset/320/student+performance?source=post_page-----23580747e8b0--------------------------------)
    [## UCI 机器学习库'
- en: Discover datasets around the world!
  id: totrans-45
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 发现全球的数据集！
- en: archive.ics.uci.edu](https://archive.ics.uci.edu/dataset/320/student+performance?source=post_page-----23580747e8b0--------------------------------)
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: archive.ics.uci.edu](https://archive.ics.uci.edu/dataset/320/student+performance?source=post_page-----23580747e8b0--------------------------------)
- en: This dataset is actually used in one of the assessments of Dataiku training
    and certification, and is also available directly within Dataiku itself by clicking
    on +New Project > DSS Tutorials > ML Practitioner > ML Practitioner Assessment.
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: 这个数据集实际上用于 Dataiku 培训和认证的一个评估中，也可以通过点击 +New Project > DSS Tutorials > ML Practitioner
    > ML Practitioner Assessment 直接在 Dataiku 中找到。
- en: 'The dataset contains information about four schools (GP, LT, MS, RC), including:'
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: 数据集中包含关于四所学校（GP、LT、MS、RC）的信息，包括：
- en: Student characteristics, such as time spent studying, free time, number of absences.
  id: totrans-49
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 学生特征，如学习时间、空闲时间、缺勤次数。
- en: Geographical and socioeconomic indicators, such as time spent in transit, home
    internet access, parent marital status.
  id: totrans-50
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 地理和社会经济指标，如通勤时间、家庭互联网接入、父母婚姻状态。
- en: 'There are a number of features in our dataset, but the ones that will largely
    be at the center of our attention including the following:'
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: 我们的数据集中有许多特征，但主要关注的特征包括以下内容：
- en: '`school`: The name of the student’s school (i.e. one of GP, LT, MS, RC)'
  id: totrans-52
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`school`: 学生的学校名称（即 GP、LT、MS、RC 之一）'
- en: '`failures`: The number of past class failures'
  id: totrans-53
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`failures`: 过去的班级失败次数'
- en: '`grade`: The grade of the student (e.g. obtained from exams or other assessments)'
  id: totrans-54
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`grade`: 学生的成绩（例如，来自考试或其他评估）'
- en: '`repeated`: Whether the student had to repeat their academic year. This is
    the *target variable* that we would like to predict. This is thus a binary classification
    problem, where the ‘positive’ class is a student repeating their academic year,
    and the ‘negative’ class being students who do not need to repeat the year.'
  id: totrans-55
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`repeated`：学生是否需要重复学年。这是我们希望预测的*目标变量*。因此，这是一项二元分类问题，其中“正类”是学生重复学年，“负类”是无需重复学年的学生。'
- en: Full descriptions of all features can be viewed on the UCI website linked above.
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: 所有特征的详细描述可以在上面链接的UCI网站上查看。
- en: 🔍 Data Exploration
  id: totrans-57
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 🔍 数据探索
- en: Before even thinking of doing anything with your data, you should first understand
    it — not just in terms of what the features represent, but also explore and analyze
    their characteristics.
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: 在考虑对数据做任何处理之前，你应该首先理解数据——不仅要了解特征表示的内容，还要探索和分析它们的特性。
- en: 'Let’s start by checking out performing a univariate analysis of the most important
    features:'
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们首先查看对最重要特征的单变量分析：
- en: '![](../Images/2d4f8c8f790137f4fe33d4926027495c.png)'
  id: totrans-60
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/2d4f8c8f790137f4fe33d4926027495c.png)'
- en: Univariate analyses of four important variables in our dataset. Image by author.
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: 我们数据集中四个重要变量的单变量分析。图片作者提供。
- en: 'There’s quite a few things to observe already:'
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: 已经可以观察到很多内容：
- en: '`school`: There’s a clear imbalance in the number of samples for each school,
    with GP and RC making up the majority of samples (61% of the total). There are
    noticeably fewer samples that belong to LT and MS.'
  id: totrans-63
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`school`：每所学校的样本数量明显不平衡，GP和RC占样本的大多数（总数的61%）。属于LT和MS的样本明显较少。'
- en: '`failures`: Most students (79% of the total) appear to have had 0 past failures.
    The remainder have between 1 and 3 failures.'
  id: totrans-64
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`failures`：大多数学生（占总数的79%）似乎没有过去的失败记录。其余的学生有1到3次失败记录。'
- en: '`grade`: Half of the students (50%) attained a grade of 10.0, 12.0 or 13.0.'
  id: totrans-65
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`grade`：一半的学生（50%）获得了10.0、12.0或13.0的成绩。'
- en: '`repeated`: This is the feature that we would like to predict, which would
    ideally be balanced to help reduce any biases by the machine learning models in
    favoring one class or another. Unfortunately, as is often the case, this feature
    is quite imbalanced — with the result of interest being the under-represented
    one: only 30% of our data represents cases where students have repeated their
    academic year. This will make it a-bit harder to perform predictions with high
    accuracy, so we need to keep this in mind also when it comes to designing our
    ML models.'
  id: totrans-66
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`repeated`：这是我们希望预测的特征，理想情况下应该是平衡的，以帮助减少机器学习模型对某个类别的偏好。不幸的是，这个特征往往是不平衡的——结果显示有兴趣的类别是代表性不足的：仅30%的数据代表学生重复学年的情况。这将使得进行高精度预测变得更困难，因此在设计ML模型时也需要记住这一点。'
- en: 'Let’s go beyond considering each variable on its own, and view the interaction
    between the school and grade:'
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们超越单独考虑每个变量的范围，查看学校与成绩之间的互动：
- en: '![](../Images/fc2bee0f2c8b57345585cd26793342f7.png)'
  id: totrans-68
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/fc2bee0f2c8b57345585cd26793342f7.png)'
- en: Frequency table and mosaic plot on the ‘school’ and ‘grade’ features. Image
    by author.
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: 关于‘学校’和‘成绩’特征的频率表和马赛克图。图片作者提供。
- en: In the image above, we can see the number of samples in the top 5 most common
    grades (with the remaining grades being bundled as ‘Others’), for each school,
    in both a frequency table and a corresponding mosaic plot below it. They essentially
    show the same information, but in a different manner — the table shows the raw
    values, while the mosaic plot shows the same numbers in a visual representation.
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: 在上图中，我们可以看到每所学校的前五个最常见成绩的样本数量（其余成绩被归类为“其他”），这两者在下方的频率表和相应的马赛克图中展示。这些图表基本上展示了相同的信息，但方式不同——表格显示原始值，而马赛克图则以视觉形式展示相同的数字。
- en: 'We can also use histograms showing the frequency of each grade for each school:'
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: 我们还可以使用直方图来显示每所学校的每个成绩的频率：
- en: '![](../Images/aff01d0583587b35b886cc6a5487be4c.png)'
  id: totrans-72
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/aff01d0583587b35b886cc6a5487be4c.png)'
- en: Histograms of the ‘grade’ split by ‘school’. School LT has the highest mean
    and median grades, while RC has the lowest grades on average. Image by author.
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: 按‘学校’划分的‘成绩’直方图。学校LT具有最高的均值和中位数成绩，而RC的平均成绩最低。图片作者提供。
- en: 'From each of these visualizations, it is immediately quite evident that there
    is some discrepancy across schools. For example, it seems that school LT has the
    highest mean and median grades, while RC has the lowest grades on average. This
    then leads us to question whether there is some sort of relationship between the
    school and a students’ grade. Let’s test it out using a [Chi-square independence
    test](https://en.wikipedia.org/wiki/Chi-squared_test):'
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: 从这些可视化图中，很明显不同学校之间存在一些差异。例如，似乎LT学校的平均和中位数成绩最高，而RC学校的平均成绩最低。这让我们质疑学校与学生成绩之间是否存在某种关系。让我们使用[卡方独立性检验](https://en.wikipedia.org/wiki/Chi-squared_test)来测试一下：
- en: '![](../Images/6e8374d57258fba44458f02d06ac097d.png)'
  id: totrans-75
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/6e8374d57258fba44458f02d06ac097d.png)'
- en: Chi-square independence test. Image by author.
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: 卡方独立性检验。图片由作者提供。
- en: The tested hypothesis is that `school` and `grade` are independent. However,
    the test reveals that this hypothesis should be rejected at the given confidence
    level of 0.05\. In other words, `school` and `grade` are *not* independent.
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
  zh: 测试的假设是`学校`和`成绩`是独立的。然而，测试结果显示在给定的置信水平0.05下，应当拒绝这一假设。换句话说，`学校`和`成绩`*不是*独立的。
- en: This is perhaps not surprising, since we would expect different schools to have
    differing levels of education. Nevertheless, we have shown it to be objectively
    the case (and not merely a subjective perception) — for this particular dataset,
    at least.
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: 这也许并不令人惊讶，因为我们期望不同学校的教育水平不同。然而，我们已经客观地证明了这一点（至少对于这个特定的数据集而言）。
- en: 'Given the above, it might not be surprising to find that there is also a discrepancy
    in the number of students who had to repeat a year across schools:'
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
  zh: 鉴于上述情况，发现不同学校之间重修学生数量的差异也并不令人惊讶：
- en: '![](../Images/e64c87e439edb60eabd5a613468fdb07.png)'
  id: totrans-80
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/e64c87e439edb60eabd5a613468fdb07.png)'
- en: Univariate analysis of the school segmented according or whether a student needs
    to repeat a year or not. Image by author.
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: 根据学生是否需要重修一年的情况对学校进行的单变量分析。图片由作者提供。
- en: One of the observations from the above image is that RC has a higher proportion
    of students that need to repeat a year with respect to other schools. However,
    this is an example of the need for caution when looking at statistics — apart
    from the raw numbers and percentages, we should keep in mind that the total number
    of students per school is different.
  id: totrans-82
  prefs: []
  type: TYPE_NORMAL
  zh: 从上面的图像中观察到的一点是，RC学校有更高比例的学生需要重修一年。然而，这也是一个在查看统计数据时需要小心的例子——除了原始数字和百分比，我们还应该记住每所学校的总学生人数不同。
- en: In other words, a school with a larger number of students is more likely to
    have a higher number of students who need to repeat a year, simply by virtue of
    having a higher number of students.
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
  zh: 换句话说，学生人数较多的学校更有可能有更多的学生需要重修一年，仅仅因为有更多的学生。
- en: Let’s take a simple example. Say we had school A where 20 students needed to
    repeat a year, whereas school B had 200 students that needed to repeat a year.
    One could say that school B is much worse than school A. However, we then find
    out that school A has 100 students, whereas school B has 1000 students. This means
    that both schools have the same repetition rate of 20%. Clearly, then, the total
    number of students also needs to be taken into account.
  id: totrans-84
  prefs: []
  type: TYPE_NORMAL
  zh: 举个简单的例子。假设学校A有20名学生需要重修一年，而学校B有200名学生需要重修一年。人们可能会说学校B比学校A差得多。然而，我们后来发现学校A有100名学生，而学校B有1000名学生。这意味着两所学校的重修率都是20%。显然，总学生人数也需要考虑在内。
- en: In our case, taking into consideration the total number of students in each
    school does not change the observations that much, but it’s still something to
    keep mind in other applications.
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: 在我们的案例中，考虑到每所学校的总学生人数不会改变观察结果太多，但在其他应用中仍然需要考虑。
- en: At this point, we have a fairly good idea of some of our most important features,
    and some issues that we need to keep in mind. Time to train some machine learning
    models and make some predictions!
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
  zh: 到目前为止，我们对一些最重要的特征和需要注意的问题有了相当好的了解。是时候训练一些机器学习模型并做出预测了！
- en: 🔮 Time for Some Predictions
  id: totrans-87
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 🔮 预测时间
- en: Machine learning models are trained by going into the ‘Lab’ section in Dataiku
    DSS, where we can configure what models to train along with their hyperparameters
    and global settings.
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: 机器学习模型通过进入Dataiku DSS的“实验室”部分进行训练，在那里我们可以配置要训练的模型及其超参数和全局设置。
- en: For the sake of simplicity, all default settings were retained (chiefly, that
    a logistic regression model and a random forest model will be trained with default
    hyperparameter settings), except for the optimization metric — as noted earlier,
    our target feature is quite imbalanced. This means that the choice of metrics
    is critical, since a model could obtain great values for metrics such as accuracy.
  id: totrans-89
  prefs: []
  type: TYPE_NORMAL
  zh: 为了简化起见，所有默认设置均保留（主要是将使用默认超参数设置训练逻辑回归模型和随机森林模型），除了优化度量标准——如前所述，我们的目标特征非常不平衡。这意味着度量标准的选择至关重要，因为一个模型可能在准确率等指标上获得很高的值。
- en: As discussed in [another article](/player-churn-rate-prediction-data-analysis-and-visualisation-part-1-12a9fdff9c10)
    on predicting player churn, the reason is very simple — a model might favor predicting
    the most dominant class, such that it will be correct for most of the time — even
    if it incorrectly predicts *all* of the samples belonging to the other category,
    since there’s not many of them to significantly impact the performance! You can
    read more about this in two great articles by [Baptiste Rocca](/handling-imbalanced-datasets-in-machine-learning-7a0e84220f28)
    and [Jason Brownlee](https://machinelearningmastery.com/failure-of-accuracy-for-imbalanced-class-distributions/).
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: 正如在 [另一篇文章](/player-churn-rate-prediction-data-analysis-and-visualisation-part-1-12a9fdff9c10)
    中讨论的那样，预测玩家流失的原因非常简单——一个模型可能倾向于预测最主导的类别，以至于它在大多数情况下都是正确的——即使它错误地预测了属于另一类别的*所有*样本，因为这些样本数量不多，不会显著影响性能！你可以在
    [Baptiste Rocca](/handling-imbalanced-datasets-in-machine-learning-7a0e84220f28)
    和 [Jason Brownlee](https://machinelearningmastery.com/failure-of-accuracy-for-imbalanced-class-distributions/)
    的两篇精彩文章中阅读更多相关内容。
- en: To this end, the [Area under the Receiver Operating Characteristics (AUC ROC)
    Curve](https://developers.google.com/machine-learning/glossary#auc-area-under-the-roc-curve)
    would be a better choice to minimize the effect of class imbalance. Values range
    from 0 to 1 (the latter being a perfect score).
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
  zh: 为了实现这一点，[接收器操作特征曲线下面积 (AUC ROC) ](https://developers.google.com/machine-learning/glossary#auc-area-under-the-roc-curve)
    是一个更好的选择，可以最小化类别不平衡的影响。其值范围从 0 到 1（后者为完美分数）。
- en: 'After the models have been trained, the following results are obtained:'
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: 模型训练后，获得了以下结果：
- en: '![](../Images/f93cd15f18b0a8c62111b110cf534efe.png)'
  id: totrans-93
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/f93cd15f18b0a8c62111b110cf534efe.png)'
- en: Results for the trained models. Image by author.
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: 训练模型的结果。图像由作者提供。
- en: '*Mon Dieu!* This might be your first reaction when seeing that both models
    have obtained a perfect AUC and F1 scores of 1.0!'
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
  zh: '*天哪!* 看到两个模型都获得了完美的 AUC 和 F1 分数 1.0，这可能是你的第一反应！'
- en: However, I’m afraid the news is not so great — indeed Dataiku DSS asks “Too
    good to be true?” Unfortunately, it is very hard for any model to obtain a perfect
    score on any dataset, unless it’s a very simple one that’s most likely been synthetically
    generated. Hence, when you see such high scores, you should immediately be a bit
    suspicious as to why this happened.
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
  zh: 然而，我担心消息并不那么乐观——实际上 Dataiku DSS 询问“这可能是真的吗？” 不幸的是，任何模型在任何数据集上获得完美分数都是非常困难的，除非它是一个非常简单的、很可能是合成生成的数据集。因此，当你看到如此高的分数时，你应该立即对为什么会发生这种情况产生一些怀疑。
- en: In this case, it’s because of a phenomenon called [*data leakage*](https://machinelearningmastery.com/data-leakage-machine-learning/),
    where information that may not be available to you outside the training set —
    i.e. when deploying the model on new unseen data — is used to train and create
    the model.
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
  zh: 在这种情况下，这是因为一种叫做 [*数据泄露*](https://machinelearningmastery.com/data-leakage-machine-learning/)
    的现象，即在训练集之外可能无法获得的信息——即在将模型应用于新未见过的数据时——被用来训练和创建模型。
- en: We can get some hints by looking at the most important variables for the random
    forest model, and the top coefficients for the logistic model. Both of these give
    an indication of which variables are being given the most weighting — the most
    importance — when predicting the outcome.
  id: totrans-98
  prefs: []
  type: TYPE_NORMAL
  zh: 我们可以通过查看随机森林模型中最重要的变量和逻辑回归模型中的顶级系数来获取一些线索。这两者都指示了在预测结果时哪些变量被赋予了最多的权重——即最重要性。
- en: As can be observed in the above image, `grade` sits at the very top of the list
    for both models. This means that `grade` is very important for the model to make
    correct predictions.
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: 从上面的图像可以观察到，`grade` 排在两个模型列表的最上面。这意味着 `grade` 对于模型做出正确预测非常重要。
- en: It turns out that the `repeated` column (the one we’re trying to predict) is
    based on `grade`! No wonder the models performed well — `grade` has all the information
    required to directly yield our target variable.
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
  zh: 结果表明，`repeated`列（我们试图预测的那一列）是基于`grade`的！难怪模型表现良好——`grade`包含了直接得出我们目标变量所需的所有信息。
- en: If you think about this, it does make sense — to determine whether a student
    will need to repeat an academic year, you would naturally look at their grades;
    if they’re too low, it means that they simply haven’t been able to learn enough,
    and would benefit from repeating the curriculum. Thus, in practice, we would determine
    whether a student will need to repeat the year based on their grades.
  id: totrans-101
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你考虑一下，这确实有意义——要确定一个学生是否需要重复学年，你自然会查看他们的成绩；如果成绩太低，这意味着他们没有学到足够的东西，重复课程会对他们有帮助。因此，在实际操作中，我们会根据学生的成绩来决定是否需要重复学年。
- en: However, we will obviously not know their grades beforehand, which also means
    that this feature should not be used to train our model — we should only use the
    features that will be at our disposal during the academic year.
  id: totrans-102
  prefs: []
  type: TYPE_NORMAL
  zh: 然而，我们显然无法提前知道它们的成绩，这也意味着这个特征不应该用于训练我们的模型——我们只应使用在学年期间可以使用的特征。
- en: 'Let’s drop the `grade` feature, and re-train our models:'
  id: totrans-103
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们丢弃`grade`特征，并重新训练我们的模型：
- en: '![](../Images/f2df7a22848f3ec4fb83a46e006bc860.png)'
  id: totrans-104
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/f2df7a22848f3ec4fb83a46e006bc860.png)'
- en: Results for the models trained without the ‘grade’ feature. Image by author.
  id: totrans-105
  prefs: []
  type: TYPE_NORMAL
  zh: 未使用‘grade’特征训练的模型结果。图片来源：作者。
- en: 'Ah, that’s better! It’s perhaps weird that we’re glad about having models that
    are actually performing *worse* than before, as we can see in the below table
    summarizing the models’ performances across different evaluation metrics:'
  id: totrans-106
  prefs: []
  type: TYPE_NORMAL
  zh: 啊，这样好多了！也许很奇怪，我们对模型表现得**更差**的情况感到满意，正如下面表格所示，总结了不同评估指标下模型的表现：
- en: '![](../Images/9a253aa51c9c1e87bc50fe31ec1ced99.png)'
  id: totrans-107
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/9a253aa51c9c1e87bc50fe31ec1ced99.png)'
- en: Results for the four trained models. The first two models used the ‘grade’ feature,
    the bottom two models did not use the ‘grade’ feature. Image by author.
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
  zh: 四个训练模型的结果。前两个模型使用了‘grade’特征，底部两个模型没有使用‘grade’特征。图片来源：作者。
- en: As can be observed, the new models generally perform worse than the old ones,
    but they’re actually usable in the real-world. The best model in terms of AUC
    is random forest, with a score of 0.922\. It’s also better than logistic regression
    in terms of accuracy and precision, albeit not recall.
  id: totrans-109
  prefs: []
  type: TYPE_NORMAL
  zh: 如所观察到的，新模型通常比旧模型表现更差，但它们在现实世界中实际上是可用的。就AUC而言，最佳模型是随机森林，得分为0.922。尽管在召回率方面不如逻辑回归，但在准确率和精度方面更好。
- en: What this means is that given all of the students which should have been predicted
    as needing to repeat a year (the ‘positive’ class), the random forest model incorrectly
    predicted a higher number of students (more than the logistic regression) to not
    need a year repetition. However, the higher precision of the random forest model
    also means that it is less prone to false positives, i.e. incorrectly predicting
    that a student needs to repeat a year when in fact they don’t need to.
  id: totrans-110
  prefs: []
  type: TYPE_NORMAL
  zh: 这意味着，考虑到所有应被预测为需要重复学年的学生（‘正类’），随机森林模型错误地预测了更多的学生（比逻辑回归更多）为不需要重复学年。然而，随机森林模型更高的精度也意味着它较少出现假阳性，即错误地预测学生需要重复学年，而实际上他们不需要。
- en: 'We can also clearly observe this behavior in the [confusion matrices](https://en.wikipedia.org/wiki/Confusion_matrix):'
  id: totrans-111
  prefs: []
  type: TYPE_NORMAL
  zh: 我们也可以在[混淆矩阵](https://en.wikipedia.org/wiki/Confusion_matrix)中清楚地观察到这种行为：
- en: '![](../Images/c4d27d678a12a1ff348add9e93f9ac8d.png)![](../Images/8ee4c313798cbf8484c9a2f19a724ca3.png)'
  id: totrans-112
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/c4d27d678a12a1ff348add9e93f9ac8d.png)![](../Images/8ee4c313798cbf8484c9a2f19a724ca3.png)'
- en: Confusion matrix for the random forest model (left) and logistic regression
    model (right). ‘1’ indicates that a student needs to repeat an academic year,
    whereas ‘0’ indicates that the student does not need to repeat the academic year.
    Image by author.
  id: totrans-113
  prefs: []
  type: TYPE_NORMAL
  zh: 随机森林模型（左）和逻辑回归模型（右）的混淆矩阵。‘1’表示学生需要重复学年，而‘0’表示学生不需要重复学年。图片来源：作者。
- en: Apart from [Baptiste Rocca](/handling-imbalanced-datasets-in-machine-learning-7a0e84220f28)’s
    article already mentioned above, I also invite you to check out [Koo Ping Shung](/accuracy-precision-recall-or-f1-331fb37c5cb9)’s
    article for more information on accuracy, precision, recall, and F1.
  id: totrans-114
  prefs: []
  type: TYPE_NORMAL
  zh: 除了上面提到的[Baptiste Rocca](/handling-imbalanced-datasets-in-machine-learning-7a0e84220f28)的文章外，我还邀请你查看[Koo
    Ping Shung](/accuracy-precision-recall-or-f1-331fb37c5cb9)的文章，以获取更多关于准确性、精确度、召回率和F1的信息。
- en: The best model really depends on the requirements of the school — err on the
    side of caution, and flag students that might potentially not need to repeat a
    year (thereby favoring the logistic regression model), or avoid too many false
    predictions and the consequences it could bring, such as waste of resources and
    annoying parents (thereby going for the random forest model)?
  id: totrans-115
  prefs: []
  type: TYPE_NORMAL
  zh: 最好的模型真的取决于学校的需求——谨慎些，标记那些可能不需要重读一年（从而倾向于逻辑回归模型），还是避免过多的错误预测及其可能带来的后果，如资源浪费和烦恼的家长（从而选择随机森林模型）？
- en: I would probably lean towards the side of caution and go for the logistic regression
    model, knowing that I may have some students who may not actually need to repeat
    a year. However, this would give me the opportunity to keep an eye on these students,
    and then manually re-evaluate whether a student needs to repeat their year later
    on. After all, most machine learning models do need some sort of manual intervention
    at some point in order to fully exploit their capabilities.
  id: totrans-116
  prefs: []
  type: TYPE_NORMAL
  zh: 我可能会倾向于谨慎一些，选择逻辑回归模型，因为我知道可能有些学生实际上不需要重读一年。然而，这将给我一个机会来关注这些学生，然后手动重新评估是否需要让学生重读一年。毕竟，大多数机器学习模型确实需要某种形式的人工干预，以充分发挥其能力。
- en: However, keep in mind that only two types of models have been trained, and practically
    no optimization of their hyperparameters was done. Hence, it would be expected
    that better performance could be achieved.
  id: totrans-117
  prefs: []
  type: TYPE_NORMAL
  zh: 但是，请记住，只有两种类型的模型被训练，几乎没有对其超参数进行优化。因此，预计可以获得更好的性能。
- en: Hopefully, you can appreciate the importance of understanding your models, and
    not use them blindly based on one performance metric — more often than not, each
    model has its own pros and cons and the one to choose depends on the application
    and your requirements. This is part of [Explainable AI (XAI)](https://en.wikipedia.org/wiki/Explainable_artificial_intelligence),
    which is becoming more and more relevant — and necessary — with the ever increasing
    number of AI applications.
  id: totrans-118
  prefs: []
  type: TYPE_NORMAL
  zh: 希望你能认识到理解模型的重要性，而不是仅仅依据一个性能指标盲目使用它们——通常情况下，每个模型都有其优缺点，选择哪个模型取决于应用场景和你的需求。这是[可解释人工智能（XAI）](https://en.wikipedia.org/wiki/Explainable_artificial_intelligence)的一部分，它在不断增加的AI应用数量下变得越来越相关——也越来越必要。
- en: There are several other analyses we could do to get a better understanding of
    our models, some of which may be specific for the type of model used. However,
    I’ll just focus on two important ones to keep things simple (and brief!).
  id: totrans-119
  prefs: []
  type: TYPE_NORMAL
  zh: 我们可以做几种其他分析来更好地理解我们的模型，其中一些可能是针对所用模型类型的。然而，我会专注于两个重要的方面，以简化问题（并简洁！）。
- en: The first is *variable importance*, which we’ve actually already mentioned when
    we were investigating data leakage. As you may recall, this tells us which features
    the model is prioritising and giving the most ‘weight’ when performing predictions.
    Apart from understanding how the model is working, it also helps us understand
    what actually affects a student needing to repeat a year.
  id: totrans-120
  prefs: []
  type: TYPE_NORMAL
  zh: 第一个是*变量重要性*，我们在调查数据泄漏时实际上已经提到过。你可能还记得，这告诉我们模型在进行预测时优先考虑哪些特征，并给予哪些特征最多的“权重”。除了理解模型如何工作，它还帮助我们理解什么因素实际上会影响学生是否需要重读一年。
- en: 'Let’s focus on the best model in terms of AUC, namely the random forest model:'
  id: totrans-121
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们关注在AUC方面表现最好的模型，即随机森林模型：
- en: '![](../Images/b74fce870acc4a9f1eab918b50b285d0.png)'
  id: totrans-122
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/b74fce870acc4a9f1eab918b50b285d0.png)'
- en: Variable importance for the random forest model. Image by author.
  id: totrans-123
  prefs: []
  type: TYPE_NORMAL
  zh: 随机森林模型的变量重要性。图片由作者提供。
- en: As shown, the most important variables (by quite some margin) are ‘school is
    RC’ and ‘failures’. This makes sense — we observed earlier that school RC tended
    to have the lowest grades on average, meaning that students are struggling more
    in doing well and are at a higher risk of failing their assessments and exams.
    Now we have something a bit more objective and definitive to back up our initial
    observations.
  id: totrans-124
  prefs: []
  type: TYPE_NORMAL
  zh: 如所示，最重要的变量（差距相当大）是‘学校是 RC’和‘失败次数’。这很有道理——我们之前观察到，学校 RC 的平均成绩较低，这意味着学生在取得好成绩方面遇到更多困难，并且面临更高的考试和评估失败风险。现在我们有一些更客观和明确的证据来支持我们最初的观察。
- en: Speaking of failures, it also makes sense that it is at the top of the list,
    since a higher number of failures is indicative that a student is truly struggling
    to learn and understand the course content.
  id: totrans-125
  prefs: []
  type: TYPE_NORMAL
  zh: 说到失败，将其列在首位也是有道理的，因为较高的失败次数表明学生在学习和理解课程内容方面确实遇到困难。
- en: The rest of the variables attain fairly low importance by comparison, but of
    course they are still relevant. The third and fourth variables are also related
    to the school, while the fifth one is perhaps a-bit surprising — `Medu`. This
    refers to the mother’s level of education, which appears to play a role.
  id: totrans-126
  prefs: []
  type: TYPE_NORMAL
  zh: 相比之下，其余变量的重要性相对较低，但当然它们仍然是相关的。第三和第四个变量也与学校有关，而第五个变量可能有些令人惊讶 — `Medu`。这指的是母亲的教育水平，它似乎起到了一定的作用。
- en: To get a better understanding of how these features are actually affecting the
    predictions, we can take a look at the Partial Dependence Plots (PDPs). These
    are computed by essentially freezing the values of all features of a sample, and
    then varying only the feature of interest.
  id: totrans-127
  prefs: []
  type: TYPE_NORMAL
  zh: 为了更好地理解这些特征如何实际影响预测，我们可以查看部分依赖图（PDP）。这些图是通过基本上冻结样本中所有特征的值，然后仅变化感兴趣的特征来计算的。
- en: The variation of the feature (while keeping the others fixed) shows its relationship
    with the outcome, for example whether it is linear or monotonic. In more technical
    terms, the partial dependence represents the average marginal effect of a feature
    on the outcome predicted by a machine learning model [2]. Further details may
    be found in Christoph Molnar’s guide [here](https://christophm.github.io/interpretable-ml-book/pdp.html).
  id: totrans-128
  prefs: []
  type: TYPE_NORMAL
  zh: 特征的变化（在保持其他特征固定的情况下）显示其与结果的关系，例如是否是线性或单调的。更技术性地说，部分依赖性表示特征对机器学习模型预测结果的平均边际效应[2]。更多细节可以在
    Christoph Molnar 的指南中找到 [这里](https://christophm.github.io/interpretable-ml-book/pdp.html)。
- en: The PDP is computed across all samples, and averaged. The computations across
    each sample yield the Individual Conditional Expectation (ICE) plots, to enable
    much more fine-grained analysis (on a per-student level).
  id: totrans-129
  prefs: []
  type: TYPE_NORMAL
  zh: PDP 是通过所有样本计算并取平均的。每个样本的计算结果生成个体条件期望（ICE）图，以便进行更细粒度的分析（按学生层面）。
- en: 'Let’s consider (what should be) a fairly straightforward feature — the study
    time. Before even having a peek at the data or the results, we would intuitively
    expect the chances of a student repeating their year to decrease with more time
    spent studying, right? Let’s see if this is the case by taking a look at the PDP
    for `studytime`:'
  id: totrans-130
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们考虑一个（应该是）相当直接的特征——学习时间。在查看数据或结果之前，我们可以直观地预期，学生重复学年的机会会随着学习时间的增加而减少，对吗？让我们看看`studytime`的
    PDP 是否符合这一预期：
- en: '![](../Images/4263b66d002b360db5d7bfdea3d39ec8.png)'
  id: totrans-131
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/4263b66d002b360db5d7bfdea3d39ec8.png)'
- en: PDP for the study time. Image by author.
  id: totrans-132
  prefs: []
  type: TYPE_NORMAL
  zh: 学习时间的 PDP。图像来源：作者。
- en: It is evident that as the study time increases, the effect on the outcome decreases.
    That is, the likelihood of a student repeating their academic year is indeed decreased
    by a higher study time. As mentioned, this is perhaps obvious, but it is nice
    to have some objective evidence to serve as a sanity check. It is always important
    to understand what’s going on, not blindly trust the output of a computer— remember,
    “garbage in, garbage out”!
  id: totrans-133
  prefs: []
  type: TYPE_NORMAL
  zh: 显然，随着学习时间的增加，对结果的影响会减少。也就是说，学生重复学年的可能性确实因更高的学习时间而减少。如前所述，这可能是显而易见的，但拥有一些客观证据来进行合理性检查还是很好的。了解发生了什么总是很重要的，而不是盲目相信计算机的输出——记住，“垃圾进，垃圾出”！
- en: However, two things should be noted
  id: totrans-134
  prefs: []
  type: TYPE_NORMAL
  zh: 然而，有两点需要注意：
- en: First, the values of the partial dependence are fairly low, meaning that the
    effect of the study time on the output is perhaps not that great. This is to be
    expected given that `studytime` was given fairly low importance.
  id: totrans-135
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 首先，部分依赖性的值相对较低，这意味着学习时间对结果的影响可能并不大。这是可以预期的，因为`studytime`被赋予了相对较低的重要性。
- en: Secondly, apart from the partial dependence, the distribution of the feature
    values in the training set is also shown. We should be careful for feature values
    having only a few samples in the training set, since we would essentially be drawing
    conclusions in regions outside the area of the training data (extrapolating).
  id: totrans-136
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 其次，除了部分依赖性外，还展示了训练集中特征值的分布。我们应当对训练集中只有少量样本的特征值保持谨慎，因为我们实际上是在训练数据的区域外得出结论（外推）。
- en: 'Let’s now take a look at `Medu` :'
  id: totrans-137
  prefs: []
  type: TYPE_NORMAL
  zh: 现在让我们看看`Medu`：
- en: '![](../Images/35e5c937ae44c31ddf6931fc787c2977.png)'
  id: totrans-138
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/35e5c937ae44c31ddf6931fc787c2977.png)'
- en: PDP for the mother’s education level. Image by author.
  id: totrans-139
  prefs: []
  type: TYPE_NORMAL
  zh: 母亲教育水平的PDP。图片来源：作者。
- en: Whilst the magnitude of the effect is slightly higher than `studytime` , it’s
    still fairly low. However, it can still be observed that the chances of a student
    requiring to repeat a year tends to decrease as the mother’s education level increases.
  id: totrans-140
  prefs: []
  type: TYPE_NORMAL
  zh: 尽管其效应的幅度略高于`studytime`，但仍然相对较低。然而，仍然可以观察到，母亲的教育水平提高时，学生需要留级的可能性趋于减少。
- en: There’s an especially significant drop when the education level exceeds 3 (secondary
    education) and is equal to 4 (higher education). The interpretation behind this
    could be that a mother with a higher educational level would be more able to help
    their children when they encounter difficulties (e.g. when doing their homework).
  id: totrans-141
  prefs: []
  type: TYPE_NORMAL
  zh: 当教育水平超过3（中等教育）且等于4（高等教育）时，会出现特别显著的下降。这背后的解释可能是，教育水平较高的母亲在孩子遇到困难时（例如做作业时）会更有能力提供帮助。
- en: 'Lastly, let’s view the PDP for the school:'
  id: totrans-142
  prefs: []
  type: TYPE_NORMAL
  zh: 最后，让我们查看学校的PDP：
- en: '![](../Images/a30c46fa5ea61763873a71429e591346.png)'
  id: totrans-143
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/a30c46fa5ea61763873a71429e591346.png)'
- en: PDP for the school. Image by author.
  id: totrans-144
  prefs: []
  type: TYPE_NORMAL
  zh: 学校的PDP。图片来源：作者。
- en: The school was the most important variable for the model, so it is expected
    to see some greater differences between the different schools. In particular,
    school RC tends to increase the chances of a student needing to repeat a year,
    while school LT is pretty much the opposite. These observations again tally with
    our earlier analysis.
  id: totrans-145
  prefs: []
  type: TYPE_NORMAL
  zh: 学校是模型中最重要的变量，因此在不同学校之间会看到一些较大的差异。特别是，学校RC往往增加学生需要留级的可能性，而学校LT则基本上相反。这些观察结果再次与我们之前的分析一致。
- en: 'We’ll conclude this section by checking the model’s performance on the test
    set, i.e. a set of samples that were unseen by the models during the training
    process:'
  id: totrans-146
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将通过检查模型在测试集上的表现来总结这一部分，即模型在训练过程中未见过的一组样本：
- en: '![](../Images/950649ecfb9ef147dca40b46faabf000.png)'
  id: totrans-147
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/950649ecfb9ef147dca40b46faabf000.png)'
- en: Performance of the best classification model on the test set. Image by author.
  id: totrans-148
  prefs: []
  type: TYPE_NORMAL
  zh: 最佳分类模型在测试集上的表现。图片来源：作者。
- en: The results are similar to what to those computed on the validation set, indicating
    that the performance of the model is fairly consistent across different sets of
    samples. Once again, the results are not perfect, but still fairly decent given
    that we performed virtually no optimisation to the models used or their parameters.
    Of note is that the precision and recall are fairly balanced, and accuracy is
    0.851\. However, given the imbalanced nature of the dataset, the AUC’s respectable
    value of 0.915 is more relevant.
  id: totrans-149
  prefs: []
  type: TYPE_NORMAL
  zh: 结果与在验证集上计算的结果相似，表明模型在不同样本集之间的表现相当一致。尽管结果不是完美的，但鉴于我们几乎没有对使用的模型或其参数进行优化，结果仍然相当不错。值得注意的是，精确度和召回率比较平衡，准确率为0.851。然而，考虑到数据集的不平衡，AUC值为0.915更具参考意义。
- en: 'Let’s take a look at how the models’ performance compares across different
    schools, by computing a new feature called `prediction_correct` which simply checks
    if the predicted value matches the known (true) value:'
  id: totrans-150
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们看看模型在不同学校之间的表现，通过计算一个新的特征叫做`prediction_correct`，该特征简单地检查预测值是否与已知（真实）值匹配：
- en: '![](../Images/bd270852a60bd60269669b7a4a6876ed.png)'
  id: totrans-151
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/bd270852a60bd60269669b7a4a6876ed.png)'
- en: Distribution of the number of correct (and incorrect) predictions, by school.
    Image by author.
  id: totrans-152
  prefs: []
  type: TYPE_NORMAL
  zh: 各学校正确（和错误）预测的分布。图片来源：作者。
- en: It looks like the model behaves quite similarly across schools, although it
    seems to perform the best of school MS (96% of samples predicted correctly) and
    worst on RC (75% of samples predicted correctly).
  id: totrans-153
  prefs: []
  type: TYPE_NORMAL
  zh: 看起来模型在各学校之间的表现非常相似，不过它似乎在学校MS的表现最好（96%的样本预测正确），在学校RC的表现最差（75%的样本预测正确）。
- en: But what if we would like to know where the model is failing? Is it when predicting
    if a student needs to repeat a year, or when predicting that a student does *not*
    need to repeat a year? That is, does it vary significantly between the predicted
    classes, and across schools?
  id: totrans-154
  prefs: []
  type: TYPE_NORMAL
  zh: 但如果我们想知道模型在哪里出现了问题呢？是在预测学生是否需要重复一年时，还是在预测学生*不*需要重复一年时？也就是说，模型的表现是否在预测类别之间以及不同学校之间有显著差异？
- en: 'Let’s compute a subpopulation analysis, whereby metrics can be computed across
    each school:'
  id: totrans-155
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们进行子群体分析，从而计算各个学校的指标：
- en: '![](../Images/9360287a2ceb203bb39b0c22f7ad877a.png)'
  id: totrans-156
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/9360287a2ceb203bb39b0c22f7ad877a.png)'
- en: Subpopulation analysis across schools. Image by author.
  id: totrans-157
  prefs: []
  type: TYPE_NORMAL
  zh: 跨学校的子群体分析。图片由作者提供。
- en: 'Furthermore, let’s also compute the histograms of the number of correct predictions
    for each target class, and for each school:'
  id: totrans-158
  prefs: []
  type: TYPE_NORMAL
  zh: 此外，让我们计算每个目标类别和每个学校的正确预测数量的直方图：
- en: '![](../Images/45aa097f036fc744e12dd4a36d508e3b.png)'
  id: totrans-159
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/45aa097f036fc744e12dd4a36d508e3b.png)'
- en: Number of correct predictions for each class (whether a student repeats a year
    or not), split by the school. Blue bars are correct predictions, orange bars indicate
    incorrect predictions. Image by author.
  id: totrans-160
  prefs: []
  type: TYPE_NORMAL
  zh: 按学校划分的每个类别（学生是否重复一年）的正确预测数量。蓝色条形表示正确预测，橙色条形表示错误预测。图片由作者提供。
- en: 'The main observations include:'
  id: totrans-161
  prefs: []
  type: TYPE_NORMAL
  zh: 主要观察结果包括：
- en: The class with the prevalent number of samples (the majority class) is predicted
    well across schools. This includes class ‘0’ (student does not need to repeat
    the year) for GP, LT, and MS, and class ‘1’ (student needs to repeat a year) for
    RC. The samples for MS are almost perfectly predicted.
  id: totrans-162
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在各个学校中，样本数量较多的类别（多数类）预测得较好。这包括GP、LT和MS中的类别‘0’（学生不需要重复一年），以及RC中的类别‘1’（学生需要重复一年）。MS的样本几乎被完全预测正确。
- en: There are more significant differences for the minority class (i.e. ‘0’ for
    school RC, ‘1’ for the others). For GP and LT, the number of correctly predicted
    samples is pretty much equal to the number of incorrectly predicted samples. For
    MS, most samples are correctly predicted.
  id: totrans-163
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 少数类（即学校RC的‘0’，其他学校的‘1’）的差异更为显著。对于GP和LT，正确预测的样本数量几乎等于错误预测的样本数量。对于MS，大多数样本被正确预测。
- en: Further to (2) above, the number of incorrectly predicted samples for school
    RC is higher than for the other schools (as observed previously). However, it
    can also be observed that the number of incorrect samples for the minority class
    (‘0’) is higher than the number of correct predictions.
  id: totrans-164
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 除了上面的（2），学校RC的错误预测样本数量高于其他学校（如前所述）。然而，也可以观察到，少数类（‘0’）的错误样本数量高于正确预测的数量。
- en: The observations for school RC could be due to (a) the minority class of RC
    having more samples than the minority class of the other schools (i.e. RC has
    a different distribution of samples), and (b) RC is an ‘outlier’ compared to the
    other schools, since it is the one with a higher number of students who need to
    repeat a year. This means that the model might have learned to work well on the
    characteristics of the other schools (for which there are a higher number of samples)
    at the expense of sub-optimal performance on RC. Hence, the model might need to
    be tuned to work better on samples belonging to this school.
  id: totrans-165
  prefs: []
  type: TYPE_NORMAL
  zh: 学校RC的观察结果可能是由于（a）RC的少数类样本比其他学校的少数类样本多（即RC的样本分布不同），以及（b）RC与其他学校相比是一个‘异常值’，因为它有更多需要重复一年学生。这意味着模型可能已经学习了如何在其他学校（样本数量较多）上表现良好，而在RC上的表现则较差。因此，模型可能需要调整以更好地适应这个学校的样本。
- en: '💯 BONUS: Can we predict the actual grades instead?'
  id: totrans-166
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 💯 奖金：我们能预测实际的分数吗？
- en: In all of the above, we have trained a classification model to predict if a
    student will need to repeat a year. But what if we would like to know the actual
    grade? After all, the grade can also be used to determine if a student will need
    to repeat a year.
  id: totrans-167
  prefs: []
  type: TYPE_NORMAL
  zh: 在上述所有情况下，我们训练了一个分类模型来预测学生是否需要重复一年。但如果我们想知道实际的分数呢？毕竟，分数也可以用来判断学生是否需要重复一年。
- en: The question then becomes — is it better to predict the grades, and then turn
    it back to a binary classification problem by applying a threshold?
  id: totrans-168
  prefs: []
  type: TYPE_NORMAL
  zh: 那么问题就变成了——预测分数是否更好，然后通过应用一个阈值将其转化为二元分类问题？
- en: As noted previously, the need for a student to repeat the year is directly based
    on the grade — if it is less than 10, then they need to repeat the year. Otherwise,
    they don’t. So we could also train a regression model, and then create a new feature
    where grades less than 10 are converted to ‘1’ (student needs to repeat the year),
    otherwise they are converted to ‘0’.
  id: totrans-169
  prefs: []
  type: TYPE_NORMAL
  zh: 如前所述，学生是否需要重读一年直接基于成绩——如果成绩低于10，则需要重读一年；否则则不需要。因此，我们也可以训练一个回归模型，然后创建一个新特征，将低于10的成绩转换为‘1’（学生需要重读一年），否则转换为‘0’。
- en: 'So, let’s try it out! I quickly trained just a couple of regression models
    in Dataiku, the results of which are below:'
  id: totrans-170
  prefs: []
  type: TYPE_NORMAL
  zh: 所以，让我们尝试一下！我在Dataiku中快速训练了几个回归模型，结果如下：
- en: '![](../Images/3841b5eee7ef145f15fbdd7ebe76a6e4.png)'
  id: totrans-171
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/3841b5eee7ef145f15fbdd7ebe76a6e4.png)'
- en: Regression models’ performance. Image by author.
  id: totrans-172
  prefs: []
  type: TYPE_NORMAL
  zh: 回归模型的表现。图片来源：作者。
- en: The random forest model achieved far superior results to the Ordinary Least
    Squares (OLS) model, even if it is still not outstanding. However, more models
    could be trained and we did not tune any parameters to improve performance, so
    these results are fairly good for a first attempt.
  id: totrans-173
  prefs: []
  type: TYPE_NORMAL
  zh: 随机森林模型的表现远优于普通最小二乘（OLS）模型，即使它仍然不出色。然而，可以训练更多模型，我们也没有调优任何参数来提高性能，因此这些结果对于第一次尝试来说相当不错。
- en: 'The results on the same test set that we used for the classification model
    above is as follows:'
  id: totrans-174
  prefs: []
  type: TYPE_NORMAL
  zh: 在上面用于分类模型的相同测试集上的结果如下：
- en: '![](../Images/cf91ba256cb5fbbeca5d4daab9eb9862.png)'
  id: totrans-175
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/cf91ba256cb5fbbeca5d4daab9eb9862.png)'
- en: Performance of the best regression model on the test set. Image by author.
  id: totrans-176
  prefs: []
  type: TYPE_NORMAL
  zh: 最佳回归模型在测试集上的表现。图片来源：作者。
- en: These results are fairly similar to the ones above, which verifies that the
    results we see during the training process are reflective of the results we could
    expect to see if the model is deployed on unseen real-world data. Again, while
    the results are not outstanding, they’re not too shabby — for instance, the Mean
    Absolute Error indicates that a predicted grade has an error of +/- 1.2 on average.
  id: totrans-177
  prefs: []
  type: TYPE_NORMAL
  zh: 这些结果与上面的结果相似，验证了我们在训练过程中看到的结果与在实际未见数据上部署模型时可能会看到的结果是一致的。虽然结果并不出色，但也不算太差——例如，平均绝对误差表明预测成绩的误差平均为+/-
    1.2。
- en: 'Let’s now create a new binary feature, where grades less than 10 means that
    a student has to repeat their year, whereas grades greater or equal to 10 do not
    need to repeat the year. This makes the outcome similar to the binary classification
    case we were working with previously. Let’s check out the results:'
  id: totrans-178
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，让我们创建一个新的二元特征，其中低于10的成绩表示学生需要重读一年，而成绩大于或等于10则不需要重读一年。这使得结果与我们之前处理的二元分类情况类似。让我们查看结果：
- en: '![](../Images/5b7d04071bfb8c5496c43aec41e418f5.png)'
  id: totrans-179
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/5b7d04071bfb8c5496c43aec41e418f5.png)'
- en: Performance of the regression model when using the predicted grades to determine
    if a student needs to repeat a year or not. Image by author.
  id: totrans-180
  prefs: []
  type: TYPE_NORMAL
  zh: 使用预测成绩来判断学生是否需要重读一年时，回归模型的表现。图片来源：作者。
- en: It should be noted that some results are not available, such as the ROC. However,
    these need the class probabilities, which we obviously do not have since we used
    a simple threshold on the predicted numerical grades.
  id: totrans-181
  prefs: []
  type: TYPE_NORMAL
  zh: 应注意，有些结果不可用，例如ROC。然而，这些需要类别概率，而我们显然没有，因为我们对预测的数值成绩使用了简单的阈值。
- en: It can be observed that the performance of the metrics that we do have is overall
    inferior to the classification case. You could argue that this is to be expected
    — after all, isn’t it better to perform classification directly, rather than perform
    regression and then binarize the outcome?
  id: totrans-182
  prefs: []
  type: TYPE_NORMAL
  zh: 可以观察到，我们拥有的指标的表现整体上不如分类情况。你可以说这在意料之中——毕竟，直接进行分类不是比先进行回归再进行二值化更好么？
- en: Actually, there shouldn’t be a huge difference — after all, there is a very
    simple and clear relationship between the grades and the need to repeat a year.
    Indeed, if we consider the accuracy, the difference is not so big (0.82 vs 0.85),
    and the F1 scores are also fairly close (0.74 vs 0.77).
  id: totrans-183
  prefs: []
  type: TYPE_NORMAL
  zh: 实际上，不应该有很大差异——毕竟，成绩与是否需要重读一年之间有非常简单明了的关系。实际上，如果我们考虑准确率，差异并不大（0.82对比0.85），而F1分数也相当接近（0.74对比0.77）。
- en: Given that we didn’t train a wide variety of models and didn’t perform any form
    of parameter/hyperparameter optimization, we would expect both the classification
    and regression models’ performance to improve.
  id: totrans-184
  prefs: []
  type: TYPE_NORMAL
  zh: 由于我们没有训练多种模型，也没有进行任何形式的参数/超参数优化，因此我们预计分类和回归模型的性能会有所提升。
- en: What we could say, though, is that it is possible to perform both tasks — i.e.
    either predict whether a student will need to repeat a year along with the associated
    probabilities, or predict the grades (which can then be used to determine if the
    student will need to repeat the year or not).
  id: totrans-185
  prefs: []
  type: TYPE_NORMAL
  zh: 然而，我们可以说的是，可以同时执行这两个任务——即预测学生是否需要重复一年及其相关概率，或者预测成绩（然后可以用来判断学生是否需要重复一年）。
- en: 'Lastly, let’s check out if this second approach tends to fail for any type
    of prediction or school, similar to what we did for the classification model:'
  id: totrans-186
  prefs: []
  type: TYPE_NORMAL
  zh: 最后，让我们检查一下这种第二种方法是否对任何类型的预测或学校存在失败情况，类似于我们对分类模型所做的：
- en: '![](../Images/d385935c7ca18f468ed135e910c1fea3.png)'
  id: totrans-187
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/d385935c7ca18f468ed135e910c1fea3.png)'
- en: Number of correct predictions for each class (whether a student repeats a year
    or not), split by the school. Image by author.
  id: totrans-188
  prefs: []
  type: TYPE_NORMAL
  zh: 每个类别的正确预测数量（无论学生是否需要重复一年），按学校分类。图片由作者提供。
- en: Similar observations can be made to the classification model, although the number
    of misclassified samples is higher (which is expected given the lower performance
    metric values discussed above). Perhaps interestingly, the number of misclassified
    samples for class ‘0’ of school RC is now slightly lower than the number of correctly
    classified samples.
  id: totrans-189
  prefs: []
  type: TYPE_NORMAL
  zh: 对分类模型可以做出类似的观察，尽管误分类样本的数量较高（鉴于上述讨论的较低性能指标值，这是可以预期的）。或许有趣的是，学校RC的类别‘0’的误分类样本数量现在略低于正确分类样本的数量。
- en: ⚠️ Ethical and Pedagogical Concerns
  id: totrans-190
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: ⚠️ 伦理和教育关注
- en: Having ML models that predict whether a student will need to repeat their year
    or which predict their grades are all well and good, but can we actually trust
    them? What are the implications if any predictions are incorrect? Would we be
    comfortable with having ML making such critical decisions for us?
  id: totrans-191
  prefs: []
  type: TYPE_NORMAL
  zh: 拥有可以预测学生是否需要重复一年或者预测他们成绩的机器学习模型当然很好，但我们真的可以信任它们吗？如果预测不准确，会有什么影响？我们是否愿意让机器学习做出这样关键的决策？
- en: Transparency
  id: totrans-192
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 透明性
- en: One of the primary concerns is transparency in the use of predictive models.
    Educational institutions must provide clear information to both educators and
    students about how these models operate, what data they rely on, and how predictions
    are made. Transparent communication helps to foster trust and allows individuals
    to better understand the decision-making process.
  id: totrans-193
  prefs: []
  type: TYPE_NORMAL
  zh: 主要关注之一是预测模型使用的透明性。教育机构必须向教育工作者和学生提供有关这些模型如何运作、依赖什么数据以及如何做出预测的清晰信息。透明的沟通有助于建立信任，使个人更好地理解决策过程。
- en: This is also why we performed a lot of analyses and tried to understand how
    the model is operating and how it’s using our features (and if it all makes sense).
    Although several models (especially deep learning-based ones) tend to be ‘black
    boxes’ with little insight as to what’s going on internally, we have seen that
    there are still several tools we could employ to help unveil what’s going on under
    the hood.
  id: totrans-194
  prefs: []
  type: TYPE_NORMAL
  zh: 这也是为什么我们进行了大量分析，并试图理解模型是如何运作的，以及它如何使用我们的特征（并且这是否有意义）。虽然一些模型（特别是基于深度学习的模型）往往是‘黑箱’，内部运行情况不明，但我们发现仍有一些工具可以帮助揭示其内部运作情况。
- en: Bias Mitigation and Feedback Loop
  id: totrans-195
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 偏见缓解与反馈循环
- en: Another critical aspect is the mitigation of biases inherent in the data and
    models. Biases can perpetuate inequalities, and it is essential to actively identify
    and rectify them. Regular auditing of the model’s predictions for bias is necessary
    to ensure fairness. In other words, we should monitor the model’s predictions
    over time to ensure that they maintain any desirable characteristics and behaviors.
  id: totrans-196
  prefs: []
  type: TYPE_NORMAL
  zh: 另一个关键方面是缓解数据和模型中固有的偏见。偏见可能会加剧不平等，因此积极识别和纠正这些偏见是至关重要的。定期审计模型的预测以检查偏见是确保公平性的必要措施。换句话说，我们应当持续监测模型的预测，以确保它们保持任何期望的特征和行为。
- en: We should also take any steps to counter known sources of bias. For example,
    if the target feature is imbalanced (as was the case in this case study), we could
    use different evaluation metrics such as ROC AUC and adjust the decision threshold
    in such a way that it can be adapted to our requirements, for instance to improve
    the performance for the minority class or reduce false negatives (incorrectly
    predicting that a student will not need to repeat a year).
  id: totrans-197
  prefs: []
  type: TYPE_NORMAL
  zh: 我们还应采取措施对抗已知的偏见来源。例如，如果目标特征不平衡（如本案例所示），我们可以使用不同的评估指标，如ROC AUC，并调整决策阈值，以适应我们的要求，例如改善少数类别的性能或减少假阴性（错误预测学生不需要重读一年）。
- en: Moreover, it is likely that the distributions of the input features will change
    over time to cause degraded predictions, a problem known as data drift. Hence,
    the model will probably need to be re-trained with new data to ensure it remains
    relevant with satisfactory performance.
  id: totrans-198
  prefs: []
  type: TYPE_NORMAL
  zh: 此外，输入特征的分布可能随时间变化，从而导致预测性能下降，这个问题被称为数据漂移。因此，模型可能需要使用新数据进行重新训练，以确保其保持相关性和令人满意的性能。
- en: Having such a feedback loop is essential for continuous improvement. By collecting
    data on the outcomes of predictions, institutions can not only refine their models,
    but also address any unforeseen issues and enhance their accuracy and fairness
    over time.
  id: totrans-199
  prefs: []
  type: TYPE_NORMAL
  zh: 拥有这样的反馈循环对于持续改进至关重要。通过收集预测结果的数据，机构不仅可以优化其模型，还能解决任何意外问题，并随着时间的推移提高其准确性和公平性。
- en: Human Oversight
  id: totrans-200
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 人工监督
- en: As already mentioned, human oversight remains indispensable to safeguard against
    undue reliance on automated predictions. This is applicable to not only the analysis
    of data, model selection, and how the chosen model is operating, but also in any
    decisions made.
  id: totrans-201
  prefs: []
  type: TYPE_NORMAL
  zh: 如前所述，人工监督仍然不可或缺，以防止过度依赖自动预测。这不仅适用于数据分析、模型选择和所选模型的运行情况，也适用于任何决策。
- en: 'Indeed, educational decisions — such as repeating a year or providing additional
    support — should involve educators who can consider the broader context, including
    the student’s overall progress, potential, and personal circumstances. This could
    be facilitated by using tools such as Shapley values or Individual Conditional
    Expectation (ICE) plots:'
  id: totrans-202
  prefs: []
  type: TYPE_NORMAL
  zh: 确实，教育决策——如是否重读一年或提供额外支持——应包括能考虑更广泛背景的教育者，包括学生的整体进展、潜力和个人情况。这可以通过使用如Shapley值或个体条件期望（ICE）图等工具来促进：
- en: '![](../Images/f5157f2390c800225323bb8615ef55b6.png)'
  id: totrans-203
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/f5157f2390c800225323bb8615ef55b6.png)'
- en: Shapley values of the three strongest features for a specific student. The number
    of failures (3), the school (RC), and the student not wanting to pursue higher
    education, all contributed to the student being highly likely to repeat the academic
    year
  id: totrans-204
  prefs: []
  type: TYPE_NORMAL
  zh: 特定学生的三个最强特征的Shapley值。失败次数（3）、学校（RC）以及学生不愿意继续接受高等教育，都导致了该学生极有可能会重读学年。
- en: Ultimately, the relationship garnered between an educator and a student in day-to-day
    interactions simply cannot be replicated by a machine, necessitating the need
    for manual analysis of a model’s outputs. In such sensitive applications, ML should
    be used as an assistant or consultant, rather than an outright decision-maker.
  id: totrans-205
  prefs: []
  type: TYPE_NORMAL
  zh: 归根结底，教育者与学生在日常互动中建立的关系是机器无法复制的，这要求对模型输出进行人工分析。在如此敏感的应用中，ML应作为助手或顾问，而不是完全的决策者。
- en: Improving ML Model Performance
  id: totrans-206
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 提升ML模型性能
- en: There are also several approaches that could be employed to further improve
    and help maximize the performance of any trained ML models. For example, the collection
    of more comprehensive and accurate data is paramount. Institutions must invest
    in data collection systems that capture a holistic view of student performance,
    including both academic and non-academic factors. The more data that is available,
    the greater the ability of ML models to accurately predict any desired outcomes.
  id: totrans-207
  prefs: []
  type: TYPE_NORMAL
  zh: 还有几种方法可以进一步改进并帮助最大化任何训练过的ML模型的性能。例如，收集更全面和准确的数据至关重要。机构必须投资于数据收集系统，这些系统可以捕捉学生表现的全景视图，包括学术和非学术因素。数据越多，ML模型预测任何期望结果的能力就越强。
- en: Experimentation with more sophisticated algorithms (and their hyperparameters)
    and feature engineering techniques is also necessary to improve the models’ predictive
    capabilities. As observed in [a previous article](/player-churn-rate-prediction-data-analysis-and-visualisation-part-1-12a9fdff9c10),
    feature engineering can provide a substantial boost to model performance. This
    is also why it is critical to understand our data by performing a thorough exploration,
    that would enable us to determine what new features could be generated.
  id: totrans-208
  prefs: []
  type: TYPE_NORMAL
  zh: 对更复杂的算法（及其超参数）和特征工程技术的实验也是提高模型预测能力所必需的。如在[之前的文章](/player-churn-rate-prediction-data-analysis-and-visualisation-part-1-12a9fdff9c10)中观察到，特征工程可以显著提升模型性能。这也是为什么了解数据并进行彻底探索至关重要，因为这将使我们能够确定可以生成哪些新特征。
- en: Validation
  id: totrans-209
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 验证
- en: To assess the generalizability of the models, robust validation is essential
    and ensures that the models perform consistently across different demographics
    and educational contexts. In our case, evaluating the model on two different sets
    (extracted from the same dataset) indicated that the performance was very similar
    in both cases. On the other hand, a model that would have overfit to the training
    set would be expected to exhibit much degraded performance on other sets, prompting
    action to be taken (e.g. using more data and simpler models).
  id: totrans-210
  prefs: []
  type: TYPE_NORMAL
  zh: 为了评估模型的泛化能力，进行稳健的验证是至关重要的，它确保模型在不同的人群和教育背景下表现一致。在我们的案例中，对两个不同数据集（从同一数据集中提取）进行评估表明，两个案例中的表现非常相似。另一方面，一个过拟合训练集的模型在其他数据集上的表现会大幅下降，这会促使采取行动（例如，使用更多的数据和更简单的模型）。
- en: Long-term Impact Assessment
  id: totrans-211
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 长期影响评估
- en: Conducting long-term studies to evaluate the impact of using predictive models
    in educational settings is crucial. These studies can help us understand how these
    tools affect students’ outcomes, and whether they genuinely contribute to improved
    educational outcomes. They could also help us determine what level of performance
    is acceptable to increase reliance on ML models. For instance, it could be determined
    that ML models would only be considered if an AUC ROC of more than 0.95 is obtained.
  id: totrans-212
  prefs: []
  type: TYPE_NORMAL
  zh: 进行长期研究以评估在教育环境中使用预测模型的影响至关重要。这些研究可以帮助我们了解这些工具如何影响学生的成果，以及它们是否真正有助于改善教育成果。它们还可以帮助我们确定什么样的性能水平是可以接受的，以增加对机器学习模型的依赖。例如，可能会确定只有当AUC
    ROC超过0.95时，才会考虑机器学习模型。
- en: 🗒️Conclusions
  id: totrans-213
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 🗒️结论
- en: 'The convergence of data science, ML, AI and education was considered in this
    article. Specifically, we saw how we can apply data science and ML to predict
    student performance. This was done in two ways:'
  id: totrans-214
  prefs: []
  type: TYPE_NORMAL
  zh: 这篇文章考虑了数据科学、机器学习、人工智能与教育的融合。具体来说，我们看到如何应用数据科学和机器学习来预测学生表现。这是通过两种方式完成的：
- en: Predict whether a student will need to repeat the academic year using classification
  id: totrans-215
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用分类预测学生是否需要重复学年
- en: Predict the student’s grades using regression
  id: totrans-216
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用回归预测学生的成绩
- en: We also saw how the two approaches could be combined, by first predicting the
    grades and then applying a threshold based on the grade to determine which students
    need to repeat a year.
  id: totrans-217
  prefs: []
  type: TYPE_NORMAL
  zh: 我们还看到如何将这两种方法结合起来，首先预测成绩，然后基于成绩应用阈值来确定哪些学生需要重复一年。
- en: There is no clear winner in terms of performance, since we did not perform any
    optimizations (neither for the classification case, nor for the regression case).
    However, it does demonstrate that there is a certain amount of flexibility in
    how predictions and analyses are performed, while the specific requirements of
    a school would also need to be taken into account.
  id: totrans-218
  prefs: []
  type: TYPE_NORMAL
  zh: 在性能方面没有明确的胜者，因为我们没有进行任何优化（无论是分类情况还是回归情况）。然而，这确实展示了预测和分析执行方式的灵活性，同时还需要考虑学校的具体要求。
- en: We also performed a fair bit of analyses — both before doing any training of
    ML models, and also afterwards. This was done to both understand the data, and
    the trained models. In particular, we considered multiple metrics to determine
    the strengths (and weaknesses) of each model to help us determine which one would
    be best suited to our requirements, and observed which features were most important
    in predicting the outcome. This also helps educators understand the most important
    factors affecting student performance, and take measures to maximize student learning.
  id: totrans-219
  prefs: []
  type: TYPE_NORMAL
  zh: 我们还进行了相当多的分析——无论是在训练机器学习模型之前，还是之后。这是为了理解数据和训练后的模型。特别是，我们考虑了多个指标来确定每个模型的优点（和缺点），以帮助我们确定哪个模型最适合我们的需求，并观察哪些特征在预测结果中最为重要。这也帮助教育者理解影响学生表现的最重要因素，并采取措施最大化学生学习效果。
- en: Of course, many more analyses can be performed. However, those that were done
    in this case study already gave a lot of useful insights. Moreover, other types
    of machine learning approaches could also be performed, such as [causal inference](https://en.wikipedia.org/wiki/Causal_inference)
    (modelling the difference between outcomes, with and without the effect of a treatment
    variable, all else being equal).
  id: totrans-220
  prefs: []
  type: TYPE_NORMAL
  zh: 当然，还可以进行更多的分析。然而，这个案例研究中所做的分析已经提供了很多有用的见解。此外，还可以进行其他类型的机器学习方法，例如 [因果推断](https://en.wikipedia.org/wiki/Causal_inference)（建模处理变量有无效应的结果差异，其它条件相同）。
- en: Hopefully, this serves as an appreciation of the breadth of information with
    which data scientists need to work.
  id: totrans-221
  prefs: []
  type: TYPE_NORMAL
  zh: 希望这能体现数据科学家需要处理的信息的广度。
- en: 'The Dataiku DSS software was used throughout the article, with the following
    pros and cons:'
  id: totrans-222
  prefs: []
  type: TYPE_NORMAL
  zh: 整篇文章中使用了 Dataiku DSS 软件，具有以下优缺点：
- en: '**✔️ Pros:**'
  id: totrans-223
  prefs: []
  type: TYPE_NORMAL
  zh: '**✔️ 优点：**'
- en: Very feature-rich (and we didn’t even explore all of its capabilities)
  id: totrans-224
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 功能非常丰富（而且我们甚至没有探索它的所有功能）。
- en: Has a nice interface that’s fairly responsive, meaning that those who are not
    very confident with programming languages like Python can still perform data science
    and machine learning tasks quite easily
  id: totrans-225
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 界面友好且响应迅速，这意味着那些对 Python 等编程语言不太自信的人也能很容易地执行数据科学和机器学习任务。
- en: Can run on your local computer, ensuring that the privacy of your data is safeguarded
  id: totrans-226
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 可以在本地计算机上运行，确保您的数据隐私得到保护。
- en: Most features are absolutely free (the ones that aren’t are primarily intended
    for enterprise users, such as how the number of users and database connection
    types that are supported)
  id: totrans-227
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 大多数功能是完全免费的（那些不免费的主要是面向企业用户的，例如支持的用户数量和数据库连接类型）。
- en: '**❌ Cons:**'
  id: totrans-228
  prefs: []
  type: TYPE_NORMAL
  zh: '**❌ 缺点：**'
- en: The vast number of features can also make the platform a bit overwhelming to
    use. However, tutorials are offered to introduce new users to both the platform
    and several data science aspects
  id: totrans-229
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 大量的功能也可能使平台使用起来有些压倒性。然而，提供了教程来介绍新用户使用平台及其几个数据科学方面的知识。
- en: Dataiku DSS is not yet officially supported on Windows machines, which is a
    shame considering the prevalence of this operating system
  id: totrans-230
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Dataiku DSS 目前尚未在 Windows 机器上正式支持，这令人遗憾，因为这种操作系统非常普遍。
- en: Overall, I believe that this platform could be very useful for data scientists,
    irrespective of whether they’re comfortable with programming or not. For those
    that do have knowledge of languages like Python or R, Dataiku DSS could potentially
    make certain tasks easier, simpler, and quicker. Custom functions can also be
    programmed directly within the platform too, enhancing its flexibility and ability
    to perform more advanced tasks.
  id: totrans-231
  prefs: []
  type: TYPE_NORMAL
  zh: 总的来说，我认为这个平台对数据科学家非常有用，无论他们是否熟悉编程。对于那些了解 Python 或 R 等语言的人来说，Dataiku DSS 可能会使某些任务变得更简单、更快捷。自定义函数也可以直接在平台内编写，增强了平台的灵活性和执行更高级任务的能力。
- en: I hope this article was an interesting read! Please feel free to leave any feedback
    or questions that you may have, and remember to [follow](https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fa9be78db0c9b&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fplayer-churn-rate-prediction-data-analysis-and-visualisation-part-1-12a9fdff9c10&user=Christian+Galea&userId=a9be78db0c9b)
    me and [sign up for email updates](https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F416973f06c74&operation=register&redirect=https%3A%2F%2Fmedium.com%2F%40chrisgalea&newsletterV3=a9be78db0c9b&newsletterV3Id=416973f06c74&user=Christian+Galea&userId=a9be78db0c9b)
    to ensure that you’re notified upon publication of future articles.
  id: totrans-232
  prefs: []
  type: TYPE_NORMAL
  zh: 希望这篇文章让您读得很有趣！请随时留下任何反馈或问题，并记得[关注](https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fa9be78db0c9b&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fplayer-churn-rate-prediction-data-analysis-and-visualisation-part-1-12a9fdff9c10&user=Christian+Galea&userId=a9be78db0c9b)
    我，并[注册接收电子邮件更新](https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F416973f06c74&operation=register&redirect=https%3A%2F%2Fmedium.com%2F%40chrisgalea&newsletterV3=a9be78db0c9b&newsletterV3Id=416973f06c74&user=Christian+Galea&userId=a9be78db0c9b)
    以确保您在未来文章发布时会收到通知。
- en: 📚 References
  id: totrans-233
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 📚 参考文献
- en: '[1] P. Cortez and A. Silva. “Using Data Mining to Predict Secondary School
    Student Performance.” In A. Brito and J. Teixeira Eds., *Proceedings of 5th FUture
    BUsiness TEChnology Conference (FUBUTEC 2008)* pp. 5–12, Porto, Portugal, April,
    2008, EUROSIS, ISBN 978–9077381–39–7.'
  id: totrans-234
  prefs: []
  type: TYPE_NORMAL
  zh: '[1] P. Cortez 和 A. Silva. “利用数据挖掘预测中学学生表现。” 收录于 A. Brito 和 J. Teixeira 编，《第五届未来商业技术会议（FUBUTEC
    2008）论文集》第 5–12 页，葡萄牙波尔图，2008 年 4 月，EUROSIS，ISBN 978–9077381–39–7。'
- en: '[2] J.H. Friedman, “Greedy function approximation: A gradient boosting machine.”
    Annals of Statistics (2001): 1189–1232.'
  id: totrans-235
  prefs: []
  type: TYPE_NORMAL
  zh: '[2] J.H. Friedman, “贪婪函数逼近：一种梯度提升机器。”《统计年鉴》（2001）：1189–1232。'
- en: '![](../Images/9b800d9a965cfbb1a33f23e4d154787b.png)'
  id: totrans-236
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/9b800d9a965cfbb1a33f23e4d154787b.png)'
- en: Photo by [Pixabay](https://www.pexels.com/photo/application-blur-business-code-270408/)
  id: totrans-237
  prefs: []
  type: TYPE_NORMAL
  zh: 图片来源：[Pixabay](https://www.pexels.com/photo/application-blur-business-code-270408/)
- en: 📝 *Do you have any thoughts about this article? Please feel free to post a note,
    comment, or message me directly on* [*LinkedIn*](https://www.linkedin.com/in/cgalea)!
  id: totrans-238
  prefs: []
  type: TYPE_NORMAL
  zh: 📝 *对这篇文章有什么想法吗？请随时在* [*LinkedIn*](https://www.linkedin.com/in/cgalea) *上发布留言、评论或直接给我发消息！*
- en: 📧 *Make sure to* [***Follow***](https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fa9be78db0c9b&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fplayer-churn-rate-prediction-data-analysis-and-visualisation-part-1-12a9fdff9c10&user=Christian+Galea&userId=a9be78db0c9b)
    *my Medium profile and* [***sign up for email updates***](https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F416973f06c74&operation=register&redirect=https%3A%2F%2Fmedium.com%2F%40chrisgalea&newsletterV3=a9be78db0c9b&newsletterV3Id=416973f06c74&user=Christian+Galea&userId=a9be78db0c9b)
    *to ensure that you’re notified upon publication of future articles.*
  id: totrans-239
  prefs: []
  type: TYPE_NORMAL
  zh: 📧 *请务必* [***关注***](https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fa9be78db0c9b&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fplayer-churn-rate-prediction-data-analysis-and-visualisation-part-1-12a9fdff9c10&user=Christian+Galea&userId=a9be78db0c9b)
    *我的 Medium 个人资料，并* [***注册接收电子邮件更新***](https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F416973f06c74&operation=register&redirect=https%3A%2F%2Fmedium.com%2F%40chrisgalea&newsletterV3=a9be78db0c9b&newsletterV3Id=416973f06c74&user=Christian+Galea&userId=a9be78db0c9b)
    *以确保您在未来文章发布时会收到通知。*
- en: '[## Medium'
  id: totrans-240
  prefs: []
  type: TYPE_NORMAL
  zh: '[## Medium'
- en: Follow me on Medium!
  id: totrans-241
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 在 Medium 上关注我！
- en: medium.com](https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fa9be78db0c9b&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fplayer-churn-rate-prediction-data-analysis-and-visualisation-part-1-12a9fdff9c10&user=Christian+Galea&userId=a9be78db0c9b&source=post_page-----23580747e8b0--------------------------------)
  id: totrans-242
  prefs: []
  type: TYPE_NORMAL
  zh: medium.com](https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fa9be78db0c9b&operation=register&redirect=https%3A%2F%2Ftowardsdatascience.com%2Fplayer-churn-rate-prediction-data-analysis-and-visualisation-part-1-12a9fdff9c10&user=Christian+Galea&userId=a9be78db0c9b&source=post_page-----23580747e8b0--------------------------------)
- en: 📚 *Check out my* [*other articles on Medium*](https://medium.com/@chrisgalea)*:*
  id: totrans-243
  prefs: []
  type: TYPE_NORMAL
  zh: 📚 *查看我的* [*其他 Medium 文章*](https://medium.com/@chrisgalea)*：*
- en: '[](https://medium.com/@chrisgalea?source=post_page-----23580747e8b0--------------------------------)
    [## Christian Galea — Medium'
  id: totrans-244
  prefs: []
  type: TYPE_NORMAL
  zh: '[](https://medium.com/@chrisgalea?source=post_page-----23580747e8b0--------------------------------)
    [## Christian Galea — Medium'
- en: Read writing from Christian Galea on Medium. Post-Doctoral Researcher, Computer
    Vision and Machine Learning (esp…
  id: totrans-245
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 阅读 Christian Galea 在 Medium 上的文章。博士后研究员，计算机视觉与机器学习（特别是……）
- en: medium.com](https://medium.com/@chrisgalea?source=post_page-----23580747e8b0--------------------------------)
  id: totrans-246
  prefs: []
  type: TYPE_NORMAL
  zh: '[medium.com](https://medium.com/@chrisgalea?source=post_page-----23580747e8b0--------------------------------)'
