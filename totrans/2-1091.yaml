- en: How Python Enumerations Make Data Configuration Elegant
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: Pythonæšä¸¾å¦‚ä½•ä½¿æ•°æ®é…ç½®ä¼˜é›…
- en: åŸæ–‡ï¼š[https://towardsdatascience.com/how-python-enumerations-make-data-configuration-elegant-a7d8356657bd](https://towardsdatascience.com/how-python-enumerations-make-data-configuration-elegant-a7d8356657bd)
  id: totrans-1
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: åŸæ–‡ï¼š[https://towardsdatascience.com/how-python-enumerations-make-data-configuration-elegant-a7d8356657bd](https://towardsdatascience.com/how-python-enumerations-make-data-configuration-elegant-a7d8356657bd)
- en: An introduction to using Enums in Python for ML projects
  id: totrans-2
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: Pythonä¸­ç”¨äºæœºå™¨å­¦ä¹ é¡¹ç›®çš„æšä¸¾ç®€ä»‹
- en: '[](https://medium.com/@ebbeberge?source=post_page-----a7d8356657bd--------------------------------)[![Eirik
    Berge, PhD](../Images/7507374e75980fd0c1056af3cd299eaa.png)](https://medium.com/@ebbeberge?source=post_page-----a7d8356657bd--------------------------------)[](https://towardsdatascience.com/?source=post_page-----a7d8356657bd--------------------------------)[![Towards
    Data Science](../Images/a6ff2676ffcc0c7aad8aaf1d79379785.png)](https://towardsdatascience.com/?source=post_page-----a7d8356657bd--------------------------------)
    [Eirik Berge, PhD](https://medium.com/@ebbeberge?source=post_page-----a7d8356657bd--------------------------------)'
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: '[](https://medium.com/@ebbeberge?source=post_page-----a7d8356657bd--------------------------------)[![Eirik
    Berge, PhD](../Images/7507374e75980fd0c1056af3cd299eaa.png)](https://medium.com/@ebbeberge?source=post_page-----a7d8356657bd--------------------------------)[](https://towardsdatascience.com/?source=post_page-----a7d8356657bd--------------------------------)[![Towards
    Data Science](../Images/a6ff2676ffcc0c7aad8aaf1d79379785.png)](https://towardsdatascience.com/?source=post_page-----a7d8356657bd--------------------------------)
    [Eirik Berge, PhD](https://medium.com/@ebbeberge?source=post_page-----a7d8356657bd--------------------------------)'
- en: Â·Published in [Towards Data Science](https://towardsdatascience.com/?source=post_page-----a7d8356657bd--------------------------------)
    Â·7 min readÂ·May 28, 2023
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: Â·å‘è¡¨äº [Towards Data Science](https://towardsdatascience.com/?source=post_page-----a7d8356657bd--------------------------------)
    Â·é˜…è¯»æ—¶é—´7åˆ†é’ŸÂ·2023å¹´5æœˆ28æ—¥
- en: --
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: --
- en: '![](../Images/f50c10b5f705134f0d6b76ef93de6254.png)'
  id: totrans-6
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/f50c10b5f705134f0d6b76ef93de6254.png)'
- en: Photo by [Joshua Woroniecki](https://unsplash.com/@joshua_j_woroniecki?utm_source=medium&utm_medium=referral)
    on [Unsplash](https://unsplash.com/?utm_source=medium&utm_medium=referral)
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: å›¾ç‰‡ç”± [Joshua Woroniecki](https://unsplash.com/@joshua_j_woroniecki?utm_source=medium&utm_medium=referral)
    æä¾›ï¼Œæ¥æºäº [Unsplash](https://unsplash.com/?utm_source=medium&utm_medium=referral)
- en: Overview of Your Journey
  id: totrans-8
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: ä½ çš„æ—…ç¨‹æ¦‚è¿°
- en: '[Introduction](#a6cb)'
  id: totrans-9
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[ç®€ä»‹](#a6cb)'
- en: '[A Naive Approach](#8f4f)'
  id: totrans-10
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[ä¸€ç§å¤©çœŸçš„æ–¹æ³•](#8f4f)'
- en: '[Enums to the Rescue!](#7cf7)'
  id: totrans-11
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[æšä¸¾çš„æ•‘æ´ï¼](#7cf7)'
- en: '[Wrapping Up](#c801)'
  id: totrans-12
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[æ€»ç»“](#c801)'
- en: 1 â€” Introduction
  id: totrans-13
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 1 â€” ç®€ä»‹
- en: 'When writing Python code in machine learning projects, there is almost always
    a need for **configuration code**. This is code that keeps track of information
    that is used to configure other components of your code. While this definition
    probably helps no one that does not already know what this means, a few examples
    really help:'
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨æœºå™¨å­¦ä¹ é¡¹ç›®ä¸­ç¼–å†™ Python ä»£ç æ—¶ï¼Œå‡ ä¹æ€»æ˜¯éœ€è¦**é…ç½®ä»£ç **ã€‚è¿™æ®µä»£ç è·Ÿè¸ªç”¨äºé…ç½®å…¶ä»–ä»£ç ç»„ä»¶çš„ä¿¡æ¯ã€‚è™½ç„¶è¿™ä¸ªå®šä¹‰å¯èƒ½å¯¹é‚£äº›ä¸æ˜ç™½çš„äººæ²¡æœ‰å¸®åŠ©ï¼Œä½†å‡ ä¸ªä¾‹å­ä¼šéå¸¸æœ‰ç”¨ï¼š
- en: '**Hyperparameters:** In machine learning, hyperparameters are used to train
    multiple models with slight variations. The hyperparameter might be the number
    of trees in a random forest. Another example is the relaxation parameter for Ridge
    or Lasso regression.'
  id: totrans-15
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**è¶…å‚æ•°ï¼š** åœ¨æœºå™¨å­¦ä¹ ä¸­ï¼Œè¶…å‚æ•°ç”¨äºè®­ç»ƒå¤šä¸ªç•¥æœ‰ä¸åŒçš„æ¨¡å‹ã€‚è¶…å‚æ•°å¯èƒ½æ˜¯éšæœºæ£®æ—ä¸­çš„æ ‘æœ¨æ•°é‡ã€‚å¦ä¸€ä¸ªä¾‹å­æ˜¯ Ridge æˆ– Lasso å›å½’çš„æ¾å¼›å‚æ•°ã€‚'
- en: '**Access information:** When connecting to a database or a cloud-hosted storage
    account, there is a need for access information. This includes the name, password,
    and other additional properties of the storage system. Similarly, say you are
    subscribing to a pub/sub-system like Kafka or an MQTT broker. Then the name of
    the topic, a password, and port numbers are necessary configuration code.'
  id: totrans-16
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**è®¿é—®ä¿¡æ¯ï¼š** åœ¨è¿æ¥åˆ°æ•°æ®åº“æˆ–äº‘æ‰˜ç®¡å­˜å‚¨è´¦æˆ·æ—¶ï¼Œéœ€è¦è®¿é—®ä¿¡æ¯ã€‚è¿™åŒ…æ‹¬å­˜å‚¨ç³»ç»Ÿçš„åç§°ã€å¯†ç ä»¥åŠå…¶ä»–é™„åŠ å±æ€§ã€‚ç±»ä¼¼åœ°ï¼Œå‡è®¾ä½ è®¢é˜…äº†åƒ Kafka æˆ–
    MQTT ç»çºªäººè¿™æ ·çš„å‘å¸ƒ/è®¢é˜…ç³»ç»Ÿã€‚é‚£ä¹ˆä¸»é¢˜åç§°ã€å¯†ç å’Œç«¯å£å·å°±æ˜¯å¿…è¦çš„é…ç½®ä»£ç ã€‚'
- en: '**Pipeline information:** When building a data engineering pipeline, there
    is a need for configuration code. This can be ratios for splitting testing and
    training sets, or a CRON expression for when to run the pipeline.'
  id: totrans-17
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**ç®¡é“ä¿¡æ¯ï¼š** åœ¨æ„å»ºæ•°æ®å·¥ç¨‹ç®¡é“æ—¶ï¼Œéœ€è¦é…ç½®ä»£ç ã€‚è¿™å¯èƒ½åŒ…æ‹¬ç”¨äºæ‹†åˆ†æµ‹è¯•é›†å’Œè®­ç»ƒé›†çš„æ¯”ä¾‹ï¼Œæˆ–ç”¨äºè¿è¡Œç®¡é“çš„ CRON è¡¨è¾¾å¼ã€‚'
- en: In summary, configuration code can in some cases help to access outside systems
    like databases and pub/sub-systems. In other cases, it can help to configure internal
    systems like machine learning models and data engineering pipelines.
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: æ€»ä¹‹ï¼Œåœ¨æŸäº›æƒ…å†µä¸‹ï¼Œé…ç½®ä»£ç å¯ä»¥å¸®åŠ©è®¿é—®å¤–éƒ¨ç³»ç»Ÿï¼Œå¦‚æ•°æ®åº“å’Œå‘å¸ƒ/è®¢é˜…ç³»ç»Ÿã€‚åœ¨å…¶ä»–æƒ…å†µä¸‹ï¼Œå®ƒå¯ä»¥å¸®åŠ©é…ç½®å†…éƒ¨ç³»ç»Ÿï¼Œå¦‚æœºå™¨å­¦ä¹ æ¨¡å‹å’Œæ•°æ®å·¥ç¨‹ç®¡é“ã€‚
- en: It often makes sense to store configuration code in separate files (in formats
    like `.env`, `.yaml`, or `.json`). Nevertheless, this configuration code still
    needs to be accessed within the Python code. There are many ways to organize the
    configuration code in your Python scripts ğŸ˜•
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: å°†é…ç½®ä»£ç å­˜å‚¨åœ¨å•ç‹¬çš„æ–‡ä»¶ä¸­ï¼ˆå¦‚`.env`ã€`.yaml`æˆ–`.json`æ ¼å¼ï¼‰é€šå¸¸æ˜¯æœ‰æ„ä¹‰çš„ã€‚ç„¶è€Œï¼Œè¿™äº›é…ç½®ä»£ç ä»éœ€è¦åœ¨Pythonä»£ç ä¸­è®¿é—®ã€‚æœ‰è®¸å¤šæ–¹æ³•å¯ä»¥åœ¨ä½ çš„Pythonè„šæœ¬ä¸­ç»„ç»‡é…ç½®ä»£ç 
    ğŸ˜•
- en: 'In this blog post, I will show you why **Python enumerations** are a better
    choice than some of the more obvious ways of doing this. Iâ€™ve previously made
    a YouTube video on enumerations in Python. You can check that one out if you prefer
    a video version of more or less the same content:'
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨è¿™ç¯‡åšå®¢æ–‡ç« ä¸­ï¼Œæˆ‘å°†å‘ä½ å±•ç¤ºä¸ºä»€ä¹ˆ**Python æšä¸¾**æ¯”ä¸€äº›æ›´æ˜æ˜¾çš„æ–¹æ³•æ›´å¥½ã€‚æˆ‘ä¹‹å‰åˆ¶ä½œäº†ä¸€ä¸ªå…³äºPythonæšä¸¾çš„YouTubeè§†é¢‘ã€‚å¦‚æœä½ æ›´å–œæ¬¢è§†é¢‘ç‰ˆæœ¬ï¼Œå¯ä»¥æŸ¥çœ‹é‚£ä¸ªï¼š
- en: 2 â€” A Naive Approach
  id: totrans-21
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 2 â€” ä¸€ä¸ªç®€å•çš„æ–¹æ³•
- en: 'Before we dive into how Python Enums can make configuration code more readable,
    letâ€™s first take a look at a naive approach that is often used. One common way
    to store configuration information is to use global variables. Letâ€™s say you have
    a machine-learning model that uses `[RandomForestClassifier](https://scikit-learn.org/stable/modules/generated/sklearn.ensemble.RandomForestClassifier.html)`
    from `[scikit-learn](https://scikit-learn.org/stable/index.html)`. You want to
    store the number of trees in a global variable called `N_ESTIMATORS`. This is
    in conjunction with the parameter name that `RandomForestClassifier` takes. You
    could define this variable at the top of our script like so:'
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨æˆ‘ä»¬æ·±å…¥äº†è§£Pythonæšä¸¾å¦‚ä½•ä½¿é…ç½®ä»£ç æ›´å…·å¯è¯»æ€§ä¹‹å‰ï¼Œå…ˆæ¥çœ‹ä¸€ç§å¸¸ç”¨çš„ç®€å•æ–¹æ³•ã€‚å­˜å‚¨é…ç½®ä¿¡æ¯çš„ä¸€ç§å¸¸è§æ–¹æ³•æ˜¯ä½¿ç”¨å…¨å±€å˜é‡ã€‚å‡è®¾ä½ æœ‰ä¸€ä¸ªä½¿ç”¨`[RandomForestClassifier](https://scikit-learn.org/stable/modules/generated/sklearn.ensemble.RandomForestClassifier.html)`æ¥è‡ª`[scikit-learn](https://scikit-learn.org/stable/index.html)`çš„æœºå™¨å­¦ä¹ æ¨¡å‹ã€‚ä½ æƒ³å°†æ ‘çš„æ•°é‡å­˜å‚¨åœ¨ä¸€ä¸ªåä¸º`N_ESTIMATORS`çš„å…¨å±€å˜é‡ä¸­ã€‚è¿™æ˜¯ä¸`RandomForestClassifier`æ‰€éœ€çš„å‚æ•°åç§°é…åˆä½¿ç”¨çš„ã€‚ä½ å¯ä»¥åœ¨è„šæœ¬çš„é¡¶éƒ¨å®šä¹‰è¿™ä¸ªå˜é‡ï¼š
- en: '[PRE0]'
  id: totrans-23
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: 'With only a single configuration parameter, this is no problem. However, letâ€˜s
    introduce a few more:'
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: åªæœ‰ä¸€ä¸ªé…ç½®å‚æ•°æ—¶ï¼Œè¿™æ²¡æœ‰é—®é¢˜ã€‚ç„¶è€Œï¼Œè®©æˆ‘ä»¬å¼•å…¥æ›´å¤šå‚æ•°ï¼š
- en: '[PRE1]'
  id: totrans-25
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: The first minor problem is that there is *no way for Python to understand that
    these global variables are related*. They are simply distinct global variables.
    Hence you can not iterate over them or collectively perform safety checks on them
    without introducing more code.
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: ç¬¬ä¸€ä¸ªå°é—®é¢˜æ˜¯*Python æ— æ³•ç†è§£è¿™äº›å…¨å±€å˜é‡ä¹‹é—´çš„å…³ç³»*ã€‚å®ƒä»¬åªæ˜¯ä¸åŒçš„å…¨å±€å˜é‡ã€‚å› æ­¤ï¼Œé™¤éå¼•å…¥æ›´å¤šä»£ç ï¼Œå¦åˆ™æ— æ³•å¯¹å®ƒä»¬è¿›è¡Œè¿­ä»£æˆ–é›†ä½“æ‰§è¡Œå®‰å…¨æ£€æŸ¥ã€‚
- en: 'A more serious problem arises when you try to work with another model in the
    script as well. Letâ€™s say that you want to try to use the `[AdaBoostClassifier](https://scikit-learn.org/stable/modules/generated/sklearn.ensemble.AdaBoostClassifier.html)`
    as well. Then you might write:'
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: å½“ä½ å°è¯•åœ¨è„šæœ¬ä¸­ä½¿ç”¨å¦ä¸€ä¸ªæ¨¡å‹æ—¶ï¼Œä¼šå‡ºç°æ›´ä¸¥é‡çš„é—®é¢˜ã€‚å‡è®¾ä½ æƒ³å°è¯•ä½¿ç”¨`[AdaBoostClassifier](https://scikit-learn.org/stable/modules/generated/sklearn.ensemble.AdaBoostClassifier.html)`ã€‚é‚£ä¹ˆä½ å¯èƒ½ä¼šå†™ï¼š
- en: '[PRE2]'
  id: totrans-28
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: Do you see what has happened? *Youâ€™ve accidentally overwritten the* `*N_ESTIMATORS*`
    *global variable!* While this is simple to spot here, imagine that the Python
    script was 500 lines long and written by someone else. Maybe this would have slipped
    you by. Python would probably give no indication that something was wrong. Itâ€™s
    not like setting `N_ESTIMATORS = 50` for the `RandomForestClassifier` gives a
    syntax error ğŸ˜§
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: ä½ çœ‹åˆ°å‘ç”Ÿäº†ä»€ä¹ˆäº†å—ï¼Ÿ*ä½ ä¸å°å¿ƒè¦†ç›–äº†*`*N_ESTIMATORS*`*å…¨å±€å˜é‡ï¼*è™½ç„¶è¿™é‡Œå¾ˆå®¹æ˜“å‘ç°ï¼Œä½†å‡è®¾Pythonè„šæœ¬æœ‰500è¡Œï¼Œç”±å…¶ä»–äººç¼–å†™ã€‚ä¹Ÿè®¸ä½ ä¼šå¿½ç•¥è¿™ä¸ªé—®é¢˜ã€‚Pythonå¯èƒ½ä¸ä¼šç»™å‡ºä»»ä½•é”™è¯¯æç¤ºã€‚è®¾ç½®`N_ESTIMATORS
    = 50`å¯¹äº`RandomForestClassifier`å¹¶ä¸ä¼šå¯¼è‡´è¯­æ³•é”™è¯¯ ğŸ˜§
- en: 'How would you solve this? You could introduce a prolonged name indicating which
    model the `N_ESTIMATORS` global variable belongs to:'
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: ä½ å¦‚ä½•è§£å†³è¿™ä¸ªé—®é¢˜ï¼Ÿä½ å¯ä»¥å¼•å…¥ä¸€ä¸ªå»¶é•¿çš„åç§°æ¥è¡¨ç¤º`N_ESTIMATORS`å…¨å±€å˜é‡å±äºå“ªä¸ªæ¨¡å‹ï¼š
- en: '[PRE3]'
  id: totrans-31
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: 'Now it looks like the `LEARNING_RATE` global variable is not related to `AdaBoostClassifier`
    anymore. Might as well add the suffix to all the variables then to avoid confusion:'
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: ç°åœ¨çœ‹èµ·æ¥`LEARNING_RATE`å…¨å±€å˜é‡ä¸`AdaBoostClassifier`ä¸å†ç›¸å…³ã€‚é‚£ä¹ˆï¼Œä¸å¦¨ä¸ºæ‰€æœ‰å˜é‡æ·»åŠ åç¼€ä»¥é¿å…æ··æ·†ï¼š
- en: '[PRE4]'
  id: totrans-33
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: In addition to overly long variable names, you can start to see what kind of
    subtle issues you run into with configuration code. These issues quickly create
    hard-to-understand bugs at worst, and poor variable names at best.
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: é™¤äº†å˜é‡åè¿‡é•¿ï¼Œä½ ä¼šå¼€å§‹çœ‹åˆ°é…ç½®ä»£ç ä¸­é‡åˆ°çš„ç»†å¾®é—®é¢˜ã€‚è¿™äº›é—®é¢˜å¾ˆå¿«ä¼šé€ æˆéš¾ä»¥ç†è§£çš„é”™è¯¯ï¼Œæœ€ç³Ÿç³•çš„æƒ…å†µä¸‹æ˜¯éš¾ä»¥ç†è§£çš„é”™è¯¯ï¼Œæœ€å¥½çš„æƒ…å†µä¸‹æ˜¯ç³Ÿç³•çš„å˜é‡åã€‚
- en: For database calls, it's also very common to make calls to multiple databases
    within a single script. *Do you really want to end up with variable names like*
    `*PRODUCTION_DATABASE_INGESTION_ACCESS_KEY*`*?*
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: å¯¹äºæ•°æ®åº“è°ƒç”¨ï¼Œé€šå¸¸åœ¨ä¸€ä¸ªè„šæœ¬ä¸­è°ƒç”¨å¤šä¸ªæ•°æ®åº“ä¹Ÿæ˜¯å¾ˆå¸¸è§çš„ã€‚*ä½ çœŸçš„æƒ³è¦ä»¥åƒ* `*PRODUCTION_DATABASE_INGESTION_ACCESS_KEY*`
    *è¿™æ ·çš„å˜é‡åç»“æŸå—ï¼Ÿ*
- en: Is there not a better way to deal with configuration code in Python?
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: æ˜¯å¦æœ‰æ›´å¥½çš„æ–¹æ³•æ¥å¤„ç† Python ä¸­çš„é…ç½®ä»£ç ï¼Ÿ
- en: 3 â€” Enums to the Rescue!
  id: totrans-37
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 3 â€” æšä¸¾æ¥æ‹¯æ•‘ï¼
- en: '![](../Images/b9774578a46a637bbf2e28120ddbd426.png)'
  id: totrans-38
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/b9774578a46a637bbf2e28120ddbd426.png)'
- en: Photo by [Zac Durant](https://unsplash.com/ja/@zacdurant?utm_source=medium&utm_medium=referral)
    on [Unsplash](https://unsplash.com/?utm_source=medium&utm_medium=referral)
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: '[Zac Durant](https://unsplash.com/ja/@zacdurant?utm_source=medium&utm_medium=referral)
    æ‹æ‘„çš„ç…§ç‰‡ï¼Œæ¥è‡ª [Unsplash](https://unsplash.com/?utm_source=medium&utm_medium=referral)ã€‚'
- en: '[Python Enums](https://docs.python.org/3/library/enum.html) provide a more
    elegant solution for storing configuration information. Enums (short for enumerations)
    are essentially a way to define a set of named constants. The best way to understand
    Enums quickly is to adapt the machine learning configuration code from the previous
    section. The previous code you had was:'
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: '[Python æšä¸¾](https://docs.python.org/3/library/enum.html) æä¾›äº†ä¸€ç§æ›´ä¼˜é›…çš„è§£å†³æ–¹æ¡ˆæ¥å­˜å‚¨é…ç½®ä¿¡æ¯ã€‚æšä¸¾ï¼ˆæšä¸¾çš„ç¼©å†™ï¼‰æœ¬è´¨ä¸Šæ˜¯ä¸€ç§å®šä¹‰å‘½åå¸¸é‡é›†åˆçš„æ–¹å¼ã€‚å¿«é€Ÿç†è§£æšä¸¾çš„æœ€ä½³æ–¹å¼æ˜¯è°ƒæ•´å‰ä¸€èŠ‚çš„æœºå™¨å­¦ä¹ é…ç½®ä»£ç ã€‚ä½ ä¹‹å‰çš„ä»£ç æ˜¯ï¼š'
- en: '[PRE5]'
  id: totrans-41
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: 'It can now be written as:'
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: ç°åœ¨å¯ä»¥è¿™æ ·å†™ï¼š
- en: '[PRE6]'
  id: totrans-43
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: Some Advantages
  id: totrans-44
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: ä¸€äº›ä¼˜ç‚¹
- en: 'Letâ€˜s quickly see what advantages Python Enums give us:'
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: è®©æˆ‘ä»¬å¿«é€Ÿçœ‹çœ‹ Python æšä¸¾ç»™æˆ‘ä»¬å¸¦æ¥äº†ä»€ä¹ˆä¼˜åŠ¿ï¼š
- en: Each parameter (e.g., `MAX_DEPTH`) is now stored hierarchically within the model
    they are used for. This makes sure that nothing is overwritten when more configuration
    code is introduced. Hence there is also no need for overly long variable names.
  id: totrans-46
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æ¯ä¸ªå‚æ•°ï¼ˆä¾‹å¦‚ï¼Œ`MAX_DEPTH`ï¼‰ç°åœ¨æŒ‰å±‚æ¬¡ç»“æ„å­˜å‚¨åœ¨å®ƒä»¬æ‰€ä½¿ç”¨çš„æ¨¡å‹ä¸­ã€‚è¿™ç¡®ä¿äº†åœ¨å¼•å…¥æ›´å¤šé…ç½®ä»£ç æ—¶ä¸ä¼šè¢«è¦†ç›–ã€‚å› æ­¤ï¼Œä¹Ÿä¸éœ€è¦è¿‡é•¿çš„å˜é‡åã€‚
- en: The different parameters used in `RandomForestClassifier` are now grouped in
    the `RandomForest` Enum. Thus they can be iterated over and collectively analyzed
    for type safety.
  id: totrans-47
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`RandomForestClassifier` ä¸­ä½¿ç”¨çš„ä¸åŒå‚æ•°ç°åœ¨è¢«åˆ†ç»„åˆ° `RandomForest` æšä¸¾ä¸­ã€‚å› æ­¤ï¼Œå®ƒä»¬å¯ä»¥è¢«è¿­ä»£ï¼Œå¹¶ä¸”å¯ä»¥é›†ä½“åˆ†æä»¥ç¡®ä¿ç±»å‹å®‰å…¨ã€‚'
- en: Since Enums are classes, they can have **docstrings** as I have illustrated
    above. While this might not be strictly needed for this example, in other examples
    this might clarify what the enumeration is referring to. Having this as a docstring
    that is coupled with the class rather than a free-flowing comment is a lot better.
    For one thing, automatic documentation software will now pick up that the docstring
    belongs to the enumeration. For the free-flowing comment, this would probably
    just be lost.
  id: totrans-48
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ç”±äºæšä¸¾æ˜¯ç±»ï¼Œå®ƒä»¬å¯ä»¥åƒæˆ‘ä¸Šé¢æ‰€ç¤ºé‚£æ ·æ‹¥æœ‰**æ–‡æ¡£å­—ç¬¦ä¸²**ã€‚è™½ç„¶å¯¹äºè¿™ä¸ªç¤ºä¾‹æ¥è¯´å¯èƒ½ä¸ä¸¥æ ¼éœ€è¦ï¼Œä½†åœ¨å…¶ä»–ç¤ºä¾‹ä¸­ï¼Œè¿™å¯èƒ½ä¼šæ¾„æ¸…æšä¸¾æ‰€æŒ‡çš„å†…å®¹ã€‚å°†å…¶ä½œä¸ºä¸ç±»ç›¸å…³è”çš„æ–‡æ¡£å­—ç¬¦ä¸²ï¼Œè€Œä¸æ˜¯è‡ªç”±æµåŠ¨çš„æ³¨é‡Šï¼Œæ•ˆæœè¦å¥½å¾—å¤šã€‚ä¸€æ–¹é¢ï¼Œè‡ªåŠ¨æ–‡æ¡£ç”Ÿæˆè½¯ä»¶ç°åœ¨ä¼šæ£€æµ‹åˆ°æ–‡æ¡£å­—ç¬¦ä¸²å±äºæšä¸¾ã€‚å¯¹äºè‡ªç”±æµåŠ¨çš„æ³¨é‡Šï¼Œè¿™å¯èƒ½ä¼šè¢«å¿½ç•¥ã€‚
- en: 'If you now want to access the configuration code further down in the script,
    you can simply write:'
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: å¦‚æœä½ ç°åœ¨æƒ³åœ¨è„šæœ¬ä¸­è¿›ä¸€æ­¥è®¿é—®é…ç½®ä»£ç ï¼Œå¯ä»¥ç®€å•åœ°å†™ï¼š
- en: '[PRE7]'
  id: totrans-50
  prefs: []
  type: TYPE_PRE
  zh: '[PRE7]'
- en: This looks clean and is easy to read ğŸ˜
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™çœ‹èµ·æ¥å¾ˆå¹²å‡€ï¼Œæ˜“äºé˜…è¯» ğŸ˜
- en: Some Python features of Enums
  id: totrans-52
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: ä¸€äº› Python æšä¸¾çš„åŠŸèƒ½
- en: 'Letâ€™s illustrate some simple features of Python enumerations by looking at
    the toy example:'
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: è®©æˆ‘ä»¬é€šè¿‡æŸ¥çœ‹è¿™ä¸ªç©å…·ç¤ºä¾‹æ¥è¯´æ˜ Python æšä¸¾çš„ä¸€äº›ç®€å•åŠŸèƒ½ï¼š
- en: '[PRE8]'
  id: totrans-54
  prefs: []
  type: TYPE_PRE
  zh: '[PRE8]'
- en: 'Clearly, the information contained within the enumeration is related; they
    are all about HTTP(s) status codes. Given this, you can now use the following
    simple code to extract the names and values:'
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: æ˜¾ç„¶ï¼Œæšä¸¾ä¸­çš„ä¿¡æ¯æ˜¯ç›¸å…³çš„ï¼›å®ƒä»¬éƒ½å…³äº HTTP(s) çŠ¶æ€ç ã€‚é‰´äºæ­¤ï¼Œä½ ç°åœ¨å¯ä»¥ä½¿ç”¨ä»¥ä¸‹ç®€å•ä»£ç æ¥æå–åç§°å’Œå€¼ï¼š
- en: '[PRE9]'
  id: totrans-56
  prefs: []
  type: TYPE_PRE
  zh: '[PRE9]'
- en: 'Python Enums also allow you to go backward: Given that a status code value
    is `404`, you can find the status code name by simply writing:'
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: Python æšä¸¾è¿˜å…è®¸ä½ å‘åæŸ¥æ‰¾ï¼šç»™å®šçŠ¶æ€ç å€¼ä¸º `404`ï¼Œä½ å¯ä»¥é€šè¿‡ç®€å•åœ°å†™æ¥æ‰¾åˆ°çŠ¶æ€ç åç§°ï¼š
- en: '[PRE10]'
  id: totrans-58
  prefs: []
  type: TYPE_PRE
  zh: '[PRE10]'
- en: 'You can collectively work with the names/values pairs in an Enum by e.g., using
    the list constructor `list()`:'
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: ä½ å¯ä»¥é€šè¿‡ä¾‹å¦‚ä½¿ç”¨åˆ—è¡¨æ„é€ å‡½æ•° `list()` æ¥é›†ä½“å¤„ç†æšä¸¾ä¸­çš„åç§°/å€¼å¯¹ï¼š
- en: '[PRE11]'
  id: totrans-60
  prefs: []
  type: TYPE_PRE
  zh: '[PRE11]'
- en: 'Finally, you can pickle and unpickle enumerations in Python. To do this, simply
    use the `pickle` model as you would with other familiar objects in Python:'
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: æœ€åï¼Œä½ å¯ä»¥åœ¨ Python ä¸­å¯¹æšä¸¾è¿›è¡Œåºåˆ—åŒ–å’Œååºåˆ—åŒ–ã€‚ä¸ºæ­¤ï¼Œåªéœ€åƒä½¿ç”¨ Python ä¸­çš„å…¶ä»–ç†Ÿæ‚‰å¯¹è±¡ä¸€æ ·ä½¿ç”¨ `pickle` æ¨¡å—ï¼š
- en: '[PRE12]'
  id: totrans-62
  prefs: []
  type: TYPE_PRE
  zh: '[PRE12]'
- en: This is especially important for configuration code for machine learning models.
    In that case, there are also well-known libraries like [MLflow](https://mlflow.org/)
    that saves configuration code elegantly for you.
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™å¯¹äºæœºå™¨å­¦ä¹ æ¨¡å‹çš„é…ç½®ä»£ç å°¤ä¸ºé‡è¦ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œä¹Ÿæœ‰åƒ [MLflow](https://mlflow.org/) è¿™æ ·çš„çŸ¥ååº“å¯ä»¥ä¼˜é›…åœ°ä¸ºä½ ä¿å­˜é…ç½®ä»£ç ã€‚
- en: Sensitive Configuration Code
  id: totrans-64
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: æ•æ„Ÿé…ç½®ä»£ç 
- en: When using sensitive configuration code (like passwords or access keys), *you
    should NEVER write them explicitly in the code*. They should be in a separate
    file that is ignored by the version control system you are using, and imported
    into the script.
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: ä½¿ç”¨æ•æ„Ÿé…ç½®ä»£ç ï¼ˆå¦‚å¯†ç æˆ–è®¿é—®å¯†é’¥ï¼‰æ—¶ï¼Œ*ä½ ç»ä¸åº”è¯¥åœ¨ä»£ç ä¸­æ˜æ–‡ä¹¦å†™å®ƒä»¬*ã€‚å®ƒä»¬åº”è¯¥å­˜æ”¾åœ¨ä¸€ä¸ªè¢«ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿå¿½ç•¥çš„å•ç‹¬æ–‡ä»¶ä¸­ï¼Œå¹¶å¯¼å…¥åˆ°è„šæœ¬ä¸­ã€‚
- en: 'That does not mean that they can not be stored in Enums within the code. Enums
    are about the organization, and even censored information can be organized. As
    an example, here is an enumeration representing the connection to a [storage account
    in Microsoft Azure](https://learn.microsoft.com/en-us/azure/storage/common/storage-account-overview):'
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™å¹¶ä¸æ„å‘³ç€å®ƒä»¬ä¸èƒ½å­˜å‚¨åœ¨ä»£ç ä¸­çš„æšä¸¾ï¼ˆEnumsï¼‰é‡Œã€‚æšä¸¾æ˜¯å…³äºç»„ç»‡çš„ï¼Œå³ä½¿æ˜¯è¢«å®¡æŸ¥è¿‡çš„ä¿¡æ¯ä¹Ÿå¯ä»¥è¢«ç»„ç»‡ã€‚ä¾‹å¦‚ï¼Œè¿™é‡Œæœ‰ä¸€ä¸ªè¡¨ç¤ºè¿æ¥åˆ°[Microsoft
    Azureå­˜å‚¨è´¦æˆ·](https://learn.microsoft.com/en-us/azure/storage/common/storage-account-overview)çš„æšä¸¾ï¼š
- en: '[PRE13]'
  id: totrans-67
  prefs: []
  type: TYPE_PRE
  zh: '[PRE13]'
- en: Here the `StorageAccount` enumeration is fetching the `ACCESS_KEY` from an environment
    variable. This can be set in e.g., a `.env` file. Notice that within the Python
    script, no sensitive information is revealed. Nevertheless, all the information
    about the storage account is neatly organized into an enumeration.
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨è¿™é‡Œï¼Œ`StorageAccount`æšä¸¾ä»ç¯å¢ƒå˜é‡ä¸­è·å–`ACCESS_KEY`ã€‚è¿™å¯ä»¥è®¾ç½®åœ¨ä¾‹å¦‚`.env`æ–‡ä»¶ä¸­ã€‚è¯·æ³¨æ„ï¼Œåœ¨Pythonè„šæœ¬ä¸­æ²¡æœ‰æ³„éœ²æ•æ„Ÿä¿¡æ¯ã€‚ç„¶è€Œï¼Œæ‰€æœ‰å…³äºå­˜å‚¨è´¦æˆ·çš„ä¿¡æ¯éƒ½è¢«æ•´é½åœ°ç»„ç»‡æˆä¸€ä¸ªæšä¸¾ã€‚
- en: 4â€” Wrapping Up
  id: totrans-69
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 4â€” æ€»ç»“
- en: '![](../Images/4a06c775ef80f575c5d7cdfe36d7a151.png)'
  id: totrans-70
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/4a06c775ef80f575c5d7cdfe36d7a151.png)'
- en: Photo by [Spencer Bergen](https://unsplash.com/@spencerbergen?utm_source=medium&utm_medium=referral)
    on [Unsplash](https://unsplash.com/?utm_source=medium&utm_medium=referral)
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: å›¾ç‰‡ç”±[Spencer Bergen](https://unsplash.com/@spencerbergen?utm_source=medium&utm_medium=referral)æ‹æ‘„ï¼Œ[Unsplash](https://unsplash.com/?utm_source=medium&utm_medium=referral)
- en: In this blog post, weâ€™ve seen how Python Enums can make configuration code readable,
    self-documenting, and less error-prone. If you want to learn more about enumerations,
    then I recommend the official [Enum HOWTO guide](https://docs.python.org/3/howto/enum.html#pickling)
    and the blog post [Build Enumerations of Constants With Pythonâ€™s Enum](https://realpython.com/python-enum/).
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨è¿™ç¯‡åšå®¢æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬å·²ç»çœ‹åˆ°Pythonæšä¸¾å¦‚ä½•ä½¿é…ç½®ä»£ç å˜å¾—æ˜“è¯»ã€è‡ªæˆ‘æ–‡æ¡£åŒ–ï¼Œå¹¶ä¸”å‡å°‘é”™è¯¯ã€‚å¦‚æœä½ æƒ³äº†è§£æ›´å¤šå…³äºæšä¸¾çš„å†…å®¹ï¼Œæˆ‘æ¨èå®˜æ–¹çš„[Enum
    HOWTOæŒ‡å—](https://docs.python.org/3/howto/enum.html#pickling)å’Œåšå®¢æ–‡ç« [ç”¨Pythonçš„Enumæ„å»ºå¸¸é‡æšä¸¾](https://realpython.com/python-enum/)ã€‚
- en: If you are interested in data science, programming, or anything in between,
    then feel free to add me on [LinkedIn](https://www.linkedin.com/in/eirik-berge/)
    and say hi âœ‹
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: å¦‚æœä½ å¯¹æ•°æ®ç§‘å­¦ã€ç¼–ç¨‹æˆ–ä¸¤è€…ä¹‹é—´çš„ä»»ä½•å†…å®¹æ„Ÿå…´è¶£ï¼Œå¯ä»¥éšæ—¶åœ¨[LinkedIn](https://www.linkedin.com/in/eirik-berge/)ä¸Šæ·»åŠ æˆ‘ï¼Œå¹¶æ‰“ä¸ªæ‹›å‘¼âœ‹
- en: '**Like my writing?** Check out some of my other posts for more Python content:'
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: '**å–œæ¬¢æˆ‘çš„å†™ä½œå—ï¼Ÿ** æŸ¥çœ‹æˆ‘å…¶ä»–çš„ä¸€äº›å¸–å­ï¼Œè·å–æ›´å¤šPythonå†…å®¹ï¼š'
- en: '[Modernize Your Sinful Python Code with Beautiful Type Hints](/modernize-your-sinful-python-code-with-beautiful-type-hints-4e72e98f6bf1)'
  id: totrans-75
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[ç”¨æ¼‚äº®çš„ç±»å‹æç¤ºç°ä»£åŒ–ä½ çš„ç½ªæ¶Pythonä»£ç ](/modernize-your-sinful-python-code-with-beautiful-type-hints-4e72e98f6bf1)'
- en: '[Visualizing Missing Values in Python is Shockingly Easy](/visualizing-missing-values-in-python-is-shockingly-easy-56ed5bc2e7ea)'
  id: totrans-76
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[åœ¨Pythonä¸­å¯è§†åŒ–ç¼ºå¤±å€¼æ˜¯ä»¤äººéœ‡æƒŠçš„ç®€å•](/visualizing-missing-values-in-python-is-shockingly-easy-56ed5bc2e7ea)'
- en: '[Introducing Anomaly/Outlier Detection in Python with PyOD ğŸ”¥](/introducing-anomaly-outlier-detection-in-python-with-pyod-40afcccee9ff)'
  id: totrans-77
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[ç”¨PyODåœ¨Pythonä¸­å¼•å…¥å¼‚å¸¸/ç¦»ç¾¤ç‚¹æ£€æµ‹ ğŸ”¥](/introducing-anomaly-outlier-detection-in-python-with-pyod-40afcccee9ff)'
- en: '[5 Awesome NumPy Functions That Can Save You in a Pinch](/5-awesome-numpy-functions-that-can-save-you-in-a-pinch-ba349af5ac47)'
  id: totrans-78
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[5ä¸ªè¶…æ£’çš„NumPyå‡½æ•°ï¼Œèƒ½åœ¨å…³é”®æ—¶åˆ»æ•‘ä½ ä¸€å‘½](/5-awesome-numpy-functions-that-can-save-you-in-a-pinch-ba349af5ac47)'
- en: '[5 Expert Tips to Skyrocket Your Dictionary Skills in Python ğŸš€](/5-expert-tips-to-skyrocket-your-dictionary-skills-in-python-1cf54b7d920d)'
  id: totrans-79
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[5ä¸ªä¸“å®¶æŠ€å·§ï¼Œè®©ä½ çš„Pythonå­—å…¸æŠ€èƒ½é£è·ƒ ğŸš€](/5-expert-tips-to-skyrocket-your-dictionary-skills-in-python-1cf54b7d920d)'
