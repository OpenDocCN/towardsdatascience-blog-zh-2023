- en: Test Data Pipelines the Fun and Easy Way
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: ä»¥æœ‰è¶£å’Œç®€å•çš„æ–¹å¼æµ‹è¯•æ•°æ®ç®¡é“
- en: åŸæ–‡ï¼š[https://towardsdatascience.com/test-data-pipelines-the-fun-and-easy-way-d0f974a93a59](https://towardsdatascience.com/test-data-pipelines-the-fun-and-easy-way-d0f974a93a59)
  id: totrans-1
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: åŸæ–‡ï¼š[https://towardsdatascience.com/test-data-pipelines-the-fun-and-easy-way-d0f974a93a59](https://towardsdatascience.com/test-data-pipelines-the-fun-and-easy-way-d0f974a93a59)
- en: 'Beginners guide: Why unit and integration tests are so important for your data
    platform'
  id: totrans-2
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: åˆå­¦è€…æŒ‡å—ï¼šä¸ºä»€ä¹ˆå•å…ƒæµ‹è¯•å’Œé›†æˆæµ‹è¯•å¯¹ä½ çš„æ•°æ®å¹³å°å¦‚æ­¤é‡è¦
- en: '[](https://mshakhomirov.medium.com/?source=post_page-----d0f974a93a59--------------------------------)[![ğŸ’¡Mike
    Shakhomirov](../Images/bc6895c7face3244d488feb97ba0f68e.png)](https://mshakhomirov.medium.com/?source=post_page-----d0f974a93a59--------------------------------)[](https://towardsdatascience.com/?source=post_page-----d0f974a93a59--------------------------------)[![Towards
    Data Science](../Images/a6ff2676ffcc0c7aad8aaf1d79379785.png)](https://towardsdatascience.com/?source=post_page-----d0f974a93a59--------------------------------)
    [ğŸ’¡Mike Shakhomirov](https://mshakhomirov.medium.com/?source=post_page-----d0f974a93a59--------------------------------)'
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: '[](https://mshakhomirov.medium.com/?source=post_page-----d0f974a93a59--------------------------------)[![ğŸ’¡Mike
    Shakhomirov](../Images/bc6895c7face3244d488feb97ba0f68e.png)](https://mshakhomirov.medium.com/?source=post_page-----d0f974a93a59--------------------------------)[](https://towardsdatascience.com/?source=post_page-----d0f974a93a59--------------------------------)[![Towards
    Data Science](../Images/a6ff2676ffcc0c7aad8aaf1d79379785.png)](https://towardsdatascience.com/?source=post_page-----d0f974a93a59--------------------------------)
    [ğŸ’¡Mike Shakhomirov](https://mshakhomirov.medium.com/?source=post_page-----d0f974a93a59--------------------------------)'
- en: Â·Published in [Towards Data Science](https://towardsdatascience.com/?source=post_page-----d0f974a93a59--------------------------------)
    Â·10 min readÂ·Feb 22, 2023
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: Â·å‘è¡¨äº [Towards Data Science](https://towardsdatascience.com/?source=post_page-----d0f974a93a59--------------------------------)
    Â·é˜…è¯»æ—¶é—´10åˆ†é’ŸÂ·2023å¹´2æœˆ22æ—¥
- en: --
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: --
- en: '![](../Images/ec79de49e60c28a7517c3d1f8392b35b.png)'
  id: totrans-6
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/ec79de49e60c28a7517c3d1f8392b35b.png)'
- en: Photo by [Simon Wilkes](https://unsplash.com/@simonfromengland?utm_source=medium&utm_medium=referral)
    on [Unsplash](https://unsplash.com/?utm_source=medium&utm_medium=referral)
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: ç…§ç‰‡æ¥è‡ª [Simon Wilkes](https://unsplash.com/@simonfromengland?utm_source=medium&utm_medium=referral)
    åœ¨ [Unsplash](https://unsplash.com/?utm_source=medium&utm_medium=referral)
- en: This story is for those who would like to learn how to code and how to run **tests,
    automate CI/CD checks and run them in any environment including locally.**
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™ä¸ªæ•…äº‹é€‚åˆé‚£äº›å¸Œæœ›å­¦ä¹ å¦‚ä½•ç¼–å†™ä»£ç ä»¥åŠå¦‚ä½•è¿è¡Œ **æµ‹è¯•ã€è‡ªåŠ¨åŒ– CI/CD æ£€æŸ¥å¹¶åœ¨åŒ…æ‹¬æœ¬åœ°åœ¨å†…çš„ä»»ä½•ç¯å¢ƒä¸­è¿è¡Œå®ƒä»¬çš„äººã€‚**
- en: '**Unit testing** is an essential must-have skill for machine learning engineers
    these days. It looks great on your CV and increases the chances of getting employed.'
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: '**å•å…ƒæµ‹è¯•** ç°åœ¨æ˜¯æœºå™¨å­¦ä¹ å·¥ç¨‹å¸ˆå¿…å¤‡çš„æŠ€èƒ½ã€‚è¿™åœ¨ä½ çš„ç®€å†ä¸Šçœ‹èµ·æ¥å¾ˆæ£’ï¼Œå¹¶ä¸”æé«˜äº†å°±ä¸šçš„æœºä¼šã€‚'
- en: 'Iâ€™m a Data Engineer and very often I need to create microservices **to process
    the data (ETL).** Depending on the task we might want to do the following (not
    an extensive list):'
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘æ˜¯ä¸€ä¸ªæ•°æ®å·¥ç¨‹å¸ˆï¼Œé€šå¸¸éœ€è¦åˆ›å»ºå¾®æœåŠ¡ **æ¥å¤„ç†æ•°æ®ï¼ˆETLï¼‰ã€‚** æ ¹æ®ä»»åŠ¡çš„ä¸åŒï¼Œæˆ‘ä»¬å¯èƒ½ä¼šåšä»¥ä¸‹å·¥ä½œï¼ˆä¸æ˜¯è¯¦å°½æ— é—çš„åˆ—è¡¨ï¼‰ï¼š
- en: Extract data from one source and pass it to another.
  id: totrans-11
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ä»ä¸€ä¸ªæºæå–æ•°æ®å¹¶å°†å…¶ä¼ é€’åˆ°å¦ä¸€ä¸ªæºã€‚
- en: Transform the data along the way, i.e. change format, PII masking, etc.
  id: totrans-12
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: åœ¨å¤„ç†æ•°æ®çš„è¿‡ç¨‹ä¸­è¿›è¡Œè½¬æ¢ï¼Œä¾‹å¦‚ï¼šæ›´æ”¹æ ¼å¼ã€ä¸ªäººä¿¡æ¯é®è”½ç­‰ã€‚
- en: Load the data somewhere else, i.e. data warehouse solution.
  id: totrans-13
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å°†æ•°æ®åŠ è½½åˆ°å…¶ä»–åœ°æ–¹ï¼Œä¾‹å¦‚æ•°æ®ä»“åº“è§£å†³æ–¹æ¡ˆã€‚
- en: In each of these cases, we would want to guarantee that our data services perform
    as required, and as we make changes, automated tests are run to ensure logic consistency.
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨è¿™äº›æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¸Œæœ›ä¿è¯æˆ‘ä»¬çš„æ•°æ®æœåŠ¡æŒ‰è¦æ±‚æ‰§è¡Œï¼Œå¹¶ä¸”éšç€æˆ‘ä»¬è¿›è¡Œæ›´æ”¹ï¼Œä¼šè¿è¡Œè‡ªåŠ¨åŒ–æµ‹è¯•ä»¥ç¡®ä¿é€»è¾‘ä¸€è‡´æ€§ã€‚
- en: Simplify
  id: totrans-15
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: ç®€åŒ–
- en: I use a simple atomic design for each part of the data pipeline I have in mind
    and deploy it with AWS Lambda or Cloud Functions (Google Cloud Platform). In this
    way, we can orchestrate it with ease and ML Ops becomes a trivial task.
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä½¿ç”¨ç®€å•çš„åŸå­è®¾è®¡æ¥æ„å»ºæˆ‘æ„æ€ä¸­çš„æ•°æ®ç®¡é“çš„æ¯ä¸ªéƒ¨åˆ†ï¼Œå¹¶é€šè¿‡ AWS Lambda æˆ– Cloud Functionsï¼ˆGoogle Cloud Platformï¼‰è¿›è¡Œéƒ¨ç½²ã€‚é€šè¿‡è¿™ç§æ–¹å¼ï¼Œæˆ‘ä»¬å¯ä»¥è½»æ¾åœ°è¿›è¡Œç¼–æ’ï¼ŒML
    Ops å˜å¾—è½»è€Œæ˜“ä¸¾ã€‚
- en: Types of tests
  id: totrans-17
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: æµ‹è¯•ç±»å‹
- en: In unit testing code behaviour is tested using tiny, independent units, or unit
    tests.
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨å•å…ƒæµ‹è¯•ä¸­ï¼Œä»£ç è¡Œä¸ºé€šè¿‡å¾®å°çš„ã€ç‹¬ç«‹çš„å•å…ƒæˆ–å•å…ƒæµ‹è¯•è¿›è¡Œæµ‹è¯•ã€‚
- en: 'So what we want to test depends on our microservice logic and infrastructure
    but in general it would be this:'
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬æƒ³è¦æµ‹è¯•çš„å†…å®¹å–å†³äºæˆ‘ä»¬çš„å¾®æœåŠ¡é€»è¾‘å’ŒåŸºç¡€è®¾æ–½ï¼Œä½†é€šå¸¸æ˜¯è¿™æ ·çš„ï¼š
- en: Simple **unit tests** for function logic, i.e. `processEvent()` function inside
    your microservice.
  id: totrans-20
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ç®€å•çš„ **å•å…ƒæµ‹è¯•** ç”¨äºå‡½æ•°é€»è¾‘ï¼Œä¾‹å¦‚ä½ å¾®æœåŠ¡ä¸­çš„ `processEvent()` å‡½æ•°ã€‚
- en: We would want to make sure that this particular function returns the expected
    result consistently when we provide some input for it.
  id: totrans-21
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬å¸Œæœ›ç¡®ä¿è¿™ä¸ªç‰¹å®šçš„å‡½æ•°åœ¨æä¾›è¾“å…¥æ—¶å§‹ç»ˆè¿”å›é¢„æœŸçš„ç»“æœã€‚
- en: '**Integration tests**'
  id: totrans-22
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**é›†æˆæµ‹è¯•**'
- en: This would be the case when we need to test how our service works in conjunction
    with some other services, i.e. it sends a request and receives something back
    in return (response).
  id: totrans-23
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: è¿™å°†æ˜¯æˆ‘ä»¬éœ€è¦æµ‹è¯•æœåŠ¡å¦‚ä½•ä¸å…¶ä»–æœåŠ¡ååŒå·¥ä½œæ—¶çš„æƒ…å†µï¼Œå³å®ƒå‘é€è¯·æ±‚å¹¶æ”¶åˆ°å“åº”ã€‚
- en: What makes a good unit test?
  id: totrans-24
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: ä»€ä¹ˆæ˜¯å¥½çš„å•å…ƒæµ‹è¯•ï¼Ÿ
- en: It should test expected vs actual results
  id: totrans-25
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å®ƒåº”è¯¥æµ‹è¯•é¢„æœŸç»“æœä¸å®é™…ç»“æœã€‚
- en: Should describe the scriptâ€™s logic corresponding to use cases.
  id: totrans-26
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: åº”è¯¥æè¿°è„šæœ¬é€»è¾‘ï¼Œä»¥å¯¹åº”ä½¿ç”¨åœºæ™¯ã€‚
- en: It should be automated.
  id: totrans-27
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å®ƒåº”è¯¥æ˜¯è‡ªåŠ¨åŒ–çš„ã€‚
- en: Be Independent (tests should not do setup or teardown for one another)
  id: totrans-28
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ä¿æŒç‹¬ç«‹ï¼ˆæµ‹è¯•ä¸åº”ç›¸äº’è¿›è¡Œè®¾ç½®æˆ–æ‹†è§£ï¼‰
- en: It should be easy to implement.
  id: totrans-29
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: åº”è¯¥æ˜“äºå®ç°ã€‚
- en: 'Be Repeatable: Anyone should be able to run it in any environment.'
  id: totrans-30
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ä¿æŒå¯é‡å¤æ€§ï¼šä»»ä½•äººéƒ½åº”è¯¥èƒ½å¤Ÿåœ¨ä»»ä½•ç¯å¢ƒä¸­è¿è¡Œå®ƒã€‚
- en: Once itâ€™s written, it should remain for future use.
  id: totrans-31
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ä¸€æ—¦ç¼–å†™å®Œæˆï¼Œå®ƒåº”è¯¥ä¿ç•™ä»¥å¤‡å°†æ¥ä½¿ç”¨ã€‚
- en: 'Letâ€™s imagine a simple **scenario** where we were tasked to create a data pipeline
    to transfer the data from one cloud platform to another, i.e. from GCP to AWS
    and do some ETL along the way:'
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: è®©æˆ‘ä»¬è®¾æƒ³ä¸€ä¸ªç®€å•çš„ **åœºæ™¯**ï¼Œæˆ‘ä»¬è¢«è¦æ±‚åˆ›å»ºä¸€ä¸ªæ•°æ®ç®¡é“ï¼Œå°†æ•°æ®ä»ä¸€ä¸ªäº‘å¹³å°è½¬ç§»åˆ°å¦ä¸€ä¸ªäº‘å¹³å°ï¼Œä¾‹å¦‚ä» GCP è½¬ç§»åˆ° AWSï¼Œå¹¶åœ¨è¿‡ç¨‹ä¸­è¿›è¡Œä¸€äº›
    ETL æ“ä½œï¼š
- en: '![](../Images/11aeb1ce49ace677c1fd6ed88456ca37.png)'
  id: totrans-33
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/11aeb1ce49ace677c1fd6ed88456ca37.png)'
- en: Service architecture with tests. Image by author.
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: æœåŠ¡æ¶æ„åŠæµ‹è¯•ã€‚å›¾ç‰‡ç”±ä½œè€…æä¾›ã€‚
- en: We can create a simple **microservice** with AWS Lambda or Cloud Functions that
    will process that pipeline.
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ AWS Lambda æˆ– Cloud Functions åˆ›å»ºä¸€ä¸ªç®€å•çš„ **å¾®æœåŠ¡** æ¥å¤„ç†è¯¥ç®¡é“ã€‚
- en: This can be anything pipeline wise and this way we can deploy as many data pipelines
    as we need.
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™å¯ä»¥æ˜¯ä»»ä½•ç®¡é“ï¼Œé‡‡ç”¨è¿™ç§æ–¹å¼æˆ‘ä»¬å¯ä»¥æ ¹æ®éœ€è¦éƒ¨ç½²ä»»æ„æ•°é‡çš„æ•°æ®ç®¡é“ã€‚
- en: '[](/data-pipeline-design-patterns-100afa4b93e3?source=post_page-----d0f974a93a59--------------------------------)
    [## Data pipeline design patterns'
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: '[](/data-pipeline-design-patterns-100afa4b93e3?source=post_page-----d0f974a93a59--------------------------------)
    [## æ•°æ®ç®¡é“è®¾è®¡æ¨¡å¼'
- en: Choosing the right architecture with examples
  id: totrans-38
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: é€‰æ‹©åˆé€‚çš„æ¶æ„ç¤ºä¾‹
- en: towardsdatascience.com](/data-pipeline-design-patterns-100afa4b93e3?source=post_page-----d0f974a93a59--------------------------------)
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: towardsdatascience.com](/data-pipeline-design-patterns-100afa4b93e3?source=post_page-----d0f974a93a59--------------------------------)
- en: Creating a data service
  id: totrans-40
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: åˆ›å»ºæ•°æ®æœåŠ¡
- en: This will be a simple atomic design for a serverless microservice to perform
    one single operation.
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™å°†æ˜¯ä¸€ä¸ªç®€å•çš„åŸå­è®¾è®¡ï¼Œç”¨äºæ‰§è¡Œå•ä¸€æ“ä½œçš„æ— æœåŠ¡å™¨å¾®æœåŠ¡ã€‚
- en: If you are a Python user donâ€™t worry, I have a similar story in Python on how
    to write **integration** tests with **Python** and **AWS Lambda. Anyways this
    story is just to demonstrate how to perform tests for your data pipelines.**
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: å¦‚æœä½ æ˜¯ Python ç”¨æˆ·ï¼Œä¸å¿…æ‹…å¿ƒï¼Œæˆ‘æœ‰ä¸€ä¸ªç±»ä¼¼çš„æ•…äº‹ï¼Œè®²è¿°å¦‚ä½•ç”¨ **Python** å’Œ **AWS Lambda** ç¼–å†™ **é›†æˆ** æµ‹è¯•ã€‚ä¸è¿‡ï¼Œè¿™ä¸ªæ•…äº‹åªæ˜¯ä¸ºäº†å±•ç¤ºå¦‚ä½•ä¸ºä½ çš„æ•°æ®ç®¡é“æ‰§è¡Œæµ‹è¯•ã€‚**
- en: Letâ€™s create our serviceâ€¦
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: è®©æˆ‘ä»¬åˆ›å»ºæˆ‘ä»¬çš„æœåŠ¡â€¦â€¦
- en: 'In your command line run:'
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨å‘½ä»¤è¡Œä¸­è¿è¡Œï¼š
- en: '[PRE0]'
  id: totrans-45
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: '*Now we can open it in the code editor and start codingâ€¦*'
  id: totrans-46
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '*ç°åœ¨æˆ‘ä»¬å¯ä»¥åœ¨ä»£ç ç¼–è¾‘å™¨ä¸­æ‰“å¼€å®ƒå¹¶å¼€å§‹ç¼–ç â€¦â€¦*'
- en: Our App structure
  id: totrans-47
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬çš„åº”ç”¨ç»“æ„
- en: '[PRE1]'
  id: totrans-48
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: Letâ€™s create our `app.js`
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: è®©æˆ‘ä»¬åˆ›å»ºæˆ‘ä»¬çš„ `app.js`
- en: '[PRE2]'
  id: totrans-50
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: Simple, right? We are learning to code. Letâ€™s start with simple things and we
    can always add lots of other useful features later.
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: ç®€å•ï¼Œå¯¹å§ï¼Ÿæˆ‘ä»¬æ­£åœ¨å­¦ä¹ ç¼–ç ã€‚è®©æˆ‘ä»¬ä»ç®€å•çš„äº‹æƒ…å¼€å§‹ï¼Œä¹‹åæ€»æ˜¯å¯ä»¥æ·»åŠ è®¸å¤šå…¶ä»–æœ‰ç”¨çš„åŠŸèƒ½ã€‚
- en: To *initialise* your App you can run `npm init` or simply copy my package.json
    file and then run `npm install` command.
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: è¦ *åˆå§‹åŒ–* ä½ çš„åº”ç”¨ï¼Œä½ å¯ä»¥è¿è¡Œ `npm init` æˆ–ç®€å•åœ°å¤åˆ¶æˆ‘çš„ package.json æ–‡ä»¶ï¼Œç„¶åè¿è¡Œ `npm install` å‘½ä»¤ã€‚
- en: 'These are the packages we are going to use:'
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™äº›æ˜¯æˆ‘ä»¬å°†è¦ä½¿ç”¨çš„åŒ…ï¼š
- en: '[PRE3]'
  id: totrans-54
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: Again, it is simple, right? Indeed, we are going to use only whatâ€™s necessary
    moving
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: å†æ¬¡ï¼Œè¿™å¾ˆç®€å•ï¼Œå¯¹å§ï¼Ÿå®é™…ä¸Šï¼Œæˆ‘ä»¬åªä¼šä½¿ç”¨å¿…è¦çš„å†…å®¹ç»§ç»­å‰è¿›ã€‚
- en: '`aws-sdk` to devDependencies so it will never go into our Lambda package zip.
    AW services use this package by default in their `runtime` and there is no need
    to install it.'
  id: totrans-56
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`aws-sdk`æ·»åŠ åˆ°å¼€å‘ä¾èµ–ä¸­ï¼Œè¿™æ ·å®ƒå°±ä¸ä¼šè¿›å…¥æˆ‘ä»¬çš„ Lambda åŒ… zipã€‚AW æœåŠ¡é»˜è®¤ä½¿ç”¨æ­¤åŒ…ï¼Œåœ¨å…¶`runtime`ä¸­æ²¡æœ‰å¿…è¦å•ç‹¬å®‰è£…ã€‚'
- en: '`eslint`- related packages are good for development and there is no need to
    explain why.'
  id: totrans-57
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`eslint` ç›¸å…³åŒ…é€‚ç”¨äºå¼€å‘ï¼Œä¸éœ€è¦è§£é‡ŠåŸå› ã€‚'
- en: '*it makes your code look nice and consistent.*'
  id: totrans-58
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '*è¿™ä½¿ä½ çš„ä»£ç çœ‹èµ·æ¥æ—¢æ¼‚äº®åˆä¸€è‡´ã€‚*'
- en: '`run-local-lambda` is just an alternative to run lambda locally for demonstration
    purposes.'
  id: totrans-59
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`run-local-lambda` åªæ˜¯ä¸€ä¸ªç”¨äºæœ¬åœ°æ¼”ç¤ºç›®çš„çš„ Lambda è¿è¡Œæ›¿ä»£æ–¹æ¡ˆã€‚'
- en: '`mocha` & `chai` is finally what we need for testing.'
  id: totrans-60
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`mocha` å’Œ `chai` æ˜¯æˆ‘ä»¬æœ€ç»ˆéœ€è¦çš„æµ‹è¯•å·¥å…·ã€‚'
- en: Add an event to invoke the service
  id: totrans-61
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: æ·»åŠ ä¸€ä¸ªäº‹ä»¶ä»¥è§¦å‘æœåŠ¡
- en: Our data engineering jobs/tasks to run will be coming from the `event` that
    will invoke our service. This event can be fired by another data service, i.e.
    orchestrator Lambda or AWS Cloudwatch to run it simply on a schedule.
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬çš„æ•°æ®å·¥ç¨‹ä»»åŠ¡å°†æ¥è‡ªäºè§¦å‘æˆ‘ä»¬æœåŠ¡çš„`event`ã€‚è¿™ä¸ªäº‹ä»¶å¯ä»¥ç”±å¦ä¸€ä¸ªæ•°æ®æœåŠ¡è§¦å‘ï¼Œä¾‹å¦‚ orchestrator Lambda æˆ– AWS Cloudwatchï¼Œä»¥ä¾¿æŒ‰è®¡åˆ’è¿è¡Œã€‚
- en: 'Let''s create `./test/event.js` i.e.:'
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: è®©æˆ‘ä»¬åˆ›å»º `./test/event.js` å³ï¼š
- en: '[PRE4]'
  id: totrans-64
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: In this example, we define a job configuration to move data from one cloud to
    another, i.e. from Google Cloud Storage to AWS S3\. This is a trivial task in
    data engineering performed almost daily. We also supply `configOverride` parameter
    to tell our service whether we want to use a custom event or the one defined in
    the config file. For example, it can be a task that has to be run daily, hourly,
    etc.
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨è¿™ä¸ªç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ªä½œä¸šé…ç½®ï¼Œä»¥å°†æ•°æ®ä»ä¸€ä¸ªäº‘æœåŠ¡è¿ç§»åˆ°å¦ä¸€ä¸ªï¼Œå³ä» Google Cloud Storage åˆ° AWS S3ã€‚è¿™æ˜¯æ•°æ®å·¥ç¨‹ä¸­å‡ ä¹æ¯å¤©éƒ½è¦æ‰§è¡Œçš„ç®€å•ä»»åŠ¡ã€‚æˆ‘ä»¬è¿˜æä¾›
    `configOverride` å‚æ•°ï¼Œä»¥å‘Šè¯‰æˆ‘ä»¬çš„æœåŠ¡æ˜¯å¦ä½¿ç”¨è‡ªå®šä¹‰äº‹ä»¶æˆ–é…ç½®æ–‡ä»¶ä¸­å®šä¹‰çš„äº‹ä»¶ã€‚ä¾‹å¦‚ï¼Œå®ƒå¯ä»¥æ˜¯éœ€è¦æ¯å¤©ã€æ¯å°æ—¶ç­‰è¿è¡Œçš„ä»»åŠ¡ã€‚
- en: Add processEvent() function
  id: totrans-66
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: æ·»åŠ  processEvent() å‡½æ•°
- en: Now letâ€™s add `processEvent()` function. It will do something simple with event
    data, i.e. return current `DATE`
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: ç°åœ¨è®©æˆ‘ä»¬æ·»åŠ  `processEvent()` å‡½æ•°ã€‚å®ƒå°†å¯¹äº‹ä»¶æ•°æ®åšä¸€äº›ç®€å•çš„å¤„ç†ï¼Œå³è¿”å›å½“å‰ `DATE`
- en: '[PRE5]'
  id: totrans-68
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: 'Now letâ€™s add this to our app.js:'
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: ç°åœ¨è®©æˆ‘ä»¬å°†è¿™æ®µä»£ç æ·»åŠ åˆ° `app.js`ï¼š
- en: '[PRE6]'
  id: totrans-70
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: 'And finally, letâ€™s add a new script to our `package.json` file to use `run-local-lambda`
    with event supplied from `./test/event.json` :'
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: æœ€åï¼Œè®©æˆ‘ä»¬åœ¨ `package.json` æ–‡ä»¶ä¸­æ·»åŠ ä¸€ä¸ªæ–°è„šæœ¬ï¼Œä»¥ä¾¿ä½¿ç”¨æ¥è‡ª `./test/event.json` çš„äº‹ä»¶è¿è¡Œ `run-local-lambda`ï¼š
- en: '[PRE7]'
  id: totrans-72
  prefs: []
  type: TYPE_PRE
  zh: '[PRE7]'
- en: 'Now we can run `npm run local` in our command line to test Lambda locally:'
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: ç°åœ¨æˆ‘ä»¬å¯ä»¥åœ¨å‘½ä»¤è¡Œä¸­è¿è¡Œ `npm run local` æ¥æœ¬åœ°æµ‹è¯• Lambdaï¼š
- en: '![](../Images/88786befe1a55274437424c3438e6bd3.png)'
  id: totrans-74
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/88786befe1a55274437424c3438e6bd3.png)'
- en: Image by author.
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
  zh: å›¾ç‰‡ç”±ä½œè€…æä¾›ã€‚
- en: So we see that it works and Lambda returns something when we run it locally.
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: æ‰€ä»¥æˆ‘ä»¬çœ‹åˆ°å®ƒåœ¨æœ¬åœ°è¿è¡Œæ—¶å·¥ä½œæ­£å¸¸å¹¶è¿”å›äº†ä¸€äº›å†…å®¹ã€‚
- en: Thatâ€™s great news but how do we `unit-test` it?
  id: totrans-77
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: è¿™çœŸæ˜¯ä¸ªå¥½æ¶ˆæ¯ï¼Œä½†æˆ‘ä»¬å¦‚ä½•è¿›è¡Œ `unit-test`ï¼Ÿ
- en: Use Mocha and Chai to unit test our data service
  id: totrans-78
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: ä½¿ç”¨ Mocha å’Œ Chai å¯¹æˆ‘ä»¬çš„æ•°æ®æœåŠ¡è¿›è¡Œå•å…ƒæµ‹è¯•
- en: '![](../Images/9ab5af6af672ddc9d7aea1caee5a2b88.png)'
  id: totrans-79
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/9ab5af6af672ddc9d7aea1caee5a2b88.png)'
- en: First of all, why use `mocha` and `chai`?
  id: totrans-80
  prefs: []
  type: TYPE_NORMAL
  zh: é¦–å…ˆï¼Œä¸ºä»€ä¹ˆä½¿ç”¨ `mocha` å’Œ `chai`ï¼Ÿ
- en: '**Mocha** is a great framework for testing where we can run all tests from
    the test folder recursively, i.e. `npm run test` will run `test1.js`, `test2.js`,...,
    `testN.js`. It enables the following:'
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: '**Mocha** æ˜¯ä¸€ä¸ªå‡ºè‰²çš„æµ‹è¯•æ¡†æ¶ï¼Œæˆ‘ä»¬å¯ä»¥é€’å½’åœ°è¿è¡Œæµ‹è¯•æ–‡ä»¶å¤¹ä¸­çš„æ‰€æœ‰æµ‹è¯•ï¼Œå³ `npm run test` å°†è¿è¡Œ `test1.js`ã€`test2.js`ã€...ã€`testN.js`ã€‚å®ƒå®ç°äº†ä»¥ä¸‹åŠŸèƒ½ï¼š'
- en: use of any assertion library (this is where we will use Chai)
  id: totrans-82
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ä½¿ç”¨ä»»ä½•æ–­è¨€åº“ï¼ˆè¿™å°±æ˜¯æˆ‘ä»¬å°†ä½¿ç”¨ Chai çš„åœ°æ–¹ï¼‰
- en: asynchronous testing
  id: totrans-83
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å¼‚æ­¥æµ‹è¯•
- en: test coverage reports
  id: totrans-84
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æµ‹è¯•è¦†ç›–ç‡æŠ¥å‘Š
- en: '**Chai** is an assertion library for NodeJS that can be paired with Mocha to
    raise assertions in our tests.'
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: '**Chai** æ˜¯ä¸€ä¸ª NodeJS çš„æ–­è¨€åº“ï¼Œå¯ä»¥ä¸ Mocha é…åˆä½¿ç”¨ï¼Œä»¥åœ¨æˆ‘ä»¬çš„æµ‹è¯•ä¸­æå‡ºæ–­è¨€ã€‚'
- en: '![](../Images/1536452ca32105a5410fd8973ca0fb67.png)'
  id: totrans-86
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/1536452ca32105a5410fd8973ca0fb67.png)'
- en: Image by author.
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
  zh: å›¾ç‰‡ç”±ä½œè€…æä¾›ã€‚
- en: Letâ€™s add a couple of unit tests. One will test that Lambda return results with
    `runTime` and the second one will check that Lambda returns a response with the
    correct status codes.
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: è®©æˆ‘ä»¬æ·»åŠ å‡ ä¸ªå•å…ƒæµ‹è¯•ã€‚ä¸€ä¸ªå°†æµ‹è¯• Lambda æ˜¯å¦è¿”å›å¸¦æœ‰ `runTime` çš„ç»“æœï¼Œå¦ä¸€ä¸ªå°†æ£€æŸ¥ Lambda æ˜¯å¦è¿”å›å…·æœ‰æ­£ç¡®çŠ¶æ€ç çš„å“åº”ã€‚
- en: 'Letâ€™s create `stack/js-lambda-unit-tests/test/unit/runTimeTest.js` :'
  id: totrans-89
  prefs: []
  type: TYPE_NORMAL
  zh: è®©æˆ‘ä»¬åˆ›å»º `stack/js-lambda-unit-tests/test/unit/runTimeTest.js`ï¼š
- en: '[PRE8]'
  id: totrans-90
  prefs: []
  type: TYPE_PRE
  zh: '[PRE8]'
- en: 'Now letâ€™s add this single unit test to scripts in our `package.json` as sometimes
    we might need to run only one test:'
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
  zh: ç°åœ¨è®©æˆ‘ä»¬å°†è¿™ä¸ªå•å…ƒæµ‹è¯•æ·»åŠ åˆ° `package.json` çš„è„šæœ¬ä¸­ï¼Œå› ä¸ºæœ‰æ—¶æˆ‘ä»¬å¯èƒ½åªéœ€è¦è¿è¡Œä¸€ä¸ªæµ‹è¯•ï¼š
- en: '[PRE9]'
  id: totrans-92
  prefs: []
  type: TYPE_PRE
  zh: '[PRE9]'
- en: Now if we run in the command line `npm run test-lambda-runtime`
  id: totrans-93
  prefs: []
  type: TYPE_NORMAL
  zh: ç°åœ¨å¦‚æœæˆ‘ä»¬åœ¨å‘½ä»¤è¡Œä¸­è¿è¡Œ `npm run test-lambda-runtime`
- en: '![](../Images/b90c204b93c5c9c86a80781e223f90d0.png)'
  id: totrans-94
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/b90c204b93c5c9c86a80781e223f90d0.png)'
- en: Image by author.
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
  zh: å›¾ç‰‡ç”±ä½œè€…æä¾›ã€‚
- en: Now letâ€™s add the second test but now we would want to add new behaviour to
    our lambda, i.e.
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
  zh: ç°åœ¨è®©æˆ‘ä»¬æ·»åŠ ç¬¬äºŒä¸ªæµ‹è¯•ï¼Œä½†è¿™æ¬¡æˆ‘ä»¬å¸Œæœ›ç»™æˆ‘ä»¬çš„ lambda æ·»åŠ æ–°è¡Œä¸ºï¼Œå³ï¼š
- en: it must return status `400` on error.
  id: totrans-97
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: å®ƒåœ¨å‡ºé”™æ—¶å¿…é¡»è¿”å›çŠ¶æ€ `400`ã€‚
- en: 'To emulate the error we will supply an event with a missing job `name`. Our
    `./test/unit/lambdaResponseTest.js` should look like that:'
  id: totrans-98
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸ºäº†æ¨¡æ‹Ÿé”™è¯¯ï¼Œæˆ‘ä»¬å°†æä¾›ä¸€ä¸ªç¼ºå°‘ä½œä¸š `name` çš„äº‹ä»¶ã€‚æˆ‘ä»¬çš„ `./test/unit/lambdaResponseTest.js` åº”è¯¥æ˜¯è¿™æ ·çš„ï¼š
- en: '[PRE10]'
  id: totrans-99
  prefs: []
  type: TYPE_PRE
  zh: '[PRE10]'
- en: 'And letâ€™s add error handling to our `app.js`:'
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
  zh: è®©æˆ‘ä»¬åœ¨ `app.js` ä¸­æ·»åŠ é”™è¯¯å¤„ç†ï¼š
- en: '[PRE11]'
  id: totrans-101
  prefs: []
  type: TYPE_PRE
  zh: '[PRE11]'
- en: 'So the final `app.js` must look like so:'
  id: totrans-102
  prefs: []
  type: TYPE_NORMAL
  zh: æ‰€ä»¥æœ€ç»ˆçš„ `app.js` åº”è¯¥æ˜¯è¿™æ ·çš„ï¼š
- en: '[PRE12]'
  id: totrans-103
  prefs: []
  type: TYPE_PRE
  zh: '[PRE12]'
- en: 'Now letâ€™s change our package.json scripts to this:'
  id: totrans-104
  prefs: []
  type: TYPE_NORMAL
  zh: ç°åœ¨è®©æˆ‘ä»¬å°† `package.json` è„šæœ¬æ›´æ”¹ä¸ºä»¥ä¸‹å†…å®¹ï¼š
- en: '[PRE13]'
  id: totrans-105
  prefs: []
  type: TYPE_PRE
  zh: '[PRE13]'
- en: '```'
  id: totrans-106
  prefs: []
  type: TYPE_NORMAL
  zh: '```'
- en: 'You probably noticed a new script to run commands recursively in `./test/unit`
    folder. `npm run test-unit` will run all tests:'
  id: totrans-107
  prefs: []
  type: TYPE_NORMAL
  zh: ä½ å¯èƒ½æ³¨æ„åˆ°äº†ä¸€ä¸ªæ–°çš„è„šæœ¬ï¼Œç”¨äºé€’å½’è¿è¡Œ `./test/unit` æ–‡ä»¶å¤¹ä¸­çš„å‘½ä»¤ã€‚ `npm run test-unit` å°†è¿è¡Œæ‰€æœ‰æµ‹è¯•ï¼š
- en: '![](../Images/ec9de236f8b5ed0d7aa6eb3f7ce82a83.png)'
  id: totrans-108
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/ec9de236f8b5ed0d7aa6eb3f7ce82a83.png)'
- en: Image by author.
  id: totrans-109
  prefs: []
  type: TYPE_NORMAL
  zh: å›¾ç‰‡ç”±ä½œè€…æä¾›ã€‚
- en: 'You probably noticed an integration test script in `package.json` More about
    integration tests can be found here:'
  id: totrans-110
  prefs: []
  type: TYPE_NORMAL
  zh: ä½ å¯èƒ½æ³¨æ„åˆ° `package.json` ä¸­æœ‰ä¸€ä¸ªé›†æˆæµ‹è¯•è„šæœ¬ã€‚æœ‰å…³é›†æˆæµ‹è¯•çš„æ›´å¤šä¿¡æ¯å¯ä»¥åœ¨è¿™é‡Œæ‰¾åˆ°ï¼š
- en: '[](https://mydataschool.com/blog/data-platform-unit-and-integration-tests-explained/?source=post_page-----d0f974a93a59--------------------------------)
    [## Data Platform Unit and Integration Tests Explained'
  id: totrans-111
  prefs: []
  type: TYPE_NORMAL
  zh: '[](https://mydataschool.com/blog/data-platform-unit-and-integration-tests-explained/?source=post_page-----d0f974a93a59--------------------------------)
    [## æ•°æ®å¹³å°å•å…ƒæµ‹è¯•å’Œé›†æˆæµ‹è¯•è§£é‡Š'
- en: How to do this exercise and how to apply it to our data pipelines? This is a
    good question I asked myself at the veryâ€¦
  id: totrans-112
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: å¦‚ä½•è¿›è¡Œè¿™ä¸ªç»ƒä¹ ä»¥åŠå¦‚ä½•å°†å…¶åº”ç”¨äºæˆ‘ä»¬çš„æ•°æ®ç®¡é“ï¼Ÿè¿™æ˜¯æˆ‘åœ¨éå¸¸åˆæœŸæ—¶é—®è‡ªå·±çš„ä¸€ä¸ªå¥½é—®é¢˜â€¦â€¦
- en: mydataschool.com](https://mydataschool.com/blog/data-platform-unit-and-integration-tests-explained/?source=post_page-----d0f974a93a59--------------------------------)
  id: totrans-113
  prefs: []
  type: TYPE_NORMAL
  zh: mydataschool.com](https://mydataschool.com/blog/data-platform-unit-and-integration-tests-explained/?source=post_page-----d0f974a93a59--------------------------------)
- en: An integration test is when we test how our application interacts with something
    else, i.e. another service or API.
  id: totrans-114
  prefs: []
  type: TYPE_NORMAL
  zh: é›†æˆæµ‹è¯•æ˜¯æŒ‡æµ‹è¯•æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºå¦‚ä½•ä¸å…¶ä»–ä¸œè¥¿äº’åŠ¨ï¼Œå³å¦ä¸€ä¸ªæœåŠ¡æˆ– APIã€‚
- en: Conclusion
  id: totrans-115
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: ç»“è®º
- en: In data engineering and machine learning, tests are frequently used to ensure
    that new code changes do not create unintended modifications and to assist describe
    the fundamental core functionality of the data platform.
  id: totrans-116
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨æ•°æ®å·¥ç¨‹å’Œæœºå™¨å­¦ä¹ ä¸­ï¼Œæµ‹è¯•å¸¸å¸¸ç”¨äºç¡®ä¿æ–°ä»£ç æ›´æ”¹ä¸ä¼šå¼•å…¥æ„å¤–ä¿®æ”¹ï¼Œå¹¶å¸®åŠ©æè¿°æ•°æ®å¹³å°çš„åŸºæœ¬æ ¸å¿ƒåŠŸèƒ½ã€‚
- en: It is a must-have skill for any machine learning engineer. Getting used to reading
    tests might be uncomfortable but youâ€™ll benefit from developing it today throughout
    your path into coding!
  id: totrans-117
  prefs: []
  type: TYPE_NORMAL
  zh: å¯¹äºä»»ä½•æœºå™¨å­¦ä¹ å·¥ç¨‹å¸ˆæ¥è¯´ï¼Œè¿™æ˜¯ä¸€ä¸ªå¿…å¤‡æŠ€èƒ½ã€‚ä¹ æƒ¯äºé˜…è¯»æµ‹è¯•å¯èƒ½ä¼šè®©äººä¸èˆ’æœï¼Œä½†ä½ ä¼šå—ç›Šäºä»Šå¤©å¼€å§‹åŸ¹å…»è¿™é¡¹æŠ€èƒ½ã€‚
- en: It looks great on every CV and the idea is the same for any programming language.
    Make sure you add **Pytest**, Mocha, Chai, Sinon and things like Mock to your
    testing tools.
  id: totrans-118
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨æ¯ä»½ç®€å†ä¸Šçœ‹èµ·æ¥éƒ½å¾ˆæ£’ï¼Œå¹¶ä¸”ä»»ä½•ç¼–ç¨‹è¯­è¨€çš„ç†å¿µéƒ½æ˜¯ç›¸åŒçš„ã€‚ç¡®ä¿ä½ å°†**Pytest**ã€Mochaã€Chaiã€SinonåŠç±»ä¼¼Mockçš„å·¥å…·æ·»åŠ åˆ°ä½ çš„æµ‹è¯•å·¥å…·ä¸­ã€‚
- en: Github repository
  id: totrans-119
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: Github ä»“åº“
- en: '[https://github.com/mshakhomirov/js-lambda-unit-tests.git](https://github.com/mshakhomirov/js-lambda-unit-tests.git)'
  id: totrans-120
  prefs: []
  type: TYPE_NORMAL
  zh: '[https://github.com/mshakhomirov/js-lambda-unit-tests.git](https://github.com/mshakhomirov/js-lambda-unit-tests.git)'
- en: Recommended read
  id: totrans-121
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: æ¨èé˜…è¯»
- en: '[https://mochajs.org/](https://mochajs.org/)'
  id: totrans-122
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[https://mochajs.org/](https://mochajs.org/)'
- en: '[https://www.chaijs.com/api/bdd/](https://www.chaijs.com/api/bdd/)'
  id: totrans-123
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[https://www.chaijs.com/api/bdd/](https://www.chaijs.com/api/bdd/)'
- en: '[https://stackoverflow.com/questions/52019039/how-to-test-aws-lambda-handler-locally-using-nodejs](https://stackoverflow.com/questions/52019039/how-to-test-aws-lambda-handler-locally-using-nodejs)'
  id: totrans-124
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[https://stackoverflow.com/questions/52019039/how-to-test-aws-lambda-handler-locally-using-nodejs](https://stackoverflow.com/questions/52019039/how-to-test-aws-lambda-handler-locally-using-nodejs)'
- en: '[https://stackoverflow.com/questions/54846513/lambda-trigger-callback-vs-context-done](https://stackoverflow.com/questions/54846513/lambda-trigger-callback-vs-context-done)'
  id: totrans-125
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[https://stackoverflow.com/questions/54846513/lambda-trigger-callback-vs-context-done](https://stackoverflow.com/questions/54846513/lambda-trigger-callback-vs-context-done)'
- en: '[http://opensourceforgeeks.blogspot.com/2019/03/writing-unit-tests-for-aws-lambda-in.html](http://opensourceforgeeks.blogspot.com/2019/03/writing-unit-tests-for-aws-lambda-in.html)'
  id: totrans-126
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[http://opensourceforgeeks.blogspot.com/2019/03/writing-unit-tests-for-aws-lambda-in.html](http://opensourceforgeeks.blogspot.com/2019/03/writing-unit-tests-for-aws-lambda-in.html)'
- en: '[https://dashbird.io/blog/test-javascript-lambda-functions/](https://dashbird.io/blog/test-javascript-lambda-functions/)'
  id: totrans-127
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[https://dashbird.io/blog/test-javascript-lambda-functions/](https://dashbird.io/blog/test-javascript-lambda-functions/)'
- en: '[https://docs.aws.amazon.com/lambda/latest/dg/nodejs-context.html](https://docs.aws.amazon.com/lambda/latest/dg/nodejs-context.html)'
  id: totrans-128
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[https://docs.aws.amazon.com/lambda/latest/dg/nodejs-context.html](https://docs.aws.amazon.com/lambda/latest/dg/nodejs-context.html)'
- en: '[https://www.google.com/search?client=firefox-b-d&q=aws+lambda+test+TypeError%3A+context.done+is+not+a+function](https://www.google.com/search?client=firefox-b-d&q=aws+lambda+test+TypeError%3A+context.done+is+not+a+function)'
  id: totrans-129
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[https://www.google.com/search?client=firefox-b-d&q=aws+lambda+test+TypeError%3A+context.done+is+not+a+function](https://www.google.com/search?client=firefox-b-d&q=aws+lambda+test+TypeError%3A+context.done+is+not+a+function)'
