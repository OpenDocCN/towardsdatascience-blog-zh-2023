- en: Querying a Corpus of Documents in GPT Mode with Azure â€œPrompt Flowâ€
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: åœ¨ Azure â€œPrompt Flowâ€ ä¸­ä»¥ GPT æ¨¡å¼æŸ¥è¯¢æ–‡æ¡£è¯­æ–™åº“
- en: åŸæ–‡ï¼š[https://towardsdatascience.com/querying-a-corpus-of-documents-in-gpt-mode-with-azure-prompt-flow-3a79ec23f59c](https://towardsdatascience.com/querying-a-corpus-of-documents-in-gpt-mode-with-azure-prompt-flow-3a79ec23f59c)
  id: totrans-1
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: åŸæ–‡ï¼š[https://towardsdatascience.com/querying-a-corpus-of-documents-in-gpt-mode-with-azure-prompt-flow-3a79ec23f59c](https://towardsdatascience.com/querying-a-corpus-of-documents-in-gpt-mode-with-azure-prompt-flow-3a79ec23f59c)
- en: How to automatically vectorize content and create LangChain-like mechanisms
    to efficiently query a *corpus* of documents
  id: totrans-2
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: å¦‚ä½•è‡ªåŠ¨å‘é‡åŒ–å†…å®¹å¹¶åˆ›å»ºç±»ä¼¼ LangChain çš„æœºåˆ¶ï¼Œä»¥é«˜æ•ˆæŸ¥è¯¢ *è¯­æ–™åº“* æ–‡æ¡£
- en: '[](https://pl-bescond.medium.com/?source=post_page-----3a79ec23f59c--------------------------------)[![Pierre-Louis
    Bescond](../Images/bb236055962b420fb3ab22088ab28f11.png)](https://pl-bescond.medium.com/?source=post_page-----3a79ec23f59c--------------------------------)[](https://towardsdatascience.com/?source=post_page-----3a79ec23f59c--------------------------------)[![Towards
    Data Science](../Images/a6ff2676ffcc0c7aad8aaf1d79379785.png)](https://towardsdatascience.com/?source=post_page-----3a79ec23f59c--------------------------------)
    [Pierre-Louis Bescond](https://pl-bescond.medium.com/?source=post_page-----3a79ec23f59c--------------------------------)'
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: '[](https://pl-bescond.medium.com/?source=post_page-----3a79ec23f59c--------------------------------)[![Pierre-Louis
    Bescond](../Images/bb236055962b420fb3ab22088ab28f11.png)](https://pl-bescond.medium.com/?source=post_page-----3a79ec23f59c--------------------------------)[](https://towardsdatascience.com/?source=post_page-----3a79ec23f59c--------------------------------)[![Towards
    Data Science](../Images/a6ff2676ffcc0c7aad8aaf1d79379785.png)](https://towardsdatascience.com/?source=post_page-----3a79ec23f59c--------------------------------)
    [Pierre-Louis Bescond](https://pl-bescond.medium.com/?source=post_page-----3a79ec23f59c--------------------------------)'
- en: Â·Published in [Towards Data Science](https://towardsdatascience.com/?source=post_page-----3a79ec23f59c--------------------------------)
    Â·6 min readÂ·Jul 21, 2023
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: Â·å‘å¸ƒäº [Towards Data Science](https://towardsdatascience.com/?source=post_page-----3a79ec23f59c--------------------------------)
    Â·6 åˆ†é’Ÿé˜…è¯»Â·2023å¹´7æœˆ21æ—¥
- en: --
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: --
- en: '![](../Images/f304c4feae9387ea63d4e46bccb0dd14.png)'
  id: totrans-6
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/f304c4feae9387ea63d4e46bccb0dd14.png)'
- en: Photo by [Kenny Eliason](https://unsplash.com/@neonbrand?utm_source=medium&utm_medium=referral)
    on [Unsplash](https://unsplash.com/?utm_source=medium&utm_medium=referral)
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: ç”± [Kenny Eliason](https://unsplash.com/@neonbrand?utm_source=medium&utm_medium=referral)
    æ‹æ‘„ï¼Œå‘å¸ƒäº [Unsplash](https://unsplash.com/?utm_source=medium&utm_medium=referral)
- en: The GPT fever
  id: totrans-8
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: GPT çƒ­æ½®
- en: All tech-savvy people around the globe have been playing for a while with ChatGPTâ€¦
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: å…¨çƒæ‰€æœ‰ç²¾é€šæŠ€æœ¯çš„äººä»¬å·²ç»ç©äº†ä¸€æ®µæ—¶é—´çš„ ChatGPTâ€¦
- en: Many of them used it as a very clever knowledge database ğŸ”,
  id: totrans-10
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ä»–ä»¬ä¸­çš„è®¸å¤šäººå°†å…¶ç”¨ä½œéå¸¸èªæ˜çš„çŸ¥è¯†æ•°æ®åº“ğŸ”ï¼Œ
- en: Some explored the â€œArt of Promptingâ€ (or â€œPrompt Engineeringâ€) to get more relevant
    results, sometimes using their own data ğŸ¤–,
  id: totrans-11
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ä¸€äº›äººæ¢ç´¢äº†â€œæç¤ºå·¥ç¨‹â€ï¼ˆæˆ–â€œPrompt Engineeringâ€ï¼‰çš„è‰ºæœ¯ï¼Œä»¥è·å¾—æ›´ç›¸å…³çš„ç»“æœï¼Œæœ‰æ—¶ä½¿ç”¨ä»–ä»¬è‡ªå·±çš„æ•°æ®ğŸ¤–ï¼Œ
- en: But only a few went further and leveraged solutions such as LangChain to build
    complex workflows and create real-life applications ğŸ“š.
  id: totrans-12
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ä½†åªæœ‰å°‘æ•°äººè¿›ä¸€æ­¥åˆ©ç”¨äº†è¯¸å¦‚ LangChain ç­‰è§£å†³æ–¹æ¡ˆï¼Œæ¥æ„å»ºå¤æ‚çš„å·¥ä½œæµå¹¶åˆ›å»ºå®é™…åº”ç”¨ğŸ“šã€‚
- en: And it is true that mastering concepts like â€œembeddingsâ€ or â€œvector storesâ€,
    combined with programming requirements can seem complex for many and prevent them
    from actually unlocking the power of LLMs.
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: çš„ç¡®ï¼ŒæŒæ¡è¯¸å¦‚â€œåµŒå…¥â€æˆ–â€œå‘é‡å­˜å‚¨â€ç­‰æ¦‚å¿µï¼Œå†åŠ ä¸Šç¼–ç¨‹è¦æ±‚ï¼Œå¯èƒ½å¯¹è®¸å¤šäººæ¥è¯´æ˜¾å¾—å¤æ‚ï¼Œé˜»ç¢ä»–ä»¬çœŸæ­£å‘æŒ¥å¤§å‹è¯­è¨€æ¨¡å‹çš„æ½œåŠ›ã€‚
- en: This is where â€œ[**Prompt Flow**](https://learn.microsoft.com/en-us/azure/machine-learning/prompt-flow/overview-what-is-prompt-flow?view=azureml-api-2)â€
    comes to the rescue!
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™æ—¶â€œ[**Prompt Flow**](https://learn.microsoft.com/en-us/azure/machine-learning/prompt-flow/overview-what-is-prompt-flow?view=azureml-api-2)â€æ¥æ‹¯æ•‘å¤§å®¶ï¼
- en: Letâ€™s discover how building a powerful Q&A tool in low code is now possible
    in Azure!
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: è®©æˆ‘ä»¬å‘ç°å¦‚ä½•åœ¨ Azure ä¸­ä½¿ç”¨ä½ä»£ç æ„å»ºä¸€ä¸ªå¼ºå¤§çš„é—®ç­”å·¥å…·ç°åœ¨å˜å¾—å¯èƒ½äº†ï¼
- en: Prerequisites
  id: totrans-16
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: å‰ææ¡ä»¶
- en: I will assume that you have the necessary rights to create the resources needed
    for this tutorial, the most important one is having an â€œAzure Machine Learning
    Studio Workspaceâ€.
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘å‡è®¾ä½ æ‹¥æœ‰åˆ›å»ºæœ¬æ•™ç¨‹æ‰€éœ€èµ„æºçš„å¿…è¦æƒé™ï¼Œå…¶ä¸­æœ€é‡è¦çš„ä¸€é¡¹æ˜¯æ‹¥æœ‰ä¸€ä¸ªâ€œAzure æœºå™¨å­¦ä¹ å·¥ä½œå®¤å·¥ä½œåŒºâ€ã€‚
- en: '![](../Images/ce9a21460a674f05a3a6bc985487fa26.png)'
  id: totrans-18
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/ce9a21460a674f05a3a6bc985487fa26.png)'
- en: Azure Machine Learning Studio Landing Page (Image from Author)
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: Azure æœºå™¨å­¦ä¹ å·¥ä½œå®¤ç™»é™†é¡µé¢ï¼ˆå›¾ç‰‡æ¥æºï¼šä½œè€…ï¼‰
- en: The â€œ**Prompt Flow**â€ functionality, as well as the â€œ**Models Catalog**â€ (allowing
    you to deploy LLMs curated by Azure, Hugging Face, Meta, etc.), are currently
    in private or public preview so youâ€™ll have to join the [waiting list](https://forms.office.com/Pages/ResponsePage.aspx?id=v4j5cvGGr0GRqy180BHbR3NZX0G6POdDmpxIQWUqHJNUQlJXS0M4SVFZT1haVFNDTUpFQjlBUDA3QS4u)
    before being able to activate and use it.
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: â€œ**Prompt Flow**â€åŠŸèƒ½ï¼Œä»¥åŠâ€œ**æ¨¡å‹ç›®å½•**â€ï¼ˆå…è®¸ä½ éƒ¨ç½²ç”± Azureã€Hugging Faceã€Meta ç­‰ç­–åˆ’çš„å¤§å‹è¯­è¨€æ¨¡å‹ï¼‰ï¼Œç›®å‰å¤„äºç§äººæˆ–å…¬å¼€é¢„è§ˆé˜¶æ®µï¼Œå› æ­¤ä½ éœ€è¦åŠ å…¥[ç­‰å¾…åˆ—è¡¨](https://forms.office.com/Pages/ResponsePage.aspx?id=v4j5cvGGr0GRqy180BHbR3NZX0G6POdDmpxIQWUqHJNUQlJXS0M4SVFZT1haVFNDTUpFQjlBUDA3QS4u)æ‰èƒ½æ¿€æ´»å’Œä½¿ç”¨ã€‚
- en: '![](../Images/1c65e3191bc610f861adea0119ea7106.png)'
  id: totrans-21
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/1c65e3191bc610f861adea0119ea7106.png)'
- en: Models Catalog and Prompt Flow in Azure Machine Learning Studio (Image from
    Author)
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨ Azure æœºå™¨å­¦ä¹ å·¥ä½œå®¤ä¸­çš„æ¨¡å‹ç›®å½•å’Œ Prompt Flowï¼ˆå›¾ç‰‡ç”±ä½œè€…æä¾›ï¼‰
- en: Building a Vector Index
  id: totrans-23
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: å»ºç«‹å‘é‡ç´¢å¼•
- en: Understanding Embeddings
  id: totrans-24
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: ç†è§£åµŒå…¥
- en: To efficiently process a large *corpus* and overcome the tokens limitation of
    current models, you need to split each document into chunks (ex. each page) and
    convert the corresponding content into â€œembeddingsâ€.
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸ºäº†é«˜æ•ˆå¤„ç†å¤§è§„æ¨¡çš„*è¯­æ–™åº“*å¹¶å…‹æœå½“å‰æ¨¡å‹çš„æ ‡è®°é™åˆ¶ï¼Œä½ éœ€è¦å°†æ¯ä¸ªæ–‡æ¡£æ‹†åˆ†æˆå—ï¼ˆä¾‹å¦‚ï¼Œæ¯ä¸€é¡µï¼‰ï¼Œå¹¶å°†ç›¸åº”çš„å†…å®¹è½¬æ¢æˆâ€œåµŒå…¥â€ã€‚
- en: 'An embedding is a **numeric vector, allowing to mathematically compare the
    underlying meanings and concepts of different contents**, as shown below:'
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: åµŒå…¥æ˜¯ä¸€ä¸ª**æ•°å­—å‘é‡ï¼Œå…è®¸æ•°å­¦ä¸Šæ¯”è¾ƒä¸åŒå†…å®¹çš„æ½œåœ¨å«ä¹‰å’Œæ¦‚å¿µ**ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š
- en: '**I love dogs**: [-0.020993631333112717, â€¦, -0.013046476989984512]'
  id: totrans-27
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**æˆ‘çˆ±ç‹—**: [-0.020993631333112717, â€¦, -0.013046476989984512]'
- en: '**I love animals**: [-0.004775667563080788, â€¦, -0.02461422048509121]'
  id: totrans-28
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**æˆ‘çˆ±åŠ¨ç‰©**: [-0.004775667563080788, â€¦, -0.02461422048509121]'
- en: '**My car is broken**: [-0.029365260154008865, â€¦, -0.032723452895879745](note:
    the vectorsâ€™ dimensions are actually 1 x 1536)'
  id: totrans-29
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**æˆ‘çš„è½¦åäº†**: [-0.029365260154008865, â€¦, -0.032723452895879745](æ³¨ï¼šå‘é‡çš„ç»´åº¦å®é™…ä¸Šæ˜¯ 1
    x 1536)'
- en: When comparing the similarity of the first two embeddings with the [NumPy â€œdotâ€
    function](https://numpy.org/doc/stable/reference/generated/numpy.dot.html), we
    get a result close to 1 (~0.94), showing that their meanings are very close to
    each other.
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: å½“ä½¿ç”¨[NumPy â€œdotâ€ å‡½æ•°](https://numpy.org/doc/stable/reference/generated/numpy.dot.html)æ¯”è¾ƒå‰ä¸¤ä¸ªåµŒå…¥çš„ç›¸ä¼¼æ€§æ—¶ï¼Œæˆ‘ä»¬å¾—åˆ°æ¥è¿‘
    1 çš„ç»“æœï¼ˆçº¦0.94ï¼‰ï¼Œæ˜¾ç¤ºå®ƒä»¬çš„å«ä¹‰éå¸¸æ¥è¿‘ã€‚
- en: On the contrary, the results when comparing the third embedding with the first
    two ones (~0.77) show they correspond to different concepts.
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: ç›¸åï¼Œå°†ç¬¬ä¸‰ä¸ªåµŒå…¥ä¸å‰ä¸¤ä¸ªåµŒå…¥è¿›è¡Œæ¯”è¾ƒæ—¶ï¼ˆçº¦0.77ï¼‰ï¼Œç»“æœè¡¨æ˜å®ƒä»¬å¯¹åº”äºä¸åŒçš„æ¦‚å¿µã€‚
- en: '[PRE0]'
  id: totrans-32
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: 'This will be the foundation for downstream analysis: being able to compare
    the concepts embedded in queriesâ€¦ with the content previously reviewed to find
    similarities.'
  id: totrans-33
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: è¿™å°†æˆä¸ºä¸‹æ¸¸åˆ†æçš„åŸºç¡€ï¼šèƒ½å¤Ÿå°†æŸ¥è¯¢ä¸­åµŒå…¥çš„æ¦‚å¿µä¸ä¹‹å‰å®¡é˜…è¿‡çš„å†…å®¹è¿›è¡Œæ¯”è¾ƒï¼Œä»¥æ‰¾åˆ°ç›¸ä¼¼æ€§ã€‚
- en: Vector Storage or Indexes
  id: totrans-34
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: å‘é‡å­˜å‚¨æˆ–ç´¢å¼•
- en: '![](../Images/f67ffe23014069231a2f8d9f85a241a9.png)'
  id: totrans-35
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/f67ffe23014069231a2f8d9f85a241a9.png)'
- en: From content to a vector store (Image by Author)
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: ä»å†…å®¹åˆ°å‘é‡å­˜å‚¨ï¼ˆå›¾ç‰‡ç”±ä½œè€…æä¾›ï¼‰
- en: 'As you might have guessed, we now need a place to collect all these vectors
    and link them with the initial documentsâ€¦ this is the core functionality of the
    â€œVector Storageâ€:'
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: æ­£å¦‚ä½ å¯èƒ½çŒœåˆ°çš„ï¼Œæˆ‘ä»¬ç°åœ¨éœ€è¦ä¸€ä¸ªåœ°æ–¹æ¥æ”¶é›†æ‰€æœ‰è¿™äº›å‘é‡ï¼Œå¹¶å°†å®ƒä»¬ä¸åˆå§‹æ–‡æ¡£é“¾æ¥åœ¨ä¸€èµ·â€¦â€¦è¿™æ˜¯â€œå‘é‡å­˜å‚¨â€çš„æ ¸å¿ƒåŠŸèƒ½ï¼š
- en: '[document.pdf]'
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: '[document.pdf]'
- en: â€” page 1
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: â€” ç¬¬ 1 é¡µ
- en: 'â€” page 1 => split-1 => Embedding #1'
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: 'â€” ç¬¬ 1 é¡µ => åˆ†å‰²-1 => åµŒå…¥ #1'
- en: 'â€” page 1 => split-2 => Embedding #2'
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: 'â€” ç¬¬ 1 é¡µ => åˆ†å‰²-2 => åµŒå…¥ #2'
- en: â€” page 2
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: â€” ç¬¬ 2 é¡µ
- en: 'â€” page 2 => split-1 => Embedding #3'
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: 'â€” ç¬¬ 2 é¡µ => åˆ†å‰²-1 => åµŒå…¥ #3'
- en: 'â€” page 2 => split-2 => Embedding #4'
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: 'â€” ç¬¬ 2 é¡µ => åˆ†å‰²-2 => åµŒå…¥ #4'
- en: The process of Vector Storage creation can be cumbersome but â€œPrompt Flowâ€ simplifies
    and accelerates it.
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: å‘é‡å­˜å‚¨åˆ›å»ºè¿‡ç¨‹å¯èƒ½ç¹çï¼Œä½†â€œPrompt Flowâ€ç®€åŒ–å¹¶åŠ é€Ÿäº†è¿™ä¸€è¿‡ç¨‹ã€‚
- en: 'For this example, weâ€™ll use three documents as a *corpus*:'
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: å¯¹äºè¿™ä¸ªä¾‹å­ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ä¸‰ä¸ªæ–‡æ¡£ä½œä¸º*è¯­æ–™åº“*ï¼š
- en: '**Aliceâ€™s Adventures in Wonderland (1st Chapter)**, by Lewis Carroll'
  id: totrans-47
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**ã€Šçˆ±ä¸½ä¸æ¢¦æ¸¸ä»™å¢ƒï¼ˆç¬¬ä¸€ç« ï¼‰ã€‹**ï¼Œä½œè€…ï¼šåˆ˜æ˜“æ–¯Â·å¡ç½—å°”'
- en: '**Little Lost Robot**, a short story by Isaac Asimov (my favorite writer!)'
  id: totrans-48
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**ã€Šè¿·å¤±çš„å°æœºå™¨äººã€‹**ï¼Œä¼Šè¨å…‹Â·é˜¿è¥¿è«å¤«çš„çŸ­ç¯‡å°è¯´ï¼ˆæˆ‘æœ€å–œæ¬¢çš„ä½œå®¶ï¼ï¼‰'
- en: '**A few paragraphs regarding the Internet**, generated by GPT-4'
  id: totrans-49
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**å…³äºäº’è”ç½‘çš„å‡ æ®µæ–‡å­—**ï¼Œç”± GPT-4 ç”Ÿæˆ'
- en: We launch the creation of â€œstories-vector-indexâ€ and select the 3 files, stored
    on my computer.
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬å¯åŠ¨â€œstories-vector-indexâ€çš„åˆ›å»ºï¼Œå¹¶é€‰æ‹©å­˜å‚¨åœ¨æˆ‘è®¡ç®—æœºä¸Šçš„ 3 ä¸ªæ–‡ä»¶ã€‚
- en: '![](../Images/8b5fe5fb3ae78d7cd523c5279f0ac87a.png)'
  id: totrans-51
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/8b5fe5fb3ae78d7cd523c5279f0ac87a.png)'
- en: New Vector Index Creation in Azure Prompt Flow (Image by Author)
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨ Azure Prompt Flow ä¸­åˆ›å»ºæ–°çš„å‘é‡ç´¢å¼•ï¼ˆå›¾ç‰‡ç”±ä½œè€…æä¾›ï¼‰
- en: During the second step, you will have to choose an Azure Open AI resource that
    includes an â€œembeddingâ€ model.
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨ç¬¬äºŒæ­¥ä¸­ï¼Œä½ éœ€è¦é€‰æ‹©ä¸€ä¸ªåŒ…å«â€œåµŒå…¥â€æ¨¡å‹çš„ Azure Open AI èµ„æºã€‚
- en: 'This is the case for standard â€œAzure Open AIâ€ resources that come with GPT-3.5
    models and also provide â€œtext-embedding-ada-002â€:'
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™é€‚ç”¨äºæ ‡å‡†çš„â€œAzure Open AIâ€èµ„æºï¼Œè¿™äº›èµ„æºé™„å¸¦ GPT-3.5 æ¨¡å‹å¹¶æä¾›â€œtext-embedding-ada-002â€ï¼š
- en: '![](../Images/fa2f5b342f0ee398cd20552e86de30ba.png)'
  id: totrans-55
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/fa2f5b342f0ee398cd20552e86de30ba.png)'
- en: Azure Open AI â€” Models Deployed in a Resource (Image by Author)
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: Azure Open AI â€” éƒ¨ç½²åœ¨èµ„æºä¸­çš„æ¨¡å‹ï¼ˆå›¾ç‰‡ä½œè€…æä¾›ï¼‰
- en: Then, it is only a matter of choosing between a â€œServerless Computeâ€ or a â€œCompute
    Clusterâ€ and a bit of patience ğŸ¤”
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: ç„¶åï¼Œåªéœ€åœ¨â€œæ— æœåŠ¡å™¨è®¡ç®—â€æˆ–â€œè®¡ç®—é›†ç¾¤â€ä¹‹é—´é€‰æ‹©ï¼Œå¹¶è€å¿ƒç­‰å¾… ğŸ¤”
- en: '*From my experience, the process with a â€œServerless Computeâ€ for a few documents
    will take approx. 10 minutes and goes up to one hour for 1.000 documents (~1GB),
    including various formats such as PDF, PPT, DOC, CSV, XLS, TXT, etc.*'
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: '*æ ¹æ®æˆ‘çš„ç»éªŒï¼Œä½¿ç”¨â€œæ— æœåŠ¡å™¨è®¡ç®—â€å¤„ç†å°‘é‡æ–‡æ¡£å¤§çº¦éœ€è¦ 10 åˆ†é’Ÿï¼Œè€Œå¤„ç† 1,000 ä¸ªæ–‡æ¡£ï¼ˆçº¦ 1GBï¼‰çš„æ—¶é—´å¯èƒ½é•¿è¾¾ä¸€ä¸ªå°æ—¶ï¼ŒåŒ…æ‹¬å„ç§æ ¼å¼å¦‚
    PDFã€PPTã€DOCã€CSVã€XLSã€TXT ç­‰ã€‚*'
- en: '![](../Images/d20bf71ada4fc6c0ac55e595ea28f6f1.png)'
  id: totrans-59
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/d20bf71ada4fc6c0ac55e595ea28f6f1.png)'
- en: Vector Index Creation Successful Process in Azure Prompt Flow(Image by Author)
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: å‘é‡ç´¢å¼•åˆ›å»ºæˆåŠŸè¿‡ç¨‹åœ¨ Azure Prompt Flow ä¸­ï¼ˆå›¾ç‰‡ä½œè€…æä¾›ï¼‰
- en: 'When the process is over, the vector index becomes available in AZML:'
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: å½“è¿‡ç¨‹å®Œæˆåï¼Œå‘é‡ç´¢å¼•åœ¨ AZML ä¸­å˜å¾—å¯ç”¨ï¼š
- en: '![](../Images/d9f24c22b261bc8f5da38d87c44cb4ec.png)'
  id: totrans-62
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/d9f24c22b261bc8f5da38d87c44cb4ec.png)'
- en: Available Vector Indexes in Azure Prompt Flow (Image by Author)
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: Azure Prompt Flow ä¸­çš„å¯ç”¨å‘é‡ç´¢å¼•ï¼ˆå›¾ç‰‡ä½œè€…æä¾›ï¼‰
- en: '*Note: the only case of failure I have encountered so far was when the initial
    documents were including one or more â€œprotected PDFsâ€ as the script was not able
    to access the fileâ€™s content.*'
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: '*æ³¨æ„ï¼šåˆ°ç›®å‰ä¸ºæ­¢ï¼Œæˆ‘é‡åˆ°çš„å”¯ä¸€å¤±è´¥æ¡ˆä¾‹æ˜¯å½“åˆå§‹æ–‡æ¡£åŒ…å«ä¸€ä¸ªæˆ–å¤šä¸ªâ€œå—ä¿æŠ¤çš„ PDFâ€æ—¶ï¼Œå› ä¸ºè„šæœ¬æ— æ³•è®¿é—®æ–‡ä»¶çš„å†…å®¹ã€‚*'
- en: '*In that case, youâ€™ll have to check the log to detect which document is causing
    trouble:*'
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: '*åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæ‚¨éœ€è¦æ£€æŸ¥æ—¥å¿—ä»¥æ£€æµ‹å“ªä¸ªæ–‡æ¡£å¯¼è‡´äº†é—®é¢˜ï¼š*'
- en: '![](../Images/6f6867e12a28b72ced23439f72033b66.png)'
  id: totrans-66
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/6f6867e12a28b72ced23439f72033b66.png)'
- en: Vector Index Creation failure login Azure Prompt Flow (Image by Author)
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: å‘é‡ç´¢å¼•åˆ›å»ºå¤±è´¥ç™»å½• Azure Prompt Flowï¼ˆå›¾ç‰‡ä½œè€…æä¾›ï¼‰
- en: '![](../Images/d21a514b774c50810dc4f2426c07d505.png)'
  id: totrans-68
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/d21a514b774c50810dc4f2426c07d505.png)'
- en: Vector Index Creation failure login Azure Prompt Flow (Image by Author)
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: å‘é‡ç´¢å¼•åˆ›å»ºå¤±è´¥ç™»å½• Azure Prompt Flowï¼ˆå›¾ç‰‡ä½œè€…æä¾›ï¼‰
- en: Creating a new Flow
  id: totrans-70
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: åˆ›å»ºæ–°æµç¨‹
- en: 'From the gallery (which is constantly evolving), we will choose and clone â€œBring
    Your Own Data QnAâ€:'
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: ä»ç”»å»Šï¼ˆä¸æ–­æ¼”å˜ä¸­ï¼‰ä¸­ï¼Œæˆ‘ä»¬å°†é€‰æ‹©å¹¶å…‹éš†â€œå¸¦æ¥æ‚¨è‡ªå·±çš„æ•°æ® QnAâ€ï¼š
- en: '![](../Images/a32f8809b002860ea8c13dfa4a19008b.png)'
  id: totrans-72
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/a32f8809b002860ea8c13dfa4a19008b.png)'
- en: Flow Gallery in Prompt Flow (Image from Author)
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: Prompt Flow ä¸­çš„æµç¨‹ç”»å»Šï¼ˆå›¾ç‰‡ä½œè€…æä¾›ï¼‰
- en: 'This creates a complete LangChain-like mechanism that only needs a few configurations
    steps:'
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™åˆ›å»ºäº†ä¸€ä¸ªå®Œæ•´çš„ç±»ä¼¼ LangChain çš„æœºåˆ¶ï¼Œåªéœ€è¦å‡ ä¸ªé…ç½®æ­¥éª¤ï¼š
- en: '![](../Images/27a60f153fbdf247fab2d22fc9056db4.png)'
  id: totrans-75
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/27a60f153fbdf247fab2d22fc9056db4.png)'
- en: Cloned Q&A Prompt Flow Configuration (Image from Author)
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: å…‹éš†çš„é—®ç­”æç¤ºæµé…ç½®ï¼ˆå›¾ç‰‡ä½œè€…æä¾›ï¼‰
- en: Updating the initial query/question
  id: totrans-77
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: æ›´æ–°åˆå§‹æŸ¥è¯¢/é—®é¢˜
- en: Choosing an Azure Open AI resource including embedding capacity
  id: totrans-78
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: é€‰æ‹©ä¸€ä¸ªåŒ…æ‹¬åµŒå…¥èƒ½åŠ›çš„ Azure Open AI èµ„æº
- en: Selecting a runtime, linked to a running compute instance
  id: totrans-79
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: é€‰æ‹©ä¸€ä¸ªä¸è¿è¡Œä¸­çš„è®¡ç®—å®ä¾‹ç›¸å…³è”çš„è¿è¡Œæ—¶
- en: Updating the location of the vector index (using its â€œStorage URIâ€)
  id: totrans-80
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: æ›´æ–°å‘é‡ç´¢å¼•çš„ä½ç½®ï¼ˆä½¿ç”¨å…¶â€œå­˜å‚¨ URIâ€ï¼‰
- en: '![](../Images/7c58809ac4c43d6008e04bec0e2adad9.png)'
  id: totrans-81
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/7c58809ac4c43d6008e04bec0e2adad9.png)'
- en: Cloned Q&A Prompt Flow Configuration (Image from Author)
  id: totrans-82
  prefs: []
  type: TYPE_NORMAL
  zh: å…‹éš†çš„é—®ç­”æç¤ºæµé…ç½®ï¼ˆå›¾ç‰‡ä½œè€…æä¾›ï¼‰
- en: 'After a successful run, you can inspect the relevance of the answer:'
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
  zh: æˆåŠŸè¿è¡Œåï¼Œæ‚¨å¯ä»¥æ£€æŸ¥ç­”æ¡ˆçš„ç›¸å…³æ€§ï¼š
- en: '[PRE1]'
  id: totrans-84
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: Indeed, one could argue that you do not need to provide the first chapter as
    GPT models would be able to answer without itâ€¦ but you understood that it that
    for demo purposes only ğŸ˜‰
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: ç¡®å®ï¼Œæœ‰äººå¯èƒ½ä¼šè®¤ä¸ºæ‚¨æ— éœ€æä¾›ç¬¬ä¸€ç« ï¼Œå› ä¸º GPT æ¨¡å‹èƒ½å¤Ÿåœ¨æ²¡æœ‰å®ƒçš„æƒ…å†µä¸‹å›ç­”â€¦â€¦ä½†æ‚¨æ˜ç™½è¿™æ˜¯ä»…ç”¨äºæ¼”ç¤ºç›®çš„ ğŸ˜‰
- en: 'Using the same principles, we can create a powerful Q&A application for enterprise
    documents:'
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
  zh: è¿ç”¨ç›¸åŒçš„åŸåˆ™ï¼Œæˆ‘ä»¬å¯ä»¥ä¸ºä¼ä¸šæ–‡æ¡£åˆ›å»ºä¸€ä¸ªå¼ºå¤§çš„é—®ç­”åº”ç”¨ç¨‹åºï¼š
- en: '![](../Images/09e0b6195a17a14d9f2888e18d0d8d2f.png)'
  id: totrans-87
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/09e0b6195a17a14d9f2888e18d0d8d2f.png)'
- en: Flow output, based on proprietary documents (Image by Author)
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: åŸºäºä¸“æœ‰æ–‡æ¡£çš„æµç¨‹è¾“å‡ºï¼ˆå›¾ç‰‡ä½œè€…æä¾›ï¼‰
- en: Leveraging the endpoint through a Web-App
  id: totrans-89
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: é€šè¿‡ Web-App åˆ©ç”¨è¯¥ç«¯ç‚¹
- en: After a few â€œsanity checksâ€ to secure that answers provided are meaningful,
    we can deploy the application in a few clicks with the corresponding button.
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: ç»è¿‡å‡ æ¬¡â€œåˆç†æ€§æ£€æŸ¥â€ä»¥ç¡®ä¿æä¾›çš„ç­”æ¡ˆæœ‰æ„ä¹‰åï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ç›¸åº”çš„æŒ‰é’®åœ¨å‡ æ¬¡ç‚¹å‡»ä¸­éƒ¨ç½²åº”ç”¨ç¨‹åºã€‚
- en: 'The flow becomes a Rest Azure Endpoint that a simple Python, C#, or R snippet
    can consume:'
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
  zh: è¯¥æµç¨‹å˜æˆä¸€ä¸ª REST Azure ç«¯ç‚¹ï¼Œç®€å•çš„ Pythonã€C# æˆ– R ä»£ç ç‰‡æ®µå¯ä»¥ä½¿ç”¨ï¼š
- en: '![](../Images/94e3e29eee1cdd7f035e2578da086ab9.png)'
  id: totrans-92
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/94e3e29eee1cdd7f035e2578da086ab9.png)'
- en: Endpoint Consumption Snippet from Azure (Image by Author)
  id: totrans-93
  prefs: []
  type: TYPE_NORMAL
  zh: æ¥è‡ª Azure çš„ç«¯ç‚¹æ¶ˆè´¹ç‰‡æ®µï¼ˆä½œè€…æä¾›çš„å›¾ç‰‡ï¼‰
- en: 'One of my recommendations to make the model accessible easily would be to use
    a package such as Streamlit and design a simple interface, allowing users to ask
    queries naturally way and get answers with the corresponding sources in return,
    as shown below:'
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘çš„ä¸€é¡¹å»ºè®®æ˜¯ä½¿ç”¨å¦‚ Streamlit è¿™æ ·çš„åŒ…æ¥ä½¿æ¨¡å‹æ˜“äºè®¿é—®ï¼Œå¹¶è®¾è®¡ä¸€ä¸ªç®€å•çš„ç•Œé¢ï¼Œå…è®¸ç”¨æˆ·ä»¥è‡ªç„¶çš„æ–¹å¼æé—®ï¼Œå¹¶è·å¾—ç›¸åº”æ¥æºçš„ç­”æ¡ˆï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š
- en: '![](../Images/931f01160d1505df5658cb9848b5959d.png)'
  id: totrans-95
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/931f01160d1505df5658cb9848b5959d.png)'
- en: Possible Web-App Design and UX created with Streamlit (Image by Author)
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
  zh: ä½¿ç”¨ Streamlit åˆ›å»ºçš„å¯èƒ½çš„ Web åº”ç”¨ç¨‹åºè®¾è®¡å’Œ UXï¼ˆä½œè€…æä¾›çš„å›¾ç‰‡ï¼‰
- en: And here we are! ğŸ‰
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
  zh: å°±è¿™æ ·ï¼ğŸ‰
- en: Without so much coding, we went from an original corpus of documents to a web
    application leveraging LLMsâ€™ power to help end-users extract insights and knowledge
    in an easy and natural way!
  id: totrans-98
  prefs: []
  type: TYPE_NORMAL
  zh: å‡­å€Ÿå¦‚æ­¤å°‘çš„ç¼–ç ï¼Œæˆ‘ä»¬ä»åŸå§‹çš„æ–‡æ¡£è¯­æ–™åº“è½¬å˜ä¸ºä¸€ä¸ªåˆ©ç”¨ LLM åŠŸèƒ½çš„ web åº”ç”¨ç¨‹åºï¼Œå¸®åŠ©æœ€ç»ˆç”¨æˆ·ä»¥ç®€å•è‡ªç„¶çš„æ–¹å¼æå–è§è§£å’ŒçŸ¥è¯†ï¼
- en: Among all the possible usages of Generative AI coming in the near future, I
    truly believe that itâ€™s going to be a game changer for many companies or entities
    which try to make sense of and leverage tons of TB of data or documents they have.
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨å³å°†åˆ°æ¥çš„å„ç§ç”Ÿæˆå¼ AI ä½¿ç”¨åœºæ™¯ä¸­ï¼Œæˆ‘çœŸçš„ç›¸ä¿¡å®ƒå°†æˆä¸ºè®¸å¤šå…¬å¸æˆ–ç»„ç»‡å¤„ç†å’Œåˆ©ç”¨å¤§é‡ TB æ•°æ®æˆ–æ–‡æ¡£çš„**æ¸¸æˆè§„åˆ™æ”¹å˜è€…**ã€‚
- en: As usual, I tried to identify all required steps but do not hesitate to revert
    to me should there be any missing instructions in this tutorial!
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
  zh: åƒå¾€å¸¸ä¸€æ ·ï¼Œæˆ‘å°è¯•ç¡®å®šæ‰€æœ‰æ‰€éœ€çš„æ­¥éª¤ï¼Œä½†å¦‚æœåœ¨æœ¬æ•™ç¨‹ä¸­æœ‰ä»»ä½•é—æ¼çš„è¯´æ˜ï¼Œè¯·éšæ—¶è”ç³»æˆ‘ï¼
- en: 'And do not hesitate to browse through my other contributions on Medium:'
  id: totrans-101
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸è¦çŠ¹è±«ï¼Œæµè§ˆæˆ‘åœ¨ Medium ä¸Šçš„å…¶ä»–è´¡çŒ®ï¼š
- en: '[](https://pl-bescond.medium.com/pierre-louis-besconds-articles-on-medium-f6632a6895ad?source=post_page-----3a79ec23f59c--------------------------------)
    [## Pierre-Louis Bescondâ€™s articles on Medium'
  id: totrans-102
  prefs: []
  type: TYPE_NORMAL
  zh: '[](https://pl-bescond.medium.com/pierre-louis-besconds-articles-on-medium-f6632a6895ad?source=post_page-----3a79ec23f59c--------------------------------)
    [## çš®åŸƒå°”-è·¯æ˜“æ–¯Â·è´æ–¯å­”åœ¨ Medium ä¸Šçš„æ–‡ç« ]'
- en: Data Science, Machine Learning and Innovation
  id: totrans-103
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: æ•°æ®ç§‘å­¦ã€æœºå™¨å­¦ä¹ ä¸åˆ›æ–°
- en: pl-bescond.medium.com](https://pl-bescond.medium.com/pierre-louis-besconds-articles-on-medium-f6632a6895ad?source=post_page-----3a79ec23f59c--------------------------------)
  id: totrans-104
  prefs: []
  type: TYPE_NORMAL
  zh: pl-bescond.medium.com](https://pl-bescond.medium.com/pierre-louis-besconds-articles-on-medium-f6632a6895ad?source=post_page-----3a79ec23f59c--------------------------------)
