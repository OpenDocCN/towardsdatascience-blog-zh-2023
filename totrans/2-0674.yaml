- en: Dealing with Conversion Metrics? Consider Beta-Binomial Model
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: å¤„ç†è½¬åŒ–æŒ‡æ ‡ï¼Ÿè€ƒè™‘ä½¿ç”¨ Beta-äºŒé¡¹å¼æ¨¡å‹
- en: åŸæ–‡ï¼š[https://towardsdatascience.com/dealing-with-conversion-metrics-consider-beta-binomial-model-29733906ff38](https://towardsdatascience.com/dealing-with-conversion-metrics-consider-beta-binomial-model-29733906ff38)
  id: totrans-1
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: åŸæ–‡ï¼š[https://towardsdatascience.com/dealing-with-conversion-metrics-consider-beta-binomial-model-29733906ff38](https://towardsdatascience.com/dealing-with-conversion-metrics-consider-beta-binomial-model-29733906ff38)
- en: '![](../Images/52c7b004ff37e2cbacac7625eaf7ab8d.png)'
  id: totrans-2
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/52c7b004ff37e2cbacac7625eaf7ab8d.png)'
- en: Photo by [Karim MANJRA](https://unsplash.com/@karim_manjra?utm_source=medium&utm_medium=referral)
    on [Unsplash](https://unsplash.com/?utm_source=medium&utm_medium=referral)
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: å›¾ç‰‡ç”± [Karim MANJRA](https://unsplash.com/@karim_manjra?utm_source=medium&utm_medium=referral)
    æä¾›ï¼Œæ¥æºäº [Unsplash](https://unsplash.com/?utm_source=medium&utm_medium=referral)
- en: Learn a feature engineering technique to make conversion-based metrics such
    as CTR/CVR more representative and stable
  id: totrans-4
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: å­¦ä¹ ä¸€ç§ç‰¹å¾å·¥ç¨‹æŠ€æœ¯ï¼Œä½¿åŸºäºè½¬åŒ–çš„æŒ‡æ ‡å¦‚ CTR/CVR æ›´å…·ä»£è¡¨æ€§å’Œç¨³å®šæ€§
- en: '[](https://medium.com/@pararawendy19?source=post_page-----29733906ff38--------------------------------)[![Pararawendy
    Indarjo](../Images/afba0cb7f3af9554a187bbc7a3c00e60.png)](https://medium.com/@pararawendy19?source=post_page-----29733906ff38--------------------------------)[](https://towardsdatascience.com/?source=post_page-----29733906ff38--------------------------------)[![Towards
    Data Science](../Images/a6ff2676ffcc0c7aad8aaf1d79379785.png)](https://towardsdatascience.com/?source=post_page-----29733906ff38--------------------------------)
    [Pararawendy Indarjo](https://medium.com/@pararawendy19?source=post_page-----29733906ff38--------------------------------)'
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: '[](https://medium.com/@pararawendy19?source=post_page-----29733906ff38--------------------------------)[![Pararawendy
    Indarjo](../Images/afba0cb7f3af9554a187bbc7a3c00e60.png)](https://medium.com/@pararawendy19?source=post_page-----29733906ff38--------------------------------)[](https://towardsdatascience.com/?source=post_page-----29733906ff38--------------------------------)[![Towards
    Data Science](../Images/a6ff2676ffcc0c7aad8aaf1d79379785.png)](https://towardsdatascience.com/?source=post_page-----29733906ff38--------------------------------)
    [Pararawendy Indarjo](https://medium.com/@pararawendy19?source=post_page-----29733906ff38--------------------------------)'
- en: Â·Published in [Towards Data Science](https://towardsdatascience.com/?source=post_page-----29733906ff38--------------------------------)
    Â·10 min readÂ·Jul 26, 2023
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: Â·å‘å¸ƒäº [Towards Data Science](https://towardsdatascience.com/?source=post_page-----29733906ff38--------------------------------)
    Â·10 åˆ†é’Ÿé˜…è¯»Â·2023å¹´7æœˆ26æ—¥
- en: --
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: --
- en: Conversion metrics are abundant in the industry. And oftentimes, we want to
    use them as a feature in our ML model. Say, the impression-to-click product detail
    click-through rate (CTR) of a product shown on the search page may be relevant
    after all to be used as one feature to model whether or not the product will be
    purchased in an e-commerce platform.
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: è¡Œä¸šå†…æœ‰å¤§é‡çš„è½¬åŒ–æŒ‡æ ‡ã€‚è€Œä¸”æˆ‘ä»¬ç»å¸¸å¸Œæœ›å°†å®ƒä»¬ç”¨ä½œæˆ‘ä»¬æœºå™¨å­¦ä¹ æ¨¡å‹ä¸­çš„ä¸€ä¸ªç‰¹å¾ã€‚ä¾‹å¦‚ï¼Œäº§å“åœ¨æœç´¢é¡µé¢ä¸Šå±•ç¤ºçš„å°è±¡åˆ°ç‚¹å‡»çš„äº§å“è¯¦æƒ…ç‚¹å‡»ç‡ï¼ˆCTRï¼‰å¯èƒ½æ˜¯ä¸€ä¸ªç›¸å…³ç‰¹å¾ï¼Œç”¨äºå»ºæ¨¡äº§å“æ˜¯å¦ä¼šåœ¨ç”µå­å•†åŠ¡å¹³å°ä¸Šè¢«è´­ä¹°ã€‚
- en: In this blog, we will learn a feature engineering technique for such conversion
    metrics. To pursue this objective, the rest of the blog will be structured as
    follows.
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨è¿™ç¯‡åšå®¢ä¸­ï¼Œæˆ‘ä»¬å°†å­¦ä¹ ä¸€ç§é’ˆå¯¹è¿™äº›è½¬åŒ–æŒ‡æ ‡çš„ç‰¹å¾å·¥ç¨‹æŠ€æœ¯ã€‚ä¸ºäº†å®ç°è¿™ä¸€ç›®æ ‡ï¼Œåšå®¢çš„å…¶ä½™éƒ¨åˆ†å°†æŒ‰ä»¥ä¸‹ç»“æ„è¿›è¡Œã€‚
- en: An explanation on why we need to handle conversion features with caution (i.e.,
    we shouldnâ€™t use these features in their raw forms).
  id: totrans-10
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: è§£é‡Šä¸ºä»€ä¹ˆæˆ‘ä»¬éœ€è¦è°¨æ…å¤„ç†è½¬åŒ–ç‰¹å¾ï¼ˆå³ï¼Œæˆ‘ä»¬ä¸åº”ä½¿ç”¨è¿™äº›ç‰¹å¾çš„åŸå§‹å½¢å¼ï¼‰ã€‚
- en: 'The solution: Beta-Binomial Model to transform the raw conversion values into
    more stable/representative version'
  id: totrans-11
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: è§£å†³æ–¹æ¡ˆï¼šä½¿ç”¨ Beta-äºŒé¡¹å¼æ¨¡å‹å°†åŸå§‹è½¬åŒ–å€¼è½¬æ¢ä¸ºæ›´ç¨³å®š/æ›´å…·ä»£è¡¨æ€§çš„ç‰ˆæœ¬
- en: The theoretical foundation of Beta-Binomial Model
  id: totrans-12
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: Beta-äºŒé¡¹å¼æ¨¡å‹çš„ç†è®ºåŸºç¡€
- en: A guide to tune the parameters of the Beta-prior distribution of the model
  id: totrans-13
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: è°ƒæ•´æ¨¡å‹ Beta-prior åˆ†å¸ƒå‚æ•°çš„æŒ‡å—
- en: 'Python code to do the Beta-Binomial transformation (hint: itâ€™s very simple!)'
  id: totrans-14
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: ç”¨äºè¿›è¡Œ Beta-äºŒé¡¹å¼è½¬æ¢çš„ Python ä»£ç ï¼ˆæç¤ºï¼šéå¸¸ç®€å•ï¼ï¼‰
- en: Letâ€™s dive in!
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: è®©æˆ‘ä»¬å¼€å§‹å§ï¼
- en: The drawbacks of using raw conversion values
  id: totrans-16
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: ä½¿ç”¨åŸå§‹è½¬åŒ–å€¼çš„ç¼ºç‚¹
- en: 'Suppose we are building a classification model to predict whether or not a
    product will be purchased on an e-commerce platform. As part of the data preprocessing,
    we extract two columns related to each product: the number of impressions and
    the number of clicks it receives. Because weâ€™re awesome data scientist with strong
    domain knowledge, we derive a new feature called â€œimpression-to-click conversion.â€'
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: å‡è®¾æˆ‘ä»¬æ­£åœ¨æ„å»ºä¸€ä¸ªåˆ†ç±»æ¨¡å‹ï¼Œä»¥é¢„æµ‹äº§å“æ˜¯å¦ä¼šåœ¨ç”µå­å•†åŠ¡å¹³å°ä¸Šè¢«è´­ä¹°ã€‚ä½œä¸ºæ•°æ®é¢„å¤„ç†çš„ä¸€éƒ¨åˆ†ï¼Œæˆ‘ä»¬æå–ä¸æ¯ä¸ªäº§å“ç›¸å…³çš„ä¸¤åˆ—æ•°æ®ï¼šè·å¾—çš„å°è±¡æ•°å’Œç‚¹å‡»æ•°ã€‚å› ä¸ºæˆ‘ä»¬æ˜¯å…·æœ‰å¼ºå¤§é¢†åŸŸçŸ¥è¯†çš„ä¼˜ç§€æ•°æ®ç§‘å­¦å®¶ï¼Œæ‰€ä»¥æˆ‘ä»¬è¡ç”Ÿå‡ºä¸€ä¸ªåä¸ºâ€œå°è±¡åˆ°ç‚¹å‡»è½¬åŒ–â€çš„æ–°ç‰¹å¾ã€‚
- en: The rationale behind this feature engineering is that we believe a higher impression-to-click
    conversion indicates a better product quality. The logic is that if a product
    receives a higher percentage of clicks relative to the number of times it was
    displayed (impressions), it suggests that users find the product appealing, leading
    to a higher likelihood of it being purchased.
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™ä¸€ç‰¹å¾å·¥ç¨‹çš„åŸç†æ˜¯æˆ‘ä»¬ç›¸ä¿¡æ›´é«˜çš„å°è±¡åˆ°ç‚¹å‡»è½¬æ¢ç‡è¡¨ç¤ºæ›´å¥½çš„äº§å“è´¨é‡ã€‚é€»è¾‘æ˜¯ï¼Œå¦‚æœä¸€ä¸ªäº§å“åœ¨å±•ç¤ºæ¬¡æ•°ï¼ˆå°è±¡ï¼‰ä¸­è·å¾—äº†æ›´é«˜çš„ç‚¹å‡»ç™¾åˆ†æ¯”ï¼Œè¿™è¡¨æ˜ç”¨æˆ·è§‰å¾—è¿™ä¸ªäº§å“æœ‰å¸å¼•åŠ›ï¼Œä»è€Œå¢åŠ äº†è´­ä¹°çš„å¯èƒ½æ€§ã€‚
- en: Now consider the following three product scenarios.
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: ç°åœ¨è€ƒè™‘ä»¥ä¸‹ä¸‰ä¸ªäº§å“åœºæ™¯ã€‚
- en: '![](../Images/8ffe947c758c7a3392886be504e8ce3d.png)'
  id: totrans-20
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/8ffe947c758c7a3392886be504e8ce3d.png)'
- en: Original conversion values (Image by Author)
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: åŸå§‹è½¬æ¢å€¼ï¼ˆå›¾ç‰‡æ¥æºäºä½œè€…ï¼‰
- en: In the table, both Product A and Product B have an equal impression-to-click
    conversion of 70%. Does it mean that Product A and B have the same quality? Note
    that Product A achieved the 70% conversion rate after being impressed a significant
    number of times (1000 impressions), indicating a higher level of testing and stability.
    On the other hand, Product B claims the same conversion rate from a much smaller
    number of impressions (only 10 impressions), making it less reliable and more
    susceptible to fluctuations.
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨è¡¨æ ¼ä¸­ï¼Œäº§å“ A å’Œäº§å“ B çš„å°è±¡åˆ°ç‚¹å‡»è½¬æ¢ç‡éƒ½æ˜¯ 70%ã€‚è¿™æ˜¯å¦æ„å‘³ç€äº§å“ A å’Œ B çš„è´¨é‡ç›¸åŒï¼Ÿæ³¨æ„äº§å“ A åœ¨ç»è¿‡å¤§é‡å±•ç¤ºï¼ˆ1000 æ¬¡å°è±¡ï¼‰åè¾¾åˆ°äº†
    70% çš„è½¬æ¢ç‡ï¼Œè¡¨æ˜æµ‹è¯•å’Œç¨³å®šæ€§è¾ƒé«˜ã€‚å¦ä¸€æ–¹é¢ï¼Œäº§å“ B ä»æ›´å°‘çš„å±•ç¤ºæ¬¡æ•°ï¼ˆä»… 10 æ¬¡å°è±¡ï¼‰ä¸­è·å¾—äº†ç›¸åŒçš„è½¬æ¢ç‡ï¼Œä½¿å…¶ä¸é‚£ä¹ˆå¯é ï¼Œæ›´å®¹æ˜“å—åˆ°æ³¢åŠ¨çš„å½±å“ã€‚
- en: Given this difference in testing and stability, I think itâ€™s more appropriate
    to assign a higher conversion score to Product A compared to Product B.
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: é‰´äºè¿™ç§æµ‹è¯•å’Œç¨³å®šæ€§çš„å·®å¼‚ï¼Œæˆ‘è®¤ä¸ºå°†è¾ƒé«˜çš„è½¬æ¢è¯„åˆ†åˆ†é…ç»™äº§å“ A æ¯”äº§å“ B æ›´åˆé€‚ã€‚
- en: The issue in using raw conversion value gets more obvious when we consider Product
    C. It has 100% impression-to-click conversion after being impressed only 1 time.
    By using raw conversion value, it is implied that Product C is significantly better
    than the other products â€” which is not necessarily true. Because itâ€™s possible
    that Product C simply had â€œbeginnerâ€™s luckâ€ after all. The true/stable conversion
    rate of Product C is most likely less than 100% as it gathers more impressions
    from users.
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: å½“æˆ‘ä»¬è€ƒè™‘äº§å“ C æ—¶ï¼Œä½¿ç”¨åŸå§‹è½¬æ¢å€¼çš„é—®é¢˜å˜å¾—æ›´åŠ æ˜æ˜¾ã€‚äº§å“ C åœ¨ä»…è¢«å±•ç¤º 1 æ¬¡åå°±è¾¾åˆ°äº† 100% çš„å°è±¡åˆ°ç‚¹å‡»è½¬æ¢ç‡ã€‚ä½¿ç”¨åŸå§‹è½¬æ¢å€¼æš—ç¤ºäº§å“
    C æ¯”å…¶ä»–äº§å“æ˜¾è‘—æ›´å¥½â€”â€”ä½†è¿™ä¸ä¸€å®šæ˜¯çœŸçš„ã€‚å› ä¸ºäº§å“ C å¯èƒ½åªæ˜¯â€œåˆå­¦è€…è¿æ°”â€è€Œå·²ã€‚äº§å“ C çš„çœŸå®/ç¨³å®šè½¬æ¢ç‡å¾ˆå¯èƒ½ä½äº 100%ï¼Œéšç€ç”¨æˆ·çš„å°è±¡å¢åŠ è€Œå˜åŒ–ã€‚
- en: Beta-Binomial Model to the rescue!
  id: totrans-25
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: Beta-Binomial æ¨¡å‹æ¥æ•‘æ´ï¼
- en: Is there a better way rather than using the raw conversion value?
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: æœ‰æ²¡æœ‰æ¯”ä½¿ç”¨åŸå§‹è½¬æ¢å€¼æ›´å¥½çš„æ–¹æ³•ï¼Ÿ
- en: There is, indeed! We can use the Beta-Binomial model to obtain more stable conversion
    values, which may better represent the feature. We can calculate a productâ€™s click-propensity
    (a term we use to refer to the better /more stable version of impression-to-click
    conversion) using the Beta-Binomial model via the following transformation.
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: ç¡®å®æœ‰æ›´å¥½çš„æ–¹æ³•ï¼æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ Beta-Binomial æ¨¡å‹æ¥è·å¾—æ›´ç¨³å®šçš„è½¬æ¢å€¼ï¼Œè¿™å¯èƒ½æ›´å¥½åœ°ä»£è¡¨ç‰¹å¾ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡ä»¥ä¸‹è½¬æ¢ï¼Œä½¿ç”¨ Beta-Binomial
    æ¨¡å‹è®¡ç®—äº§å“çš„ç‚¹å‡»å€¾å‘ï¼ˆæˆ‘ä»¬ç”¨æ¥æŒ‡ä»£å°è±¡åˆ°ç‚¹å‡»è½¬æ¢çš„æ›´å¥½/æ›´ç¨³å®šç‰ˆæœ¬ï¼‰ã€‚
- en: '![](../Images/db663f5da3e3dcf8966dc8216b469fca.png)'
  id: totrans-28
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/db663f5da3e3dcf8966dc8216b469fca.png)'
- en: Beta-binomial conversion formula (Image by Author)
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: Beta-binomial è½¬æ¢å…¬å¼ï¼ˆå›¾ç‰‡æ¥æºäºä½œè€…ï¼‰
- en: Where Î±, Î² are some specified values.
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: Î± å’Œ Î² æ˜¯ä¸€äº›æŒ‡å®šçš„å€¼ã€‚
- en: For example, by using Î± = Î² = 10, we arrive at the following results for the
    same Product A, B, and C we considered before.
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: ä¾‹å¦‚ï¼Œä½¿ç”¨ Î± = Î² = 10ï¼Œæˆ‘ä»¬å¯ä»¥å¾—åˆ°ä¹‹å‰è€ƒè™‘è¿‡çš„äº§å“ Aã€B å’Œ C çš„ä»¥ä¸‹ç»“æœã€‚
- en: '![](../Images/220d4d6d080968076f26d64e2e2e5d10.png)'
  id: totrans-32
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/220d4d6d080968076f26d64e2e2e5d10.png)'
- en: Beta-Binomial Conversion (Image by Author)
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: Beta-Binomial è½¬æ¢ï¼ˆå›¾ç‰‡æ¥æºäºä½œè€…ï¼‰
- en: Definitely better than using the raw conversion values, right? Product A now
    has the highest score of the three, which seems more fair given that it has been
    tested the most by users (many impressions). Furthermore, Product C now has the
    lowest score because we are unsure about the seemingly perfect conversion it has
    (i.e., more tests are required to prove its worth).
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: æ¯”ä½¿ç”¨åŸå§‹è½¬æ¢å€¼æ›´å¥½ï¼Œå¯¹å§ï¼Ÿç°åœ¨äº§å“ A åœ¨ä¸‰è€…ä¸­å¾—åˆ†æœ€é«˜ï¼Œè¿™ä¼¼ä¹æ›´å…¬å¹³ï¼Œå› ä¸ºå®ƒå·²ç»ç»è¿‡äº†æœ€å¤šçš„ç”¨æˆ·æµ‹è¯•ï¼ˆå¤§é‡å°è±¡ï¼‰ã€‚æ­¤å¤–ï¼Œäº§å“ C ç°åœ¨å¾—åˆ†æœ€ä½ï¼Œå› ä¸ºæˆ‘ä»¬å¯¹å®ƒçœ‹ä¼¼å®Œç¾çš„è½¬æ¢ç»“æœä¸ç¡®å®šï¼ˆå³éœ€è¦æ›´å¤šçš„æµ‹è¯•æ¥è¯æ˜å…¶ä»·å€¼ï¼‰ã€‚
- en: Theoretical Foundation of Beta-Binomial Model
  id: totrans-35
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: Beta-Binomial æ¨¡å‹çš„ç†è®ºåŸºç¡€
- en: Despite its simplicity, the transformation described above has a solid theoretical
    foundation, which will be discussed in this section.
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: å°½ç®¡å…¶ç®€å•ï¼Œä½†ä¸Šè¿°å˜æ¢æœ‰ç€åšå®çš„ç†è®ºåŸºç¡€ï¼Œè¿™å°†åœ¨æœ¬èŠ‚ä¸­è®¨è®ºã€‚
- en: Practical readers can simply skip this more technical section and proceed to
    the section on â€œHow to choose Î± and Î²â€.
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: å®ç”¨çš„è¯»è€…å¯ä»¥ç›´æ¥è·³è¿‡è¿™ä¸ªæ›´æŠ€æœ¯æ€§çš„éƒ¨åˆ†ï¼Œç»§ç»­é˜…è¯»â€œå¦‚ä½•é€‰æ‹© Î± å’Œ Î²â€éƒ¨åˆ†ã€‚
- en: Binomial Distribution
  id: totrans-38
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: äºŒé¡¹åˆ†å¸ƒ
- en: The first relevant concept is Binomial distribution. Recall that itâ€™s a probability
    distribution that models the number of successes (y) from a set of independent
    binary trials (n), each with success probability of pi (Ï€).
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: ç¬¬ä¸€ä¸ªç›¸å…³æ¦‚å¿µæ˜¯äºŒé¡¹åˆ†å¸ƒã€‚å›å¿†ä¸€ä¸‹ï¼Œå®ƒæ˜¯ä¸€ç§æ¦‚ç‡åˆ†å¸ƒï¼Œç”¨äºå»ºæ¨¡ä»ä¸€ç»„ç‹¬ç«‹çš„äºŒé¡¹è¯•éªŒï¼ˆnï¼‰ä¸­è·å¾—çš„æˆåŠŸæ¬¡æ•°ï¼ˆyï¼‰ï¼Œæ¯æ¬¡è¯•éªŒçš„æˆåŠŸæ¦‚ç‡ä¸º piï¼ˆÏ€ï¼‰ã€‚
- en: In our case, we can use Binomial distribution to model the number of clicks
    a product receives (y) from the number of impressions the product being shown
    to users (n), assuming the product has click-propensity of pi (Ï€).
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨æˆ‘ä»¬çš„æ¡ˆä¾‹ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨äºŒé¡¹åˆ†å¸ƒæ¥å»ºæ¨¡äº§å“è·å¾—çš„ç‚¹å‡»æ¬¡æ•°ï¼ˆyï¼‰ï¼Œè¿™äº›ç‚¹å‡»æ˜¯äº§å“å±•ç¤ºç»™ç”¨æˆ·çš„æ¬¡æ•°ï¼ˆnï¼‰ï¼Œå‡è®¾äº§å“çš„ç‚¹å‡»å€¾å‘æ˜¯ piï¼ˆÏ€ï¼‰ã€‚
- en: The probability mass function of Binomial distribution is as follows.
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: äºŒé¡¹åˆ†å¸ƒçš„æ¦‚ç‡è´¨é‡å‡½æ•°å¦‚ä¸‹æ‰€ç¤ºã€‚
- en: '![](../Images/40663a72b44520389666709dcd279882.png)'
  id: totrans-42
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/40663a72b44520389666709dcd279882.png)'
- en: Binomial PMF (Image by Author)
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: äºŒé¡¹åˆ†å¸ƒ PMFï¼ˆä½œè€…å›¾åƒï¼‰
- en: Using the above formula, we can compute (given n & Ï€) the probability of number
    of success equals to y. As a result, we can determine which value y has a higher
    probability of occurring than the others.
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: ä½¿ç”¨ä¸Šè¿°å…¬å¼ï¼Œæˆ‘ä»¬å¯ä»¥è®¡ç®—ï¼ˆç»™å®š n å’Œ Ï€ï¼‰æˆåŠŸæ¬¡æ•°ç­‰äº y çš„æ¦‚ç‡ã€‚ç»“æœï¼Œæˆ‘ä»¬å¯ä»¥ç¡®å®šå“ªä¸ª y å€¼çš„å‘ç”Ÿæ¦‚ç‡é«˜äºå…¶ä»–å€¼ã€‚
- en: However, in our case, we are *not* interested in learning the optimal value
    of y (i.e., the number of obtained clicks with the highest probability). This
    is due to the fact that we have clicks and impressions data as inputs (that is,
    we can query how many impressions (n) and clicks (y) Product A has received from
    our tracking database).
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: ç„¶è€Œï¼Œåœ¨æˆ‘ä»¬çš„æ¡ˆä¾‹ä¸­ï¼Œæˆ‘ä»¬*ä¸*æ„Ÿå…´è¶£äºå­¦ä¹  y çš„æœ€ä½³å€¼ï¼ˆå³ï¼Œè·å¾—æœ€é«˜æ¦‚ç‡çš„ç‚¹å‡»æ¬¡æ•°ï¼‰ã€‚è¿™æ˜¯å› ä¸ºæˆ‘ä»¬æœ‰ç‚¹å‡»å’Œå±•ç¤ºæ•°æ®ä½œä¸ºè¾“å…¥ï¼ˆä¹Ÿå°±æ˜¯è¯´ï¼Œæˆ‘ä»¬å¯ä»¥æŸ¥è¯¢äº§å“
    A ä»æˆ‘ä»¬çš„è·Ÿè¸ªæ•°æ®åº“ä¸­è·å¾—äº†å¤šå°‘å±•ç¤ºæ¬¡æ•°ï¼ˆnï¼‰å’Œç‚¹å‡»æ¬¡æ•°ï¼ˆyï¼‰ï¼‰ã€‚
- en: Instead, we want to infer the productâ€™s click-propensity. That is, given n and
    y, what should the value Ï€ be?
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: ç›¸åï¼Œæˆ‘ä»¬æƒ³è¦æ¨æ–­äº§å“çš„ç‚¹å‡»å€¾å‘ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œç»™å®š n å’Œ yï¼ŒÏ€ åº”è¯¥æ˜¯ä»€ä¹ˆå€¼ï¼Ÿ
- en: Answering this question requires flipping the probability mass function on its
    head to become as follows.
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: å›ç­”è¿™ä¸ªé—®é¢˜éœ€è¦å°†æ¦‚ç‡è´¨é‡å‡½æ•°ç¿»è½¬è¿‡æ¥ï¼Œå¦‚ä¸‹æ‰€ç¤ºã€‚
- en: '![](../Images/51f9c859f355e5bf6dd0d9f5f1063283.png)'
  id: totrans-48
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/51f9c859f355e5bf6dd0d9f5f1063283.png)'
- en: Likelihood function of Binomial distribution (Image by Author)
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: äºŒé¡¹åˆ†å¸ƒçš„ä¼¼ç„¶å‡½æ•°ï¼ˆä½œè€…å›¾åƒï¼‰
- en: The function described above is known as the **likelihood function**. It is
    worth noting that in the function, Ï€ is now treated as the variable of interest.
    While n and y are considered constants (their values are given upfront).
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸Šè¿°å‡½æ•°è¢«ç§°ä¸º**ä¼¼ç„¶å‡½æ•°**ã€‚å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œåœ¨è¿™ä¸ªå‡½æ•°ä¸­ï¼ŒÏ€ ç°åœ¨è¢«è§†ä¸ºå…³æ³¨çš„å˜é‡ã€‚è€Œ n å’Œ y è¢«è®¤ä¸ºæ˜¯å¸¸æ•°ï¼ˆå®ƒä»¬çš„å€¼æ˜¯é¢„å…ˆç»™å®šçš„ï¼‰ã€‚
- en: Beta Distribution
  id: totrans-51
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: Beta åˆ†å¸ƒ
- en: Beta distribution is a probability distribution that models a random variable
    that can take values between 0 and 1\. Therefore, we can use it to model the click-propensity
    Ï€ weâ€™re interested before.
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: Beta åˆ†å¸ƒæ˜¯ä¸€ç§æ¦‚ç‡åˆ†å¸ƒï¼Œç”¨äºå»ºæ¨¡ä¸€ä¸ªå–å€¼èŒƒå›´åœ¨ 0 å’Œ 1 ä¹‹é—´çš„éšæœºå˜é‡ã€‚å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨å®ƒæ¥å»ºæ¨¡æˆ‘ä»¬ä¹‹å‰æ„Ÿå…´è¶£çš„ç‚¹å‡»å€¾å‘ Ï€ã€‚
- en: The probability density function of Beta distribution is as follows.
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: Beta åˆ†å¸ƒçš„æ¦‚ç‡å¯†åº¦å‡½æ•°å¦‚ä¸‹æ‰€ç¤ºã€‚
- en: '![](../Images/3b6aec702742428ca3a5bcb04d63a969.png)'
  id: totrans-54
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/3b6aec702742428ca3a5bcb04d63a969.png)'
- en: Beta distribution PDF (Image by Author)
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: Beta åˆ†å¸ƒ PDFï¼ˆä½œè€…å›¾åƒï¼‰
- en: Where **Î“** is the Gamma function, Î± and Î² are distribution parameters. For
    more details, you can refer to Beta distributionâ€™s [Wiki page](https://en.wikipedia.org/wiki/Beta_distribution).
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: å…¶ä¸­**Î“**æ˜¯ä¼½ç›å‡½æ•°ï¼ŒÎ± å’Œ Î² æ˜¯åˆ†å¸ƒå‚æ•°ã€‚æ›´å¤šç»†èŠ‚ï¼Œè¯·å‚è§ Beta åˆ†å¸ƒçš„[ç»´åŸºé¡µé¢](https://en.wikipedia.org/wiki/Beta_distribution)ã€‚
- en: The expected value (mean) of a random variable following Beta(Î±, Î²) is.
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: éšæœºå˜é‡ Beta(Î±, Î²) çš„æœŸæœ›å€¼ï¼ˆå‡å€¼ï¼‰æ˜¯ã€‚
- en: '![](../Images/baa9cedc9630dfd449fd840f5ff667d4.png)'
  id: totrans-58
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/baa9cedc9630dfd449fd840f5ff667d4.png)'
- en: Beta distribution mean (Image by Author)
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: Beta åˆ†å¸ƒå‡å€¼ï¼ˆä½œè€…å›¾åƒï¼‰
- en: This magnitude is crucial for our modeling effort since we will use it to define
    the best value of Ï€ that weâ€™re looking for.
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™ä¸ªé‡å¯¹äºæˆ‘ä»¬çš„å»ºæ¨¡å·¥ä½œè‡³å…³é‡è¦ï¼Œå› ä¸ºæˆ‘ä»¬å°†ç”¨å®ƒæ¥å®šä¹‰æˆ‘ä»¬æ‰€å¯»æ‰¾çš„æœ€ä½³ Ï€ å€¼ã€‚
- en: Bayesian Statistics
  id: totrans-61
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: è´å¶æ–¯ç»Ÿè®¡
- en: Bayesian statistics is a statistical thinking regime in which we examine not
    only the observed data, but also our prior knowledge, to arrive at a conclusion
    from the data. We do this by weighing the observed data (evidence) with our initial
    assumption before seeing the data.
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: è´å¶æ–¯ç»Ÿè®¡æ˜¯ä¸€ç§ç»Ÿè®¡æ€ç»´æ–¹å¼ï¼Œæˆ‘ä»¬ä¸ä»…æ£€æŸ¥è§‚å¯Ÿåˆ°çš„æ•°æ®ï¼Œè¿˜è€ƒè™‘æˆ‘ä»¬çš„å…ˆéªŒçŸ¥è¯†ï¼Œä»¥ä¾¿ä»æ•°æ®ä¸­å¾—å‡ºç»“è®ºã€‚æˆ‘ä»¬é€šè¿‡åœ¨çœ‹åˆ°æ•°æ®ä¹‹å‰æƒè¡¡è§‚å¯Ÿåˆ°çš„æ•°æ®ï¼ˆè¯æ®ï¼‰ä¸æˆ‘ä»¬çš„åˆå§‹å‡è®¾æ¥åšåˆ°è¿™ä¸€ç‚¹ã€‚
- en: In Bayesian statistics, we begin with an initial belief, represented by a prior
    probability distribution, and combine it with the likelihood of the observed data
    to obtain a posterior probability distribution. This posterior distribution reflects
    our updated understanding of the phenomenon under study, incorporating both the
    available data and our initial assumptions.
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨è´å¶æ–¯ç»Ÿè®¡ä¸­ï¼Œæˆ‘ä»¬ä»ä¸€ä¸ªåˆå§‹ä¿¡å¿µå¼€å§‹ï¼Œè¿™ä¸ªä¿¡å¿µç”±ä¸€ä¸ªå…ˆéªŒæ¦‚ç‡åˆ†å¸ƒè¡¨ç¤ºï¼Œå¹¶å°†å…¶ä¸è§‚å¯Ÿåˆ°çš„æ•°æ®çš„å¯èƒ½æ€§ç»“åˆï¼Œä»¥è·å¾—ä¸€ä¸ªåéªŒæ¦‚ç‡åˆ†å¸ƒã€‚è¿™ä¸ªåéªŒåˆ†å¸ƒåæ˜ äº†æˆ‘ä»¬å¯¹ç ”ç©¶ç°è±¡çš„æ›´æ–°ç†è§£ï¼Œç»“åˆäº†å¯ç”¨çš„æ•°æ®å’Œæˆ‘ä»¬æœ€åˆçš„å‡è®¾ã€‚
- en: '![](../Images/8e03ffe5ca77012de9493b3dd47721f8.png)'
  id: totrans-64
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/8e03ffe5ca77012de9493b3dd47721f8.png)'
- en: Posterior formula (Image by Author)
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: åéªŒå…¬å¼ï¼ˆå›¾ç‰‡ä½œè€…æä¾›ï¼‰
- en: In our context, we are interested in finding the best value to represent the
    click-propensity Ï€ for a given product. To this end, we can use Beta distribution
    as our prior distribution of click-propensity Ï€ without seeing any data. This
    prior is then combined with the likelihood of Binomial distribution given the
    observed data (number of impressions *n* and number of clicks *y*).
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨æˆ‘ä»¬çš„èƒŒæ™¯ä¸‹ï¼Œæˆ‘ä»¬å¯¹æ‰¾åˆ°æœ€ä½³å€¼ä»¥ä»£è¡¨ç»™å®šäº§å“çš„ç‚¹å‡»å€¾å‘ Ï€ æ„Ÿå…´è¶£ã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨æœªçœ‹åˆ°ä»»ä½•æ•°æ®çš„æƒ…å†µä¸‹ï¼Œä½¿ç”¨ Beta åˆ†å¸ƒä½œä¸ºæˆ‘ä»¬ç‚¹å‡»å€¾å‘ Ï€
    çš„å…ˆéªŒåˆ†å¸ƒã€‚ç„¶åå°†è¯¥å…ˆéªŒä¸ç»™å®šè§‚å¯Ÿæ•°æ®ï¼ˆå°è±¡æ•° *n* å’Œç‚¹å‡»æ•° *y*ï¼‰çš„äºŒé¡¹åˆ†å¸ƒçš„å¯èƒ½æ€§ç»“åˆã€‚
- en: '![](../Images/c12c5e540c354390a084825586e239f1.png)'
  id: totrans-67
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/c12c5e540c354390a084825586e239f1.png)'
- en: Beta-Binomial posterior derivation (Image by Author)
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: Beta-Binomial åéªŒæ¨å¯¼ï¼ˆå›¾ç‰‡ä½œè€…æä¾›ï¼‰
- en: By doing some algebra (we skip it here, interested readers can see the full
    derivation [here](https://www.bayesrulesbook.com/chapter-3.html)), it turns out
    that the posterior distribution of Ï€ will be equal to Beta(Î±+y, Î²+n-y). Remember
    that n and y are number of impressions and clicks, respectively.
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: é€šè¿‡è¿›è¡Œä¸€äº›ä»£æ•°è¿ç®—ï¼ˆè¿™é‡Œç•¥è¿‡ï¼Œæ„Ÿå…´è¶£çš„è¯»è€…å¯ä»¥æŸ¥çœ‹å®Œæ•´æ¨å¯¼ [è¿™é‡Œ](https://www.bayesrulesbook.com/chapter-3.html)ï¼‰ï¼Œç»“æœè¡¨æ˜
    Ï€ çš„åéªŒåˆ†å¸ƒå°†ç­‰äº Beta(Î±+y, Î²+n-y)ã€‚è¯·è®°ä½ï¼Œn å’Œ y åˆ†åˆ«æ˜¯å°è±¡æ•°å’Œç‚¹å‡»æ•°ã€‚
- en: Therefore, the mean of this posterior distribution of Ï€ is as follows.
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: å› æ­¤ï¼Œè¿™ä¸ª Ï€ çš„åéªŒåˆ†å¸ƒçš„å‡å€¼å¦‚ä¸‹ã€‚
- en: '![](../Images/a7649b66e499aa9a49ad52bf9de21112.png)'
  id: totrans-71
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/a7649b66e499aa9a49ad52bf9de21112.png)'
- en: Conversion formula derivation (Image by Author)
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: è½¬æ¢å…¬å¼æ¨å¯¼ï¼ˆå›¾ç‰‡ä½œè€…æä¾›ï¼‰
- en: This is exactly the transformation formula we used in our example before.
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™æ­£æ˜¯æˆ‘ä»¬ä¹‹å‰ç¤ºä¾‹ä¸­ä½¿ç”¨çš„è½¬æ¢å…¬å¼ã€‚
- en: How to choose alpha and beta?
  id: totrans-74
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: å¦‚ä½•é€‰æ‹© Î± å’Œ Î²ï¼Ÿ
- en: Letâ€™s summarize what we have done. We used Beta(Î±=10, Î²=10) as our prior distribution
    of click-propensity Ï€. This results in posterior distribution of Beta(Î±+clicks,
    Î²+impressions-clicks). This posterior has mean value of (clicks+Î±/impressions+Î±+Î²),
    which we used to transform the original conversion values.
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
  zh: è®©æˆ‘ä»¬æ€»ç»“ä¸€ä¸‹æˆ‘ä»¬æ‰€åšçš„å·¥ä½œã€‚æˆ‘ä»¬ä½¿ç”¨ Beta(Î±=10, Î²=10) ä½œä¸ºæˆ‘ä»¬ç‚¹å‡»å€¾å‘ Ï€ çš„å…ˆéªŒåˆ†å¸ƒã€‚è¿™å¯¼è‡´äº† Beta(Î±+ç‚¹å‡»æ•°, Î²+å°è±¡æ•°-ç‚¹å‡»æ•°)
    çš„åéªŒåˆ†å¸ƒã€‚è¯¥åéªŒåˆ†å¸ƒçš„å‡å€¼ä¸º (ç‚¹å‡»æ•°+Î±/å°è±¡æ•°+Î±+Î²)ï¼Œæˆ‘ä»¬ç”¨æ¥è½¬æ¢åŸå§‹çš„è½¬åŒ–å€¼ã€‚
- en: Where do these values of Î± and Î² come from?
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™äº› Î± å’Œ Î² çš„å€¼æ¥è‡ªå“ªé‡Œï¼Ÿ
- en: To be clear, the posterior distribution (hence the Beta posterior mean formula)
    is simply an implication of the prior distribution chosen. As a result, selecting
    Î± and Î² and is really a problem of selecting the prior distribution. Specifically,
    what do we want as the distribution of click-propensity Ï€ without observing any
    data (i.e. product with no impression yet)?
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸ºäº†æ˜ç¡®ï¼ŒåéªŒåˆ†å¸ƒï¼ˆå› æ­¤ Beta åéªŒå‡å€¼å…¬å¼ï¼‰ä»…ä»…æ˜¯æ‰€é€‰å…ˆéªŒåˆ†å¸ƒçš„ä¸€ä¸ªç»“æœã€‚å› æ­¤ï¼Œé€‰æ‹© Î± å’Œ Î² å®é™…ä¸Šæ˜¯é€‰æ‹©å…ˆéªŒåˆ†å¸ƒçš„é—®é¢˜ã€‚å…·ä½“æ¥è¯´ï¼Œæˆ‘ä»¬å¸Œæœ›åœ¨æœªè§‚å¯Ÿä»»ä½•æ•°æ®çš„æƒ…å†µä¸‹ï¼ˆå³å°šæ— å°è±¡çš„äº§å“ï¼‰å¾—åˆ°ä»€ä¹ˆæ ·çš„ç‚¹å‡»å€¾å‘
    Ï€ åˆ†å¸ƒï¼Ÿ
- en: The key idea here is to comprehend the effect of Î± and Î² on the shape of the
    Beta distribution PDF (probability density function). To gain some intuition on
    the subject, several Beta PDFs with different Î± and Î² values are shown below.
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™é‡Œçš„å…³é”®æ€æƒ³æ˜¯ç†è§£ Î± å’Œ Î² å¯¹ Beta åˆ†å¸ƒ PDFï¼ˆæ¦‚ç‡å¯†åº¦å‡½æ•°ï¼‰å½¢çŠ¶çš„å½±å“ã€‚ä¸ºäº†å¯¹è¿™ä¸ªä¸»é¢˜æœ‰ä¸€äº›ç›´è§‚è®¤è¯†ï¼Œä¸‹é¢å±•ç¤ºäº†å‡ ä¸ªå…·æœ‰ä¸åŒ Î± å’Œ Î²
    å€¼çš„ Beta PDFsã€‚
- en: '![](../Images/3249228419cc74db1a77bd818e6b83ae.png)'
  id: totrans-79
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/3249228419cc74db1a77bd818e6b83ae.png)'
- en: Effect of Î± and Î² on Beta distribution shape (Image by Author)
  id: totrans-80
  prefs: []
  type: TYPE_NORMAL
  zh: Î± å’Œ Î² å¯¹ Beta åˆ†å¸ƒå½¢çŠ¶çš„å½±å“ï¼ˆå›¾ç‰‡ä½œè€…æä¾›ï¼‰
- en: We can see from the graph that using Beta(Î±=10, Î²=10) as our prior (orange curve)
    means that in the absence of data, we tend to believe that the click-propensity
    Ï€ is centered around 0.5, with symmetric variations ranging between 0.2 and 0.8.
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: ä»å›¾è¡¨ä¸­å¯ä»¥çœ‹åˆ°ï¼Œä½¿ç”¨Beta(Î±=10, Î²=10)ä½œä¸ºæˆ‘ä»¬çš„å…ˆéªŒï¼ˆæ©™è‰²æ›²çº¿ï¼‰æ„å‘³ç€åœ¨æ²¡æœ‰æ•°æ®çš„æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å€¾å‘äºè®¤ä¸ºç‚¹å‡»å€¾å‘Ï€é›†ä¸­åœ¨0.5å·¦å³ï¼Œä¸”å¯¹ç§°å˜åŒ–èŒƒå›´åœ¨0.2å’Œ0.8ä¹‹é—´ã€‚
- en: 'If we believe the default click-propensity is likely to be around 0.7, we can
    use Beta(Î±=7, Î²=3) as our prior (brown curve). Another example: what if we have
    no preference for the default click-propensity (i.e., any proportion value is
    equally likely)? We can use Beta(Î±=1, Î²=1) as our prior (blue line) in this case
    since it resembles the uniform distribution.'
  id: totrans-82
  prefs: []
  type: TYPE_NORMAL
  zh: å¦‚æœæˆ‘ä»¬è®¤ä¸ºé»˜è®¤çš„ç‚¹å‡»å€¾å‘å¯èƒ½åœ¨0.7å·¦å³ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨Beta(Î±=7, Î²=3)ä½œä¸ºæˆ‘ä»¬çš„å…ˆéªŒï¼ˆæ£•è‰²æ›²çº¿ï¼‰ã€‚å¦ä¸€ä¸ªä¾‹å­æ˜¯ï¼šå¦‚æœæˆ‘ä»¬å¯¹é»˜è®¤ç‚¹å‡»å€¾å‘æ²¡æœ‰åå¥½ï¼ˆå³ä»»ä½•æ¯”ä¾‹å€¼éƒ½æ˜¯ä¸€æ ·å¯èƒ½çš„ï¼‰ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨Beta(Î±=1,
    Î²=1)ä½œä¸ºæˆ‘ä»¬çš„å…ˆéªŒï¼ˆè“è‰²çº¿ï¼‰ï¼Œå› ä¸ºå®ƒç±»ä¼¼äºå‡åŒ€åˆ†å¸ƒã€‚
- en: Now, astute readers might say, â€œI know both Beta(Î±=10, Î²=10) and Beta(Î±=2, Î²=2)
    result in a symmetrical distribution centered at 0.5\. Then, why did we choose
    the former over the latterâ€
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
  zh: ç°åœ¨ï¼Œæ•é”çš„è¯»è€…å¯èƒ½ä¼šè¯´ï¼šâ€œæˆ‘çŸ¥é“Beta(Î±=10, Î²=10)å’ŒBeta(Î±=2, Î²=2)éƒ½å¯¼è‡´ä¸€ä¸ªä»¥0.5ä¸ºä¸­å¿ƒçš„å¯¹ç§°åˆ†å¸ƒã€‚é‚£ä¹ˆï¼Œæˆ‘ä»¬ä¸ºä»€ä¹ˆé€‰æ‹©å‰è€…è€Œä¸æ˜¯åè€…å‘¢ï¼Ÿâ€
- en: Answering this question requires an understanding of Î± and Î² effect on Beta
    distribution variance. The picture below demonstrates the matter neatly.
  id: totrans-84
  prefs: []
  type: TYPE_NORMAL
  zh: å›ç­”è¿™ä¸ªé—®é¢˜éœ€è¦ç†è§£Î±å’ŒÎ²å¯¹Betaåˆ†å¸ƒæ–¹å·®çš„å½±å“ã€‚ä¸‹é¢çš„å›¾ç‰‡æ¸…æ™°åœ°å±•ç¤ºäº†è¿™ä¸ªé—®é¢˜ã€‚
- en: '![](../Images/dc8831ea3a5f02ba00bce9c75ccb615b.png)'
  id: totrans-85
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/dc8831ea3a5f02ba00bce9c75ccb615b.png)'
- en: Effect of alpha and beta to variability (Image by Author)
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
  zh: Î±å’ŒÎ²å¯¹å˜å¼‚æ€§çš„å½±å“ï¼ˆå›¾ç‰‡æ¥æºï¼šä½œè€…ï¼‰
- en: We can see from the graph that higher Î± and Î² values result in less variability
    on the distribution. Beta(Î±=10, Î²=10) has a steeper PDF than Beta(Î±=2, Î²=2). And
    Beta(Î±=50, Î²=50) has less variability than Beta(Î±=10, Î²=10), and so on.
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
  zh: ä»å›¾è¡¨ä¸­å¯ä»¥çœ‹åˆ°ï¼Œæ›´é«˜çš„Î±å’ŒÎ²å€¼å¯¼è‡´åˆ†å¸ƒçš„å˜å¼‚æ€§é™ä½ã€‚Beta(Î±=10, Î²=10)çš„PDFæ¯”Beta(Î±=2, Î²=2)æ›´é™¡å³­ã€‚è€ŒBeta(Î±=50,
    Î²=50)çš„å˜å¼‚æ€§ä½äºBeta(Î±=10, Î²=10)ï¼Œä¾æ­¤ç±»æ¨ã€‚
- en: 'Practically speaking, if we use greater Î± and Î² values, this means we put greater
    weight on the prior to influence the posterior (recall: posterior is derived from
    a balancing act between prior and observed data).'
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: å®é™…ä¸Šï¼Œå¦‚æœæˆ‘ä»¬ä½¿ç”¨æ›´å¤§çš„Î±å’ŒÎ²å€¼ï¼Œè¿™æ„å‘³ç€æˆ‘ä»¬åœ¨å…ˆéªŒä¸Šæ–½åŠ æ›´å¤§çš„æƒé‡ä»¥å½±å“åéªŒï¼ˆå›é¡¾ï¼šåéªŒæ˜¯ä»å…ˆéªŒå’Œè§‚å¯Ÿæ•°æ®ä¹‹é—´çš„å¹³è¡¡ä½œç”¨ä¸­å¾—å‡ºçš„ï¼‰ã€‚
- en: To understand it better, letâ€™s see how our Product A, B, and C respond to different
    Î± and Î² values (given the Beta prior mean/default conversion is the same at 0.5).
  id: totrans-89
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸ºäº†æ›´å¥½åœ°ç†è§£ï¼Œè®©æˆ‘ä»¬çœ‹çœ‹æˆ‘ä»¬çš„äº§å“Aã€Bå’ŒCå¦‚ä½•å“åº”ä¸åŒçš„Î±å’ŒÎ²å€¼ï¼ˆå‡è®¾Betaå…ˆéªŒå‡å€¼/é»˜è®¤è½¬æ¢åœ¨0.5å¤„ç›¸åŒï¼‰ã€‚
- en: '![](../Images/e4de21f39eac9744de45098adf83ccd2.png)'
  id: totrans-90
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/e4de21f39eac9744de45098adf83ccd2.png)'
- en: Different effects of alpha and beta magnitudes (Image by Author)
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
  zh: Î±å’ŒÎ²å¤§å°çš„ä¸åŒæ•ˆæœï¼ˆå›¾ç‰‡æ¥æºï¼šä½œè€…ï¼‰
- en: Letâ€™s focus on Product B. When Î±=2, Î²=2, beta posterior mean is 64% (shifted
    almost 15% from the prior mean). When we increase Î±=10, Î²=10, the shift is shrunk
    to less than 7%. And when we use both Î± and Î² greater than 100, the Beta posterior
    mean is virtually not moving from the default conversion of 50%.
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: è®©æˆ‘ä»¬å…³æ³¨äº§å“Bã€‚å½“Î±=2ï¼ŒÎ²=2æ—¶ï¼ŒBetaåéªŒå‡å€¼ä¸º64%ï¼ˆæ¯”å…ˆéªŒå‡å€¼åç§»äº†è¿‘15%ï¼‰ã€‚å½“æˆ‘ä»¬å¢åŠ Î±=10ï¼ŒÎ²=10æ—¶ï¼Œåç§»ç¼©å°åˆ°ä¸åˆ°7%ã€‚è€Œå½“æˆ‘ä»¬ä½¿ç”¨Î±å’ŒÎ²éƒ½å¤§äº100æ—¶ï¼ŒBetaåéªŒå‡å€¼å®é™…ä¸Šæ²¡æœ‰ä»é»˜è®¤è½¬æ¢çš„50%ç§»åŠ¨ã€‚
- en: To put it loosely, using greater Î± and Î² means we set higher â€œstubborn-levelâ€
    on the model. That is, we demand greater amount of data (evidence) before we can
    move the posterior meaningfully from our default belief.
  id: totrans-93
  prefs: []
  type: TYPE_NORMAL
  zh: ç²—ç•¥åœ°è¯´ï¼Œä½¿ç”¨æ›´å¤§çš„Î±å’ŒÎ²æ„å‘³ç€æˆ‘ä»¬å¯¹æ¨¡å‹è®¾ç½®äº†æ›´é«˜çš„â€œå›ºæ‰§ç¨‹åº¦â€ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæˆ‘ä»¬è¦æ±‚æ›´å¤šçš„æ•°æ®ï¼ˆè¯æ®ï¼‰æ‰èƒ½ä½¿åéªŒä»æˆ‘ä»¬çš„é»˜è®¤ä¿¡å¿µä¸­æœ‰æ„ä¹‰åœ°ç§»åŠ¨ã€‚
- en: Python Code
  id: totrans-94
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: Python ä»£ç 
- en: Finally, you can find the code to derive the beta-binomial conversion below.
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
  zh: æœ€åï¼Œä½ å¯ä»¥åœ¨ä¸‹é¢æ‰¾åˆ°å¯¼å‡ºbeta-binomialè½¬æ¢çš„ä»£ç ã€‚
- en: Summary
  id: totrans-96
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: æ€»ç»“
- en: Phew. That was a lengthy read. So, congratulations on making it this far! ğŸ‰
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
  zh: å‘¼ã€‚é‚£æ˜¯ä¸€ç¯‡å†—é•¿çš„é˜…è¯»ã€‚æ‰€ä»¥ï¼Œæ­å–œä½ è¯»åˆ°è¿™é‡Œï¼ğŸ‰
- en: In this blog, we learned a simple feature engineering technique that can be
    used to improve the representativeness and stability of conversion metrics. Despite
    its simplicity, the technique has an elegant foundation based on the Beta-Binomial
    Model of Bayesian statistics.
  id: totrans-98
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨è¿™ç¯‡åšå®¢ä¸­ï¼Œæˆ‘ä»¬å­¦ä¹ äº†ä¸€ç§ç®€å•çš„ç‰¹å¾å·¥ç¨‹æŠ€æœ¯ï¼Œå¯ä»¥ç”¨æ¥æé«˜è½¬æ¢åº¦é‡çš„ä»£è¡¨æ€§å’Œç¨³å®šæ€§ã€‚å°½ç®¡å®ƒå¾ˆç®€å•ï¼Œä½†è¯¥æŠ€æœ¯åŸºäºè´å¶æ–¯ç»Ÿè®¡ä¸­çš„Beta-Binomialæ¨¡å‹ï¼Œå…·æœ‰ä¼˜é›…çš„åŸºç¡€ã€‚
- en: Later in the article, we learned how to tune Î± and Î² to select the appropriate
    prior distribution. In a nutshell, higher Î± and Î² practically imply that we require
    more data to shift the resulting conversion score away from our initial/default
    conversion.
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨æ–‡ç« åé¢ï¼Œæˆ‘ä»¬å­¦ä¹ äº†å¦‚ä½•è°ƒæ•´Î±å’ŒÎ²ä»¥é€‰æ‹©é€‚å½“çš„å…ˆéªŒåˆ†å¸ƒã€‚ç®€è€Œè¨€ä¹‹ï¼Œæ›´é«˜çš„Î±å’ŒÎ²å®é™…ä¸Šæ„å‘³ç€æˆ‘ä»¬éœ€è¦æ›´å¤šçš„æ•°æ®æ¥ä½¿ç»“æœè½¬åŒ–åˆ†æ•°è¿œç¦»æˆ‘ä»¬åˆå§‹/é»˜è®¤çš„è½¬åŒ–åˆ†æ•°ã€‚
- en: I hope this article helps when you encounter a similar situation! All in all,
    thanks for reading, and letâ€™s connect with me on [LinkedIn](https://www.linkedin.com/in/pararawendy-indarjo/)!
    ğŸ‘‹
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
  zh: å¸Œæœ›è¿™ç¯‡æ–‡ç« å¯¹ä½ é‡åˆ°ç±»ä¼¼æƒ…å†µæ—¶æœ‰æ‰€å¸®åŠ©ï¼æ€»ä¹‹ï¼Œæ„Ÿè°¢é˜…è¯»ï¼Œæ¬¢è¿åœ¨[LinkedIn](https://www.linkedin.com/in/pararawendy-indarjo/)ä¸Šä¸æˆ‘è”ç³»ï¼ğŸ‘‹
- en: '**Reference**'
  id: totrans-101
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '**å‚è€ƒæ–‡çŒ®**'
- en: '*Johnson, Alicia A., Ott, Miles Q., Dogucu, Mine. (2021). Bayes Rules! An Introduction
    to Applied Bayesian Modeling. CRC Press.*'
  id: totrans-102
  prefs: []
  type: TYPE_NORMAL
  zh: '*çº¦ç¿°é€Š, è‰¾ä¸½è¥¿äºšÂ·A., å¥¥ç‰¹, è¿ˆå°”æ–¯Â·Q., å¤šå¤æ¥š, ç±³å¨œ. (2021). è´å¶æ–¯è§„åˆ™ï¼åº”ç”¨è´å¶æ–¯å»ºæ¨¡ç®€ä»‹. CRC Press.*'
