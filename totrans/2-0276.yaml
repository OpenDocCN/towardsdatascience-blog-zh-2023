- en: Airflow 2.7 Is Now Out
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: Airflow 2.7ç°å·²å‘å¸ƒ
- en: åŸæ–‡ï¼š[https://towardsdatascience.com/airflow-2-7-0-505f7cda9fd4](https://towardsdatascience.com/airflow-2-7-0-505f7cda9fd4)
  id: totrans-1
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: åŸæ–‡ï¼š[https://towardsdatascience.com/airflow-2-7-0-505f7cda9fd4](https://towardsdatascience.com/airflow-2-7-0-505f7cda9fd4)
- en: Here are the most important feature updates that will make your life easier
    and save you time
  id: totrans-2
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: è¿™é‡Œæ˜¯ä¸€äº›é‡è¦çš„åŠŸèƒ½æ›´æ–°ï¼Œå°†ä½¿æ‚¨çš„ç”Ÿæ´»æ›´è½»æ¾ï¼Œå¹¶èŠ‚çœæ‚¨çš„æ—¶é—´
- en: '[](https://gmyrianthous.medium.com/?source=post_page-----505f7cda9fd4--------------------------------)[![Giorgos
    Myrianthous](../Images/ff4b116e4fb9a095ce45eb064fde5af3.png)](https://gmyrianthous.medium.com/?source=post_page-----505f7cda9fd4--------------------------------)[](https://towardsdatascience.com/?source=post_page-----505f7cda9fd4--------------------------------)[![Towards
    Data Science](../Images/a6ff2676ffcc0c7aad8aaf1d79379785.png)](https://towardsdatascience.com/?source=post_page-----505f7cda9fd4--------------------------------)
    [Giorgos Myrianthous](https://gmyrianthous.medium.com/?source=post_page-----505f7cda9fd4--------------------------------)'
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: '[](https://gmyrianthous.medium.com/?source=post_page-----505f7cda9fd4--------------------------------)[![Giorgos
    Myrianthous](../Images/ff4b116e4fb9a095ce45eb064fde5af3.png)](https://gmyrianthous.medium.com/?source=post_page-----505f7cda9fd4--------------------------------)[](https://towardsdatascience.com/?source=post_page-----505f7cda9fd4--------------------------------)[![Towards
    Data Science](../Images/a6ff2676ffcc0c7aad8aaf1d79379785.png)](https://towardsdatascience.com/?source=post_page-----505f7cda9fd4--------------------------------)
    [Giorgos Myrianthous](https://gmyrianthous.medium.com/?source=post_page-----505f7cda9fd4--------------------------------)'
- en: Â·Published in [Towards Data Science](https://towardsdatascience.com/?source=post_page-----505f7cda9fd4--------------------------------)
    Â·5 min readÂ·Aug 22, 2023
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: Â·å‘è¡¨äº[Towards Data Science](https://towardsdatascience.com/?source=post_page-----505f7cda9fd4--------------------------------)
    Â·5åˆ†é’Ÿé˜…è¯»Â·2023å¹´8æœˆ22æ—¥
- en: --
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: --
- en: '![](../Images/95857018b07b867da39e2c1abf6d8df6.png)'
  id: totrans-6
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/95857018b07b867da39e2c1abf6d8df6.png)'
- en: Image generated via DALL-E-2 using prompt â€œdata flowing from external system
    into destination system as a system design graph, digital artâ€
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: å›¾åƒç”±DALL-E-2ç”Ÿæˆï¼Œä½¿ç”¨æç¤ºâ€œæ•°æ®ä»å¤–éƒ¨ç³»ç»Ÿæµå…¥ç›®æ ‡ç³»ç»Ÿä½œä¸ºç³»ç»Ÿè®¾è®¡å›¾ï¼Œæ•°å­—è‰ºæœ¯â€
- en: Apache Airflow 2.7.0 is finally out and we are all excited to see all these
    notable features being shipped in this latest release. The new version consists
    of 40 new features, 53 bug fixes, 49 improvements and 15 documentation updates.
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: Apache Airflow 2.7.0ç»ˆäºå‘å¸ƒäº†ï¼Œæˆ‘ä»¬éƒ½å¾ˆå…´å¥‹çœ‹åˆ°è¿™äº›æ˜¾è‘—çš„æ–°åŠŸèƒ½å‡ºç°åœ¨æœ€æ–°ç‰ˆæœ¬ä¸­ã€‚æ–°ç‰ˆæœ¬åŒ…æ‹¬40ä¸ªæ–°åŠŸèƒ½ã€53ä¸ªé”™è¯¯ä¿®å¤ã€49ä¸ªæ”¹è¿›å’Œ15ä¸ªæ–‡æ¡£æ›´æ–°ã€‚
- en: The main focus of this release has been security but at the same time, many
    exciting non-security related features have also been made available.
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: æ­¤æ¬¡å‘å¸ƒçš„ä¸»è¦å…³æ³¨ç‚¹æ˜¯å®‰å…¨æ€§ï¼Œä½†åŒæ—¶ä¹Ÿæ¨å‡ºäº†è®¸å¤šä»¤äººå…´å¥‹çš„éå®‰å…¨ç›¸å…³åŠŸèƒ½ã€‚
- en: The new Cluster Activity UI
  id: totrans-10
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: æ–°çš„é›†ç¾¤æ´»åŠ¨ç”¨æˆ·ç•Œé¢
- en: As of Airflow 2.7.0, a new tab is introduced in the top level menu of the Airflow
    UI and is called **Cluster Activity**.
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: ä»Airflow 2.7.0å¼€å§‹ï¼ŒAirflow UIçš„é¡¶çº§èœå•ä¸­å¼•å…¥äº†ä¸€ä¸ªæ–°æ ‡ç­¾ï¼Œç§°ä¸º**é›†ç¾¤æ´»åŠ¨**ã€‚
- en: '![](../Images/27e0d7eabb941dfe0463b86345e65170.png)'
  id: totrans-12
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/27e0d7eabb941dfe0463b86345e65170.png)'
- en: 'New Cluster Activity tab in main Airflow menu â€” Source: Author'
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸»Airflowèœå•ä¸­çš„æ–°é›†ç¾¤æ´»åŠ¨æ ‡ç­¾â€”â€”æ¥æºï¼šä½œè€…
- en: The new Cluster Activity UI gives an overview of the overall cluster state,
    including component health (for MetaDatabase, Scheduler, Triggerer and DAG processor)
    as well as details about DAG/Task run states and DAG run types.
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: æ–°çš„é›†ç¾¤æ´»åŠ¨ç”¨æˆ·ç•Œé¢æ¦‚è§ˆäº†æ•´ä½“é›†ç¾¤çŠ¶æ€ï¼ŒåŒ…æ‹¬ç»„ä»¶å¥åº·ï¼ˆå¦‚MetaDatabaseã€Schedulerã€Triggererå’ŒDAGå¤„ç†å™¨ï¼‰ä»¥åŠDAG/ä»»åŠ¡è¿è¡ŒçŠ¶æ€å’ŒDAGè¿è¡Œç±»å‹çš„è¯¦ç»†ä¿¡æ¯ã€‚
- en: '![](../Images/d2a707ee34b801b418698fe63baad245.png)'
  id: totrans-15
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/d2a707ee34b801b418698fe63baad245.png)'
- en: 'The new Cluster Activity UI is shipped as part of the new Airflow 2.7.0 release
    â€” Source: Author'
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: æ–°çš„é›†ç¾¤æ´»åŠ¨ç”¨æˆ·ç•Œé¢ä½œä¸ºAirflow 2.7.0ç‰ˆæœ¬çš„ä¸€éƒ¨åˆ†å‘å¸ƒâ€”â€”æ¥æºï¼šä½œè€…
- en: See when the source code was last parsed
  id: totrans-17
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: æŸ¥çœ‹æºä»£ç æœ€åä¸€æ¬¡è§£æçš„æ—¶é—´
- en: In the past I was really annoyed by the fact that I couldnâ€™t really see whether
    the changes I was making to the source code of a particular DAG were actually
    parsed. I would usually have to refresh the page (multiple times) and start looking
    for the specific areas in the source code that I applied some changes in order
    to ensure that they have been parsed so I can re-trigger the DAG.
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: è¿‡å»ï¼Œæˆ‘å¸¸å¸¸å› ä¸ºæ— æ³•ç¡®è®¤å¯¹ç‰¹å®šDAGæºä»£ç æ‰€åšçš„æ›´æ”¹æ˜¯å¦è¢«è§£æè€Œæ„Ÿåˆ°çƒ¦æ¼ã€‚æˆ‘é€šå¸¸éœ€è¦åˆ·æ–°é¡µé¢ï¼ˆå¤šæ¬¡ï¼‰å¹¶å¼€å§‹æŸ¥æ‰¾æºä»£ç ä¸­çš„ç‰¹å®šåŒºåŸŸï¼Œä»¥ç¡®ä¿è¿™äº›æ›´æ”¹å·²è¢«è§£æï¼Œä»è€Œé‡æ–°è§¦å‘DAGã€‚
- en: The new Airflow version introduces a `Parsed at` field within the Code tab of
    a DAG, indicating the timestamp when the DAGâ€™s source code was last updated.
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: æ–°ç‰ˆæœ¬çš„Airflowåœ¨DAGçš„ä»£ç æ ‡ç­¾ä¸­å¼•å…¥äº†`Parsed at`å­—æ®µï¼ŒæŒ‡ç¤ºDAGæºä»£ç æœ€åæ›´æ–°çš„æ—¶é—´æˆ³ã€‚
- en: '![](../Images/4022e9dc868f0d9251e108effe21c535.png)'
  id: totrans-20
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/4022e9dc868f0d9251e108effe21c535.png)'
- en: 'The new code tab includes a timestamp indicating when the DAG source code was
    last parsed â€” Source: Author'
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: æ–°çš„ä»£ç æ ‡ç­¾åŒ…æ‹¬ä¸€ä¸ªæ—¶é—´æˆ³ï¼ŒæŒ‡ç¤º DAG æºä»£ç ä¸Šæ¬¡è¢«è§£æçš„æ—¶é—´ â€” æ¥æºï¼šä½œè€…
- en: Simple but yet useful addition!
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: ç®€å•ä½†æœ‰ç”¨çš„è¡¥å……ï¼
- en: Keyboard shortcut support
  id: totrans-23
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: é”®ç›˜å¿«æ·é”®æ”¯æŒ
- en: Airflow Grid view now also supports keyboard shortcuts. Once you enter the Grid
    screen of a DAG, you will notice a note just underneath filtering section, indicating
    that you can access the list of supported shortcuts, by typing `shift` + `/` .
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: Airflow ç½‘æ ¼è§†å›¾ç°åœ¨ä¹Ÿæ”¯æŒé”®ç›˜å¿«æ·é”®ã€‚è¿›å…¥ DAG çš„ç½‘æ ¼å±å¹•åï¼Œæ‚¨ä¼šæ³¨æ„åˆ°è¿‡æ»¤éƒ¨åˆ†ä¸‹æ–¹æœ‰ä¸€ä¸ªæ³¨é‡Šï¼Œè¡¨ç¤ºæ‚¨å¯ä»¥é€šè¿‡é”®å…¥ `shift` + `/`
    è®¿é—®æ”¯æŒçš„å¿«æ·é”®åˆ—è¡¨ã€‚
- en: '![](../Images/a3cc8e204c1a16977d4c8003c07c6298.png)'
  id: totrans-25
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/a3cc8e204c1a16977d4c8003c07c6298.png)'
- en: 'shift + / Shortcut will list all abailable shortcuts you can use in order to
    interact with Airflow DAGs and Tasks â€” Source: Author'
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: shift + / å¿«æ·é”®å°†åˆ—å‡ºæ‰€æœ‰å¯ç”¨çš„å¿«æ·é”®ï¼Œä»¥ä¾¿ä¸ Airflow DAG å’Œä»»åŠ¡è¿›è¡Œäº¤äº’ â€” æ¥æºï¼šä½œè€…
- en: The actions you can take via keyboard shortcuts include clearing a DAG run and
    marking them as success or failed among others.
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: æ‚¨å¯ä»¥é€šè¿‡é”®ç›˜å¿«æ·é”®æ‰§è¡Œçš„æ“ä½œåŒ…æ‹¬æ¸…é™¤ DAG è¿è¡Œä»¥åŠå°†å…¶æ ‡è®°ä¸ºæˆåŠŸæˆ–å¤±è´¥ç­‰ã€‚
- en: '![](../Images/b9bf3ddfe05e69e90eb1c9c0b84b90c6.png)'
  id: totrans-28
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/b9bf3ddfe05e69e90eb1c9c0b84b90c6.png)'
- en: 'A full list of shortcuts for interacting with Airflow DAGs and Tasks â€” Source:
    Author'
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸ Airflow DAG å’Œä»»åŠ¡äº¤äº’çš„å¿«æ·é”®å®Œæ•´åˆ—è¡¨ â€” æ¥æºï¼šä½œè€…
- en: Graph and Gantt views all in one place
  id: totrans-30
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: å›¾è¡¨å’Œç”˜ç‰¹å›¾è§†å›¾é›†ä¸­åœ¨ä¸€ä¸ªåœ°æ–¹ã€‚
- en: The Gantt and Graph views are now moved into the Grid view of DAGs such that
    itâ€™s easier to navigate between task details, graphs, logs and Gantt views â€” especially
    when it comes to viewing more complex DAGs.
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: ç”˜ç‰¹å›¾å’Œå›¾è¡¨è§†å›¾ç°åœ¨è¢«ç§»åŠ¨åˆ° DAG çš„ç½‘æ ¼è§†å›¾ä¸­ï¼Œè¿™æ ·åœ¨ä»»åŠ¡è¯¦ç»†ä¿¡æ¯ã€å›¾è¡¨ã€æ—¥å¿—å’Œç”˜ç‰¹è§†å›¾ä¹‹é—´å¯¼èˆªä¼šæ›´å®¹æ˜“ â€” å°¤å…¶æ˜¯åœ¨æŸ¥çœ‹æ›´å¤æ‚çš„ DAG æ—¶ã€‚
- en: '![](../Images/135d43aaf0d8f1c2f6378df7d9c21ebe.png)'
  id: totrans-32
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/135d43aaf0d8f1c2f6378df7d9c21ebe.png)'
- en: 'Gant and Graph views can now be found under Grid view â€” Source: Author'
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: ç°åœ¨ï¼Œå¯ä»¥åœ¨ç½‘æ ¼è§†å›¾ä¸‹æ‰¾åˆ°ç”˜ç‰¹å›¾å’Œå›¾è¡¨è§†å›¾ â€” æ¥æºï¼šä½œè€…
- en: Note that the old graph view is also removed and the new Graph View is the default
    one.
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: è¯·æ³¨æ„ï¼Œæ—§çš„å›¾è¡¨è§†å›¾å·²è¢«ç§»é™¤ï¼Œæ–°å›¾è¡¨è§†å›¾æ˜¯é»˜è®¤è§†å›¾ã€‚
- en: Setup and Teardown tasks
  id: totrans-35
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: è®¾ç½®å’Œæ‹†è§£ä»»åŠ¡
- en: When designing data pipelines, itâ€™s common to create a resource that is used
    to perform a certain work and then tear it down. The new Airflow release introduced
    setup and teardown tasks that make this pattern feasible.
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨è®¾è®¡æ•°æ®ç®¡é“æ—¶ï¼Œé€šå¸¸ä¼šåˆ›å»ºä¸€ä¸ªèµ„æºæ¥æ‰§è¡ŒæŸé¡¹å·¥ä½œï¼Œç„¶åå°†å…¶æ‹†é™¤ã€‚æ–°çš„ Airflow ç‰ˆæœ¬å¼•å…¥äº†è®¾ç½®å’Œæ‹†è§£ä»»åŠ¡ï¼Œä½¿è¿™ç§æ¨¡å¼æˆä¸ºå¯èƒ½ã€‚
- en: 'Letâ€™s suppose we have a DAG that creates a compute resource, runs a query and
    finally tears down the previously created resource. Normally, we would have to
    create three tasks and specify the dependencies as follows:'
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ª DAGï¼Œå®ƒåˆ›å»ºäº†ä¸€ä¸ªè®¡ç®—èµ„æºï¼Œè¿è¡Œä¸€ä¸ªæŸ¥è¯¢ï¼Œç„¶åæœ€åæ‹†é™¤å…ˆå‰åˆ›å»ºçš„èµ„æºã€‚é€šå¸¸ï¼Œæˆ‘ä»¬éœ€è¦åˆ›å»ºä¸‰ä¸ªä»»åŠ¡å¹¶æŒ‡å®šå¦‚ä¸‹çš„ä¾èµ–å…³ç³»ï¼š
- en: '[PRE0]'
  id: totrans-38
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: 'With the new features, we can now easily mark the first and last tasks as setup
    and teardown respectively:'
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: ä½¿ç”¨æ–°åŠŸèƒ½ï¼Œæˆ‘ä»¬ç°åœ¨å¯ä»¥è½»æ¾åœ°å°†ç¬¬ä¸€ä¸ªå’Œæœ€åä¸€ä¸ªä»»åŠ¡åˆ†åˆ«æ ‡è®°ä¸ºè®¾ç½®å’Œæ‹†è§£ï¼š
- en: '[PRE1]'
  id: totrans-40
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: 'Notes:'
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: æ³¨æ„ï¼š
- en: When `run_query` task is cleared, both `create_resource` (setup) and `delete_resource`
    (teardown) tasks will also be cleared
  id: totrans-42
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å½“ `run_query` ä»»åŠ¡è¢«æ¸…é™¤æ—¶ï¼Œ`create_resource`ï¼ˆè®¾ç½®ï¼‰å’Œ `delete_resource`ï¼ˆæ‹†è§£ï¼‰ä»»åŠ¡ä¹Ÿä¼šè¢«æ¸…é™¤ã€‚
- en: When `run_query` fails, the teardown task `delete_resource` will still run
  id: totrans-43
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å½“ `run_query` å¤±è´¥æ—¶ï¼Œæ‹†è§£ä»»åŠ¡ `delete_resource` ä»ä¼šè¿è¡Œã€‚
- en: '`create_resource` and `delete_resource` state wonâ€™t be used to determing the
    success of a DAG run. This means that the DAG will be marked as success even if
    only `run_query` tasks is successful'
  id: totrans-44
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`create_resource` å’Œ `delete_resource` çŠ¶æ€å°†ä¸å†ç”¨äºç¡®å®š DAG è¿è¡Œçš„æˆåŠŸã€‚è¿™æ„å‘³ç€å³ä½¿åªæœ‰ `run_query`
    ä»»åŠ¡æˆåŠŸï¼ŒDAG ä¹Ÿä¼šè¢«æ ‡è®°ä¸ºæˆåŠŸã€‚'
- en: Drops support for end-of-life Python 3.7
  id: totrans-45
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: æ”¾å¼ƒå¯¹ç»ˆæ­¢ç”Ÿå‘½å‘¨æœŸçš„ Python 3.7 çš„æ”¯æŒã€‚
- en: 'Additionally, Airflow 2.7.0 has dropped its support for the end-of-life Python
    3.7\. In order to make use of Airflow 2.7.0, you need to have one of the following
    Python versions:'
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: æ­¤å¤–ï¼ŒAirflow 2.7.0 å·²ç»æ”¾å¼ƒå¯¹ç»ˆæ­¢ç”Ÿå‘½å‘¨æœŸ Python 3.7 çš„æ”¯æŒã€‚ä¸ºäº†ä½¿ç”¨ Airflow 2.7.0ï¼Œæ‚¨éœ€è¦æ‹¥æœ‰ä»¥ä¸‹ Python
    ç‰ˆæœ¬ä¹‹ä¸€ï¼š
- en: '3.8'
  id: totrans-47
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '3.8'
- en: '3.9'
  id: totrans-48
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '3.9'
- en: '3.10'
  id: totrans-49
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '3.10'
- en: or, 3.11
  id: totrans-50
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æˆ– 3.11
- en: Note that Python 3.7 is no longer supported by Python community. If you are
    still using it (even outside the context of Airflow), make sure to upgrade into
    a more recent version.
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: è¯·æ³¨æ„ï¼ŒPython 3.7 å·²ä¸å†å—åˆ° Python ç¤¾åŒºçš„æ”¯æŒã€‚å¦‚æœæ‚¨ä»åœ¨ä½¿ç”¨å®ƒï¼ˆå³ä½¿åœ¨ Airflow çš„ä¸Šä¸‹æ–‡ä¹‹å¤–ï¼‰ï¼Œè¯·ç¡®ä¿å‡çº§åˆ°æ›´é«˜ç‰ˆæœ¬ã€‚
- en: The `airflow db migrate` command
  id: totrans-52
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: '`airflow db migrate` å‘½ä»¤'
- en: The `db init` and `db upgrade` commands are now deprecated. Instead, you should
    make use of the `airflow db migrate` command in order to create or upgrade Airflow
    database.
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: '`db init` å’Œ `db upgrade` å‘½ä»¤ç°å·²å¼ƒç”¨ã€‚å–è€Œä»£ä¹‹çš„æ˜¯ï¼Œæ‚¨åº”è¯¥ä½¿ç”¨ `airflow db migrate` å‘½ä»¤æ¥åˆ›å»ºæˆ–å‡çº§
    Airflow æ•°æ®åº“ã€‚'
- en: Likewise, `load_default_connections` configuration option is also deprecated.
    In order to create default connections, you need to run `airflow connections create-default-commenctions`
    command, after running `airflow db migrate`.
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: åŒæ ·ï¼Œ`load_default_connections` é…ç½®é€‰é¡¹ä¹Ÿå·²è¢«å¼ƒç”¨ã€‚ä¸ºäº†åˆ›å»ºé»˜è®¤è¿æ¥ï¼Œä½ éœ€è¦åœ¨è¿è¡Œ `airflow db migrate`
    åï¼Œæ‰§è¡Œ `airflow connections create-default-commenctions` å‘½ä»¤ã€‚
- en: Handful of security updates
  id: totrans-55
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: ä¸€äº›å®‰å…¨æ›´æ–°
- en: 'As mentioned already, the main focus of the latest Airflow release was to make
    it a bit more secure. Here are some security-related changes:'
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: å¦‚å‰æ‰€è¿°ï¼Œæœ€æ–°çš„ Airflow ç‰ˆæœ¬ä¸»è¦é›†ä¸­åœ¨æå‡å®‰å…¨æ€§ä¸Šã€‚ä»¥ä¸‹æ˜¯ä¸€äº›ä¸å®‰å…¨ç›¸å…³çš„æ›´æ”¹ï¼š
- en: The test connection functionality is now disabled by default. If you still need
    to enable it, you will either specify the `test_connection` flag in `core` section
    of `airflow.cfg` or by setting up the environment variable `AIRFLOW__CORE__TEST_CONNECTION`
  id: totrans-57
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: è¿æ¥æµ‹è¯•åŠŸèƒ½ç°åœ¨é»˜è®¤è¢«ç¦ç”¨ã€‚å¦‚æœä½ ä»ç„¶éœ€è¦å¯ç”¨å®ƒï¼Œä½ å¯ä»¥åœ¨ `airflow.cfg` çš„ `core` éƒ¨åˆ†ä¸­æŒ‡å®š `test_connection`
    æ ‡å¿—ï¼Œæˆ–é€šè¿‡è®¾ç½®ç¯å¢ƒå˜é‡ `AIRFLOW__CORE__TEST_CONNECTION`ã€‚
- en: '`/dags/*/dagRuns/*/taskInstances/*/xcomEntries/*` API endpoint now disables
    the `deserialize` option'
  id: totrans-58
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`/dags/*/dagRuns/*/taskInstances/*/xcomEntries/*` API ç«¯ç‚¹ç°åœ¨ç¦ç”¨äº† `deserialize`
    é€‰é¡¹'
- en: The context now uses Pythonâ€™s default `default_ssl_contest` context when working
    with SMTP SSL connections
  id: totrans-59
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ç°åœ¨ï¼Œä½¿ç”¨ SMTP SSL è¿æ¥æ—¶ï¼Œä¸Šä¸‹æ–‡ä½¿ç”¨ Python çš„é»˜è®¤ `default_ssl_contest` ä¸Šä¸‹æ–‡
- en: Giving Airflow 2.7 a go
  id: totrans-60
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: å°è¯• Airflow 2.7
- en: If you would like to test new features out Iâ€™d recommend doing so by running
    Airflow via Docker, on your local machine. You can find a step-by-step guide that
    can help you get it up and running in less than a minute in the link below.
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: å¦‚æœä½ æƒ³æµ‹è¯•æ–°åŠŸèƒ½ï¼Œæˆ‘å»ºè®®é€šè¿‡åœ¨æœ¬åœ°æœºå™¨ä¸Šè¿è¡Œ Airflow çš„ Docker ç‰ˆæœ¬æ¥è¿›è¡Œã€‚ä½ å¯ä»¥åœ¨ä¸‹é¢çš„é“¾æ¥ä¸­æ‰¾åˆ°ä¸€ä¸ªé€æ­¥æŒ‡å—ï¼Œå¸®åŠ©ä½ åœ¨ä¸åˆ°ä¸€åˆ†é’Ÿçš„æ—¶é—´å†…å¯åŠ¨å¹¶è¿è¡Œ
    Airflowã€‚
- en: '[](/run-airflow-docker-1b83a57616fb?source=post_page-----505f7cda9fd4--------------------------------)
    [## How to Run Airflow Locally With Docker'
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: '[## å¦‚ä½•ä½¿ç”¨ Docker æœ¬åœ°è¿è¡Œ Airflow](https://towardsdatascience.com/run-airflow-docker-1b83a57616fb?source=post_page-----505f7cda9fd4--------------------------------)'
- en: A step by step guide for running Airflow with Docker on your local machine
  id: totrans-63
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: åœ¨æœ¬åœ°æœºå™¨ä¸Šä½¿ç”¨ Docker è¿è¡Œ Airflow çš„é€æ­¥æŒ‡å—
- en: towardsdatascience.com](/run-airflow-docker-1b83a57616fb?source=post_page-----505f7cda9fd4--------------------------------)
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: '[å¦‚ä½•ä½¿ç”¨ Docker è¿è¡Œ Airflow](https://towardsdatascience.com/run-airflow-docker-1b83a57616fb?source=post_page-----505f7cda9fd4--------------------------------)'
- en: Final Thoughts..
  id: totrans-65
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: æœ€åçš„æƒ³æ³•..
- en: Keeping up with the latest Airflow versions ensures that you get access to the
    latest features as well as to any new security patches so that you wonâ€™t keep
    yourself awake at nights.
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: è·Ÿä¸Šæœ€æ–°çš„ Airflow ç‰ˆæœ¬å¯ä»¥ç¡®ä¿ä½ è·å¾—æœ€æ–°çš„åŠŸèƒ½ä»¥åŠä»»ä½•æ–°çš„å®‰å…¨è¡¥ä¸ï¼Œä»è€Œé¿å…è®©è‡ªå·±å¤œä¸èƒ½å¯ã€‚
- en: The very latest Airflow release comes with tons of new features, improvements,
    bug fixes, documentation updates and security patches. It is important to test
    it out and if possible, upgrade your production instances in order to make the
    most out of it while also enhancing security.
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: æœ€æ–°çš„ Airflow ç‰ˆæœ¬å¸¦æ¥äº†å¤§é‡çš„æ–°åŠŸèƒ½ã€æ”¹è¿›ã€é”™è¯¯ä¿®å¤ã€æ–‡æ¡£æ›´æ–°å’Œå®‰å…¨è¡¥ä¸ã€‚æµ‹è¯•ä¸€ä¸‹å®ƒæ˜¯å¾ˆé‡è¦çš„ï¼Œå¦‚æœå¯èƒ½çš„è¯ï¼Œå‡çº§ä½ çš„ç”Ÿäº§å®ä¾‹ï¼Œä»¥ä¾¿å……åˆ†åˆ©ç”¨è¿™äº›æ–°ç‰¹æ€§ï¼ŒåŒæ—¶å¢å¼ºå®‰å…¨æ€§ã€‚
- en: In this article, we covered only a small subset of the changes introduced in
    Airflow 2.7.0\. You can see the full list of changes shipped as part of the latest
    release, in the [release notes](https://airflow.apache.org/docs/apache-airflow/2.7.0/release_notes.html#airflow-2-7-0-2023-08-14).
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬ä»…è¦†ç›–äº† Airflow 2.7.0 ä¸­å¼•å…¥çš„ä¸€å°éƒ¨åˆ†æ›´æ”¹ã€‚ä½ å¯ä»¥åœ¨[å‘å¸ƒè¯´æ˜](https://airflow.apache.org/docs/apache-airflow/2.7.0/release_notes.html#airflow-2-7-0-2023-08-14)ä¸­æŸ¥çœ‹å®Œæ•´çš„æ›´æ”¹åˆ—è¡¨ã€‚
- en: ğŸ‘‡**Related articles you may also like** ğŸ‘‡
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: ğŸ‘‡**ä½ å¯èƒ½è¿˜ä¼šå–œæ¬¢çš„ç›¸å…³æ–‡ç« **ğŸ‘‡
- en: '[](/airflow-skip-task-a5a6ab319378?source=post_page-----505f7cda9fd4--------------------------------)
    [## How to Skip Tasks in Airflow DAGs'
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: '[## å¦‚ä½•åœ¨ Airflow DAG ä¸­è·³è¿‡ä»»åŠ¡](https://towardsdatascience.com/airflow-skip-task-a5a6ab319378?source=post_page-----505f7cda9fd4--------------------------------)
    [å¦‚ä½•åœ¨ Airflow ä¸­è¿è¡Œ dbt](https://levelup.gitconnected.com/run-dbt-airflow-b6107d849ddb?source=post_page-----505f7cda9fd4--------------------------------)'
- en: Skipping tasks in Airflow DAGs based on specific conditions
  id: totrans-71
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: æ ¹æ®ç‰¹å®šæ¡ä»¶è·³è¿‡ Airflow DAG ä¸­çš„ä»»åŠ¡
- en: towardsdatascience.com](/airflow-skip-task-a5a6ab319378?source=post_page-----505f7cda9fd4--------------------------------)
    [](https://levelup.gitconnected.com/run-dbt-airflow-b6107d849ddb?source=post_page-----505f7cda9fd4--------------------------------)
    [## How To Run dbt on Airflow
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: '[## å¦‚ä½•åœ¨ Airflow ä¸­è¿è¡Œ dbt](https://levelup.gitconnected.com/run-dbt-airflow-b6107d849ddb?source=post_page-----505f7cda9fd4--------------------------------)
    [å¦‚ä½•è·³è¿‡ Airflow DAG ä¸­çš„ä»»åŠ¡](https://towardsdatascience.com/airflow-skip-task-a5a6ab319378?source=post_page-----505f7cda9fd4--------------------------------)'
- en: Automated rendering of dbt projects on Apache Airflow
  id: totrans-73
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: åœ¨ Apache Airflow ä¸Šè‡ªåŠ¨åŒ–æ¸²æŸ“ dbt é¡¹ç›®
- en: levelup.gitconnected.com](https://levelup.gitconnected.com/run-dbt-airflow-b6107d849ddb?source=post_page-----505f7cda9fd4--------------------------------)
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: '[å¦‚ä½•åœ¨ Airflow ä¸­è¿è¡Œ dbt](https://levelup.gitconnected.com/run-dbt-airflow-b6107d849ddb?source=post_page-----505f7cda9fd4--------------------------------)'
