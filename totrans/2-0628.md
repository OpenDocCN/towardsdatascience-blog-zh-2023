# 数据分析变得简单：使用LLMs自动化繁琐任务

> 原文：[https://towardsdatascience.com/data-analysis-made-easy-using-llms-to-automate-tedious-tasks-bdc1fee552d5](https://towardsdatascience.com/data-analysis-made-easy-using-llms-to-automate-tedious-tasks-bdc1fee552d5)

[](https://jyesr.medium.com/?source=post_page-----bdc1fee552d5--------------------------------)[![Jye Sawtell-Rickson](../Images/e16c2b5020d24331812a4f35e9bd7890.png)](https://jyesr.medium.com/?source=post_page-----bdc1fee552d5--------------------------------)[](https://towardsdatascience.com/?source=post_page-----bdc1fee552d5--------------------------------)[![数据科学前沿](../Images/a6ff2676ffcc0c7aad8aaf1d79379785.png)](https://towardsdatascience.com/?source=post_page-----bdc1fee552d5--------------------------------) [Jye Sawtell-Rickson](https://jyesr.medium.com/?source=post_page-----bdc1fee552d5--------------------------------)

·发表于[数据科学前沿](https://towardsdatascience.com/?source=post_page-----bdc1fee552d5--------------------------------) ·阅读时长11分钟·2023年4月30日

--

![](../Images/3c6e28b33221bddd25fd9746c1000438.png)

一幅高质量的数字艺术作品，展示了一个能够进行技术编码、写出精彩文稿和进行战略思考的机器人（作者创作，使用 DALL-E）。

数据分析既具挑战性又有回报。从清理杂乱的数据集到构建复杂的模型，总是有做不完的工作，时间却总是不够。但如果有一种方法可以简化和自动化一些常规任务，从而腾出更多时间进行战略思考和决策呢？这就是LLMs的作用所在。

大型语言模型（LLMs）是可以协助处理各种自然语言处理任务的 AI 语言模型，从生成文本到回答问题。而事实证明，它们也可以成为数据分析师的宝贵工具。在本文中，我们将探讨如何在日常工作中使用LLMs，并展示 AI 如何帮助你更聪明地工作，而不是更辛苦。

让我们直接进入正题。

> 注意：这些系统还不是一个完整的分析解决方案，能够取代你。但请继续关注这个领域的进展。

# LLMs 如何提供帮助

LLMs 可以作为 AI 驱动的聊天机器人，帮助简化和自动化与数据分析相关的任务。凭借其先进的能力，LLMs 可以协助处理各种任务。我将这些任务分为三个大类：

+   **技术**：此类别包括一些最常见的应用，通常涉及编码，包括**编写代码和文档、清理数据、回答编码问题、运行数据分析和数据可视化**。

+   **软技能**：此类别涵盖了通常成为成功数据分析师所需的软技能。AI 可以帮助**起草文件以传达发现结果、从合作伙伴处收集数据需求和总结会议记录**。

+   **战略性**: 数据分析师可以提供的最有价值的部分可能是他们的战略思维，这也可以通过AI得到增强。这包括**头脑风暴分析内容、创建广泛的理解框架、改进和迭代分析方法以及作为一般的思维伙伴。**

将这些付诸实践可以在你作为数据分析师的工作中节省大量时间和精力。

![](../Images/32ac65260f699d8530c2c08d6ee20673.png)

（作者创作）

让我们探索这些示例，看看今天的工具有多么强大和灵活。

# 使用LLMs的示例

本节将包含LLMs应用的示例。这些示例大多用不同的格式标明，以突出响应，否则你可能会将其与我的写作混淆！

在本文中，当我们提示LLM时，我们将使用[Spotify和YouTube歌曲数据集](https://www.kaggle.com/datasets/salvatorerastelli/spotify-and-youtube)中的一个摘录，该数据集包括列信息和数据集的前20行。将来，LLM可能直接访问数据集，以及执行数据集上的代码的响应，以消除如此小样本的限制。

## 技术高手

在[这篇文章](https://medium.com/@tanyamarleytsui/coding-with-chatgpt-b50ab3fcb45f)中可以看到，经过代码库训练的LLMs是熟练的编码人员。这意味着它们可以轻松解决常见的技术数据分析任务。它们在需要少量上下文的任务上表现出色，技术任务通常属于这一范畴。

数据分析师最基本的任务之一是执行探索性数据分析（EDA）。LLMs能够编写Python代码来探索数据集，并输出相应的图像。以下引用文本包含LLM在提示进行EDA时返回的响应：

+   读取csv文件并显示示例: “`df = pd.read_csv("filename.csv")` `df.head()`”

+   识别感兴趣的列并进行探索: “按艺术家分组数据，检查每位艺术家的歌曲数量。 `df.groupby('Artist')['song name'].count()`”

+   创建图表: “创建舞动值列的直方图以查看分布。 `plt.hist(df['danceability'], bins=20)`”

这些示例相当基础，但LLMs可以进一步扩展，提供其他EDA方法。在这种情况下，它们能够提供异常值检测和聚类等进一步探索数据的方法。

下面是给出的响应示例。通读这些内容，它们绝对可以作为初级分析师的工作，识别出一些见解，例如：

> “Gorillaz的歌曲的舞动值通常高于Red Hot Chili Peppers的歌曲。”
> 
> “这些数据涉及两位艺术家的歌曲，Gorillaz和Red Hot Chili Peppers。Gorillaz在给定的数据中有9首歌曲，而Red Hot Chili Peppers有4首歌曲。”
> 
> 歌曲的舞蹈性和能量值在 0.559 到 0.938 和 0.345 到 0.938 之间变化。Gorillaz 歌曲的舞蹈性值通常高于 Red Hot Chili Peppers 的歌曲。Gorillaz 歌曲的能量值也往往高于 Red Hot Chili Peppers。
> 
> 歌曲的调性范围从 1.0 到 11.0，没有明显的模式或趋势。
> 
> ([完整输出](https://pastebin.com/CndS3kam))

创建表格时，为列和整体表格编写良好的描述可能会有些麻烦。虽然这是好的实践，但经常被忽视。LLMs 可以通过猜测表格的上下文来完成这项工作，或者更好的是，当提供一些上下文时，LLMs 可以编写这些描述。

> 这张表格似乎展示了两位不同艺术家——Gorillaz 和 Red Hot Chili Peppers——的各种歌曲的信息。表格中的每一行代表一首不同的歌曲，并为每首歌曲提供了 10 列信息。以下是各列的描述：
> 
> 索引：这只是一个整数索引，似乎是表中每首歌曲的唯一标识符。
> 
> 艺术家：此列列出了创作歌曲的艺术家。
> 
> 链接：此列提供指向艺术家在 Spotify 上页面的链接。
> 
> 歌曲名称：此列列出了歌曲的名称。
> 
> 专辑名称：此列列出了歌曲所属专辑的名称。
> 
> 专辑：此列指示该行是否表示专辑或单曲。
> 
> 来源标识符：此列似乎是每首歌曲的唯一标识符，可能是 Spotify 特有的。
> 
> 舞蹈性：此列提供一个从 0 到 1 的评分，表示歌曲适合跳舞的程度。
> 
> 能量：此列提供一个从 0 到 1 的评分，表示歌曲的能量水平。
> 
> 调性：此列提供一个从 0 到 11 的数字，表示歌曲的音乐调性。
> 
> 总体而言，这张表格似乎是一个歌曲数据的集合，包括有关艺术家、专辑和每首歌曲的各种音乐特征的信息。

这些结果的一些令人印象深刻的部分是，大型语言模型（LLM）查看了数据样本，发现“Key”列并不是行的某个关键，而是歌曲的音乐调性，“Album”列描述了它是否为专辑或单曲。典型的分析师仅凭列名无法猜测这些信息，需要花费时间进行基本的探索性数据分析（EDA）来确定数据源可以提供的值——LLMs 节省了这段时间。

今天，增强智能在数据分析中的主要应用场景是技术问题回答，例如在 Stack Overflow 上。然而，大型语言模型（LLMs）通常更具优势，它们提供特定用例和变量的正确代码，并能够给出更深入的回答或后续教程。

例如，绘制词云是一个时不时会需要的任务，但很难记住绘制词云所需的确切库和代码。你可以简单地询问 LLM，它会愉快地返回给你可用的代码。下面是关键摘录：

> `# 生成词云`
> 
> `wordcloud = WordCloud(width = 800, height = 800, background_color ='white', stopwords = set(), min_font_size = 10).generate(wordcloud_text)`

我意识到这只是使用了一个单词列表，但我有单词计数，所以我很快跟进了“我可以输入加权单词吗？” LLM 重新编写了代码：

> `# 生成词云`
> 
> `wordcloud = WordCloud(width = 800, height = 800, background_color ='white', stopwords = set(), min_font_size = 10).generate_from_frequencies(weighted_words)`
> 
> ([完整输出](https://pastebin.com/dQ3qWdYu))

这在没有 Stack Overflow 的帮助下是不可能完成的，也节省了大量的谷歌搜索或查找旧代码的时间。

正如可以看到的那样，LLM 在技术问题上非常出色，可以节省数据分析工作流程中的时间，但它们还具备什么能力呢？

## AI 的软性方法

软技能可能被忽视为数据分析的一个要求，但它们对于确保任何分析对业务有用至关重要。

任何数据分析师都知道，理解你合作伙伴实际想要的数据是[最困难的部分之一](https://knowyourmeme.com/photos/475749-tree-swing-cartoon-parodies)。这可能会以多种方式出现问题，从合作伙伴对某事的称呼错误，到在你返回第一部分时扩展他们的需求，再到要求错误的数据来支持他们想要得出的结论。由于其对话性质，LLM 在从合作伙伴那里收集需求方面非常出色。下面是一个对话示例。

> “我需要你提取最新的动画贴纸数字。”
> 
> 很好，谢谢你的请求！只是为了澄清，当你说“动画贴纸数字”时，你能否提供更多关于你具体是什么意思的信息？
> 
> 你是在寻找已创建的动画贴纸的数量数据吗？还是对动画贴纸的使用指标感兴趣，比如它们被查看或下载的次数？
> 
> 另外，你能否指定一下你感兴趣的时间范围？你是在寻找特定日期、周或月的最新动画贴纸数字数据吗？最后，你希望我以任何方式对数据进行分段吗，比如按贴纸类别或按用户人口统计？

实际上，可能很难让你的合作伙伴先去与 LLM 聊天，但 LLM 对于确定在开始项目工作之前是否有需要进一步澄清的事项非常有用，未来也将直接集成到分析解决方案中。

一旦需求被收集并完成分析，发现必须反馈回来。LLMs已经有帮助作者更快地生成内容并提高质量的记录。同样，LLM可以帮助准备总结分析工作的文档或准备演示文稿。一些LLMs特别擅长的任务是基本的介绍和结论，以及文本摘要。

> “基于这次EDA，歌曲推荐服务可能会考虑将更多的Gorillaz歌曲添加到推荐算法中，并优先考虑舞曲性和能量值较高的歌曲，因为这些歌曲在用户中似乎很受欢迎。”
> 
> ([完整输出](https://pastebin.com/6SsyS5p8))

关于使用LLMs进行写作的一些技巧可以在[这篇文章](https://www.elevatodigital.com/10-tips-and-tricks-for-using-chatgpt/)中找到，但还有很多其他技巧，并且随着我们不断探索如何最好地使用LLMs，还会有更多的技巧被添加。

我们已经看到LLMs如何解决技术任务并协助处理许多“软”任务。这对于提高分析师的工作流程已经很棒，但我们能否更进一步呢？

## 大命令

战略思维是分析师能够为公司提供的最高价值之一。这可以通过LLMs得到提升。一些实现这一目标的方法包括头脑风暴要进行哪些分析，创建广泛的理解框架，改进和迭代你的分析方法，并作为一个一般的思维伙伴。

让我们从头脑风暴开始。你可能被分配了一个通用的任务——“更多地了解你的客户”。你可以进行哪些分析？这些分析会导致什么结果？理想情况下，你会与同行进行头脑风暴，但这并不总是可能，因此你可以与AI进行头脑风暴。

当被问及我们应该进行什么分析以更好地了解客户时，输出的分析包括：“客户细分，RFM分析，购物篮分析，流失分析，客户生命周期价值。” 以及一些预测结果：

> “这些分析的结果将取决于你发现的具体见解。例如，你可能会发现你的最有价值的客户是年龄较大、富有且对特殊烹饪产品感兴趣的女性。这可能会导致你开发更多针对这一人群的产品，并投资于能够引起她们共鸣的营销活动。”
> 
> ([完整输出](https://pastebin.com/29tXL6Pt))

这是一个很好的起点，可以确保你覆盖所有的空白，这在独自工作时可能很困难。LLMs还可以提供有关框架的建议。你可能会想知道如何在接下来的几年里发展你的业务，以及如何衡量这一点，那么：

> “有几种增长框架可以用来理解如何在未来三年内增加销售。以下是三种流行的框架：
> 
> AARRR：该框架代表Acquisition、Activation、Retention、Referral和Revenue。它是由Dave McClure开发的五步框架，通常用于初创公司圈子。AARRR框架帮助公司了解客户生命周期的不同阶段，并如何优化每个阶段以推动增长。
> 
> RACE：该框架代表Reach、Act、Convert、Engage。它是由Smart Insights开发的四阶段框架，专注于数字营销。RACE框架帮助公司了解如何优化数字营销工作以推动增长。
> 
> 3HAG：该框架代表三年内高度可实现目标。它是由Shannon Susko开发的战略规划框架，帮助公司设定并实现雄心勃勃的增长目标。3HAG框架包括定义一个BHAG（宏伟目标），然后在三年的时间里将其分解为更小的、可实现的目标。
> 
> 在决定使用哪个增长框架时，考虑公司独特的情况和目标非常重要。AARRR和RACE是更具战术性的框架，专注于优化客户生命周期或数字营销工作的特定阶段，而3HAG是一个更具战略性的框架，专注于设定雄心勃勃的增长目标。

正如你所见，回应是有帮助的，完全可以代替你期待从团队分析师那里得到的回应。

# 使用哪个LLM？

撰写本文时，实际上只有一个LLM能够很好地完成上述所有任务，那就是OpenAI的ChatGPT。它是第一个普及LLMs的产品，仍然是市场上最强大的产品之一，并且是免费的（提供订阅选项）。

随着AI领域变化的步伐加快，几个月后这些信息可能就不再准确，因此值得注意的是，市场上还有许多其他竞争者。例如，Google正在开发他们的产品Bard，预计其表现与ChatGPT相似。此外，还有[许多开源替代方案](https://www.kdnuggets.com/2023/04/8-opensource-alternative-chatgpt-bard.html)可以考虑。虽然这些通常不具备相同的质量，但预计会持续改进，缩小与商业运营模型之间的差距。

# 使用LLMs的有效技巧

作为数据分析师，充分利用LLMs有一些技巧可以遵循。首先，给LLMs提供清晰且具体的输入非常重要。这意味着使用恰当的语言，避免模糊，并在必要时提供上下文。此外，LLMs可以处理结构化和非结构化数据，因此值得尝试不同的输入格式，以找出适合特定任务的最佳格式。最后，重要的是要记住LLMs只是工具，而不是替代人工分析的手段。虽然它可以帮助自动化一些例行任务，但仍需由数据分析师来解释结果并根据数据做出明智的决策。

现在有很多文章讨论如何使用大型语言模型（LLMs），例如[这篇](https://www.wired.com/story/11-tips-better-chatgpt-prompts/)，这是一个不断发展的研究领域，因此要继续学习！

# 结论

总之，大型语言模型是提高分析工作效率的绝佳工具，甚至能帮助你成长和学习新事物。大型语言模型可以帮助解决技术问题，发展软技能，并提升你的战略思维。与人工智能合作是未来的趋势，因此现在是学习如何将其整合到工作流程中的最佳时机，以免被落在后头。
