- en: 'From Dull to Stunning: How Matplotx Can Improve Your Matplotlib Charts'
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 原文：[https://towardsdatascience.com/from-dull-to-stunning-how-matplotx-can-improve-your-matplotlib-charts-f370cbf7acc](https://towardsdatascience.com/from-dull-to-stunning-how-matplotx-can-improve-your-matplotlib-charts-f370cbf7acc)
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: Simplifying the process of creating stunning charts with Matplotx
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: '[](https://andymcdonaldgeo.medium.com/?source=post_page-----f370cbf7acc--------------------------------)[![Andy
    McDonald](../Images/df11d647be032aeb3d31852affb33a64.png)](https://andymcdonaldgeo.medium.com/?source=post_page-----f370cbf7acc--------------------------------)[](https://towardsdatascience.com/?source=post_page-----f370cbf7acc--------------------------------)[![Towards
    Data Science](../Images/a6ff2676ffcc0c7aad8aaf1d79379785.png)](https://towardsdatascience.com/?source=post_page-----f370cbf7acc--------------------------------)
    [Andy McDonald](https://andymcdonaldgeo.medium.com/?source=post_page-----f370cbf7acc--------------------------------)'
  prefs: []
  type: TYPE_NORMAL
- en: ·Published in [Towards Data Science](https://towardsdatascience.com/?source=post_page-----f370cbf7acc--------------------------------)
    ·6 min read·Apr 3, 2023
  prefs: []
  type: TYPE_NORMAL
- en: --
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/09bb6a98db16792a11f8976944d23011.png)'
  prefs: []
  type: TYPE_IMG
- en: Example of a matplotlib scatter plot with the matplotx theming applied. Image
    by the author.
  prefs: []
  type: TYPE_NORMAL
- en: Matplotib is one of the most popular data visualisation libraries available
    within the Python world. However, over the years, it has gained a reputation for
    creating boring figures and being awkward to use.
  prefs: []
  type: TYPE_NORMAL
- en: As seen in my latest articles, converting the basic matplotlib charts to something
    visually appealing does require several lines of code. Don’t get me wrong; I enjoy
    using matplotlib due to it being highly customisable, but there are times when
    I just want a stylish plot without too much hassle.
  prefs: []
  type: TYPE_NORMAL
- en: This is where the [**matplox library**](https://github.com/nschloe/matplotx)comes
    in. Using two lines of code — an `import` statement and a `with` statement — we
    can instantly transform our basic matplotlib figure into something much more visually
    appealing.
  prefs: []
  type: TYPE_NORMAL
- en: The matplotx library provides an easy way to instantly stylise your matplotlib
    figures. The library has been around for a while. It has been downloaded nearly
    60,000 times and [**averages 3,000 downloads per month**](https://pepy.tech/project/matplotx)
    (at the time of writing this).
  prefs: []
  type: TYPE_NORMAL
- en: In this article, we will see how we can use this library to spice up our matplotlib
    figures.
  prefs: []
  type: TYPE_NORMAL
- en: Installing Matplotx
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Matplotx can be installed into your Python environment by opening up a terminal/command
    prompt and running the following command.
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE0]'
  prefs: []
  type: TYPE_PRE
- en: Importing Libraries and Setting up Data
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'For this article, we will start off by importing two common python libraries:
    [**pandas**](https://pandas.pydata.org/) and [**matplotlib**](https://matplotlib.org/).
    Then we will import [**matplotx**](https://github.com/nschloe/matplotx).'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE1]'
  prefs: []
  type: TYPE_PRE
- en: Once the libraries have been imported, we can read in our dataset from a CSV
    file.
  prefs: []
  type: TYPE_NORMAL
- en: For this example, I am using a well from the Volve dataset. Details of this
    dataset can be found at the bottom of the article. This dataset contains a series
    of well log and petrophysical measurements from a well in the Volve Field, located
    on the Norwegian Continental Shelf.
  prefs: []
  type: TYPE_NORMAL
- en: In addition to specifying the file location, we need to convert the missing
    data value of -999 to a NaN value. This is done using the `na_values` parameter.
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE2]'
  prefs: []
  type: TYPE_PRE
- en: Once the data has been loaded, we can view the header of the dataframe using
    `df.head()`
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/4c773b92821814726c239613d3f90271.png)'
  prefs: []
  type: TYPE_IMG
- en: Dataframe header showing well log measurements from the Volve Field. Image by
    the author.
  prefs: []
  type: TYPE_NORMAL
- en: Enhancing Matplotlib Scatter Plots With Matplotx
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Now that the data has been loaded, the first plot we are going to create is
    a scatter plot. This is easily created using the following code.
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE3]'
  prefs: []
  type: TYPE_PRE
- en: When we run the above code, we get the following plot.
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/ad6045c7b4a7b49e7c9e6c5828cfa9f2.png)'
  prefs: []
  type: TYPE_IMG
- en: A basic matplotlib scatter plot showing density vs neutron porosity. Image by
    the author.
  prefs: []
  type: TYPE_NORMAL
- en: Even though we have a useable scatter plot, it doesn’t stand out from the crowd
    of other matplotlib scatter plots out there.
  prefs: []
  type: TYPE_NORMAL
- en: Creating a Dracula Styles Matplotlib Scatter Plot with Matplotx
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: To apply the styles from matplotx, we need to add a single line of code before
    our matplotlib scatter plot code.
  prefs: []
  type: TYPE_NORMAL
- en: Using a with statement, we call upon `plt.style.context` and pass in `matplotx.styles`
    from here, we can choose one of the many available themes.
  prefs: []
  type: TYPE_NORMAL
- en: For this example, I have selected the Dracula theme — a very popular theme that
    seems to be in nearly every app.
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE4]'
  prefs: []
  type: TYPE_PRE
- en: Without changing any other parts of the matplotlib code we had earlier, we can
    run it and get the following plot.
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/b9b3811c2ef9cc7a5ef3895f8e59c2d9.png)'
  prefs: []
  type: TYPE_IMG
- en: Matplotlib scatter plot after applying the popular Dracula theme with matplotx.
    Image by the author.
  prefs: []
  type: TYPE_NORMAL
- en: Removing Chart Junk with Matplotx and the duftify Function
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: When creating plots for our readers, it is often necessary to remove chart junk,
    such as gridlines, borders etc. This allows the reader to focus on the data rather
    than get distracted by other elements.
  prefs: []
  type: TYPE_NORMAL
- en: To see the impact of removing chart junk, the following animation was created
    by [**Darkhorse Analytics**](https://www.darkhorseanalytics.com/blog/data-looks-better-naked).
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/8b5a3f53d7d38799674b496b3bf1d690.png)'
  prefs: []
  type: TYPE_IMG
- en: Example of making charts more effective by improving the data-ink ratio. [https://www.darkhorseanalytics.com/blog/data-looks-better-naked](https://www.darkhorseanalytics.com/blog/data-looks-better-naked)
  prefs: []
  type: TYPE_NORMAL
- en: To help us remove chart junk like the animation above, Matplotx provides a nice
    function to help with this.
  prefs: []
  type: TYPE_NORMAL
- en: To use it, we need to call upon `matplotx.styles.duftify` and then pass in the
    matplotx style we want to use.
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE5]'
  prefs: []
  type: TYPE_PRE
- en: After running the above code, we get back the following plot.
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/6c45d0811063c142b8c20effa30e2d59.png)'
  prefs: []
  type: TYPE_IMG
- en: Matplotlib scatter plot after applying matplotx’s duftify function. Image by
    the author.
  prefs: []
  type: TYPE_NORMAL
- en: We can see that the borders have been removed around the plot and on the colourbar.
    The labels for the axes have also been dimmed down, and immediately your eyes
    focus on the data rather than the extra stuff.
  prefs: []
  type: TYPE_NORMAL
- en: Other Styles with Matplotx
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: There are many other styles available from matplotx, and they can be viewed
    on the [project’s GitHub repository](https://github.com/nschloe/matplotx).
  prefs: []
  type: TYPE_NORMAL
- en: 'Here is just a sample of what is available:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/3e9741c27e6285c1b68edd85d1545ef5.png)'
  prefs: []
  type: TYPE_IMG
- en: Some of the styles available from matplotx. Image captured from matplotx GitHub
    repository.
  prefs: []
  type: TYPE_NORMAL
- en: One thing to bear in mind when using some of these styles is if the name in
    the graphic above has additional text in brackets after it, then you need to make
    sure to add that to your call to `matplotx.styles`.
  prefs: []
  type: TYPE_NORMAL
- en: 'For example, if we want to use Tokyo Night, we will have three styles to choose
    from: day, night and storm.'
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/e4f67274b66e8ff60cbe02584efa5d71.png)'
  prefs: []
  type: TYPE_IMG
- en: Three styles for the Tokyo Night theme. Notice the name in brackets, which can
    be used to access the theme. Image captured from matplotx GitHub repository.
  prefs: []
  type: TYPE_NORMAL
- en: 'From the above, if we selected Tokyo Night (day), then we would need to add
    that in square brackets at the end of our call: `matplotx.styles.tokyo_night[''day'']`'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE6]'
  prefs: []
  type: TYPE_PRE
- en: Running the above will generate the following plot in the desired style.
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/a510a850ca06bb063dd33d7fb57d6aaf.png)'
  prefs: []
  type: TYPE_IMG
- en: Matplotlib scatter plot after applying the tokyo_night day theme from matplotx.
    Image by the author.
  prefs: []
  type: TYPE_NORMAL
- en: Applying Matplotx to Other Matplotlib Charts
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: We can also apply the matplotx styling to other plots, for example on a histogram.
    All we have to do is change the matplotlib plotting code so that we get the histogram.
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE7]'
  prefs: []
  type: TYPE_PRE
- en: When we run the above, we return the following histogram, which is significantly
    better looking than the basic blue bars we often see.
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/51152118c2f20c42d79bce84d554f009.png)'
  prefs: []
  type: TYPE_IMG
- en: Example of applying matplotx theming to a histogram. Image by the author.
  prefs: []
  type: TYPE_NORMAL
- en: Summary
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Even though Matplotlib is a powerful data visualisation library, it can be awkward
    to use, especially if you want to create stunning figures. With matplotx, we can
    add two lines of code and instantly transform our charts into something that is
    miles better. It is definitely a library that you should consider when creating
    your next figure and want to quickly add some style.
  prefs: []
  type: TYPE_NORMAL
- en: '*Thanks for reading. Before you go, you should definitely subscribe to my content
    and get my articles in your inbox.* [***You can do that here!***](https://andymcdonaldgeo.medium.com/subscribe)*Alternatively,
    you can* [***sign up for my newsletter***](https://fabulous-founder-2965.ck.page/2ca286e572)
    *to get additional content straight into your inbox for free.*'
  prefs: []
  type: TYPE_NORMAL
- en: '*Secondly, you can get the full Medium experience and support me and thousands
    of other writers by signing up for a membership. It only costs you $5 a month,
    and you have full access to all of the fantastic Medium articles and the chance
    to make money with your writing. If you sign up using* [***my link***](https://andymcdonaldgeo.medium.com/membership)***,***
    *you will support me directly with a portion of your fee, and it won’t cost you
    more. If you do so, thank you so much for your support!*'
  prefs: []
  type: TYPE_NORMAL
- en: Data Used Within This Tutorial
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: The data used within this tutorial is a subset of the Volve Dataset that Equinor
    released in 2018\. Full details of the dataset, including the licence, can be
    found at the link below.
  prefs: []
  type: TYPE_NORMAL
- en: '[](https://www.equinor.com/energy/volve-data-sharing?source=post_page-----f370cbf7acc--------------------------------)
    [## Volve field data set'
  prefs: []
  type: TYPE_NORMAL
- en: Equinor has offically made a complete set of data from a North Sea oil field
    available for research, study and…
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: www.equinor.com](https://www.equinor.com/energy/volve-data-sharing?source=post_page-----f370cbf7acc--------------------------------)
  prefs: []
  type: TYPE_NORMAL
- en: 'The Volve data license is based on CC BY 4.0 license. Full details of the license
    agreement can be found here:'
  prefs: []
  type: TYPE_NORMAL
- en: '[https://cdn.sanity.io/files/h61q9gi9/global/de6532f6134b9a953f6c41bac47a0c055a3712d3.pdf?equinor-hrs-terms-and-conditions-for-licence-to-data-volve.pdf](https://cdn.sanity.io/files/h61q9gi9/global/de6532f6134b9a953f6c41bac47a0c055a3712d3.pdf?equinor-hrs-terms-and-conditions-for-licence-to-data-volve.pdf=)'
  prefs: []
  type: TYPE_NORMAL
