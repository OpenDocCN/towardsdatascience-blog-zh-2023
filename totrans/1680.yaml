- en: 'Presenting Spatial Data Interactively with Story Maps #2'
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 原文：[https://towardsdatascience.com/presenting-spatial-data-interactively-with-story-maps-2-17363598208f](https://towardsdatascience.com/presenting-spatial-data-interactively-with-story-maps-2-17363598208f)
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: Telling stories and insights with interactive maps
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: '[](https://sutan.co.uk/?source=post_page-----17363598208f--------------------------------)[![Sutan
    Mufti](../Images/0a7922168ff75a80b2ddb38d4a142f37.png)](https://sutan.co.uk/?source=post_page-----17363598208f--------------------------------)[](https://towardsdatascience.com/?source=post_page-----17363598208f--------------------------------)[![Towards
    Data Science](../Images/a6ff2676ffcc0c7aad8aaf1d79379785.png)](https://towardsdatascience.com/?source=post_page-----17363598208f--------------------------------)
    [Sutan Mufti](https://sutan.co.uk/?source=post_page-----17363598208f--------------------------------)'
  prefs: []
  type: TYPE_NORMAL
- en: ·Published in [Towards Data Science](https://towardsdatascience.com/?source=post_page-----17363598208f--------------------------------)
    ·7 min read·Aug 22, 2023
  prefs: []
  type: TYPE_NORMAL
- en: --
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/b1ca83ec0ab746f28d95547ad67c6266.png)'
  prefs: []
  type: TYPE_IMG
- en: Custom Story Maps by Sutan.co.uk (Author, 2023)
  prefs: []
  type: TYPE_NORMAL
- en: 'Link to demo:'
  prefs: []
  type: TYPE_NORMAL
- en: '[](https://jakarta.sutan.co.uk/?source=post_page-----17363598208f--------------------------------)
    [## Commuting in Jakarta Story Maps'
  prefs: []
  type: TYPE_NORMAL
- en: Commuting in Jakarta Story by Sutan.co.uk. How do we commute in Jakarta? Using
    HTML, CSS, and Javascript to present…
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: jakarta.sutan.co.uk](https://jakarta.sutan.co.uk/?source=post_page-----17363598208f--------------------------------)
  prefs: []
  type: TYPE_NORMAL
- en: 'Link to repository:'
  prefs: []
  type: TYPE_NORMAL
- en: '[](https://github.com/sutanmufti/story-maps?source=post_page-----17363598208f--------------------------------)
    [## GitHub — sutanmufti/story-maps'
  prefs: []
  type: TYPE_NORMAL
- en: Contribute to sutanmufti/story-maps development by creating an account on GitHub.
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: github.com](https://github.com/sutanmufti/story-maps?source=post_page-----17363598208f--------------------------------)
  prefs: []
  type: TYPE_NORMAL
- en: 'Previous Article:'
  prefs: []
  type: TYPE_NORMAL
- en: '[](/presenting-spatial-data-interactively-by-scrolling-502df345dea6?source=post_page-----17363598208f--------------------------------)
    [## Presenting Spatial Data Interactively by Scrolling'
  prefs: []
  type: TYPE_NORMAL
- en: Telling stories/insights with responsive maps. Stories with maps!
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: towardsdatascience.com](/presenting-spatial-data-interactively-by-scrolling-502df345dea6?source=post_page-----17363598208f--------------------------------)
  prefs: []
  type: TYPE_NORMAL
- en: Spatial Data Science and Cartography
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: As a specialist in spatial data and data scientist, my job is to generate insights
    from (geo)spatial data. Of course, the end results are visualising these insights
    so that people understand what is the insight. It requires communication techniques.
    While ordinary data visualisation revolves around charts and graphs, spatial data
    visualisation revolves around maps. Cartographers, whose job is to make maps,
    are essentially the people who do this job.
  prefs: []
  type: TYPE_NORMAL
- en: However, I feel that the boundary between “cartography” and “data science” is
    fading; or merging. The prominence of GIS in the 1990’s propelled by ESRI (Environmental
    Systems Research Institute) has integrated information technology to the realm
    of cartography. This means that maps are not drawn by hands anymore; instead maps
    are drawn based on the tables you provide. This is a powerful novel paradigm!
    Every table can be converted into a map through sets of rules.
  prefs: []
  type: TYPE_NORMAL
- en: “Our definition of cartography describes it as the ‘art, science and technology’
    of mapmaking, a definition which illustrates the breadth of the discipline.” —
    [British Cartography Society](https://www.cartography.org.uk/careers)
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: 'What makes spatial data analysis to be different to data analysis? Spatial
    data analysis has what I call “spatial attribute”; a geometry column. Learn more
    about spatial data structure in my other article:'
  prefs: []
  type: TYPE_NORMAL
- en: '[](/spatial-data-science-data-structures-a00c484b8a00?source=post_page-----17363598208f--------------------------------)
    [## Spatial Data Science: Data Structures'
  prefs: []
  type: TYPE_NORMAL
- en: A guideline for articulating spatial data
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: towardsdatascience.com](/spatial-data-science-data-structures-a00c484b8a00?source=post_page-----17363598208f--------------------------------)
  prefs: []
  type: TYPE_NORMAL
- en: From Static to Interactive Maps
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: Before the internet, the output of spatial data analysis is a static map. However,
    as IT technology progresses, our modern internet browsers are able to handle interactivity.
    This utilises Javascript, a programming language to make websites interactive.
    This also benefits mapping society; We can present maps as an interactive web-page.
    Take a look at Google Maps or Openstreetmap.
  prefs: []
  type: TYPE_NORMAL
- en: The good news is that in this open source and modern environment, everyone can
    access the tool to build such interactive maps.
  prefs: []
  type: TYPE_NORMAL
- en: This Article
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: I want to share how I produce spatial data visualisation with interactive maps.
    More than interactive, it is a story map; page-per-page contextualised map to
    the paragraphs. I hope that this inspires people to generate more interactive
    maps and as a beacon that sparks wild ideas towards novel spatial data visualisation.
  prefs: []
  type: TYPE_NORMAL
- en: I won’t go deep into the codes. I will, however, discuss the basic idea behind
    making things interactive and highlight the snippets of the code. You can see
    the code in the github repository [right here](https://github.com/sutanmufti/story-maps).
  prefs: []
  type: TYPE_NORMAL
- en: Please note that I will limit the discussion to the scope of interactivity which
    is handled using javascript. I will not discuss the styling using CSS and layout
    using HTML.
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/33ea06218ee6753765469edad7a45059.png)'
  prefs: []
  type: TYPE_IMG
- en: 'Jakarta Story Maps (Source: Author, 2023)'
  prefs: []
  type: TYPE_NORMAL
- en: Introducing Interactivity with Javascript
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: While Python is mainly used for GIS, data science and spatial data science,
    We develop websites using HTML, CSS, and Javascript. To learn more about these
    languages and their roles in spatial data science, please read more in my other
    article.
  prefs: []
  type: TYPE_NORMAL
- en: '[](/spatial-data-science-javascript-python-60464cbe908d?source=post_page-----17363598208f--------------------------------)
    [## Spatial Data Science: Javascript & Python'
  prefs: []
  type: TYPE_NORMAL
- en: From data engineering to full stack application, the languages that you need.
    Getting Started, and curated learning…
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: towardsdatascience.com](/spatial-data-science-javascript-python-60464cbe908d?source=post_page-----17363598208f--------------------------------)
  prefs: []
  type: TYPE_NORMAL
- en: The highlight of this article you are reading is taking the best out of Javascript.
    Handling user inputs or making our website change and active use javascript.
  prefs: []
  type: TYPE_NORMAL
- en: Using Mapping Libraries
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: We do not code from scratch; it is inevitable to not use modules/libraries.
    In mapping case, the classic mapping library is Leaflet (as also discussed in
    the previous article link). In the demo link above, I used leaflet to display
    and animate the maps.
  prefs: []
  type: TYPE_NORMAL
- en: '[](https://leafletjs.com/index.html?source=post_page-----17363598208f--------------------------------)
    [## Leaflet - an open-source JavaScript library for interactive maps'
  prefs: []
  type: TYPE_NORMAL
- en: Leaflet is a modern, lightweight open-source JavaScript library for mobile-friendly
    interactive maps.
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: leafletjs.com](https://leafletjs.com/index.html?source=post_page-----17363598208f--------------------------------)
  prefs: []
  type: TYPE_NORMAL
- en: Please note that this is not the only library for mapping, for instance, Openlayers,
    Google Maps Javascript API, ArcGIS Javascript API, Mapbox, etc! But I like leaflet
    because this is light weight, very simple, and most likely solves 80% of my problems.
    Furthermore, their documentation is also straight forward with examples.
  prefs: []
  type: TYPE_NORMAL
- en: The Technical Idea
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Before jumping into the code highlight, I want to first discuss the idea of
    what the code is trying to achieve. A code is just a tool to achieve a purpose;
    we must know the purpose first before we code.
  prefs: []
  type: TYPE_NORMAL
- en: Page per Page Map
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: Story maps consist of page with relevant maps to illustrate the page. Each page
    usually has different maps. This means that when a page is activated (emits an
    event), a function is invoked. This is what people usually learn when they learn
    Javascript.
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/b73fe24bbb76a59370fa4373fcd1a95c.png)'
  prefs: []
  type: TYPE_IMG
- en: 'Pages (Source: Author, 2023)'
  prefs: []
  type: TYPE_NORMAL
- en: This is the simplest pseudo-code for each page button
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE0]'
  prefs: []
  type: TYPE_PRE
- en: 'This is how to handle events (such as users clicking); and each button has
    an event handler function. A simple example of such code in leaflet is in the
    following page ([link to demo](https://jakarta.sutan.co.uk/pagebuttonexample)):'
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/c630cdd0c9eef39d5fee8d4a3226ab45.png)'
  prefs: []
  type: TYPE_IMG
- en: 'Page Reactivity Demo (Source: Author, 2023)'
  prefs: []
  type: TYPE_NORMAL
- en: '[](https://github.com/sutanmufti/story-maps/blob/main/pagebuttonexample.html?source=post_page-----17363598208f--------------------------------)
    [## story-maps/pagebuttonexample.html at main · sutanmufti/story-maps'
  prefs: []
  type: TYPE_NORMAL
- en: Contribute to sutanmufti/story-maps development by creating an account on GitHub.
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: github.com](https://github.com/sutanmufti/story-maps/blob/main/pagebuttonexample.html?source=post_page-----17363598208f--------------------------------)
  prefs: []
  type: TYPE_NORMAL
- en: 'The actual Javascript code is in the following block:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE1]'
  prefs: []
  type: TYPE_PRE
- en: The code above captures the “click” event and runs the corresponding arrow function
    (this is a javascript thing).
  prefs: []
  type: TYPE_NORMAL
- en: Handling Geospatial Data
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: A map consists of layers of data. Each “layer” is a table that has a geometry
    column. This is how we display geospatial data. I have another article that discuss
    spatial data structure.
  prefs: []
  type: TYPE_NORMAL
- en: '[](/spatial-data-science-data-structures-a00c484b8a00?source=post_page-----17363598208f--------------------------------)
    [## Spatial Data Science: Data Structures'
  prefs: []
  type: TYPE_NORMAL
- en: A guideline for articulating spatial data
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: towardsdatascience.com](/spatial-data-science-data-structures-a00c484b8a00?source=post_page-----17363598208f--------------------------------)
  prefs: []
  type: TYPE_NORMAL
- en: I treat, analyse, draw, and do stuff to geospatial data with QGIS. It is a free
    open source software meant to provide access to GIS (Geographical Information
    System) to everyone. As a free software, it is surprisingly very powerful. It
    is very impressive that it is free!
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/1cb390b1a14c4de49d58bd7638964394.png)'
  prefs: []
  type: TYPE_IMG
- en: 'User Interface of QGIS (Source: Author, 2023)'
  prefs: []
  type: TYPE_NORMAL
- en: What can you do with QGIS? You can do spatial data analysis and generate layers
    of maps. It can connect to an enterprise database such as Postgresql and manage
    the spatial data inside the system. Then, conduct spatial SQL and produce layers
    based on the SQL analysis.
  prefs: []
  type: TYPE_NORMAL
- en: '[](/spatial-data-science-spatial-queries-8d6709fd9747?source=post_page-----17363598208f--------------------------------)
    [## Spatial Data Science: Spatial Queries'
  prefs: []
  type: TYPE_NORMAL
- en: answering every “where” question with SQL; with example
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: towardsdatascience.com](/spatial-data-science-spatial-queries-8d6709fd9747?source=post_page-----17363598208f--------------------------------)
  prefs: []
  type: TYPE_NORMAL
- en: These analysis (whether it is from QGIS tool box or Spatial SQL analysis) is
    then exported into an appropriate format; most likely a GeoJSON format. It is
    a JSON format that conforms to GeoJSON standard that standardises geospatial data
    serialisation. This ensures interchangabe attribute to the data allowing multiple
    software such as ogr2ogr or Leaflet to handle spatial data.
  prefs: []
  type: TYPE_NORMAL
- en: Extending with Python
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: When you want to ensure reproducibility, then you might want to use the python
    console and produce your scripts. The QGIS api is straight forward to use and
    there is a [cook book](https://docs.qgis.org/3.28/en/docs/pyqgis_developer_cookbook/index.html).
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/63985f0e88b8711f71645325b8b639de.png)'
  prefs: []
  type: TYPE_IMG
- en: Python Console (QGIS)
  prefs: []
  type: TYPE_NORMAL
- en: Integrating GeoJSON with Leaflet
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: These outputs is then added into leaflet like the following code illustrates.
    Do this for each layers.
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE2]'
  prefs: []
  type: TYPE_PRE
- en: Conclusion
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Cartography is product of visual art and data science. The advancement in computer
    technology allows cartography becomes interactive. This interactivity, if moulded
    in such a way, can produce a narrative with rich illustration and allows the readers
    to explore. First, we analyse and produce the layers using QGIS or any GIS software.
    Then we serve the analysis using Leaflet (HTML, Javascript, and CSS). The best
    thing about this is that it is free and everyone can do this. You can do this
    as well.
  prefs: []
  type: TYPE_NORMAL
- en: If you like spatial and network data science content, please follow me. I write
    advanced spatial data analysis content with urban planning, infrastructure development,
    and transportation context.
  prefs: []
  type: TYPE_NORMAL
