- en: Deploy Your Time Series Forecasting Model with Streamlit
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: ä½¿ç”¨Streamlitéƒ¨ç½²æ‚¨çš„æ—¶é—´åºåˆ—é¢„æµ‹æ¨¡å‹
- en: åŸæ–‡ï¼š[https://towardsdatascience.com/deploy-your-time-series-forecasting-model-with-streamlit-c3ce5a7edf19](https://towardsdatascience.com/deploy-your-time-series-forecasting-model-with-streamlit-c3ce5a7edf19)
  id: totrans-1
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: åŸæ–‡ï¼š[https://towardsdatascience.com/deploy-your-time-series-forecasting-model-with-streamlit-c3ce5a7edf19](https://towardsdatascience.com/deploy-your-time-series-forecasting-model-with-streamlit-c3ce5a7edf19)
- en: A hands-on guide on building a web application to deploy your forecasting model
    using Python
  id: totrans-2
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: ä¸€ä»½å…³äºä½¿ç”¨Pythonæ„å»ºWebåº”ç”¨ç¨‹åºä»¥éƒ¨ç½²é¢„æµ‹æ¨¡å‹çš„å®ç”¨æŒ‡å—
- en: '[](https://medium.com/@marcopeixeiro?source=post_page-----c3ce5a7edf19--------------------------------)[![Marco
    Peixeiro](../Images/7cf0a81d87281d35ff47f51e3026a3e9.png)](https://medium.com/@marcopeixeiro?source=post_page-----c3ce5a7edf19--------------------------------)[](https://towardsdatascience.com/?source=post_page-----c3ce5a7edf19--------------------------------)[![Towards
    Data Science](../Images/a6ff2676ffcc0c7aad8aaf1d79379785.png)](https://towardsdatascience.com/?source=post_page-----c3ce5a7edf19--------------------------------)
    [Marco Peixeiro](https://medium.com/@marcopeixeiro?source=post_page-----c3ce5a7edf19--------------------------------)'
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: '[](https://medium.com/@marcopeixeiro?source=post_page-----c3ce5a7edf19--------------------------------)[![Marco
    Peixeiro](../Images/7cf0a81d87281d35ff47f51e3026a3e9.png)](https://medium.com/@marcopeixeiro?source=post_page-----c3ce5a7edf19--------------------------------)[](https://towardsdatascience.com/?source=post_page-----c3ce5a7edf19--------------------------------)[![æ•°æ®ç§‘å­¦ä¹‹è·¯](../Images/a6ff2676ffcc0c7aad8aaf1d79379785.png)](https://towardsdatascience.com/?source=post_page-----c3ce5a7edf19--------------------------------)
    [Marco Peixeiro](https://medium.com/@marcopeixeiro?source=post_page-----c3ce5a7edf19--------------------------------)'
- en: Â·Published in [Towards Data Science](https://towardsdatascience.com/?source=post_page-----c3ce5a7edf19--------------------------------)
    Â·13 min readÂ·Apr 25, 2023
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: Â·å‘å¸ƒäº[æ•°æ®ç§‘å­¦ä¹‹è·¯](https://towardsdatascience.com/?source=post_page-----c3ce5a7edf19--------------------------------)
    Â·13åˆ†é’Ÿé˜…è¯»Â·2023å¹´4æœˆ25æ—¥
- en: --
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: --
- en: '![](../Images/597cc6da68b8a31e827f4f2607f94c3d.png)'
  id: totrans-6
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/597cc6da68b8a31e827f4f2607f94c3d.png)'
- en: Photo by [SpaceX](https://unsplash.com/@spacex?utm_source=medium&utm_medium=referral)
    on [Unsplash](https://unsplash.com/?utm_source=medium&utm_medium=referral)
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: å›¾ç‰‡ç”±[SpaceX](https://unsplash.com/@spacex?utm_source=medium&utm_medium=referral)æä¾›ï¼Œ[Unsplash](https://unsplash.com/?utm_source=medium&utm_medium=referral)ä¸Šè·å–
- en: As data scientists, we often work in the experimentation phase. We work in notebooks
    and develop scripts to evaluate models, and it stops there.
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: ä½œä¸ºæ•°æ®ç§‘å­¦å®¶ï¼Œæˆ‘ä»¬ç»å¸¸å¤„äºå®éªŒé˜¶æ®µã€‚æˆ‘ä»¬åœ¨ç¬”è®°æœ¬ä¸­å·¥ä½œï¼Œå¼€å‘è„šæœ¬ä»¥è¯„ä¼°æ¨¡å‹ï¼Œç„¶åå°±åœåœ¨é‚£é‡Œã€‚
- en: However, our work is never really done until the model is deployed. This crucial
    step brings us new challenges, as we have to think about error handling, and building
    an interface to interact with the model.
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: ç„¶è€Œï¼Œæˆ‘ä»¬çš„å·¥ä½œæ°¸è¿œä¸ä¼šçœŸæ­£å®Œæˆï¼Œç›´åˆ°æ¨¡å‹è¢«éƒ¨ç½²ã€‚è¿™ä¸ªå…³é”®æ­¥éª¤å¸¦æ¥äº†æ–°çš„æŒ‘æˆ˜ï¼Œå› ä¸ºæˆ‘ä»¬å¿…é¡»è€ƒè™‘é”™è¯¯å¤„ç†å’Œæ„å»ºä¸æ¨¡å‹äº’åŠ¨çš„æ¥å£ã€‚
- en: 'This is where [Streamlit](https://streamlit.io/) comes in: it is a Python library
    that allows us to build data applications rapidly, since we only Python for both
    the modelling portion and building the user interface.'
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™å°±æ˜¯[Streamlit](https://streamlit.io/)çš„ç”¨æ­¦ä¹‹åœ°ï¼šå®ƒæ˜¯ä¸€ä¸ªPythonåº“ï¼Œå…è®¸æˆ‘ä»¬å¿«é€Ÿæ„å»ºæ•°æ®åº”ç”¨ç¨‹åºï¼Œå› ä¸ºæˆ‘ä»¬åªéœ€ä½¿ç”¨Pythonæ¥è¿›è¡Œå»ºæ¨¡éƒ¨åˆ†å’Œæ„å»ºç”¨æˆ·ç•Œé¢ã€‚
- en: While Streamlit is a great prototyping tool to quickly deploy models, it will
    probably not power high-traffic, full-fledged data applications. You should think
    of it as a way to add interactivity to your models and share your data science
    work with others.
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: å°½ç®¡Streamlitæ˜¯ä¸€ä¸ªå¾ˆå¥½çš„åŸå‹å·¥å…·ï¼Œå¯ä»¥å¿«é€Ÿéƒ¨ç½²æ¨¡å‹ï¼Œä½†å®ƒå¯èƒ½æ— æ³•æ”¯æŒé«˜æµé‡çš„å…¨é¢æ•°æ®åº”ç”¨ç¨‹åºã€‚ä½ åº”è¯¥å°†å…¶è§†ä¸ºä¸ºæ¨¡å‹æ·»åŠ äº’åŠ¨æ€§å¹¶ä¸ä»–äººåˆ†äº«æ•°æ®ç§‘å­¦å·¥ä½œçš„æ–¹å¼ã€‚
- en: In this article, we will go through the portion of deploying a time series model
    using Streamlit. The full project is a multi-page application where we can both
    explore and forecast the data, but for this article, we focus only on the forecasting
    functionality.
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬å°†æ¢è®¨ä½¿ç”¨Streamlitéƒ¨ç½²æ—¶é—´åºåˆ—æ¨¡å‹çš„éƒ¨åˆ†å†…å®¹ã€‚å®Œæ•´é¡¹ç›®æ˜¯ä¸€ä¸ªå¤šé¡µé¢åº”ç”¨ç¨‹åºï¼Œæˆ‘ä»¬å¯ä»¥åœ¨å…¶ä¸­æ¢ç´¢å’Œé¢„æµ‹æ•°æ®ï¼Œä½†åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬åªå…³æ³¨é¢„æµ‹åŠŸèƒ½ã€‚
- en: You can visit the [finished application](https://marcopeix-streamlit-population-canada-main-4rr347.streamlit.app/)
    and play around with it. Also, the full source code is available on [GitHub](https://github.com/marcopeix/streamlit-population-canada).
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: ä½ å¯ä»¥è®¿é—®[å®Œæˆçš„åº”ç”¨ç¨‹åº](https://marcopeix-streamlit-population-canada-main-4rr347.streamlit.app/)å¹¶è¯•ç”¨å®ƒã€‚æ­¤å¤–ï¼Œå®Œæ•´çš„æºä»£ç å¯åœ¨[GitHub](https://github.com/marcopeix/streamlit-population-canada)ä¸Šè·å–ã€‚
- en: '**Learn the latest time series analysis techniques with my** [**free time series
    cheat sheet**](https://www.datasciencewithmarco.com/pl/2147608294) **in Python!
    Get the implementation of statistical and deep learning techniques, all in Python
    and TensorFlow!**'
  id: totrans-14
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '**é€šè¿‡æˆ‘çš„** [**å…è´¹æ—¶é—´åºåˆ—å¤‡å¿˜å•**](https://www.datasciencewithmarco.com/pl/2147608294)
    **åœ¨Pythonä¸­å­¦ä¹ æœ€æ–°çš„æ—¶é—´åºåˆ—åˆ†ææŠ€æœ¯ï¼è·å–ç»Ÿè®¡å’Œæ·±åº¦å­¦ä¹ æŠ€æœ¯çš„å®ç°ï¼Œå…¨éƒ¨ä½¿ç”¨Pythonå’ŒTensorFlowï¼**'
- en: Letâ€™s get started!
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: è®©æˆ‘ä»¬å¼€å§‹å§ï¼
- en: Objective
  id: totrans-16
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: ç›®æ ‡
- en: The objective of this application is to forecast the quarterly population in
    Canada. The dataset is taken from Statistics Canada, and spans Q3 of 1991 to Q1
    of 2023\. The original data can be found [here](https://www150.statcan.gc.ca/t1/tbl1/en/cv.action?pid=1710000901).
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: è¯¥åº”ç”¨ç¨‹åºçš„ç›®æ ‡æ˜¯é¢„æµ‹åŠ æ‹¿å¤§å­£åº¦äººå£ã€‚æ•°æ®é›†å–è‡ªåŠ æ‹¿å¤§ç»Ÿè®¡å±€ï¼Œæ¶µç›–äº†1991å¹´ç¬¬ä¸‰å­£åº¦åˆ°2023å¹´ç¬¬ä¸€å­£åº¦ã€‚åŸå§‹æ•°æ®å¯ä»¥åœ¨[è¿™é‡Œ](https://www150.statcan.gc.ca/t1/tbl1/en/cv.action?pid=1710000901)æ‰¾åˆ°ã€‚
- en: Below is a sample of the dataset.
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: ä»¥ä¸‹æ˜¯æ•°æ®é›†çš„ä¸€ä¸ªæ ·æœ¬ã€‚
- en: '![](../Images/70810e8af538acae05a808a43e422385.png)'
  id: totrans-19
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/70810e8af538acae05a808a43e422385.png)'
- en: Sample of the dataset used in the application. For each location, we have the
    quarterly population estimate. Image by the author.
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: åº”ç”¨ç¨‹åºä¸­ä½¿ç”¨çš„æ•°æ®é›†æ ·æœ¬ã€‚å¯¹äºæ¯ä¸ªä½ç½®ï¼Œæˆ‘ä»¬æœ‰å­£åº¦äººå£ä¼°ç®—ã€‚å›¾åƒç”±ä½œè€…æä¾›ã€‚
- en: With this dataset, we have information on the population of the entire country,
    but also for each province and territory. This means that we can choose between
    multiple targets, which we must keep in mind when building the application.
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: ä½¿ç”¨è¿™ä¸ªæ•°æ®é›†ï¼Œæˆ‘ä»¬å¯ä»¥è·å–æ•´ä¸ªå›½å®¶çš„æ€»äººå£ä¿¡æ¯ï¼Œä¹Ÿå¯ä»¥è·å–æ¯ä¸ªçœä»½å’Œåœ°åŒºçš„äººå£ä¿¡æ¯ã€‚è¿™æ„å‘³ç€æˆ‘ä»¬å¯ä»¥åœ¨å¤šä¸ªç›®æ ‡ä¹‹é—´è¿›è¡Œé€‰æ‹©ï¼Œåœ¨æ„å»ºåº”ç”¨ç¨‹åºæ—¶å¿…é¡»ç‰¢è®°è¿™ä¸€ç‚¹ã€‚
- en: Project structure
  id: totrans-22
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: é¡¹ç›®ç»“æ„
- en: Since we are building an application that will deployed into production, the
    structure of the project matters greatly. Below is the structure that we use for
    this project.
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: ç”±äºæˆ‘ä»¬æ­£åœ¨æ„å»ºä¸€ä¸ªå°†éƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒçš„åº”ç”¨ç¨‹åºï¼Œå› æ­¤é¡¹ç›®çš„ç»“æ„éå¸¸é‡è¦ã€‚ä»¥ä¸‹æ˜¯æˆ‘ä»¬ä¸ºæ­¤é¡¹ç›®ä½¿ç”¨çš„ç»“æ„ã€‚
- en: '[PRE0]'
  id: totrans-24
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: In our project folder, we have a data folder that contains the CSV file with
    the quarterly population estimates. Note that we will read the data from the GitHub
    URL, to avoid dealing with relative and absolute file paths.
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨æˆ‘ä»¬çš„é¡¹ç›®æ–‡ä»¶å¤¹ä¸­ï¼Œæˆ‘ä»¬æœ‰ä¸€ä¸ªæ•°æ®æ–‡ä»¶å¤¹ï¼Œå…¶ä¸­åŒ…å«åŒ…å«å­£åº¦äººå£ä¼°ç®—çš„CSVæ–‡ä»¶ã€‚è¯·æ³¨æ„ï¼Œæˆ‘ä»¬å°†ä»GitHub URLè¯»å–æ•°æ®ï¼Œä»¥é¿å…å¤„ç†ç›¸å¯¹å’Œç»å¯¹æ–‡ä»¶è·¯å¾„çš„é—®é¢˜ã€‚
- en: Then, because we are building a multi-page application, we have a `pages` folder
    that will contain the script to build the interface and output the forecast, which
    is `forecast.py`.
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: ç„¶åï¼Œå› ä¸ºæˆ‘ä»¬æ­£åœ¨æ„å»ºä¸€ä¸ªå¤šé¡µé¢åº”ç”¨ç¨‹åºï¼Œæˆ‘ä»¬æœ‰ä¸€ä¸ª`pages`æ–‡ä»¶å¤¹ï¼Œå…¶ä¸­åŒ…å«æ„å»ºç•Œé¢å’Œè¾“å‡ºé¢„æµ‹çš„è„šæœ¬ï¼Œå³`forecast.py`ã€‚
- en: The main entry point to the application is controlled by the file `main.py`,
    but we will not cover it as it is not related to forecasting.
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: åº”ç”¨ç¨‹åºçš„ä¸»è¦å…¥å£ç‚¹ç”±æ–‡ä»¶`main.py`æ§åˆ¶ï¼Œä½†æˆ‘ä»¬ä¸ä¼šæ¶‰åŠå®ƒï¼Œå› ä¸ºå®ƒä¸é¢„æµ‹æ— å…³ã€‚
- en: Finally, the file `requirements.txt` lists all the dependencies of the application
    to work properly.
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: æœ€ç»ˆï¼Œæ–‡ä»¶`requirements.txt`åˆ—å‡ºäº†åº”ç”¨ç¨‹åºæ­£å¸¸è¿è¡Œæ‰€éœ€çš„æ‰€æœ‰ä¾èµ–é¡¹ã€‚
- en: Application diagram
  id: totrans-29
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: åº”ç”¨ç¨‹åºå›¾
- en: Before we dive into the code, we must first determine how the application will
    work at a high-level to understand where each functionality comes into play.
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨æ·±å…¥ä»£ç ä¹‹å‰ï¼Œæˆ‘ä»¬å¿…é¡»é¦–å…ˆç¡®å®šåº”ç”¨ç¨‹åºçš„é«˜å±‚æ¬¡å·¥ä½œæ–¹å¼ï¼Œä»¥äº†è§£æ¯ä¸ªåŠŸèƒ½çš„ä½œç”¨ã€‚
- en: '![](../Images/1cf19fa265ad7d24358115777189f097.png)'
  id: totrans-31
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/1cf19fa265ad7d24358115777189f097.png)'
- en: Application diagram. Image by the author.
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: åº”ç”¨ç¨‹åºå›¾ã€‚å›¾åƒç”±ä½œè€…æä¾›ã€‚
- en: From the figure above, we see that the data has to be read and made available
    in the script.
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: ä»ä¸Šå›¾ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°æ•°æ®éœ€è¦è¢«è¯»å–å¹¶åœ¨è„šæœ¬ä¸­æä¾›ã€‚
- en: Then, we add an option for the user to select a target and a horizon. We send
    that information to a function that will test different models and generate predictions
    using the best model only.
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: ç„¶åï¼Œæˆ‘ä»¬æ·»åŠ äº†ä¸€ä¸ªé€‰é¡¹ï¼Œä¾›ç”¨æˆ·é€‰æ‹©ç›®æ ‡å’Œæ—¶é—´èŒƒå›´ã€‚æˆ‘ä»¬å°†è¿™äº›ä¿¡æ¯å‘é€åˆ°ä¸€ä¸ªå‡½æ•°ï¼Œè¯¥å‡½æ•°å°†æµ‹è¯•ä¸åŒçš„æ¨¡å‹ï¼Œå¹¶ä»…ä½¿ç”¨æœ€ä½³æ¨¡å‹ç”Ÿæˆé¢„æµ‹ã€‚
- en: Then, the predictions are returned so that we can plot the forecast. Also, we
    return the evaluation metric, so that we can visualize it and identify what model
    was used.
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: ç„¶åï¼Œè¿”å›é¢„æµ‹ç»“æœï¼Œä»¥ä¾¿æˆ‘ä»¬å¯ä»¥ç»˜åˆ¶é¢„æµ‹å›¾ã€‚åŒæ—¶ï¼Œæˆ‘ä»¬è¿”å›è¯„ä¼°æŒ‡æ ‡ï¼Œä»¥ä¾¿æˆ‘ä»¬å¯ä»¥å¯è§†åŒ–å®ƒå¹¶ç¡®å®šä½¿ç”¨äº†å“ªä¸ªæ¨¡å‹ã€‚
- en: With the right project structure and an overall idea of what to build, we can
    now dive into the code and start building out our application.
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨æœ‰äº†æ­£ç¡®çš„é¡¹ç›®ç»“æ„å’Œæ•´ä½“æ„å»ºæ€è·¯ä¹‹åï¼Œæˆ‘ä»¬ç°åœ¨å¯ä»¥æ·±å…¥ä»£ç ï¼Œå¼€å§‹æ„å»ºæˆ‘ä»¬çš„åº”ç”¨ç¨‹åºã€‚
- en: Read the data
  id: totrans-37
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: è¯»å–æ•°æ®
- en: The first natural step is of course to read the data. Now, because this is part
    of a multi-page application we actually read the data in `main.py` and make it
    available in `pages/forecast.py`.
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: ç¬¬ä¸€æ­¥è‡ªç„¶æ˜¯è¯»å–æ•°æ®ã€‚ç°åœ¨ï¼Œç”±äºè¿™æ˜¯å¤šé¡µé¢åº”ç”¨ç¨‹åºçš„ä¸€éƒ¨åˆ†ï¼Œæˆ‘ä»¬å®é™…ä¸Šåœ¨`main.py`ä¸­è¯»å–æ•°æ®ï¼Œå¹¶åœ¨`pages/forecast.py`ä¸­æä¾›æ•°æ®ã€‚
- en: We start off by defining a function that will read the data. Notice how we read
    from a URL, which avoids having problems with file paths when deploying our application.
    For now, this is all standard code of how we would read a data in a notebook.
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬é¦–å…ˆå®šä¹‰ä¸€ä¸ªè¯»å–æ•°æ®çš„å‡½æ•°ã€‚æ³¨æ„æˆ‘ä»¬ä»URLè¯»å–ï¼Œè¿™æ ·åœ¨éƒ¨ç½²åº”ç”¨ç¨‹åºæ—¶å¯ä»¥é¿å…æ–‡ä»¶è·¯å¾„çš„é—®é¢˜ã€‚ç°åœ¨ï¼Œè¿™åªæ˜¯æ ‡å‡†ä»£ç ï¼Œç”¨äºåœ¨ç¬”è®°æœ¬ä¸­è¯»å–æ•°æ®ã€‚
- en: '[PRE1]'
  id: totrans-40
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: Notice also the use of the decorator `@st.cache_data`. This tells Streamlit
    to cache the result of this function if the parameters do not change. That way,
    we do not have to rerun the function every time the user changes an input. This
    makes the application run much faster.
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: åŒæ—¶æ³¨æ„è£…é¥°å™¨`@st.cache_data`çš„ä½¿ç”¨ã€‚å®ƒå‘Šè¯‰Streamlitå¦‚æœå‚æ•°ä¸å˜å°±ç¼“å­˜æ­¤å‡½æ•°çš„ç»“æœã€‚è¿™æ ·ï¼Œç”¨æˆ·æ¯æ¬¡æ›´æ”¹è¾“å…¥æ—¶ï¼Œæˆ‘ä»¬å°±ä¸å¿…é‡æ–°è¿è¡Œå‡½æ•°ã€‚è¿™ä½¿å¾—åº”ç”¨ç¨‹åºè¿è¡Œå¾—æ›´å¿«ã€‚
- en: Then, we store the data in the session state. This is a way to store and persist
    data across multiple pages in Streamlit. That way, we can read the data in `main.py`
    and have access to it in `pages/forecast.py`.
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: ç„¶åï¼Œæˆ‘ä»¬å°†æ•°æ®å­˜å‚¨åœ¨ä¼šè¯çŠ¶æ€ä¸­ã€‚è¿™æ˜¯ä¸€ç§åœ¨Streamlitçš„å¤šä¸ªé¡µé¢ä¹‹é—´å­˜å‚¨å’ŒæŒä¹…åŒ–æ•°æ®çš„æ–¹æ³•ã€‚è¿™æ ·ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨`main.py`ä¸­è¯»å–æ•°æ®ï¼Œå¹¶åœ¨`pages/forecast.py`ä¸­è®¿é—®è¿™äº›æ•°æ®ã€‚
- en: '[PRE2]'
  id: totrans-43
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: It essentially works as a dictionary in which we can store important values
    that we want to access from different pages.
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: å®ƒæœ¬è´¨ä¸Šå……å½“ä¸€ä¸ªå­—å…¸ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨å…¶ä¸­å­˜å‚¨æˆ‘ä»¬å¸Œæœ›ä»ä¸åŒé¡µé¢è®¿é—®çš„é‡è¦å€¼ã€‚
- en: That way, in `pages/forecast.py`we can then access the data with
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™æ ·ï¼Œåœ¨`pages/forecast.py`ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡
- en: '[PRE3]'
  id: totrans-46
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: Even though we are in another file, we do not have to repeat the function to
    read the data, we can simply access it through the session state.
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: å³ä½¿æˆ‘ä»¬åœ¨å¦ä¸€ä¸ªæ–‡ä»¶ä¸­ï¼Œæˆ‘ä»¬ä¹Ÿä¸å¿…é‡å¤è¯»å–æ•°æ®çš„å‡½æ•°ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ä¼šè¯çŠ¶æ€ç›´æ¥è®¿é—®å®ƒã€‚
- en: Build the interface
  id: totrans-48
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: æ„å»ºç•Œé¢
- en: Now that we have access to our data, letâ€™s build out the interface to allow
    the user to select a target and a forecast horizon.
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: ç°åœ¨æˆ‘ä»¬å¯ä»¥è®¿é—®æ•°æ®äº†ï¼Œè®©æˆ‘ä»¬æ„å»ºç•Œé¢ä»¥å…è®¸ç”¨æˆ·é€‰æ‹©ç›®æ ‡å’Œé¢„æµ‹æœŸã€‚
- en: First, letâ€™s allow the user to select a target. In our dataset, the target corresponds
    to a location, whether it is the entire country, a province or a territory. If
    you recall the dataset sample shown above, the list of possible targets is simply
    the name of the columns in the dataset.
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: é¦–å…ˆï¼Œè®©æˆ‘ä»¬å…è®¸ç”¨æˆ·é€‰æ‹©ä¸€ä¸ªç›®æ ‡ã€‚åœ¨æˆ‘ä»¬çš„æ•°æ®é›†ä¸­ï¼Œç›®æ ‡å¯¹åº”äºä¸€ä¸ªä½ç½®ï¼Œæ— è®ºæ˜¯æ•´ä¸ªå›½å®¶ã€çœä»½è¿˜æ˜¯åœ°åŒºã€‚å¦‚æœä½ è¿˜è®°å¾—ä¸Šé¢æ˜¾ç¤ºçš„æ•°æ®é›†ç¤ºä¾‹ï¼Œå¯èƒ½çš„ç›®æ ‡åˆ—è¡¨å°±æ˜¯æ•°æ®é›†ä¸­çš„åˆ—åã€‚
- en: So, letâ€™s create 2 columns, so the user can select the target and the horizon
    on the same line.
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: æ‰€ä»¥ï¼Œè®©æˆ‘ä»¬åˆ›å»ºä¸¤ä¸ªåˆ—ï¼Œä»¥ä¾¿ç”¨æˆ·å¯ä»¥åœ¨åŒä¸€è¡Œä¸Šé€‰æ‹©ç›®æ ‡å’Œé¢„æµ‹æœŸã€‚
- en: '[PRE4]'
  id: totrans-52
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: Then, in the first column, we will create a dropdown list that has all the possible
    targets in the dataset.
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: ç„¶åï¼Œåœ¨ç¬¬ä¸€ä¸ªåˆ—ä¸­ï¼Œæˆ‘ä»¬å°†åˆ›å»ºä¸€ä¸ªä¸‹æ‹‰åˆ—è¡¨ï¼Œå…¶ä¸­åŒ…å«æ•°æ®é›†ä¸­æ‰€æœ‰å¯èƒ½çš„ç›®æ ‡ã€‚
- en: '[PRE5]'
  id: totrans-54
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: In the code block above, the first parameter is a label for the input, and then
    we pass the list of possible values. By default, the first value of the list will
    be selected.
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨ä¸Šé¢çš„ä»£ç å—ä¸­ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯è¾“å…¥çš„æ ‡ç­¾ï¼Œç„¶åæˆ‘ä»¬ä¼ é€’å¯èƒ½å€¼çš„åˆ—è¡¨ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œåˆ—è¡¨ä¸­çš„ç¬¬ä¸€ä¸ªå€¼å°†è¢«é€‰ä¸­ã€‚
- en: Then, to set the forecast horizon, letâ€™s use a slider. Here, I will restrict
    the horizon from 1 to 16 quarters into the future, but feel free to play around
    with those numbers.
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: ç„¶åï¼Œä¸ºäº†è®¾ç½®é¢„æµ‹æœŸï¼Œè®©æˆ‘ä»¬ä½¿ç”¨æ»‘å—ã€‚åœ¨è¿™é‡Œï¼Œæˆ‘å°†é¢„æµ‹æœŸé™åˆ¶åœ¨æœªæ¥1åˆ°16ä¸ªå­£åº¦ä¹‹é—´ï¼Œä½†ä½ å¯ä»¥éšæ„è°ƒæ•´è¿™äº›æ•°å­—ã€‚
- en: '[PRE6]'
  id: totrans-57
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: 'As you can see, the code above is pretty self-explanatory: we pass in a label
    for the input element, specify the minimum value, the maximum value, the default
    value, and of course the increment step.'
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: å¦‚ä½ æ‰€è§ï¼Œä¸Šé¢çš„ä»£ç éå¸¸ç›´è§‚ï¼šæˆ‘ä»¬ä¼ å…¥è¾“å…¥å…ƒç´ çš„æ ‡ç­¾ï¼ŒæŒ‡å®šæœ€å°å€¼ã€æœ€å¤§å€¼ã€é»˜è®¤å€¼ï¼Œä»¥åŠå¢é‡æ­¥éª¤ã€‚
- en: 'At this point, the interface looks like this:'
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: ç›®å‰ï¼Œç•Œé¢çœ‹èµ·æ¥æ˜¯è¿™æ ·çš„ï¼š
- en: '![](../Images/aa22b4acfb8795612313838fb2e8b8e6.png)'
  id: totrans-60
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/aa22b4acfb8795612313838fb2e8b8e6.png)'
- en: Application interface up until now. Image by the author.
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: è¿„ä»Šä¸ºæ­¢çš„åº”ç”¨ç¨‹åºç•Œé¢ã€‚å›¾ç‰‡ç”±ä½œè€…æä¾›ã€‚
- en: Great!
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: å¾ˆæ£’ï¼
- en: Now, letâ€™s add a button so that we only run the function to return the predictions
    once the user has set both the target and the horizon. Otherwise, Streamlit runs
    the entire script as soon as a change is registered.
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: ç°åœ¨ï¼Œè®©æˆ‘ä»¬æ·»åŠ ä¸€ä¸ªæŒ‰é’®ï¼Œè¿™æ ·åªæœ‰å½“ç”¨æˆ·è®¾ç½®äº†ç›®æ ‡å’Œé¢„æµ‹æœŸåï¼Œæˆ‘ä»¬æ‰è¿è¡Œå‡½æ•°ä»¥è¿”å›é¢„æµ‹ç»“æœã€‚å¦åˆ™ï¼ŒStreamlitä¼šåœ¨æ¯æ¬¡æ£€æµ‹åˆ°å˜åŒ–æ—¶è¿è¡Œæ•´ä¸ªè„šæœ¬ã€‚
- en: '[PRE7]'
  id: totrans-64
  prefs: []
  type: TYPE_PRE
  zh: '[PRE7]'
- en: 'And we get this:'
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: ç„¶åæˆ‘ä»¬å¾—åˆ°è¿™ä¸ªï¼š
- en: '![](../Images/7a518fec3ff9f314b7173c642113718b.png)'
  id: totrans-66
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/7a518fec3ff9f314b7173c642113718b.png)'
- en: Same as before, but with a button. Image by the author.
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: å’Œä»¥å‰ä¸€æ ·ï¼Œä¸è¿‡æ·»åŠ äº†ä¸€ä¸ªæŒ‰é’®ã€‚å›¾ç‰‡ç”±ä½œè€…æä¾›ã€‚
- en: Alright, the interface is in place, now letâ€™s code the logic to select the best
    model and generate predictions.
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: å¥½äº†ï¼Œç•Œé¢å·²ç»å®Œæˆï¼Œç°åœ¨è®©æˆ‘ä»¬ç¼–å†™é€»è¾‘æ¥é€‰æ‹©æœ€ä½³æ¨¡å‹å¹¶ç”Ÿæˆé¢„æµ‹ç»“æœã€‚
- en: Generate predictions
  id: totrans-69
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: ç”Ÿæˆé¢„æµ‹
- en: Once the user has set the target and horizon, we want to test different models
    so that we get the best forecasts possible according to the target and horizon.
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸€æ—¦ç”¨æˆ·è®¾ç½®äº†ç›®æ ‡å’Œé¢„æµ‹æœŸï¼Œæˆ‘ä»¬å¸Œæœ›æµ‹è¯•ä¸åŒçš„æ¨¡å‹ï¼Œä»¥ä¾¿æ ¹æ®ç›®æ ‡å’Œé¢„æµ‹æœŸè·å¾—æœ€ä½³çš„é¢„æµ‹ç»“æœã€‚
- en: Then, it would be useful to plot the predictions and also display the evaluation
    metrics that justify the choice of the model. This is what we implement in this
    section.
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: ç„¶åï¼Œç»˜åˆ¶é¢„æµ‹ç»“æœå¹¶æ˜¾ç¤ºè¯„ä¼°æŒ‡æ ‡ä»¥è¯æ˜æ¨¡å‹é€‰æ‹©æ˜¯æœ‰ç”¨çš„ã€‚è¿™æ˜¯æˆ‘ä»¬åœ¨æœ¬èŠ‚ä¸­å®ç°çš„åŠŸèƒ½ã€‚
- en: Procedure for model selection
  id: totrans-72
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: æ¨¡å‹é€‰æ‹©è¿‡ç¨‹
- en: 'For this application, we will test three different models:'
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: å¯¹äºè¿™ä¸ªåº”ç”¨ç¨‹åºï¼Œæˆ‘ä»¬å°†æµ‹è¯•ä¸‰ç§ä¸åŒçš„æ¨¡å‹ï¼š
- en: '[Autoregressive model](https://www.datasciencewithmarco.com/blog/time-series-forecasting-with-autoregressive-processes)'
  id: totrans-74
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[è‡ªå›å½’æ¨¡å‹](https://www.datasciencewithmarco.com/blog/time-series-forecasting-with-autoregressive-processes)'
- en: '[Double exponential smoothing](/the-complete-guide-to-time-series-analysis-and-forecasting-70d476bfe775)'
  id: totrans-75
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[åŒé‡æŒ‡æ•°å¹³æ»‘](/the-complete-guide-to-time-series-analysis-and-forecasting-70d476bfe775)'
- en: '[Theta model](https://www.datasciencewithmarco.com/blog/theta-model-for-time-series-forecasting)'
  id: totrans-76
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[Theta æ¨¡å‹](https://www.datasciencewithmarco.com/blog/theta-model-for-time-series-forecasting)'
- en: Detailing each model would be too long, so I have linked to other articles if
    you would like to explore each one of them in detail.
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
  zh: è¯¦ç»†ä»‹ç»æ¯ä¸ªæ¨¡å‹ä¼šå¤ªé•¿ï¼Œå› æ­¤å¦‚æœæ‚¨æƒ³è¯¦ç»†äº†è§£æ¯ä¸ªæ¨¡å‹ï¼Œæˆ‘å·²é“¾æ¥åˆ°å…¶ä»–æ–‡ç« ã€‚
- en: Now, for each model, we will train it on a training set and evaluate it on a
    test set. The test set will contain the last 32 timesteps of the data, and the
    rest will be for training.
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: ç°åœ¨ï¼Œå¯¹äºæ¯ä¸ªæ¨¡å‹ï¼Œæˆ‘ä»¬å°†åœ¨è®­ç»ƒé›†ä¸Šè®­ç»ƒå®ƒï¼Œå¹¶åœ¨æµ‹è¯•é›†ä¸Šè¿›è¡Œè¯„ä¼°ã€‚æµ‹è¯•é›†å°†åŒ…å«æ•°æ®çš„æœ€å 32 ä¸ªæ—¶é—´æ­¥é•¿ï¼Œå…¶ä½™éƒ¨åˆ†å°†ç”¨äºè®­ç»ƒã€‚
- en: Also, we will make rolling predictions, such as to simulate the process of updating
    the model with new data and making new predictions. This means that if the horizon
    is set to 2 timesteps, then the model will forecast 2 future timesteps at a time,
    until it has predicted the entire test set, as shown below.
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
  zh: æ­¤å¤–ï¼Œæˆ‘ä»¬å°†è¿›è¡Œæ»šåŠ¨é¢„æµ‹ï¼Œä¾‹å¦‚æ¨¡æ‹Ÿä½¿ç”¨æ–°æ•°æ®æ›´æ–°æ¨¡å‹å¹¶è¿›è¡Œæ–°é¢„æµ‹çš„è¿‡ç¨‹ã€‚è¿™æ„å‘³ç€å¦‚æœæ—¶é—´èŒƒå›´è®¾ç½®ä¸º 2 ä¸ªæ—¶é—´æ­¥é•¿ï¼Œé‚£ä¹ˆæ¨¡å‹å°†ä¸€æ¬¡é¢„æµ‹ 2 ä¸ªæœªæ¥æ—¶é—´æ­¥é•¿ï¼Œç›´åˆ°é¢„æµ‹å®Œæ‰€æœ‰æµ‹è¯•é›†ï¼Œå¦‚ä¸‹æ‰€ç¤ºã€‚
- en: '![](../Images/d687c88ae4bd1e3ec07f2d1da57dc83d.png)'
  id: totrans-80
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/d687c88ae4bd1e3ec07f2d1da57dc83d.png)'
- en: Visualizing rolling forecasts. The model is trained on an initial training set
    and makes predictions. Then, the training is updated and the model makes another
    of set predictions until the entire test set is covered. Image by the author.
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: å¯è§†åŒ–æ»šåŠ¨é¢„æµ‹ã€‚æ¨¡å‹åœ¨åˆå§‹è®­ç»ƒé›†ä¸Šè¿›è¡Œè®­ç»ƒå¹¶è¿›è¡Œé¢„æµ‹ã€‚ç„¶åï¼Œæ›´æ–°è®­ç»ƒé›†ï¼Œæ¨¡å‹è¿›è¡Œå¦ä¸€ç»„é¢„æµ‹ï¼Œç›´åˆ°è¦†ç›–æ•´ä¸ªæµ‹è¯•é›†ã€‚å›¾ç‰‡ç”±ä½œè€…æä¾›ã€‚
- en: All of this logic is translated into the code block below.
  id: totrans-82
  prefs: []
  type: TYPE_NORMAL
  zh: æ‰€æœ‰è¿™äº›é€»è¾‘éƒ½è½¬åŒ–ä¸ºä¸‹é¢çš„ä»£ç å—ã€‚
- en: '[PRE8]'
  id: totrans-83
  prefs: []
  type: TYPE_PRE
  zh: '[PRE8]'
- en: In the code block above, we simply take each model, train it on the initial
    training set, and complete the loop by updating the training set and making predictions
    until we have predictions for the entire test set.
  id: totrans-84
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨ä¸Šé¢çš„ä»£ç å—ä¸­ï¼Œæˆ‘ä»¬ç®€å•åœ°å¯¹æ¯ä¸ªæ¨¡å‹è¿›è¡Œè®­ç»ƒï¼Œä½¿ç”¨åˆå§‹è®­ç»ƒé›†ï¼Œå¹¶é€šè¿‡æ›´æ–°è®­ç»ƒé›†å¹¶è¿›è¡Œé¢„æµ‹ï¼Œç›´åˆ°æˆ‘ä»¬å¯¹æ•´ä¸ªæµ‹è¯•é›†æœ‰é¢„æµ‹ç»“æœã€‚
- en: Evaluation metric
  id: totrans-85
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: è¯„ä¼°æŒ‡æ ‡
- en: 'To select the best model, we use the symmetric mean absolute percentage error
    or sMAPE. The reason for that is that the MAPE tends to favor models that *under-forecast*.
    The sMAPE fixes that problem and is defined as:'
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸ºäº†é€‰æ‹©æœ€ä½³æ¨¡å‹ï¼Œæˆ‘ä»¬ä½¿ç”¨å¯¹ç§°å¹³å‡ç»å¯¹ç™¾åˆ†æ¯”è¯¯å·®æˆ– sMAPEã€‚åŸå› æ˜¯ MAPE å€¾å‘äºåå‘ *ä½ä¼°* çš„æ¨¡å‹ã€‚sMAPE ä¿®å¤äº†è¿™ä¸ªé—®é¢˜ï¼Œå…¶å®šä¹‰ä¸ºï¼š
- en: '![](../Images/26ad5e44c6937dc76a6f0ff215f170fe.png)'
  id: totrans-87
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/26ad5e44c6937dc76a6f0ff215f170fe.png)'
- en: Formula for the sMAPE. Image by the author.
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: sMAPE çš„å…¬å¼ã€‚å›¾ç‰‡ç”±ä½œè€…æä¾›ã€‚
- en: 'So, letâ€™s define a function to calculate the sMAPE:'
  id: totrans-89
  prefs: []
  type: TYPE_NORMAL
  zh: å› æ­¤ï¼Œè®©æˆ‘ä»¬å®šä¹‰ä¸€ä¸ªè®¡ç®— sMAPE çš„å‡½æ•°ï¼š
- en: '[PRE9]'
  id: totrans-90
  prefs: []
  type: TYPE_PRE
  zh: '[PRE9]'
- en: Select the best model
  id: totrans-91
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: é€‰æ‹©æœ€ä½³æ¨¡å‹
- en: Letâ€™s get started on the function that will run the model selection procedure.
    It takes in the dataset, the target and horizon, and we start off by defining
    the training and test sets.
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: è®©æˆ‘ä»¬å¼€å§‹ç¼–å†™è¿è¡Œæ¨¡å‹é€‰æ‹©è¿‡ç¨‹çš„å‡½æ•°ã€‚å®ƒæ¥å—æ•°æ®é›†ã€ç›®æ ‡å’Œæ—¶é—´èŒƒå›´ï¼Œæˆ‘ä»¬é¦–å…ˆå®šä¹‰è®­ç»ƒé›†å’Œæµ‹è¯•é›†ã€‚
- en: '[PRE10]'
  id: totrans-93
  prefs: []
  type: TYPE_PRE
  zh: '[PRE10]'
- en: Then, we use our `rolling_predictions` function to generate the predictions
    over the test set.
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: æ¥ç€ï¼Œæˆ‘ä»¬ä½¿ç”¨æˆ‘ä»¬çš„ `rolling_predictions` å‡½æ•°åœ¨æµ‹è¯•é›†ä¸Šç”Ÿæˆé¢„æµ‹ã€‚
- en: '[PRE11]'
  id: totrans-95
  prefs: []
  type: TYPE_PRE
  zh: '[PRE11]'
- en: Now that we have all the predictions for the entire test set, we can evaluate
    each model using the sMAPE.
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
  zh: ç°åœ¨ï¼Œæˆ‘ä»¬å·²ç»æ‹¥æœ‰æ•´ä¸ªæµ‹è¯•é›†çš„æ‰€æœ‰é¢„æµ‹ç»“æœï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ sMAPE æ¥è¯„ä¼°æ¯ä¸ªæ¨¡å‹ã€‚
- en: '[PRE12]'
  id: totrans-97
  prefs: []
  type: TYPE_PRE
  zh: '[PRE12]'
- en: Then, the best model is simply the one that achieves the lowest sMAPE.
  id: totrans-98
  prefs: []
  type: TYPE_NORMAL
  zh: ç„¶åï¼Œæœ€ä½³æ¨¡å‹å°±æ˜¯è·å¾—æœ€ä½ sMAPE çš„æ¨¡å‹ã€‚
- en: '[PRE13]'
  id: totrans-99
  prefs: []
  type: TYPE_PRE
  zh: '[PRE13]'
- en: Then, we can simply use the best model to get the predictions.
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
  zh: ç„¶åï¼Œæˆ‘ä»¬å¯ä»¥ç®€å•åœ°ä½¿ç”¨æœ€ä½³æ¨¡å‹æ¥è·å–é¢„æµ‹ç»“æœã€‚
- en: Make predictions
  id: totrans-101
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: è¿›è¡Œé¢„æµ‹
- en: Depending on which model achieved the lowest sMAPE, we will train it on the
    entire dataset to generate out-of-sample predictions and actually predict the
    future.
  id: totrans-102
  prefs: []
  type: TYPE_NORMAL
  zh: æ ¹æ®å“ªä¸ªæ¨¡å‹è·å¾—äº†æœ€ä½çš„ sMAPEï¼Œæˆ‘ä»¬å°†å¯¹å…¶è¿›è¡Œå…¨é¢æ•°æ®é›†è®­ç»ƒï¼Œä»¥ç”Ÿæˆæ ·æœ¬å¤–é¢„æµ‹å¹¶å®é™…é¢„æµ‹æœªæ¥ã€‚
- en: This can be done with simple if statements.
  id: totrans-103
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™å¯ä»¥é€šè¿‡ç®€å•çš„ if è¯­å¥å®Œæˆã€‚
- en: '[PRE14]'
  id: totrans-104
  prefs: []
  type: TYPE_PRE
  zh: '[PRE14]'
- en: Then, our `test_and_predict` function will return the predictions and the sMAPE
    for each model. That way, we can visualize both the predictions and the evaluation
    metric for each model.
  id: totrans-105
  prefs: []
  type: TYPE_NORMAL
  zh: ç„¶åï¼Œæˆ‘ä»¬çš„ `test_and_predict` å‡½æ•°å°†è¿”å›æ¯ä¸ªæ¨¡å‹çš„é¢„æµ‹ç»“æœå’Œ sMAPEã€‚è¿™æ ·ï¼Œæˆ‘ä»¬å¯ä»¥å¯è§†åŒ–æ¯ä¸ªæ¨¡å‹çš„é¢„æµ‹å’Œè¯„ä¼°æŒ‡æ ‡ã€‚
- en: The full function is shown below.
  id: totrans-106
  prefs: []
  type: TYPE_NORMAL
  zh: å®Œæ•´çš„å‡½æ•°å¦‚ä¸‹æ‰€ç¤ºã€‚
- en: '[PRE15]'
  id: totrans-107
  prefs: []
  type: TYPE_PRE
  zh: '[PRE15]'
- en: Get predictions when the button is clicked
  id: totrans-108
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: ç‚¹å‡»æŒ‰é’®æ—¶è·å–é¢„æµ‹
- en: We have the interface and we have all the logic to test and generate predictions.
    Now, we only have to connect them.
  id: totrans-109
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬å·²ç»æœ‰äº†ç•Œé¢ï¼Œå¹¶ä¸”æœ‰äº†æµ‹è¯•å’Œç”Ÿæˆé¢„æµ‹çš„æ‰€æœ‰é€»è¾‘ã€‚ç°åœ¨ï¼Œæˆ‘ä»¬åªéœ€è¦å°†å®ƒä»¬è¿æ¥èµ·æ¥ã€‚
- en: We can detect if the button was clicked with an if statement, as Streamlit return
    `True` when the button is clicked.
  id: totrans-110
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬å¯ä»¥é€šè¿‡ if è¯­å¥æ£€æµ‹æŒ‰é’®æ˜¯å¦è¢«ç‚¹å‡»ï¼Œå› ä¸º Streamlit åœ¨æŒ‰é’®è¢«ç‚¹å‡»æ—¶è¿”å› `True`ã€‚
- en: '[PRE16]'
  id: totrans-111
  prefs: []
  type: TYPE_PRE
  zh: '[PRE16]'
- en: Note that in the code block above,`target`, and `horizon` are variables defined
    earlier in this article that capture the information set by the user using a dropdown
    menu and a slider respectively.
  id: totrans-112
  prefs: []
  type: TYPE_NORMAL
  zh: è¯·æ³¨æ„ï¼Œåœ¨ä¸Šé¢çš„ä»£ç å—ä¸­ï¼Œ`target` å’Œ `horizon` æ˜¯æœ¬æ–‡ä¸­æ—©äº›æ—¶å€™å®šä¹‰çš„å˜é‡ï¼Œå®ƒä»¬åˆ†åˆ«æ•è·äº†ç”¨æˆ·é€šè¿‡ä¸‹æ‹‰èœå•å’Œæ»‘å—è®¾ç½®çš„ä¿¡æ¯ã€‚
- en: 'Then, inside the if statement, we generate two plots: one for the forecast
    and the other for the evaluation metric.'
  id: totrans-113
  prefs: []
  type: TYPE_NORMAL
  zh: ç„¶åï¼Œåœ¨ if è¯­å¥å†…éƒ¨ï¼Œæˆ‘ä»¬ç”Ÿæˆä¸¤ä¸ªå›¾ï¼šä¸€ä¸ªç”¨äºé¢„æµ‹ï¼Œå¦ä¸€ä¸ªç”¨äºè¯„ä¼°æŒ‡æ ‡ã€‚
- en: Plotting in Streamlit is just like using `matplotlib` in a Jupyter notebook.
    We simply render the plot using the `pyplot` method.
  id: totrans-114
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨ Streamlit ä¸­ç»˜å›¾å°±åƒåœ¨ Jupyter notebook ä¸­ä½¿ç”¨ `matplotlib` ä¸€æ ·ã€‚æˆ‘ä»¬åªæ˜¯ä½¿ç”¨ `pyplot` æ–¹æ³•æ¸²æŸ“å›¾è¡¨ã€‚
- en: '[PRE17]'
  id: totrans-115
  prefs: []
  type: TYPE_PRE
  zh: '[PRE17]'
- en: 'The result of the code block above is this:'
  id: totrans-116
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸Šé¢ä»£ç å—çš„ç»“æœå¦‚ä¸‹ï¼š
- en: '![](../Images/2b121c44ff8cf4dce0d6d07bcfa4ea7d.png)'
  id: totrans-117
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/2b121c44ff8cf4dce0d6d07bcfa4ea7d.png)'
- en: Showing the predictions from the best model. Image by the author.
  id: totrans-118
  prefs: []
  type: TYPE_NORMAL
  zh: æ˜¾ç¤ºæœ€ä½³æ¨¡å‹çš„é¢„æµ‹ç»“æœã€‚å›¾ç‰‡ç”±ä½œè€…æä¾›ã€‚
- en: As you can see, the user selected Canada as the target and a horizon of 16 quarters.
    After clicking the button, the plot is rendered.
  id: totrans-119
  prefs: []
  type: TYPE_NORMAL
  zh: å¦‚ä½ æ‰€è§ï¼Œç”¨æˆ·é€‰æ‹©äº†åŠ æ‹¿å¤§ä½œä¸ºç›®æ ‡ï¼Œå¹¶é€‰æ‹©äº† 16 ä¸ªå­£åº¦çš„é¢„æµ‹æœŸã€‚ç‚¹å‡»æŒ‰é’®åï¼Œå›¾è¡¨è¢«æ¸²æŸ“å‡ºæ¥ã€‚
- en: Then, letâ€™s plot a bar plot to see which model performed best during the testing
    procedure.
  id: totrans-120
  prefs: []
  type: TYPE_NORMAL
  zh: ç„¶åï¼Œè®©æˆ‘ä»¬ç»˜åˆ¶ä¸€ä¸ªæ¡å½¢å›¾ï¼Œä»¥æŸ¥çœ‹å“ªä¸ªæ¨¡å‹åœ¨æµ‹è¯•è¿‡ç¨‹ä¸­è¡¨ç°æœ€ä½³ã€‚
- en: '[PRE18]'
  id: totrans-121
  prefs: []
  type: TYPE_PRE
  zh: '[PRE18]'
- en: 'This gives the following result:'
  id: totrans-122
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™ç»™å‡ºå¦‚ä¸‹ç»“æœï¼š
- en: '![](../Images/75e3b12ffd894e2b300b40f29b46daef.png)'
  id: totrans-123
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/75e3b12ffd894e2b300b40f29b46daef.png)'
- en: Showing the sMAPE of each model. Here, the AR model achieved the lowest sMAPE
    when tested for predicting the population of Canada on a horizon of 16 quarters.
    Image by the author.
  id: totrans-124
  prefs: []
  type: TYPE_NORMAL
  zh: æ˜¾ç¤ºæ¯ä¸ªæ¨¡å‹çš„ sMAPEã€‚åœ¨è¿™é‡Œï¼ŒAR æ¨¡å‹åœ¨æµ‹è¯•ä¸­å®ç°äº†æœ€ä½çš„ sMAPEï¼Œç”¨äºé¢„æµ‹æœªæ¥ 16 ä¸ªå­£åº¦çš„åŠ æ‹¿å¤§äººå£ã€‚å›¾ç‰‡ç”±ä½œè€…æä¾›ã€‚
- en: From the figure above, we see that the AR model is the best model, as it achieved
    the lowest sMAPE, specifically for predicting the quarterly population of Canada
    over the next 16 quarters. Therefore, the AR model was used to make the out-of-sample
    predictions that we see in the line plot above.
  id: totrans-125
  prefs: []
  type: TYPE_NORMAL
  zh: ä»ä¸Šå›¾ä¸­ï¼Œæˆ‘ä»¬çœ‹åˆ° AR æ¨¡å‹æ˜¯æœ€ä½³æ¨¡å‹ï¼Œå› ä¸ºå®ƒå®ç°äº†æœ€ä½çš„ sMAPEï¼Œç‰¹åˆ«æ˜¯åœ¨é¢„æµ‹æœªæ¥ 16 ä¸ªå­£åº¦çš„åŠ æ‹¿å¤§å­£åº¦äººå£æ—¶ã€‚å› æ­¤ï¼ŒAR æ¨¡å‹è¢«ç”¨æ¥è¿›è¡Œæˆ‘ä»¬åœ¨ä¸Šå›¾ä¸­çœ‹åˆ°çš„è¶…å‡ºæ ·æœ¬çš„é¢„æµ‹ã€‚
- en: Awesome, everything works great on our local machine, so letâ€™s actually deploy
    this and share it with the world!
  id: totrans-126
  prefs: []
  type: TYPE_NORMAL
  zh: å¤ªæ£’äº†ï¼Œä¸€åˆ‡åœ¨æœ¬åœ°æœºå™¨ä¸Šéƒ½è¿ä½œè‰¯å¥½ï¼Œç°åœ¨è®©æˆ‘ä»¬å®é™…éƒ¨ç½²å®ƒï¼Œå¹¶ä¸å…¨ä¸–ç•Œåˆ†äº«å§ï¼
- en: Deploy to production
  id: totrans-127
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: éƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒ
- en: The easiest (and free) way of deploying a Streamlit application is by using
    the [Streamlit Community Cloud](https://streamlit.io/cloud).
  id: totrans-128
  prefs: []
  type: TYPE_NORMAL
  zh: éƒ¨ç½² Streamlit åº”ç”¨ç¨‹åºæœ€ç®€å•ï¼ˆä¸”å…è´¹çš„ï¼‰æ–¹å¼æ˜¯ä½¿ç”¨ [Streamlit Community Cloud](https://streamlit.io/cloud)ã€‚
- en: 'To deploy an application, you need:'
  id: totrans-129
  prefs: []
  type: TYPE_NORMAL
  zh: è¦éƒ¨ç½²ä¸€ä¸ªåº”ç”¨ç¨‹åºï¼Œä½ éœ€è¦ï¼š
- en: A GitHub account to host the source code of your application
  id: totrans-130
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ä¸€ä¸ªç”¨äºæ‰˜ç®¡åº”ç”¨ç¨‹åºæºä»£ç çš„ GitHub å¸æˆ·
- en: A Streamlit Community Cloud account (free)
  id: totrans-131
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ä¸€ä¸ª Streamlit Community Cloud å¸æˆ·ï¼ˆå…è´¹ï¼‰
- en: A `requirements.txt` file to list the dependencies
  id: totrans-132
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ä¸€ä¸ª `requirements.txt` æ–‡ä»¶æ¥åˆ—å‡ºä¾èµ–é¡¹
- en: List the dependencies
  id: totrans-133
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: åˆ—å‡ºä¾èµ–é¡¹
- en: The hardest of deploying a Streamlit application is actually listing the dependencies,
    especially if your work on a Windows machine with Anaconda (like I do).
  id: totrans-134
  prefs: []
  type: TYPE_NORMAL
  zh: éƒ¨ç½² Streamlit åº”ç”¨ç¨‹åºæœ€å›°éš¾çš„éƒ¨åˆ†å®é™…ä¸Šæ˜¯åˆ—å‡ºä¾èµ–é¡¹ï¼Œç‰¹åˆ«æ˜¯å¦‚æœä½ åœ¨ Windows æœºå™¨ä¸Šä½¿ç”¨ Anacondaï¼ˆåƒæˆ‘ä¸€æ ·ï¼‰ã€‚
- en: If you are on Linux, then it is as simple as `pip freeze > requirements.txt`.
  id: totrans-135
  prefs: []
  type: TYPE_NORMAL
  zh: å¦‚æœä½ ä½¿ç”¨çš„æ˜¯ Linuxï¼Œé‚£ä¹ˆ `pip freeze > requirements.txt` å°±éå¸¸ç®€å•ã€‚
- en: At the time of writing, the documentation of Streamlit states that they support
    the `environment.yml` file that you can generate with Anaconda, but I found that
    it breaks the deployment process. So, you need to resort to the .txt file.
  id: totrans-136
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨æ’°å†™æ—¶ï¼ŒStreamlit çš„æ–‡æ¡£è¡¨æ˜ä»–ä»¬æ”¯æŒå¯ä»¥é€šè¿‡ Anaconda ç”Ÿæˆçš„ `environment.yml` æ–‡ä»¶ï¼Œä½†æˆ‘å‘ç°è¿™ä¼šç ´åéƒ¨ç½²è¿‡ç¨‹ã€‚æ‰€ä»¥ï¼Œä½ éœ€è¦ä½¿ç”¨
    .txt æ–‡ä»¶ã€‚
- en: With Anaconda, run `conda list -e > requirements.txt`. However, your file will
    not be formatted correctly and it will have a lot of mistakes, that you need to
    fix by hand.
  id: totrans-137
  prefs: []
  type: TYPE_NORMAL
  zh: ä½¿ç”¨ Anacondaï¼Œè¿è¡Œ `conda list -e > requirements.txt`ã€‚ç„¶è€Œï¼Œä½ çš„æ–‡ä»¶å°†æ— æ³•æ­£ç¡®æ ¼å¼åŒ–ï¼Œå¹¶ä¸”ä¼šæœ‰å¾ˆå¤šé”™è¯¯ï¼Œéœ€è¦ä½ æ‰‹åŠ¨ä¿®å¤ã€‚
- en: 'A simple way of fixing it is to get rid of everything but the packages that
    you actually import at the beginning of the your script. In our case, that would
    be:'
  id: totrans-138
  prefs: []
  type: TYPE_NORMAL
  zh: è§£å†³è¿™ä¸ªé—®é¢˜çš„ä¸€ä¸ªç®€å•æ–¹æ³•æ˜¯å»é™¤è„šæœ¬å¼€å¤´æœªå®é™…å¯¼å…¥çš„æ‰€æœ‰åŒ…ã€‚åœ¨æˆ‘ä»¬çš„æ¡ˆä¾‹ä¸­ï¼Œè¿™äº›åŒ…æ˜¯ï¼š
- en: pandas
  id: totrans-139
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: pandas
- en: numpy
  id: totrans-140
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: numpy
- en: matplotlib
  id: totrans-141
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: matplotlib
- en: statsmodels
  id: totrans-142
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: statsmodels
- en: Everything else in your file can be deleted.
  id: totrans-143
  prefs: []
  type: TYPE_NORMAL
  zh: æ–‡ä»¶ä¸­çš„å…¶ä»–å†…å®¹å¯ä»¥åˆ é™¤ã€‚
- en: Also, it is very important to delete `streamlit` from your dependencies, as
    this will break the deployment process. You can see what your file should look
    like [here](https://github.com/marcopeix/streamlit-population-canada/blob/master/requirements.txt).
  id: totrans-144
  prefs: []
  type: TYPE_NORMAL
  zh: åŒæ—¶ï¼Œåˆ é™¤`streamlit`ä¾èµ–é¡¹éå¸¸é‡è¦ï¼Œå› ä¸ºè¿™ä¼šç ´åéƒ¨ç½²è¿‡ç¨‹ã€‚ä½ å¯ä»¥æŸ¥çœ‹ä½ çš„æ–‡ä»¶åº”è¯¥æ˜¯ä»€ä¹ˆæ ·å­çš„[è¿™é‡Œ](https://github.com/marcopeix/streamlit-population-canada/blob/master/requirements.txt)ã€‚
- en: Launch to production
  id: totrans-145
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: ä¸Šçº¿ç”Ÿäº§
- en: Once you have the dependencies listed, make sure that all the code is in a GitHub
    repository.
  id: totrans-146
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸€æ—¦åˆ—å‡ºäº†ä¾èµ–é¡¹ï¼Œè¯·ç¡®ä¿æ‰€æœ‰ä»£ç éƒ½åœ¨GitHubä»“åº“ä¸­ã€‚
- en: Then, in your Streamlit Community Cloud account, click â€œNew appâ€.
  id: totrans-147
  prefs: []
  type: TYPE_NORMAL
  zh: ç„¶åï¼Œåœ¨ä½ çš„Streamlit Community Cloudè´¦æˆ·ä¸­ï¼Œç‚¹å‡»â€œæ–°åº”ç”¨â€ã€‚
- en: '![](../Images/0dc0db43b8784199b3e0f2be618219ec.png)'
  id: totrans-148
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/0dc0db43b8784199b3e0f2be618219ec.png)'
- en: Streamlit Community Cloud interace. Image by the author.
  id: totrans-149
  prefs: []
  type: TYPE_NORMAL
  zh: Streamlit Community Cloudç•Œé¢ã€‚å›¾ç‰‡ç”±ä½œè€…æä¾›ã€‚
- en: Then, simply specify the URL for the repository, the branch (should be master)
    and the main file path. Usually, you have a main Python script at the root of
    your project.
  id: totrans-150
  prefs: []
  type: TYPE_NORMAL
  zh: ç„¶åï¼Œåªéœ€æŒ‡å®šä»“åº“çš„URLã€åˆ†æ”¯ï¼ˆåº”ä¸ºmasterï¼‰å’Œä¸»æ–‡ä»¶è·¯å¾„ã€‚é€šå¸¸ï¼Œé¡¹ç›®æ ¹ç›®å½•ä¸‹æœ‰ä¸€ä¸ªä¸»Pythonè„šæœ¬ã€‚
- en: '![](../Images/a9f2307f350fad8bce09e501a7cbf55c.png)'
  id: totrans-151
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/a9f2307f350fad8bce09e501a7cbf55c.png)'
- en: Form to deploy a Streamlit application. Image by the author.
  id: totrans-152
  prefs: []
  type: TYPE_NORMAL
  zh: éƒ¨ç½²Streamlitåº”ç”¨ç¨‹åºçš„è¡¨å•ã€‚å›¾ç‰‡ç”±ä½œè€…æä¾›ã€‚
- en: Then, simply click â€œDeployâ€ and thatâ€™s it! You will then have a link that you
    can use to share your application with everyone!
  id: totrans-153
  prefs: []
  type: TYPE_NORMAL
  zh: ç„¶åï¼Œåªéœ€ç‚¹å‡»â€œéƒ¨ç½²â€ï¼Œå°±å®Œæˆäº†ï¼ä½ å°†è·å¾—ä¸€ä¸ªé“¾æ¥ï¼Œå¯ä»¥ç”¨æ¥ä¸å¤§å®¶åˆ†äº«ä½ çš„åº”ç”¨ï¼
- en: Again, if you want to see the full final result, you check the application [here](https://marcopeix-streamlit-population-canada-main-4rr347.streamlit.app/)!
  id: totrans-154
  prefs: []
  type: TYPE_NORMAL
  zh: å¦‚æœä½ æƒ³æŸ¥çœ‹æœ€ç»ˆçš„å®Œæ•´ç»“æœï¼Œå¯ä»¥åœ¨[è¿™é‡Œ](https://marcopeix-streamlit-population-canada-main-4rr347.streamlit.app/)æŸ¥çœ‹åº”ç”¨ï¼
- en: Conclusion
  id: totrans-155
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: ç»“è®º
- en: Deploying a model using Streamlit is intuitive and straightforward. Using only
    Python, we managed to create an interactive web interface that can cache data,
    read user input, run a model and generate predictions for the future!
  id: totrans-156
  prefs: []
  type: TYPE_NORMAL
  zh: ä½¿ç”¨Streamlitéƒ¨ç½²æ¨¡å‹ç›´è§‚ä¸”ç®€å•ã€‚ä»…ä½¿ç”¨Pythonï¼Œæˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªäº¤äº’å¼Webç•Œé¢ï¼Œå¯ä»¥ç¼“å­˜æ•°æ®ã€è¯»å–ç”¨æˆ·è¾“å…¥ã€è¿è¡Œæ¨¡å‹å¹¶ç”Ÿæˆæœªæ¥çš„é¢„æµ‹ï¼
- en: I hope that this article inspires you to dig further into Streamlit and make
    a little application of your own!
  id: totrans-157
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘å¸Œæœ›è¿™ç¯‡æ–‡ç« èƒ½æ¿€åŠ±ä½ è¿›ä¸€æ­¥æ¢ç©¶Streamlitï¼Œå¹¶åˆ¶ä½œä½ è‡ªå·±çš„å°åº”ç”¨ï¼
- en: 'If you want to master time series forecasting, then checkout my course: [Applied
    Time Series Forecasting in Python](https://www.datasciencewithmarco.com/offers/zTAs2hi6/checkout?coupon_code=ATSFP10).
    This is the only course that implements statistical, deep learning, and state-of-the-art
    models in 15 guided hands-on projects.'
  id: totrans-158
  prefs: []
  type: TYPE_NORMAL
  zh: å¦‚æœä½ æƒ³æŒæ¡æ—¶é—´åºåˆ—é¢„æµ‹ï¼Œé‚£ä¹ˆæŸ¥çœ‹æˆ‘çš„è¯¾ç¨‹ï¼š[Pythonä¸­çš„åº”ç”¨æ—¶é—´åºåˆ—é¢„æµ‹](https://www.datasciencewithmarco.com/offers/zTAs2hi6/checkout?coupon_code=ATSFP10)ã€‚è¿™æ˜¯å”¯ä¸€ä¸€ä¸ªåœ¨15ä¸ªæŒ‡å¯¼é¡¹ç›®ä¸­å®ç°ç»Ÿè®¡å­¦ã€æ·±åº¦å­¦ä¹ å’Œæœ€å…ˆè¿›æ¨¡å‹çš„è¯¾ç¨‹ã€‚
- en: Cheers ğŸ»
  id: totrans-159
  prefs: []
  type: TYPE_NORMAL
  zh: å¹²æ¯ ğŸ»
- en: Support me
  id: totrans-160
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: æ”¯æŒæˆ‘
- en: Enjoying my work? Show your support with [Buy me a coffee](http://buymeacoffee.com/dswm),
    a simple way for you to encourage me, and I get to enjoy a cup of coffee! If you
    feel like it, just click the button below ğŸ‘‡
  id: totrans-161
  prefs: []
  type: TYPE_NORMAL
  zh: å–œæ¬¢æˆ‘çš„å·¥ä½œå—ï¼Ÿé€šè¿‡[ä¹°æ¯å’–å•¡](http://buymeacoffee.com/dswm)æ¥æ”¯æŒæˆ‘ï¼Œè¿™æ˜¯é¼“åŠ±æˆ‘çš„ä¸€ç§ç®€å•æ–¹å¼ï¼Œè€Œæˆ‘å¯ä»¥äº«å—ä¸€æ¯å’–å•¡ï¼å¦‚æœä½ æ„¿æ„ï¼Œåªéœ€ç‚¹å‡»ä¸‹é¢çš„æŒ‰é’®
    ğŸ‘‡
- en: '[![](../Images/7ad9438bd50b1698fdd722fa6661b16c.png)](http://buymeacoffee.com/dswm)'
  id: totrans-162
  prefs: []
  type: TYPE_NORMAL
  zh: '[![](../Images/7ad9438bd50b1698fdd722fa6661b16c.png)](http://buymeacoffee.com/dswm)'
