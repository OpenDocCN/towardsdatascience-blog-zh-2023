- en: Create Bump Charts With Matplotlib
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 原文：[https://towardsdatascience.com/create-bump-charts-with-matplotlib-431b0e6fcb90](https://towardsdatascience.com/create-bump-charts-with-matplotlib-431b0e6fcb90)
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: Explore changes in rank over time using only Matlpotlib
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: '[](https://medium.com/@bruno.ponne?source=post_page-----431b0e6fcb90--------------------------------)[![Bruno
    Ponne](../Images/991b4b721c13ed0b6ceaaa1fac81a007.png)](https://medium.com/@bruno.ponne?source=post_page-----431b0e6fcb90--------------------------------)[](https://towardsdatascience.com/?source=post_page-----431b0e6fcb90--------------------------------)[![Towards
    Data Science](../Images/a6ff2676ffcc0c7aad8aaf1d79379785.png)](https://towardsdatascience.com/?source=post_page-----431b0e6fcb90--------------------------------)
    [Bruno Ponne](https://medium.com/@bruno.ponne?source=post_page-----431b0e6fcb90--------------------------------)'
  prefs: []
  type: TYPE_NORMAL
- en: ·Published in [Towards Data Science](https://towardsdatascience.com/?source=post_page-----431b0e6fcb90--------------------------------)
    ·6 min read·Mar 13, 2023
  prefs: []
  type: TYPE_NORMAL
- en: --
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/9a8af50a9aedd0efa207c9d23bd9d92e.png)'
  prefs: []
  type: TYPE_IMG
- en: Photo by [blueberry Maki](https://unsplash.com/@yukkien?utm_source=medium&utm_medium=referral)
    on [Unsplash](https://unsplash.com/?utm_source=medium&utm_medium=referral)
  prefs: []
  type: TYPE_NORMAL
- en: There is nothing so stable as change. *Bob Dylan*
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: When I was a teenager I loved to check the most popular songs on Billboard,
    even though my taste was often different from what Billboard presented to me.
    Usually, my favorite songs ended up failing to reach the top positions. Despite
    that, it was a great source of new and good songs for me. I even liked to check
    which songs were popular in the past. I found out, for instance, that on the week
    I was born, on August 1987, [*I Still Haven’t Found What I’m Looking For*](https://www.youtube.com/watch?v=e3-5YC_oHjE)was
    the number one song on the [Hot Billboard 100](https://www.billboard.com/charts/hot-100/1987-08-08/)!
  prefs: []
  type: TYPE_NORMAL
- en: Humans are always comparing, evaluating, and ranking all aspects of life. What
    are the best football teams in 2023? Who was the best tennis player in 2022 and
    what was the most used programming language on GitHub last year? We want to know
    what’s trending right now. But as with everything in life, ranks change all the
    time.
  prefs: []
  type: TYPE_NORMAL
- en: In this lesson, you will learn how to show changes in rank with basic [Matplotlib](https://matplotlib.org/),
    with no need for additional libraries. As an example, you will use data published
    by the [Octoverse Report 2022,](https://octoverse.github.com/2022/top-programming-languages)
    which analyzed the most popular programming languages in 2022.
  prefs: []
  type: TYPE_NORMAL
- en: 1\. What is a bump chart?
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: A bump chart is similar to a line plot but focused on exploring changes in rank
    over time. Imagine, for example, that each line in the figure below represents
    the rank of a singer’s popularity. The line and its color represent the singer,
    the x-axis represents the year, and, the y-axis, the rank.
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/9cead2c88ed11e91d54ba6303d2dd237.png)'
  prefs: []
  type: TYPE_IMG
- en: Image created by the Author using Matplotlib
  prefs: []
  type: TYPE_NORMAL
- en: '2\. Our competitors: the programming languages'
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: According to [Octoverse](https://octoverse.github.com/), in 2022, programmers
    used around 500 languages to develop software on GitHub. JavaScript was the most
    used language followed by Python, the language we will use to build our bump chart.
  prefs: []
  type: TYPE_NORMAL
- en: The report also revealed that the [Hashicorp Configuration Language](https://www.ibm.com/topics/terraform)
    (HCL) was the fastest-growing language on GitHub reflecting the expansion of cloud
    infrastructure. Rust and Typescript were the second and third in growth, respectively.
  prefs: []
  type: TYPE_NORMAL
- en: There are several rankings using different data and methods to estimate the
    position of each language. Another ranking is [Stack Overflow’s 2020 Developer
    Survey](https://insights.stackoverflow.com/survey/2020#technology-programming-scripting-and-markup-languages-professional-developers),
    which presents similar but not identical results. This post will use the Octoverse
    data as an example.
  prefs: []
  type: TYPE_NORMAL
- en: To make reproducibility easier, the data is code generated and stored in a list
    of dictionaries, as shown below.
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE0]'
  prefs: []
  type: TYPE_PRE
- en: 3\. Matplotlib subplots method
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'There are several ways you can create a plot with Matplotlib, but to get flexibility,
    it is recommended to use `subplots()`. This method creates two objects: one object
    of the class `Figure`and one of the class `Axes`. The `Figure` object will be
    the container of your plot, while the `Axes` object will be the plot itself.'
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/3000c354cce9283a44dc106398ab0f7c.png)'
  prefs: []
  type: TYPE_IMG
- en: Image created by the Author
  prefs: []
  type: TYPE_NORMAL
- en: The code below loads the necessary libraries and creates the two objects just
    mentioned.
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE1]'
  prefs: []
  type: TYPE_PRE
- en: 4\. Setting plot size
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: In Matplotlib you may change the size of your plot using `plt.rcParams["figure.figsize"]`.
    We will set it to be 12 inches wide and 6 inches high.
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE2]'
  prefs: []
  type: TYPE_PRE
- en: 5\. Calling the plot method for each programming language
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: For each dictionary in our list, we will call the *ax* `plot` method specifying
    the years on the x-axis and the ranks on the y-axis. Moreover, you can choose
    the style of the marker and line with “o-” indicating we would like a line with
    a dot as the marker. Note that the marker face color was set to white, meaning
    the dot is filled with white.
  prefs: []
  type: TYPE_NORMAL
- en: The result is almost what we want, but further adjustments are needed.
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE3]'
  prefs: []
  type: TYPE_PRE
- en: '![](../Images/0f9d0ef70b6c282e570eb6fa8213f2a1.png)'
  prefs: []
  type: TYPE_IMG
- en: Image created by the Author using Matplotlib
  prefs: []
  type: TYPE_NORMAL
- en: 6\. Inverting the y-axis and setting axis ticks
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: It would be nice to have the number one language at the top of the chart. Besides
    that, we would like all the rank numbers to be shown on the y-axis.
  prefs: []
  type: TYPE_NORMAL
- en: We could go about it by using the command `plt.gca().invert_yaxis()`*.* Additionally,
    we can set the y ticks by passing a [NumPy](https://numpy.org/) array with the
    values to `plt.yticks()`. A NumPy array can be created by `np.arange().`
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE4]'
  prefs: []
  type: TYPE_PRE
- en: 7\. Labelling the lines
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: We need to identify to which programming language each of the lines corresponds.
    To achieve that, we can use the *ax* `*annotate*`method. The first parameter it
    receives is the text we would like to annotate. We will use `list_programming["Name"][0]`to
    get the language names.
  prefs: []
  type: TYPE_NORMAL
- en: The `xy`parameter is the point we wish to annotate. In our case, it is the end
    of each line. The `xytext` parameter is the point where we would like to add our
    text. Note that `xytext` will be almost the same as `xy`but a bit more to the
    right on the x-axis. Finally, `va`refers to the vertical alignment.
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE5]'
  prefs: []
  type: TYPE_PRE
- en: 8\. Changing linewidth in Matplotlib
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: The line indicating the path of each language is relatively thin and we could
    increase its width with the `linewidth`parameter inside the `plot method.`
  prefs: []
  type: TYPE_NORMAL
- en: 9\. Clearing the plot
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: To make the plot clearer, the frame of the plot could be suppressed. To do that,
    note that each `Axes`object has 4 spines. One spine is one side of the plot frame.
    We can iterate them with a for loop and set their visibility attribute to `False`.
    Check out all of these adjustments below.
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE6]'
  prefs: []
  type: TYPE_PRE
- en: '![](../Images/53dea7b31f9b0b31f534eca7d89b1042.png)'
  prefs: []
  type: TYPE_IMG
- en: Image created by the Author using Matplotlib
  prefs: []
  type: TYPE_NORMAL
- en: A lot better isn’t it?
  prefs: []
  type: TYPE_NORMAL
- en: This bump chart does not require any additional library. Moreover, Matplotlib
    allows you to customize it in many ways! In [this post](https://www.codingthepast.com/2023/02/11/Use-Matplotlib-line-plot-to-create-visualizations.html),
    I show further recommendations for plotting compelling visualizations with Matplotlib.
  prefs: []
  type: TYPE_NORMAL
- en: 10\. The top programming languages in 2022
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: Now we can have a clear picture of how programming languages evolved over the
    last decade.
  prefs: []
  type: TYPE_NORMAL
- en: JavaScript has maintained the top position since 2014\. According to [Berkeley
    Boot Camps](https://bootcamp.berkeley.edu/blog/most-in-demand-programming-languages/),
    JavaScript’s popularity is explained because most web browsers utilize it. In
    2014, Python was the fourth most used language and since then the language has
    grown in popularity. Today it is the second most used language on GitHub. Finally,
    Java has lost some popularity but remains the third most used language.
  prefs: []
  type: TYPE_NORMAL
- en: Conclusion
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: In this post, you learned to show changes in rank with a basic Matplotlib graph.
    To achieve that, there is no need for additional libraries, all you need is to
    understand Matplotlib objects and how to customize them to show your data.
  prefs: []
  type: TYPE_NORMAL
- en: If you enjoyed this post, **follow me** to know more about data visualization!
  prefs: []
  type: TYPE_NORMAL
