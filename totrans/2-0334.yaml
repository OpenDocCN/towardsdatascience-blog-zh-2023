- en: Assessing Urban Green Equality Using Vienna’s Open Data Portal
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 原文：[https://towardsdatascience.com/assessing-urban-geen-inequality-using-viennas-open-data-portal-aa628e0237ad](https://towardsdatascience.com/assessing-urban-geen-inequality-using-viennas-open-data-portal-aa628e0237ad)
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '![](../Images/41e3d2093728fbc151cea2cb522983a7.png)'
  prefs: []
  type: TYPE_IMG
- en: Photo by [CHUTTERSNAP](https://unsplash.com/@chuttersnap?utm_source=medium&utm_medium=referral)
    on [Unsplash](https://unsplash.com/?utm_source=medium&utm_medium=referral)
  prefs: []
  type: TYPE_NORMAL
- en: Despite their many advantages, accessing nature and green spaces is getting
    increasingly difficult in highly urbanized areas. Some fear that underserved communities
    are more exposed to these issues. Here, I propose a data-driven way to explore
    this.
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: '[](https://medium.com/@janosovm?source=post_page-----aa628e0237ad--------------------------------)[![Milan
    Janosov](../Images/77b62460041f66ec4585a81baef81a03.png)](https://medium.com/@janosovm?source=post_page-----aa628e0237ad--------------------------------)[](https://towardsdatascience.com/?source=post_page-----aa628e0237ad--------------------------------)[![Towards
    Data Science](../Images/a6ff2676ffcc0c7aad8aaf1d79379785.png)](https://towardsdatascience.com/?source=post_page-----aa628e0237ad--------------------------------)
    [Milan Janosov](https://medium.com/@janosovm?source=post_page-----aa628e0237ad--------------------------------)'
  prefs: []
  type: TYPE_NORMAL
- en: ·Published in [Towards Data Science](https://towardsdatascience.com/?source=post_page-----aa628e0237ad--------------------------------)
    ·11 min read·Sep 11, 2023
  prefs: []
  type: TYPE_NORMAL
- en: --
  prefs: []
  type: TYPE_NORMAL
- en: In particular, I pose an urban development question that has lately been gaining
    interest across professional circles and local governments — now as green equality.
    This concept refers to the disparities in people accessing green spaces in different
    parts of a particular city. Here, I explore its financial dimension and see if
    there are any clear relationships between the available green area per capita
    and the economic level of that same urban unit.
  prefs: []
  type: TYPE_NORMAL
- en: I will explore two different spatial resolutions of the city — districts and
    census districts using Esri Shapefiles provided by the Austrian Government’s Open
    Data Portal. I will also incorporate tabular statistical data (population and
    income) into the georeferenced administrative areas. Then, I overlay the administrative
    areas with an official green area dataset, recording the location of each green
    space in a geospatial format. Then, I combine this information and quantify each
    urban district’s total green space per capita size. Finally, I relate each area’s
    financial status, captured by annual net income, to the green area per capita
    ratio to see if any patterns emerge.
  prefs: []
  type: TYPE_NORMAL
- en: 1\. Data source
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Let’s take a look at the Austrian government’s Open Data Portal [here](https://www.data.gv.at/).
  prefs: []
  type: TYPE_NORMAL
- en: When I was writing this article, the website’s English translation wasn’t really
    working, so instead of relying on my long-forgotten 12 years of German classes,
    I used DeepL to navigate across the subpages and thousands of datasets.
  prefs: []
  type: TYPE_NORMAL
- en: 'Then, I collected a couple of data files, both georeferenced (Esri shapefiles)
    and simple tabular data, which I will use for the later analysis. The data I collected:'
  prefs: []
  type: TYPE_NORMAL
- en: '**Boundaries — the administrative boundaries of the following spatial units
    in Vienna:**'
  prefs: []
  type: TYPE_NORMAL
- en: '[The administrative boundaries of Vienna](https://www.data.gv.at/katalog/en/dataset/86c29af5-c52c-423d-8764-82c1bb037936)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[The administrative boundaries of the 23 districts in Vienna](https://www.data.gv.at/katalog/en/dataset/2ee6b8bf-6292-413c-bb8b-bd22dbb2ad4b)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[The administrative boundaries of the 250 Census districts in Vienna](https://www.data.gv.at/katalog/en/dataset/e4079286-310c-435a-af2d-64604ba9ade5)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Land-use — information about the location of green spaces and built-in areas:**'
  prefs: []
  type: TYPE_NORMAL
- en: '[Green Belt Vienna City of Vienna](https://www.data.gv.at/katalog/en/dataset/10c7b88b-a708-4e17-a7ef-2c1ce0590377)
    visualizing the existing and dedicated green belt areas, consisting of 1539 geospatial
    polygon files enclosing green spaces'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Statistics — data on population and income corresponding to the socio-economical
    level of an are**a:'
  prefs: []
  type: TYPE_NORMAL
- en: '[Population per district](https://www.data.gv.at/katalog/en/dataset/0b1c34b4-06c0-49f3-9379-d86cc8b1c78d),
    annually recorded since 2002, and stored split based on 5-year age groups, gender,
    and original nationality'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[Population per census district](https://www.data.gv.at/katalog/en/dataset/15516cf5-09c1-4e69-acf8-3d43183dd026),
    annually recorded since 2008 and stored split based on three irregular age groups,
    gender, and origin'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '[Average net income](https://www.data.gv.at/katalog/en/dataset/d76c0e8b-c599-4700-8a88-29d0d87e563d#resources)
    since 2002 in the districts of Vienna, expressed in Euros per employee per annum'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Additionally, I stored the downloaded data files in a local folder called data.
  prefs: []
  type: TYPE_NORMAL
- en: 2\. Basic data exploration
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: '**2.1 Administrative boundaries**'
  prefs: []
  type: TYPE_NORMAL
- en: 'First, read and visualize the different shape files containing each administrative
    boundary level to have a closer grip on the city at hand:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE0]'
  prefs: []
  type: TYPE_PRE
- en: 'Here we make a note that the column names BEZNR and ZBEZ, correspond to the
    District ID and the Census district ID, respectively. Unexpectedly, they are stored/parsed
    in different formats, numpy.float64 and str:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE1]'
  prefs: []
  type: TYPE_PRE
- en: 'Making sure we indeed have 23 districts and 250 census districts as the data
    files documentation claimed:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE2]'
  prefs: []
  type: TYPE_PRE
- en: Now visualize the boundaries — first the city, then its districts, and then
    the even smaller census districts.
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE3]'
  prefs: []
  type: TYPE_PRE
- en: 'This code outputs the following visuals of Vienna:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/3de51c6230fd5e798cb94743134fc07d.png)'
  prefs: []
  type: TYPE_IMG
- en: Differet admin levels of Vienna. Image by the author.
  prefs: []
  type: TYPE_NORMAL
- en: '**2.2 Green areas**'
  prefs: []
  type: TYPE_NORMAL
- en: 'Now, also take a look at the green space distribution:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE4]'
  prefs: []
  type: TYPE_PRE
- en: Here, one may notice that there is no direct way to link green areas (e.g.,
    no district id-s added) to neighborhoods — so later on, we will do so by manipulating
    the geometries to find overlaps.
  prefs: []
  type: TYPE_NORMAL
- en: 'Now visualize this:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE5]'
  prefs: []
  type: TYPE_PRE
- en: 'This code shows where the green areas are within Vienna:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/c4d054136b55ad2705946937733a9c3c.png)'
  prefs: []
  type: TYPE_IMG
- en: The official green belt of Vienna. Image by the author.
  prefs: []
  type: TYPE_NORMAL
- en: We may note that forestry segments are still within the admin boundary, implying
    that not every part of the city is urbanized and significantly populated. Later
    on, we will get back to this when evaluating the per-capital green area.
  prefs: []
  type: TYPE_NORMAL
- en: '**2.3 Statistical data — population, income**'
  prefs: []
  type: TYPE_NORMAL
- en: 'Finally, let’s take a look at the statistical data files. The first major difference
    is that these are not georeferenced but simple csv tables:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE6]'
  prefs: []
  type: TYPE_PRE
- en: 3\. Data preprocessing
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: '**3.1\. Preparing the statistical data files**'
  prefs: []
  type: TYPE_NORMAL
- en: The previous subsection shows that the statistical data tables use different
    naming conventions — they have DISTRICT_CODE and SUB_DISTRICT_CODE identifiers
    instead of things like BEZNR and ZBEZ. However, after reading each data set’s
    documentation, it becomes clear that it’s easy to transform from one to another,
    for which I present two short functions in the next cell. I will simultaneously
    process data on the level of districts and census districts.
  prefs: []
  type: TYPE_NORMAL
- en: Additionally, I will only be interested in the (latest) aggregated values and
    data points of the statistical information, such as the total population at the
    newest snapshot. So, let’s clean up these data files and keep the columns I will
    use later.
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE7]'
  prefs: []
  type: TYPE_PRE
- en: 'Double-check the computed total population values at the two levels of aggregations:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE8]'
  prefs: []
  type: TYPE_PRE
- en: These two should both provide the same result — 1931593 people.
  prefs: []
  type: TYPE_NORMAL
- en: '**3.1\. Preparing the geospatial data files**'
  prefs: []
  type: TYPE_NORMAL
- en: Now that we are done with the essential data preparation of the statistical
    files, it’s time to match the green area polygons to the administrative area polygons.
    Then, let’s compute each admin area’s total green area coverage. Additionally,
    I will add each admin area’s relative green area coverage out of curiosity.
  prefs: []
  type: TYPE_NORMAL
- en: To obtain areas expressed in SI units, we need to switch to a so-called local
    CRS, which in the case of Vienna is EPSG:31282\. You more read more on this topic,
    map projection and coordinate reference systems [here](https://epsg.io/31282)
    and [here](/how-to-handle-map-projections-properly-in-python-bcbff78895c4).
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE9]'
  prefs: []
  type: TYPE_PRE
- en: 'Compute the administrative unit’s area measured in SI units:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE10]'
  prefs: []
  type: TYPE_PRE
- en: 4\. Compute the green area per capita ratio
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 4.1 Compute the green area coverage in each administrative unit
  prefs: []
  type: TYPE_NORMAL
- en: I will use GeoPandas’ overlay function to overlay these two administrative boundary
    GeoDataFrames with the GeoDataFrame containing the green area polygons. Then,
    I compute the area of each green area section falling into different administrative
    regions. Next, I sum up these areas to the level of each admin area, both districts
    and census districts. In the final step, at each resolution unit, I add the administrative
    previously computed official unit areas and calculate the total area to green
    area ratio for each district and census district.
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE11]'
  prefs: []
  type: TYPE_PRE
- en: '[PRE12]'
  prefs: []
  type: TYPE_PRE
- en: Finally, visualize the green ratio per district and census district! The results
    seem to make a lot of sense, with a high level of greenery on the outer parts
    and much lower in the central areas. Also, the 250 census districts clearly show
    a more detailed, fine-grained picture of the different neighborhood’s characteristics,
    offering more profound and more localized insights for urban planners. On the
    other hand, the district-level information, with ten times fewer spatial units,
    instead shows grand averages.
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE13]'
  prefs: []
  type: TYPE_PRE
- en: 'This block of code outputs the following maps:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/dcd813e590e2dffa7877dfe6556ea826.png)'
  prefs: []
  type: TYPE_IMG
- en: These two maps show the green area ratio in each district / census district.
    in Vienna. Image by the author.
  prefs: []
  type: TYPE_NORMAL
- en: '**4.2 Add population and income information for each administrative unit**'
  prefs: []
  type: TYPE_NORMAL
- en: 'In the final step of this section, let’s map the statistical data into administrative
    areas. Reminder: We have population data on both the level of districts and the
    level of census districts. However, I could only find income (socioeconomic level
    indicator) on the level of districts. This is a usual trade-off in geospatial
    data science. While one dimension (greenery) is much more insightful at the higher
    resolution (census districts), data constraints may force us to use the lower
    resolution anyway.'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE14]'
  prefs: []
  type: TYPE_PRE
- en: '[PRE15]'
  prefs: []
  type: TYPE_PRE
- en: 'This block of codes results in the following figure:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/16988e41530ac79f49cd0de8b63f3b14.png)'
  prefs: []
  type: TYPE_IMG
- en: The various statistical information on Vienna neighborhoods. Image by the author.
  prefs: []
  type: TYPE_NORMAL
- en: '**4.3\. Green area-per-capita computation**'
  prefs: []
  type: TYPE_NORMAL
- en: 'Let’s sum up what we have now, all integrated into decent shapefiles corresponding
    to the districts and census districts of Vienna:'
  prefs: []
  type: TYPE_NORMAL
- en: On the level of districts, we have green area ratio, population and income data
  prefs: []
  type: TYPE_NORMAL
- en: On the level of census districts, we have a green area ratio and population
    data
  prefs: []
  type: TYPE_NORMAL
- en: To capture green equality simply, I merge the information on the green area’s
    absolute size and the population in districts and census districts and compute
    the total amount of green area per capita.
  prefs: []
  type: TYPE_NORMAL
- en: 'Let’s take a look at our input — green coverage and population:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE16]'
  prefs: []
  type: TYPE_PRE
- en: 'This block of codes results in the following figure:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/b983703b787476f8df253a1b3e3f39bd.png)'
  prefs: []
  type: TYPE_IMG
- en: Green area and population levels in Vienna at the levels of districts and census
    districts. Image by the author.
  prefs: []
  type: TYPE_NORMAL
- en: To compute the green area per capita, I will first merge the greenery and population
    data frames in the following steps. I will do so via the example of census districts
    because its higher spatial resolution allows us to observe better patterns (if
    any) emerging. Make sure we do not divide by zero and also follow common sense;
    let’s drop those areas that are unpopulated.
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE17]'
  prefs: []
  type: TYPE_PRE
- en: 'This block of codes results in the following figure:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/e04ff632eccc8e821fe0baa8dcac70d9.png)'
  prefs: []
  type: TYPE_IMG
- en: Each census district is colored based on its green area to capita score. Image
    by the author.
  prefs: []
  type: TYPE_NORMAL
- en: 'Let’s tweak the visualization a little:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE18]'
  prefs: []
  type: TYPE_PRE
- en: 'This block of codes results in the following figure:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/1047cf47fd22c7e33c9b3861b5bf1490.png)'
  prefs: []
  type: TYPE_IMG
- en: Each census district is colored based on its green area to capita score. Image
    by the author.
  prefs: []
  type: TYPE_NORMAL
- en: 'And the same for districts:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE19]'
  prefs: []
  type: TYPE_PRE
- en: 'This block of codes results in the following figure:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/4c3a57ba05655d31362b32626b547a8d.png)'
  prefs: []
  type: TYPE_IMG
- en: Each district is colored based on its green area to capita score. Image by the
    author.
  prefs: []
  type: TYPE_NORMAL
- en: While the significant trends are clear — outer rim, more greenspace for everyone,
    built-in downtown, reversed. Still, these two plots, especially the more detailed
    one on the level of census districts, clearly show a variance in the amount of
    green space people enjoy in the different areas. Further research and incorporating
    additional data sources, for instance, on land use, could help explain better
    why those areas are higher in green area or population. For now, let’s enjoy this
    map and hope everybody finds the right amount of greenery in their home!
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE20]'
  prefs: []
  type: TYPE_PRE
- en: 'Visualize the relationship between the financial and the greenery dimensions:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE21]'
  prefs: []
  type: TYPE_PRE
- en: 'The result of this code block is the following scatter plot:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/c23db48cadae416ff4077812abcb3fc1.png)'
  prefs: []
  type: TYPE_IMG
- en: Constracting the average net income and the green area per capita ratio in the
    districts of Vienna. Image by the author.
  prefs: []
  type: TYPE_NORMAL
- en: 'At first glance, the scatterplot doesn’t particularly set a strong case for
    the financials determining people’s access to green spaces. Honestly, I am a bit
    surprised by these results — however, in light of Vienna’s conscious, long-standing
    efforts in greening up their city, it may be why we do not see any major trend
    here. To confirm, I also checked the correlations between these two variables:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE22]'
  prefs: []
  type: TYPE_PRE
- en: Due to the heavy-tailed distribution of the financial data, I would take the
    Spearman (0.13) correlation more seriously here, but even the Pearson correlation
    (0.30) implies a relatively weak trend, aligning with my previous observations.
  prefs: []
  type: TYPE_NORMAL
