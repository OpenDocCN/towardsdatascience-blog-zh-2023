- en: Using Apache Kafka for Data Streaming
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 原文：[https://towardsdatascience.com/using-apache-kafka-for-data-streaming-9199699623fa](https://towardsdatascience.com/using-apache-kafka-for-data-streaming-9199699623fa)
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: Learn how to install and use Kafka to send and receive messages
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: '[](https://weimenglee.medium.com/?source=post_page-----9199699623fa--------------------------------)[![Wei-Meng
    Lee](../Images/10fc13e8a6858502d6a7b89fcaad7a10.png)](https://weimenglee.medium.com/?source=post_page-----9199699623fa--------------------------------)[](https://towardsdatascience.com/?source=post_page-----9199699623fa--------------------------------)[![Towards
    Data Science](../Images/a6ff2676ffcc0c7aad8aaf1d79379785.png)](https://towardsdatascience.com/?source=post_page-----9199699623fa--------------------------------)
    [Wei-Meng Lee](https://weimenglee.medium.com/?source=post_page-----9199699623fa--------------------------------)'
  prefs: []
  type: TYPE_NORMAL
- en: ·Published in [Towards Data Science](https://towardsdatascience.com/?source=post_page-----9199699623fa--------------------------------)
    ·6 min read·Mar 1, 2023
  prefs: []
  type: TYPE_NORMAL
- en: --
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/aa5dbcf7527c9713847a92eb4ee36242.png)'
  prefs: []
  type: TYPE_IMG
- en: Photo by [Patrick Perkins](https://unsplash.com/@patrickperkins?utm_source=medium&utm_medium=referral)
    on [Unsplash](https://unsplash.com/?utm_source=medium&utm_medium=referral)
  prefs: []
  type: TYPE_NORMAL
- en: '**What is Apache Kafka?**'
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: '**Apache Kafka** is an open source application used for real-time streaming
    of big data. It is a publish-subscribe messaging system where you can use it to
    send messages between processes, applications, and servers. The following diagram
    shows a high-level architecture overview of Apache Kafka:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/95f430607d63dc755139271a4ea0632f.png)'
  prefs: []
  type: TYPE_IMG
- en: All images by author
  prefs: []
  type: TYPE_NORMAL
- en: Unlike other messaging systems, Kafka also have additional features such as
    partitioning, replication, and has higher throughput and fault-tolerance than
    other messaging systems. All these features make Kafka ideal for high volume message
    processing.
  prefs: []
  type: TYPE_NORMAL
- en: I will talk more about clustering and partitioning and other features in future
    articles.
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: In this article, I will walk you through the process of installing Kafka on
    your system so that you have a better idea of how it works. Future articles will
    dive into specific use cases of Kafka.
  prefs: []
  type: TYPE_NORMAL
- en: Installation
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'Installing Kafka is pretty straight-forward. You just need to follow the 3
    steps outlined below to install and get Kafka running:'
  prefs: []
  type: TYPE_NORMAL
- en: Install Java
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Download and install Kafka
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Run ZooKeeper and Kafka
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: For this article, I will show how to install Kafka on macOS.
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: 1\. Install Java
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'Kafka is written in Scala and Java. So the first step you need to do is to
    install the latest JDK on your Mac. You can install Java by going to the **Official
    Java Downloads** page at: [https://www.oracle.com/java/technologies/downloads/](https://www.oracle.com/java/technologies/downloads/).'
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/768f974094f076fa186697c4ccb3e9dc.png)'
  prefs: []
  type: TYPE_IMG
- en: If you have an Intel-based Mac, download the **x64 DMG Installer**; otherwise,
    download the **Arm 64 DMG Installer**.
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: 'Alternatively if you have **Homebrew** ([https://brew.sh/](https://brew.sh/))
    installed on your Mac, you can use the following commands to install Java directly:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE0]'
  prefs: []
  type: TYPE_PRE
- en: 2\. Download Kafka
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'Go to the **Official Apache Kafka Downloads** page at [https://kafka.apache.org/downloads](https://kafka.apache.org/downloads)
    and download the latest binary version of Kafka (**kafka_2.13–3.4.0.tgz** at the
    time of writing):'
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/ab6acbe4ef79bebd6473ee4d496e4fe0.png)'
  prefs: []
  type: TYPE_IMG
- en: On the Mac, the downloaded binary will be saved in the default **Downloads**
    folder.
  prefs: []
  type: TYPE_NORMAL
- en: 'In Terminal, type the following commands to uncompress the Kafka installer:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE1]'
  prefs: []
  type: TYPE_PRE
- en: A new folder named **kafka_2.13–3.4.0** would be created in the **Downloads**
    folder. Move the entire folder to your home directory (`~`).
  prefs: []
  type: TYPE_NORMAL
- en: 'Alternatively, you can use **Homebrew** to install Kafka using the following
    command:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE2]'
  prefs: []
  type: TYPE_PRE
- en: 3\. Run ZooKeeper & Kafka
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: To ensure that Kafka is running correctly, you need to run a tool known as **ZooKeeper**.
  prefs: []
  type: TYPE_NORMAL
- en: ZooKeeper is responsible for Kafka’s Cluster Management. It comes with the Kafka
    installation package.
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: 'To start **ZooKeeper**, type the following commands into Terminal:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE3]'
  prefs: []
  type: TYPE_PRE
- en: The **kafka_2.13–3.4.0** folder is in your home directory.
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: 'Next, start the **Kafka broker service**. A Kafka broker is a mediator between
    the producer(s) and consumer(s):'
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/5b55e317330c3160be9904813b33285c.png)'
  prefs: []
  type: TYPE_IMG
- en: 'In a new Terminal window, type the following commands to start the Kafka broker
    service:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE4]'
  prefs: []
  type: TYPE_PRE
- en: If there is no error, your Kafka installation is now ready to go!
  prefs: []
  type: TYPE_NORMAL
- en: Creating a topic
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: With the Kafka broker up and running, you can now see Kafka in action! First,
    create a new *topic*.
  prefs: []
  type: TYPE_NORMAL
- en: Topics are categories used to manage and organzie messages. Producers send messages
    to specific topics and consumers subscribe to specific topics to receive messages
    sent to the individual topic.
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: 'Start a new Terminal window and type in the following commands:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE5]'
  prefs: []
  type: TYPE_PRE
- en: The above command creates the “**chat**” topic on the Kafka broker service listening
    at port 9092.
  prefs: []
  type: TYPE_NORMAL
- en: Viewing the topic
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'To view the topic that you have just created, use the following commands:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE6]'
  prefs: []
  type: TYPE_PRE
- en: 'You should see the following output:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE7]'
  prefs: []
  type: TYPE_PRE
- en: Writing Events into the Topic
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'To write an *event* (commonly known as a message) into the topic, first use
    the following command to start the **Kafka producer console**:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE8]'
  prefs: []
  type: TYPE_PRE
- en: 'You should now see the `>` prompt:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/434483b2349d5728cbf8c19b1b40258e.png)'
  prefs: []
  type: TYPE_IMG
- en: 'Go ahead and type some messages:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/2e24f069652426eb80eb8c85de617658.png)'
  prefs: []
  type: TYPE_IMG
- en: The messages will be sent to the Kafka broker.
  prefs: []
  type: TYPE_NORMAL
- en: Reading the Events
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'To read the events (messages) from the “**chat**” topic, launch a new Terminal
    window and type in the following commands to start the **Kafka consumer console**:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE9]'
  prefs: []
  type: TYPE_PRE
- en: 'You should now see the messages that you have sent in earlier:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/7a144b08f09bd29ad537beac8614ecf4.png)'
  prefs: []
  type: TYPE_IMG
- en: You can launch another new Terminal window and type in the same commands to
    launch another Kafka consumer console and you will also see the same messages.
  prefs: []
  type: TYPE_NORMAL
- en: 'Go to the Terminal window where you run the **Kafka producer console** and
    type in a new message. The two other Terminal windows running the **Kafka consumer
    console** will now receive the new message:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/a0c81d3360091ec9e262d7b692320690.png)'
  prefs: []
  type: TYPE_IMG
- en: '**If you like reading my articles and that it helped your career/study, please
    consider signing up as a Medium member. It is $5 a month, and it gives you unlimited
    access to all the articles (including mine) on Medium. If you sign up using the
    following link, I will earn a small commission (at no additional cost to you).
    Your support means that I will be able to devote more time on writing articles
    like this.**'
  prefs: []
  type: TYPE_NORMAL
- en: '[](https://weimenglee.medium.com/membership?source=post_page-----9199699623fa--------------------------------)
    [## Join Medium with my referral link - Wei-Meng Lee'
  prefs: []
  type: TYPE_NORMAL
- en: Read every story from Wei-Meng Lee (and thousands of other writers on Medium).
    Your membership fee directly supports…
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: weimenglee.medium.com](https://weimenglee.medium.com/membership?source=post_page-----9199699623fa--------------------------------)
  prefs: []
  type: TYPE_NORMAL
- en: Summary
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: In this article, I briefly talked about the use of Apache Kafka and some of
    the major components in Kafka. In order not to overwhelm you with all the details,
    I showed you how to get started with Kafka by installing it, and then starting
    the Kafka broker service. To get a feel of how Kafka works, you then created a
    topic where you used the Kafka producer and consumer to send and receive messages.
    Hopefully, this quick-start gives you a clearer picture of what Kafka can do and
    in future articles, I will dive into more specific use cases of Kafka!
  prefs: []
  type: TYPE_NORMAL
