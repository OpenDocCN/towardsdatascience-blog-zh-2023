["```py\n#load the required packages\nlibrary(dplyr)\nlibrary(tidyr)\nlibrary(ggplot2)\nlibrary(ggthemes)\nlibrary(readr)\nlibrary(stringr)\n\n#load and tidy the data\nspotify <- readr::read_csv('spotify_songs.csv') %>% \n  select(-1) %>%\n  mutate(duration_min = duration_ms/60000, \n         track_genre = as.factor(track_genre)) %>%\n  mutate(across(c(2:4, 20), toupper)) %>%\n  relocate(duration_min, .before = duration_ms) %>%\n  select(-duration_ms)\n```", "```py\nspotify %>%\n  select(5:19) %>%\n  mutate(across(everything(), as.numeric)) %>%\n  rename_with(str_to_title) %>% #capitalize first letters of feature names\n  rename(\"Duration (min)\" = Duration_min,\n         \"Loudness (dB)\" = Loudness,\n         \"Time Signature\" = Time_signature) %>%\n  pivot_longer(-Danceability, names_to = \"parameter\", values_to = \"value\") %>%\n  ggplot(aes(value, Danceability)) +\n  geom_point(col = \"#00BFC4\", alpha = 0.5) + #reduce point opacity with the alpha argument\n  facet_wrap(~ parameter, scales = \"free_x\") +\n  labs(x = \"\", y = \"Danceability\") +\n  theme_few() +\n  theme(text = element_text(size = 20))\n```", "```py\n#turn numeric features into ordinal by binning with the cut function\nspotify_plot <- spotify %>%\n  mutate(time_signature = as.numeric(as.character(time_signature))) %>%\n  mutate(across(-c(1:4, 7, 8, 10, 12, 19, 20), ~ cut(., breaks = 15))) %>%\n  mutate(across(c(7, 10, 12, 19), as.factor)) %>% #turn thr existing ordinal variables to factors\n  select(-c(1:4, 20)) #remove unnecessary track id columns\n\nspotify_plot %>%\n    select(danceability, acousticness) %>%\n    ggplot(aes(acousticness, danceability)) +\n    geom_violin(fill = \"#00BFC4\", alpha = 0.5) +\n    geom_boxplot() +\n    labs(x = \"\", y = \"Danceability\") +\n    theme_few() +\n    theme(text = element_text(size = 20), \n    #tilt the axis labels to prevent overlap\n    axis.text.x = element_text(angle = -45, hjust = 0, vjust = 1)) \n```", "```py\nspotify_plot %>%\n                   rename_with(str_to_title) %>%\n                   rename(\"Duration (min)\" = Duration_min,\n                          \"Loudness (dB)\" = Loudness,\n                          \"Time Signature\" = Time_signature) %>%\n                   pivot_longer(-Danceability, names_to = \"parameter\", values_to = \"value\") %>%\n                   arrange(parameter, value) %>%\n                   ggplot(aes(value, Danceability)) +\n                   geom_violin(fill = \"#00BFC4\", alpha = 0.5) +\n                   geom_boxplot() +\n                   facet_wrap(~ parameter, scales = \"free_x\") +\n                   labs(x = \"\", y = \"Danceability\") +\n                   theme_few() +\n                   theme(axis.text.x = element_blank(),\n                         text = element_text(size = 20))\n```"]