["```py\nimport streamlit as st\nimport pandas as pd\nimport plotly_express as px\n\nst.set_page_config(layout='wide')\n\nst.header('Medium Stats Dashboard')\n```", "```py\ndef update_stats_csv(date, followers, email_subs, ref_members):\n    with open('medium_stats.csv', 'a+') as f:\n        f.write(f'\\n{date},{followers},{email_subs},{ref_members}')\n```", "```py\nwith st.sidebar.form('Enter the latest stats from your Medium dashboard'):\n\n    date = st.date_input('Date')\n\n    follower_num = st.number_input('Followers', step=1)\n    email_subs = st.number_input('Email Subscribers', step=1)\n    ref_members = st.number_input('Referred Members', step=1)\n\n    submit_stats = st.form_submit_button('Write Stats to CSV')\n\n    if submit_stats:\n        update_stats_csv(date, follower_num, email_subs, ref_members)\n        st.info(f'Stats for {date} have been added to the csv file')\n```", "```py\ndf = pd.read_csv('medium_stats.csv')\n\nwith st.expander('View Raw Data'):\n    st.dataframe(df)\n```", "```py\nfig_followers = px.line(df, x=df.date, y='followers', title='Followers')\nst.plotly_chart(fig_followers, use_container_width=True)\n```", "```py\nplot_col1, plot_col2 = st.columns(2)\n\nfig_subscribers = px.bar(df, x=df.date, y='email_subs', title='Email Subscribers')\nplot_col1.plotly_chart(fig_subscribers, use_container_width=True)\n\nfig_subscribers = px.bar(df, x=df.date, y='referred_members', title='Referred Members')\nplot_col2.plotly_chart(fig_subscribers, use_container_width=True)\n```", "```py\ndef get_latest_monthly_metrics(df):\n    # Assumes the last row is the latest entry\n\n    df['date'] = pd.to_datetime(df['date'])\n    df['month'] = df['date'].dt.month_name()\n    latest_month = df['month'].iloc[-1]\n    latest_follower_count = df['followers'].iloc[-1]\n    latest_sub_count = df['email_subs'].iloc[-1]\n    latest_refs_count = df['referred_members'].iloc[-1]\n\n    return latest_month, latest_follower_count, latest_sub_count, latest_refs_count\n```", "```py\nmonth, followers, subs, refs = get_latest_monthly_metrics(df)\n\nst.write(f'### Medium Stats for {month}')\n\ncol1, col2, col3 = st.columns(3)\ncol1.metric('Followers', followers)\ncol2.metric('Email Subscribers', subs)\ncol3.metric('Referred Members', refs)\n```", "```py\ndef calculate_differences(df):\n    for x in ['followers', 'email_subs', 'referred_members']:\n        df[f'{x}_increase'] = df[x].diff()\n    return df\n```", "```py\ndef get_latest_monthly_metrics(df):\n    # Assumes the last row is the latest entry\n\n    df['date'] = pd.to_datetime(df['date'])\n    df['month'] = df['date'].dt.month_name()\n    latest_month = df['month'].iloc[-1]\n    latest_follower_count = [df['followers'].iloc[-1],\n                             df['followers_increase'].iloc[-1]]\n\n    latest_sub_count = [df['email_subs'].iloc[-1], \n                        df['email_subs_increase'].iloc[-1]]\n\n    latest_refs_count = [df['referred_members'].iloc[-1], \n                         df['referred_members_increase'].iloc[-1]]\n\n    return latest_month, latest_follower_count, latest_sub_count, latest_refs_count\n```", "```py\ncol1, col2, col3 = st.columns(3)\ncol1.metric('Followers', followers[0], delta=round(followers[1]))\ncol2.metric('Email Subscribers', subs[0], delta=round(subs[1]))\ncol3.metric('Referred Members', refs[0], delta=round(refs[1]))\n```", "```py\nimport streamlit as st\nimport pandas as pd\nimport plotly_express as px\n\nst.set_page_config(layout='wide')\n\nst.header('Medium Stats Dashboard')\n\n#Main Functions\ndef update_stats_csv(date, followers, email_subs, ref_members):\n    with open('medium_stats.csv', 'a+') as f:\n        f.write(f'\\n{date},{followers},{email_subs},{ref_members}')\n\ndef calculate_differences(df):\n    for x in ['followers', 'email_subs', 'referred_members']:\n        df[f'{x}_increase'] = df[x].diff()\n    return df\n\ndef get_latest_monthly_metrics(df):\n    # Assumes the last row is the latest entry\n\n    df['date'] = pd.to_datetime(df['date'])\n    df['month'] = df['date'].dt.month_name()\n    latest_month = df['month'].iloc[-1]\n    latest_follower_count = [df['followers'].iloc[-1],\n                             df['followers_increase'].iloc[-1]]\n\n    latest_sub_count = [df['email_subs'].iloc[-1], \n                        df['email_subs_increase'].iloc[-1]]\n\n    latest_refs_count = [df['referred_members'].iloc[-1], \n                         df['referred_members_increase'].iloc[-1]]\n\n    return latest_month, latest_follower_count, latest_sub_count, latest_refs_count\n\n#Sidebar\nwith st.sidebar.form('Enter the latest stats from your Medium dashboard'):\n\n    date = st.date_input('Date')\n\n    follower_num = st.number_input('Followers', step=1)\n    email_subs = st.number_input('Email Subscribers', step=1)\n    ref_members = st.number_input('Referred Members', step=1)\n\n    submit_stats = st.form_submit_button('Write Stats to CSV')\n\n    if submit_stats:\n        update_stats_csv(date, follower_num, email_subs, ref_members)\n        st.info(f'Stats for {date} have been added to the csv file')\n\n# Main page\ndf = pd.read_csv('medium_stats.csv')\n\nwith st.expander('View Raw Data'):\n    st.dataframe(df)\n\ndf = calculate_differences(df)\n\nmonth, followers, subs, refs = get_latest_monthly_metrics(df)\n\nst.write(f'### Medium Stats for {month}')\n\ncol1, col2, col3 = st.columns(3)\ncol1.metric('Followers', followers[0], delta=round(followers[1]))\ncol2.metric('Email Subscribers', subs[0], delta=round(subs[1]))\ncol3.metric('Referred Members', refs[0], delta=round(refs[1]))\n\nfig_followers = px.line(df, x=df.date, y='followers', title='Followers')\nst.plotly_chart(fig_followers, use_container_width=True)\n\nplot_col1, plot_col2 = st.columns(2)\n\nfig_subscribers = px.bar(df, x=df.date, y='email_subs', title='Email Subscribers')\nplot_col1.plotly_chart(fig_subscribers, use_container_width=True)\n\nfig_subscribers = px.bar(df, x=df.date, y='referred_members', title='Referred Members')\nplot_col2.plotly_chart(fig_subscribers, use_container_width=True)\n```"]