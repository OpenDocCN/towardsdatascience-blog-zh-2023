- en: An Alternative Approach to Visualizing Feature Relationships in Large Datasets
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: ä¸€ç§æ›¿ä»£çš„å¤§å‹æ•°æ®é›†ç‰¹å¾å…³ç³»å¯è§†åŒ–æ–¹æ³•
- en: åŸæ–‡ï¼š[https://towardsdatascience.com/an-alternative-approach-to-visualizing-feature-relationships-in-large-datasets-925ab257d772](https://towardsdatascience.com/an-alternative-approach-to-visualizing-feature-relationships-in-large-datasets-925ab257d772)
  id: totrans-1
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: åŸæ–‡ï¼š[https://towardsdatascience.com/an-alternative-approach-to-visualizing-feature-relationships-in-large-datasets-925ab257d772](https://towardsdatascience.com/an-alternative-approach-to-visualizing-feature-relationships-in-large-datasets-925ab257d772)
- en: How to make those crowded scatterplots more informative
  id: totrans-2
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: å¦‚ä½•ä½¿é‚£äº›æ‹¥æŒ¤çš„æ•£ç‚¹å›¾æ›´å…·ä¿¡æ¯é‡
- en: '[](https://medium.com/@zvonimir.boban.mef?source=post_page-----925ab257d772--------------------------------)[![Zvonimir
    Boban](../Images/cbad06b7e1f5d021ce9b2dc31b8a6a65.png)](https://medium.com/@zvonimir.boban.mef?source=post_page-----925ab257d772--------------------------------)[](https://towardsdatascience.com/?source=post_page-----925ab257d772--------------------------------)[![Towards
    Data Science](../Images/a6ff2676ffcc0c7aad8aaf1d79379785.png)](https://towardsdatascience.com/?source=post_page-----925ab257d772--------------------------------)
    [Zvonimir Boban](https://medium.com/@zvonimir.boban.mef?source=post_page-----925ab257d772--------------------------------)'
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: '[](https://medium.com/@zvonimir.boban.mef?source=post_page-----925ab257d772--------------------------------)[![Zvonimir
    Boban](../Images/cbad06b7e1f5d021ce9b2dc31b8a6a65.png)](https://medium.com/@zvonimir.boban.mef?source=post_page-----925ab257d772--------------------------------)[](https://towardsdatascience.com/?source=post_page-----925ab257d772--------------------------------)[![Towards
    Data Science](../Images/a6ff2676ffcc0c7aad8aaf1d79379785.png)](https://towardsdatascience.com/?source=post_page-----925ab257d772--------------------------------)
    [ä½æ²ƒå°¼ç±³å°”Â·åšç­](https://medium.com/@zvonimir.boban.mef?source=post_page-----925ab257d772--------------------------------)'
- en: Â·Published in [Towards Data Science](https://towardsdatascience.com/?source=post_page-----925ab257d772--------------------------------)
    Â·5 min readÂ·Sep 28, 2023
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: Â·å‘è¡¨äº [Towards Data Science](https://towardsdatascience.com/?source=post_page-----925ab257d772--------------------------------)
    Â·é˜…è¯»æ—¶é—´ 5 åˆ†é’ŸÂ·2023å¹´9æœˆ28æ—¥
- en: --
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: --
- en: '![](../Images/fdaba01469448b7502bd62cc1324c477.png)'
  id: totrans-6
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/fdaba01469448b7502bd62cc1324c477.png)'
- en: Image by Author
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: ä½œè€…æä¾›çš„å›¾ç‰‡
- en: The easiest way to understand relationships between data features is by visualizing
    them. In the case of numeric features, this usually means producing a scatterplot.
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: ç†è§£æ•°æ®ç‰¹å¾ä¹‹é—´å…³ç³»çš„æœ€ç®€å•æ–¹æ³•æ˜¯é€šè¿‡å¯è§†åŒ–å®ƒä»¬ã€‚åœ¨æ•°å€¼ç‰¹å¾çš„æƒ…å†µä¸‹ï¼Œè¿™é€šå¸¸æ„å‘³ç€ç”Ÿæˆæ•£ç‚¹å›¾ã€‚
- en: This is fine if the number of points is small, but for large datasets, the problem
    of overlapping observations appears. This can be partially mitigated for medium-sized
    datasets by making the points semi-transparent, but for very large datasets, even
    this doesnâ€™t help.
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: å¦‚æœç‚¹çš„æ•°é‡è¾ƒå°‘ï¼Œè¿™æ ·åšæ²¡é—®é¢˜ï¼Œä½†å¯¹äºå¤§å‹æ•°æ®é›†ï¼Œè§‚å¯Ÿé‡å çš„é—®é¢˜ä¼šå‡ºç°ã€‚å¯¹äºä¸­å‹æ•°æ®é›†ï¼Œå¯ä»¥é€šè¿‡ä½¿ç‚¹åŠé€æ˜æ¥éƒ¨åˆ†ç¼“è§£ï¼Œä½†å¯¹äºéå¸¸å¤§çš„æ•°æ®é›†ï¼Œå³ä½¿è¿™æ ·ä¹Ÿæ— æµäºäº‹ã€‚
- en: What to do then? I will show you an alternative approach using the publicly
    available [Spotify dataset from Kaggle](https://www.kaggle.com/datasets/maharshipandya/-spotify-tracks-dataset).
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: é‚£ä¹ˆåº”è¯¥æ€ä¹ˆåšå‘¢ï¼Ÿæˆ‘å°†å±•ç¤ºä¸€ç§ä½¿ç”¨å…¬å¼€å¯ç”¨çš„ [Kaggle ä¸Šçš„ Spotify æ•°æ®é›†](https://www.kaggle.com/datasets/maharshipandya/-spotify-tracks-dataset)çš„æ›¿ä»£æ–¹æ³•ã€‚
- en: The dataset contains audio features of 114000 Spotify tracks, such as danceability,
    tempo, duration, speechiness, â€¦ As an example for this post, I will examine the
    relationship between danceability and all other features.
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: æ•°æ®é›†åŒ…å« 114000 é¦– Spotify æ›²ç›®çš„éŸ³é¢‘ç‰¹å¾ï¼Œä¾‹å¦‚èˆæ›²æ€§ã€èŠ‚å¥ã€æ—¶é•¿ã€è¯­éŸ³åº¦ç­‰ã€‚ä½œä¸ºæœ¬å¸–çš„ç¤ºä¾‹ï¼Œæˆ‘å°†æ£€æŸ¥èˆæ›²æ€§ä¸æ‰€æœ‰å…¶ä»–ç‰¹å¾ä¹‹é—´çš„å…³ç³»ã€‚
- en: Letâ€™s first import the dataset and tidy it up a bit.
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: é¦–å…ˆå¯¼å…¥æ•°æ®é›†å¹¶ç¨ä½œæ•´ç†ã€‚
- en: '[PRE0]'
  id: totrans-13
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: â”The issue
  id: totrans-14
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: â”é—®é¢˜
- en: As I mentioned previously, the simplest way to visualize two-variable relationships
    is by drawing scatterplots with each point representing a single song. The first
    four columns contain track id information, so I left them out. I also renamed
    the features so that the first letter is uppercase and then reshape the data to
    prepare it for plotting.
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: å¦‚æˆ‘ä¹‹å‰æ‰€æï¼Œæœ€ç®€å•çš„å¯è§†åŒ–åŒå˜é‡å…³ç³»çš„æ–¹æ³•æ˜¯ç»˜åˆ¶æ¯ä¸ªç‚¹ä»£è¡¨ä¸€é¦–æ­Œæ›²çš„æ•£ç‚¹å›¾ã€‚å‰å››åˆ—åŒ…å«æ›²ç›® id ä¿¡æ¯ï¼Œå› æ­¤æˆ‘å°†å…¶çœç•¥ã€‚æˆ‘è¿˜é‡å‘½åäº†ç‰¹å¾ï¼Œä½¿ç¬¬ä¸€ä¸ªå­—æ¯å¤§å†™ï¼Œç„¶åé‡å¡‘æ•°æ®ä»¥ä¾¿ç»˜å›¾ã€‚
- en: '[PRE1]'
  id: totrans-16
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: '![](../Images/8c2ef12e0b0f01232587480082a1c4a6.png)'
  id: totrans-17
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/8c2ef12e0b0f01232587480082a1c4a6.png)'
- en: Image by Author
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: ä½œè€…æä¾›çš„å›¾ç‰‡
- en: Even though a decreased point opacity was used (alpha = 0.5 as opposed to the
    default value of 1), the overlap is still too high. Although we can detect some
    general trends, the charts arenâ€™t that informative since there are too many overlapping
    points.
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: å°½ç®¡ä½¿ç”¨äº†é™ä½ç‚¹çš„ä¸é€æ˜åº¦ï¼ˆalpha = 0.5ï¼Œç›¸å¯¹äºé»˜è®¤å€¼ 1ï¼‰ï¼Œä½†é‡å ä»ç„¶è¿‡é«˜ã€‚è™½ç„¶æˆ‘ä»¬å¯ä»¥æ£€æµ‹åˆ°ä¸€äº›ä¸€èˆ¬è¶‹åŠ¿ï¼Œä½†ç”±äºç‚¹é‡å è¿‡å¤šï¼Œå›¾è¡¨çš„å¯è¯»æ€§ä¸å¼ºã€‚
- en: We can try pushing this further by reducing the opacity to alpha = 0.05.
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬å¯ä»¥å°è¯•è¿›ä¸€æ­¥é™ä½ä¸é€æ˜åº¦è‡³ alpha = 0.05ã€‚
- en: '![](../Images/f3dea58860149f045e46df3a685b0142.png)'
  id: totrans-21
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/f3dea58860149f045e46df3a685b0142.png)'
- en: Image by Author
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: å›¾ç‰‡æ¥æºï¼šä½œè€…
- en: This improved things, and some might advocate that the chart is informative
    enough now. However, I disagree as I still have to focus too much to extract the
    trend and value distribution information.
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™æ”¹å–„äº†æƒ…å†µï¼Œæœ‰äº›äººå¯èƒ½è®¤ä¸ºå›¾è¡¨ç°åœ¨å·²ç»è¶³å¤Ÿä¿¡æ¯ä¸°å¯Œã€‚ç„¶è€Œï¼Œæˆ‘ä¸åŒæ„ï¼Œå› ä¸ºæˆ‘ä»ç„¶éœ€è¦è¿‡åº¦å…³æ³¨æ‰èƒ½æå–è¶‹åŠ¿å’Œä»·å€¼åˆ†å¸ƒä¿¡æ¯ã€‚
- en: ğŸ’¡ The alternative
  id: totrans-24
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: ğŸ’¡ å¦ä¸€ç§æ–¹æ¡ˆ
- en: We can see from the above scatterplots that the dataset contains both ordinal
    (Explicit, Mode, Key, Time Signature) and numeric features. In the case of categorical
    features, the simplifying solution is obvious â€” we can just use a summary plot
    such as a boxplot.
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: ä»ä¸Šè¿°æ•£ç‚¹å›¾ä¸­æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œæ•°æ®é›†åŒ…å«äº†åºæ•°ç‰¹å¾ï¼ˆæ˜¾å¼åº¦ã€æ¨¡å¼ã€é”®ã€æ—¶é—´ç­¾åï¼‰å’Œæ•°å­—ç‰¹å¾ã€‚åœ¨åˆ†ç±»ç‰¹å¾çš„æƒ…å†µä¸‹ï¼Œç®€åŒ–æ–¹æ¡ˆå¾ˆæ˜æ˜¾â€”â€”æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ç®±çº¿å›¾ç­‰æ±‡æ€»å›¾ã€‚
- en: But what about the numeric ones? Well, the idea is to group the points into
    multiple equally wide bins, effectively turning them into ordinal features, and
    enabling the use of the approach described above.
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: é‚£ä¹ˆæ•°å­—ç‰¹å¾å‘¢ï¼Ÿè¿™ä¸ªæƒ³æ³•æ˜¯å°†ç‚¹åˆ†ç»„åˆ°å¤šä¸ªç›¸ç­‰å®½åº¦çš„åŒºé—´å†…ï¼Œæœ‰æ•ˆåœ°å°†å®ƒä»¬è½¬åŒ–ä¸ºåºæ•°ç‰¹å¾ï¼Œå¹¶å¯ç”¨ä¸Šè¿°æè¿°çš„æ–¹æ³•ã€‚
- en: Although boxplots are the most commonly used summary plots, I will also add
    violin plots in the background. This way, aside from summary stats of the binned
    points provided by the boxplot (median, interquartile range), we can also easily
    see the distribution of values within a specific binned range.
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: å°½ç®¡ç®±çº¿å›¾æ˜¯æœ€å¸¸ç”¨çš„æ±‡æ€»å›¾ï¼Œä½†æˆ‘è¿˜ä¼šåœ¨èƒŒæ™¯ä¸­æ·»åŠ å°æç´å›¾ã€‚è¿™æ ·ï¼Œé™¤äº†ç®±çº¿å›¾æä¾›çš„åˆ†ç®±ç‚¹çš„æ±‡æ€»ç»Ÿè®¡ï¼ˆä¸­ä½æ•°ã€å››åˆ†ä½èŒƒå›´ï¼‰ä¹‹å¤–ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥è½»æ¾çœ‹åˆ°ç‰¹å®šåˆ†ç®±èŒƒå›´å†…çš„å€¼åˆ†å¸ƒã€‚
- en: This powerful combo reduces chart clutter and enables much easier identification
    of trends.
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™ç§å¼ºå¤§çš„ç»„åˆå‡å°‘äº†å›¾è¡¨æ‚ä¹±ï¼Œä½¿è¶‹åŠ¿çš„è¯†åˆ«æ›´åŠ å®¹æ˜“ã€‚
- en: Letâ€™s try this out for the Acousticness-Danceability plot and then visualize
    all the features at once afterwards.
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬å¯ä»¥å°è¯•ä¸€ä¸‹å£°å­¦ç‰¹æ€§-èˆè¹ˆæ€§å›¾ï¼Œç„¶åå†å°†æ‰€æœ‰ç‰¹å¾ä¸€èµ·å¯è§†åŒ–ã€‚
- en: '[PRE2]'
  id: totrans-30
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: '![](../Images/fdaba01469448b7502bd62cc1324c477.png)'
  id: totrans-31
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/fdaba01469448b7502bd62cc1324c477.png)'
- en: '*Image by Author*'
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: '*å›¾ç‰‡æ¥æºï¼šä½œè€…*'
- en: Much better! The decreasing trend in song danceability with an increase in acousticeness
    is now much more easily visible. We can also see that danceability is pretty normally
    distributed due to the addition of violin plots in the background, and the zero
    danceability outliers are identified by the boxplot function and thus plotted
    as separate points .
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: å¥½å¤šäº†ï¼éšç€å£°å­¦ç‰¹æ€§çš„å¢åŠ ï¼Œæ­Œæ›²çš„èˆè¹ˆæ€§ä¸‹é™çš„è¶‹åŠ¿ç°åœ¨æ›´åŠ æ˜æ˜¾ã€‚æˆ‘ä»¬è¿˜å¯ä»¥çœ‹åˆ°ï¼Œç”±äºèƒŒæ™¯ä¸­åŠ å…¥äº†å°æç´å›¾ï¼Œèˆè¹ˆæ€§å‘ˆç°å‡ºæ¯”è¾ƒæ­£å¸¸çš„åˆ†å¸ƒï¼Œé›¶èˆè¹ˆæ€§ç¦»ç¾¤ç‚¹é€šè¿‡ç®±çº¿å›¾å‡½æ•°è¢«è¯†åˆ«å‡ºæ¥ï¼Œå¹¶ä½œä¸ºå•ç‹¬çš„ç‚¹ç»˜åˆ¶ã€‚
- en: Letâ€™s extrapolate our solution to all other features and create a complete feature
    relationship panel.
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: è®©æˆ‘ä»¬å°†æˆ‘ä»¬çš„è§£å†³æ–¹æ¡ˆæ¨å¹¿åˆ°æ‰€æœ‰å…¶ä»–ç‰¹å¾ï¼Œå¹¶åˆ›å»ºä¸€ä¸ªå®Œæ•´çš„ç‰¹å¾å…³ç³»é¢æ¿ã€‚
- en: '[PRE3]'
  id: totrans-35
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: '![](../Images/9507e08fd8c8ce69e4b1270c414a2d21.png)'
  id: totrans-36
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/9507e08fd8c8ce69e4b1270c414a2d21.png)'
- en: Image by Author
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: å›¾ç‰‡æ¥æºï¼šä½œè€…
- en: Although we lost some detail compared to the original scatterplot panel, it
    is much easier to detect the underlying trends. Notice that, unlike with the single
    chart above, I removed the bin ranges on the x-axis in order to reduce clutter
    when visualizing all the features at once.
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: å°½ç®¡ä¸åŸå§‹æ•£ç‚¹å›¾é¢æ¿ç›¸æ¯”ï¼Œæˆ‘ä»¬å¤±å»äº†ä¸€äº›ç»†èŠ‚ï¼Œä½†ç°åœ¨æ›´å®¹æ˜“æ£€æµ‹åˆ°æ½œåœ¨çš„è¶‹åŠ¿ã€‚è¯·æ³¨æ„ï¼Œä¸ä¸Šé¢çš„å•ä¸€å›¾è¡¨ä¸åŒï¼Œæˆ‘å»æ‰äº†xè½´ä¸Šçš„åŒºé—´èŒƒå›´ï¼Œä»¥å‡å°‘åœ¨ä¸€æ¬¡å¯è§†åŒ–æ‰€æœ‰ç‰¹å¾æ—¶çš„æ‚ä¹±ã€‚
- en: Considering these visualizations, the most impactful features should be Duration,
    Energy, Loudness, Tempo, Time Signature and Valence. Acousticness, Explicitness,
    Liveness, Popularity and Speechines show some effect, but not as much as the formerly
    mentioned ones. There seems to be no strong effect of Key, Instrumentalness and
    Mode features on the danceability rating.
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: è€ƒè™‘åˆ°è¿™äº›å¯è§†åŒ–æ•ˆæœï¼Œæœ€å…·å½±å“åŠ›çš„ç‰¹å¾åº”è¯¥æ˜¯æŒç»­æ—¶é—´ã€èƒ½é‡ã€å“åº¦ã€èŠ‚å¥ã€æ—¶é—´ç­¾åå’Œæƒ…æ„Ÿã€‚å£°å­¦ç‰¹æ€§ã€æ˜¾å¼åº¦ã€ç°åœºæ„Ÿã€æµè¡Œåº¦å’Œè¨€è¯­æ€§æ˜¾ç¤ºå‡ºä¸€å®šçš„æ•ˆæœï¼Œä½†ä¸å¦‚å‰é¢æåˆ°çš„ç‰¹å¾é‚£ä¹ˆæ˜¾è‘—ã€‚é”®ã€å™¨ä¹æ€§å’Œæ¨¡å¼ç‰¹å¾å¯¹èˆè¹ˆæ€§è¯„åˆ†ä¼¼ä¹æ²¡æœ‰å¼ºçƒˆçš„å½±å“ã€‚
- en: ğŸ—’ï¸Conclusion
  id: totrans-40
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: ğŸ—’ï¸æ€»ç»“
- en: Thatâ€™s all for this post. Iâ€™ve shown how to bypass the clutter of overlapping
    points when analyzing large datasets. I hope you will find the proposed solution
    useful whenever you encounter large datasets and wish to easily identify the trends
    in the feature relationships. If you have any comments, questions, suggestions,
    or requests for other custom plots, please let me know in the comments.
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™ç¯‡æ–‡ç« å°±åˆ°è¿™é‡Œã€‚æˆ‘å±•ç¤ºäº†å¦‚ä½•ç»•è¿‡åœ¨åˆ†æå¤§å‹æ•°æ®é›†æ—¶é‡å ç‚¹çš„æ‚ä¹±ã€‚æˆ‘å¸Œæœ›å½“ä½ é‡åˆ°å¤§å‹æ•°æ®é›†å¹¶å¸Œæœ›è½»æ¾è¯†åˆ«ç‰¹å¾å…³ç³»ä¸­çš„è¶‹åŠ¿æ—¶ï¼Œä½ ä¼šå‘ç°æå‡ºçš„è§£å†³æ–¹æ¡ˆæœ‰ç”¨ã€‚å¦‚æœä½ æœ‰ä»»ä½•è¯„è®ºã€é—®é¢˜ã€å»ºè®®æˆ–å¯¹å…¶ä»–è‡ªå®šä¹‰å›¾è¡¨çš„è¯·æ±‚ï¼Œè¯·åœ¨è¯„è®ºä¸­å‘Šè¯‰æˆ‘ã€‚
- en: And, of course if you liked the post, follow me for more similar contentğŸ˜‰.
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: å½“ç„¶ï¼Œå¦‚æœä½ å–œæ¬¢è¿™ç¯‡æ–‡ç« ï¼Œè¯·å…³æ³¨æˆ‘è·å–æ›´å¤šç±»ä¼¼å†…å®¹ğŸ˜‰ã€‚
