- en: How to Create Eye-Catching Country Rankings Using Python and Matplotlib
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 原文：[https://towardsdatascience.com/how-to-create-eye-cathing-country-rankings-using-python-and-matplotlib-d57e4594fe13](https://towardsdatascience.com/how-to-create-eye-cathing-country-rankings-using-python-and-matplotlib-d57e4594fe13)
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: Matplotlib Tutorial
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: A beautiful alternative to standard line charts
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: '[](https://medium.com/@oscarleo?source=post_page-----d57e4594fe13--------------------------------)[![Oscar
    Leo](../Images/7733c9147bad2875a35155fca3903aa8.png)](https://medium.com/@oscarleo?source=post_page-----d57e4594fe13--------------------------------)[](https://towardsdatascience.com/?source=post_page-----d57e4594fe13--------------------------------)[![Towards
    Data Science](../Images/a6ff2676ffcc0c7aad8aaf1d79379785.png)](https://towardsdatascience.com/?source=post_page-----d57e4594fe13--------------------------------)
    [Oscar Leo](https://medium.com/@oscarleo?source=post_page-----d57e4594fe13--------------------------------)'
  prefs: []
  type: TYPE_NORMAL
- en: ·Published in [Towards Data Science](https://towardsdatascience.com/?source=post_page-----d57e4594fe13--------------------------------)
    ·7 min read·Aug 18, 2023
  prefs: []
  type: TYPE_NORMAL
- en: --
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/4ba0dfcde1b6c985eb2b2fac436d2c9d.png)'
  prefs: []
  type: TYPE_IMG
- en: Chart created by the author
  prefs: []
  type: TYPE_NORMAL
- en: Hi, and welcome to this tutorial, where I’ll teach you to create the chart above
    using Python and Matplotlib.
  prefs: []
  type: TYPE_NORMAL
- en: What I like about this data visualization is its clean and beautiful way of
    showing how countries rank compared to each other on a particular metric.
  prefs: []
  type: TYPE_NORMAL
- en: The alternative to using a standard line chart showing the actual values get
    messy if some countries are close to each other or if some countries outperform
    others by a lot.
  prefs: []
  type: TYPE_NORMAL
- en: If you want access to the code for this tutorial, you can find it in this [GitHub
    repository](https://github.com/oscarleoo/country-ranking-tutorial).
  prefs: []
  type: TYPE_NORMAL
- en: And, if you enjoy this tutorial, make sure to check out my other Matplotlib
    tutorials as well.
  prefs: []
  type: TYPE_NORMAL
- en: '![Oscar Leo](../Images/a3badd168c6bfbbdc3d060f9191ca1d2.png)'
  prefs: []
  type: TYPE_IMG
- en: '[Oscar Leo](https://medium.com/@oscarleo?source=post_page-----d57e4594fe13--------------------------------)'
  prefs: []
  type: TYPE_NORMAL
- en: Matplotlib Tutorials
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: '[View list](https://medium.com/@oscarleo/list/matplotlib-tutorials-262e5d7f0847?source=post_page-----d57e4594fe13--------------------------------)8
    stories![](../Images/51b77b8f6d7ea69abdcd113427d4a52a.png)![](../Images/56c078b5447338a07b7bce2b23cf7133.png)![](../Images/c3088ee7cd4994f027ddddbc6ae423cd.png)'
  prefs: []
  type: TYPE_NORMAL
- en: Let’s get started.
  prefs: []
  type: TYPE_NORMAL
- en: About the data
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: I’ve created a simple CSV containing GDP values for today’s ten largest economies
    for this tutorial.
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/d6474f9ccc1a07021cc8597a2dd6a276.png)'
  prefs: []
  type: TYPE_IMG
- en: Screenshot by the author
  prefs: []
  type: TYPE_NORMAL
- en: The data comes from the [World Bank](https://data.worldbank.org/), and the full
    name of the indicator is “GDP (constant 2015 us$)”.
  prefs: []
  type: TYPE_NORMAL
- en: If you want to know more about different ways of measuring GDP, you can look
    at this story, where I use the same type of data visualization.
  prefs: []
  type: TYPE_NORMAL
- en: '[](https://medium.datadriveninvestor.com/4-charts-about-our-planets-largest-economies-that-will-improve-your-understanding-of-the-world-c58a357fad7?source=post_page-----d57e4594fe13--------------------------------)
    [## 4 Charts About Our Planet’s Largest Economies That Will Improve Your Understanding
    of the World'
  prefs: []
  type: TYPE_NORMAL
- en: They say that knowledge is power.
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: medium.datadriveninvestor.com](https://medium.datadriveninvestor.com/4-charts-about-our-planets-largest-economies-that-will-improve-your-understanding-of-the-world-c58a357fad7?source=post_page-----d57e4594fe13--------------------------------)
  prefs: []
  type: TYPE_NORMAL
- en: Let’s get on with the tutorial.
  prefs: []
  type: TYPE_NORMAL
- en: 'Step 1: Creating rankings'
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: Step one is to rank the countries for each year in the dataset, which is easy
    to do with pandas.
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE0]'
  prefs: []
  type: TYPE_PRE
- en: The resulting columns look like this.
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/a45c00dde4e4f713bbf1c562708b0a0d.png)'
  prefs: []
  type: TYPE_IMG
- en: Screenshot by the author
  prefs: []
  type: TYPE_NORMAL
- en: That’s all the preprocessing we need to continue with the data visualization.
  prefs: []
  type: TYPE_NORMAL
- en: 'Step 2: Creating and styling a grid'
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: Now that we have prepared our data, it’s time to create a grid where we can
    draw our lines and flags.
  prefs: []
  type: TYPE_NORMAL
- en: Here’s a function using [Seaborn](https://seaborn.pydata.org/) that creates
    the overall style. It defines things like the background color and font family.
    I’m also removing spines and ticks.
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE1]'
  prefs: []
  type: TYPE_PRE
- en: I run the function with the following values.
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE2]'
  prefs: []
  type: TYPE_PRE
- en: To create the actual grid, I have a function that formats the y- and x-axis.
    It takes a few parameters that allow me to try different setups, such as the size
    of the labels.
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE3]'
  prefs: []
  type: TYPE_PRE
- en: Here’s what it looks like when I run everything we have so far.
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE4]'
  prefs: []
  type: TYPE_PRE
- en: And here’s the resulting grid.
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/5ec108fc0b7faf55a9a123c237fc4a06.png)'
  prefs: []
  type: TYPE_IMG
- en: Grid created by the author
  prefs: []
  type: TYPE_NORMAL
- en: Now we can start to add some data.
  prefs: []
  type: TYPE_NORMAL
- en: 'Step 3: Adding lines'
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: I want a line showing each country's rank for each year in the dataset—an easy
    task in Matplotlib.
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE5]'
  prefs: []
  type: TYPE_PRE
- en: Then I run the function for each row in the dataset like this.
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE6]'
  prefs: []
  type: TYPE_PRE
- en: Here’s what I get.
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/f856383b2a187f7cd3e6048639c3853f.png)'
  prefs: []
  type: TYPE_IMG
- en: Graph created by the author
  prefs: []
  type: TYPE_NORMAL
- en: I’m using the same color for each line because I want to use country flags to
    guide the eye. Using a unique color for each line makes sense, but it looks messy.
  prefs: []
  type: TYPE_NORMAL
- en: 'Step 4: Drawing pie charts'
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: I want to indicate how a country’s economy grows over time without adding text.
    Instead, I aim to inform in a visual format.
  prefs: []
  type: TYPE_NORMAL
- en: My idea is to draw a pie chart on each point showing the size of a country’s
    economy compared to its best year.
  prefs: []
  type: TYPE_NORMAL
- en: I’m using PIL to create a pie chart image, but you can use Matplotlib directly.
    I don’t because I had some issues with aspect ratios.
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE7]'
  prefs: []
  type: TYPE_PRE
- en: The value for the size parameter is slightly larger than the size of my flag
    images which are 512x512\. Later, I want to paste the flags on the pie charts.
  prefs: []
  type: TYPE_NORMAL
- en: Here’s the updated code.
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE8]'
  prefs: []
  type: TYPE_PRE
- en: And here’s the result.
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/70bef8bba592d0ea4010405af7e10c83.png)'
  prefs: []
  type: TYPE_IMG
- en: Graph created by the author
  prefs: []
  type: TYPE_NORMAL
- en: It’s starting to look informative, so it’s time to make it beautiful.
  prefs: []
  type: TYPE_NORMAL
- en: 'Step 5: Adding flags'
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: I love using flags in my charts because they are simply beautiful.
  prefs: []
  type: TYPE_NORMAL
- en: Here, the purpose of the flags is to make the chart visually appealing, explain
    which countries we’re looking at, and guide the eye along the lines.
  prefs: []
  type: TYPE_NORMAL
- en: I’m using these [rounded flags](https://www.flaticon.com/packs/countrys-flags).
    They require a license, so, unfortunately, I can’t share them, but you can find
    similar flags in other places.
  prefs: []
  type: TYPE_NORMAL
- en: I’ve had some issues getting the pie and flag to align perfectly, so instead
    of creating a separate function to add a flag, I’m rewriting the add_pie() function.
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE9]'
  prefs: []
  type: TYPE_PRE
- en: I add it right after the pie chart function.
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE10]'
  prefs: []
  type: TYPE_PRE
- en: And now you can behold the visual magic of using flags. It’s a huge difference
    compared to the previous output.
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/047cc24d070df7415212e638beac0371.png)'
  prefs: []
  type: TYPE_IMG
- en: Graph created by the author
  prefs: []
  type: TYPE_NORMAL
- en: We suddenly have something that looks nice and is easy to understand. The last
    thing to do is to add some helpful information.
  prefs: []
  type: TYPE_NORMAL
- en: 'Step 5: Adding additional information'
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: Since not everyone knows all the flags by heart, I want to add the country’s
    name to the right.
  prefs: []
  type: TYPE_NORMAL
- en: I also want to show the size of the economy and how each country compares to
    the highest ranking.
  prefs: []
  type: TYPE_NORMAL
- en: Here’s my code for doing that.
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE11]'
  prefs: []
  type: TYPE_PRE
- en: As before, I add the function to the main code block. Note that I’m also adding
    a title.
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE12]'
  prefs: []
  type: TYPE_PRE
- en: Voila.
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/4ba0dfcde1b6c985eb2b2fac436d2c9d.png)'
  prefs: []
  type: TYPE_IMG
- en: Chart created by the author
  prefs: []
  type: TYPE_NORMAL
- en: That’s it; we’re done.
  prefs: []
  type: TYPE_NORMAL
- en: Conclusion
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: Today, you’ve learned an alternative way to visualize.
  prefs: []
  type: TYPE_NORMAL
- en: I like this type of data visualization because it’s easy on the eye and conveys
    a ton of information with very little text.
  prefs: []
  type: TYPE_NORMAL
- en: If you enjoyed it as much as I did, make sure to subscribe to my channel for
    more of the same! :)
  prefs: []
  type: TYPE_NORMAL
- en: Thank you for reading.
  prefs: []
  type: TYPE_NORMAL
