- en: How Random Are Goals in Soccer?
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 原文：[https://towardsdatascience.com/how-random-are-goals-in-soccer-8a822c1f3bc](https://towardsdatascience.com/how-random-are-goals-in-soccer-8a822c1f3bc)
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: Sports Analytics
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: Understand goal events through frequentist statistics
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: '[](https://polmarin.medium.com/?source=post_page-----8a822c1f3bc--------------------------------)[![Pol
    Marin](../Images/a4f69a96717d453db9791f27b8f85e86.png)](https://polmarin.medium.com/?source=post_page-----8a822c1f3bc--------------------------------)[](https://towardsdatascience.com/?source=post_page-----8a822c1f3bc--------------------------------)[![Towards
    Data Science](../Images/a6ff2676ffcc0c7aad8aaf1d79379785.png)](https://towardsdatascience.com/?source=post_page-----8a822c1f3bc--------------------------------)
    [Pol Marin](https://polmarin.medium.com/?source=post_page-----8a822c1f3bc--------------------------------)'
  prefs: []
  type: TYPE_NORMAL
- en: ·Published in [Towards Data Science](https://towardsdatascience.com/?source=post_page-----8a822c1f3bc--------------------------------)
    ·7 min read·Jul 29, 2023
  prefs: []
  type: TYPE_NORMAL
- en: --
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/4592cd967691b0d4b57c5e91a050e62a.png)'
  prefs: []
  type: TYPE_IMG
- en: Soccer Goal — Photo by [Chaos Soccer Gear](https://unsplash.com/@chaossoccergear?utm_source=medium&utm_medium=referral)
    on [Unsplash](https://unsplash.com/?utm_source=medium&utm_medium=referral)
  prefs: []
  type: TYPE_NORMAL
- en: Football (or soccer for the USA readers) is an amazing sport. It can’t be the
    world’s most popular sport by coincidence.
  prefs: []
  type: TYPE_NORMAL
- en: Football gathers people together, it’s an excuse to disconnect from our busy
    lives because game time is fun time. We order some fast food and eat it while
    Messi makes magic with the ball — how lucky we are for having been able to enjoy
    him. And we get to watch so many amazing teams like 2010’s Barça or even 2023’s
    Manchester City.
  prefs: []
  type: TYPE_NORMAL
- en: Many will say no match is equal. It’s football, and there’s nothing like it.
    But I’d say that’s wrong.
  prefs: []
  type: TYPE_NORMAL
- en: As outstanding as it is, it still is dominated by math. Like everything else.
  prefs: []
  type: TYPE_NORMAL
- en: Life is full of mathematical models. And football is no exception.
  prefs: []
  type: TYPE_NORMAL
- en: I’ve been a die-hard Barça fan throughout my entire life. Add that to the current
    situation I find myself professionally in, and the result is a genuine interest
    in **sports analytics** — obviously inclined toward football.
  prefs: []
  type: TYPE_NORMAL
- en: This post is the first I’ll be writing about sports analytics, so I will keep
    it relatively simple. However, I plan on writing a lot more to learn a lot about
    how math applies to football (and potentially other sports like handball) — and
    share the insights with you all.
  prefs: []
  type: TYPE_NORMAL
- en: The amount of data scientists getting hired for sports analytics roles is increasing
    strongly and it doesn’t seem to be stopping anytime soon. Using data in sports
    makes more sense than ever, especially given that the amount of data being generated
    is also increasing at a fast pace.
  prefs: []
  type: TYPE_NORMAL
- en: So, this post will be a great intro tool for all aspiring sports analysts or
    data-related folks interested in sports.
  prefs: []
  type: TYPE_NORMAL
- en: Here, I’ll be using StatsBomb’s[1] open and free data[2] to inspect the La Liga
    season of 2015–2016, which I’ve randomly chosen. I invite you to do the same analysis
    and see if it holds true for other seasons and leagues as well.
  prefs: []
  type: TYPE_NORMAL
- en: So let’s dig in!
  prefs: []
  type: TYPE_NORMAL
- en: Preparing The Data
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'There’s a wonderful Python module that will allow us to get all the data we
    need: `statsbombpy`[3]. The first thing we need to do is logically install it:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE0]'
  prefs: []
  type: TYPE_PRE
- en: 'Then open your Python file or notebook and start by importing the next modules:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE1]'
  prefs: []
  type: TYPE_PRE
- en: 'Next, we’ll want to get all the La Liga games from the 2015–16 season:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE2]'
  prefs: []
  type: TYPE_PRE
- en: 'This is what the **matches** DF looks like:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/2bd693401261e773c1db368d67268d72.png)'
  prefs: []
  type: TYPE_IMG
- en: Top 5 rows and top 10 columns of the DF — image by the author
  prefs: []
  type: TYPE_NORMAL
- en: 'Now, we want to inspect goals and we don’t have a column showing the number
    of goals in a game. We can create it ourselves just by adding the `home_score`
    and the `away_score` columns:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE3]'
  prefs: []
  type: TYPE_PRE
- en: We’re now ready to start analyzing.
  prefs: []
  type: TYPE_NORMAL
- en: Do Previous Goals Influence The Future Goals?
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'Before doing any calculations, I like to visualize things. It’s the best way
    to understand the data you’re playing with. So let’s build a histogram:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE4]'
  prefs: []
  type: TYPE_PRE
- en: '![](../Images/f22994a0601b281588236510407d92ff.png)'
  prefs: []
  type: TYPE_IMG
- en: Goal distribution in La Liga 2015/16 — Image by the author
  prefs: []
  type: TYPE_NORMAL
- en: As expected, between 1 and 4 goals were scored in most matches. We all know
    the most common results are always 1–0, 2–0, 2–1, 3–0, 3–1 (same for the away
    team). There’s the 12-goal game case which is the clear outlier — Real Madrid
    vs Rayo Vallecano that ended 10–2.
  prefs: []
  type: TYPE_NORMAL
- en: Nothing new so far, just interesting facts.
  prefs: []
  type: TYPE_NORMAL
- en: The average number of goals in that season was 2.74 (rounded). That translates
    to an average of 0.030497 (rounded) goals per minute (or 1/32.79). In other words,
    we could say there’s a 0.030497 chance of a goal in each of the 90-minute slots.
  prefs: []
  type: TYPE_NORMAL
- en: 'The fun part comes now: **we’re going to simulate the season**. As we’re only
    focusing on match goals — not game winners or season standings — the only parameter
    we’ll use is the minute probability of a goal.'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE5]'
  prefs: []
  type: TYPE_PRE
- en: We now have the `simulate_match()` and `simulate_season()` functions that consist
    of a simple for loop each (so we loop on a minute basis on each match) and then
    randomly compute whether there was a goal in that minute or not.
  prefs: []
  type: TYPE_NORMAL
- en: To do so, we use `random.choice()`, which chooses from 0 or 1 with the specified
    probabilities (~0.030497 for 1, ~0.969503 for 0).
  prefs: []
  type: TYPE_NORMAL
- en: 'Using the previous histogram we saw, let’s paint the simulated distribution
    line superimposed:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE6]'
  prefs: []
  type: TYPE_PRE
- en: '![](../Images/0af694ec00db24ed1720abd2cb36ee5a.png)'
  prefs: []
  type: TYPE_IMG
- en: Goal and the simulated Poisson distribution in La Liga 2015/16— Image by the
    author
  prefs: []
  type: TYPE_NORMAL
- en: Based on the simulated data, the solid, red line shows the Poisson distribution.
    This distribution fits well whenever the timing of previous events has no effect
    on future events.
  prefs: []
  type: TYPE_NORMAL
- en: 'In other words, using Wikipedia: “A Poisson distribution expresses the probability
    of a given number of events occurring in a fixed interval of time or space if
    these events occur with a known constant mean rate and independently of the time
    since the last event.”[4]'
  prefs: []
  type: TYPE_NORMAL
- en: 'The takeaway of this plot is really straightforward: This is a model generated
    by random simulations, and it’s pretty close to the actual outcome.'
  prefs: []
  type: TYPE_NORMAL
- en: 'So we have our answer: **goals aren’t influenced by the number of goals so
    far nor the amount of time played.** They are unpredictable in time.'
  prefs: []
  type: TYPE_NORMAL
- en: 'As David Sumpter put it in Soccermatics[5]: “It is the unpredictability of
    a football match from one minute to the next that produces the Poisson distribution
    after 90 minutes. We know the average number of goals scored in a match, but their
    timing is unpredictable. As a result, some scorelines become much more likely
    than others. The paradox here is that scores are explained by randomness. The
    fact that goals are very random in time makes the pattern in the results predictable”.'
  prefs: []
  type: TYPE_NORMAL
- en: Conclusion
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'Goals aren’t random per se, they happen for a reason. But they are certainly
    unpredictable. It’s when certain conditions meet that we have goals: defenders
    make mistakes, the attackers move the ball well, Messi gets the ball, the goalkeeper
    can’t stop it from going in…'
  prefs: []
  type: TYPE_NORMAL
- en: A punctual play can completely change the direction of a match at any moment.
    And we’ve mathematically proved it today — goals are not influenced by previous
    goals or the time in which they occur.
  prefs: []
  type: TYPE_NORMAL
- en: But we shouldn’t stick to football for our conclusions. This simple analysis
    we’ve performed can be made on data not linked to football in any way. And I’m
    not only talking about hockey goals, handball goals, or basketball points.
  prefs: []
  type: TYPE_NORMAL
- en: Data Scientists can expect a Poisson distribution whenever it is reasonable
    to assume that events can happen unexpectedly, at any time, independently of how
    many events have happened prior to the next one.
  prefs: []
  type: TYPE_NORMAL
- en: Do you see how powerful this is? A simple, yet powerful mathematical modeling
    tool.
  prefs: []
  type: TYPE_NORMAL
- en: If you don’t trust me, go ahead and try it with any data you like. For example,
    try to analyze how many people go to the supermarket on a given day, the number
    of accidents in a factory, or the number of cars that cross the border between
    two countries. You’ll see they can’t escape the Poisson distribution either.
  prefs: []
  type: TYPE_NORMAL
- en: Again, a powerful tool for data scientists to understand the data we’re working
    with.
  prefs: []
  type: TYPE_NORMAL
- en: 'Getting back to football, it obviously isn’t a random sport. It’s much more
    than that: it’s about setbacks, comebacks, lineups, formations, tactics, skill…'
  prefs: []
  type: TYPE_NORMAL
- en: If we didn’t want to go deeper, randomness would probably be enough to study
    the number of goals over a season. But football is way more interesting than just
    interpreting the goal distribution.
  prefs: []
  type: TYPE_NORMAL
- en: In my next soccer analytics posts, we’ll go further and beyond simple randomness.
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE7]'
  prefs: []
  type: TYPE_PRE
- en: 'If you’d like to support me further, consider subscribing to Medium’s Membership
    through the link you find below: it won’t cost you any extra penny but will help
    me through this process.'
  prefs: []
  type: TYPE_NORMAL
- en: '[](https://medium.com/@polmarin/membership?source=post_page-----8a822c1f3bc--------------------------------)
    [## Join Medium with my referral link - Pol Marin'
  prefs: []
  type: TYPE_NORMAL
- en: Read every story from Pol Marin (and thousands of other writers on Medium).
    Your membership fee directly supports Pol…
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: medium.com](https://medium.com/@polmarin/membership?source=post_page-----8a822c1f3bc--------------------------------)
  prefs: []
  type: TYPE_NORMAL
- en: Resources
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: '[1] [StatsBomb](https://statsbomb.com/)'
  prefs: []
  type: TYPE_NORMAL
- en: '[2] [StatsBomb’s License — GitHub](https://github.com/statsbomb/statsbombpy/blob/master/doc/LICENSE.pdf)'
  prefs: []
  type: TYPE_NORMAL
- en: '[3] [statsbombpy — GitHub](https://github.com/statsbomb/statsbombpy)'
  prefs: []
  type: TYPE_NORMAL
- en: '[4] [Poisson Distribution — Wikipedia](https://en.wikipedia.org/wiki/Poisson_distribution)'
  prefs: []
  type: TYPE_NORMAL
- en: '[5] [Soccermatics: Mathematical Adventures in the Beautiful Game](https://amzn.to/43MsVeK)'
  prefs: []
  type: TYPE_NORMAL
