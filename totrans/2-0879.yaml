- en: 'FastAPI and Streamlit: The Python Duo You Must Know About'
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: FastAPI å’Œ Streamlitï¼šä½ å¿…é¡»äº†è§£çš„ Python åŒé›„
- en: åŸæ–‡ï¼š[https://towardsdatascience.com/fastapi-and-streamlit-the-python-duo-you-must-know-about-72825def1243](https://towardsdatascience.com/fastapi-and-streamlit-the-python-duo-you-must-know-about-72825def1243)
  id: totrans-1
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: åŸæ–‡ï¼š[https://towardsdatascience.com/fastapi-and-streamlit-the-python-duo-you-must-know-about-72825def1243](https://towardsdatascience.com/fastapi-and-streamlit-the-python-duo-you-must-know-about-72825def1243)
- en: '[THE FULL STACK 7-STEPS MLOPS FRAMEWORK](https://towardsdatascience.com/tagged/full-stack-mlops)'
  id: totrans-2
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: '[å®Œæ•´çš„ 7 æ­¥ MLOps æ¡†æ¶](https://towardsdatascience.com/tagged/full-stack-mlops)'
- en: 'Lesson 6: Consume and Visualize your Model''s Predictions using FastAPI and
    Streamlit. Dockerize Everything'
  id: totrans-3
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: ç¬¬6è¯¾ï¼šä½¿ç”¨ FastAPI å’Œ Streamlit æ¶ˆè€—å’Œå¯è§†åŒ–æ¨¡å‹é¢„æµ‹ã€‚å¯¹æ‰€æœ‰å†…å®¹è¿›è¡Œ Docker åŒ–
- en: '[](https://pauliusztin.medium.com/?source=post_page-----72825def1243--------------------------------)[![Paul
    Iusztin](../Images/d07551a78fa87940220b49d9358f3166.png)](https://pauliusztin.medium.com/?source=post_page-----72825def1243--------------------------------)[](https://towardsdatascience.com/?source=post_page-----72825def1243--------------------------------)[![Towards
    Data Science](../Images/a6ff2676ffcc0c7aad8aaf1d79379785.png)](https://towardsdatascience.com/?source=post_page-----72825def1243--------------------------------)
    [Paul Iusztin](https://pauliusztin.medium.com/?source=post_page-----72825def1243--------------------------------)'
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: '[](https://pauliusztin.medium.com/?source=post_page-----72825def1243--------------------------------)[![Paul
    Iusztin](../Images/d07551a78fa87940220b49d9358f3166.png)](https://pauliusztin.medium.com/?source=post_page-----72825def1243--------------------------------)[](https://towardsdatascience.com/?source=post_page-----72825def1243--------------------------------)[![Towards
    Data Science](../Images/a6ff2676ffcc0c7aad8aaf1d79379785.png)](https://towardsdatascience.com/?source=post_page-----72825def1243--------------------------------)
    [Paul Iusztin](https://pauliusztin.medium.com/?source=post_page-----72825def1243--------------------------------)'
- en: Â·Published in [Towards Data Science](https://towardsdatascience.com/?source=post_page-----72825def1243--------------------------------)
    Â·14 min readÂ·Jun 12, 2023
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: Â·å‘è¡¨äº [Towards Data Science](https://towardsdatascience.com/?source=post_page-----72825def1243--------------------------------)
    Â·é˜…è¯»æ—¶é—´ 14 åˆ†é’ŸÂ·2023å¹´6æœˆ12æ—¥
- en: --
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: --
- en: '![](../Images/7beb5df667e2b1bf00cd37002c98447f.png)'
  id: totrans-7
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/7beb5df667e2b1bf00cd37002c98447f.png)'
- en: Photo by [Hassan Pasha](https://unsplash.com/@hpzworkz?utm_source=medium&utm_medium=referral)
    on [Unsplash](https://unsplash.com/?utm_source=medium&utm_medium=referral)
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: å›¾ç‰‡ç”± [Hassan Pasha](https://unsplash.com/@hpzworkz?utm_source=medium&utm_medium=referral)
    æä¾›ï¼Œ[Unsplash](https://unsplash.com/?utm_source=medium&utm_medium=referral)ä¸Šçš„ç…§ç‰‡
- en: This tutorial represents **lesson 6 out of a 7-lesson course** that will walk
    you step-by-step through how to **design, implement, and deploy an ML system**
    using **MLOps good practices**. During the course, you will build a production-ready
    model to forecast energy consumption levels for the next 24 hours across multiple
    consumer types from Denmark.
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: æœ¬æ•™ç¨‹ä»£è¡¨**7èŠ‚è¯¾ç¨‹ä¸­çš„ç¬¬6èŠ‚è¯¾**ï¼Œå°†é€æ­¥æŒ‡å¯¼ä½ å¦‚ä½•**è®¾è®¡ã€å®ç°å’Œéƒ¨ç½² ML ç³»ç»Ÿ**ï¼Œå¹¶åº”ç”¨**MLOps è‰¯å¥½å®è·µ**ã€‚åœ¨è¯¾ç¨‹ä¸­ï¼Œä½ å°†æ„å»ºä¸€ä¸ªç”Ÿäº§çº§æ¨¡å‹ï¼Œç”¨äºé¢„æµ‹ä¸¹éº¦å¤šä¸ªæ¶ˆè´¹è€…ç±»å‹åœ¨æ¥ä¸‹æ¥çš„24å°æ—¶å†…çš„èƒ½æºæ¶ˆè€—æ°´å¹³ã€‚
- en: '*By the end of this course, you will understand all the fundamentals of designing,
    coding and deploying an ML system using a batch-serving architecture.*'
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: '*å®Œæˆæœ¬è¯¾ç¨‹åï¼Œä½ å°†ç†è§£å¦‚ä½•è®¾è®¡ã€ç¼–ç å’Œéƒ¨ç½²ä¸€ä¸ªä½¿ç”¨æ‰¹é‡æœåŠ¡æ¶æ„çš„ ML ç³»ç»Ÿçš„æ‰€æœ‰åŸºç¡€çŸ¥è¯†ã€‚*'
- en: This course *targets mid/advanced machine learning engineers* who want to level
    up their skills by building their own end-to-end projects.
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: æœ¬è¯¾ç¨‹*é’ˆå¯¹å¸Œæœ›é€šè¿‡æ„å»ºè‡ªå·±çš„ç«¯åˆ°ç«¯é¡¹ç›®æ¥æå‡æŠ€èƒ½çš„ä¸­çº§/é«˜çº§æœºå™¨å­¦ä¹ å·¥ç¨‹å¸ˆ*ã€‚
- en: '*Nowadays, certificates are everywhere. Building advanced end-to-end projects
    that you can later show off is the best way to get recognition as a professional
    engineer.*'
  id: totrans-12
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '*å¦‚ä»Šï¼Œè¯ä¹¦éšå¤„å¯è§ã€‚æ„å»ºå…ˆè¿›çš„ç«¯åˆ°ç«¯é¡¹ç›®å¹¶å±•ç¤ºæ˜¯è·å¾—ä¸“ä¸šå·¥ç¨‹å¸ˆè®¤å¯çš„æœ€ä½³æ–¹å¼ã€‚*'
- en: 'Table of Contents:'
  id: totrans-13
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: ç›®å½•ï¼š
- en: Course Introduction
  id: totrans-14
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: è¯¾ç¨‹ç®€ä»‹
- en: Course Lessons
  id: totrans-15
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: è¯¾ç¨‹å†…å®¹
- en: Data Source
  id: totrans-16
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æ•°æ®æ¥æº
- en: 'Lesson 6: Consume and Visualize your Modelâ€™s Predictions using FastAPI and
    Streamlit. Dockerize Everything.'
  id: totrans-17
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ç¬¬6è¯¾ï¼šä½¿ç”¨ FastAPI å’Œ Streamlit æ¶ˆè€—å’Œå¯è§†åŒ–æ¨¡å‹é¢„æµ‹ã€‚å¯¹æ‰€æœ‰å†…å®¹è¿›è¡Œ Docker åŒ–ã€‚
- en: 'Lesson 6: Code'
  id: totrans-18
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ç¬¬6è¯¾ï¼šä»£ç 
- en: Conclusion
  id: totrans-19
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ç»“è®º
- en: References
  id: totrans-20
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å‚è€ƒæ–‡çŒ®
- en: Course Introduction
  id: totrans-21
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: è¯¾ç¨‹ç®€ä»‹
- en: '***At the end of this 7 lessons course, you will know how to:***'
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: '***åœ¨è¿™7èŠ‚è¯¾ç¨‹ç»“æŸæ—¶ï¼Œä½ å°†çŸ¥é“å¦‚ä½•ï¼š***'
- en: design a batch-serving architecture
  id: totrans-23
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: è®¾è®¡ä¸€ä¸ªæ‰¹é‡æœåŠ¡æ¶æ„
- en: use Hopsworks as a feature store
  id: totrans-24
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ä½¿ç”¨ Hopsworks ä½œä¸ºç‰¹å¾å­˜å‚¨
- en: design a feature engineering pipeline that reads data from an API
  id: totrans-25
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: è®¾è®¡ä¸€ä¸ªä» API è¯»å–æ•°æ®çš„ç‰¹å¾å·¥ç¨‹ç®¡é“
- en: build a training pipeline with hyper-parameter tunning
  id: totrans-26
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æ„å»ºä¸€ä¸ªå¸¦æœ‰è¶…å‚æ•°è°ƒä¼˜çš„è®­ç»ƒç®¡é“
- en: use W&B as an ML Platform to track your experiments, models, and metadata
  id: totrans-27
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ä½¿ç”¨ W&B ä½œä¸º ML å¹³å°æ¥è·Ÿè¸ªå®éªŒã€æ¨¡å‹å’Œå…ƒæ•°æ®
- en: implement a batch prediction pipeline
  id: totrans-28
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å®ç°ä¸€ä¸ªæ‰¹é‡é¢„æµ‹ç®¡é“
- en: use Poetry to build your own Python packages
  id: totrans-29
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ä½¿ç”¨ Poetry æ„å»ºä½ è‡ªå·±çš„ Python åŒ…
- en: deploy your own private PyPi server
  id: totrans-30
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: éƒ¨ç½²ä½ è‡ªå·±çš„ç§æœ‰ PyPi æœåŠ¡å™¨
- en: orchestrate everything with Airflow
  id: totrans-31
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ç”¨ Airflow ç¼–æ’ä¸€åˆ‡
- en: use the predictions to code a web app using FastAPI and Streamlit
  id: totrans-32
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ä½¿ç”¨é¢„æµ‹æ¥ç¼–ç ä¸€ä¸ªä½¿ç”¨ FastAPI å’Œ Streamlit çš„ Web åº”ç”¨
- en: use Docker to containerize your code
  id: totrans-33
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ä½¿ç”¨ Docker å°†ä½ çš„ä»£ç å®¹å™¨åŒ–
- en: use Great Expectations to ensure data validation and integrity
  id: totrans-34
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ä½¿ç”¨ Great Expectations ç¡®ä¿æ•°æ®éªŒè¯å’Œå®Œæ•´æ€§
- en: monitor the performance of the predictions over time
  id: totrans-35
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ç›‘æ§é¢„æµ‹ç»“æœçš„æ€§èƒ½éšæ—¶é—´çš„å˜åŒ–
- en: deploy everything to GCP
  id: totrans-36
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å°†æ‰€æœ‰å†…å®¹éƒ¨ç½²åˆ° GCP
- en: build a CI/CD pipeline using GitHub Actions
  id: totrans-37
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ä½¿ç”¨ GitHub Actions æ„å»º CI/CD ç®¡é“
- en: If that sounds like a lot, don't worry. After you cover this course, you will
    understand everything I said before. Most importantly, you will know WHY I used
    all these tools and how they work together as a system.
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: å¦‚æœè¿™å¬èµ·æ¥å¾ˆå¤šï¼Œä¸ç”¨æ‹…å¿ƒã€‚åœ¨ä½ å®Œæˆè¿™ä¸ªè¯¾ç¨‹åï¼Œä½ å°†ç†è§£æˆ‘ä¹‹å‰æ‰€è¯´çš„ä¸€åˆ‡ã€‚æœ€é‡è¦çš„æ˜¯ï¼Œä½ ä¼šçŸ¥é“æˆ‘ä¸ºä»€ä¹ˆä½¿ç”¨è¿™äº›å·¥å…·ä»¥åŠå®ƒä»¬å¦‚ä½•ä½œä¸ºä¸€ä¸ªç³»ç»ŸååŒå·¥ä½œã€‚
- en: '**If you want to get the most out of this course,** [**I suggest you access
    the GitHub repository**](https://github.com/iusztinpaul/energy-forecasting) **containing
    all the lessons'' code. This course is designed to quickly read and replicate
    the code along the articles.**'
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: '**å¦‚æœä½ æƒ³æœ€å¤§é™åº¦åœ°ä»è¿™ä¸ªè¯¾ç¨‹ä¸­å—ç›Šï¼Œ** [**æˆ‘å»ºè®®ä½ è®¿é—®åŒ…å«æ‰€æœ‰è¯¾ç¨‹ä»£ç çš„ GitHub ä»“åº“**](https://github.com/iusztinpaul/energy-forecasting)
    **ã€‚æœ¬è¯¾ç¨‹æ—¨åœ¨å¿«é€Ÿé˜…è¯»å’Œå¤åˆ¶æ–‡ç« ä¸­çš„ä»£ç ã€‚**'
- en: By the end of the course, you will know how to implement the diagram below.
    Don't worry if something doesn't make sense to you. I will explain everything
    in detail.
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: åˆ°è¯¾ç¨‹ç»“æŸæ—¶ï¼Œä½ å°†çŸ¥é“å¦‚ä½•å®ç°ä¸‹å›¾ã€‚å³ä½¿æœ‰äº›å†…å®¹å¯¹ä½ æ¥è¯´ä¸å¤ªæ˜ç™½ï¼Œä¹Ÿä¸ç”¨æ‹…å¿ƒã€‚æˆ‘ä¼šè¯¦ç»†è§£é‡Šä¸€åˆ‡ã€‚
- en: '![](../Images/4b5c3b0b8e2162ea8fd268ca745199ec.png)'
  id: totrans-41
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/4b5c3b0b8e2162ea8fd268ca745199ec.png)'
- en: Diagram of the architecture you will build during the course [Image by the Author].
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: è¯¾ç¨‹ä¸­ä½ å°†æ„å»ºçš„æ¶æ„ç¤ºæ„å›¾ [ä½œè€…æä¾›çš„å›¾ç‰‡]ã€‚
- en: By the **end of Lesson 6**, you will know how to consume the predictions and
    the monitoring metrics from the GCP bucket within a web app using FastAPI and
    Streamlit.
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: åˆ°**ç¬¬ 6 è¯¾ç»“æŸæ—¶**ï¼Œä½ å°†çŸ¥é“å¦‚ä½•ä½¿ç”¨ FastAPI å’Œ Streamlit ä» GCP å­˜å‚¨æ¡¶ä¸­æ¶ˆè´¹é¢„æµ‹å’Œç›‘æ§æŒ‡æ ‡ã€‚
- en: 'Course Lessons:'
  id: totrans-44
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: è¯¾ç¨‹å†…å®¹ï¼š
- en: '[Batch Serving. Feature Stores. Feature Engineering Pipelines.](https://medium.com/towards-data-science/a-framework-for-building-a-production-ready-feature-engineering-pipeline-f0b29609b20f)'
  id: totrans-45
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[æ‰¹é‡æœåŠ¡ã€‚ç‰¹å¾å­˜å‚¨ã€‚ç‰¹å¾å·¥ç¨‹ç®¡é“ã€‚](https://medium.com/towards-data-science/a-framework-for-building-a-production-ready-feature-engineering-pipeline-f0b29609b20f)'
- en: '[Training Pipelines. ML Platforms. Hyperparameter Tuning.](https://medium.com/towards-data-science/a-guide-to-building-effective-training-pipelines-for-maximum-results-6fdaef594cee)'
  id: totrans-46
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[è®­ç»ƒç®¡é“ã€‚ML å¹³å°ã€‚è¶…å‚æ•°è°ƒæ•´ã€‚](https://medium.com/towards-data-science/a-guide-to-building-effective-training-pipelines-for-maximum-results-6fdaef594cee)'
- en: '[Batch Prediction Pipeline. Package Python Modules with Poetry.](https://medium.com/towards-data-science/unlock-the-secret-to-efficient-batch-prediction-pipelines-using-python-a-feature-store-and-gcs-17a1462ca489)'
  id: totrans-47
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[æ‰¹é‡é¢„æµ‹ç®¡é“ã€‚ç”¨ Poetry æ‰“åŒ… Python æ¨¡å—ã€‚](https://medium.com/towards-data-science/unlock-the-secret-to-efficient-batch-prediction-pipelines-using-python-a-feature-store-and-gcs-17a1462ca489)'
- en: '[Private PyPi Server. Orchestrate Everything with Airflow.](/unlocking-mlops-using-airflow-a-comprehensive-guide-to-ml-system-orchestration-880aa9be8cff)'
  id: totrans-48
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[ç§æœ‰ PyPi æœåŠ¡å™¨ã€‚ç”¨ Airflow ç¼–æ’ä¸€åˆ‡ã€‚](/unlocking-mlops-using-airflow-a-comprehensive-guide-to-ml-system-orchestration-880aa9be8cff)'
- en: '[Data Validation for Quality and Integrity using GE. Model Performance Continuous
    Monitoring.](/ensuring-trustworthy-ml-systems-with-data-validation-and-real-time-monitoring-89ab079f4360)'
  id: totrans-49
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[ä½¿ç”¨ GE è¿›è¡Œæ•°æ®è´¨é‡å’Œå®Œæ•´æ€§éªŒè¯ã€‚æ¨¡å‹æ€§èƒ½çš„æŒç»­ç›‘æ§ã€‚](/ensuring-trustworthy-ml-systems-with-data-validation-and-real-time-monitoring-89ab079f4360)'
- en: '**Consume and Visualize your Model''s Predictions using FastAPI and Streamlit.
    Dockerize Everything.**'
  id: totrans-50
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**ä½¿ç”¨ FastAPI å’Œ Streamlit æ¶ˆè´¹å’Œå¯è§†åŒ–ä½ çš„æ¨¡å‹é¢„æµ‹ã€‚å°†ä¸€åˆ‡ Docker åŒ–ã€‚**'
- en: '[Deploy All the ML Components to GCP. Build a CI/CD Pipeline Using Github Actions.](https://medium.com/towards-data-science/seamless-ci-cd-pipelines-with-github-actions-on-gcp-your-tools-for-effective-mlops-96f676f72012)'
  id: totrans-51
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[å°†æ‰€æœ‰ ML ç»„ä»¶éƒ¨ç½²åˆ° GCPã€‚ä½¿ç”¨ GitHub Actions æ„å»º CI/CD ç®¡é“ã€‚](https://medium.com/towards-data-science/seamless-ci-cd-pipelines-with-github-actions-on-gcp-your-tools-for-effective-mlops-96f676f72012)'
- en: '[[Bonus] Behind the Scenes of an â€˜Imperfectâ€™ ML Project â€” Lessons and Insights](https://medium.com/towards-data-science/imperfections-unveiled-the-intriguing-reality-behind-our-mlops-course-creation-6ff7d52ecb7e)'
  id: totrans-52
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[[é™„åŠ å†…å®¹] â€˜ä¸å®Œç¾â€™ ML é¡¹ç›®çš„å¹•å â€” ç»éªŒæ•™è®­å’Œè§è§£](https://medium.com/towards-data-science/imperfections-unveiled-the-intriguing-reality-behind-our-mlops-course-creation-6ff7d52ecb7e)'
- en: Check out [Lesson 3](/unlock-the-secret-to-efficient-batch-prediction-pipelines-using-python-a-feature-store-and-gcs-17a1462ca489)
    to learn how we computed and stored the predictions in a GCP bucket.
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: æŸ¥çœ‹ [ç¬¬ 3 è¯¾](/unlock-the-secret-to-efficient-batch-prediction-pipelines-using-python-a-feature-store-and-gcs-17a1462ca489)
    äº†è§£æˆ‘ä»¬å¦‚ä½•è®¡ç®—å’Œå­˜å‚¨ GCP å­˜å‚¨æ¡¶ä¸­çš„é¢„æµ‹ç»“æœã€‚
- en: Also, in [Lesson 5](/ensuring-trustworthy-ml-systems-with-data-validation-and-real-time-monitoring-89ab079f4360),
    you can see how we calculated the monitoring metrics, which are also stored in
    a GCP bucket.
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: æ­¤å¤–ï¼Œåœ¨[ç¬¬5èŠ‚](/ensuring-trustworthy-ml-systems-with-data-validation-and-real-time-monitoring-89ab079f4360)ï¼Œä½ å¯ä»¥æŸ¥çœ‹æˆ‘ä»¬å¦‚ä½•è®¡ç®—ç›‘æ§æŒ‡æ ‡ï¼Œè¿™äº›æŒ‡æ ‡ä¹Ÿå­˜å‚¨åœ¨GCPå­˜å‚¨æ¡¶ä¸­ã€‚
- en: You will consume the predictions and the monitoring metrics from the GCP bucket
    and display them in a friendly dashboard using FastAPI and Streamlit.
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: ä½ å°†ä»GCPå­˜å‚¨æ¡¶ä¸­è·å–é¢„æµ‹ç»“æœå’Œç›‘æ§æŒ‡æ ‡ï¼Œå¹¶ä½¿ç”¨FastAPIå’ŒStreamlitå°†å…¶æ˜¾ç¤ºåœ¨ä¸€ä¸ªå‹å¥½çš„ä»ªè¡¨æ¿ä¸Šã€‚
- en: Data Source
  id: totrans-56
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: æ•°æ®æº
- en: We used a free & open API that provides hourly energy consumption values for
    all the energy consumer types within Denmark [1].
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬ä½¿ç”¨äº†ä¸€ä¸ªå…è´¹çš„å¼€æ”¾APIï¼Œå®ƒæä¾›äº†ä¸¹éº¦æ‰€æœ‰èƒ½æºæ¶ˆè´¹è€…ç±»å‹çš„æ¯å°æ—¶èƒ½æºæ¶ˆè€—å€¼[1]ã€‚
- en: They provide an intuitive interface where you can easily query and visualize
    the data. [You can access the data here](https://www.energidataservice.dk/tso-electricity/ConsumptionDE35Hour)
    [1].
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: å®ƒä»¬æä¾›äº†ä¸€ä¸ªç›´è§‚çš„ç•Œé¢ï¼Œä½ å¯ä»¥è½»æ¾æŸ¥è¯¢å’Œå¯è§†åŒ–æ•°æ®ã€‚[ä½ å¯ä»¥åœ¨è¿™é‡Œè®¿é—®æ•°æ®](https://www.energidataservice.dk/tso-electricity/ConsumptionDE35Hour)
    [1]ã€‚
- en: 'The data has 4 main attributes:'
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: æ•°æ®å…·æœ‰4ä¸ªä¸»è¦å±æ€§ï¼š
- en: '**Hour UTC:** the UTC datetime when the data point was observed.'
  id: totrans-60
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**å°æ—¶UTCï¼š** è§‚æµ‹æ•°æ®ç‚¹æ—¶çš„UTCæ—¥æœŸæ—¶é—´ã€‚'
- en: '**Price Area:** Denmark is divided into two price areas: DK1 and DK2 â€” divided
    by the Great Belt. DK1 is west of the Great Belt, and DK2 is east of the Great
    Belt.'
  id: totrans-61
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**ä»·æ ¼åŒºåŸŸï¼š** ä¸¹éº¦è¢«åˆ’åˆ†ä¸ºä¸¤ä¸ªä»·æ ¼åŒºåŸŸï¼šDK1å’ŒDK2 â€”â€” ç”±å¤§è´å°”ç‰¹åˆ†éš”ã€‚DK1ä½äºå¤§è´å°”ç‰¹ä»¥è¥¿ï¼ŒDK2ä½äºå¤§è´å°”ç‰¹ä»¥ä¸œã€‚'
- en: '**Consumer Type:** The consumer type is the Industry Code DE35, owned and maintained
    by Danish Energy.'
  id: totrans-62
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**æ¶ˆè´¹è€…ç±»å‹ï¼š** æ¶ˆè´¹è€…ç±»å‹ä¸ºè¡Œä¸šä»£ç DE35ï¼Œç”±ä¸¹éº¦èƒ½æºå…¬å¸æ‹¥æœ‰å’Œç»´æŠ¤ã€‚'
- en: '**Total Consumption:** Total electricity consumption in kWh'
  id: totrans-63
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**æ€»æ¶ˆè€—ï¼š** æ€»ç”µåŠ›æ¶ˆè€—ï¼ˆå•ä½ï¼šåƒç“¦æ—¶ï¼‰'
- en: '**Note:** The observations have a lag of 15 days! But for our demo use case,
    that is not a problem, as we can simulate the same steps as it would in real-time.'
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: '**æ³¨æ„ï¼š** è§‚æµ‹æ•°æ®æœ‰15å¤©çš„æ»åï¼ä½†å¯¹äºæˆ‘ä»¬çš„æ¼”ç¤ºç”¨ä¾‹ï¼Œè¿™ä¸æ˜¯é—®é¢˜ï¼Œå› ä¸ºæˆ‘ä»¬å¯ä»¥æ¨¡æ‹Ÿä¸å®æ—¶ç›¸åŒçš„æ­¥éª¤ã€‚'
- en: '![](../Images/4eab6debdb7ba94406b8d0a8e28e3438.png)'
  id: totrans-65
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/4eab6debdb7ba94406b8d0a8e28e3438.png)'
- en: A screenshot from our web app showing how we forecasted the energy consumption
    for area = 1 and consumer_type = 212 [Image by the Author].
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬çš„ç½‘é¡µåº”ç”¨ç¨‹åºçš„æˆªå›¾ï¼Œæ˜¾ç¤ºäº†æˆ‘ä»¬å¦‚ä½•é¢„æµ‹åŒºåŸŸ=1å’Œæ¶ˆè´¹è€…ç±»å‹=212çš„èƒ½æºæ¶ˆè€—[å›¾ç‰‡ç”±ä½œè€…æä¾›]ã€‚
- en: 'The data points have an hourly resolution. For example: "2023â€“04â€“15 21:00Z",
    "2023â€“04â€“15 20:00Z", "2023â€“04â€“15 19:00Z", etc.'
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: æ•°æ®ç‚¹å…·æœ‰æ¯å°æ—¶åˆ†è¾¨ç‡ã€‚ä¾‹å¦‚ï¼šâ€œ2023â€“04â€“15 21:00Zâ€ï¼Œâ€œ2023â€“04â€“15 20:00Zâ€ï¼Œâ€œ2023â€“04â€“15 19:00Zâ€ç­‰ã€‚
- en: We will model the data as multiple time series. Each unique **price area** and
    **consumer type tuple represents its** unique time series.
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬å°†æ•°æ®å»ºæ¨¡ä¸ºå¤šä¸ªæ—¶é—´åºåˆ—ã€‚æ¯ä¸ªå”¯ä¸€çš„**ä»·æ ¼åŒºåŸŸ**å’Œ**æ¶ˆè´¹è€…ç±»å‹**å…ƒç»„ä»£è¡¨ä¸€ä¸ªç‹¬ç‰¹çš„æ—¶é—´åºåˆ—ã€‚
- en: Thus, we will build a model that independently forecasts the energy consumption
    for the next 24 hours for every time series.
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: å› æ­¤ï¼Œæˆ‘ä»¬å°†æ„å»ºä¸€ä¸ªæ¨¡å‹ï¼Œä¸ºæ¯ä¸ªæ—¶é—´åºåˆ—ç‹¬ç«‹é¢„æµ‹æ¥ä¸‹æ¥çš„24å°æ—¶çš„èƒ½æºæ¶ˆè€—ã€‚
- en: '*Check out the video below to better understand what the data looks like* ğŸ‘‡'
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: '*æŸ¥çœ‹ä¸‹é¢çš„è§†é¢‘ä»¥æ›´å¥½åœ°ç†è§£æ•°æ®çš„æ ·å­* ğŸ‘‡'
- en: Course & data source overview [Video by the Author].
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: è¯¾ç¨‹å’Œæ•°æ®æºæ¦‚è¿° [è§†é¢‘ç”±ä½œè€…æä¾›]ã€‚
- en: 'Lesson 6: Consume and Visualize your Model''s Predictions using FastAPI and
    Streamlit. Dockerize Everything.'
  id: totrans-72
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: ç¬¬6èŠ‚ï¼šä½¿ç”¨FastAPIå’ŒStreamlitè·å–å¹¶å¯è§†åŒ–æ¨¡å‹çš„é¢„æµ‹ã€‚å°†ä¸€åˆ‡DockeråŒ–ã€‚
- en: The goal of Lesson 6
  id: totrans-73
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: ç¬¬6èŠ‚çš„ç›®æ ‡
- en: In Lesson 6, you will build a FastAPI backend that will consume the predictions
    and monitoring metrics from GCS and expose them through a RESTful API. More concretely,
    through a set of endpoints that will expose the data through HTTP(S).
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨ç¬¬6èŠ‚ä¸­ï¼Œä½ å°†æ„å»ºä¸€ä¸ªFastAPIåç«¯ï¼Œè¯¥åç«¯å°†ä»GCSä¸­è·å–é¢„æµ‹ç»“æœå’Œç›‘æ§æŒ‡æ ‡ï¼Œå¹¶é€šè¿‡RESTful APIæš´éœ²è¿™äº›æ•°æ®ã€‚æ›´å…·ä½“åœ°è¯´ï¼Œé€šè¿‡ä¸€ç»„ç«¯ç‚¹é€šè¿‡HTTP(S)æš´éœ²æ•°æ®ã€‚
- en: 'Also, you will implement 2 different frontend applications using solely Streamlit:'
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
  zh: æ­¤å¤–ï¼Œä½ å°†ä½¿ç”¨Streamlitå®ç°ä¸¤ä¸ªä¸åŒçš„å‰ç«¯åº”ç”¨ç¨‹åºï¼š
- en: a dashboard showing the forecasts (aka your application),
  id: totrans-76
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: æ˜¾ç¤ºé¢„æµ‹çš„ä»ªè¡¨æ¿ï¼ˆå³ä½ çš„åº”ç”¨ç¨‹åºï¼‰ï¼Œ
- en: a dashboard showing the monitoring metrics (aka your monitoring dashboard).
  id: totrans-77
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: æ˜¾ç¤ºç›‘æ§æŒ‡æ ‡çš„ä»ªè¡¨æ¿ï¼ˆå³ä½ çš„ç›‘æ§ä»ªè¡¨æ¿ï¼‰ã€‚
- en: Both frontend applications will request data from the FastAPI RESTful API through
    HTTP(s) and use Streamlit to render the data into some beautiful plots.
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸¤ä¸ªå‰ç«¯åº”ç”¨ç¨‹åºå°†é€šè¿‡HTTP(s)ä»FastAPI RESTful APIè¯·æ±‚æ•°æ®ï¼Œå¹¶ä½¿ç”¨Streamlitå°†æ•°æ®å‘ˆç°æˆä¸€äº›ç¾ä¸½çš„å›¾è¡¨ã€‚
- en: I want to highlight that you can use both frameworks (FastAPI & Streamlit) in
    Python. This is extremely useful for a DS or MLE, as Python is their holy grail.
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘æƒ³å¼ºè°ƒçš„æ˜¯ï¼Œä½ å¯ä»¥åœ¨Pythonä¸­åŒæ—¶ä½¿ç”¨è¿™ä¸¤ä¸ªæ¡†æ¶ï¼ˆFastAPIå’ŒStreamlitï¼‰ã€‚è¿™å¯¹æ•°æ®ç§‘å­¦å®¶æˆ–æœºå™¨å­¦ä¹ å·¥ç¨‹å¸ˆéå¸¸æœ‰ç”¨ï¼Œå› ä¸ºPythonæ˜¯ä»–ä»¬çš„ç»ˆæå·¥å…·ã€‚
- en: '![](../Images/4a7712f71ecc251c99dd732bb42dc92c.png)'
  id: totrans-80
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/4a7712f71ecc251c99dd732bb42dc92c.png)'
- en: Diagram of the final architecture with the Lesson 6 components highlighted in
    blue [Image by the Author].
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: æœ€ç»ˆæ¶æ„çš„ç¤ºæ„å›¾ï¼ŒLesson 6 ç»„ä»¶ä»¥è“è‰²çªå‡ºæ˜¾ç¤º [å›¾ç‰‡æ¥æºï¼šä½œè€…]ã€‚
- en: 'Note that consuming the predictions from the bucket is completely decoupled
    from the 3 pipeline design. For example, running the 3 pipelines: feature engineer,
    training, and inference takes ~10 minutes. But to read the predictions or the
    monitor metrics from the bucket is almost instant.'
  id: totrans-82
  prefs: []
  type: TYPE_NORMAL
  zh: è¯·æ³¨æ„ï¼Œä»å­˜å‚¨æ¡¶ä¸­è·å–é¢„æµ‹ç»“æœä¸ 3 ä¸ªç®¡é“è®¾è®¡å®Œå…¨è§£è€¦ã€‚ä¾‹å¦‚ï¼Œè¿è¡Œ 3 ä¸ªç®¡é“ï¼šç‰¹å¾å·¥ç¨‹ã€è®­ç»ƒå’Œæ¨ç†å¤§çº¦éœ€è¦ 10 åˆ†é’Ÿã€‚ä½†ä»å­˜å‚¨æ¡¶ä¸­è¯»å–é¢„æµ‹ç»“æœæˆ–ç›‘æ§æŒ‡æ ‡å‡ ä¹æ˜¯ç¬é—´å®Œæˆçš„ã€‚
- en: 'Thus, by caching the predictions into GCP, you served the ML model online from
    the client''s point of view: the predictions are served in real time.'
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
  zh: å› æ­¤ï¼Œé€šè¿‡å°†é¢„æµ‹ç»“æœç¼“å­˜åˆ° GCPï¼Œä½ ä»å®¢æˆ·ç«¯çš„è§’åº¦åœ¨çº¿æä¾›äº† ML æ¨¡å‹ï¼šé¢„æµ‹ç»“æœæ˜¯å®æ—¶æä¾›çš„ã€‚
- en: '*This is the magic of the batch architecture.*'
  id: totrans-84
  prefs: []
  type: TYPE_NORMAL
  zh: '*è¿™å°±æ˜¯æ‰¹å¤„ç†æ¶æ„çš„é­”åŠ›ã€‚*'
- en: The next natural steps are to move your architecture from a batch architecture
    to a request-response or streaming one.
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: æ¥ä¸‹æ¥çš„è‡ªç„¶æ­¥éª¤æ˜¯å°†ä½ çš„æ¶æ„ä»æ‰¹å¤„ç†æ¶æ„è¿ç§»åˆ°è¯·æ±‚-å“åº”æˆ–æµå¼æ¶æ„ã€‚
- en: The good news is that the FE and training pipelines would be almost the same,
    and you would have to move only the batch prediction pipeline (aka the inference
    step) into your web infrastructure. [Read this article to learn the basics of
    deploying your model in a request-response fashion using Docker.](https://medium.com/faun/key-concepts-for-model-serving-38ccbb2de372)
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
  zh: å¥½æ¶ˆæ¯æ˜¯ FE å’Œè®­ç»ƒç®¡é“å‡ ä¹æ˜¯ç›¸åŒçš„ï¼Œä½ åªéœ€è¦å°†æ‰¹å¤„ç†é¢„æµ‹ç®¡é“ï¼ˆå³æ¨ç†æ­¥éª¤ï¼‰è¿ç§»åˆ°ä½ çš„ web åŸºç¡€è®¾æ–½ä¸­ã€‚[é˜…è¯»è¿™ç¯‡æ–‡ç« ä»¥äº†è§£ä½¿ç”¨ Docker ä»¥è¯·æ±‚-å“åº”æ–¹å¼éƒ¨ç½²æ¨¡å‹çš„åŸºç¡€çŸ¥è¯†ã€‚](https://medium.com/faun/key-concepts-for-model-serving-38ccbb2de372)
- en: '***Why?***'
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
  zh: '***ä¸ºä»€ä¹ˆï¼Ÿ***'
- en: Because the training pipeline uploads the weights of the trained model into
    the model registry. From there, you can use the weights as it fits best for your
    use case.
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: å› ä¸ºè®­ç»ƒç®¡é“å°†è®­ç»ƒæ¨¡å‹çš„æƒé‡ä¸Šä¼ åˆ°æ¨¡å‹æ³¨å†Œè¡¨ã€‚ä»é‚£é‡Œï¼Œä½ å¯ä»¥æ ¹æ®ä½ çš„ç”¨ä¾‹éœ€æ±‚ä½¿ç”¨è¿™äº›æƒé‡ã€‚
- en: Theoretical Concepts & Tools
  id: totrans-89
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: ç†è®ºæ¦‚å¿µä¸å·¥å…·
- en: '**FastAPI:** One of the latest and most famous Python API web frameworks. I
    have tried all of the top Python API web frameworks: Django, Flask, and FastAPI,
    and my heart goes to FastAPI.'
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: '**FastAPIï¼š** æœ€æ–°ä¸”æœ€è‘—åçš„ Python API web æ¡†æ¶ä¹‹ä¸€ã€‚æˆ‘å°è¯•è¿‡æ‰€æœ‰é¡¶çº§ Python API web æ¡†æ¶ï¼šDjangoã€Flask
    å’Œ FastAPIï¼Œæˆ‘çš„å¿ƒå± FastAPIã€‚'
- en: '***Why?***'
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
  zh: '***ä¸ºä»€ä¹ˆï¼Ÿ***'
- en: First, it is natively async, which can boost performance with fewer computing
    resources.
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: é¦–å…ˆï¼Œå®ƒæœ¬åœ°æ”¯æŒå¼‚æ­¥ï¼Œè¿™å¯ä»¥ç”¨æ›´å°‘çš„è®¡ç®—èµ„æºæå‡æ€§èƒ½ã€‚
- en: Secondly, it is easy and intuitive to use, which makes it suitable for applications
    of all sizes. Even though, for behemoth monoliths, I would still choose Django.
    But this is a topic for another time.
  id: totrans-93
  prefs: []
  type: TYPE_NORMAL
  zh: å…¶æ¬¡ï¼Œå®ƒä½¿ç”¨ç®€å•ç›´è§‚ï¼Œé€‚åˆå„ç§è§„æ¨¡çš„åº”ç”¨ç¨‹åºã€‚å°½ç®¡å¦‚æ­¤ï¼Œå¯¹äºåºå¤§çš„å•ä½“åº”ç”¨ï¼Œæˆ‘ä»ç„¶ä¼šé€‰æ‹© Djangoã€‚ä½†è¿™æ˜¯å¦ä¸€ä¸ªè¯é¢˜ã€‚
- en: '**Streamlit:** Streamlit makes coding simple UI components, mostly dashboards,
    extremely accessible using solely Python.'
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: '**Streamlitï¼š** Streamlit ä½¿å¾—ç”¨ Python è½»æ¾åˆ›å»ºç®€å•çš„ UI ç»„ä»¶ï¼ˆä¸»è¦æ˜¯ä»ªè¡¨ç›˜ï¼‰å˜å¾—éå¸¸ç®€å•ã€‚'
- en: The scope of Streamlit is to let Data Scientists and ML engineers use what they
    know best, aka Python, to build a beautiful frontend for their models quickly.
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
  zh: Streamlit çš„èŒƒå›´æ˜¯è®©æ•°æ®ç§‘å­¦å®¶å’Œ ML å·¥ç¨‹å¸ˆåˆ©ç”¨ä»–ä»¬æœ€æ“…é•¿çš„ä¸œè¥¿ï¼Œå³ Pythonï¼Œå¿«é€Ÿæ„å»ºä»–ä»¬æ¨¡å‹çš„æ¼‚äº®å‰ç«¯ã€‚
- en: '*Which is precisely what we did*âœŒï¸'
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
  zh: '*è¿™æ­£æ˜¯æˆ‘ä»¬æ‰€åšçš„*âœŒï¸'
- en: Thus, you will use FastAPI as your backend and Streamlit as your frontend to
    build a web app solely in Python.
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
  zh: å› æ­¤ï¼Œä½ å°†ä½¿ç”¨ FastAPI ä½œä¸ºåç«¯ï¼ŒStreamlit ä½œä¸ºå‰ç«¯ï¼Œä»…ç”¨ Python æ„å»ºä¸€ä¸ª web åº”ç”¨ã€‚
- en: 'Lesson 6: Code'
  id: totrans-98
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: Lesson 6ï¼šä»£ç 
- en: '[You can access the GitHub repository here.](https://github.com/iusztinpaul/energy-forecasting)'
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: '[ä½ å¯ä»¥åœ¨è¿™é‡Œè®¿é—® GitHub ä»“åº“ã€‚](https://github.com/iusztinpaul/energy-forecasting)'
- en: '**Note:** All the installation instructions are in the READMEs of the repository.
    Here you will jump straight to the code.'
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
  zh: '**æ³¨æ„ï¼š** æ‰€æœ‰çš„å®‰è£…è¯´æ˜éƒ½åœ¨ä»“åº“çš„ README æ–‡ä»¶ä¸­ã€‚è¿™é‡Œä½ å°†ç›´æ¥è¿›å…¥ä»£ç éƒ¨åˆ†ã€‚'
- en: '*The code within Lesson 6 is located under the following:*'
  id: totrans-101
  prefs: []
  type: TYPE_NORMAL
  zh: '*Lesson 6 ä¸­çš„ä»£ç ä½äºä»¥ä¸‹ä½ç½®ï¼š*'
- en: '[***app-api***](https://github.com/iusztinpaul/energy-forecasting/tree/main/app-api)folder
    â€” FastAPI backend'
  id: totrans-102
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[***app-api***](https://github.com/iusztinpaul/energy-forecasting/tree/main/app-api)
    æ–‡ä»¶å¤¹ â€” FastAPI åç«¯'
- en: '[***app-frontend***](https://github.com/iusztinpaul/energy-forecasting/tree/main/app-frontend)
    folder â€” Predictions Dashboard'
  id: totrans-103
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[***app-frontend***](https://github.com/iusztinpaul/energy-forecasting/tree/main/app-frontend)
    æ–‡ä»¶å¤¹ â€” é¢„æµ‹ä»ªè¡¨ç›˜'
- en: '[***app-monitoring***](https://github.com/iusztinpaul/energy-forecasting/tree/main/app-monitoring)
    folder â€” Monitoring Dashboard'
  id: totrans-104
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[***app-monitoring***](https://github.com/iusztinpaul/energy-forecasting/tree/main/app-monitoring)
    æ–‡ä»¶å¤¹ â€” ç›‘æ§ä»ªè¡¨ç›˜'
- en: 'Using Docker, you can quickly spin up all 3 components at once:'
  id: totrans-105
  prefs: []
  type: TYPE_NORMAL
  zh: ä½¿ç”¨ Dockerï¼Œä½ å¯ä»¥è¿…é€Ÿå¯åŠ¨æ‰€æœ‰ä¸‰ä¸ªç»„ä»¶ï¼š
- en: '[PRE0]'
  id: totrans-106
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: Directly storing credentials in your git repository is a huge security risk.
    That is why you will inject sensitive information using a **.env** file.
  id: totrans-107
  prefs: []
  type: TYPE_NORMAL
  zh: ç›´æ¥å°†å‡­è¯å­˜å‚¨åœ¨ä½ çš„ git ä»“åº“ä¸­æ˜¯ä¸€ä¸ªå·¨å¤§çš„å®‰å…¨é£é™©ã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆä½ å°†é€šè¿‡**.env**æ–‡ä»¶æ³¨å…¥æ•æ„Ÿä¿¡æ¯ã€‚
- en: The **.env.default** is an example of all the variables you must configure.
    It is also helpful to store default values for attributes that are not sensitive
    (e.g., project name).
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
  zh: '**.env.default**æ˜¯ä½ å¿…é¡»é…ç½®çš„æ‰€æœ‰å˜é‡çš„ç¤ºä¾‹ã€‚å®ƒè¿˜å¸®åŠ©å­˜å‚¨ä¸æ•æ„Ÿçš„å±æ€§çš„é»˜è®¤å€¼ï¼ˆä¾‹å¦‚ï¼Œé¡¹ç›®åç§°ï¼‰ã€‚'
- en: '![](../Images/87b81fc121cea9485a6b41dd4d656eb8.png)'
  id: totrans-109
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/87b81fc121cea9485a6b41dd4d656eb8.png)'
- en: A screenshot of the .env.default file [Image by the Author].
  id: totrans-110
  prefs: []
  type: TYPE_NORMAL
  zh: '**.env.default**æ–‡ä»¶çš„æˆªå›¾[ä½œè€…æä¾›çš„å›¾ç‰‡]ã€‚'
- en: Prepare Credentials
  id: totrans-111
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: å‡†å¤‡å‡­è¯
- en: For this lesson, the only service you need access to is GCS. In the **Prepare
    Credentials** section of[Lesson 3](/unlock-the-secret-to-efficient-batch-prediction-pipelines-using-python-a-feature-store-and-gcs-17a1462ca489),
    we already explained in detail how to do this. Also, you have more information
    in the [GitHub README](https://github.com/iusztinpaul/energy-forecasting/blob/main/README.md#gcp).
  id: totrans-112
  prefs: []
  type: TYPE_NORMAL
  zh: å¯¹äºæœ¬è¯¾ç¨‹ï¼Œä½ éœ€è¦è®¿é—®çš„å”¯ä¸€æœåŠ¡æ˜¯ GCSã€‚åœ¨[ç¬¬ 3 è¯¾](/unlock-the-secret-to-efficient-batch-prediction-pipelines-using-python-a-feature-store-and-gcs-17a1462ca489)çš„**å‡†å¤‡å‡­è¯**éƒ¨åˆ†ï¼Œæˆ‘ä»¬å·²ç»è¯¦ç»†è§£é‡Šäº†å¦‚ä½•æ“ä½œã€‚æ­¤å¤–ï¼Œä½ è¿˜å¯ä»¥åœ¨[GitHub
    README](https://github.com/iusztinpaul/energy-forecasting/blob/main/README.md#gcp)ä¸­æ‰¾åˆ°æ›´å¤šä¿¡æ¯ã€‚
- en: To keep things concise, in this lesson, I want to highlight that the web app
    GCP service account should have read access only for security reasons.
  id: totrans-113
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸ºäº†ä¿æŒç®€æ´ï¼Œåœ¨æœ¬è¯¾ç¨‹ä¸­ï¼Œæˆ‘æƒ³å¼ºè°ƒçš„æ˜¯ï¼ŒWeb åº”ç”¨çš„ GCP æœåŠ¡è´¦æˆ·åº”ä»…å…·æœ‰è¯»å–æƒé™ï¼Œä»¥ä¿è¯å®‰å…¨ã€‚
- en: '**Why?**'
  id: totrans-114
  prefs: []
  type: TYPE_NORMAL
  zh: '**ä¸ºä»€ä¹ˆï¼Ÿ**'
- en: Becausethe FastAPI API will only read data from the GCP buckets & keeping the
    permissions to the bare minimum is good practice.
  id: totrans-115
  prefs: []
  type: TYPE_NORMAL
  zh: å› ä¸º FastAPI API åªä¼šè¯»å– GCP å­˜å‚¨æ¡¶ä¸­çš„æ•°æ®ï¼Œå¹¶ä¸”ä¿æŒæœ€å°æƒé™æ˜¯ä¸€ç§è‰¯å¥½çš„å®è·µã€‚
- en: Thus, if your web app is hacked, the attacker can only read the data using the
    stolen service account credentials. He can't delete or overwrite the data, which
    is much more dangerous in this case.
  id: totrans-116
  prefs: []
  type: TYPE_NORMAL
  zh: å› æ­¤ï¼Œå¦‚æœä½ çš„ Web åº”ç”¨è¢«é»‘å®¢å…¥ä¾µï¼Œæ”»å‡»è€…åªèƒ½ä½¿ç”¨è¢«ç›—çš„æœåŠ¡è´¦æˆ·å‡­è¯è¯»å–æ•°æ®ã€‚ä»–ä¸èƒ½åˆ é™¤æˆ–è¦†ç›–æ•°æ®ï¼Œè¿™åœ¨è¿™ç§æƒ…å†µä¸‹è¦å®‰å…¨å¾—å¤šã€‚
- en: Thus, repeat the same steps as in the **Prepare Credentials** section of [Lesson
    3](/unlock-the-secret-to-efficient-batch-prediction-pipelines-using-python-a-feature-store-and-gcs-17a1462ca489),
    but instead of choosing the *Store Object Admin* role, choose the *Storage Object
    Viewer role*.
  id: totrans-117
  prefs: []
  type: TYPE_NORMAL
  zh: å› æ­¤ï¼Œé‡å¤[ç¬¬ 3 è¯¾](/unlock-the-secret-to-efficient-batch-prediction-pipelines-using-python-a-feature-store-and-gcs-17a1462ca489)çš„**å‡†å¤‡å‡­è¯**éƒ¨åˆ†ä¸­çš„ç›¸åŒæ­¥éª¤ï¼Œä½†é€‰æ‹©*Storage
    Object Viewer role*è§’è‰²ï¼Œè€Œä¸æ˜¯*Store Object Admin*è§’è‰²ã€‚
- en: Remember that now you have to download a different JSON file containing your
    GCP service account key with read-only access.
  id: totrans-118
  prefs: []
  type: TYPE_NORMAL
  zh: è®°ä½ï¼Œä½ ç°åœ¨éœ€è¦ä¸‹è½½ä¸€ä¸ªä¸åŒçš„ JSON æ–‡ä»¶ï¼Œå…¶ä¸­åŒ…å«ä½ çš„ GCP æœåŠ¡è´¦æˆ·å¯†é’¥ï¼Œå¹¶å…·æœ‰åªè¯»è®¿é—®æƒé™ã€‚
- en: Check out the [README](https://github.com/iusztinpaul/energy-forecasting/blob/main/README.md#the-web-app)
    to learn how to complete the **.env** file. I want to highlight that only the
    FastAPI backend will have to load the **.env** file. Thus, you must place the
    **.env** file only in the [***app-api***](https://github.com/iusztinpaul/energy-forecasting/tree/main/app-api)
    folder.
  id: totrans-119
  prefs: []
  type: TYPE_NORMAL
  zh: æŸ¥çœ‹[README](https://github.com/iusztinpaul/energy-forecasting/blob/main/README.md#the-web-app)äº†è§£å¦‚ä½•å®Œæˆ**.env**æ–‡ä»¶ã€‚æˆ‘æƒ³å¼ºè°ƒçš„æ˜¯ï¼Œåªæœ‰
    FastAPI åç«¯éœ€è¦åŠ è½½**.env**æ–‡ä»¶ã€‚å› æ­¤ï¼Œä½ å¿…é¡»å°†**.env**æ–‡ä»¶ä»…æ”¾åœ¨[***app-api***](https://github.com/iusztinpaul/energy-forecasting/tree/main/app-api)æ–‡ä»¶å¤¹ä¸­ã€‚
- en: FastAPI Backend
  id: totrans-120
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: FastAPI åç«¯
- en: FastAPI backend overview [Video by the Author].
  id: totrans-121
  prefs: []
  type: TYPE_NORMAL
  zh: FastAPI åç«¯æ¦‚è¿°[ä½œè€…æä¾›çš„è§†é¢‘]ã€‚
- en: As a reminder, the FastAPI code can be found under [***app-api/api***](https://github.com/iusztinpaul/energy-forecasting/tree/main/app-api/api).
  id: totrans-122
  prefs: []
  type: TYPE_NORMAL
  zh: æé†’ä¸€ä¸‹ï¼ŒFastAPI ä»£ç å¯ä»¥åœ¨[***app-api/api***](https://github.com/iusztinpaul/energy-forecasting/tree/main/app-api/api)ä¸‹æ‰¾åˆ°ã€‚
- en: '**Step 1:** Create the FastAPI application, where we configured the docs, the
    CORS middleware and the endpoints root API router.'
  id: totrans-123
  prefs: []
  type: TYPE_NORMAL
  zh: '**æ­¥éª¤ 1:** åˆ›å»º FastAPI åº”ç”¨ï¼Œåœ¨å…¶ä¸­é…ç½®æ–‡æ¡£ã€CORS ä¸­é—´ä»¶å’Œç«¯ç‚¹æ ¹ API è·¯ç”±å™¨ã€‚'
- en: '**Step 2:** Define the Settings class. The scope of this class is to hold all
    the constants and configurations you need across your API code, such as:'
  id: totrans-124
  prefs: []
  type: TYPE_NORMAL
  zh: '**æ­¥éª¤ 2:** å®šä¹‰ Settings ç±»ã€‚è¯¥ç±»çš„ä½œç”¨æ˜¯ä¿å­˜ API ä»£ç ä¸­éœ€è¦çš„æ‰€æœ‰å¸¸é‡å’Œé…ç½®ï¼Œä¾‹å¦‚ï¼š'
- en: '*generic configurations:* the port, log level or version,'
  id: totrans-125
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*é€šç”¨é…ç½®:* ç«¯å£ã€æ—¥å¿—çº§åˆ«æˆ–ç‰ˆæœ¬ï¼Œ'
- en: '*GCP credentials:* bucket name or path to the JSON service account keys.'
  id: totrans-126
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*GCP å‡­è¯:* å­˜å‚¨æ¡¶åç§°æˆ– JSON æœåŠ¡è´¦æˆ·å¯†é’¥çš„è·¯å¾„ã€‚'
- en: You will use the Settings object across the project using the **get_settings()**
    function.
  id: totrans-127
  prefs: []
  type: TYPE_NORMAL
  zh: ä½ å°†åœ¨é¡¹ç›®ä¸­ä½¿ç”¨**get_settings()**å‡½æ•°æ¥ä½¿ç”¨ Settings å¯¹è±¡ã€‚
- en: Also, inside the **Config** class, we programmed FastAPI to look for a **.env**
    file in the current directory and load all the variables prefixed with **APP_API_.**
  id: totrans-128
  prefs: []
  type: TYPE_NORMAL
- en: As you can see in the **.env.default** file, all the variables start with **APP_API_**.
  id: totrans-129
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/87b81fc121cea9485a6b41dd4d656eb8.png)'
  id: totrans-130
  prefs: []
  type: TYPE_IMG
- en: A screenshot of the .env.default file [Image by the Author].
  id: totrans-131
  prefs: []
  type: TYPE_NORMAL
- en: '**Step 3:** Define the schemas of the API data using Pydantic. These schemas
    encode or decode data from JSON to a Python object or vice versa. Also, they validate
    the type and structure of your JSON object based on your defined data model.'
  id: totrans-132
  prefs: []
  type: TYPE_NORMAL
- en: When defining a Pydantic BaseModel, it is essential to add a type to every variable,
    which will be used at the validation step.
  id: totrans-133
  prefs: []
  type: TYPE_NORMAL
- en: '**Step 4:** Define your endpoints, in web lingo, known as views. Usually, a
    view has access to some data storage and based on a query, it returns a subset
    of the data source to the requester.'
  id: totrans-134
  prefs: []
  type: TYPE_NORMAL
- en: '***Thus, a standard flow for retrieving (aka GET request) data looks like this:***'
  id: totrans-135
  prefs: []
  type: TYPE_NORMAL
- en: â€œclient â†’ request data â†’ endpoint â†’ access data storage â†’ encode to a Pydantic
    schema â†’ decode to JSON â†’ respond with requested dataâ€
  id: totrans-136
  prefs: []
  type: TYPE_NORMAL
- en: 'Let''s see how we defined an endpoint to GET all the consumer types:'
  id: totrans-137
  prefs: []
  type: TYPE_NORMAL
- en: We used "**gcsfs.GCSFileSystem"** to access the GCS bucket as a standard filesystem.
  id: totrans-138
  prefs: []
  type: TYPE_NORMAL
- en: We attached the endpoint to the **api_router**.
  id: totrans-139
  prefs: []
  type: TYPE_NORMAL
- en: Using the **api_router.get()** Python decorator, we attached a basic function
    to the **/consumer_type_values** endpoint.
  id: totrans-140
  prefs: []
  type: TYPE_NORMAL
- en: In the example above, when calling "**https://<some_ip>:8001/api/v1/consumer_type_values"**
    the **consumer_type_values()** function will be triggered, and the response of
    the endpoint will be strictly based on what the function return.
  id: totrans-141
  prefs: []
  type: TYPE_NORMAL
- en: Another important thing is to highlight that by defining the **response_model
    (aka the schema) in the Python decorator,** you don't have to create the Pydantic
    schema explicitly.
  id: totrans-142
  prefs: []
  type: TYPE_NORMAL
- en: If you return a dictionary that is 1:1, respecting the schema structure, FastAPI
    will automatically create the Pydantic object for you.
  id: totrans-143
  prefs: []
  type: TYPE_NORMAL
- en: '*That''s it. Now we will repeat the same logic to define the rest of the endpoints.
    FastAPI makes everything so easy and intuitive for you.*'
  id: totrans-144
  prefs: []
  type: TYPE_NORMAL
- en: 'Now, let''s take a look at the whole [***views.py***](https://github.com/iusztinpaul/energy-forecasting/blob/main/app-api/api/views.py)file,
    where we defined endpoints for the following:'
  id: totrans-145
  prefs: []
  type: TYPE_NORMAL
- en: '**/health** â†’ health check'
  id: totrans-146
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**/consumer_type_values** â†’ GET all possible consumer types'
  id: totrans-147
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**/area_values** â†’ GET all possible area types'
  id: totrans-148
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**/predictions/{area}/{consumer_type}** â†’ GET the predictions for a given area
    and consumer type. Note that using the {<some_variable>} syntax, you can add parameters
    to your endpoint â€” [FastAPI docs](https://fastapi.tiangolo.com/tutorial/path-params/)
    [2].'
  id: totrans-149
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**/monitoring/metrics** â†’ GET the aggregated monitoring metrics'
  id: totrans-150
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**/monitoring/values/{area}/{consumer_type}** â†’ GET the monitoring values for
    a given area and consumer type'
  id: totrans-151
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: I want to highlight again that the FastAPI backend only reads the GCS bucket's
    predictions. The inference step is done solely in the batch prediction pipeline.
  id: totrans-152
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘æƒ³å†æ¬¡å¼ºè°ƒï¼ŒFastAPIåç«¯åªè¯»å–GCSæ¡¶çš„é¢„æµ‹ã€‚æ¨ç†æ­¥éª¤å®Œå…¨åœ¨æ‰¹é‡é¢„æµ‹ç®¡é“ä¸­å®Œæˆã€‚
- en: 'You can also go to "[**http://<your-ip>:8001/api/v1/docs**](http://35.207.134.188:8001/api/v1/docs)**"**
    to access the Swagger docs of the API, where you can easily see and test all your
    endpoints:'
  id: totrans-153
  prefs: []
  type: TYPE_NORMAL
  zh: ä½ è¿˜å¯ä»¥è®¿é—®â€œ[**http://<your-ip>:8001/api/v1/docs**](http://35.207.134.188:8001/api/v1/docs)**â€**æ¥è®¿é—®APIçš„Swaggeræ–‡æ¡£ï¼Œåœ¨é‚£é‡Œä½ å¯ä»¥è½»æ¾æŸ¥çœ‹å’Œæµ‹è¯•æ‰€æœ‰ç«¯ç‚¹ï¼š
- en: '![](../Images/f22922d4e71d0df403068efcff1c0d3c.png)'
  id: totrans-154
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/f22922d4e71d0df403068efcff1c0d3c.png)'
- en: Screenshot of the Swapper API docs [Image by the Author].
  id: totrans-155
  prefs: []
  type: TYPE_NORMAL
  zh: Swapper APIæ–‡æ¡£çš„æˆªå›¾[ä½œè€…çš„å›¾ç‰‡]ã€‚
- en: Thats it! Now you know how to build a FastAPI backend. Things might get more
    complicated when adding a database layer and user sessions, but you learned all
    the main concepts that will get you started!
  id: totrans-156
  prefs: []
  type: TYPE_NORMAL
  zh: å°±æ˜¯è¿™æ ·ï¼ç°åœ¨ä½ çŸ¥é“å¦‚ä½•æ„å»ºFastAPIåç«¯äº†ã€‚æ·»åŠ æ•°æ®åº“å±‚å’Œç”¨æˆ·ä¼šè¯å¯èƒ½ä¼šä½¿äº‹æƒ…å˜å¾—æ›´å¤æ‚ï¼Œä½†ä½ å·²ç»æŒæ¡äº†æ‰€æœ‰ä¸»è¦æ¦‚å¿µï¼Œè¿™å°†å¸®åŠ©ä½ å…¥é—¨ï¼
- en: Streamlit Predictions Dashboard
  id: totrans-157
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: Streamlité¢„æµ‹ä»ªè¡¨æ¿
- en: Streamlit predictions dashboard overview [Video by the Author].
  id: totrans-158
  prefs: []
  type: TYPE_NORMAL
  zh: Streamlité¢„æµ‹ä»ªè¡¨æ¿æ¦‚è¿°[ä½œè€…çš„è§†é¢‘]ã€‚
- en: Access the code under [***app-frontend/frontend***](https://github.com/iusztinpaul/energy-forecasting/tree/main/app-frontend/frontend).
  id: totrans-159
  prefs: []
  type: TYPE_NORMAL
  zh: è®¿é—®[***app-frontend/frontend***](https://github.com/iusztinpaul/energy-forecasting/tree/main/app-frontend/frontend)ä¸‹çš„ä»£ç ã€‚
- en: Using Streamlit is quite simple. The whole UI is defined using the code below
    that does the following
  id: totrans-160
  prefs: []
  type: TYPE_NORMAL
  zh: ä½¿ç”¨Streamlitéå¸¸ç®€å•ã€‚æ•´ä¸ªUIé€šè¿‡ä¸‹é¢çš„ä»£ç å®šä¹‰ï¼Œä»£ç æ‰§è¡Œä»¥ä¸‹æ“ä½œï¼š
- en: it defines the title,
  id: totrans-161
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å®ƒå®šä¹‰æ ‡é¢˜ï¼Œ
- en: it makes a request to the backend for all possible area types & creates a dropdown
    based on it,
  id: totrans-162
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å®ƒå‘åç«¯è¯·æ±‚æ‰€æœ‰å¯èƒ½çš„åŒºåŸŸç±»å‹ï¼Œå¹¶æ ¹æ®æ­¤åˆ›å»ºä¸€ä¸ªä¸‹æ‹‰åˆ—è¡¨ï¼Œ
- en: it makes a request to the backend for all possible consumer types & creates
    a dropdown based on it,
  id: totrans-163
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å®ƒå‘åç«¯è¯·æ±‚æ‰€æœ‰å¯èƒ½çš„æ¶ˆè´¹è€…ç±»å‹ï¼Œå¹¶æ ¹æ®æ­¤åˆ›å»ºä¸€ä¸ªä¸‹æ‹‰åˆ—è¡¨ï¼Œ
- en: based on the current chosen area and consumer types, it builds and renders a
    plotly chart.
  id: totrans-164
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: åŸºäºå½“å‰é€‰æ‹©çš„åŒºåŸŸå’Œæ¶ˆè´¹è€…ç±»å‹ï¼Œå®ƒæ„å»ºå¹¶æ¸²æŸ“ä¸€ä¸ªplotlyå›¾è¡¨ã€‚
- en: Straight forward, right?
  id: totrans-165
  prefs: []
  type: TYPE_NORMAL
  zh: ç›´æ¥äº†å½“ï¼Œå¯¹å§ï¼Ÿ
- en: Note that we could have made additional checks for the status code of the HTTP
    requests. For example, if the request status code differs from 200, display a
    text with "The server is down." But we wanted to keep things simple and emphasize
    only the Streamlit code âœŒï¸
  id: totrans-166
  prefs: []
  type: TYPE_NORMAL
  zh: è¯·æ³¨æ„ï¼Œæˆ‘ä»¬æœ¬å¯ä»¥å¯¹HTTPè¯·æ±‚çš„çŠ¶æ€ç è¿›è¡Œé¢å¤–çš„æ£€æŸ¥ã€‚ä¾‹å¦‚ï¼Œå¦‚æœè¯·æ±‚çŠ¶æ€ç ä¸200ä¸åŒï¼Œåˆ™æ˜¾ç¤ºä¸€æ¡æ–‡æœ¬â€œæœåŠ¡å™¨å®•æœºâ€ã€‚ä½†æˆ‘ä»¬å¸Œæœ›ä¿æŒç®€æ´ï¼Œåªå¼ºè°ƒStreamlitä»£ç âœŒï¸
- en: We moved all the constants to a different file to be easily accessible all over
    the code. As a next step, you could make them configurable through a **.env**
    file, similar to the FastAPI setup.
  id: totrans-167
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬å°†æ‰€æœ‰å¸¸é‡ç§»åˆ°äº†ä¸€ä¸ªä¸åŒçš„æ–‡ä»¶ä¸­ï¼Œä»¥ä¾¿åœ¨æ•´ä¸ªä»£ç ä¸­è½»æ¾è®¿é—®ã€‚ä¸‹ä¸€æ­¥ï¼Œä½ å¯ä»¥é€šè¿‡**.env**æ–‡ä»¶ä½¿å…¶å¯é…ç½®ï¼Œç±»ä¼¼äºFastAPIçš„è®¾ç½®ã€‚
- en: Now, let's see how we built the chart ğŸ”¥
  id: totrans-168
  prefs: []
  type: TYPE_NORMAL
  zh: ç°åœ¨ï¼Œè®©æˆ‘ä»¬çœ‹çœ‹æˆ‘ä»¬æ˜¯å¦‚ä½•æ„å»ºå›¾è¡¨çš„ğŸ”¥
- en: This part contains no Streamlit code, only some Pandas and Plotly code.
  id: totrans-169
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™ä¸€éƒ¨åˆ†æ²¡æœ‰Streamlitä»£ç ï¼Œåªæœ‰ä¸€äº›Pandaså’ŒPlotlyä»£ç ã€‚
- en: 'The **build_data_plot()** function performs 3 main steps:'
  id: totrans-170
  prefs: []
  type: TYPE_NORMAL
  zh: '**build_data_plot()**å‡½æ•°æ‰§è¡Œ3ä¸ªä¸»è¦æ­¥éª¤ï¼š'
- en: It requests the prediction data for an area and consumer type from the FastAPI
    backend.
  id: totrans-171
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: å®ƒä»FastAPIåç«¯è¯·æ±‚æŸä¸ªåŒºåŸŸå’Œæ¶ˆè´¹è€…ç±»å‹çš„é¢„æµ‹æ•°æ®ã€‚
- en: If the response is valid (status_code == 200), it extracts the data from the
    response and builds a DataFrame from it. Otherwise, it creates an empty DataFrame
    to pass the same structure further.
  id: totrans-172
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: å¦‚æœå“åº”æœ‰æ•ˆï¼ˆstatus_code == 200ï¼‰ï¼Œåˆ™ä»å“åº”ä¸­æå–æ•°æ®å¹¶æ„å»ºä¸€ä¸ªDataFrameã€‚å¦åˆ™ï¼Œå®ƒä¼šåˆ›å»ºä¸€ä¸ªç©ºçš„DataFrameï¼Œä»¥ä¾¿è¿›ä¸€æ­¥ä¼ é€’ç›¸åŒçš„ç»“æ„ã€‚
- en: It builds a line plot â€” plotly graph using the DataFrame computed above.
  id: totrans-173
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: å®ƒä½¿ç”¨ä¸Šè¿°è®¡ç®—çš„DataFrameæ„å»ºä¸€ä¸ªæŠ˜çº¿å›¾â€”â€”plotlyå›¾è¡¨ã€‚
- en: 'The role of the **build_dataframe()** function is to take 2 lists:'
  id: totrans-174
  prefs: []
  type: TYPE_NORMAL
  zh: '**build_dataframe()**å‡½æ•°çš„ä½œç”¨æ˜¯æ¥å—2ä¸ªåˆ—è¡¨ï¼š'
- en: a list of datetimes which will be used as the X axis of the line plot;
  id: totrans-175
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: ä¸€ä¸ªæ—¥æœŸæ—¶é—´çš„åˆ—è¡¨ï¼Œå°†ä½œä¸ºæŠ˜çº¿å›¾çš„Xè½´ï¼›
- en: a list of values that be used as the Y-axis of the line plot;
  id: totrans-176
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: ä¸€ç»„å°†ç”¨ä½œæŠ˜çº¿å›¾Yè½´çš„å€¼ï¼›
- en: â€¦and to convert them into a DataFrame. If some data points are missing, we resample
    the datetimes to a frequency of 1H to have the data continuous and highlight the
    missing data points.
  id: totrans-177
  prefs: []
  type: TYPE_NORMAL
  zh: â€¦å¹¶å°†å…¶è½¬æ¢ä¸ºDataFrameã€‚å¦‚æœä¸€äº›æ•°æ®ç‚¹ç¼ºå¤±ï¼Œæˆ‘ä»¬ä¼šå°†æ—¥æœŸæ—¶é—´é‡é‡‡æ ·ä¸º1å°æ—¶çš„é¢‘ç‡ï¼Œä»¥ç¡®ä¿æ•°æ®è¿ç»­å¹¶çªå‡ºæ˜¾ç¤ºç¼ºå¤±çš„æ•°æ®ç‚¹ã€‚
- en: Quite simple, right? That is why people love Streamlit.
  id: totrans-178
  prefs: []
  type: TYPE_NORMAL
  zh: éå¸¸ç®€å•ï¼Œå¯¹å§ï¼Ÿè¿™å°±æ˜¯äººä»¬å–œæ¬¢Streamlitçš„åŸå› ã€‚
- en: Streamlit Monitoring Dashboard
  id: totrans-179
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: Streamlitç›‘æ§ä»ªè¡¨æ¿
- en: Streamlit monitoring dashboard overview [Video by the Author].
  id: totrans-180
  prefs: []
  type: TYPE_NORMAL
  zh: Streamlitç›‘æ§ä»ªè¡¨æ¿æ¦‚è¿°[ä½œè€…çš„è§†é¢‘]ã€‚
- en: The monitoring code can be accessed under [***app-monitoring/monitoring***](https://github.com/iusztinpaul/energy-forecasting/tree/main/app-monitoring)***.***
  id: totrans-181
  prefs: []
  type: TYPE_NORMAL
  zh: ç›‘æ§ä»£ç å¯ä»¥åœ¨ [***app-monitoring/monitoring***](https://github.com/iusztinpaul/energy-forecasting/tree/main/app-monitoring)***
    ä¸‹è®¿é—®ã€‚***
- en: You will see that the code is almost identical to the predictions dashboard.
  id: totrans-182
  prefs: []
  type: TYPE_NORMAL
  zh: ä½ ä¼šå‘ç°ä»£ç å‡ ä¹ä¸é¢„æµ‹ä»ªè¡¨æ¿ç›¸åŒã€‚
- en: When defining the Streamlit UI structure, we additionally implemented a plot
    containing the aggregated metrics and a divider.
  id: totrans-183
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨å®šä¹‰ Streamlit UI ç»“æ„æ—¶ï¼Œæˆ‘ä»¬è¿˜å®ç°äº†ä¸€ä¸ªåŒ…å«æ±‡æ€»æŒ‡æ ‡å’Œåˆ†éš”ç¬¦çš„å›¾è¡¨ã€‚
- en: The nice thing about decoupling the definition of the UI components with the
    data access is that you can inject any data in the UI without modifying it as
    long as you respect the interface of the expected data.
  id: totrans-184
  prefs: []
  type: TYPE_NORMAL
  zh: è§£è€¦ UI ç»„ä»¶å®šä¹‰å’Œæ•°æ®è®¿é—®çš„å¥½å¤„åœ¨äºï¼Œä½ å¯ä»¥åœ¨ UI ä¸­æ³¨å…¥ä»»ä½•æ•°æ®ï¼Œåªè¦å°Šé‡é¢„æœŸæ•°æ®çš„æ¥å£ï¼Œè€Œæ— éœ€ä¿®æ”¹ UIã€‚
- en: The **build_metrics_plot()** function is almost identical to the **build_data_plot()**
    function from the predictions dashboard, except for the data we request from the
    API.
  id: totrans-185
  prefs: []
  type: TYPE_NORMAL
  zh: '**build_metrics_plot()** å‡½æ•°å‡ ä¹ä¸é¢„æµ‹ä»ªè¡¨æ¿ä¸­çš„ **build_data_plot()** å‡½æ•°ç›¸åŒï¼Œåªæ˜¯æˆ‘ä»¬ä» API
    è¯·æ±‚çš„æ•°æ®ä¸åŒã€‚'
- en: 'The same story goes for the **build_data_plot()** function from the monitoring
    dashboard:'
  id: totrans-186
  prefs: []
  type: TYPE_NORMAL
  zh: å¯¹äºç›‘æ§ä»ªè¡¨æ¿ä¸­çš„ **build_data_plot()** å‡½æ•°ä¹Ÿæ˜¯å¦‚æ­¤ï¼š
- en: As you can see, all the data access and manipulation are handled on the FastAPI
    backend. The Streamlit UI's job is to request and display the data.
  id: totrans-187
  prefs: []
  type: TYPE_NORMAL
  zh: å¦‚ä½ æ‰€è§ï¼Œæ‰€æœ‰çš„æ•°æ®è®¿é—®å’Œæ“ä½œéƒ½åœ¨ FastAPI åç«¯å¤„ç†ã€‚Streamlit UI çš„å·¥ä½œæ˜¯è¯·æ±‚å’Œå±•ç¤ºæ•°æ®ã€‚
- en: It is nice that we just reused 90% of the predictions dashboard code to build
    a friendly monitoring dashboard.
  id: totrans-188
  prefs: []
  type: TYPE_NORMAL
  zh: å¾ˆé«˜å…´æˆ‘ä»¬åªé‡ç”¨äº† 90% çš„é¢„æµ‹ä»ªè¡¨æ¿ä»£ç æ¥æ„å»ºä¸€ä¸ªå‹å¥½çš„ç›‘æ§ä»ªè¡¨æ¿ã€‚
- en: Wrap Everything with Docker
  id: totrans-189
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: ç”¨ Docker åŒ…è£…ä¸€åˆ‡
- en: The final step is to Dockerize the 3 web applications and wrap them up in a
    docker-compose file.
  id: totrans-190
  prefs: []
  type: TYPE_NORMAL
  zh: æœ€åçš„æ­¥éª¤æ˜¯å°†è¿™ä¸‰ä¸ª web åº”ç”¨ç¨‹åº Docker åŒ–ï¼Œå¹¶å°†å®ƒä»¬æ‰“åŒ…åˆ°ä¸€ä¸ª docker-compose æ–‡ä»¶ä¸­ã€‚
- en: 'Thus, we can start the whole web application with a single command:'
  id: totrans-191
  prefs: []
  type: TYPE_NORMAL
  zh: å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ä¸€ä¸ªå‘½ä»¤å¯åŠ¨æ•´ä¸ª web åº”ç”¨ç¨‹åºï¼š
- en: '[PRE1]'
  id: totrans-192
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: '***Here is the*** [***FastAPI Dockerfile***](https://github.com/iusztinpaul/energy-forecasting/blob/main/app-api/Dockerfile)***:***'
  id: totrans-193
  prefs: []
  type: TYPE_NORMAL
  zh: '***è¿™é‡Œæ˜¯*** [***FastAPI Dockerfile***](https://github.com/iusztinpaul/energy-forecasting/blob/main/app-api/Dockerfile)***:***'
- en: One interesting thing to highlight is that we initially copied & installed only
    the Poetry dependencies. Thus, when you modify the code, the Docker image will
    be rebuilt only starting from line 19, aka copying your code.
  id: totrans-194
  prefs: []
  type: TYPE_NORMAL
  zh: å€¼å¾—ä¸€æçš„æ˜¯ï¼Œæˆ‘ä»¬æœ€åˆåªå¤åˆ¶å¹¶å®‰è£…äº† Poetry ä¾èµ–é¡¹ã€‚å› æ­¤ï¼Œå½“ä½ ä¿®æ”¹ä»£ç æ—¶ï¼ŒDocker é•œåƒå°†ä»…ä»ç¬¬ 19 è¡Œå¼€å§‹é‡å»ºï¼Œå³å¤åˆ¶ä½ çš„ä»£ç ã€‚
- en: This is a common strategy to leverage the Docker caching features when building
    an image to speed up your development process, as you rarely add new dependencies
    and installing them is the most time-consuming step.
  id: totrans-195
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™æ˜¯ä¸€ç§å¸¸è§çš„ç­–ç•¥ï¼Œåˆ©ç”¨ Docker ç¼“å­˜åŠŸèƒ½åœ¨æ„å»ºé•œåƒæ—¶åŠ å¿«å¼€å‘è¿‡ç¨‹ï¼Œå› ä¸ºä½ å¾ˆå°‘æ·»åŠ æ–°çš„ä¾èµ–é¡¹ï¼Œè€Œå®‰è£…å®ƒä»¬æ˜¯æœ€è€—æ—¶çš„æ­¥éª¤ã€‚
- en: 'Also, inside **run.sh** we call:'
  id: totrans-196
  prefs: []
  type: TYPE_NORMAL
  zh: æ­¤å¤–ï¼Œåœ¨ **run.sh** ä¸­æˆ‘ä»¬è°ƒç”¨ï¼š
- en: '[PRE2]'
  id: totrans-197
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: But wait, there is no Python file in the command ğŸ˜Ÿ
  id: totrans-198
  prefs: []
  type: TYPE_NORMAL
  zh: ä½†æ˜¯ç­‰ä¸€ä¸‹ï¼Œå‘½ä»¤ä¸­æ²¡æœ‰ Python æ–‡ä»¶ ğŸ˜Ÿ
- en: Well, you can actually define a **__main__.py** file inside a module, making
    your module executable.
  id: totrans-199
  prefs: []
  type: TYPE_NORMAL
  zh: å…¶å®ï¼Œä½ å¯ä»¥åœ¨æ¨¡å—å†…éƒ¨å®šä¹‰ä¸€ä¸ª **__main__.py** æ–‡ä»¶ï¼Œä½¿ä½ çš„æ¨¡å—å¯æ‰§è¡Œã€‚
- en: 'Thus, when calling the **api** module, you call the [**__main__.py**](https://github.com/iusztinpaul/energy-forecasting/blob/main/app-api/api/__main__.py)
    file:'
  id: totrans-200
  prefs: []
  type: TYPE_NORMAL
  zh: å› æ­¤ï¼Œå½“è°ƒç”¨ **api** æ¨¡å—æ—¶ï¼Œä½ ä¼šè°ƒç”¨ [**__main__.py**](https://github.com/iusztinpaul/energy-forecasting/blob/main/app-api/api/__main__.py)
    æ–‡ä»¶ï¼š
- en: In our case, in the[**__main__.py**](https://github.com/iusztinpaul/energy-forecasting/blob/main/app-api/api/__main__.py)
    file, we use the uvicorn web server to start the FastAPI backend and configure
    it with the right IP, port, log_level, etc.
  id: totrans-201
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨æˆ‘ä»¬çš„ä¾‹å­ä¸­ï¼Œåœ¨[**__main__.py**](https://github.com/iusztinpaul/energy-forecasting/blob/main/app-api/api/__main__.py)
    æ–‡ä»¶ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨ uvicorn web æœåŠ¡å™¨æ¥å¯åŠ¨ FastAPI åç«¯ï¼Œå¹¶ç”¨æ­£ç¡®çš„ IPã€ç«¯å£ã€æ—¥å¿—çº§åˆ«ç­‰è¿›è¡Œé…ç½®ã€‚
- en: '**Here is the** [**Streamlit predictions dashboard Dockerfile**](https://github.com/iusztinpaul/energy-forecasting/blob/main/app-frontend/Dockerfile)**:**'
  id: totrans-202
  prefs: []
  type: TYPE_NORMAL
  zh: '**è¿™é‡Œæ˜¯** [**Streamlit é¢„æµ‹ä»ªè¡¨æ¿ Dockerfile**](https://github.com/iusztinpaul/energy-forecasting/blob/main/app-frontend/Dockerfile)**:**'
- en: As you can see, this Dockerfile is almost identical to the one used for the
    FastAPI backend, except for the last **CMD** command, which is a standard CLI
    command for starting your Streamlit application.
  id: totrans-203
  prefs: []
  type: TYPE_NORMAL
  zh: å¦‚ä½ æ‰€è§ï¼Œè¿™ä¸ª Dockerfile å‡ ä¹ä¸ç”¨äº FastAPI åç«¯çš„é‚£ä¸ªç›¸åŒï¼Œé™¤äº†æœ€åçš„ **CMD** å‘½ä»¤ï¼Œè¿™æ˜¯ä¸€ä¸ªæ ‡å‡†çš„ CLI å‘½ä»¤ï¼Œç”¨äºå¯åŠ¨ä½ çš„
    Streamlit åº”ç”¨ç¨‹åºã€‚
- en: The [Streamlit monitoring dashboard Dockerfile](https://github.com/iusztinpaul/energy-forecasting/blob/main/app-monitoring/Dockerfile)
    is identical to the predictions dashboard Dockerfile. So it is redundant to copy-paste
    it here.
  id: totrans-204
  prefs: []
  type: TYPE_NORMAL
  zh: '[Streamlitç›‘æ§ä»ªè¡¨æ¿Dockerfile](https://github.com/iusztinpaul/energy-forecasting/blob/main/app-monitoring/Dockerfile)ä¸é¢„æµ‹ä»ªè¡¨æ¿Dockerfileå®Œå…¨ç›¸åŒã€‚æ‰€ä»¥åœ¨è¿™é‡Œé‡å¤ç²˜è´´æ˜¯å¤šä½™çš„ã€‚'
- en: The good news is that you can leverage the Dockerfile template I showed you
    above to Dockerize most of your Python applications âœŒï¸
  id: totrans-205
  prefs: []
  type: TYPE_NORMAL
  zh: å¥½æ¶ˆæ¯æ˜¯ï¼Œä½ å¯ä»¥åˆ©ç”¨æˆ‘ä¹‹å‰å±•ç¤ºçš„Dockerfileæ¨¡æ¿æ¥DockeråŒ–å¤§éƒ¨åˆ†Pythonåº”ç”¨ç¨‹åºâœŒï¸
- en: 'Finally, let''s see how to wrap up everything with docker-compose. You can
    access the file under [***deploy/app-docker-compose.yml***](https://github.com/iusztinpaul/energy-forecasting/blob/main/deploy/app-docker-compose.yml):'
  id: totrans-206
  prefs: []
  type: TYPE_NORMAL
  zh: æœ€åï¼Œè®©æˆ‘ä»¬çœ‹çœ‹å¦‚ä½•ä½¿ç”¨docker-composeæ¥å®Œæˆæ‰€æœ‰å·¥ä½œã€‚ä½ å¯ä»¥åœ¨[***deploy/app-docker-compose.yml***](https://github.com/iusztinpaul/energy-forecasting/blob/main/deploy/app-docker-compose.yml)æ–‡ä»¶ä¸­æ‰¾åˆ°ç›¸å…³å†…å®¹ï¼š
- en: As you can see, the frontend and monitoring services must wait for the API to
    turn on before starting.
  id: totrans-207
  prefs: []
  type: TYPE_NORMAL
  zh: å¦‚ä½ æ‰€è§ï¼Œå‰ç«¯å’Œç›‘æ§æœåŠ¡å¿…é¡»ç­‰å¾…APIå¯åŠ¨åæ‰èƒ½å¼€å§‹ã€‚
- en: Also, only the API needs to load the credentials from a **.env** file.
  id: totrans-208
  prefs: []
  type: TYPE_NORMAL
  zh: å¦å¤–ï¼Œåªæœ‰APIéœ€è¦ä»**.env**æ–‡ä»¶ä¸­åŠ è½½å‡­è¯ã€‚
- en: 'Now, you can run the entire web application using only the following command,
    and Docker will take care of building the images and running the containers:'
  id: totrans-209
  prefs: []
  type: TYPE_NORMAL
  zh: ç°åœ¨ï¼Œä½ åªéœ€è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼ŒDockerå°†å¤„ç†æ„å»ºé•œåƒå’Œè¿è¡Œå®¹å™¨ï¼š
- en: '[PRE3]'
  id: totrans-210
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: Conclusion
  id: totrans-211
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: æ€»ç»“
- en: Congratulations! You finished the **sixth lesson** from the **Full Stack 7-Steps
    MLOps Framework** course. It means that now you understand how to consume the
    predictions of your ML system to build your awesome application.
  id: totrans-212
  prefs: []
  type: TYPE_NORMAL
  zh: æ­å–œï¼ä½ å®Œæˆäº†**ç¬¬å…­è¯¾**çš„**å…¨æ ˆä¸ƒæ­¥MLOpsæ¡†æ¶**è¯¾ç¨‹ã€‚è¿™æ„å‘³ç€ä½ ç°åœ¨å·²ç»ç†è§£äº†å¦‚ä½•ä½¿ç”¨ä½ çš„æœºå™¨å­¦ä¹ ç³»ç»Ÿçš„é¢„æµ‹æ¥æ„å»ºä½ å‡ºè‰²çš„åº”ç”¨ç¨‹åºã€‚
- en: 'In this lesson, you learned how to:'
  id: totrans-213
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨æœ¬è¯¾ä¸­ï¼Œä½ å­¦ä¼šäº†å¦‚ä½•ï¼š
- en: consume the predictions & monitoring metrics from GCS,
  id: totrans-214
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ä»GCSä¸­æ¶ˆè´¹é¢„æµ‹å’Œç›‘æ§æŒ‡æ ‡ï¼Œ
- en: build a FastAPI backend to load and serve the data from GCS,
  id: totrans-215
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æ„å»ºä¸€ä¸ªFastAPIåç«¯æ¥åŠ è½½å’ŒæœåŠ¡æ¥è‡ªGCSçš„æ•°æ®ï¼Œ
- en: implement a dashboard in Streamlit to show the predictions,
  id: totrans-216
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: åœ¨Streamlitä¸­å®ç°ä¸€ä¸ªä»ªè¡¨æ¿æ¥å±•ç¤ºé¢„æµ‹ï¼Œ
- en: create a monitoring dashboard in Streamlit to visualize the performance of the
    model.
  id: totrans-217
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: åœ¨Streamlitä¸­åˆ›å»ºä¸€ä¸ªç›‘æ§ä»ªè¡¨æ¿æ¥å¯è§†åŒ–æ¨¡å‹çš„æ€§èƒ½ã€‚
- en: Now that you understand the flexibility of building an application on top of
    an ML system that uses a batch prediction architecture, you can easily design
    full-stack machine learning applications.
  id: totrans-218
  prefs: []
  type: TYPE_NORMAL
  zh: ç°åœ¨ä½ å·²ç»ç†è§£äº†åŸºäºæ‰¹é‡é¢„æµ‹æ¶æ„çš„æœºå™¨å­¦ä¹ ç³»ç»Ÿä¸Šæ„å»ºåº”ç”¨ç¨‹åºçš„çµæ´»æ€§ï¼Œä½ å¯ä»¥è½»æ¾è®¾è®¡å…¨æ ˆæœºå™¨å­¦ä¹ åº”ç”¨ç¨‹åºã€‚
- en: '[Check out Lesson 7](/seamless-ci-cd-pipelines-with-github-actions-on-gcp-your-tools-for-effective-mlops-96f676f72012)
    for the final step of the **Full Stack 7-Steps MLOps Framework**, which is to
    deploy everything to GCP and build a CI/CD pipeline using GitHub Actions.'
  id: totrans-219
  prefs: []
  type: TYPE_NORMAL
  zh: '[æŸ¥çœ‹ç¬¬7è¯¾](/seamless-ci-cd-pipelines-with-github-actions-on-gcp-your-tools-for-effective-mlops-96f676f72012)ï¼Œè¿™æ˜¯**å…¨æ ˆä¸ƒæ­¥MLOpsæ¡†æ¶**çš„æœ€åä¸€æ­¥ï¼Œå³å°†æ‰€æœ‰å†…å®¹éƒ¨ç½²åˆ°GCPå¹¶ä½¿ç”¨GitHub
    Actionsæ„å»ºCI/CDç®¡é“ã€‚'
- en: '**Also,** [**you can access the GitHub repository here**](https://github.com/iusztinpaul/energy-forecasting)**.**'
  id: totrans-220
  prefs: []
  type: TYPE_NORMAL
  zh: '**å¦å¤–ï¼Œ** [**ä½ å¯ä»¥åœ¨è¿™é‡Œè®¿é—®GitHubä»“åº“**](https://github.com/iusztinpaul/energy-forecasting)**ã€‚**'
- en: ğŸ’¡ My goal is to help machine learning engineers level up in designing and productionizing
    ML systems. Follow me on [LinkedIn](https://www.linkedin.com/in/pauliusztin/)
    or subscribe to my [weekly newsletter](https://pauliusztin.substack.com/) for
    more insights!
  id: totrans-221
  prefs: []
  type: TYPE_NORMAL
  zh: ğŸ’¡ æˆ‘çš„ç›®æ ‡æ˜¯å¸®åŠ©æœºå™¨å­¦ä¹ å·¥ç¨‹å¸ˆåœ¨è®¾è®¡å’Œç”Ÿäº§åŒ–æœºå™¨å­¦ä¹ ç³»ç»Ÿæ–¹é¢æå‡æ°´å¹³ã€‚å…³æ³¨æˆ‘åœ¨[LinkedIn](https://www.linkedin.com/in/pauliusztin/)æˆ–è®¢é˜…æˆ‘çš„[æ¯å‘¨é€šè®¯](https://pauliusztin.substack.com/)ä»¥è·å–æ›´å¤šè§è§£ï¼
- en: ğŸ”¥ If you enjoy reading articles like this and wish to support my writing, consider
    [becoming a Medium member](https://pauliusztin.medium.com/membership). Using [my
    referral link](https://pauliusztin.medium.com/membership), you can support me
    without extra cost while enjoying limitless access to Medium's rich collection
    of stories.
  id: totrans-222
  prefs: []
  type: TYPE_NORMAL
  zh: ğŸ”¥ å¦‚æœä½ å–œæ¬¢é˜…è¯»è¿™æ ·çš„æ–‡ç« å¹¶å¸Œæœ›æ”¯æŒæˆ‘çš„å†™ä½œï¼Œè¯·è€ƒè™‘[æˆä¸ºMediumä¼šå‘˜](https://pauliusztin.medium.com/membership)ã€‚ä½¿ç”¨[æˆ‘çš„æ¨èé“¾æ¥](https://pauliusztin.medium.com/membership)ï¼Œä½ å¯ä»¥åœ¨ä¸å¢åŠ é¢å¤–æˆæœ¬çš„æƒ…å†µä¸‹æ”¯æŒæˆ‘ï¼ŒåŒæ—¶äº«å—Mediumä¸°å¯Œæ•…äº‹çš„æ— é™è®¿é—®æƒé™ã€‚
- en: '[](https://pauliusztin.medium.com/membership?source=post_page-----72825def1243--------------------------------)
    [## Join Medium with my referral link - Paul Iusztin'
  id: totrans-223
  prefs: []
  type: TYPE_NORMAL
  zh: '[](https://pauliusztin.medium.com/membership?source=post_page-----72825def1243--------------------------------)
    [## ä½¿ç”¨æˆ‘çš„æ¨èé“¾æ¥åŠ å…¥Medium - Paul Iusztin'
- en: ğŸ¤– Join to get exclusive content about designing and building production-ready
    ML systems ğŸš€ Unlock full access toâ€¦
  id: totrans-224
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: ğŸ¤– åŠ å…¥ä»¥è·å–æœ‰å…³è®¾è®¡å’Œæ„å»ºç”Ÿäº§å°±ç»ªæœºå™¨å­¦ä¹ ç³»ç»Ÿçš„ç‹¬å®¶å†…å®¹ğŸš€ è§£é”å®Œå…¨è®¿é—®æƒé™...
- en: pauliusztin.medium.com](https://pauliusztin.medium.com/membership?source=post_page-----72825def1243--------------------------------)
  id: totrans-225
  prefs: []
  type: TYPE_NORMAL
  zh: '[pauliusztin.medium.com](https://pauliusztin.medium.com/membership?source=post_page-----72825def1243--------------------------------)'
- en: Thank you âœŒğŸ¼ !
  id: totrans-226
  prefs: []
  type: TYPE_NORMAL
  zh: è°¢è°¢âœŒğŸ¼ï¼
- en: References
  id: totrans-227
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: å‚è€ƒèµ„æ–™
- en: '[1] [Energy Consumption per DE35 Industry Code from Denmark API](https://www.energidataservice.dk/tso-electricity/ConsumptionDE35Hour),
    [Denmark Energy Data Service](https://www.energidataservice.dk/about/)'
  id: totrans-228
  prefs: []
  type: TYPE_NORMAL
  zh: '[1] [ä¸¹éº¦ API æ¯å°æ—¶ DE35 è¡Œä¸šä»£ç çš„èƒ½æºæ¶ˆè€—](https://www.energidataservice.dk/tso-electricity/ConsumptionDE35Hour)ï¼Œ[ä¸¹éº¦èƒ½æºæ•°æ®æœåŠ¡](https://www.energidataservice.dk/about/)'
- en: '[2] [Path Parameters](https://fastapi.tiangolo.com/tutorial/path-params/),
    FastAPI Documentation'
  id: totrans-229
  prefs: []
  type: TYPE_NORMAL
  zh: '[2] [è·¯å¾„å‚æ•°](https://fastapi.tiangolo.com/tutorial/path-params/)ï¼ŒFastAPI æ–‡æ¡£'
