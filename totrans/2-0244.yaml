- en: A Visual Explanation of Variance, Covariance, Correlation and Causation
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: åŸæ–‡ï¼š[https://towardsdatascience.com/a-visual-explanation-of-variance-covariance-correlation-and-causation-dcf762801029](https://towardsdatascience.com/a-visual-explanation-of-variance-covariance-correlation-and-causation-dcf762801029)
  id: totrans-1
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '![](../Images/eff5af349b9566526854900300e03652.png)'
  id: totrans-2
  prefs: []
  type: TYPE_IMG
- en: Photo by [Lucas Kapla](https://unsplash.com/@aznbokchoy?utm_source=medium&utm_medium=referral)
    on [Unsplash](https://unsplash.com/?utm_source=medium&utm_medium=referral)
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
- en: Improve your data analysis skills by understanding basic statistical concepts
  id: totrans-4
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: '[](https://medium.com/@marcellopoliti?source=post_page-----dcf762801029--------------------------------)[![Marcello
    Politi](../Images/484e44571bd2e75acfe5fef3146ab3c2.png)](https://medium.com/@marcellopoliti?source=post_page-----dcf762801029--------------------------------)[](https://towardsdatascience.com/?source=post_page-----dcf762801029--------------------------------)[![Towards
    Data Science](../Images/a6ff2676ffcc0c7aad8aaf1d79379785.png)](https://towardsdatascience.com/?source=post_page-----dcf762801029--------------------------------)
    [Marcello Politi](https://medium.com/@marcellopoliti?source=post_page-----dcf762801029--------------------------------)'
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
- en: Â·Published in [Towards Data Science](https://towardsdatascience.com/?source=post_page-----dcf762801029--------------------------------)
    Â·6 min readÂ·Feb 10, 2023
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
- en: --
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
- en: Introduction
  id: totrans-8
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: In Machine Learning we are often interested in knowing the relationships that
    exist between our data. Imagine you have a structured dataset, represented as
    a table in a DataFrame. You want to know if any columns are related to others,
    perhaps to know if there is any redundant information. It would also be useful
    to know if one of the variables is the cause of another. Letâ€™s see how to do that
    in this article!
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
- en: Variance
  id: totrans-10
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: Letâ€™s now imagine that we have a dataset (a set of points) in one dimension.
    The first thing we want to do is to calculate the variance of these points.
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/93e71c6a86cb51f7cd32e5599563cfac.png)'
  id: totrans-12
  prefs: []
  type: TYPE_IMG
- en: One-Dimensional Data Points (Image By Author)
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
- en: The variance intuitively tells us how far our points are from the mean. For
    example, if I eat one ice cream and you also eat one, on average we ate the same
    number of ice creams that is one. But even if I eat two ice creams and you eat
    zero, on average we always ate one ice cream each. Itâ€™s the variance that changes!
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
- en: 'In our dataset, the mean is: *m = 1*'
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/365e08a313d528d7686b135c4a223989.png)'
  id: totrans-16
  prefs: []
  type: TYPE_IMG
- en: Mean (Image By Author)
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
- en: To compute the variance, we first calculate how far each point is from the mean.
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/65e2d15c6c93f6bda10652cda90d9986.png)'
  id: totrans-19
  prefs: []
  type: TYPE_IMG
- en: Distance from the Mean (Image By Author)
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
- en: Now we need to construct a square for each dashed line we have. I will only
    display the square for the first line, but you will have to do it for all of them.
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/cef29c9e2dc449614e1fe07f81bd7f94.png)'
  id: totrans-22
  prefs: []
  type: TYPE_IMG
- en: Squares for each distance (Image By Author)
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
- en: Now we simply need to **sum up the area of all the squares and divide by the
    number of squares-1**. Letâ€™s say that the final variance is equal to *138*.
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: ç°åœ¨æˆ‘ä»¬åªéœ€**å°†æ‰€æœ‰çŸ©å½¢çš„é¢ç§¯åŠ èµ·æ¥å¹¶é™¤ä»¥çŸ©å½¢æ•°-1**ã€‚å‡è®¾æœ€ç»ˆçš„æ–¹å·®ç­‰äº *138*ã€‚
- en: The formula we just applied visually is the variance formula.
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬åˆšåˆšåº”ç”¨çš„å…¬å¼åœ¨è§†è§‰ä¸Šæ˜¯æ–¹å·®å…¬å¼ã€‚
- en: '![](../Images/c0a6daa59bf5644bcd343530302fe5df.png)'
  id: totrans-26
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/c0a6daa59bf5644bcd343530302fe5df.png)'
- en: Variance Formula (Image By Author)
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: æ–¹å·®å…¬å¼ï¼ˆä½œè€…æä¾›çš„å›¾åƒï¼‰
- en: Two Dimensions Dataset
  id: totrans-28
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: äºŒç»´æ•°æ®é›†
- en: Let us continue by complicating things a bit but not too much. Letâ€™s now imagine
    having a two-dimensional dataset. Then **each point is defined by a pair (x,y)**.
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: è®©æˆ‘ä»¬ç»§ç»­ï¼Œç¨å¾®å¤æ‚ä¸€ç‚¹ï¼Œä½†ä¸è¦è¿‡äºå¤æ‚ã€‚ç°åœ¨æˆ‘ä»¬å‡è®¾æœ‰ä¸€ä¸ªäºŒç»´æ•°æ®é›†ã€‚**é‚£ä¹ˆæ¯ä¸ªç‚¹éƒ½ç”±ä¸€ä¸ª (x,y) å¯¹å®šä¹‰**ã€‚
- en: '![](../Images/ad92d1c3db41e3ffd954d0bb32599c4b.png)'
  id: totrans-30
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/ad92d1c3db41e3ffd954d0bb32599c4b.png)'
- en: Bi-dimensional Dataset (Image By Author)
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: äºŒç»´æ•°æ®é›†ï¼ˆä½œè€…æä¾›çš„å›¾åƒï¼‰
- en: We already know that the variance of the point with respect to the x-axis is
    *138*. But now **we can also compute the variance of the y-axis**. Itâ€™s simple
    we can **project all the points on the y-axis and compute the variance in the
    same way as before**.
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬å·²ç»çŸ¥é“è¯¥ç‚¹ç›¸å¯¹äº x è½´çš„æ–¹å·®æ˜¯ *138*ã€‚ä½†ç°åœ¨**æˆ‘ä»¬ä¹Ÿå¯ä»¥è®¡ç®— y è½´çš„æ–¹å·®**ã€‚å¾ˆç®€å•ï¼Œæˆ‘ä»¬å¯ä»¥**å°†æ‰€æœ‰ç‚¹æŠ•å½±åˆ° y è½´ï¼Œå¹¶åƒä¹‹å‰ä¸€æ ·è®¡ç®—æ–¹å·®**ã€‚
- en: '![](../Images/ce3f8a649b7cf3561e930d80f3433277.png)'
  id: totrans-33
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/ce3f8a649b7cf3561e930d80f3433277.png)'
- en: Projection on the y-axis (Image By Author)
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨ y è½´ä¸Šçš„æŠ•å½±ï¼ˆä½œè€…æä¾›çš„å›¾åƒï¼‰
- en: Then, we found out that the variance with respect to the y-axis is (letâ€™s say)
    *21*.
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: ç„¶åï¼Œæˆ‘ä»¬å‘ç°ç›¸å¯¹äº y è½´çš„æ–¹å·®æ˜¯ï¼ˆå‡è®¾ï¼‰*21*ã€‚
- en: Now **we have both var(x) and var(y)**. But **these 2 values alone donâ€™t say
    too much about the distribution of the data in the 2 dimensions**.
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: ç°åœ¨**æˆ‘ä»¬æœ‰äº† var(x) å’Œ var(y)**ã€‚ä½†**è¿™ä¸¤ä¸ªå€¼æœ¬èº«å¹¶ä¸èƒ½å¤ªå¤šåœ°è¯´æ˜æ•°æ®åœ¨äºŒç»´ç©ºé—´ä¸­çš„åˆ†å¸ƒæƒ…å†µ**ã€‚
- en: By looking at the graph we can intuitively infer that there is a trend, while
    x increases, y also increases.
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: é€šè¿‡æŸ¥çœ‹å›¾è¡¨ï¼Œæˆ‘ä»¬å¯ä»¥ç›´è§‚åœ°æ¨æ–­å‡ºå­˜åœ¨ä¸€ç§è¶‹åŠ¿ï¼Œå³ x å¢åŠ æ—¶ï¼Œy ä¹Ÿå¢åŠ ã€‚
- en: '![](../Images/de500a119f85504315b5c28de394facc.png)'
  id: totrans-38
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/de500a119f85504315b5c28de394facc.png)'
- en: Trend (Image By Author)
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: è¶‹åŠ¿ï¼ˆä½œè€…æä¾›çš„å›¾åƒï¼‰
- en: But **it is not possible to infer this trend just by looking at the values var(x)
    and var(y)**.
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: ä½†æ˜¯**ä»…é€šè¿‡æŸ¥çœ‹å€¼ var(x) å’Œ var(y) æ˜¯æ— æ³•æ¨æ–­è¿™ç§è¶‹åŠ¿çš„**ã€‚
- en: In fact, **if we mirror the points**, (we multiply the x coordinate of each
    point by -1), **var(x) and var(y) will not change, but the trend will be the opposite**!
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: å®é™…ä¸Šï¼Œ**å¦‚æœæˆ‘ä»¬é•œåƒè¿™äº›ç‚¹**ï¼Œï¼ˆå°†æ¯ä¸ªç‚¹çš„ x åæ ‡ä¹˜ä»¥ -1ï¼‰ï¼Œ**var(x) å’Œ var(y) å°†ä¸ä¼šæ”¹å˜ï¼Œä½†è¶‹åŠ¿å°†ç›¸å**ï¼
- en: '![](../Images/fd2c13dc6cb18e1860b0970ea3cc591b.png)'
  id: totrans-42
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/fd2c13dc6cb18e1860b0970ea3cc591b.png)'
- en: Opposite trend same variances (Image By Author)
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: ç›¸åçš„è¶‹åŠ¿ç›¸åŒçš„æ–¹å·®ï¼ˆä½œè€…æä¾›çš„å›¾åƒï¼‰
- en: Covariance
  id: totrans-44
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: åæ–¹å·®
- en: Here comes the covariance between x and y. In order to compute the covariance,
    we have to **calculate the mean of the x coordinates and the y coordinates**.
    Let's say these means are 1 and 3\. We can **plot 2 straight passing through these
    values**.
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™é‡Œæ˜¯ x å’Œ y ä¹‹é—´çš„åæ–¹å·®ã€‚ä¸ºäº†è®¡ç®—åæ–¹å·®ï¼Œæˆ‘ä»¬å¿…é¡»**è®¡ç®— x åæ ‡å’Œ y åæ ‡çš„å‡å€¼**ã€‚å‡è®¾è¿™äº›å‡å€¼æ˜¯ 1 å’Œ 3ã€‚æˆ‘ä»¬å¯ä»¥**ç»˜åˆ¶é€šè¿‡è¿™äº›å€¼çš„
    2 æ¡ç›´çº¿**ã€‚
- en: '![](../Images/0af109437efdf0896bf097442590820f.png)'
  id: totrans-46
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/0af109437efdf0896bf097442590820f.png)'
- en: Straights passing through the mean of x and y (Image By Author)
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: é€šè¿‡ x å’Œ y çš„å‡å€¼çš„ç›´çº¿ï¼ˆä½œè€…æä¾›çš„å›¾åƒï¼‰
- en: Now we **calculate the area of the rectangles that these straight lines form
    with our points**. I will demonstrate this with a single point for simplicity.
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: ç°åœ¨æˆ‘ä»¬**è®¡ç®—è¿™äº›ç›´çº¿ä¸æˆ‘ä»¬çš„ç‚¹å½¢æˆçš„çŸ©å½¢çš„é¢ç§¯**ã€‚æˆ‘å°†ç”¨ä¸€ä¸ªç‚¹æ¥æ¼”ç¤ºè¿™ä¸ªè¿‡ç¨‹ä»¥ç®€åŒ–è¯´æ˜ã€‚
- en: '![](../Images/e75b8a4f2beb4deff3b7d9387ffe2bf4.png)'
  id: totrans-49
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/e75b8a4f2beb4deff3b7d9387ffe2bf4.png)'
- en: Compute rectangles areas (Image By Author)
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: è®¡ç®—çŸ©å½¢é¢ç§¯ï¼ˆä½œè€…æä¾›çš„å›¾åƒï¼‰
- en: To calculate the area of these rectangles simply compute the difference between
    the point coordinates and the averages, and then multiply these differences between
    them.
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: è¦è®¡ç®—è¿™äº›çŸ©å½¢çš„é¢ç§¯ï¼Œåªéœ€è®¡ç®—ç‚¹åæ ‡ä¸å¹³å‡å€¼ä¹‹é—´çš„å·®å¼‚ï¼Œç„¶åå°†è¿™äº›å·®å¼‚ç›¸ä¹˜ã€‚
- en: '**Once you have calculated the area of all the rectangles simply add them up,
    and divide by the number of rectangles-1**.'
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: '**ä¸€æ—¦è®¡ç®—å‡ºæ‰€æœ‰çŸ©å½¢çš„é¢ç§¯ï¼Œå°±å°†å®ƒä»¬åŠ èµ·æ¥ï¼Œå¹¶é™¤ä»¥çŸ©å½¢æ•°-1**ã€‚'
- en: In this way, we will have applied the covariance formula.
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: é€šè¿‡è¿™ç§æ–¹å¼ï¼Œæˆ‘ä»¬å°†åº”ç”¨åæ–¹å·®å…¬å¼ã€‚
- en: '![](../Images/c4b228d72479411836ba5504d0b7608d.png)'
  id: totrans-54
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/c4b228d72479411836ba5504d0b7608d.png)'
- en: Covariance Formula (Image By Author)
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: åæ–¹å·®å…¬å¼ï¼ˆä½œè€…æä¾›çš„å›¾åƒï¼‰
- en: Now that we know how to calculate the covariance, you can see that if the covariance
    is positive it means we have a positive trend, otherwise a negative trend.
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: ç°åœ¨æˆ‘ä»¬çŸ¥é“å¦‚ä½•è®¡ç®—åæ–¹å·®ï¼Œä½ å¯ä»¥çœ‹åˆ°å¦‚æœåæ–¹å·®æ˜¯æ­£çš„ï¼Œæ„å‘³ç€æˆ‘ä»¬æœ‰ä¸€ä¸ªæ­£çš„è¶‹åŠ¿ï¼Œå¦åˆ™æ˜¯è´Ÿçš„è¶‹åŠ¿ã€‚
- en: So **covariance tells us how two variables are correlated, it does not, however,
    tell us how strong this correlation is**. In fact, the range of the covariance
    value is **[-inf, +inf]**, so it is not possible to define a *strength* of the
    relationship between the two variables.
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
- en: Correlation
  id: totrans-58
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: Correlation, on the other hand, is that value that lets us know **how strong
    the relationship between two variables is, it has a range of values in [-1, +1]**.
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
- en: The formula for its calculation is as follows.
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/5d245091b065424a56aa9b6b29fa9630.png)'
  id: totrans-61
  prefs: []
  type: TYPE_IMG
- en: Correlation Formula (Image By Author)
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
- en: So if the values on the **x-axis grow and those in y also grow**, we would have
    a **correlation close to 1**.
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
- en: On the other hand, if **x increases and y decreases**, we would have a **correlation
    close to -1**.
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
- en: If the **correlation is zero, it means there is no correlation** between the
    two variables.
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
- en: The Causation Error
  id: totrans-66
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: It is often thought that in the case where there is a strong correlation, there
    is also a causal relationship. Sometimes this is true, in fact, we might have
    that variable x indicates how rich we are and variable y which indicates the size
    of our house. And we might infer that there is causation, i.e., the more money
    a person makes, the bigger his house is.
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
- en: But often this is not the case. For example, suppose variable x indicates how
    many snow gloves we have, and variable y indicates how many soups we eat each
    week. Obviously, there is no causality between the two, though we notice in the
    data that the more snow gloves a person has, the more hot soups he or she eats
    each week.
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
- en: But often what happens is that there is a **third variable that affects the
    two variables that we are not aware of**.
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
- en: In this case, the third variable might be, how cold it is outside. So **the
    colder it gets the more snow gloves we have, and the more soups we eat. But gloves
    and soup do not have a causal relationship**!
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/289b0d54011f697f6f9ce4b3e5f45c65.png)'
  id: totrans-71
  prefs: []
  type: TYPE_IMG
- en: Correlation is not Causation (Image By Author)
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
- en: Final Thoughts
  id: totrans-73
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: I hope this article has helped you to understand a little better these basic
    statistical concepts, which are very important in data science, though. I believe
    that visualizing formulas through geometric images is much easier! If you â€˜liked
    the article follow me here on Medium!ğŸ˜
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
- en: The End
  id: totrans-75
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: '*Marcello Politi*'
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
- en: '[Linkedin](https://www.linkedin.com/in/marcello-politi/), [Twitter](https://twitter.com/_March08_),
    [CV](https://march-08.github.io/digital-cv/)'
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
