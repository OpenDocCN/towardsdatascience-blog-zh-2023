- en: A Visual Explanation of Variance, Covariance, Correlation and Causation
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 原文：[https://towardsdatascience.com/a-visual-explanation-of-variance-covariance-correlation-and-causation-dcf762801029](https://towardsdatascience.com/a-visual-explanation-of-variance-covariance-correlation-and-causation-dcf762801029)
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '![](../Images/eff5af349b9566526854900300e03652.png)'
  prefs: []
  type: TYPE_IMG
- en: Photo by [Lucas Kapla](https://unsplash.com/@aznbokchoy?utm_source=medium&utm_medium=referral)
    on [Unsplash](https://unsplash.com/?utm_source=medium&utm_medium=referral)
  prefs: []
  type: TYPE_NORMAL
- en: Improve your data analysis skills by understanding basic statistical concepts
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: '[](https://medium.com/@marcellopoliti?source=post_page-----dcf762801029--------------------------------)[![Marcello
    Politi](../Images/484e44571bd2e75acfe5fef3146ab3c2.png)](https://medium.com/@marcellopoliti?source=post_page-----dcf762801029--------------------------------)[](https://towardsdatascience.com/?source=post_page-----dcf762801029--------------------------------)[![Towards
    Data Science](../Images/a6ff2676ffcc0c7aad8aaf1d79379785.png)](https://towardsdatascience.com/?source=post_page-----dcf762801029--------------------------------)
    [Marcello Politi](https://medium.com/@marcellopoliti?source=post_page-----dcf762801029--------------------------------)'
  prefs: []
  type: TYPE_NORMAL
- en: ·Published in [Towards Data Science](https://towardsdatascience.com/?source=post_page-----dcf762801029--------------------------------)
    ·6 min read·Feb 10, 2023
  prefs: []
  type: TYPE_NORMAL
- en: --
  prefs: []
  type: TYPE_NORMAL
- en: Introduction
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: In Machine Learning we are often interested in knowing the relationships that
    exist between our data. Imagine you have a structured dataset, represented as
    a table in a DataFrame. You want to know if any columns are related to others,
    perhaps to know if there is any redundant information. It would also be useful
    to know if one of the variables is the cause of another. Let’s see how to do that
    in this article!
  prefs: []
  type: TYPE_NORMAL
- en: Variance
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: Let’s now imagine that we have a dataset (a set of points) in one dimension.
    The first thing we want to do is to calculate the variance of these points.
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/93e71c6a86cb51f7cd32e5599563cfac.png)'
  prefs: []
  type: TYPE_IMG
- en: One-Dimensional Data Points (Image By Author)
  prefs: []
  type: TYPE_NORMAL
- en: The variance intuitively tells us how far our points are from the mean. For
    example, if I eat one ice cream and you also eat one, on average we ate the same
    number of ice creams that is one. But even if I eat two ice creams and you eat
    zero, on average we always ate one ice cream each. It’s the variance that changes!
  prefs: []
  type: TYPE_NORMAL
- en: 'In our dataset, the mean is: *m = 1*'
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/365e08a313d528d7686b135c4a223989.png)'
  prefs: []
  type: TYPE_IMG
- en: Mean (Image By Author)
  prefs: []
  type: TYPE_NORMAL
- en: To compute the variance, we first calculate how far each point is from the mean.
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/65e2d15c6c93f6bda10652cda90d9986.png)'
  prefs: []
  type: TYPE_IMG
- en: Distance from the Mean (Image By Author)
  prefs: []
  type: TYPE_NORMAL
- en: Now we need to construct a square for each dashed line we have. I will only
    display the square for the first line, but you will have to do it for all of them.
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/cef29c9e2dc449614e1fe07f81bd7f94.png)'
  prefs: []
  type: TYPE_IMG
- en: Squares for each distance (Image By Author)
  prefs: []
  type: TYPE_NORMAL
- en: Now we simply need to **sum up the area of all the squares and divide by the
    number of squares-1**. Let’s say that the final variance is equal to *138*.
  prefs: []
  type: TYPE_NORMAL
- en: The formula we just applied visually is the variance formula.
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/c0a6daa59bf5644bcd343530302fe5df.png)'
  prefs: []
  type: TYPE_IMG
- en: Variance Formula (Image By Author)
  prefs: []
  type: TYPE_NORMAL
- en: Two Dimensions Dataset
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: Let us continue by complicating things a bit but not too much. Let’s now imagine
    having a two-dimensional dataset. Then **each point is defined by a pair (x,y)**.
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/ad92d1c3db41e3ffd954d0bb32599c4b.png)'
  prefs: []
  type: TYPE_IMG
- en: Bi-dimensional Dataset (Image By Author)
  prefs: []
  type: TYPE_NORMAL
- en: We already know that the variance of the point with respect to the x-axis is
    *138*. But now **we can also compute the variance of the y-axis**. It’s simple
    we can **project all the points on the y-axis and compute the variance in the
    same way as before**.
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/ce3f8a649b7cf3561e930d80f3433277.png)'
  prefs: []
  type: TYPE_IMG
- en: Projection on the y-axis (Image By Author)
  prefs: []
  type: TYPE_NORMAL
- en: Then, we found out that the variance with respect to the y-axis is (let’s say)
    *21*.
  prefs: []
  type: TYPE_NORMAL
- en: Now **we have both var(x) and var(y)**. But **these 2 values alone don’t say
    too much about the distribution of the data in the 2 dimensions**.
  prefs: []
  type: TYPE_NORMAL
- en: By looking at the graph we can intuitively infer that there is a trend, while
    x increases, y also increases.
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/de500a119f85504315b5c28de394facc.png)'
  prefs: []
  type: TYPE_IMG
- en: Trend (Image By Author)
  prefs: []
  type: TYPE_NORMAL
- en: But **it is not possible to infer this trend just by looking at the values var(x)
    and var(y)**.
  prefs: []
  type: TYPE_NORMAL
- en: In fact, **if we mirror the points**, (we multiply the x coordinate of each
    point by -1), **var(x) and var(y) will not change, but the trend will be the opposite**!
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/fd2c13dc6cb18e1860b0970ea3cc591b.png)'
  prefs: []
  type: TYPE_IMG
- en: Opposite trend same variances (Image By Author)
  prefs: []
  type: TYPE_NORMAL
- en: Covariance
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: Here comes the covariance between x and y. In order to compute the covariance,
    we have to **calculate the mean of the x coordinates and the y coordinates**.
    Let's say these means are 1 and 3\. We can **plot 2 straight passing through these
    values**.
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/0af109437efdf0896bf097442590820f.png)'
  prefs: []
  type: TYPE_IMG
- en: Straights passing through the mean of x and y (Image By Author)
  prefs: []
  type: TYPE_NORMAL
- en: Now we **calculate the area of the rectangles that these straight lines form
    with our points**. I will demonstrate this with a single point for simplicity.
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/e75b8a4f2beb4deff3b7d9387ffe2bf4.png)'
  prefs: []
  type: TYPE_IMG
- en: Compute rectangles areas (Image By Author)
  prefs: []
  type: TYPE_NORMAL
- en: To calculate the area of these rectangles simply compute the difference between
    the point coordinates and the averages, and then multiply these differences between
    them.
  prefs: []
  type: TYPE_NORMAL
- en: '**Once you have calculated the area of all the rectangles simply add them up,
    and divide by the number of rectangles-1**.'
  prefs: []
  type: TYPE_NORMAL
- en: In this way, we will have applied the covariance formula.
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/c4b228d72479411836ba5504d0b7608d.png)'
  prefs: []
  type: TYPE_IMG
- en: Covariance Formula (Image By Author)
  prefs: []
  type: TYPE_NORMAL
- en: Now that we know how to calculate the covariance, you can see that if the covariance
    is positive it means we have a positive trend, otherwise a negative trend.
  prefs: []
  type: TYPE_NORMAL
- en: So **covariance tells us how two variables are correlated, it does not, however,
    tell us how strong this correlation is**. In fact, the range of the covariance
    value is **[-inf, +inf]**, so it is not possible to define a *strength* of the
    relationship between the two variables.
  prefs: []
  type: TYPE_NORMAL
- en: Correlation
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: Correlation, on the other hand, is that value that lets us know **how strong
    the relationship between two variables is, it has a range of values in [-1, +1]**.
  prefs: []
  type: TYPE_NORMAL
- en: The formula for its calculation is as follows.
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/5d245091b065424a56aa9b6b29fa9630.png)'
  prefs: []
  type: TYPE_IMG
- en: Correlation Formula (Image By Author)
  prefs: []
  type: TYPE_NORMAL
- en: So if the values on the **x-axis grow and those in y also grow**, we would have
    a **correlation close to 1**.
  prefs: []
  type: TYPE_NORMAL
- en: On the other hand, if **x increases and y decreases**, we would have a **correlation
    close to -1**.
  prefs: []
  type: TYPE_NORMAL
- en: If the **correlation is zero, it means there is no correlation** between the
    two variables.
  prefs: []
  type: TYPE_NORMAL
- en: The Causation Error
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: It is often thought that in the case where there is a strong correlation, there
    is also a causal relationship. Sometimes this is true, in fact, we might have
    that variable x indicates how rich we are and variable y which indicates the size
    of our house. And we might infer that there is causation, i.e., the more money
    a person makes, the bigger his house is.
  prefs: []
  type: TYPE_NORMAL
- en: But often this is not the case. For example, suppose variable x indicates how
    many snow gloves we have, and variable y indicates how many soups we eat each
    week. Obviously, there is no causality between the two, though we notice in the
    data that the more snow gloves a person has, the more hot soups he or she eats
    each week.
  prefs: []
  type: TYPE_NORMAL
- en: But often what happens is that there is a **third variable that affects the
    two variables that we are not aware of**.
  prefs: []
  type: TYPE_NORMAL
- en: In this case, the third variable might be, how cold it is outside. So **the
    colder it gets the more snow gloves we have, and the more soups we eat. But gloves
    and soup do not have a causal relationship**!
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/289b0d54011f697f6f9ce4b3e5f45c65.png)'
  prefs: []
  type: TYPE_IMG
- en: Correlation is not Causation (Image By Author)
  prefs: []
  type: TYPE_NORMAL
- en: Final Thoughts
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: I hope this article has helped you to understand a little better these basic
    statistical concepts, which are very important in data science, though. I believe
    that visualizing formulas through geometric images is much easier! If you ‘liked
    the article follow me here on Medium!😁
  prefs: []
  type: TYPE_NORMAL
- en: The End
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: '*Marcello Politi*'
  prefs: []
  type: TYPE_NORMAL
- en: '[Linkedin](https://www.linkedin.com/in/marcello-politi/), [Twitter](https://twitter.com/_March08_),
    [CV](https://march-08.github.io/digital-cv/)'
  prefs: []
  type: TYPE_NORMAL
