- en: Prediction in Various Logistic Regression Models (Part 1)
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 原文：[https://towardsdatascience.com/prediction-in-various-logistic-regression-models-2543281cd55a](https://towardsdatascience.com/prediction-in-various-logistic-regression-models-2543281cd55a)
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: Statistics in R Series
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: '[](https://mdsohel-mahmood.medium.com/?source=post_page-----2543281cd55a--------------------------------)[![Md
    Sohel Mahmood](../Images/7819fed767baf023a725a47050c08f7b.png)](https://mdsohel-mahmood.medium.com/?source=post_page-----2543281cd55a--------------------------------)[](https://towardsdatascience.com/?source=post_page-----2543281cd55a--------------------------------)[![Towards
    Data Science](../Images/a6ff2676ffcc0c7aad8aaf1d79379785.png)](https://towardsdatascience.com/?source=post_page-----2543281cd55a--------------------------------)
    [Md Sohel Mahmood](https://mdsohel-mahmood.medium.com/?source=post_page-----2543281cd55a--------------------------------)'
  prefs: []
  type: TYPE_NORMAL
- en: ·Published in [Towards Data Science](https://towardsdatascience.com/?source=post_page-----2543281cd55a--------------------------------)
    ·8 min read·Apr 16, 2023
  prefs: []
  type: TYPE_NORMAL
- en: --
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/a729b5d3974e85a463cd88a4e2f3fad9.png)'
  prefs: []
  type: TYPE_IMG
- en: Photo by [Jen Theodore](https://unsplash.com/@jentheodore?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText)
    on [Unsplash](https://unsplash.com/photos/FaZD0xRotMk?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText)
  prefs: []
  type: TYPE_NORMAL
- en: '**Introduction**'
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: We have covered various types of logistic regression in the past several articles.
    The goal of all these models is to predict future data points as well as intermediate
    data points as accurately as possible. In this article, we will go through how
    this prediction analysis can be done in R for simple and multiple logistic regression
    using both binary and ordinal data.
  prefs: []
  type: TYPE_NORMAL
- en: '***Dataset***'
  prefs: []
  type: TYPE_NORMAL
- en: The [Adult Data Set](https://archive.ics.uci.edu/ml/datasets/adult) that is
    available in the UCI Machine Learning Repository will be used as a case study
    as part of our research. The data collected in this dataset includes the demographic
    data of more than 30000 individuals. The data includes each individual’s race,
    education, job, gender, salary, hours worked per week, number of jobs held, as
    well as the amount of income they earn.
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/857fb9e532e27fff5e4340124e610032.png)'
  prefs: []
  type: TYPE_IMG
- en: '[Adult Data Set](https://archive.ics.uci.edu/ml/datasets/adult) from UCI Machine
    Learning Repository'
  prefs: []
  type: TYPE_NORMAL
- en: 'A refresher on the dataset:'
  prefs: []
  type: TYPE_NORMAL
- en: '*Bachelors*: 1 means the person has a bachelor’s degree and 0 means the person
    doesn’t have a bachelor’s degree'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '*Income_greater_than_50k_code*: 1 means the total family income is greater
    than $50k and 0 means the total family income is less than $50k'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '*Marital_status_code*: 1 means the person is married and 0 means the person
    is not married or divorced.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '*Race_code*: 1 refers to non-white and 2 refers to white people.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Prediction in simple logistic regression for binary data**'
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: 'We will go through the dataset mentioned above to identify two variables that
    can be used to predict the binary outcome of income which can be either greater
    than $59K or less than $50K utilizing the education level and marital status variables.
    This study asks the following question:'
  prefs: []
  type: TYPE_NORMAL
- en: What is the impact of education level on income?
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: 'To perform prediction analysis, we need the *ggpredict* library installed first.
    The first command will provide the predicted probabilities for the binary “Bachelors”
    variable. We know that the *Bachelors* variable can have two values: 0 and 1\.
    R will provide the probabilities for family income (also a binary variable) to
    be greater than $50k for both cases.'
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/e2fc1c4feafabec4111e3ae8ec48e9aa.png)'
  prefs: []
  type: TYPE_IMG
- en: The first output provides tabular data for predicted income probabilities. Here,
    if Bachelors = 1, the probability that the family income is greater than $50k
    becomes 0.47 whereas if the person doesn’t possess a bachelor’s degree, the probability
    drops to 0.16\. It tells us that education has a vital effect on family income.
  prefs: []
  type: TYPE_NORMAL
- en: '**Prediction in multiple logistic regression for binary data**'
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: 'Using the dataset mentioned above, we will take two predictor variables: education
    level and marital status to predict the binary outcome of income which can be
    either greater than $50K or less than $50k. The study question here is:'
  prefs: []
  type: TYPE_NORMAL
- en: What is the combined impact of education level and marital status on income?
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: The implementation of multiple logistic regression using binary data is very
    similar to the simple logistic regression as below.
  prefs: []
  type: TYPE_NORMAL
- en: Here we want to include marital status as another predictor to predict the income
    of the family. Using similar *ggpredict* command, we obtain the following result.
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/cea139c9eda4ad038fb4dcf95113a248.png)'
  prefs: []
  type: TYPE_IMG
- en: For the second model which has 2 predictors, the data for probabilities are
    adjusted for the mean value of the other variable. Here we have the second predictor
    as *Marital_status_code* which has a mean value of 0.47\. It tells us that 47%
    of all the individuals in our dataset are married and 53% are either never married
    or divorced. Keeping that value constant, the probability of having a family income
    greater than $50k is 0.44 if the person has a bachelor’s degree. If not, the probability
    drops to 0.17.
  prefs: []
  type: TYPE_NORMAL
- en: '**Prediction in simple logistic regression for ordinal data**'
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: Sometimes we can have more than 2 response levels for the outcome variable which
    is ordinal. The family income variable that we have in our dataset has only two
    levels of outcomes but if the response variable has more than 2 outcomes, the
    same approach can be followed.
  prefs: []
  type: TYPE_NORMAL
- en: 'The purpose of the regression model is to provide a quantitative explanation
    of the following question from the dataset:'
  prefs: []
  type: TYPE_NORMAL
- en: What is the individual impact of education level, gender and race on income?
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: To define a logistic regression model where the response variable is ordinal,
    we can use the *clm()* command from the ordinal package. First, we need to convert
    the predictors and response variables to factors. Here the response variable has
    more than two categories and in general, this model is named as Proportional Odd
    (PO) model.
  prefs: []
  type: TYPE_NORMAL
- en: We will use the same dataset here for the PO model. For prediction, we are going
    to use the *ggpredict()* command from *ggeffects* library as well.
  prefs: []
  type: TYPE_NORMAL
- en: Let’s first predict the family income to be greater than $50k for *Education_code*
    5,10 and 13 which represent 9th grade, high school grad and doctorate respectively.
    Here response level 1 indicates the group that has a family income of less than
    $50k and response level 2 indicates the group that has a family income greater
    than $50k. If the individual has a 9th-grade education, the probability that the
    family income will be less than $50k is 0.98 and the probability that the family
    income will be greater than $50k is 0.02 consequently. If the individual has a
    doctorate degree, the probability that the family income will be less than $50k
    is 0.35 and the probability that the family income will be greater than $50k is
    0.65 consequently. Therefore, the higher the education level, the higher the family
    income in general.
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/958aee10803358c81d7c52f20af5eceb.png)'
  prefs: []
  type: TYPE_IMG
- en: If we apply the same prediction using “Bachelors” as a predictor, we observe
    that the probability that the family income will be less than $50k for an individual
    who doesn’t have a bachelor’s degree is 0.84 and the probability that the family
    income will be greater than $50k is 0.16 consequently.
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/0fb5ceded5bc640844412fe1a2561985.png)'
  prefs: []
  type: TYPE_IMG
- en: Taking the “Education_yrs” as the predictor, we can conclude that the higher
    the education years, the probability of having higher income increases. If an
    individual has 16 years of education, the probability of his/her family income
    being greater than $50k, is 0.69\. One thing to observe is the sum of the probabilities
    across all the response levels equals 1.
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/f489531d1a88724fdaa978028fc25da6.png)'
  prefs: []
  type: TYPE_IMG
- en: '**Prediction in multiple logistic regression for ordinal data**'
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: In ordinal logistic regression, the predictor variables can be ordinal or binary
    or continuous and the response variable is ordinal.
  prefs: []
  type: TYPE_NORMAL
- en: Consider the example of predicting income with the ordinal levels of education
    which only has two levels of responses, for example. To carry out the regression
    analysis, we can have education levels from 1st grade up to all the way up to
    the doctorate degree and assign ordered numbers for each level. It is also possible
    to predict income by using binary variables. Using this model, we could, for instance,
    assign 1 as the number of people with bachelor’s degrees and 0 to those who do
    not have bachelor’s degrees. It’s kind of like an ordinal variable with two levels.
    Last but not least, we can also predict income levels with continuous variables
    like education years. Here we are trying to answer the following question quantitatively.
  prefs: []
  type: TYPE_NORMAL
- en: What is the combined impact of education level, gender and race on income?
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: Here, in the first model, we have taken all three predictor variables to predict
    income and the result is shown below.
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/2ba70b288956b57e60db71eba46d4741.png)'
  prefs: []
  type: TYPE_IMG
- en: There are two income levels (income over $50000 and income less than $50000),
    so there are also two response levels (red above). In the second column, you will
    find the predicted probabilities for each educational level. Having an education
    level of 3 (5th-6th grade), the probability of earning < $50000 is 0.99 whereas
    having an education level of 13 (doctoral), the probability of earning < $50000
    is 0.36\. Based on the second response level prediction result, the same conclusion
    can be drawn. Therefore, it is evident that family income has a positive correlation
    with education levels. A higher level of education is associated with a higher
    income for the family. As usual, these results are adjusted using the mean value
    of the other two variables namely *Gender_code* and *Race_code*.
  prefs: []
  type: TYPE_NORMAL
- en: When gender is included in the second *ggpredict* command, we obtain the following
    result.
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/ad19ad23b769eef5a70ee2166ab794e7.png)'
  prefs: []
  type: TYPE_IMG
- en: Now that we have 2 levels of values for gender as well as income level, we now
    have 4 tables. If a person has a gender code of 1 (female) and they have a doctorate
    (education code 13), then they can expect the probability of having an income
    over $50000 to be 0.42, while if the person has a gender code of 2 (male), and
    he has a doctorate, then the predicted probability of having an income over $50000
    will be 0.74\. In other words, this indicates that women are not compensated equally
    for the same level of education as men. As usual, the model has been adjusted
    using the mean value of *Race_code* only.
  prefs: []
  type: TYPE_NORMAL
- en: '**Conclusion**'
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: In this article, we have done a prediction analysis of both binary and ordinal
    logistic regression models using single and multiple predictor variables. We have
    covered the use of the associated *ggpredict()* command in all these four models
    and the results are discussed quantitatively. As a reminder, the overall performance
    of the model will depend on how much data cleaning is done. The presence of unnecessary
    data, repeated data or wrong data will have misleading outcomes from the models.
  prefs: []
  type: TYPE_NORMAL
- en: '**Acknowledgment for Dataset**'
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '[Dua, D. and Graff, C. (2019). UCI Machine Learning Repository [http://archive.ics.uci.edu/ml].
    Irvine, CA: University of California, School of Information and Computer Science.](https://archive.ics.uci.edu/ml/datasets/adult)'
  prefs: []
  type: TYPE_NORMAL
- en: Thanks for reading.
  prefs: []
  type: TYPE_NORMAL
- en: '[Read every story from Md Sohel Mahmood](https://mdsohel-mahmood.medium.com/subscribe)'
  prefs: []
  type: TYPE_NORMAL
- en: '[Join medium](https://mdsohel-mahmood.medium.com/membership)'
  prefs: []
  type: TYPE_NORMAL
