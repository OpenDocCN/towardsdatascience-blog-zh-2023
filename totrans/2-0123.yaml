- en: 5 Visualizations with Python to Show Simultaneous Changes in Geospatial Data
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 原文：[https://towardsdatascience.com/5-visualizations-with-python-to-show-simultaneous-changes-in-geospatial-data-ddc2eaab9d78](https://towardsdatascience.com/5-visualizations-with-python-to-show-simultaneous-changes-in-geospatial-data-ddc2eaab9d78)
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: Ideas to express simultaneous data value changes in multiple locations over
    time
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: '[](https://medium.com/@borih.k?source=post_page-----ddc2eaab9d78--------------------------------)[![Boriharn
    K](../Images/1b23a79640f5272c1382918bfdba03b0.png)](https://medium.com/@borih.k?source=post_page-----ddc2eaab9d78--------------------------------)[](https://towardsdatascience.com/?source=post_page-----ddc2eaab9d78--------------------------------)[![Towards
    Data Science](../Images/a6ff2676ffcc0c7aad8aaf1d79379785.png)](https://towardsdatascience.com/?source=post_page-----ddc2eaab9d78--------------------------------)
    [Boriharn K](https://medium.com/@borih.k?source=post_page-----ddc2eaab9d78--------------------------------)'
  prefs: []
  type: TYPE_NORMAL
- en: ·Published in [Towards Data Science](https://towardsdatascience.com/?source=post_page-----ddc2eaab9d78--------------------------------)
    ·8 min read·Nov 4, 2023
  prefs: []
  type: TYPE_NORMAL
- en: --
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/d7529a24db9a8de2067b8f1201e8deb3.png)'
  prefs: []
  type: TYPE_IMG
- en: Photo by [John Matychuk](https://unsplash.com/@john_matychuk?utm_source=medium&utm_medium=referral)
    on [Unsplash](https://unsplash.com/?utm_source=medium&utm_medium=referral)
  prefs: []
  type: TYPE_NORMAL
- en: Time and space are set as the main themes in some sci-fi movies, such as Interstellar,
    my favorite. A reason that makes this kind of movie interesting is the stories
    that happen simultaneously at different locations, and at the same time, they
    affect each other.
  prefs: []
  type: TYPE_NORMAL
- en: Geospatial data is a type of data that contains spatial information and attributes,
    which are the characteristics of the event or object.
  prefs: []
  type: TYPE_NORMAL
- en: If considering data visualization as a way to tell a story, geospatial data
    with changes in attributes over time can be a good ingredient for creating an
    interesting storyline since it shares some concepts with sci-fi movies.
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/ab9be4c734f21a65ccbf89a5f7279cef.png)![](../Images/666a0c1b278bb1f06cc90f360c061175.png)'
  prefs: []
  type: TYPE_IMG
- en: Examples of charts built with Python to express simultaneous changes in geospatial
    data in this article. Image by author.
  prefs: []
  type: TYPE_NORMAL
- en: This article will guide you with charts and techniques using Python code to
    express simultaneous changes in geospatial data.
  prefs: []
  type: TYPE_NORMAL
- en: Let's get started!!
  prefs: []
  type: TYPE_NORMAL
- en: Getting data
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Geometry data
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: Start with importing libraries. We will mainly work with [GeoPandas](https://geopandas.org/en/stable/),
    a useful and easy-to-use library for plotting geospatial data.
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE0]'
  prefs: []
  type: TYPE_PRE
- en: Next, the geospatial information can be obtained from [geojson.xyz](https://geojson.xyz/),
    an open-source website that provides access to GeoJSON data for web mapping examples
    and experiments.
  prefs: []
  type: TYPE_NORMAL
- en: The geometry data that we are going to use are the [boundaries of the states](https://d2ad6b4ur7yvpq.cloudfront.net/naturalearth-3.3.0/ne_110m_admin_1_states_provinces_shp.geojson)
    in the western United States. The code below shows how to get the [geometry data](https://geojson.io/#map=2.61/48.23/-119.38),
    excluding Hawaii and Alaska.
  prefs: []
  type: TYPE_NORMAL
- en: This region will be the main area in this article. If you want to select different
    states, feel free to modify the list below.
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/e263cc79d6fff26060d7ca9ce40e2fa2.png)'
  prefs: []
  type: TYPE_IMG
- en: Now that we have the geometries, let's plot the geospatial data.
  prefs: []
  type: TYPE_NORMAL
- en: A base map can be added as a background using the [contextily](https://contextily.readthedocs.io/en/latest/intro_guide.html)
    library to make the chart look realistic. The method is shown in the code below.
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/b9618f80770ea3b338b8769453d34af7.png)'
  prefs: []
  type: TYPE_IMG
- en: Plotting geospatial data using GeoPandas. Image by author.
  prefs: []
  type: TYPE_NORMAL
- en: Data values
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: To show that the methods in this article can be applied to real-world data,
    'U.S. states and territories by income' information on [Wikipedia](https://en.wikipedia.org/wiki/List_of_U.S._states_and_territories_by_income)
    will be used as an example for expressing annual changes in data values.
  prefs: []
  type: TYPE_NORMAL
- en: The data are used under the [CC BY-SA 4.0 International license](https://en.wikipedia.org/wiki/Wikipedia:Text_of_the_Creative_Commons_Attribution-ShareAlike_4.0_International_License).
  prefs: []
  type: TYPE_NORMAL
- en: The information can be downloaded with just a few lines of code using the Panda's
    [read_html](https://pandas.pydata.org/docs/reference/api/pandas.read_html.html)
    function. Please note that the retrieved table has no information from the year
    2020.
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/112819b00246353f93641977a4299172.png)'
  prefs: []
  type: TYPE_IMG
- en: Next, the obtained DataFrame will be merged with the previous one.
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE1]'
  prefs: []
  type: TYPE_PRE
- en: '![](../Images/8b4afdea53c9747df6788616308b8e38.png)'
  prefs: []
  type: TYPE_IMG
- en: The median household income values must be converted into integers since the
    data values obtained are in string format. By the way, the values in string format
    are kept for annotating the output charts.
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/ac9507b0a4994f65bfac818a1d172207.png)'
  prefs: []
  type: TYPE_IMG
- en: Visualization
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: This article will guide with 5 chart ideas to show simultaneous changes in geospatial
    data.
  prefs: []
  type: TYPE_NORMAL
- en: Let's get started!!
  prefs: []
  type: TYPE_NORMAL
- en: 1\. Using spatial areas and colors with Choropleth maps
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: A Choropleth map is a typical spatial chart that displays colors in accordance
    with geographic characteristics. By combining multiple maps, we can express the
    changes over time.
  prefs: []
  type: TYPE_NORMAL
- en: Starting with the code below, the loop function will be applied to plot the
    choropleth map yearly. Besides color mapping, annotating data values can help
    show the progress of the median income values.
  prefs: []
  type: TYPE_NORMAL
- en: Please note that the charts obtained will be saved onto your computer for importing
    in the next step.
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/d2adedaa66550968249cf5dd56f9f9d0.png)'
  prefs: []
  type: TYPE_IMG
- en: An example of a choropleth map. Image by author.
  prefs: []
  type: TYPE_NORMAL
- en: Now that we already have multiple charts, the following methods are ideas for
    combining them.
  prefs: []
  type: TYPE_NORMAL
- en: '**1.1 Creating a photo collage**'
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: The first idea is to combine the charts all together as a photo collage. This
    can be considered a good choice for creating an infographic.
  prefs: []
  type: TYPE_NORMAL
- en: Let's define a function for doing the task. I found this useful code and method
    to create a photo collage from this [link](https://stackoverflow.com/questions/35438802/making-a-collage-in-pil)
    on Stack Overflow.
  prefs: []
  type: TYPE_NORMAL
- en: Next, the charts will be imported and combined with the defined function.
  prefs: []
  type: TYPE_NORMAL
- en: Voila!!
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/fd17e157007a56d0012d78425fff0137.png)'
  prefs: []
  type: TYPE_IMG
- en: A part of a photo collage combining choropleth maps. Image by author.
  prefs: []
  type: TYPE_NORMAL
- en: The photo collage can show and help compare the simultaneous changes in geospatial
    data. From the result, it can be easily distinguished that California has the
    highest median household income, and New Mexico has the lowest one over time.
  prefs: []
  type: TYPE_NORMAL
- en: 1.2 Creating an animation
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: Besides putting the maps next to each other, we can gather them in order to
    create an animation. If the media you use allows displaying moving pictures in
    a GIF file format, this can be a good choice for catching the reader's attention.
  prefs: []
  type: TYPE_NORMAL
- en: Ta-da!!
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/00ec30b723845f5d1f0f0cc05e2a8272.png)'
  prefs: []
  type: TYPE_IMG
- en: An animation of choropleth maps showing simultaneous changes in geospatial data.
    Image by author.
  prefs: []
  type: TYPE_NORMAL
- en: 2\. Comparing sizes with Bubble charts
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: With the same concept as the previous method, circle areas in bubble charts
    can be applied to represent data values. The bubbles are located at the state
    centroids, while the size will change following annual data values.
  prefs: []
  type: TYPE_NORMAL
- en: For mapping colors later, we are going to extract a color palette to create
    a list of colors.
  prefs: []
  type: TYPE_NORMAL
- en: Next, plot the bubble chart each year using Python's for-loop function.
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/d154e398dcf4eed3fc6dee540e1d021b.png)'
  prefs: []
  type: TYPE_IMG
- en: An example of a bubble chart on a spatial plot. Image by author.
  prefs: []
  type: TYPE_NORMAL
- en: After creating the bubble charts, we will combine them to express changes in
    spatial data.
  prefs: []
  type: TYPE_NORMAL
- en: 2.1 Creating a photo collage
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: Use the previously defined function to get a photo collage.
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE2]'
  prefs: []
  type: TYPE_PRE
- en: '![](../Images/3d4c33d13afa7fffde03b969e51e91a3.png)'
  prefs: []
  type: TYPE_IMG
- en: A part of a photo collage combining bubble charts. Image by author.
  prefs: []
  type: TYPE_NORMAL
- en: 2.2 Creating an animation
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: Put the charts together to create a moving GIF file.
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE3]'
  prefs: []
  type: TYPE_PRE
- en: '![](../Images/2063a263fdbc05b268f90d8cbadbd482.png)'
  prefs: []
  type: TYPE_IMG
- en: An animation of bubble charts showing simultaneous changes in geospatial data.
    Image by author.
  prefs: []
  type: TYPE_NORMAL
- en: Compared with the choropleth maps**,** besides labeling data and mapping with
    colors, the circle areas also help compare spatial data values. We can see that
    the circle sizes are updated over time.
  prefs: []
  type: TYPE_NORMAL
- en: 3\. Showing proportions with Pie charts
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: If the goal is to compare data values locally, pie charts can be applied to
    facilitate reading since they are able to show each location's proportion compared
    with the others.
  prefs: []
  type: TYPE_NORMAL
- en: To make each location's data stand out, the trick is to separate each location's
    piece from the rest. This will help distinguish the proportion more easily. This
    can be set at the 'explode' parameter, as shown in the code below.
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/a1d5a3deaa6f695d1c4028c115e29c34.png)'
  prefs: []
  type: TYPE_IMG
- en: An example of a pie chart on a spatial plot. Image by author.
  prefs: []
  type: TYPE_NORMAL
- en: Creating a photo collage
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: Let's combine the results.
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE4]'
  prefs: []
  type: TYPE_PRE
- en: '![](../Images/6917427df4085c14c6ed382a390aa345.png)'
  prefs: []
  type: TYPE_IMG
- en: A part of a photo collage combining pie charts. Image by author.
  prefs: []
  type: TYPE_NORMAL
- en: Creating an animation can also be conducted using the previously mentioned method,
    as shown with the choropleth maps and bubble charts.
  prefs: []
  type: TYPE_NORMAL
- en: 4\. Making things simple with Bar charts
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: So far, the techniques previously mentioned are all combining multiple charts.
    They need to be put together as a photo collage or an animation. This can be a
    limit when a simple single chart is preferred.
  prefs: []
  type: TYPE_NORMAL
- en: No problem!!
  prefs: []
  type: TYPE_NORMAL
- en: A simple single chart will do as well. Everything can be plotted in just one
    graph by applying the bar charts. The main concept is each location has its own
    bar chart in which each bar represents the value of each year. The color mapping
    will be applied to help compare the bar values.
  prefs: []
  type: TYPE_NORMAL
- en: This method can be an alternative option to choropleth maps and bubble charts
    in this article.
  prefs: []
  type: TYPE_NORMAL
- en: Ta-da!!
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/30e24da7f84f7c976d90e10b1df22562.png)'
  prefs: []
  type: TYPE_IMG
- en: Plotting multiple bar charts on a spatial plot. Image by author.
  prefs: []
  type: TYPE_NORMAL
- en: 5\. Handling time-series data with Line charts
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: In fact, the annual data that we have is time-series data. We can apply multiple
    line charts to express changes over time. Silhouettes of other locations' data
    can be shown locally to facilitate reading and help compare the values.
  prefs: []
  type: TYPE_NORMAL
- en: This method can be an alternative option to pie charts in this article since
    it helps focus on each location's data while being able to compare with the rest.
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/44d9e2049e0d0b046ba5725f64441477.png)'
  prefs: []
  type: TYPE_IMG
- en: Plotting multiple line charts on a spatial plot to express time-series data.
    Image by author.
  prefs: []
  type: TYPE_NORMAL
- en: Summary
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Firstly, let's wrap up every chart mentioned in this article.
  prefs: []
  type: TYPE_NORMAL
- en: Choropleth maps
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Bubble charts
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Pie charts
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Bar charts
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Line charts
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'If we take a close look at these charts, most are just common graphs with nothing
    sophisticated. The main idea is to apply their simplicity to show complicated
    scenarios: simultaneous data value changes in multiple locations over time.'
  prefs: []
  type: TYPE_NORMAL
- en: “Out of clutter, find simplicity” — Albert Einstein
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: Lastly, I'm pretty sure there can be other graphs for this kind of data. The
    main purpose of this article is to guide with ideas, and the charts explained
    here are just examples.
  prefs: []
  type: TYPE_NORMAL
- en: If you want to share or have any suggestions, please feel free to leave a comment.
  prefs: []
  type: TYPE_NORMAL
- en: Thanks for reading.
  prefs: []
  type: TYPE_NORMAL
- en: 'Here are some of my data visualization articles that you may find interesting:'
  prefs: []
  type: TYPE_NORMAL
- en: 7 Visualizations with Python to Handle Multivariate Categorical Data ([link](https://medium.com/towards-data-science/7-visualizations-with-python-to-handle-multivariate-categorical-data-63158db0911d))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 8 Visualizations with Python to Handle Multiple Time-Series Data ([link](/8-visualizations-with-python-to-handle-multiple-time-series-data-19b5b2e66dd0))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 7 Visualizations with Python to Express changes in Rank over time ([link](/7-visualizations-with-python-to-express-changes-in-rank-over-time-71c1f11d7e4b))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 9 Visualizations with Python to show Proportions or Percentages instead of a
    Pie chart ([link](/9-visualizations-to-show-proportions-or-percentages-instead-of-a-pie-chart-4e8d81617451))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 9 Visualizations with Python that Catch More Attention than a Bar Chart ([link](/9-visualizations-that-catch-more-attention-than-a-bar-chart-72d3aeb2e091))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: References
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: '*Geojson-XYZ*. GitHub. (n.d.). [https://github.com/geojson-xyz](https://github.com/geojson-xyz)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '*What is geospatial data?*. IBM. (n.d.). [https://www.ibm.com/topics/geospatial-data](https://www.ibm.com/topics/geospatial-data)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Wikimedia Foundation. (2023, October 17). *List of U.S. states and territories
    by income*. Wikipedia. [https://en.wikipedia.org/wiki/List_of_U.S._states_and_territories_by_income](https://en.wikipedia.org/wiki/List_of_U.S._states_and_territories_by_income)
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '*Introduction guide to contextily*. Introduction guide to contextily — contextily
    1.1.0 documentation. (n.d.). [https://contextily.readthedocs.io/en/latest/intro_guide.html](https://contextily.readthedocs.io/en/latest/intro_guide.html)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Wikimedia Foundation. (2023, August 13). *Choropleth map*. Wikipedia. [https://en.wikipedia.org/wiki/Choropleth_map](https://en.wikipedia.org/wiki/Choropleth_map)
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
