# 中国量产自动驾驶的挑战

> 原文：[https://towardsdatascience.com/challenges-of-mass-production-autonomous-driving-in-china-407c7e2dc5d8](https://towardsdatascience.com/challenges-of-mass-production-autonomous-driving-in-china-407c7e2dc5d8)

## 以及2023年小鹏汽车的最新进展

[](https://medium.com/@patrickllgc?source=post_page-----407c7e2dc5d8--------------------------------)[![Patrick Langechuan Liu](../Images/fecbf85146a9bde21e6b2251538ddd65.png)](https://medium.com/@patrickllgc?source=post_page-----407c7e2dc5d8--------------------------------)[](https://towardsdatascience.com/?source=post_page-----407c7e2dc5d8--------------------------------)[![Towards Data Science](../Images/a6ff2676ffcc0c7aad8aaf1d79379785.png)](https://towardsdatascience.com/?source=post_page-----407c7e2dc5d8--------------------------------) [Patrick Langechuan Liu](https://medium.com/@patrickllgc?source=post_page-----407c7e2dc5d8--------------------------------)

·发表于 [Towards Data Science](https://towardsdatascience.com/?source=post_page-----407c7e2dc5d8--------------------------------) ·阅读时间7分钟·2023年6月19日

--

> 本博客文章基于在2023年温哥华CVPR的*端到端自动驾驶研讨会*上的主题演讲，题为“中国量产自动驾驶的实践”。主题演讲的录音可以在[这里](https://www.youtube.com/watch?v=d6ucRgDDUWQ&t=162s)找到。

自动驾驶是一个令人望而生畏的挑战，特别是在中国，这里的人类驾驶已经是世界上最具挑战性的之一。主要涉及三个因素：动态交通参与者、静态道路结构和交通信号。特别是，交通灯控制信号带来了独特的挑战，因为它们在几何上是**静态的，但在语义上是动态的**。在接下来的会议中，我们将简要回顾动态对象和静态环境，并深入探讨交通灯这一有趣且特殊的话题。

[](https://opendrivelab.com/e2ead/cvpr23.html?source=post_page-----407c7e2dc5d8--------------------------------) [## CVPR 2023 自动驾驶研讨会 | OpenDriveLab

### 我们自豪地宣布今年与我们的合作伙伴 - Vision-Centric… 合作推出的四项全新挑战。

opendrivelab.com](https://opendrivelab.com/e2ead/cvpr23.html?source=post_page-----407c7e2dc5d8--------------------------------)

# 动态与静态挑战

动态交通参与者，如**易受伤害的道路使用者**（VRUs），给中国的自动驾驶车辆带来了重大挑战。VRUs通常是不可预测的，以不同的姿态出现，常常出现在司机最意想不到的地方。大型动物可能会突然出现在乡村道路上，而宠物可能会漫游到城市街道上。此外，装载物品的车辆或三轮车的具体类型也很难确定。考虑一下中间行的最后一张照片，它实际上即使对于人类来说，第一次看到场景也非常具有挑战性。那辆装满树枝的车辆无意中完全隐匿在环境中。

![](../Images/e593016774ca57a7d9bd79542b2ccf86.png)

各种动态道路使用者

静态道路结构和拓扑对自动驾驶车辆也可能构成重大挑战。例如，这里展示的复杂交叉口突显了需要解决的复杂程度。虽然看起来像是科幻电影中的截图，但这个交叉口实际上是在谷歌地球上可以查看的真实地点。

![](../Images/02c749d1edc113b9a0242a7f28730321.png)

复杂交叉口的卫星图像

如果我们放大，就会发现一个有趣的道路元素，这可能在中国是独一无二的——左转待行区。它旨在提高左转交通的通行量，使更多的车辆在一个交通信号周期内通过交叉口。注意，这种设计可能并不对称，每个方向的设计都是根据交通模式单独设计的。我们甚至可以找到关于它及其效果的学术论文。尽管它的提出出于良好的意图，但对于新司机和自动驾驶车辆来说，可能真的很困惑。

在有待行区的交叉口左转涉及两个步骤。它们都涉及不同的交通信号灯组合。在这里，我只展示了最常见的交通信号灯模式。交通信号灯组合可能更复杂，有时涉及专门用于待行区的特殊交通信号灯。

![](../Images/ed15ee849253954d45287d38904b6034.png)

左转待行区由科学论文支持

# **角落案例之王**：交通信号灯

现在我们可以深入探讨交通信号灯的所有角落案例。交通信号灯可能是**拥有**最多长尾角落案例的对象类别。交通信号灯的感知复杂有两个原因。首先，我们必须识别交通信号灯的位置、类型和颜色，然后我们还需要知道在我们检测到的所有交通信号灯中（这里有六个），我们的车辆应该关注哪一个。为了做出这个决定，必须获得交通信号灯与不同车道之间的正确匹配。

![](../Images/78e27f4e124e743c9f52e4f8b1189864.png)

中国典型的交通信号灯场景

一种特殊类型的灯是专为公交车设计的交通信号灯。我们需要正确识别它们有两个不同的原因。首先，为了规划和控制自车，我们需要识别它们以正确忽略它们，因为它们可能传递与我们需要关注的信号灯冲突的信息，从而给我们的自动驾驶车辆带来困惑。然而，要预测附近公交车的潜在操作，我们也需要正确了解其状态。

![](../Images/4553b793d5dd087ce156adb5fcd7621a.png)

公交车交通信号灯

中国为公交车设计的交通信号灯有多种形式，包括标有“BRT”、“SRT”、“Bus”或单个字母“B”的LED灯。它们还可以具有特定的中文字符，如“公交”或“有轨电车”，有时还包括描绘可爱小公交车的图标。除了这些特征外，还可能包括交通标志修饰符，这使得自动驾驶车辆必须检测和识别这些特征，并将其准确地与相应的交通信号灯关联起来。

![](../Images/d6d4b9b976ce531654ee81cbac2c5187.png)![](../Images/a9e8bcf4d0eaa38fb361fec003fcf54d.png)

多灯泡交通信号灯

除了专门为公交车设计的交通信号灯外，另一种复杂的交通信号灯是多灯泡交通信号灯。与传统交通信号灯一次只点亮一个灯泡不同，多灯泡交通信号灯可能在同一个插座中同时点亮多个灯泡。因此，检测交通信号灯盒是不够的；同样重要的是要检测单个灯泡，并准确解释它们的语义。

在多灯泡交通信号灯的附加图像中，我们还看到了一些额外的数字。它们是倒计时计时器，显示下一个颜色变化的时间。我们在北美很常见到行人倒计时计时器，但这些计时器是为车辆设计的。如果正确使用这些信息，它们可能有助于改善行驶的顺畅度。

![](../Images/06c0ed3ce0bd0fc3a828e2925f86c6a3.png)

倒计时计时器交通信号灯

倒计时计时器可以采取多种形式并以不同的方式呈现。它们可以是独立显示的，也可以与交通信号灯系统集成。数字的格式可能有所不同，包括前导零的使用与否，使用的字体也可能有所不同，有些字体更具艺术性。此外，还有一些交通信号灯设计成进度条的样式。这涉及到一个动画，其中进度条逐渐缩短，然后变成不同颜色的完整进度条。虽然这种设计可能被认为是最创新的，但它也可能给我们的感知工程师带来挑战。

![](../Images/9a530fb0bf4176a42bdef67befe2e7a3.png)

左转等待区交通信号灯

最后，还有专用于等待区的交通信号灯，它们可以以图标或文本的形式出现。图标类型通常还涉及动画，灯光逐渐点亮以引导你到等待区。文本类型可能在LED显示屏或交通标志牌上。对于文本，没有标准模式，这需要光学字符识别（OCR）和一些自然语言处理来提取语义。

# XNGP：Xpeng的自动驾驶解决方案

记录了大规模生产的Xpeng车辆自动左转的情况

记录了大规模生产的Xpeng车辆自动右转的情况

尽管面临这些挑战，截至2023年，Xpeng团队成功交付了中国业界领先的自动驾驶解决方案。周围现实（SR）显示屏仅显示从车载感知系统获得的信息。左侧显示准确检测道路几何，而右侧则描绘了常见场景，即一群行人正在过马路。值得注意的是，展示的镜头代表了市场上现有的大规模生产Xpeng车辆的实际录制，没有任何后期修改。

如果你对这一切如何实现感兴趣，请参阅另一篇关于XNet部署的文章——这是BEV（鸟瞰视角）范式中的端到端感知堆栈。它是上述大规模生产自动驾驶解决方案的关键推动力，并为完全端到端的自动驾驶解决方案奠定了坚实的基础。

[](https://medium.com/@patrickllgc/bev-perception-in-mass-production-autonomous-driving-c6e3f1e46ae0?source=post_page-----407c7e2dc5d8--------------------------------) [## BEV感知在大规模生产自动驾驶中的应用

### XNet的配方，Xpeng的BEV感知架构

[medium.com](https://medium.com/@patrickllgc/bev-perception-in-mass-production-autonomous-driving-c6e3f1e46ae0?source=post_page-----407c7e2dc5d8--------------------------------)

# 主要收获

+   在中国驾驶具有挑战性，因为动态物体无处不在，复杂的道路拓扑，以及交通信号灯的极端长尾边缘案例。

+   交通信号灯有许多特殊类型，每种类型都有很多边缘案例。有时需要综合考虑多个交通信号灯，还要考虑附近的倒计时器或交通标志。

+   截至2023年，Xpeng Motors迎接了这些挑战，并在中国交付了业界领先的大规模生产自动驾驶产品。

# 参考文献

+   Ma, Wanjing, et al. “增加左转等待区的信号化交叉口的容量。” *运输研究A部分：政策与实践* 105 (2017): 181–196.
