- en: Two Interesting Pandas Data Manipulation Functions You Need to Know
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: ä½ éœ€è¦çŸ¥é“çš„ä¸¤ä¸ªæœ‰è¶£çš„ pandas æ•°æ®æ“ä½œå‡½æ•°
- en: åŸæ–‡ï¼š[https://towardsdatascience.com/two-interesting-pandas-data-manipulation-functions-you-need-to-know-5eabd06af56b](https://towardsdatascience.com/two-interesting-pandas-data-manipulation-functions-you-need-to-know-5eabd06af56b)
  id: totrans-1
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: åŸæ–‡ï¼š[https://towardsdatascience.com/two-interesting-pandas-data-manipulation-functions-you-need-to-know-5eabd06af56b](https://towardsdatascience.com/two-interesting-pandas-data-manipulation-functions-you-need-to-know-5eabd06af56b)
- en: Data Science
  id: totrans-2
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: æ•°æ®ç§‘å­¦
- en: Extremely useful pandas functions for converting a continuous pandas column
    into categorical ones.
  id: totrans-3
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: æå…¶æœ‰ç”¨çš„ pandas å‡½æ•°å¯ä»¥å°†è¿ç»­çš„ pandas åˆ—è½¬æ¢ä¸ºåˆ†ç±»åˆ—ã€‚
- en: '[](https://medium.com/@17.rsuraj?source=post_page-----5eabd06af56b--------------------------------)[![Suraj
    Gurav](../Images/f5dca32861f8c1c428e66fbe2174c04b.png)](https://medium.com/@17.rsuraj?source=post_page-----5eabd06af56b--------------------------------)[](https://towardsdatascience.com/?source=post_page-----5eabd06af56b--------------------------------)[![Towards
    Data Science](../Images/a6ff2676ffcc0c7aad8aaf1d79379785.png)](https://towardsdatascience.com/?source=post_page-----5eabd06af56b--------------------------------)
    [Suraj Gurav](https://medium.com/@17.rsuraj?source=post_page-----5eabd06af56b--------------------------------)'
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: '[](https://medium.com/@17.rsuraj?source=post_page-----5eabd06af56b--------------------------------)[![Suraj
    Gurav](../Images/f5dca32861f8c1c428e66fbe2174c04b.png)](https://medium.com/@17.rsuraj?source=post_page-----5eabd06af56b--------------------------------)[](https://towardsdatascience.com/?source=post_page-----5eabd06af56b--------------------------------)[![Towards
    Data Science](../Images/a6ff2676ffcc0c7aad8aaf1d79379785.png)](https://towardsdatascience.com/?source=post_page-----5eabd06af56b--------------------------------)
    [Suraj Gurav](https://medium.com/@17.rsuraj?source=post_page-----5eabd06af56b--------------------------------)'
- en: Â·Published in [Towards Data Science](https://towardsdatascience.com/?source=post_page-----5eabd06af56b--------------------------------)
    Â·7 min readÂ·Aug 24, 2023
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: Â·å‘è¡¨äº [Towards Data Science](https://towardsdatascience.com/?source=post_page-----5eabd06af56b--------------------------------)
    Â·é˜…è¯»æ—¶é—´ 7 åˆ†é’ŸÂ·2023å¹´8æœˆ24æ—¥
- en: --
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: --
- en: '![](../Images/6bad487920cb6f6872e7975472f27f51.png)'
  id: totrans-7
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/6bad487920cb6f6872e7975472f27f51.png)'
- en: Photo by [Brendan Church](https://unsplash.com/@bdchu614?utm_source=medium&utm_medium=referral)
    on [Unsplash](https://unsplash.com/?utm_source=medium&utm_medium=referral)
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: ç…§ç‰‡ç”± [Brendan Church](https://unsplash.com/@bdchu614?utm_source=medium&utm_medium=referral)
    æä¾›ï¼Œæ¥æºäº [Unsplash](https://unsplash.com/?utm_source=medium&utm_medium=referral)
- en: Python pandas is a powerful and widely used library for data analysis.
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: Python pandas æ˜¯ä¸€ä¸ªå¼ºå¤§ä¸”å¹¿æ³›ä½¿ç”¨çš„æ•°æ®åˆ†æåº“ã€‚
- en: It comes up with 200+ functions and methods, making data manipulation and transformation
    easy. However, knowing all these functions and using them where required in the
    actual work isnâ€™t a feasible task.
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: å®ƒæä¾›äº† 200 å¤šä¸ªå‡½æ•°å’Œæ–¹æ³•ï¼Œä½¿æ•°æ®æ“ä½œå’Œè½¬æ¢å˜å¾—å®¹æ˜“ã€‚ç„¶è€Œï¼Œäº†è§£æ‰€æœ‰è¿™äº›å‡½æ•°å¹¶åœ¨å®é™…å·¥ä½œä¸­æŒ‰éœ€ä½¿ç”¨å®ƒä»¬å¹¶ä¸æ˜¯ä¸€é¡¹å¯è¡Œçš„ä»»åŠ¡ã€‚
- en: One of the common tasks in data manipulation is converting a column having continuous
    numerical values into a column containing discrete or categorical values. And
    pandas has two amazing built-in functions which can certainly save you a few minutes.
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: æ•°æ®æ“ä½œä¸­çš„å¸¸è§ä»»åŠ¡ä¹‹ä¸€æ˜¯å°†åŒ…å«è¿ç»­æ•°å€¼çš„åˆ—è½¬æ¢ä¸ºåŒ…å«ç¦»æ•£æˆ–åˆ†ç±»å€¼çš„åˆ—ã€‚pandas æœ‰ä¸¤ä¸ªäº†ä¸èµ·çš„å†…ç½®å‡½æ•°ï¼Œå¯ä»¥èŠ‚çœä½ å‡ åˆ†é’Ÿæ—¶é—´ã€‚
- en: You can use such type of data transformation for a variety of applications like
    grouping data, analyzing data by discrete groups, or visualizing data using histograms.
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: ä½ å¯ä»¥å°†è¿™ç§ç±»å‹çš„æ•°æ®è½¬æ¢ç”¨äºå„ç§åº”ç”¨ï¼Œå¦‚åˆ†ç»„æ•°æ®ã€æŒ‰ç¦»æ•£ç»„åˆ†ææ•°æ®æˆ–ä½¿ç”¨ç›´æ–¹å›¾å¯è§†åŒ–æ•°æ®ã€‚
- en: For example,
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: ä¾‹å¦‚ï¼Œ
- en: Recently, I calculated [Herfindahl-Hirschman Index (HHI)](https://www.investopedia.com/terms/h/hhi.asp)
    to understand the market concentration of multiple brands. So in a pandas DataFrame,
    I had a column with continuous values of HHI for all brands. Ultimately, I wanted
    to convert this column to a discrete one to categorize each brand as low, medium,
    and high market concentration â€” **Thatâ€™s where I got inspired for this story.**
  id: totrans-14
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: æœ€è¿‘ï¼Œæˆ‘è®¡ç®—äº†[èµ«èŠ¬è¾¾å°”-èµ«å¸Œæ›¼æŒ‡æ•° (HHI)](https://www.investopedia.com/terms/h/hhi.asp)ä»¥äº†è§£å¤šä¸ªå“ç‰Œçš„å¸‚åœºé›†ä¸­åº¦ã€‚å› æ­¤ï¼Œåœ¨ä¸€ä¸ª
    pandas DataFrame ä¸­ï¼Œæˆ‘æœ‰ä¸€ä¸ªåŒ…å«æ‰€æœ‰å“ç‰Œ HHI è¿ç»­å€¼çš„åˆ—ã€‚æœ€ç»ˆï¼Œæˆ‘æƒ³å°†è¿™ä¸€åˆ—è½¬æ¢ä¸ºç¦»æ•£åˆ—ï¼Œä»¥å°†æ¯ä¸ªå“ç‰Œåˆ†ç±»ä¸ºä½ã€ä¸­å’Œé«˜å¸‚åœºé›†ä¸­åº¦â€”â€”**è¿™å°±æ˜¯æˆ‘è·å¾—çµæ„Ÿçš„åœ°æ–¹ã€‚**
- en: Without knowing these built-in pandas functions, you might need to write multiple
    *if-else* and *for* statements to get the same work done.
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: å¦‚æœä¸çŸ¥é“è¿™äº›å†…ç½®çš„ pandas å‡½æ•°ï¼Œä½ å¯èƒ½éœ€è¦ç¼–å†™å¤šä¸ª *if-else* å’Œ *for* è¯­å¥æ¥å®Œæˆç›¸åŒçš„å·¥ä½œã€‚
- en: Therefore, here youâ€™ll explore such 2 super-useful built-in pandas functions
    along with interesting examples (*including my project*), which will supercharge
    your data analysis and save you a couple of minutes.
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: å› æ­¤ï¼Œåœ¨è¿™é‡Œä½ å°†æ¢ç´¢ä¸¤ä¸ªè¶…çº§æœ‰ç”¨çš„ pandas å†…ç½®å‡½æ•°ä»¥åŠæœ‰è¶£çš„ç¤ºä¾‹ï¼ˆ*åŒ…æ‹¬æˆ‘çš„é¡¹ç›®*ï¼‰ï¼Œè¿™äº›ç¤ºä¾‹å°†å¤§å¤§æå‡ä½ çš„æ•°æ®åˆ†æèƒ½åŠ›ï¼Œå¹¶èŠ‚çœä½ å‡ åˆ†é’Ÿæ—¶é—´ã€‚
- en: Often you need to convert a column with continuous values into another column
    with discrete values in your analytics project.
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨ä½ çš„åˆ†æé¡¹ç›®ä¸­ï¼Œé€šå¸¸éœ€è¦å°†ä¸€ä¸ªå…·æœ‰è¿ç»­å€¼çš„åˆ—è½¬æ¢ä¸ºå¦ä¸€ä¸ªå…·æœ‰ç¦»æ•£å€¼çš„åˆ—ã€‚
- en: So basically you categorize the continuous data into several categories, i.e.
    buckets or bins. And you can do so by either specifying minimum and maximum values
    for each bin, i.e. defining bin edges or by specifying the number of bins.
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: æ‰€ä»¥åŸºæœ¬ä¸Šï¼Œä½ å°†è¿ç»­æ•°æ®åˆ†ç±»ä¸ºå‡ ä¸ªç±»åˆ«ï¼Œå³æ¡¶æˆ–ç®±å­ã€‚ä½ å¯ä»¥é€šè¿‡æŒ‡å®šæ¯ä¸ªç®±å­çš„æœ€å°å€¼å’Œæœ€å¤§å€¼ï¼Œå³å®šä¹‰ç®±å­è¾¹ç¼˜ï¼Œæˆ–é€šè¿‡æŒ‡å®šç®±å­æ•°é‡æ¥åšåˆ°è¿™ä¸€ç‚¹ã€‚
- en: Depending on your purpose of splitting a continuous series into a discrete one,
    you can use one of the **next two** methods.
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: æ ¹æ®ä½ å°†è¿ç»­åºåˆ—æ‹†åˆ†ä¸ºç¦»æ•£åºåˆ—çš„ç›®çš„ï¼Œä½ å¯ä»¥ä½¿ç”¨ **æ¥ä¸‹æ¥çš„ä¸¤ç§** æ–¹æ³•ä¹‹ä¸€ã€‚
- en: As I was curious about a built-in function for my work, first I came across
    the `cut()` function from pandas library.
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: ç”±äºæˆ‘å¯¹å·¥ä½œä¸­çš„å†…ç½®å‡½æ•°æ„Ÿåˆ°å¥½å¥‡ï¼Œé¦–å…ˆæˆ‘é‡åˆ°äº† pandas åº“ä¸­çš„ `cut()` å‡½æ•°ã€‚
- en: pandas cut()
  id: totrans-21
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: pandas cut()
- en: You can use pandas **cut()** when you want to split the data into a fixed number
    of different buckets, irrespective of the number of values in each bucket.
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: å½“ä½ æƒ³å°†æ•°æ®åˆ†æˆå›ºå®šæ•°é‡çš„ä¸åŒæ¡¶æ—¶ï¼Œå¯ä»¥ä½¿ç”¨ pandas **cut()**ï¼Œæ— è®ºæ¯ä¸ªæ¡¶ä¸­çš„å€¼çš„æ•°é‡å¦‚ä½•ã€‚
- en: As per pandas official documentation, there are 7 optional parameters for the
    function `**pandas.cut()**` along with 2 mandatory parameters.
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: æ ¹æ® pandas å®˜æ–¹æ–‡æ¡£ï¼Œ`**pandas.cut()**` å‡½æ•°æœ‰ 7 ä¸ªå¯é€‰å‚æ•°å’Œ 2 ä¸ªå¿…éœ€å‚æ•°ã€‚
- en: But you donâ€™t need to remember all of them.
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: ä½†ä½ ä¸éœ€è¦è®°ä½æ‰€æœ‰è¿™äº›ã€‚
- en: Iâ€™ve simplified things for you. Iâ€™m using this function quite often nowadays
    and found some of the function parameters more useful than others.
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘å·²ç»ä¸ºä½ ç®€åŒ–äº†å†…å®¹ã€‚æˆ‘ç°åœ¨ç»å¸¸ä½¿ç”¨è¿™ä¸ªå‡½æ•°ï¼Œå‘ç°ä¸€äº›å‡½æ•°å‚æ•°æ¯”å…¶ä»–å‚æ•°æ›´æœ‰ç”¨ã€‚
- en: Here are the commonly used optional parameters which youâ€™ll use in almost **90%
    of the cases**.
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™é‡Œæ˜¯ä½ åœ¨å‡ ä¹ **90% çš„æƒ…å†µä¸‹** ä¼šä½¿ç”¨çš„å¸¸ç”¨å¯é€‰å‚æ•°ã€‚
- en: '[PRE0]'
  id: totrans-27
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: Letâ€™s take an example to understand how each of these parameters works.
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: è®©æˆ‘ä»¬ä¸¾ä¸€ä¸ªä¾‹å­æ¥ç†è§£è¿™äº›å‚æ•°æ˜¯å¦‚ä½•å·¥ä½œçš„ã€‚
- en: Suppose you have the following continuous series, which you would like to convert
    into 5 bins.
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: å‡è®¾ä½ æœ‰ä»¥ä¸‹è¿ç»­åºåˆ—ï¼Œä½ æƒ³å°†å…¶è½¬æ¢ä¸º 5 ä¸ªç®±å­ã€‚
- en: '[PRE1]'
  id: totrans-30
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: '![](../Images/1be215a603dcdfb9e9124c7b62b882aa.png)'
  id: totrans-31
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/1be215a603dcdfb9e9124c7b62b882aa.png)'
- en: pandas cut() | Image by Author
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: pandas cut() | ä½œè€…å›¾ç‰‡
- en: You simply assigned the integer 5 to the parameter *bin* â€” as a result, pandas
    split the entire column *Series1* into 5 equal-sized buckets. Pandas assigned
    each value from *Series1* to one of these 5 buckets.
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: ä½ ç®€å•åœ°å°†æ•´æ•° 5 åˆ†é…ç»™å‚æ•° *bin*â€”â€”ç»“æœï¼Œpandas å°†æ•´ä¸ªåˆ— *Series1* æ‹†åˆ†ä¸º 5 ä¸ªç›¸ç­‰å¤§å°çš„æ¡¶ã€‚Pandas å°† *Series1*
    ä¸­çš„æ¯ä¸ªå€¼åˆ†é…åˆ°è¿™ 5 ä¸ªæ¡¶ä¸­çš„ä¸€ä¸ªã€‚
- en: If you inspect each of these buckets, youâ€™ll see two things are common.
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: å¦‚æœä½ æ£€æŸ¥è¿™äº›æ¡¶ä¸­çš„æ¯ä¸€ä¸ªï¼Œä½ ä¼šå‘ç°ä¸¤ä¸ªå…±åŒç‚¹ã€‚
- en: The bin edges are non-integer â€” You can fix this by defining the bin edges in
    the bin parameter.
  id: totrans-35
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: ç®±å­è¾¹ç¼˜æ˜¯éæ•´æ•°â€”â€”ä½ å¯ä»¥é€šè¿‡åœ¨ bin å‚æ•°ä¸­å®šä¹‰ç®±å­è¾¹ç¼˜æ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚
- en: Each bin edge is closed on the right â€” It is coming from the default setting
    of the parameter right as `right=True`. It means that the pandas include the maximum
    value of the bucket in the same bucket.
  id: totrans-36
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: æ¯ä¸ªç®±å­è¾¹ç¼˜åœ¨å³ä¾§æ˜¯å°é—­çš„â€”â€”è¿™æ˜¯ç”±äºå‚æ•° right çš„é»˜è®¤è®¾ç½® `right=True`ã€‚è¿™æ„å‘³ç€ pandas åŒ…æ‹¬æ¡¶ä¸­çš„æœ€å¤§å€¼åœ¨åŒä¸€ä¸ªæ¡¶ä¸­ã€‚
- en: This parameter specifically helps you **control the binning process** and switching
    its value helps you include or exclude certain elements from a bin.
  id: totrans-37
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: è¿™ä¸ªå‚æ•°ç‰¹åˆ«å¸®åŠ©ä½  **æ§åˆ¶åˆ†ç®±è¿‡ç¨‹**ï¼Œå¹¶ä¸”åˆ‡æ¢å…¶å€¼å¯ä»¥å¸®åŠ©ä½ åŒ…æ‹¬æˆ–æ’é™¤æŸäº›å…ƒç´ ã€‚
- en: Letâ€™s give it a second chance.
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: è®©æˆ‘ä»¬å†è¯•ä¸€æ¬¡ã€‚
- en: This time youâ€™ll pass a list of bin edges for the same DataFrame column and
    see how the result changes.
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™æ¬¡ä½ å°†ä¼ é€’ä¸€ä¸ªç®±å­è¾¹ç¼˜çš„åˆ—è¡¨ç»™ç›¸åŒçš„ DataFrame åˆ—ï¼Œçœ‹çœ‹ç»“æœæ˜¯å¦‚ä½•å˜åŒ–çš„ã€‚
- en: '[PRE2]'
  id: totrans-40
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: '![](../Images/c36e254566f210d2ea0d70c38e60c0c9.png)'
  id: totrans-41
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/c36e254566f210d2ea0d70c38e60c0c9.png)'
- en: pandas cut with defined bin edges | Image by Author
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: pandas cut å®šä¹‰äº†ç®±å­è¾¹ç¼˜ | ä½œè€…å›¾ç‰‡
- en: Pandas simply created new bins using the integers you provided in the *bin*
    parameter and assigned each number of *Series1* to these bins.
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: Pandas ä½¿ç”¨ä½ åœ¨ *bin* å‚æ•°ä¸­æä¾›çš„æ•´æ•°ç®€å•åœ°åˆ›å»ºäº†æ–°çš„ç®±å­ï¼Œå¹¶å°† *Series1* ä¸­çš„æ¯ä¸ªæ•°å­—åˆ†é…åˆ°è¿™äº›ç®±å­ä¸­ã€‚
- en: Moreover, you can also use the *Label* parameter to give a name to each of these
    buckets, like below.
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: æ­¤å¤–ï¼Œä½ è¿˜å¯ä»¥ä½¿ç”¨ *Label* å‚æ•°ä¸ºæ¯ä¸ªæ¡¶å‘½åï¼Œå¦‚ä¸‹æ‰€ç¤ºã€‚
- en: '[PRE3]'
  id: totrans-45
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: '![](../Images/8cad66ce659972f2927cf9b8a4ad4be9.png)'
  id: totrans-46
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/8cad66ce659972f2927cf9b8a4ad4be9.png)'
- en: pandas cut() with bin labels | Image by Author
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: pandas cut() å¸¦æœ‰ç®±å­æ ‡ç­¾ | ä½œè€…å›¾ç‰‡
- en: It works perfectly as expected!
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: å®ƒå·¥ä½œå¾—éå¸¸å®Œç¾ï¼
- en: Coming back to my work â€” **a real-world scenario** â€” I tried the function `**pandas.cut()**`
    on my below dataset.
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: å›åˆ°æˆ‘çš„å·¥ä½œâ€”â€”**ä¸€ä¸ªçœŸå®åœºæ™¯**â€”â€”æˆ‘åœ¨ä¸‹é¢çš„æ•°æ®é›†ä¸Šå°è¯•äº†å‡½æ•° `**pandas.cut()**`ã€‚
- en: '[PRE4]'
  id: totrans-50
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: '![](../Images/7b77257f2400c1e9bf2c0463c1f2a36d.png)'
  id: totrans-51
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/7b77257f2400c1e9bf2c0463c1f2a36d.png)'
- en: Using pandas.cut() on a real-world example | Image by Author
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨å®é™…ä¾‹å­ä¸­ä½¿ç”¨pandas.cut() | å›¾ç‰‡ç”±ä½œè€…æä¾›
- en: However, the distribution of elements in each of these buckets is uneven, i.e.
    each bin contains a different number of elements. 5 brands belong to the *low*,
    3 brands belong to the *medium*, and only 2 brands belong to the *high* concentration
    bucket.
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: ç„¶è€Œï¼Œè¿™äº›æ¡¶ä¸­çš„å…ƒç´ åˆ†å¸ƒä¸å‡ï¼Œå³æ¯ä¸ªæ¡¶åŒ…å«çš„å…ƒç´ æ•°é‡ä¸åŒã€‚5ä¸ªå“ç‰Œå±äº*ä½*ï¼Œ3ä¸ªå“ç‰Œå±äº*ä¸­*ï¼Œä»…2ä¸ªå“ç‰Œå±äº*é«˜*æµ“åº¦æ¡¶ã€‚
- en: But for my project, I wanted to keep the distribution i.e. the number of brands
    in each bucket same and thatâ€™s where I found the next pandas method useful.
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: ä½†å¯¹äºæˆ‘çš„é¡¹ç›®ï¼Œæˆ‘æƒ³ä¿æŒåˆ†å¸ƒï¼Œå³æ¯ä¸ªæ¡¶ä¸­çš„å“ç‰Œæ•°é‡ç›¸åŒï¼Œè¿™å°±æ˜¯æˆ‘å‘ç°ä¸‹ä¸€ä¸ªpandasæ–¹æ³•æœ‰ç”¨çš„åœ°æ–¹ã€‚
- en: pandas qcut()
  id: totrans-55
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: pandas qcut()
- en: '`pandas.qcut()` is used to get an equal data distribution in all the bins.
    It works on the principle of sample quantiles.'
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: '`pandas.qcut()`ç”¨äºåœ¨æ‰€æœ‰æ¡¶ä¸­è·å¾—å‡ç­‰çš„æ•°æ®åˆ†å¸ƒã€‚å®ƒåŸºäºæ ·æœ¬åˆ†ä½æ•°çš„åŸç†ã€‚'
- en: Quantiles are the values that divide a series into a number of subsets â€” each
    containing nearly the same number of elements.
  id: totrans-57
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: åˆ†ä½æ•°æ˜¯å°†åºåˆ—åˆ†æˆè‹¥å¹²ä¸ªå­é›†çš„å€¼â€”â€”æ¯ä¸ªå­é›†åŒ…å«å¤§è‡´ç›¸åŒæ•°é‡çš„å…ƒç´ ã€‚
- en: So when you cut a series using the function **qcut()**, it simply tells you
    which element`of the series belongs to which quantile.
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: å› æ­¤ï¼Œå½“ä½ ä½¿ç”¨å‡½æ•°**qcut()**åˆ‡åˆ†ä¸€ä¸ªåºåˆ—æ—¶ï¼Œå®ƒåªæ˜¯å‘Šè¯‰ä½ åºåˆ—çš„å“ªä¸ªå…ƒç´ å±äºå“ªä¸ªåˆ†ä½æ•°ã€‚
- en: The basic syntax of the function `qcut()` is almost the same as the syntax of
    the function `cut()`.
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: å‡½æ•°`qcut()`çš„åŸºæœ¬è¯­æ³•å‡ ä¹ä¸å‡½æ•°`cut()`çš„è¯­æ³•ç›¸åŒã€‚
- en: Letâ€™s understand this with an example â€” Here youâ€™ll use both the functions `cut()`
    and `qcut()` on the same data and categorize them into 4 bins.
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: è®©æˆ‘ä»¬é€šè¿‡ä¸€ä¸ªä¾‹å­æ¥ç†è§£â€”â€”åœ¨è¿™é‡Œä½ å°†å¯¹ç›¸åŒçš„æ•°æ®ä½¿ç”¨å‡½æ•°`cut()`å’Œ`qcut()`ï¼Œå¹¶å°†å®ƒä»¬åˆ†ä¸º4ä¸ªæ¡¶ã€‚
- en: '[PRE5]'
  id: totrans-61
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: '![](../Images/418581e873b1ba46aa86e0cc0a07d37d.png)'
  id: totrans-62
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/418581e873b1ba46aa86e0cc0a07d37d.png)'
- en: Quantile-based discretization Python | Image by Author
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: åŸºäºåˆ†ä½æ•°çš„ç¦»æ•£åŒ–Python | å›¾ç‰‡ç”±ä½œè€…æä¾›
- en: Now, when you check the data distribution in each bin â€”
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: ç°åœ¨ï¼Œå½“ä½ æ£€æŸ¥æ¯ä¸ªæ¡¶ä¸­çš„æ•°æ®åˆ†å¸ƒæ—¶â€”â€”
- en: '[PRE6]'
  id: totrans-65
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: Youâ€™ll see when you used the function `**cut()**`, although each bin size is
    equal, i.e. 23, each bin contains a different number of elements.
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: ä½ ä¼šçœ‹åˆ°ï¼Œå½“ä½ ä½¿ç”¨å‡½æ•°`**cut()**`æ—¶ï¼Œå°½ç®¡æ¯ä¸ªæ¡¶çš„å¤§å°ç›¸ç­‰ï¼Œå³23ï¼Œä½†æ¯ä¸ªæ¡¶ä¸­åŒ…å«çš„å…ƒç´ æ•°é‡ä¸åŒã€‚
- en: Whereas, when you used the function `**qcut()**`, a similar number of elements
    were present in each bucket. But you can see such distribution came at the cost
    of varied bin sizes.
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: è€Œå½“ä½ ä½¿ç”¨å‡½æ•°`**qcut()**`æ—¶ï¼Œæ¯ä¸ªæ¡¶ä¸­å­˜åœ¨ç±»ä¼¼æ•°é‡çš„å…ƒç´ ã€‚ä½†ä½ å¯ä»¥çœ‹åˆ°ï¼Œè¿™ç§åˆ†å¸ƒæ˜¯ä»¥ä¸åŒçš„æ¡¶å¤§å°ä¸ºä»£ä»·çš„ã€‚
- en: So in the case of my project, the function `pandas.qcut()` was the ultimate
    solution as you can see here â€”
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: å› æ­¤ï¼Œåœ¨æˆ‘çš„é¡¹ç›®ä¸­ï¼Œå‡½æ•°`pandas.qcut()`æ˜¯æœ€ç»ˆè§£å†³æ–¹æ¡ˆï¼Œæ­£å¦‚ä½ æ‰€çœ‹åˆ°çš„â€”â€”
- en: '[PRE7]'
  id: totrans-69
  prefs: []
  type: TYPE_PRE
  zh: '[PRE7]'
- en: '![](../Images/2c5e68e80519d4dd6383d4e60831d5f0.png)'
  id: totrans-70
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/2c5e68e80519d4dd6383d4e60831d5f0.png)'
- en: Using pandas.qcut() to the real-world scenario | Image by Author
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: ä½¿ç”¨pandas.qcut()çš„å®é™…åœºæ™¯ | å›¾ç‰‡ç”±ä½œè€…æä¾›
- en: So, `**qcut()**` assigned 3 brands to each of the *medium* and *high* concentration
    buckets and 4 brands to the *low* concentration bucket.
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: å› æ­¤ï¼Œ`**qcut()**`å°†æ¯ä¸ª*ä¸­*å’Œ*é«˜*æµ“åº¦æ¡¶åˆ†é…äº†3ä¸ªå“ç‰Œï¼Œå°†*ä½*æµ“åº¦æ¡¶åˆ†é…äº†4ä¸ªå“ç‰Œã€‚
- en: I hope you found this article refreshing and useful. Although the conversion
    of a continuous series into discrete ones is the common scenario in data analysis,
    the task can be really daunting if you donâ€™t know the built-in functions.
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: å¸Œæœ›ä½ å‘ç°è¿™ç¯‡æ–‡ç« æ—¢æ¸…æ–°åˆæœ‰ç”¨ã€‚å°½ç®¡å°†è¿ç»­åºåˆ—è½¬æ¢ä¸ºç¦»æ•£åºåˆ—æ˜¯æ•°æ®åˆ†æä¸­çš„å¸¸è§åœºæ™¯ï¼Œä½†å¦‚æœä½ ä¸äº†è§£å†…ç½®å‡½æ•°ï¼Œè¿™é¡¹ä»»åŠ¡ç¡®å®å¯èƒ½éå¸¸è‰°å·¨ã€‚
- en: Using these functions in your data analysis projects will certainly empower
    you to easily extract the required information from the data in no time.
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨æ•°æ®åˆ†æé¡¹ç›®ä¸­ä½¿ç”¨è¿™äº›å‡½æ•°ï¼Œè‚¯å®šèƒ½å¸®åŠ©ä½ è¿…é€Ÿä»æ•°æ®ä¸­æå–æ‰€éœ€çš„ä¿¡æ¯ã€‚
- en: LMK in the **Comments** which topics you would like to get such amazing articles!
  id: totrans-75
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: åœ¨**è¯„è®º**ä¸­å‘Šè¯‰æˆ‘ä½ å¸Œæœ›è·å¾—å“ªäº›ç²¾å½©çš„æ–‡ç« ï¼
- en: Well, just knowing these functions is not enough â€” start using them in your
    data analysis tasks to unlock the real pandas power today.
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: ä»…ä»…äº†è§£è¿™äº›å‡½æ•°æ˜¯ä¸å¤Ÿçš„â€”â€”ç°åœ¨å°±å¼€å§‹åœ¨æ•°æ®åˆ†æä»»åŠ¡ä¸­ä½¿ç”¨å®ƒä»¬ï¼Œé‡Šæ”¾çœŸæ­£çš„pandasåŠ›é‡å§ã€‚
- en: Ready to level up your data analysis skills?
  id: totrans-77
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: å‡†å¤‡æå‡ä½ çš„æ•°æ®åˆ†ææŠ€èƒ½äº†å—ï¼Ÿ
- en: ğŸ’¡ Consider [**Becoming a Medium Member**](https://medium.com/@17.rsuraj/membership)
    to **access unlimited** stories on Medium and daily interesting Medium digest.
    I will get a small portion of your fee and No additional cost to you.
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: ğŸ’¡ è€ƒè™‘[**æˆä¸ºMediumä¼šå‘˜**](https://medium.com/@17.rsuraj/membership)ä»¥**è®¿é—®æ— é™**çš„Mediumæ•…äº‹å’Œæ¯æ—¥æœ‰è¶£çš„Mediumæ‘˜è¦ã€‚æˆ‘å°†è·å¾—ä½ è´¹ç”¨çš„ä¸€å°éƒ¨åˆ†ï¼Œå¯¹ä½ æ²¡æœ‰é¢å¤–è´¹ç”¨ã€‚
- en: ğŸ’¡ Be sure to [**Sign-up to my Email list**](https://medium.com/subscribe/@17.rsuraj)
    to never miss another article on data science guides, tricks, and tips, SQL, and
    Python.
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
  zh: ğŸ’¡ ç¡®ä¿[**æ³¨å†Œæˆ‘çš„é‚®ä»¶åˆ—è¡¨**](https://medium.com/subscribe/@17.rsuraj)ï¼Œä»¥ä¾¿ä¸é”™è¿‡ä»»ä½•å…³äºæ•°æ®ç§‘å­¦æŒ‡å—ã€æŠ€å·§å’Œæç¤ºã€SQL
    å’Œ Python çš„æ–‡ç« ã€‚
- en: To know more about my project, Comment your question!
  id: totrans-80
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: äº†è§£æ›´å¤šå…³äºæˆ‘çš„é¡¹ç›®ï¼Œè¯·è¯„è®ºä½ çš„é—®é¢˜ï¼
- en: Thank you for reading!
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: æ„Ÿè°¢ä½ çš„é˜…è¯»ï¼
