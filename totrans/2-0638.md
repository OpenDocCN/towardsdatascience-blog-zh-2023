# 数据工程：一级方程式启发的初学者指南

> 原文：[https://towardsdatascience.com/data-engineering-a-formula-1-inspired-guide-for-beginners-5511488803ee](https://towardsdatascience.com/data-engineering-a-formula-1-inspired-guide-for-beginners-5511488803ee)

## 初学者数据工程用例词汇表

[](https://matteo-consoli.medium.com/?source=post_page-----5511488803ee--------------------------------)[![Matteo Consoli](../Images/20613484ba53baf5920608799339c8e0.png)](https://matteo-consoli.medium.com/?source=post_page-----5511488803ee--------------------------------)[](https://towardsdatascience.com/?source=post_page-----5511488803ee--------------------------------)[![Towards Data Science](../Images/a6ff2676ffcc0c7aad8aaf1d79379785.png)](https://towardsdatascience.com/?source=post_page-----5511488803ee--------------------------------) [Matteo Consoli](https://matteo-consoli.medium.com/?source=post_page-----5511488803ee--------------------------------)

·发表于 [Towards Data Science](https://towardsdatascience.com/?source=post_page-----5511488803ee--------------------------------) ·阅读时间6分钟·2023年12月4日

--

![](../Images/07a6c325f61608f673752892fe443dea.png)

*一个开心的数据工程师在工作*

> **你是一个数据工程新手，想了解更多关于现代数据基础设施的知识吗？** 我敢打赌你是，这篇文章就是为你准备的！
> 
> 在这本指南中，**数据工程与一级方程式相结合**。不过，我们会保持简单。

# 介绍

我坚信描述一个概念的最佳方法是通过示例，即使我的一些大学教授常说：“*如果你需要一个例子来解释，那就说明你没理解*。”

无论如何，我在大学课堂上没怎么用心听讲，今天我会用—*猜猜是什么*—**一个例子**来引导你了解数据层。

# 业务场景与数据架构

想象一下：明年，网格上会有一个新团队，**红色雷霆赛车**，他们会联系我们（是的，我和你），以建立他们的新数据基础设施。

在今天的一级方程式中，数据是核心，远比20或30年前重要。赛车团队通过惊人的数据驱动方法不断提高性能，逐毫秒进行改进。

![](../Images/f483e8bf489f32294e4a8c0b7e89db97.png)

高级设计

这不仅仅关乎圈速；**一级方程式是一个数十亿美元的行业。** 提高粉丝参与度不仅仅是为了娱乐；让这项运动更具吸引力不仅仅是为了驾驶员的乐趣。**这些活动创造了收入。**

强大的数据基础设施是*竞争F1行业的必备条件*。

我们将从**三个经典层次**开始，构建一个支持我们赛车团队的数据架构：*数据湖、数据仓库* 和 *数据集市*。

## 数据湖

**数据湖将作为一个用于存储来自Formula 1生态系统的各种来源生成的原始和非结构化数据的库**：来自汽车的遥测数据（例如每秒轮胎压力、速度、燃油消耗）、驾驶员配置、圈速、天气条件、社交媒体反馈、票务、注册参加营销活动的粉丝、商品购买等。

我们的整合数据湖可以存储各种数据：*非结构化*（音频、视频、图像）、*半结构化*（JSON、XML）和*结构化*（CSV、Parquet、AVRO）。

![](../Images/955a04beb333365b0146af331f9143a8.png)

数据湖与数据集成

**我们将面临的第一个挑战是将所有内容整合到一个地方。** 我们将创建从营销工具中提取记录的批处理作业，并且还将处理实时流式遥测数据（可以确定，这将有非常低的延迟要求）。

我们将有一长串需要集成的系统，每个系统将支持不同的协议或接口：Kafka流、SFTP、MQTT、REST API等。

在数据收集过程中，我们不会独自一人；幸运的是，市场上有**数据集成工具**可供采用，以配置和维护一个地方的摄取管道（例如按字母顺序排列：Fivetran、Hevo、Informatica、Segment、Stitch、Talend等）。

与其依赖于数百个定时在`crontab`上运行的python脚本或定制的进程处理来自Kafka主题的数据流，这些工具将帮助我们简化、自动化和协调所有这些过程。

## 数据仓库

在定义了所有需要整合的数据流几周后，我们现在正在我们的数据湖中摄取各种显著的数据。是时候转向下一层。

**数据仓库用于清理、结构化和存储来自数据湖的处理数据，为分析和报告提供结构化的高性能环境。**

在这个阶段，我们不再关注数据摄取，而是将越来越多地关注业务用例。我们应考虑数据如何被同事们利用，提供定期更新的结构化数据集，涉及：

+   **汽车性能**：遥测数据经过清理、标准化和整合，以提供统一的视图。

+   **策略和趋势审查**：使用过去的比赛数据来识别趋势、驾驶员表现并理解特定策略的影响。

+   **团队KPI**：维修站时间、更换轮胎前的温度、汽车开发预算控制。

![](../Images/1e3ec5341176585fff5f03c95a82571c.png)

数据仓库与数据转换

**我们将有大量管道专注于数据转换和规范化。** 就像数据集成一样，市场上有许多产品可以简化和高效管理数据管道。这些工具可以简化我们的数据流程，降低运营成本，提高开发的效率*(例如按字母顺序排列：Apache Airflow、Azure Data Factory、DBT、Google DataForm等)*。

## 数据市场

数据仓库和数据市场之间有一条细微的界限。

别忘了我们为**红雷赛车**工作，这是一家大型公司，有数千名员工参与不同领域的工作。

数据必须可访问并根据特定业务部门的需求进行定制。数据模型围绕业务需求构建。

**数据市场是数据仓库的专业子集，专注于特定的业务功能。**

+   **汽车性能市场**：研发团队分析与发动机效率、空气动力学和可靠性相关的数据。工程师将使用这个数据市场来优化汽车在不同赛道上的设置，或运行模拟以了解根据天气条件的最佳汽车配置。

+   **粉丝参与市场**：营销团队分析社交媒体数据、粉丝调查和观众评分，以了解粉丝偏好。营销团队利用这些数据进行量身定制的营销策略、商品开发，并改善他们的Fan360知识。

+   **簿记分析市场**：财务团队也需要数据（我相信有很多数字！）。现在，赛车团队比以往任何时候都更需要应对预算限制和规定。跟踪预算分配、收入和成本概况非常重要。

**此外，通常需要确保敏感数据仅对授权团队可访问。** 例如，研发团队可能需要独占访问遥测信息，并且需要使用特定的数据模型分析这些数据。然而，他们可能不被允许（或不感兴趣）访问财务报告。

![](../Images/0a3ccf532632a89870971aa91568d2b3.png)

数据市场与数据建模

我们的分层数据架构将使**红雷赛车**能够利用数据的力量进行汽车性能优化、战略决策、增强营销活动……以及更多！

## 就这样？

绝对不行！我们仅仅触及了数据架构的表面。还有数百个集成点我们需要考虑，而且我们只提到了**数据** **转换**和**数据建模**。

我们完全没有涵盖**数据科学**领域，这可能值得单独写一篇文章，**数据治理**、**数据可观察性**、**数据安全**等也是如此。

不过，正如他们所说，*“罗马不是一天建成的”*。我们今天已经有很多工作要做，包括我们数据架构的初稿（见下文）。

![](../Images/588c57e69f9348183c47f3d2627903b2.png)

数据架构 — 概述

# 结论

数据工程是一个神奇的领域，有大量的书籍专门讲述它。

在整个过程中，数据工程师将接触到无数的集成工具、多样的数据平台，旨在涵盖上述一个或多个层次（*例如按字母顺序：AWS Redshift, Azure Synapse, Databricks, Google BigQuery, Snowflake, …*），商业智能工具（*例如 Looker, PowerBI, Tableau, ThoughtSpot, …*）以及数据管道工具。

我们在**Red Thunder Racing**的数据工程之旅才刚刚开始，我们的工具箱中应该留有足够的灵活性空间！

数据层通常可以结合在一起，有时在一个平台上。数据平台和工具不断提高标准，逐步缩小差距，每天发布新功能。市场竞争非常激烈。

+   你是否总是需要一个数据湖？**这要看情况。**

+   你是否总是需要尽快存储数据（即流处理和实时处理）？**这要看情况**，业务用户对数据的新鲜度要求是什么？

+   你是否总是需要依赖第三方工具来管理数据管道？**这要看情况！**

+   `<Placeholder for any other question you might have>`？**这要看情况！**

如果你有任何问题或建议，请随时在[LinkedIn](https://www.linkedin.com/in/matteo-consoli/)上联系我。我保证会回答一些不同于：**这要看情况！**的内容。

> 本文所表达的观点仅代表我个人，未必反映我雇主的观点。除非另有说明，所有图片均为作者所拍摄。
> 
> 本文中的故事及所涉及的所有名称均为虚构。与实际地点、建筑物和产品的任何联系纯属巧合，不应被推断。
