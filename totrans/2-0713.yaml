- en: Deploy Your Own MLflow Workspace On-Premise with Docker
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: åœ¨æœ¬åœ°ä½¿ç”¨ Docker éƒ¨ç½²è‡ªå·±çš„ MLflow å·¥ä½œåŒº
- en: åŸæ–‡ï¼š[https://towardsdatascience.com/deploy-your-own-mlflow-workspace-on-premise-with-docker-b54294676f0b](https://towardsdatascience.com/deploy-your-own-mlflow-workspace-on-premise-with-docker-b54294676f0b)
  id: totrans-1
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: åŸæ–‡ï¼š[https://towardsdatascience.com/deploy-your-own-mlflow-workspace-on-premise-with-docker-b54294676f0b](https://towardsdatascience.com/deploy-your-own-mlflow-workspace-on-premise-with-docker-b54294676f0b)
- en: Manage the lifecycle of your ML models like a Pro
  id: totrans-2
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: åƒä¸“ä¸šäººå£«ä¸€æ ·ç®¡ç†ä½ çš„ ML æ¨¡å‹ç”Ÿå‘½å‘¨æœŸ
- en: '[](https://tinztwinspro.medium.com/?source=post_page-----b54294676f0b--------------------------------)[![Janik
    and Patrick Tinz](../Images/a08aa54f553f606ef5df86f9411c36ac.png)](https://tinztwinspro.medium.com/?source=post_page-----b54294676f0b--------------------------------)[](https://towardsdatascience.com/?source=post_page-----b54294676f0b--------------------------------)[![Towards
    Data Science](../Images/a6ff2676ffcc0c7aad8aaf1d79379785.png)](https://towardsdatascience.com/?source=post_page-----b54294676f0b--------------------------------)
    [Janik and Patrick Tinz](https://tinztwinspro.medium.com/?source=post_page-----b54294676f0b--------------------------------)'
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: '[](https://tinztwinspro.medium.com/?source=post_page-----b54294676f0b--------------------------------)[![Janik
    and Patrick Tinz](../Images/a08aa54f553f606ef5df86f9411c36ac.png)](https://tinztwinspro.medium.com/?source=post_page-----b54294676f0b--------------------------------)[](https://towardsdatascience.com/?source=post_page-----b54294676f0b--------------------------------)[![Towards
    Data Science](../Images/a6ff2676ffcc0c7aad8aaf1d79379785.png)](https://towardsdatascience.com/?source=post_page-----b54294676f0b--------------------------------)
    [Janik å’Œ Patrick Tinz](https://tinztwinspro.medium.com/?source=post_page-----b54294676f0b--------------------------------)'
- en: Â·Published in [Towards Data Science](https://towardsdatascience.com/?source=post_page-----b54294676f0b--------------------------------)
    Â·8 min readÂ·Apr 17, 2023
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: Â·å‘è¡¨äº [Towards Data Science](https://towardsdatascience.com/?source=post_page-----b54294676f0b--------------------------------)
    Â·8 åˆ†é’Ÿé˜…è¯»Â·2023å¹´4æœˆ17æ—¥
- en: --
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: --
- en: '![](../Images/fa03e98f888a6fd039fc9344664945b8.png)'
  id: totrans-6
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/fa03e98f888a6fd039fc9344664945b8.png)'
- en: Photo by [Isaac Smith](https://unsplash.com/@isaacmsmith?utm_source=medium&utm_medium=referral)
    on [Unsplash](https://unsplash.com/?utm_source=medium&utm_medium=referral)
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: å›¾ç‰‡ç”± [Isaac Smith](https://unsplash.com/@isaacmsmith?utm_source=medium&utm_medium=referral)
    æä¾›ï¼Œæ¥è‡ª [Unsplash](https://unsplash.com/?utm_source=medium&utm_medium=referral)
- en: '[MLflow](https://mlflow.org) is an **open source platform** to manage the lifecycle
    of ML models end to end. It tracks the code, data and results for each ML experiment,
    which means you have a history of all experiments at any time. A dream for every
    Data Scientist. Moreover, MLflow is **library-agnostic**, which means you can
    use all ML libraries like TensorFlow, PyTorch or scikit-learn. All MLflow functions
    are available via a [REST API](https://mlflow.org/docs/latest/rest-api.html#rest-api),
    [CLI](https://mlflow.org/docs/latest/cli.html), [Python API](https://mlflow.org/docs/latest/python_api/index.html),
    [R API](https://mlflow.org/docs/latest/R-api.html) and [Java API](https://mlflow.org/docs/latest/java_api/index.html).'
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: '[MLflow](https://mlflow.org) æ˜¯ä¸€ä¸ª **å¼€æºå¹³å°**ï¼Œç”¨äºç«¯åˆ°ç«¯ç®¡ç† ML æ¨¡å‹çš„ç”Ÿå‘½å‘¨æœŸã€‚å®ƒè·Ÿè¸ªæ¯æ¬¡ ML å®éªŒçš„ä»£ç ã€æ•°æ®å’Œç»“æœï¼Œè¿™æ„å‘³ç€ä½ å¯ä»¥éšæ—¶æŸ¥çœ‹æ‰€æœ‰å®éªŒçš„å†å²è®°å½•ã€‚æ¯ä½æ•°æ®ç§‘å­¦å®¶çš„æ¢¦æƒ³ã€‚æ­¤å¤–ï¼ŒMLflow
    æ˜¯ **åº“æ— å…³** çš„ï¼Œè¿™æ„å‘³ç€ä½ å¯ä»¥ä½¿ç”¨æ‰€æœ‰ ML åº“ï¼Œå¦‚ TensorFlowã€PyTorch æˆ– scikit-learnã€‚æ‰€æœ‰ MLflow åŠŸèƒ½éƒ½å¯ä»¥é€šè¿‡
    [REST API](https://mlflow.org/docs/latest/rest-api.html#rest-api)ã€[CLI](https://mlflow.org/docs/latest/cli.html)ã€[Python
    API](https://mlflow.org/docs/latest/python_api/index.html)ã€[R API](https://mlflow.org/docs/latest/R-api.html)
    å’Œ [Java API](https://mlflow.org/docs/latest/java_api/index.html) è®¿é—®ã€‚'
- en: As a Data Scientist, you spend a lot of time optimizing ML models. The best
    models often depend on an optimal hyperparameter or feature selection, and it
    is challenging to find an optimal combination. Also, you have to remember all
    experiments, which is very time-consuming. MLflow is an efficient platform to
    address these challenges.
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: ä½œä¸ºæ•°æ®ç§‘å­¦å®¶ï¼Œä½ èŠ±è´¹å¤§é‡æ—¶é—´ä¼˜åŒ– ML æ¨¡å‹ã€‚æœ€ä½³æ¨¡å‹é€šå¸¸ä¾èµ–äºæœ€ä½³çš„è¶…å‚æ•°æˆ–ç‰¹å¾é€‰æ‹©ï¼Œè€Œæ‰¾åˆ°æœ€ä½³ç»„åˆå…·æœ‰æŒ‘æˆ˜æ€§ã€‚æ­¤å¤–ï¼Œä½ è¿˜éœ€è¦è®°ä½æ‰€æœ‰å®éªŒï¼Œè¿™éå¸¸è€—æ—¶ã€‚MLflow
    æ˜¯è§£å†³è¿™äº›æŒ‘æˆ˜çš„é«˜æ•ˆå¹³å°ã€‚
- en: In this post, we briefly introduce the basics of MLflow and show how to set
    up an MLflow workspace on-premise. We set up the MLflow environment in a Docker
    stack so that we can run it on all systems. In this context, we have the services
    Postgres database, SFTP server, JupyterLab and MLflow tracking server UI. Letâ€™s
    start.
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬ç®€è¦ä»‹ç»äº† MLflow çš„åŸºç¡€çŸ¥è¯†ï¼Œå¹¶å±•ç¤ºäº†å¦‚ä½•åœ¨æœ¬åœ°è®¾ç½® MLflow å·¥ä½œåŒºã€‚æˆ‘ä»¬åœ¨ Docker å †æ ˆä¸­è®¾ç½®äº† MLflow
    ç¯å¢ƒï¼Œä»¥ä¾¿åœ¨æ‰€æœ‰ç³»ç»Ÿä¸Šè¿è¡Œå®ƒã€‚åœ¨è¿™ä¸ªèƒŒæ™¯ä¸‹ï¼Œæˆ‘ä»¬è®¾ç½®äº† Postgres æ•°æ®åº“ã€SFTP æœåŠ¡å™¨ã€JupyterLab å’Œ MLflow è¿½è¸ªæœåŠ¡å™¨ UIã€‚è®©æˆ‘ä»¬å¼€å§‹å§ã€‚
- en: MLflow basics
  id: totrans-11
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: MLflow åŸºç¡€çŸ¥è¯†
- en: Currently, MLflow offers four components for managing the ML lifecycle. The
    following figure shows an overview.
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: ç›®å‰ï¼ŒMLflow æä¾›äº†å››ä¸ªç»„ä»¶æ¥ç®¡ç† ML ç”Ÿå‘½å‘¨æœŸã€‚ä¸‹å›¾æ˜¾ç¤ºäº†ä¸€ä¸ªæ¦‚è¿°ã€‚
- en: '![](../Images/6322e381f4201221dcd3172e5b3ba394.png)'
  id: totrans-13
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/6322e381f4201221dcd3172e5b3ba394.png)'
- en: MLflow components overview (Image by author)
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: MLflow ç»„ä»¶æ¦‚è¿°ï¼ˆå›¾ç‰‡æ¥æºï¼šä½œè€…ï¼‰
- en: '**MLflow Tracking** is used to track and query experiments. It tracks the model
    parameters, code, data and model artifacts. In addition, MLFlowâ€™s tracking server
    provides a web UI, which shows the history of all experiments. The MLï¬‚ow library
    already provides the web UI. The tracking server distinguishes between different
    experiments. You can compare your ML models in the experiments by visualising
    the results.'
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: '**MLflow è¿½è¸ª**ç”¨äºè¿½è¸ªå’ŒæŸ¥è¯¢å®éªŒã€‚å®ƒè·Ÿè¸ªæ¨¡å‹å‚æ•°ã€ä»£ç ã€æ•°æ®å’Œæ¨¡å‹å·¥ä»¶ã€‚æ­¤å¤–ï¼ŒMLFlow çš„è¿½è¸ªæœåŠ¡å™¨æä¾›äº†ä¸€ä¸ª web ç•Œé¢ï¼Œæ˜¾ç¤ºæ‰€æœ‰å®éªŒçš„å†å²è®°å½•ã€‚MLflow
    åº“å·²ç»æä¾›äº† web ç•Œé¢ã€‚è¿½è¸ªæœåŠ¡å™¨åŒºåˆ†ä¸åŒçš„å®éªŒã€‚æ‚¨å¯ä»¥é€šè¿‡å¯è§†åŒ–ç»“æœæ¥æ¯”è¾ƒå®éªŒä¸­çš„ ML æ¨¡å‹ã€‚'
- en: '**MLflow Project** is a component used for packaging data science code in a
    reusable and reproducible way.'
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: '**MLflow é¡¹ç›®**æ˜¯ä¸€ä¸ªç”¨äºä»¥å¯é‡ç”¨å’Œå¯å¤ç°çš„æ–¹å¼æ‰“åŒ…æ•°æ®ç§‘å­¦ä»£ç çš„ç»„ä»¶ã€‚'
- en: The **MLï¬‚ow Models** format provides a uniform storage format for ML models
    created with different libraries (e.g. TensorFlow, PyTorch or scikit-learn). The
    uniform format enables deployment in diverse environments.
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: '**MLflow æ¨¡å‹**æ ¼å¼ä¸ºä½¿ç”¨ä¸åŒåº“ï¼ˆä¾‹å¦‚ TensorFlowã€PyTorch æˆ– scikit-learnï¼‰åˆ›å»ºçš„ ML æ¨¡å‹æä¾›äº†ç»Ÿä¸€çš„å­˜å‚¨æ ¼å¼ã€‚ç»Ÿä¸€æ ¼å¼å¯ä»¥åœ¨å¤šç§ç¯å¢ƒä¸­è¿›è¡Œéƒ¨ç½²ã€‚'
- en: The **Model Registry** component allows providing of produced models from staging
    to production. It enables the management of ML models in a central model repository.
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: '**æ¨¡å‹æ³¨å†Œè¡¨**ç»„ä»¶å…è®¸å°†ç”Ÿæˆçš„æ¨¡å‹ä»æš‚å­˜é˜¶æ®µè½¬ç§»åˆ°ç”Ÿäº§é˜¶æ®µã€‚å®ƒä½¿å¾—åœ¨ä¸­å¤®æ¨¡å‹åº“ä¸­ç®¡ç† ML æ¨¡å‹æˆä¸ºå¯èƒ½ã€‚'
- en: You can learn more about the components in the [official documentation](https://mlflow.org/docs/latest/index.html)
    or the MLflow [GitHub repo](https://github.com/mlflow/mlflow).
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: æ‚¨å¯ä»¥åœ¨[å®˜æ–¹æ–‡æ¡£](https://mlflow.org/docs/latest/index.html)æˆ– MLflow çš„[GitHub ä»“åº“](https://github.com/mlflow/mlflow)ä¸­äº†è§£æ›´å¤šå…³äºç»„ä»¶çš„ä¿¡æ¯ã€‚
- en: Technical requirements
  id: totrans-20
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: æŠ€æœ¯è¦æ±‚
- en: 'You will need the following prerequisites:'
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: æ‚¨å°†éœ€è¦ä»¥ä¸‹å…ˆå†³æ¡ä»¶ï¼š
- en: The latest version of Docker must be installed on your machine. If you do not
    have it installed yet, please follow the [instructions](https://docs.docker.com/get-docker/).
  id: totrans-22
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æ‚¨çš„æœºå™¨ä¸Šå¿…é¡»å®‰è£…æœ€æ–°ç‰ˆæœ¬çš„ Dockerã€‚å¦‚æœæ‚¨å°šæœªå®‰è£…ï¼Œè¯·æŒ‰ç…§[è¯´æ˜](https://docs.docker.com/get-docker/)è¿›è¡Œæ“ä½œã€‚
- en: The latest version of Docker Compose must be installed on your machine. Please
    follow the [instructions](https://docs.docker.com/compose/install/).
  id: totrans-23
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æ‚¨çš„æœºå™¨ä¸Šå¿…é¡»å®‰è£…æœ€æ–°ç‰ˆæœ¬çš„ Docker Composeã€‚è¯·æŒ‰ç…§[è¯´æ˜](https://docs.docker.com/compose/install/)è¿›è¡Œæ“ä½œã€‚
- en: Access to a terminal (macOS, Linux or Windows).
  id: totrans-24
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: è®¿é—®ç»ˆç«¯ï¼ˆmacOSã€Linux æˆ– Windowsï¼‰ã€‚
- en: Setup MLflow Workspace
  id: totrans-25
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: è®¾ç½® MLflow å·¥ä½œåŒº
- en: 'First, you should check that you have Docker and Docker Compose installed correctly.
    Open the terminal of your choice and enter the following command:'
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: é¦–å…ˆï¼Œæ‚¨åº”è¯¥æ£€æŸ¥æ˜¯å¦æ­£ç¡®å®‰è£…äº† Docker å’Œ Docker Composeã€‚æ‰“å¼€æ‚¨é€‰æ‹©çš„ç»ˆç«¯å¹¶è¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼š
- en: '[PRE0]'
  id: totrans-27
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: If the installation is correct, you can see the Docker version (Maybe you have
    a different version.). Next, you can check the same for your Docker Compose installation.
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: å¦‚æœå®‰è£…æ­£ç¡®ï¼Œæ‚¨å¯ä»¥çœ‹åˆ° Docker ç‰ˆæœ¬ï¼ˆä¹Ÿè®¸æ‚¨æœ‰ä¸åŒçš„ç‰ˆæœ¬ï¼‰ã€‚æ¥ä¸‹æ¥ï¼Œæ‚¨å¯ä»¥æ£€æŸ¥ Docker Compose çš„å®‰è£…æƒ…å†µã€‚
- en: '[PRE1]'
  id: totrans-29
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: Yeah. Everything is ok. Now we can start with the MLflow Workspace.
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: å¥½äº†ï¼Œä¸€åˆ‡æ­£å¸¸ã€‚ç°åœ¨æˆ‘ä»¬å¯ä»¥å¼€å§‹è®¾ç½® MLflow å·¥ä½œåŒºäº†ã€‚
- en: There are [several ways](https://mlflow.org/docs/latest/tracking.html#how-runs-and-artifacts-are-recorded)
    to use MLflow. You can use MLflow with localhost or you deploy a complete stack
    for a production environment. We will focus on the second option in this article.
    We have set up a production-ready MLflow workspace, which we explain in this article.
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: æœ‰[å‡ ç§æ–¹æ³•](https://mlflow.org/docs/latest/tracking.html#how-runs-and-artifacts-are-recorded)å¯ä»¥ä½¿ç”¨
    MLflowã€‚æ‚¨å¯ä»¥åœ¨æœ¬åœ°ä¸»æœºä¸Šä½¿ç”¨ MLflowï¼Œæˆ–è€…ä¸ºç”Ÿäº§ç¯å¢ƒéƒ¨ç½²ä¸€ä¸ªå®Œæ•´çš„æ ˆã€‚æœ¬æ–‡å°†é‡ç‚¹ä»‹ç»ç¬¬äºŒç§é€‰é¡¹ã€‚æˆ‘ä»¬å·²ç»è®¾ç½®äº†ä¸€ä¸ªç”Ÿäº§å°±ç»ªçš„ MLflow å·¥ä½œåŒºï¼Œæˆ‘ä»¬å°†åœ¨æœ¬æ–‡ä¸­è¿›è¡Œè¯´æ˜ã€‚
- en: Please download or clone the [MLflow Workspace](https://github.com/tinztwins/mlflow-workspace)
    from our GitHub repo. The project contains four services, which you can see in
    the following figure.
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: è¯·ä»æˆ‘ä»¬çš„ GitHub ä»“åº“ä¸‹è½½æˆ–å…‹éš†[MLflow å·¥ä½œåŒº](https://github.com/tinztwins/mlflow-workspace)ã€‚è¯¥é¡¹ç›®åŒ…å«å››ä¸ªæœåŠ¡ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚
- en: '![](../Images/e93e48a936372041b38426e4f5712a47.png)'
  id: totrans-33
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/e93e48a936372041b38426e4f5712a47.png)'
- en: Various services MLflow Workspace (Image by author)
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: å„ç§æœåŠ¡ MLflow å·¥ä½œåŒºï¼ˆå›¾åƒç”±ä½œè€…æä¾›ï¼‰
- en: You can start all services by executing the following command in the terminal.
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: æ‚¨å¯ä»¥é€šè¿‡åœ¨ç»ˆç«¯ä¸­æ‰§è¡Œä»¥ä¸‹å‘½ä»¤æ¥å¯åŠ¨æ‰€æœ‰æœåŠ¡ã€‚
- en: '[PRE2]'
  id: totrans-36
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: The first time you start it, it takes a while until all the Docker images are
    pulled. Itâ€™s the right time to get a coffee. â˜•ï¸
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: ç¬¬ä¸€æ¬¡å¯åŠ¨æ—¶ï¼Œæ‰€æœ‰ Docker é•œåƒä¸‹è½½éœ€è¦ä¸€äº›æ—¶é—´ã€‚ç°åœ¨æ­£æ˜¯å»å–å’–å•¡çš„æ—¶å€™ã€‚â˜•ï¸
- en: After everything has started, please open a web browser of your choice. Next,
    you can access the Jupyter server by entering the following URL [http://127.0.0.1:8888](http://127.0.0.1:8888/)
    into your web browser. You can log in with the password `mlflow`. Next, visit
    the MLflow UI website at [http://127.0.0.1:5001](http://127.0.0.1:5001/). Note
    that we are on localhost. If you run the MLflow Workspace on a remote server,
    please specify the IP address of your server.
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸€åˆ‡å¯åŠ¨åï¼Œè¯·æ‰“å¼€ä½ é€‰æ‹©çš„ web æµè§ˆå™¨ã€‚æ¥ä¸‹æ¥ï¼Œä½ å¯ä»¥é€šè¿‡è¾“å…¥ä»¥ä¸‹ç½‘å€ [http://127.0.0.1:8888](http://127.0.0.1:8888/)
    æ¥è®¿é—® Jupyter æœåŠ¡å™¨ã€‚ä½ å¯ä»¥ä½¿ç”¨å¯†ç  `mlflow` ç™»å½•ã€‚æ¥ä¸‹æ¥ï¼Œè®¿é—® MLflow UI ç½‘ç«™ [http://127.0.0.1:5001](http://127.0.0.1:5001/)ã€‚è¯·æ³¨æ„ï¼Œæˆ‘ä»¬åœ¨æœ¬åœ°ä¸»æœºä¸Šã€‚å¦‚æœä½ åœ¨è¿œç¨‹æœåŠ¡å™¨ä¸Šè¿è¡Œ
    MLflow å·¥ä½œåŒºï¼Œè¯·æŒ‡å®šä½ æœåŠ¡å™¨çš„ IP åœ°å€ã€‚
- en: You can test the MLflow Workspace by running the notebook `/notebooks/mlflow_example.ipynb`.
    If no error appears, the setup was successful. Congratulations!
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: ä½ å¯ä»¥é€šè¿‡è¿è¡Œç¬”è®°æœ¬ `/notebooks/mlflow_example.ipynb` æ¥æµ‹è¯• MLflow å·¥ä½œåŒºã€‚å¦‚æœæ²¡æœ‰å‡ºç°é”™è¯¯ï¼Œåˆ™è®¾ç½®æˆåŠŸã€‚ç¥è´ºä½ ï¼
- en: 'When you have finished working on a notebook, you can shut down the Workspace.
    The Workspace saves your work persistently so that you can continue working the
    next time. You can shut down the Workspace with the following command:'
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: å½“ä½ å®Œæˆåœ¨ç¬”è®°æœ¬ä¸Šçš„å·¥ä½œåï¼Œå¯ä»¥å…³é—­å·¥ä½œåŒºã€‚å·¥ä½œåŒºä¼šæŒä¹…ä¿å­˜ä½ çš„å·¥ä½œï¼Œä»¥ä¾¿ä½ ä¸‹æ¬¡ç»§ç»­å·¥ä½œã€‚ä½ å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å…³é—­å·¥ä½œåŒºï¼š
- en: '[PRE3]'
  id: totrans-41
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: After we have completed the setup, we can now take a closer look at the individual
    services.
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: å®Œæˆè®¾ç½®åï¼Œæˆ‘ä»¬å¯ä»¥æ›´æ·±å…¥åœ°æŸ¥çœ‹å„ä¸ªæœåŠ¡ã€‚
- en: JupyterLab
  id: totrans-43
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: JupyterLab
- en: This service provides a JupyterLab environment. In the MLflow Workspace, we
    use the [jupyter/scipy-notebook](https://hub.docker.com/r/jupyter/scipy-notebook)
    image from DockerHub. You can also use other Jupyter images if you want. In the
    future, we plan to replace the image with a JuypterHub image so that each Data
    Scientist has their own account. An advantage of this approach is that the accounts
    also communicate with the MLflow tracking server. It allows us a better user management.
    Look forward to more updates on the Workspace.
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: è¯¥æœåŠ¡æä¾›äº†ä¸€ä¸ª JupyterLab ç¯å¢ƒã€‚åœ¨ MLflow å·¥ä½œåŒºä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨äº†æ¥è‡ª DockerHub çš„ [jupyter/scipy-notebook](https://hub.docker.com/r/jupyter/scipy-notebook)
    é•œåƒã€‚å¦‚æœä½ æ„¿æ„ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨å…¶ä»– Jupyter é•œåƒã€‚æœªæ¥ï¼Œæˆ‘ä»¬è®¡åˆ’å°†é•œåƒæ›´æ¢ä¸º JuypterHub é•œåƒï¼Œä»¥ä¾¿æ¯ä¸ªæ•°æ®ç§‘å­¦å®¶éƒ½æœ‰è‡ªå·±çš„è´¦æˆ·ã€‚è¿™æ ·åšçš„ä¸€ä¸ªå¥½å¤„æ˜¯ï¼Œè¿™äº›è´¦æˆ·è¿˜èƒ½ä¸
    MLflow è·Ÿè¸ªæœåŠ¡å™¨è¿›è¡Œé€šä¿¡ï¼Œä»è€Œå®ç°æ›´å¥½çš„ç”¨æˆ·ç®¡ç†ã€‚è¯·æœŸå¾…æœ‰å…³å·¥ä½œåŒºçš„æ›´å¤šæ›´æ–°ã€‚
- en: SFTP Server
  id: totrans-45
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: SFTP æœåŠ¡å™¨
- en: This service provides remote data storage. SFTP (Secure File Transfer Protocol)
    is a file transfer protocol that provides secure access to a remote computer.
    For more information about SFTP, please read the following article.
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: è¯¥æœåŠ¡æä¾›äº†è¿œç¨‹æ•°æ®å­˜å‚¨ã€‚SFTPï¼ˆå®‰å…¨æ–‡ä»¶ä¼ è¾“åè®®ï¼‰æ˜¯ä¸€ç§æ–‡ä»¶ä¼ è¾“åè®®ï¼Œæä¾›å¯¹è¿œç¨‹è®¡ç®—æœºçš„å®‰å…¨è®¿é—®ã€‚æœ‰å…³ SFTP çš„æ›´å¤šä¿¡æ¯ï¼Œè¯·é˜…è¯»ä»¥ä¸‹æ–‡ç« ã€‚
- en: '[](https://levelup.gitconnected.com/set-up-an-sftp-server-with-docker-353fb513ccfd?source=post_page-----b54294676f0b--------------------------------)
    [## Set up an SFTP server with Docker'
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: '[](https://levelup.gitconnected.com/set-up-an-sftp-server-with-docker-353fb513ccfd?source=post_page-----b54294676f0b--------------------------------)
    [## ä½¿ç”¨ Docker è®¾ç½® SFTP æœåŠ¡å™¨'
- en: Free â€” Open Source â€” Secure
  id: totrans-48
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: å…è´¹ â€” å¼€æº â€” å®‰å…¨
- en: levelup.gitconnected.com](https://levelup.gitconnected.com/set-up-an-sftp-server-with-docker-353fb513ccfd?source=post_page-----b54294676f0b--------------------------------)
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: levelup.gitconnected.com](https://levelup.gitconnected.com/set-up-an-sftp-server-with-docker-353fb513ccfd?source=post_page-----b54294676f0b--------------------------------)
- en: In this project, we use the [atmoz/sftp](https://hub.docker.com/r/atmoz/sftp)
    image from DockerHub. You can also use other storage technologies, such as AWS
    S3 or HDFS. In the MLflow Workspace, the SFTP server provides the artifact store.
    In this store, we save the ML models and other artifacts such as Jupyter notebooks
    or Python scripts.
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨è¿™ä¸ªé¡¹ç›®ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨äº†æ¥è‡ª DockerHub çš„ [atmoz/sftp](https://hub.docker.com/r/atmoz/sftp)
    é•œåƒã€‚ä½ ä¹Ÿå¯ä»¥ä½¿ç”¨å…¶ä»–å­˜å‚¨æŠ€æœ¯ï¼Œå¦‚ AWS S3 æˆ– HDFSã€‚åœ¨ MLflow å·¥ä½œåŒºä¸­ï¼ŒSFTP æœåŠ¡å™¨æä¾›äº†å·¥ä»¶å­˜å‚¨ã€‚åœ¨è¿™ä¸ªå­˜å‚¨ä¸­ï¼Œæˆ‘ä»¬ä¿å­˜ ML æ¨¡å‹ä»¥åŠå…¶ä»–å·¥ä»¶ï¼Œå¦‚
    Jupyter ç¬”è®°æœ¬æˆ– Python è„šæœ¬ã€‚
- en: MLflow Tracking Server
  id: totrans-51
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: MLflow è·Ÿè¸ªæœåŠ¡å™¨
- en: This service provides the MLflow UI. This web UI enables the management of your
    ML experiments. You can also compare different ML models via the web UI. To build
    this service we used the Docker image [python](https://hub.docker.com/_/python).
    The web UI is accessible via [http://127.0.0.1:5001](http://127.0.0.1:5001/).
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: è¯¥æœåŠ¡æä¾›äº† MLflow UIã€‚è¿™ä¸ª web UI ä½¿å¾—ç®¡ç†ä½ çš„ ML å®éªŒå˜å¾—ç®€å•ã€‚ä½ è¿˜å¯ä»¥é€šè¿‡ web UI æ¯”è¾ƒä¸åŒçš„ ML æ¨¡å‹ã€‚æˆ‘ä»¬ä½¿ç”¨äº†
    Docker é•œåƒ [python](https://hub.docker.com/_/python) æ¥æ„å»ºè¯¥æœåŠ¡ã€‚å¯ä»¥é€šè¿‡ [http://127.0.0.1:5001](http://127.0.0.1:5001/)
    è®¿é—® web UIã€‚
- en: Postgres database
  id: totrans-53
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: Postgres æ•°æ®åº“
- en: This service provides a Postgres database for the backend store. PostgreSQL
    is a free and open-source relational database management system. We use it to
    store parameters and evaluation metrics. The MLflow Workspace uses the official
    [postgres](https://hub.docker.com/_/postgres) Docker image from DockerHub.
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
- en: The MLflow Workspace is running, and we have understood the basic functionality
    of the services. Itâ€™s time to implement a practical example with the Workspace.
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
- en: Use of the MLflow Workspace
  id: totrans-56
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: We explain the functionality of the workspace with a small ML example. In this
    example, we will try to separate the two classes in the [sklearn moon dataset](https://scikit-learn.org/stable/modules/generated/sklearn.datasets.make_moons.html).
    We use the Random Forest as ML model. First, we load the data and visualise it.
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE4]'
  id: totrans-58
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: '![](../Images/96c9b37bb71e27ca0560768aa721b204.png)'
  id: totrans-59
  prefs: []
  type: TYPE_IMG
- en: Moon data (Image by author)
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
- en: You can see that we have two classes. We want to separate these two classes
    with a Random Forest. In addition, we also want to track the metrics and parameters
    of the individual experiments. We achieve this by including MLflow commands in
    our code. You can check out the full code in our [GitHub repo](https://github.com/tinztwins/mlflow-workspace/blob/main/notebooks/examples/logging/logging_example.ipynb).
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE5]'
  id: totrans-62
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: After running the code with different parameters for the Random forest model,
    our experiments appear in the web UI.
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/e0a5fa4af75e3c5b9d1b7601f56ab4dd.png)'
  id: totrans-64
  prefs: []
  type: TYPE_IMG
- en: MLflow tracking UI (Image by author)
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
- en: You can see two runs. Next, we can compare these two runs. To do this, click
    on the checkboxes of the two runs and click on Compare. A new web page opens where
    you can carry out extensive comparisons. The following figure shows an example.
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/9e99af1090b6dc942c9461608127853e.png)'
  id: totrans-67
  prefs: []
  type: TYPE_IMG
- en: Comparison of two Random Forest runs (Image by author)
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
- en: We see the details for the two runs. MLflow distinguishes the runs via run IDs.
    It also saves the start time, the end time and the duration of the run. The second
    section lists the model parameters. In the first run we used 100 trees, and in
    the second run only two trees. It is practical that you can filter by differences.
    The third section lists all the metrics we tracked. The metrics show that both
    models work similarly well, with the first model performing slightly better. MLflow
    offers many more comparison functions, e.g. you can compare different metrics
    or parameters in graphs (Parallel Coordinates Plot, Scatter Plot, Box Plot and
    Contour Plot). The MLflow Workspace is extremely helpful for Data Scientists because
    it tracks all model combinations with metrics and code. It avoids chaos with many
    experiments, and you always keep an overview.
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
- en: Conclusion
  id: totrans-70
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: In this article we presented a production-ready MLflow Workspace. We briefly
    described the setup with Docker and run an example in the Workspace. In addition,
    we invite all Data Scientists to test the MLflow Workspace so that we can improve
    it continuously. Feedback is always welcome. Write your thoughts in the comments.
    Thanks.
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬å±•ç¤ºäº†ä¸€ä¸ªç”Ÿäº§å°±ç»ªçš„ MLflow å·¥ä½œåŒºã€‚æˆ‘ä»¬ç®€è¦æè¿°äº†ä½¿ç”¨ Docker è¿›è¡Œè®¾ç½®ï¼Œå¹¶åœ¨å·¥ä½œåŒºä¸­è¿è¡Œäº†ä¸€ä¸ªç¤ºä¾‹ã€‚æ­¤å¤–ï¼Œæˆ‘ä»¬é‚€è¯·æ‰€æœ‰æ•°æ®ç§‘å­¦å®¶æµ‹è¯•
    MLflow å·¥ä½œåŒºï¼Œä»¥ä¾¿æˆ‘ä»¬å¯ä»¥ä¸æ–­æ”¹è¿›å®ƒã€‚æ¬¢è¿åé¦ˆã€‚è¯·åœ¨è¯„è®ºä¸­å†™ä¸‹ä½ çš„æƒ³æ³•ã€‚è°¢è°¢ã€‚
- en: ğŸ‘‰ğŸ½ [**You can find all our Freebies on our digital products page!**](https://shop.tinztwins.de/)
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: ğŸ‘‰ğŸ½ [**ä½ å¯ä»¥åœ¨æˆ‘ä»¬çš„æ•°å­—äº§å“é¡µé¢æ‰¾åˆ°æ‰€æœ‰å…è´¹èµ„æºï¼**](https://shop.tinztwins.de/)
- en: ğŸ‘‰ğŸ½ [**Join our free weekly Magic AI newsletter for the latest AI updates!**](https://magicai.tinztwins.de)
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: ğŸ‘‰ğŸ½ [**åŠ å…¥æˆ‘ä»¬å…è´¹çš„æ¯å‘¨é­”æ³• AI æ–°é—»é€šè®¯ï¼Œè·å–æœ€æ–°çš„ AI æ›´æ–°ï¼**](https://magicai.tinztwins.de)
- en: '[**Subscribe for free**](https://tinztwinspro.medium.com/subscribe) **to get
    notified when we publish a new story:**'
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: '[**å…è´¹è®¢é˜…**](https://tinztwinspro.medium.com/subscribe) **ä»¥ä¾¿åœ¨æˆ‘ä»¬å‘å¸ƒæ–°æ•…äº‹æ—¶è·å¾—é€šçŸ¥ï¼š**'
- en: '[](https://tinztwinspro.medium.com/subscribe?source=post_page-----b54294676f0b--------------------------------)
    [## Get an email whenever Janik and Patrick Tinz publishes.'
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
  zh: '[](https://tinztwinspro.medium.com/subscribe?source=post_page-----b54294676f0b--------------------------------)
    [## æ¯å½“ Janik å’Œ Patrick Tinz å‘å¸ƒæ–‡ç« æ—¶ï¼Œè·å–ç”µå­é‚®ä»¶é€šçŸ¥ã€‚'
- en: Get an email whenever Janik and Patrick Tinz publishes. By signing up, you will
    create a Medium account if you donâ€™tâ€¦
  id: totrans-76
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: æ¯å½“ Janik å’Œ Patrick Tinz å‘å¸ƒæ–‡ç« æ—¶ï¼Œæ‚¨ä¼šæ”¶åˆ°ç”µå­é‚®ä»¶ã€‚é€šè¿‡æ³¨å†Œï¼Œæ‚¨å°†åˆ›å»ºä¸€ä¸ª Medium è´¦æˆ·ï¼ˆå¦‚æœæ‚¨è¿˜æ²¡æœ‰çš„è¯ï¼‰...
- en: tinztwinspro.medium.com](https://tinztwinspro.medium.com/subscribe?source=post_page-----b54294676f0b--------------------------------)
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
  zh: tinztwinspro.medium.com](https://tinztwinspro.medium.com/subscribe?source=post_page-----b54294676f0b--------------------------------)
- en: Learn more about us on our [About page](https://medium.com/@tinztwinspro/about).
    Donâ€™t forget to follow us on [X](https://twitter.com/tinztwins). Thanks so much
    for reading. If you liked this article, feel free to share it. **Have a great
    day!**
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨æˆ‘ä»¬çš„ [å…³äºé¡µé¢](https://medium.com/@tinztwinspro/about) äº†è§£æ›´å¤šå…³äºæˆ‘ä»¬çš„ä¿¡æ¯ã€‚åˆ«å¿˜äº†åœ¨ [X](https://twitter.com/tinztwins)
    ä¸Šå…³æ³¨æˆ‘ä»¬ã€‚éå¸¸æ„Ÿè°¢ä½ çš„é˜…è¯»ã€‚å¦‚æœä½ å–œæ¬¢è¿™ç¯‡æ–‡ç« ï¼Œæ¬¢è¿åˆ†äº«ã€‚**ç¥ä½ æœ‰ç¾å¥½çš„ä¸€å¤©ï¼**
- en: Sign up for a Medium membership using [our link](https://tinztwinspro.medium.com/membership)
    to read unlimited Medium stories.
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
  zh: ä½¿ç”¨ [æˆ‘ä»¬çš„é“¾æ¥](https://tinztwinspro.medium.com/membership) æ³¨å†Œ Medium ä¼šå‘˜ï¼Œä»¥ä¾¿é˜…è¯»æ— é™é‡çš„
    Medium æ•…äº‹ã€‚
