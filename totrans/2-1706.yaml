- en: Putting an AI-Powered Data Analyst to the Test
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 原文：[https://towardsdatascience.com/putting-an-ai-powered-data-analyst-to-the-test-e8971337264](https://towardsdatascience.com/putting-an-ai-powered-data-analyst-to-the-test-e8971337264)
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: Exploring the Automation of Ad Hoc Analytics with Langchain and OpenAI
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: '[](https://johnadeojo.medium.com/?source=post_page-----e8971337264--------------------------------)[![John
    Adeojo](../Images/f6460fae462b055d36dce16fefcd142c.png)](https://johnadeojo.medium.com/?source=post_page-----e8971337264--------------------------------)[](https://towardsdatascience.com/?source=post_page-----e8971337264--------------------------------)[![Towards
    Data Science](../Images/a6ff2676ffcc0c7aad8aaf1d79379785.png)](https://towardsdatascience.com/?source=post_page-----e8971337264--------------------------------)
    [John Adeojo](https://johnadeojo.medium.com/?source=post_page-----e8971337264--------------------------------)'
  prefs: []
  type: TYPE_NORMAL
- en: ·Published in [Towards Data Science](https://towardsdatascience.com/?source=post_page-----e8971337264--------------------------------)
    ·8 min read·Jul 12, 2023
  prefs: []
  type: TYPE_NORMAL
- en: --
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/3eeea8b2369c47c7421aec3d7030bd83.png)'
  prefs: []
  type: TYPE_IMG
- en: 'Image by Author: Generated with Midjourney'
  prefs: []
  type: TYPE_NORMAL
- en: Background — The need for Efficient Analytics
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: In my opinion, analytics has been one of the toughest arenas to operate in due
    to the immense volumes of ad hoc requests. Typically, it involves writing a SQL
    query or conducting some analysis on a spreadsheet that ends up taking longer
    than anticipated. This results in analytics teams spending most of their time
    firefighting, building tactical solutions, and never having the chance to be proactive.
  prefs: []
  type: TYPE_NORMAL
- en: I have frequently pondered on the idea of an AI assistant that could manage
    ad hoc analytics requests, much akin to the chatbots that are now ubiquitous in
    customer service. However, this always felt rather far-fetched due to the perceived
    complexity surrounding some analytics queries. Now, with advances in generative
    AI, we are at a stage where automating mundane, ad hoc requests is feasible. In
    this article, I present a prototype analytics bot. I evaluate the performance
    of the bot on some “typical” analytics requests and briefly discuss the implications
    for commercial analytics.
  prefs: []
  type: TYPE_NORMAL
- en: AI-Powered Data Analyst
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: The analytics bot serves as an AI data analyst through a chat-like interface.
    Anyone requesting ad hoc analytics can pose questions to the bot in the same manner
    they would to a data analyst. The bot interprets queries in natural language,
    converts them into SQL, and queries the data behind it to produce a response in
    natural language. I have linked to the bot at the end of the article; you will
    need an [OpenAI](https://www.howtogeek.com/885918/how-to-get-an-openai-api-key/)
    API key and a data source URL to try it.
  prefs: []
  type: TYPE_NORMAL
- en: Some Technical Bits — How to Build Your Own
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'Building your own prototype analytics bot is readily achieved in seven lines
    of Python code. The core functionality of the bot centres around [Langchain](https://python.langchain.com/docs/get_started)
    and [OpenAI](https://platform.openai.com/docs/introduction) (although you can
    leverage any large language model for the task). However, if you are using OpenAI,
    you will need an API key, for which you can register here. The bot utilises the
    [SQLDatabaseChain](https://python.langchain.com/docs/modules/chains/popular/sqlite)
    API, which employs SQLAlchemy to connect to SQL databases. It can be used with
    any SQL dialect supported by SQLAlchemy. You can construct a basic bot in Jupyter
    notebooks with the following code:'
  prefs: []
  type: TYPE_NORMAL
- en: Testing the Analytics Bot
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: I tested the analytics bot on a CO2 emissions dataset sourced from [Kaggle](https://www.kaggle.com/datasets/nehalbirla/vehicle-dataset-from-cardekho)
    recording emissions, engine size, and fuel consumption data for various vehicles.
  prefs: []
  type: TYPE_NORMAL
- en: '*Please note the data is available for both commercial and non-commercial purposes
    under the* [*Open Data Commons License*](https://opendatacommons.org/licenses/dbcl/1-0/])*.*'
  prefs: []
  type: TYPE_NORMAL
- en: The test comprises three sets of questions of varying difficulty, designed to
    evaluate the analytical capability of the bot.
  prefs: []
  type: TYPE_NORMAL
- en: '**Beginner Level**: These are straightforward univariate statistics that require
    beginner-level analytics reasoning. There is no requirement for domain knowledge
    as everything the analyst needs to understand to answer the query lies within
    the dataset.'
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/cbc9bdb7992080dcfb54735635bf44dd.png)'
  prefs: []
  type: TYPE_IMG
- en: 'Image by Author: Illustration of the thought process of an analyst receiving
    a beginner level query'
  prefs: []
  type: TYPE_NORMAL
- en: '**Intermediate Level**: These involve bivariate analysis, requiring additional
    steps to calculate further variables from the data before arriving at the answer.
    The main difference between the intermediate and beginner-level queries is the
    additional computational steps required in writing the pandas query.'
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/b9b09874a58818f5dbe7c64a12ab7144.png)'
  prefs: []
  type: TYPE_IMG
- en: 'Image by Author: Illustration of the thought process of an analyst receiving
    an intermediate level query'
  prefs: []
  type: TYPE_NORMAL
- en: '**Higher Level**: These types of questions necessitate a level of understanding
    about the domain context to correctly answer. Notice in the diagram that the actual
    python query is the same as the beginner level, but the thought process is more
    complex.'
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/bde85dc8cf4cbc59e05bc03184819d1b.png)'
  prefs: []
  type: TYPE_IMG
- en: 'Image by Author: Illustration of the thought process of an analyst receiving
    a higher level query'
  prefs: []
  type: TYPE_NORMAL
- en: I have manually completed each test as an analyst would do using pandas. The
    notebook for my test responses is linked [here](https://mybinder.org/v2/gh/john-adeojo/test_notebook_analyst_ai/14b6948dd0f928ca3afa610e1f6dfdfa0e5d562d?urlpath=lab%2Ftree%2Ftest.ipynb).
    You should make yourself comfortable that the responses from the bot are aligned
    with my own.
  prefs: []
  type: TYPE_NORMAL
- en: Beginner Level Queries
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: '**Question 1** — Which vehicle has the highest CO2 emissions on Average?'
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '![](../Images/f560bd6923fca95b4b97e7f81033dfe6.png)'
  prefs: []
  type: TYPE_IMG
- en: 'Image by author: Response to “Which vehicle has the highest CO2 emissions on
    Average?”'
  prefs: []
  type: TYPE_NORMAL
- en: '**Question 2** — Which vehicle has the lowest CO2 emissions on average?'
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '![](../Images/982a877494ee8284fc79be21cce769ce.png)'
  prefs: []
  type: TYPE_IMG
- en: 'Image by author: Response to “Which vehicle has the lowest CO2 emissions on
    average?”'
  prefs: []
  type: TYPE_NORMAL
- en: In each case, the bot returns the correct answers, demonstrating basic data
    manipulation skills — something one would expect from a junior data analyst.
  prefs: []
  type: TYPE_NORMAL
- en: Intermediate Level Queries
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Question 1 — Which vehicle has the highest ratio of emissions to engine size?
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '![](../Images/c1e9fc6b4882d93d69743f5e7d91ebf6.png)'
  prefs: []
  type: TYPE_IMG
- en: 'Image by Author: Response to “Which vehicle has the highest ratio of emissions
    to engine size?”'
  prefs: []
  type: TYPE_NORMAL
- en: Question 2 — Which vehicle has the lowest ratio of emissions to engine size?
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '![](../Images/ea9fd0eb7e6ef0789170d61599716065.png)'
  prefs: []
  type: TYPE_IMG
- en: 'Image by Author: Response to “Which vehicle has the lowest ratio of emissions
    to engine size?”'
  prefs: []
  type: TYPE_NORMAL
- en: The bot returns the correct answers, showing the capacity to respond to slightly
    more intricate queries, though still relatively basic. This time, the bot needed
    to create a ratio variable and then perform a sort on the table to locate the
    highest and lowest values.
  prefs: []
  type: TYPE_NORMAL
- en: Higher Level Queries
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Question 1 — Which vehicle is the most fuel-efficient?
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '![](../Images/c189d3cf4065514041ae5ece0287fc4f.png)'
  prefs: []
  type: TYPE_IMG
- en: 'Image by Author: Response to “Which vehicle is the most fuel-efficient?”'
  prefs: []
  type: TYPE_NORMAL
- en: Question 2 — Which car is the least fuel-efficient?
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '![](../Images/228aabce5b81a7ecf3177208f00df49c.png)'
  prefs: []
  type: TYPE_IMG
- en: 'Image by Author: Response to “Which car is the least fuel-efficient?”'
  prefs: []
  type: TYPE_NORMAL
- en: Question 3 — Which vehicle is the worst for the environment?
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '![](../Images/0c19bdbc39d1d350478518721387b95b.png)'
  prefs: []
  type: TYPE_IMG
- en: 'Image by Author: Response to “Which vehicle is the worst for the environment?”'
  prefs: []
  type: TYPE_NORMAL
- en: The bot correctly answered all three questions. What sets these questions apart
    is that they require some degree of domain knowledge. The bot had to “understand”
    fuel efficiency and environmental impact to answer these questions. An analyst
    adept in data manipulation but lacking knowledge about these subjects may have
    perhaps struggled. These types of higher-level queries are typically posed by
    product managers or even CXO-level stakeholders.
  prefs: []
  type: TYPE_NORMAL
- en: Commercial Implications
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Let’s explore some of the commercial implications of implementing an analytics
    bot.
  prefs: []
  type: TYPE_NORMAL
- en: '**Shift Towards Engineering**: If you’re an analyst, you might be concerned
    about redundancy through AI. However, I would like to take this opportunity to
    reassure you that I don’t believe that this will happen — although the roles of
    data analysts will evolve. Here is how I see that occurring. For these AI bots
    to function effectively, they need clean and well-curated data sources to query
    from, much like a data analyst would require. Therefore, I envisage analytics
    roles shifting their focus more towards data engineering or analytics engineering.
    This will involve ensuring data generating processes are up to scratch, concentrating
    on curation, scaling, and acquisition of high-quality data sources rather than
    ad hoc analytics.'
  prefs: []
  type: TYPE_NORMAL
- en: '**On-Demand Insights:** Product managers, portfolio directors, CEOs, or just
    anyone needing insights, your frustrations will be alleviated. It will be a gradual
    transition, due to the necessary engineering work, but these bots will make obtaining
    quick insights about your business easier than ever. However, with great power
    comes great responsibility. The onus will be on the consumers of insights to be
    well-trained in interpreting these insights, asking the right questions, and making
    data-driven decisions. This takes us further into the realm of decision sciences.'
  prefs: []
  type: TYPE_NORMAL
- en: '**Advancement of ML & Data Sciences**: As analytics resources are redirected
    towards data curation, acquisition, and management at scale, a byproduct is the
    enablement of data sciences and machine learning. These types of well-engineered
    data management structures are precisely what’s required for data scientists and
    machine learning engineers to build custom machine learning solutions, thereby
    accelerating the adoption of AI within a business.'
  prefs: []
  type: TYPE_NORMAL
- en: Try for Yourself
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'You’re welcome to try out the [analytics bot](https://analytics-bot.streamlit.app/)
    yourself. You will need an API key, and it’s recommended that you link to a data
    source hosted on GitHub. Try it with the [CO2 emissions dataset](https://raw.githubusercontent.com/john-adeojo/open_datasets/main/CO2%20Emissions_Canada.csv)
    if you wish. You will need to present the raw link to the GitHub file as shown
    below:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE0]'
  prefs: []
  type: TYPE_PRE
- en: Watch the Live Demonstration
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'Video by Author: Putting our AI-Powered Data Analyst to the Test'
  prefs: []
  type: TYPE_NORMAL
- en: Conclusion
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Despite only being tested on a small sample size, the analytics bot has demonstrated
    the potential of AI for automating ad hoc analytics queries that are the bane
    of many commercial analytics teams. The next challenges in analytics will be effective
    data management, necessitating a transition for analysts towards more engineering-focused
    roles. Decision-makers will also have to evolve, learning the discipline of decision
    science to help them ask the right questions and make data-informed decisions.
  prefs: []
  type: TYPE_NORMAL
- en: 'If you’re interested in deploying an analytics bot solution within a commercial
    setting, there are a few considerations you should take into account:'
  prefs: []
  type: TYPE_NORMAL
- en: '**Data Privacy**: This prototype utilises the OpenAI API. Data privacy must
    be prioritised when utilising any similar solution whenever data is being transferred
    to a third party.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Scaling**: The prototype is designed to hold a single dataset in memory at
    a time and cannot execute queries across relational datasets. Implementing this
    in a commercial setting would necessitate a consideration of infrastructure requirements
    at scale.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Data Management**: I alluded to this earlier, but data management will be
    key here. Datasets should be well curated and the data-generating process must
    be thoroughly understood for any insights to be meaningful.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Hallucinations**: The bots have a propensity to return inaccurate responses,
    and it’s challenging to quantify the rate at which this happens. It’s true that
    human analysts also make errors. Decision makers seeking to utilise these bots
    will need to be aware of their tendency to hallucinate and learn to view responses
    with a healthy degree of scepticism and apply appropriate scrutiny.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '*Follow me on* [*LinkedIn*](https://www.linkedin.com/in/john-adeojo/)'
  prefs: []
  type: TYPE_NORMAL
- en: '*Subscribe to medium to get more insights from me:*'
  prefs: []
  type: TYPE_NORMAL
- en: '[](https://johnadeojo.medium.com/membership?source=post_page-----e8971337264--------------------------------)
    [## Join Medium with my referral link — John Adeojo'
  prefs: []
  type: TYPE_NORMAL
- en: I share data science projects, experiences, and expertise to assist you on your
    journey You can sign up to medium via…
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: johnadeojo.medium.com](https://johnadeojo.medium.com/membership?source=post_page-----e8971337264--------------------------------)
  prefs: []
  type: TYPE_NORMAL
- en: '*Should you be interested in integrating AI or data science into your business
    operations, we invite you to schedule a complimentary initial consultation with
    us:*'
  prefs: []
  type: TYPE_NORMAL
- en: '[](https://www.data-centric-solutions.com/book-online?source=post_page-----e8971337264--------------------------------)
    [## Book Online | Data-Centric Solutions'
  prefs: []
  type: TYPE_NORMAL
- en: Discover our expertise in helping businesses achieve ambitious goals with a
    free consultation. Our data scientists and…
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: www.data-centric-solutions.com](https://www.data-centric-solutions.com/book-online?source=post_page-----e8971337264--------------------------------)
  prefs: []
  type: TYPE_NORMAL
