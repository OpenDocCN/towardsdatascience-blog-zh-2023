- en: How to Create Hexagon Maps With Matplotlib
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: å¦‚ä½•ä½¿ç”¨ Matplotlib åˆ›å»ºå…­è¾¹å½¢åœ°å›¾
- en: åŸæ–‡ï¼š[https://towardsdatascience.com/how-to-create-hexagon-maps-with-matplotlib-eb5eef82ab2c](https://towardsdatascience.com/how-to-create-hexagon-maps-with-matplotlib-eb5eef82ab2c)
  id: totrans-1
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: åŸæ–‡ï¼š[https://towardsdatascience.com/how-to-create-hexagon-maps-with-matplotlib-eb5eef82ab2c](https://towardsdatascience.com/how-to-create-hexagon-maps-with-matplotlib-eb5eef82ab2c)
- en: Matplotlib Tutorial
  id: totrans-2
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: Matplotlib æ•™ç¨‹
- en: Using shapes to represent geographic information
  id: totrans-3
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: ä½¿ç”¨å½¢çŠ¶è¡¨ç¤ºåœ°ç†ä¿¡æ¯
- en: '[](https://medium.com/@oscarleo?source=post_page-----eb5eef82ab2c--------------------------------)[![Oscar
    Leo](../Images/7733c9147bad2875a35155fca3903aa8.png)](https://medium.com/@oscarleo?source=post_page-----eb5eef82ab2c--------------------------------)[](https://towardsdatascience.com/?source=post_page-----eb5eef82ab2c--------------------------------)[![Towards
    Data Science](../Images/a6ff2676ffcc0c7aad8aaf1d79379785.png)](https://towardsdatascience.com/?source=post_page-----eb5eef82ab2c--------------------------------)
    [Oscar Leo](https://medium.com/@oscarleo?source=post_page-----eb5eef82ab2c--------------------------------)'
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: '[](https://medium.com/@oscarleo?source=post_page-----eb5eef82ab2c--------------------------------)[![Oscar
    Leo](../Images/7733c9147bad2875a35155fca3903aa8.png)](https://medium.com/@oscarleo?source=post_page-----eb5eef82ab2c--------------------------------)[](https://towardsdatascience.com/?source=post_page-----eb5eef82ab2c--------------------------------)[![Towards
    Data Science](../Images/a6ff2676ffcc0c7aad8aaf1d79379785.png)](https://towardsdatascience.com/?source=post_page-----eb5eef82ab2c--------------------------------)
    [Oscar Leo](https://medium.com/@oscarleo?source=post_page-----eb5eef82ab2c--------------------------------)'
- en: Â·Published in [Towards Data Science](https://towardsdatascience.com/?source=post_page-----eb5eef82ab2c--------------------------------)
    Â·7 min readÂ·Nov 21, 2023
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: Â·å‘è¡¨äº [Towards Data Science](https://towardsdatascience.com/?source=post_page-----eb5eef82ab2c--------------------------------)
    Â·é˜…è¯»æ—¶é—´7åˆ†é’ŸÂ·2023å¹´11æœˆ21æ—¥
- en: --
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: --
- en: '![](../Images/8a0c286c2ed1192c80240ba0a37770bf.png)'
  id: totrans-7
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/8a0c286c2ed1192c80240ba0a37770bf.png)'
- en: Chart created by the author
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: å›¾è¡¨ç”±ä½œè€…åˆ›å»º
- en: '**Letâ€™s make some maps! ğŸ—º**'
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: '**è®©æˆ‘ä»¬åˆ¶ä½œä¸€äº›åœ°å›¾å§ï¼ğŸ—º**'
- en: Hi, and welcome to a new matplotlib tutorial. This time, I will teach you how
    to create insightful Hexagon maps like the one above.
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: å—¨ï¼Œæ¬¢è¿æ¥åˆ°æ–°çš„ matplotlib æ•™ç¨‹ã€‚è¿™ä¸€æ¬¡ï¼Œæˆ‘å°†æ•™ä½ å¦‚ä½•åˆ›å»ºåƒä¸Šé¢è¿™æ ·çš„æœ‰æ´å¯ŸåŠ›çš„å…­è¾¹å½¢åœ°å›¾ã€‚
- en: Visualizing geographic information is difficult because areas (such as countries)
    vary in size and shape.
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: å¯è§†åŒ–åœ°ç†ä¿¡æ¯æ˜¯å›°éš¾çš„ï¼Œå› ä¸ºåŒºåŸŸï¼ˆå¦‚å›½å®¶ï¼‰åœ¨å¤§å°å’Œå½¢çŠ¶ä¸Šæœ‰æ‰€ä¸åŒã€‚
- en: The result is that some areas are hard to see when you plot your data using
    regular maps.
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: ç»“æœæ˜¯ï¼Œå½“ä½ ä½¿ç”¨å¸¸è§„åœ°å›¾ç»˜åˆ¶æ•°æ®æ—¶ï¼Œä¸€äº›åŒºåŸŸå¾ˆéš¾çœ‹æ¸…ã€‚
- en: Itâ€™s also difficult to add information such as country names or values to your
    visualizations.
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: å°†å›½å®¶åç§°æˆ–æ•°å€¼æ·»åŠ åˆ°ä½ çš„å¯è§†åŒ–ä¸­ä¹Ÿæ˜¯å›°éš¾çš„ã€‚
- en: An alternative that removes such differences is to use a hexagon map.
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸€ç§æ¶ˆé™¤è¿™äº›å·®å¼‚çš„æ›¿ä»£æ–¹æ¡ˆæ˜¯ä½¿ç”¨å…­è¾¹å½¢åœ°å›¾ã€‚
- en: The idea is to represent each area as a hexagon and arrange them in a way that
    resembles the actual map.
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™ä¸ªæƒ³æ³•æ˜¯å°†æ¯ä¸ªåŒºåŸŸè¡¨ç¤ºä¸ºä¸€ä¸ªå…­è¾¹å½¢ï¼Œå¹¶å°†å®ƒä»¬æ’åˆ—æˆç±»ä¼¼å®é™…åœ°å›¾çš„æ–¹å¼ã€‚
- en: Since each hexagon is identical in shape, itâ€™s easy to add information in a
    structured way and to create a beautiful data visualization.
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: ç”±äºæ¯ä¸ªå…­è¾¹å½¢çš„å½¢çŠ¶ç›¸åŒï¼Œæ·»åŠ ä¿¡æ¯ä»¥ç»“æ„åŒ–çš„æ–¹å¼å¹¶åˆ›å»ºç¾è§‚çš„æ•°æ®å¯è§†åŒ–å˜å¾—å®¹æ˜“ã€‚
- en: This tutorial teaches you how to do just that using data from the presidential
    elections in the United States.
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: æœ¬æ•™ç¨‹å°†æ•™ä½ å¦‚ä½•ä½¿ç”¨ç¾å›½æ€»ç»Ÿé€‰ä¸¾çš„æ•°æ®æ¥åšåˆ°è¿™ä¸€ç‚¹ã€‚
- en: (Donâ€™t forget to look at [my other Matplotlib tutorials](https://medium.com/@oscarleo/list/262e5d7f0847)
    as well)
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: ï¼ˆä¸è¦å¿˜è®°æŸ¥çœ‹[æˆ‘çš„å…¶ä»– Matplotlib æ•™ç¨‹](https://medium.com/@oscarleo/list/262e5d7f0847)ï¼‰
- en: Letâ€™s get started. ğŸš€
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: è®©æˆ‘ä»¬å¼€å§‹å§ã€‚ğŸš€
- en: 'Step 1: Import libraries'
  id: totrans-20
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: ç¬¬ä¸€æ­¥ï¼šå¯¼å…¥åº“
- en: We start by importing the required libraries.
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬é¦–å…ˆå¯¼å…¥æ‰€éœ€çš„åº“ã€‚
- en: '[PRE0]'
  id: totrans-22
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: Thatâ€™s it.
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: å°±è¿™æ ·ã€‚
- en: 'Step 2: Create a seaborn style'
  id: totrans-24
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: ç¬¬äºŒæ­¥ï¼šåˆ›å»ºä¸€ä¸ª seaborn æ ·å¼
- en: Next, we use seaborn to set the background and font family. Iâ€™m using `Work
    Sans` and `#F4EBCD`, but feel free to experiment.
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬ä½¿ç”¨ seaborn æ¥è®¾ç½®èƒŒæ™¯å’Œå­—ä½“ã€‚ æˆ‘ä½¿ç”¨çš„æ˜¯ `Work Sans` å’Œ `#F4EBCD`ï¼Œä½†å¯ä»¥éšæ„å°è¯•ã€‚
- en: '[PRE1]'
  id: totrans-26
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: '**FYI:** I often use `background_color="#00000000"` to get a transparent background
    if I want to add the chart to an infographic or similar.'
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: '**ä»…ä¾›å‚è€ƒï¼š** å¦‚æœæˆ‘æƒ³å°†å›¾è¡¨æ·»åŠ åˆ°ä¿¡æ¯å›¾æˆ–ç±»ä¼¼å†…å®¹ä¸­ï¼Œæˆ‘é€šå¸¸ä½¿ç”¨ `background_color="#00000000"` ä»¥è·å¾—é€æ˜èƒŒæ™¯ã€‚'
- en: Now for the fun stuff.
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: ç°åœ¨è¿›å…¥æœ‰è¶£çš„éƒ¨åˆ†ã€‚
- en: 'Step 3: Fetching the data'
  id: totrans-29
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: ç¬¬ä¸‰æ­¥ï¼šè·å–æ•°æ®
- en: 'Iâ€™ve prepared a CSV with the number of votes for each state in the US using
    the following dataset: [U.S. President 1976â€“2020](https://dataverse.harvard.edu/dataset.xhtml?persistentId=doi%3A10.7910%2FDVN%2F42MVDX)
    (public domain license).'
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘å·²ç»ä½¿ç”¨ä»¥ä¸‹æ•°æ®é›†å‡†å¤‡äº†ä¸€ä¸ªåŒ…å«æ¯ä¸ªç¾å›½å·æŠ•ç¥¨æ•°çš„ CSV æ–‡ä»¶ï¼š[ç¾å›½æ€»ç»Ÿ 1976â€“2020](https://dataverse.harvard.edu/dataset.xhtml?persistentId=doi%3A10.7910%2FDVN%2F42MVDX)ï¼ˆå…¬å…±é¢†åŸŸè®¸å¯ï¼‰ã€‚
- en: Hereâ€™s how to access it.
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™æ˜¯å¦‚ä½•è®¿é—®å®ƒçš„æ–¹æ³•ã€‚
- en: '[PRE2]'
  id: totrans-32
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: Each row represents a state and stores the number of votes on the Democrats,
    Republicans, and â€œOtherâ€ parties.
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: æ¯ä¸€è¡Œä»£è¡¨ä¸€ä¸ªå·ï¼Œå¹¶å­˜å‚¨å¯¹æ°‘ä¸»å…šã€å…±å’Œå…šå’Œâ€œå…¶ä»–â€æ”¿å…šçš„æŠ•ç¥¨æ•°ã€‚
- en: '![](../Images/9b3a1d26ddc40fd0afae8c2126e3ea7c.png)'
  id: totrans-34
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/9b3a1d26ddc40fd0afae8c2126e3ea7c.png)'
- en: Screenshot by the author
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: ä½œè€…æˆªå›¾
- en: Luckily for you, Iâ€™ve prepared two other columns called x and y, which represent
    the center for each hexagon.
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: å¹¸è¿çš„æ˜¯ï¼Œæˆ‘å‡†å¤‡äº†å¦å¤–ä¸¤åˆ—å«åšxå’Œyï¼Œå®ƒä»¬ä»£è¡¨æ¯ä¸ªå…­è¾¹å½¢çš„ä¸­å¿ƒã€‚
- en: 'Step 4: Drawing hexagon boundaries'
  id: totrans-37
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: ç¬¬4æ­¥ï¼šç»˜åˆ¶å…­è¾¹å½¢è¾¹ç•Œ
- en: Now that we have the data, we can immediately draw the boundaries of our hexagon
    using the center defined by each row.
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: æ—¢ç„¶æˆ‘ä»¬æœ‰äº†æ•°æ®ï¼Œæˆ‘ä»¬å¯ä»¥ç«‹å³ä½¿ç”¨æ¯è¡Œå®šä¹‰çš„ä¸­å¿ƒç»˜åˆ¶å…­è¾¹å½¢çš„è¾¹ç•Œã€‚
- en: Our first Matplotlib-related function takes a `row`together with the `width`
    and `height` of the hexagon.
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬ç¬¬ä¸€ä¸ªä¸Matplotlibç›¸å…³çš„å‡½æ•°æ¥å—ä¸€ä¸ª`row`ä»¥åŠå…­è¾¹å½¢çš„`width`å’Œ`height`ã€‚
- en: It combines that information to create two lists of coordinates and returns
    them in the correct format.
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: å®ƒå°†è¿™äº›ä¿¡æ¯ç»“åˆèµ·æ¥ï¼Œåˆ›å»ºä¸¤ä¸ªåæ ‡åˆ—è¡¨ï¼Œå¹¶ä»¥æ­£ç¡®çš„æ ¼å¼è¿”å›å®ƒä»¬ã€‚
- en: '[PRE3]'
  id: totrans-41
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: Now, letâ€™s define `draw_hexagon()`, which takes a `row` and uses `get_hexagon_corners()`
    to draw a hexagon in the correct location.
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: ç°åœ¨ï¼Œè®©æˆ‘ä»¬å®šä¹‰`draw_hexagon()`ï¼Œå®ƒæ¥å—ä¸€ä¸ª`row`å¹¶ä½¿ç”¨`get_hexagon_corners()`åœ¨æ­£ç¡®çš„ä½ç½®ç»˜åˆ¶å…­è¾¹å½¢ã€‚
- en: '[PRE4]'
  id: totrans-43
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: It may look strange that Iâ€™m hard-coding `width` and `height`, but you never
    need to change these values, so it doesnâ€™t matter.
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ç¡¬ç¼–ç `width`å’Œ`height`å¯èƒ½çœ‹èµ·æ¥æœ‰äº›å¥‡æ€ªï¼Œä½†ä½ æ— éœ€æ›´æ”¹è¿™äº›å€¼ï¼Œå› æ­¤å¹¶ä¸é‡è¦ã€‚
- en: I selected `width=3` and `height=4` because it gives me a good-looking hexagon.
    Iâ€™m using the `scale` parameter to adjust the space between hexagons.
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘é€‰æ‹©äº†`width=3`å’Œ`height=4`ï¼Œå› ä¸ºå®ƒç»™æˆ‘ä¸€ä¸ªå¥½çœ‹çš„å…­è¾¹å½¢ã€‚æˆ‘ä½¿ç”¨`scale`å‚æ•°æ¥è°ƒæ•´å…­è¾¹å½¢ä¹‹é—´çš„é—´è·ã€‚
- en: Now, we can run this function together with our standard Matplotlib code.
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: ç°åœ¨ï¼Œæˆ‘ä»¬å¯ä»¥å°†æ­¤å‡½æ•°ä¸æˆ‘ä»¬çš„æ ‡å‡†Matplotlibä»£ç ä¸€èµ·è¿è¡Œã€‚
- en: '[PRE5]'
  id: totrans-47
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: And we get the following figure.
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬å¾—åˆ°ä»¥ä¸‹å›¾å½¢ã€‚
- en: '![](../Images/a7237804545bd1a2f613f5d72d2a0207.png)'
  id: totrans-49
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/a7237804545bd1a2f613f5d72d2a0207.png)'
- en: As you can see, I have arranged 51 hexagons in a formation that resembles the
    United States.
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: å¦‚ä½ æ‰€è§ï¼Œæˆ‘å°†51ä¸ªå…­è¾¹å½¢æ’åˆ—æˆç±»ä¼¼äºç¾å›½çš„å½¢çŠ¶ã€‚
- en: Thatâ€™s a good start!
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„å¼€å§‹ï¼
- en: 'Step 5: Adding colors'
  id: totrans-52
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: ç¬¬5æ­¥ï¼šæ·»åŠ é¢œè‰²
- en: There are many ways to define the colors of the hexagons.
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: å®šä¹‰å…­è¾¹å½¢é¢œè‰²çš„æ–¹æ³•æœ‰å¾ˆå¤šç§ã€‚
- en: The most common alternatives are to define colors based on a category or to
    have a gradient based on values such as GDP, where a lower value leads to, for
    example, a darker color.
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: æœ€å¸¸è§çš„æ›¿ä»£æ–¹æ¡ˆæ˜¯æ ¹æ®ç±»åˆ«å®šä¹‰é¢œè‰²ï¼Œæˆ–è€…åŸºäºè¯¸å¦‚GDPç­‰å€¼çš„æ¸å˜ï¼Œå…¶ä¸­è¾ƒä½çš„å€¼ä¼šå¯¼è‡´ä¾‹å¦‚æ›´æ·±çš„é¢œè‰²ã€‚
- en: To make things more interesting for you, I decided to take another approach.
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸ºäº†è®©äº‹æƒ…å¯¹ä½ æ›´æœ‰è¶£ï¼Œæˆ‘å†³å®šé‡‡å–å¦ä¸€ç§æ–¹æ³•ã€‚
- en: Instead of going for something basic, I want to color each hexagon based on
    the number of votes for each party.
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä¸æƒ³é€‰æ‹©åŸºç¡€æ–¹æ³•ï¼Œè€Œæ˜¯æ ¹æ®æ¯ä¸ªæ”¿å…šçš„æŠ•ç¥¨æ•°é‡æ¥ä¸ºæ¯ä¸ªå…­è¾¹å½¢ä¸Šè‰²ã€‚
- en: A hexagon should have all three colors but in different proportions depending
    on the number of votes.
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸€ä¸ªå…­è¾¹å½¢åº”è¯¥å…·æœ‰æ‰€æœ‰ä¸‰ç§é¢œè‰²ï¼Œä½†æ ¹æ®æŠ•ç¥¨æ•°é‡çš„ä¸åŒï¼Œæ¯”ä¾‹ä¼šæœ‰æ‰€ä¸åŒã€‚
- en: First of all, I created a function that returns the max and min values for a
    hexagon given the center.
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: é¦–å…ˆï¼Œæˆ‘åˆ›å»ºäº†ä¸€ä¸ªå‡½æ•°ï¼Œè¿”å›ç»™å®šä¸­å¿ƒçš„å…­è¾¹å½¢çš„æœ€å¤§å€¼å’Œæœ€å°å€¼ã€‚
- en: '[PRE6]'
  id: totrans-59
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: Next, we have the `fill_hexagon` function that defines the area we want to fill
    with a color.
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬æœ‰`fill_hexagon`å‡½æ•°ï¼Œå®ƒå®šä¹‰äº†æˆ‘ä»¬å¸Œæœ›ç”¨é¢œè‰²å¡«å……çš„åŒºåŸŸã€‚
- en: Two parameters are especially interesting.
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: æœ‰ä¸¤ä¸ªå‚æ•°ç‰¹åˆ«æœ‰è¶£ã€‚
- en: '`ratio` defines how much of the hexagon to fill (in the vertical direction,
    not by area).'
  id: totrans-62
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`ratio`å®šä¹‰äº†è¦å¡«å……å…­è¾¹å½¢çš„é‡ï¼ˆåœ¨å‚ç›´æ–¹å‘ä¸Šï¼Œè€Œä¸æ˜¯æŒ‰é¢ç§¯ï¼‰ã€‚'
- en: '`top` defines if we fill the hexagon from the top or bottom. It will be different
    for the Democrats and Republicans, and you can see that we define `y`, `y_start`,
    and `h4` differently based on `top`.'
  id: totrans-63
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`top`å®šä¹‰äº†æˆ‘ä»¬æ˜¯ä»é¡¶éƒ¨è¿˜æ˜¯åº•éƒ¨å¡«å……å…­è¾¹å½¢ã€‚è¿™å¯¹æ°‘ä¸»å…šå’Œå…±å’Œå…šä¼šæœ‰æ‰€ä¸åŒï¼Œä½ å¯ä»¥çœ‹åˆ°æˆ‘ä»¬æ ¹æ®`top`å®šä¹‰äº†`y`ã€`y_start`å’Œ`h4`ã€‚'
- en: '[PRE7]'
  id: totrans-64
  prefs: []
  type: TYPE_PRE
  zh: '[PRE7]'
- en: It isnâ€™t easy to understand the if statements at first glance.
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸€å¼€å§‹ç†è§£`if`è¯­å¥å¹¶ä¸å®¹æ˜“ã€‚
- en: Hereâ€™s a drawing explaining that we get different shapes that we need to handle
    separately for the different thresholds.
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™é‡Œæœ‰ä¸€å¼ å›¾è§£é‡Šäº†æˆ‘ä»¬å¾—åˆ°ä¸åŒå½¢çŠ¶ï¼Œå¹¶éœ€è¦é’ˆå¯¹ä¸åŒçš„é˜ˆå€¼åˆ†åˆ«å¤„ç†å®ƒä»¬ã€‚
- en: '![](../Images/1e03123d9cefd2803766e44d08366180.png)'
  id: totrans-67
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/1e03123d9cefd2803766e44d08366180.png)'
- en: Illustration by the author
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: ä½œè€…æ’å›¾
- en: Now, we define `d_ratio` and `r_ratio` to `draw_hexagon()` and create `Polygons`
    for both the Democrats and the Republicans.
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: ç°åœ¨ï¼Œæˆ‘ä»¬å®šä¹‰`d_ratio`å’Œ`r_ratio`ä»¥ä¼ é€’ç»™`draw_hexagon()`å¹¶ä¸ºæ°‘ä¸»å…šå’Œå…±å’Œå…šåˆ›å»º`Polygons`ã€‚
- en: '[PRE8]'
  id: totrans-70
  prefs: []
  type: TYPE_PRE
  zh: '[PRE8]'
- en: We get the following chart if we rerun the matplotlib code from the previous
    section.
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: å¦‚æœæˆ‘ä»¬é‡æ–°è¿è¡Œä¸Šä¸€èŠ‚çš„matplotlibä»£ç ï¼Œæˆ‘ä»¬ä¼šå¾—åˆ°ä»¥ä¸‹å›¾è¡¨ã€‚
- en: '![](../Images/007aeda8876c97f7a3c5fbc7af68c785.png)'
  id: totrans-72
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/007aeda8876c97f7a3c5fbc7af68c785.png)'
- en: Note that the horizontal black lines have different thicknesses based on the
    number of votes for â€œOthersâ€.
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: è¯·æ³¨æ„ï¼Œæ°´å¹³é»‘çº¿çš„åšåº¦åŸºäºâ€œå…¶ä»–â€é€‰é¡¹çš„æŠ•ç¥¨æ•°é‡è€Œæœ‰æ‰€ä¸åŒã€‚
- en: 'Step 6: Adding text'
  id: totrans-74
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: ç¬¬6æ­¥ï¼šæ·»åŠ æ–‡æœ¬
- en: Most data visualizations need some text to make sense. I want to add the state
    abbreviation and the percentage of votes for each party.
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
  zh: å¤§å¤šæ•°æ•°æ®å¯è§†åŒ–éœ€è¦ä¸€äº›æ–‡æœ¬æ¥ä½¿å…¶æœ‰æ„ä¹‰ã€‚æˆ‘æƒ³æ·»åŠ æ¯ä¸ªæ”¿å…šçš„å·ç¼©å†™å’ŒæŠ•ç¥¨ç™¾åˆ†æ¯”ã€‚
- en: '[PRE9]'
  id: totrans-76
  prefs: []
  type: TYPE_PRE
  zh: '[PRE9]'
- en: I then add `add_text()` directly after `draw_hexagon()`. Iâ€™m also adding the
    year to provide additional information.
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘åœ¨ `draw_hexagon()` ä¹‹åç›´æ¥æ·»åŠ äº† `add_text()`ã€‚æˆ‘è¿˜æ·»åŠ äº†å¹´ä»½ä»¥æä¾›é¢å¤–ä¿¡æ¯ã€‚
- en: '[PRE10]'
  id: totrans-78
  prefs: []
  type: TYPE_PRE
  zh: '[PRE10]'
- en: Running the code gives me the following hexagon map.
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
  zh: è¿è¡Œä»£ç ä¼šå¾—åˆ°ä»¥ä¸‹çš„å…­è¾¹å½¢åœ°å›¾ã€‚
- en: '![](../Images/8a0c286c2ed1192c80240ba0a37770bf.png)'
  id: totrans-80
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/8a0c286c2ed1192c80240ba0a37770bf.png)'
- en: Chart created by the author
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: å›¾è¡¨ç”±ä½œè€…åˆ›å»º
- en: Thatâ€™s it; I have the finalized chart we set out to create. I added some padding
    using KeyNotes, but you can use almost any tool.
  id: totrans-82
  prefs: []
  type: TYPE_NORMAL
  zh: å°±è¿™æ ·ï¼Œæˆ‘å®Œæˆäº†æˆ‘ä»¬è¦åˆ›å»ºçš„æœ€ç»ˆå›¾è¡¨ã€‚æˆ‘ä½¿ç”¨ KeyNotes æ·»åŠ äº†ä¸€äº›å¡«å……ï¼Œä½†ä½ å‡ ä¹å¯ä»¥ä½¿ç”¨ä»»ä½•å·¥å…·ã€‚
- en: 'Bonus: Hereâ€™s how I use this visualization'
  id: totrans-83
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: é¢å¤–å†…å®¹ï¼šè¿™æ˜¯æˆ‘å¦‚ä½•ä½¿ç”¨è¿™ä¸ªå¯è§†åŒ–çš„
- en: I have a free newsletter called [Data Wonder](https://datawonder.substack.com/),
    where I share beautiful and insightful data visualizations.
  id: totrans-84
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘æœ‰ä¸€ä¸ªå…è´¹çš„é€šè®¯ï¼Œå«åš [Data Wonder](https://datawonder.substack.com/)ï¼Œåœ¨é‡Œé¢æˆ‘åˆ†äº«ç¾ä¸½ä¸”å¯Œæœ‰æ´å¯Ÿçš„æ•°æ®å¯è§†åŒ–ã€‚
- en: In the edition â€œ[Visualizing Election Results From 1976 to 2020](https://open.substack.com/pub/datawonder/p/us-election-results?r=17ashl&utm_campaign=post&utm_medium=web)â€,
    I defined a transparent background for the chart above. I used Corel Vector to
    create a grid, gradient, title, and legend.
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨ â€œ[Visualizing Election Results From 1976 to 2020](https://open.substack.com/pub/datawonder/p/us-election-results?r=17ashl&utm_campaign=post&utm_medium=web)â€
    ç‰ˆæœ¬ä¸­ï¼Œæˆ‘ä¸ºä¸Šé¢çš„å›¾è¡¨å®šä¹‰äº†ä¸€ä¸ªé€æ˜èƒŒæ™¯ã€‚æˆ‘ä½¿ç”¨ Corel Vector åˆ›å»ºäº†ç½‘æ ¼ã€æ¸å˜ã€æ ‡é¢˜å’Œå›¾ä¾‹ã€‚
- en: '![](../Images/5b098790bd4f75351c3f7328881ca3b0.png)'
  id: totrans-86
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/5b098790bd4f75351c3f7328881ca3b0.png)'
- en: Pretty cool! ğŸ˜„
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
  zh: çœŸæ˜¯å¤ªé…·äº†ï¼ ğŸ˜„
- en: Conclusion
  id: totrans-88
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: ç»“è®º
- en: Hexagon charts may look complicated, but they are surprisingly simple to create
    using Matplotlib.
  id: totrans-89
  prefs: []
  type: TYPE_NORMAL
  zh: å…­è¾¹å½¢å›¾è¡¨å¯èƒ½çœ‹èµ·æ¥å¤æ‚ï¼Œä½†ä½¿ç”¨ Matplotlib åˆ›å»ºèµ·æ¥å‡ºå¥‡çš„ç®€å•ã€‚
- en: The biggest challenge is to align the hexagons in a way that resembles the map
    and still have the order make sense.
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: æœ€å¤§çš„æŒ‘æˆ˜æ˜¯å°†å…­è¾¹å½¢å¯¹é½ï¼Œä½¿å…¶ç±»ä¼¼äºåœ°å›¾ï¼ŒåŒæ—¶ä¿æŒé¡ºåºæœ‰æ„ä¹‰ã€‚
- en: This time, we learned how to do that for the United States, and you can change
    the election data to any other information that you find interesting.
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™ä¸€æ¬¡ï¼Œæˆ‘ä»¬å­¦ä¹ äº†å¦‚ä½•ä¸ºç¾å›½åˆ¶ä½œè¿™ç§å›¾è¡¨ï¼Œä½ å¯ä»¥å°†é€‰ä¸¾æ•°æ®æ›´æ”¹ä¸ºä»»ä½•ä½ è§‰å¾—æœ‰è¶£çš„ä¿¡æ¯ã€‚
- en: 'For example, I used the same code when I created a visualization called â€œ[The
    Escalating Crisis: Drug Overdose Deaths Across the U.S](https://datawonder.substack.com/p/the-escalating-crisis-drug-overdose)â€.'
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: 'ä¾‹å¦‚ï¼Œå½“æˆ‘åˆ›å»ºä¸€ä¸ªåä¸º â€œ[The Escalating Crisis: Drug Overdose Deaths Across the U.S](https://datawonder.substack.com/p/the-escalating-crisis-drug-overdose)â€
    çš„å¯è§†åŒ–æ—¶ï¼Œæˆ‘ä½¿ç”¨äº†ç›¸åŒçš„ä»£ç ã€‚'
- en: Thank you for reading, and see you next time! :)
  id: totrans-93
  prefs: []
  type: TYPE_NORMAL
  zh: æ„Ÿè°¢é˜…è¯»ï¼Œä¸‹æ¬¡è§ï¼ :)
