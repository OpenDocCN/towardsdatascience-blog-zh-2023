["```py\nimport numpy as np\nimport pandas as pd\n\nimport statsmodels.api as sm\nimport statsmodels.formula.api as smf\n\n# plotting\nimport seaborn as sns \nimport matplotlib.pyplot as plt\n\n# settings\nplt.style.use(\"seaborn-v0_8\")\nsns.set_palette(\"colorblind\")\nplt.rcParams[\"figure.figsize\"] = (16, 8)\n%config InlineBackend.figure_format = 'retina'\n```", "```py\nmtcars = sm.datasets.get_rdataset(\"mtcars\", \"datasets\", cache=True)\nprint(mtcars.__doc__)\n```", "```py\n ====== ===============\n   mtcars R Documentation\n   ====== ===============\n\n   The data was extracted from the 1974 *Motor Trend* US magazine, and\n   comprises fuel consumption and 10 aspects of automobile design and\n   performance for 32 automobiles (1973â€“74 models).\n\n   A data frame with 32 observations on 11 (numeric) variables.\n\n   ===== ==== ========================================\n   [, 1] mpg  Miles/(US) gallon\n   [, 2] cyl  Number of cylinders\n   [, 3] disp Displacement (cu.in.)\n   [, 4] hp   Gross horsepower\n   [, 5] drat Rear axle ratio\n   [, 6] wt   Weight (1000 lbs)\n   [, 7] qsec 1/4 mile time\n   [, 8] vs   Engine (0 = V-shaped, 1 = straight)\n   [, 9] am   Transmission (0 = automatic, 1 = manual)\n   [,10] gear Number of forward gears\n   [,11] carb Number of carburetors\n   ===== ==== ========================================\n```", "```py\ndf = mtcars.data\ndf.head()\n```", "```py\nsns.lmplot(x=\"wt\", y=\"mpg\", hue=\"am\", data=df, fit_reg=False)\nplt.ylabel(\"Miles per Gallon\")\nplt.xlabel(\"Vehicle Weight\");\n```", "```py\nmodel_1 = smf.ols(formula=\"mpg ~ wt + am\", data=df).fit()\nmodel_1.summary()\n```", "```py\nX = np.linspace(1, 6, num=20)\nsns.lmplot(x=\"wt\", y=\"mpg\", hue=\"am\", data=df, fit_reg=False)\nplt.title(\"Best fit lines for from the model without interactions\")\nplt.ylabel(\"Miles per Gallon\")\nplt.xlabel(\"Vehicle Weight\")\nplt.plot(X, 37.3216 - 5.3528 * X, \"blue\")\nplt.plot(X, (37.3216 - 0.0236) - 5.3528 * X, \"orange\");\n```", "```py\nmodel_2 = smf.ols(formula=\"mpg ~ wt + am + wt:am\", data=df).fit()\nmodel_2.summary()\n```", "```py\nX = np.linspace(1, 6, num=20)\nsns.lmplot(x=\"wt\", y=\"mpg\", hue=\"am\", data=df, fit_reg=False)\nplt.title(\"Best fit lines for from the model with interactions\")\nplt.ylabel(\"Miles per Gallon\")\nplt.xlabel(\"Vehicle Weight\")\nplt.plot(X, 31.4161 - 3.7859 * X, \"blue\")\nplt.plot(X, (31.4161 + 14.8784) + (-3.7859 - 5.2984) * X, \"orange\");\n```"]