- en: Logarithmic Transformation for Beginners
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 原文：[https://towardsdatascience.com/logarithmic-transformation-for-beginners-99488b8951e3](https://towardsdatascience.com/logarithmic-transformation-for-beginners-99488b8951e3)
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: Unit-free interpretation of association and other benefits
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: '[](https://medium.com/@jaekim8080?source=post_page-----99488b8951e3--------------------------------)[![Jae
    Kim](../Images/34716958ecfe8c0540f5cf5c1640d587.png)](https://medium.com/@jaekim8080?source=post_page-----99488b8951e3--------------------------------)[](https://towardsdatascience.com/?source=post_page-----99488b8951e3--------------------------------)[![Towards
    Data Science](../Images/a6ff2676ffcc0c7aad8aaf1d79379785.png)](https://towardsdatascience.com/?source=post_page-----99488b8951e3--------------------------------)
    [Jae Kim](https://medium.com/@jaekim8080?source=post_page-----99488b8951e3--------------------------------)'
  prefs: []
  type: TYPE_NORMAL
- en: ·Published in [Towards Data Science](https://towardsdatascience.com/?source=post_page-----99488b8951e3--------------------------------)
    ·7 min read·May 26, 2023
  prefs: []
  type: TYPE_NORMAL
- en: --
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/af1190126698b57beaa04749e17fcdd0.png)'
  prefs: []
  type: TYPE_IMG
- en: Photo by [Joshua Sortino](https://unsplash.com/@sortino?utm_source=medium&utm_medium=referral)
    on [Unsplash](https://unsplash.com/?utm_source=medium&utm_medium=referral)
  prefs: []
  type: TYPE_NORMAL
- en: In statistical and machine learning models, the variables are often transformed
    to a natural logarithm. There are a number of benefits to this, which include…
  prefs: []
  type: TYPE_NORMAL
- en: unit-free interpretation of the relationship;
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: variance stabilization;
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: mitigating the effect of outliers;
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: linearization; and
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: closeness to normality.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: In this post, I explain the above points in detail with an application. The
    data and R code are available from [here](https://github.com/jh8080/Chicago).
  prefs: []
  type: TYPE_NORMAL
- en: 1\. Change and slope of a function
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Consider, for simplicity, Y = 1 + 2X, where Y is the response variable and X
    is the input variable. We are often interested in how much Y changes in response
    to a change in X. Let Δ denote the change operator. That is,
  prefs: []
  type: TYPE_NORMAL
- en: 'ΔY = Y1 — Y0: change of Y from Y0 to Y1; and'
  prefs: []
  type: TYPE_NORMAL
- en: 'ΔX = X1 — X0: change of X from X0 to X1.'
  prefs: []
  type: TYPE_NORMAL
- en: Suppose, with our example (Y = 1 + 2 X), X changes from 1 to 3\. Then, in response
    to this, Y changes from 3 to 7\. That is, ΔY = 4 and ΔX = 2.
  prefs: []
  type: TYPE_NORMAL
- en: The *slope* (or derivative) measures how much Y changes in response to *one-unit*
    change of X. It is defined as
  prefs: []
  type: TYPE_NORMAL
- en: β ≡ ΔY/ΔX,
  prefs: []
  type: TYPE_NORMAL
- en: and β = 2 in our example. A slope coefficient that we encounter in a linear
    regression or a machine learning model has the same interpretation. The slope
    is a standardized measure, but it is unit-dependent. That is, interpretation of
    a slope coefficient requires a careful consideration of their units.
  prefs: []
  type: TYPE_NORMAL
- en: 2\. Change and slope of the logarithmic function
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Consider the function Y = log(X), where log() denotes the natural logarithm.
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/e8edb3488ef2fc65862f5064dc859644.png)'
  prefs: []
  type: TYPE_IMG
- en: Image Created by the Author using R function “curve”
  prefs: []
  type: TYPE_NORMAL
- en: As plotted above, the function provides a monotonic transformation of X into
    a smaller scale, applicable for X > 0.
  prefs: []
  type: TYPE_NORMAL
- en: The function has a special property where the slope of the function at a point
    of X is 1/X. That is,
  prefs: []
  type: TYPE_NORMAL
- en: This means that a change of Y is equal to ΔX/X, which represents a proportional
    change of X.
  prefs: []
  type: TYPE_NORMAL
- en: As an example, suppose X has increased from 2000 to 2010 (0.5% increase).
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/9983b599902bdff1f5967868a8ec570c.png)'
  prefs: []
  type: TYPE_IMG
- en: As the above table shows, this means
  prefs: []
  type: TYPE_NORMAL
- en: Δlog(X) = log(2010) — log(2000) = 7.606–7.601=0.005,
  prefs: []
  type: TYPE_NORMAL
- en: which is equal to (X1-X0)/X0 = (2010–2000)/2000.
  prefs: []
  type: TYPE_NORMAL
- en: That is, 100Δlog(X) = 100ΔX/X, which measures % change of X, at a given point
    of X.
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: In general, for any variable Z, 100Δlog(Z) = 100ΔZ/Z, and it measures % change
    of Z, at a given point of Z.
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 3\. log transformation in a linear equation
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'As a result of the above-mentioned property of the logarithmic function, the
    log-transformed regressions can be used for a unit-free interpretation of a relationship,
    as the following table shows:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/2fbfee7aea8c59086a320445e7713328.png)'
  prefs: []
  type: TYPE_IMG
- en: Table 1 (Image Created by the Author)
  prefs: []
  type: TYPE_NORMAL
- en: 'Case 1: both Y and X are not transformed to natural logarithm. In this case,
    the slope coefficient β measures how much Y changes in response to one-unit change
    of X. That is, its interpretation depends on the units of Y and X.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Case 2: both Y and X are transformed to natural logarithm. The slope coefficient
    in this case measures a percentage change of Y in response to 1% change of X.
    This measure is called the *elasticity* of Y with respect to X, a *unit-free*
    measure of association widely used in economics.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Case 3: only X is transformed to natural logarithm. In this case, the slope
    coefficient is interpreted as (β/100) unit change of Y in response to 1% change
    of X.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Case 4: only Y is transformed to natural logarithm. In this case, the slope
    coefficient is interpreted as 100β% change of Y in response to 1 unit change of
    X.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Case 2 is useful when both Y and X are continuous variables in different units.
    Case 3 may be useful when Y takes a negative value or when Y is already expressed
    in percentage. Case 4 may be used when X is an indicator variable or a discrete
    variable. Hence, which case to take is up to the researcher, depending on the
    context of the research.
  prefs: []
  type: TYPE_NORMAL
- en: 4\. Other benefits of logarithmic transformation
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: The scale-down effect of the transformation can bring other benefits, which
    can deliver a more accurate or reliable estimation of the relationship.
  prefs: []
  type: TYPE_NORMAL
- en: When Y and X are in large numbers, the variability of estimation can be excessive.
    The log transformation monotonically transforms the data into a smaller scale,
    with a much smaller variability, which in turn can reduce the variability of estimation.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: In this process, the effect or influence of outliers can be substantially mitigated.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: As a result, the intrinsic relationship can be better revealed with improved
    linearity than otherwise.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: The transformed data can be closer to a normal distribution.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 5\. Application
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: I have selected a data set for Chicago house price from Kaggle, which can be
    accessed from [here](https://www.kaggle.com/datasets/tawfikelmetwally/chicago-house-price)
    (CC0). The variables include
  prefs: []
  type: TYPE_NORMAL
- en: 'Price: price of house'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Bedroom: number of bedrooms'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Space: size of house (in square feet)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Lot: width of a lot'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Tax: amount of annual tax'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Bathroom: number of bathrooms'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Garage: number of garage'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Condition: condition of house (1 if good , 0 otherwise)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Note that the units of Price, Lot and Tax variables are not provided in the
    data source.
  prefs: []
  type: TYPE_NORMAL
- en: Figure 1 below presents Q-Q plots of the Price variable and log(Price).
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/f555b74913895b7248eb8b61213a4222.png)'
  prefs: []
  type: TYPE_IMG
- en: Figure 1 (Image Created by the Author)
  prefs: []
  type: TYPE_NORMAL
- en: The blue straight line is the reference line where the sample quantiles should
    exactly match those of a normal distribution, under the assumption that the sample
    follows a normal distribution. The blue band indicates a 95% confidence band for
    the sample quantiles. If a distribution follows a normal distribution, then sample
    quantiles should be closely located to the reference line. A deviation from the
    reference line is statistically negligible at the 5% level of significance, if
    they are within the 95% confidence band.
  prefs: []
  type: TYPE_NORMAL
- en: As clear from Figure 1, the Price variable shows a degree of departure from
    normality, with a number of sample quantiles outside the 95% confidence band.
    However, log(Price) has nearly all of the sample quantiles within this band, indicating
    that the variable becomes closer to a normality as a result of the logarithmic
    transformation.
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/0a28549a85f6eaea7871ef2be992387f.png)'
  prefs: []
  type: TYPE_IMG
- en: Figure 2 (Image Created by the Author)
  prefs: []
  type: TYPE_NORMAL
- en: Figure 2 above shows the scatter plots of Price against Tax; and log(Price)
    against log(Tax). From the former, one may argue that the relationship is non-linear,
    with the presence of several outliers. With the log transformation, the effect
    of these outliers looks substantially diminished, and the relationship may well
    be considered to be linear.
  prefs: []
  type: TYPE_NORMAL
- en: Now I run the regression of Price against all other variables as explanatory
    variables.
  prefs: []
  type: TYPE_NORMAL
- en: 'Model 1: all variables are included as they are; and'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Model 2: all continuous variables (Price, Space, Lot, Tax) are transformed
    to natural logarithm, while other (discrete) variables are included as they are.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'The regression results are tabulated in Table 2 below:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/6c63db62c4a29cc5ad77aa88ef7754f4.png)'
  prefs: []
  type: TYPE_IMG
- en: Table 2 (Image Created by the Author)
  prefs: []
  type: TYPE_NORMAL
- en: Both models show sufficiently large R² values of more than 0.70\. However, the
    two values are not comparable because the dependent variables are in different
    scales.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Model 2 has all coefficients statistically significant at the 5% level. In contrast,
    Model 1 has two coefficients (those of Tax and Condition) that are statistically
    insignificant at a conventional level of significance, although the associated
    variables are economically important.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: In Model 1, the coefficient of Tax is small and statistically insignificant;
    but that of log(Tax) in Model 2 is large and statistically significant. This may
    be closely related to the observation made in the scatter plots in Figure 2, in
    relation to linearization by logarithmic transformation.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: To interpret the Space coefficient,
  prefs: []
  type: TYPE_NORMAL
- en: 'from Model 1, a house with a 100-square-foot extra space is expected to have
    a higher price by 1.3 units (other factors being held constant): see Case 1 in
    Table 1; and'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'from Model 2, a house with 10% larger space is expected to have a higher price
    by 1.63% (other factors being held constant): see Case 2 in Table 1.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: To interpret the Bathroom coefficient,
  prefs: []
  type: TYPE_NORMAL
- en: from Model 1, a house with an extra bathroom is expected to have a higher price
    by 7.251 units (other factors being held constant);
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'from Model 2, a house with an extra bathroom is expected to have a higher price
    by 13.3% (=100 × 0.133): see Case 4 in Table 1.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Other coefficients can also be interpreted in a similar manner.
  prefs: []
  type: TYPE_NORMAL
- en: With logarithmic transformation, the researchers can have unit-free interpretation
    of association, which is a lot easier to understand and interpret.
  prefs: []
  type: TYPE_NORMAL
- en: To conclude, a logarithmic transformation is useful in statistical modelling
    and machine learning methods. It is strongly recommended when the researcher wishes
    to have a unit-free interpretation of association. It can also be useful when
    the units of data are unknown or difficult to compare. In addition, it can also
    bring a range of benefits for more accurate and reliable estimation of the model
    and its parameters.
  prefs: []
  type: TYPE_NORMAL
