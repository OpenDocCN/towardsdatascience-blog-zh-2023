- en: Automated Python Application Testing Using GitHub Actions
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: ä½¿ç”¨GitHub Actionsè¿›è¡Œè‡ªåŠ¨åŒ–Pythonåº”ç”¨ç¨‹åºæµ‹è¯•
- en: åŸæ–‡ï¼š[https://towardsdatascience.com/automated-python-application-testing-using-github-actions-79606f3f9eb2](https://towardsdatascience.com/automated-python-application-testing-using-github-actions-79606f3f9eb2)
  id: totrans-1
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: åŸæ–‡ï¼š[https://towardsdatascience.com/automated-python-application-testing-using-github-actions-79606f3f9eb2](https://towardsdatascience.com/automated-python-application-testing-using-github-actions-79606f3f9eb2)
- en: How to run automatic testing on the `push` command
  id: totrans-2
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: å¦‚ä½•åœ¨`push`å‘½ä»¤ä¸Šè¿è¡Œè‡ªåŠ¨æµ‹è¯•
- en: '[](https://philip-wilkinson.medium.com/?source=post_page-----79606f3f9eb2--------------------------------)[![Philip
    Wilkinson, Ph.D.](../Images/9811fa38963c29193b01a5cf856d014f.png)](https://philip-wilkinson.medium.com/?source=post_page-----79606f3f9eb2--------------------------------)[](https://towardsdatascience.com/?source=post_page-----79606f3f9eb2--------------------------------)[![Towards
    Data Science](../Images/a6ff2676ffcc0c7aad8aaf1d79379785.png)](https://towardsdatascience.com/?source=post_page-----79606f3f9eb2--------------------------------)
    [Philip Wilkinson, Ph.D.](https://philip-wilkinson.medium.com/?source=post_page-----79606f3f9eb2--------------------------------)'
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: '[](https://philip-wilkinson.medium.com/?source=post_page-----79606f3f9eb2--------------------------------)[![Philip
    Wilkinson, Ph.D.](../Images/9811fa38963c29193b01a5cf856d014f.png)](https://philip-wilkinson.medium.com/?source=post_page-----79606f3f9eb2--------------------------------)[](https://towardsdatascience.com/?source=post_page-----79606f3f9eb2--------------------------------)[![Towards
    Data Science](../Images/a6ff2676ffcc0c7aad8aaf1d79379785.png)](https://towardsdatascience.com/?source=post_page-----79606f3f9eb2--------------------------------)
    [Philip Wilkinson, Ph.D.](https://philip-wilkinson.medium.com/?source=post_page-----79606f3f9eb2--------------------------------)'
- en: Â·Published in [Towards Data Science](https://towardsdatascience.com/?source=post_page-----79606f3f9eb2--------------------------------)
    Â·6 min readÂ·Mar 21, 2023
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: Â·å‘å¸ƒäº[Towards Data Science](https://towardsdatascience.com/?source=post_page-----79606f3f9eb2--------------------------------)
    Â·6åˆ†é’Ÿé˜…è¯»Â·2023å¹´3æœˆ21æ—¥
- en: --
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: --
- en: '![](../Images/cda5a053f31851154a45ff8b1b4be350.png)'
  id: totrans-6
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/cda5a053f31851154a45ff8b1b4be350.png)'
- en: Photo by [Roman Synkevych ğŸ‡ºğŸ‡¦](https://unsplash.com/@synkevych?utm_source=medium&utm_medium=referral)
    on [Unsplash](https://unsplash.com/?utm_source=medium&utm_medium=referral)
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: å›¾ç‰‡ç”±[Roman Synkevych ğŸ‡ºğŸ‡¦](https://unsplash.com/@synkevych?utm_source=medium&utm_medium=referral)æ‹æ‘„ï¼Œå‘å¸ƒåœ¨[Unsplash](https://unsplash.com/?utm_source=medium&utm_medium=referral)ä¸Š
- en: Testing your application is a crucial step in any software development or data
    science workflow. Testing allows you to ensure that the code functions as expected,
    reduces the likelihood of bugs or errors, and increases the overall quality and
    reliability of the software.
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: æµ‹è¯•ä½ çš„åº”ç”¨ç¨‹åºæ˜¯ä»»ä½•è½¯ä»¶å¼€å‘æˆ–æ•°æ®ç§‘å­¦å·¥ä½œæµç¨‹ä¸­çš„å…³é”®æ­¥éª¤ã€‚æµ‹è¯•å¯ä»¥ç¡®ä¿ä»£ç æŒ‰é¢„æœŸå·¥ä½œï¼Œå‡å°‘é”™è¯¯æˆ–æ¼æ´çš„å¯èƒ½æ€§ï¼Œæé«˜è½¯ä»¶çš„æ•´ä½“è´¨é‡å’Œå¯é æ€§ã€‚
- en: In some cases though testing can often be a burden and yourself or others may
    forget to run the testing suite before you commit to your repository. This is
    where automating your testing workflow through GitHub Actions comes into play,
    to reduce the manual effort required, ensure consistent testing and be able to
    detect issues early on.
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: ç„¶è€Œï¼Œåœ¨æŸäº›æƒ…å†µä¸‹ï¼Œæµ‹è¯•å¯èƒ½ä¼šæˆä¸ºè´Ÿæ‹…ï¼Œä½ æˆ–å…¶ä»–äººå¯èƒ½ä¼šå¿˜è®°åœ¨æäº¤åˆ°ä»“åº“ä¹‹å‰è¿è¡Œæµ‹è¯•å¥—ä»¶ã€‚è¿™æ—¶ï¼Œé€šè¿‡GitHub Actionsè‡ªåŠ¨åŒ–æµ‹è¯•å·¥ä½œæµç¨‹å¯ä»¥å‡å°‘æ‰‹åŠ¨å·¥ä½œï¼Œç¡®ä¿ä¸€è‡´çš„æµ‹è¯•ï¼Œå¹¶èƒ½å¤ŸåŠæ—©å‘ç°é—®é¢˜ã€‚
- en: In this article I will cover how to set up a GitHub Action workflow to automate
    the testing of your application. This includes creating a GitHub Action workflow,
    setting the trigger events, creating the jobs to run and adding a badge to your
    repository to show the tests are passing. By the end of this you will have a fully
    automated testing workflow that you can show to the world that your code is working
    as expected!
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘å°†è®²è§£å¦‚ä½•è®¾ç½®GitHub Actionå·¥ä½œæµç¨‹ä»¥è‡ªåŠ¨åŒ–åº”ç”¨ç¨‹åºæµ‹è¯•ã€‚è¿™åŒ…æ‹¬åˆ›å»ºGitHub Actionå·¥ä½œæµç¨‹ã€è®¾ç½®è§¦å‘äº‹ä»¶ã€åˆ›å»ºè¦è¿è¡Œçš„ä½œä¸šï¼Œå¹¶ä¸ºä½ çš„ä»“åº“æ·»åŠ å¾½ç« ä»¥æ˜¾ç¤ºæµ‹è¯•æ˜¯å¦é€šè¿‡ã€‚åˆ°æœ€åï¼Œä½ å°†æ‹¥æœ‰ä¸€ä¸ªå®Œå…¨è‡ªåŠ¨åŒ–çš„æµ‹è¯•å·¥ä½œæµç¨‹ï¼Œå¯ä»¥å‘ä¸–ç•Œå±•ç¤ºä½ çš„ä»£ç æ˜¯å¦æŒ‰é¢„æœŸå·¥ä½œï¼
- en: What is a GitHub Action?
  id: totrans-11
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: ä»€ä¹ˆæ˜¯GitHub Actionï¼Ÿ
- en: 'As per the description provided by GitHub:'
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: æ ¹æ®GitHubæä¾›çš„æè¿°ï¼š
- en: GitHub Actions makes it easy to automate all your software workflows, now with
    world-class CI/CD. Build, test, and deploy your code right from GitHub.
  id: totrans-13
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: GitHub Actionsä½¿å¾—è‡ªåŠ¨åŒ–æ‰€æœ‰çš„è½¯ä»¶å·¥ä½œæµç¨‹å˜å¾—ç®€å•ï¼Œç°åœ¨æ‹¥æœ‰ä¸–ç•Œçº§çš„CI/CDã€‚ä»GitHubç›´æ¥æ„å»ºã€æµ‹è¯•å’Œéƒ¨ç½²ä½ çš„ä»£ç ã€‚
- en: which means that GitHub Actions is an automation platform provided by GitHub
    that focuses on automating software development workflows.
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™æ„å‘³ç€GitHub Actionsæ˜¯ç”±GitHubæä¾›çš„è‡ªåŠ¨åŒ–å¹³å°ï¼Œä¸“æ³¨äºè‡ªåŠ¨åŒ–è½¯ä»¶å¼€å‘å·¥ä½œæµç¨‹ã€‚
- en: An Action itself is then a unit of code that can be executed as part of a GitHub
    Actions workflow. This aims to automate a specific task or workflow that is triggered
    by events in your GitHub repository.
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: Actionæœ¬èº«æ˜¯å¯ä»¥ä½œä¸ºGitHub Actionså·¥ä½œæµç¨‹çš„ä¸€éƒ¨åˆ†æ‰§è¡Œçš„ä»£ç å•å…ƒã€‚å…¶ç›®çš„æ˜¯è‡ªåŠ¨åŒ–ç”±GitHubä»“åº“ä¸­çš„äº‹ä»¶è§¦å‘çš„ç‰¹å®šä»»åŠ¡æˆ–å·¥ä½œæµç¨‹ã€‚
- en: Importantly, a GitHub Action can be written in any language, can run on any
    operating system and can interact with the code in your repository through the
    GitHub API. They can be used for a variety of tasks including automating the deployment
    of the latest builds, updating datasets in the code base, and for our purposes
    testing the latest push to the main branch.
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: é‡è¦çš„æ˜¯ï¼ŒGitHub Actionå¯ä»¥ç”¨ä»»ä½•è¯­è¨€ç¼–å†™ï¼Œå¯ä»¥åœ¨ä»»ä½•æ“ä½œç³»ç»Ÿä¸Šè¿è¡Œï¼Œå¹¶å¯ä»¥é€šè¿‡GitHub APIä¸å­˜å‚¨åº“ä¸­çš„ä»£ç è¿›è¡Œäº¤äº’ã€‚å®ƒä»¬å¯ä»¥ç”¨äºå„ç§ä»»åŠ¡ï¼ŒåŒ…æ‹¬è‡ªåŠ¨åŒ–æœ€æ–°æ„å»ºçš„éƒ¨ç½²ã€æ›´æ–°ä»£ç åº“ä¸­çš„æ•°æ®é›†ï¼Œä»¥åŠæˆ‘ä»¬çš„ç›®çš„â€”â€”æµ‹è¯•æ¨é€åˆ°ä¸»åˆ†æ”¯çš„æœ€æ–°å†…å®¹ã€‚
- en: Creating a GitHub Action
  id: totrans-17
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: åˆ›å»ºGitHub Actionã€‚
- en: Creating a GitHub Action action is a relatively simple process and starts by
    creating a new directory in your GitHub repository. This takes the form of a folder
    title `.github/workflows` which is recognised by GitHub as containing actions
    that we want GitHub to undertake.
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: åˆ›å»ºGitHub Actionæ˜¯ä¸€ä¸ªç›¸å¯¹ç®€å•çš„è¿‡ç¨‹ï¼Œé¦–å…ˆæ˜¯åœ¨ä½ çš„GitHubå­˜å‚¨åº“ä¸­åˆ›å»ºä¸€ä¸ªæ–°ç›®å½•ã€‚è¿™ä»¥ä¸€ä¸ªæ–‡ä»¶å¤¹æ ‡é¢˜`.github/workflows`çš„å½¢å¼å­˜åœ¨ï¼ŒGitHubä¼šè¯†åˆ«è¿™ä¸ªæ–‡ä»¶å¤¹åŒ…å«æˆ‘ä»¬å¸Œæœ›GitHubæ‰§è¡Œçš„æ“ä½œã€‚
- en: 'GitHub Actions uses YAML files that describe the action that we want GitHub
    to perform. This means that in the `.github/workflows` folder, we need to create
    a YAML file. For now we can call this `python-app.yml` and we can give it a name
    in the file:'
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: GitHub Actionsä½¿ç”¨æè¿°æˆ‘ä»¬å¸Œæœ›GitHubæ‰§è¡Œçš„æ“ä½œçš„YAMLæ–‡ä»¶ã€‚è¿™æ„å‘³ç€åœ¨`.github/workflows`æ–‡ä»¶å¤¹ä¸­ï¼Œæˆ‘ä»¬éœ€è¦åˆ›å»ºä¸€ä¸ªYAMLæ–‡ä»¶ã€‚ç°åœ¨æˆ‘ä»¬å¯ä»¥ç§°ä¹‹ä¸º`python-app.yml`ï¼Œå¹¶åœ¨æ–‡ä»¶ä¸­ç»™å®ƒä¸€ä¸ªåç§°ï¼š
- en: '[PRE0]'
  id: totrans-20
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: This is the base which we will then build on to run our testing suite.
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™æ˜¯æˆ‘ä»¬å°†åŸºäºæ­¤æ„å»ºæ¥è¿è¡Œæµ‹è¯•å¥—ä»¶çš„åŸºç¡€ã€‚
- en: Setting the trigger events
  id: totrans-22
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: è®¾ç½®è§¦å‘äº‹ä»¶ã€‚
- en: Once the file has been created, telling GitHub that we want it to run some action,
    we need to tell GitHub when we want this to take place. We do this by specifying
    the trigger events in the YAML file using the `on` key.
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: æ–‡ä»¶åˆ›å»ºå®Œæˆåï¼Œå‘ŠçŸ¥GitHubæˆ‘ä»¬å¸Œæœ›å®ƒè¿è¡ŒæŸäº›æ“ä½œï¼Œæˆ‘ä»¬éœ€è¦å‘Šè¯‰GitHubæˆ‘ä»¬å¸Œæœ›ä½•æ—¶è¿›è¡Œã€‚è¿™æ˜¯é€šè¿‡åœ¨YAMLæ–‡ä»¶ä¸­ä½¿ç”¨`on`å…³é”®å­—æŒ‡å®šè§¦å‘äº‹ä»¶æ¥å®Œæˆçš„ã€‚
- en: 'For testing, you typically want to run the full application testing suite when
    any changes are made to the application to ensure that the changes made do not
    introduce any bugs into the system. Given the best practices of Git this often
    falls at two points:'
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨æµ‹è¯•æ—¶ï¼Œä½ é€šå¸¸å¸Œæœ›åœ¨å¯¹åº”ç”¨è¿›è¡Œä»»ä½•æ›´æ”¹æ—¶è¿è¡Œå®Œæ•´çš„åº”ç”¨æµ‹è¯•å¥—ä»¶ï¼Œä»¥ç¡®ä¿æ‰€åšçš„æ›´æ”¹ä¸ä¼šå¼•å…¥ä»»ä½•ç³»ç»Ÿæ¼æ´ã€‚æ ¹æ®Gitçš„æœ€ä½³å®è·µï¼Œè¿™é€šå¸¸åœ¨ä¸¤ä¸ªç‚¹ä¸Šï¼š
- en: Any pushes to the `main` application branch
  id: totrans-25
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ä»»ä½•æ¨é€åˆ°`main`åº”ç”¨åˆ†æ”¯çš„æ“ä½œã€‚
- en: Any pull requests to the `main` application branch.
  id: totrans-26
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å¯¹`main`åº”ç”¨åˆ†æ”¯çš„ä»»ä½•æ‹‰å–è¯·æ±‚ã€‚
- en: 'This is because the latest deployment of your application should normally come
    from the `main` branch of your repository. In our YAML file this can be specified
    using:'
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™æ˜¯å› ä¸ºä½ çš„åº”ç”¨ç¨‹åºçš„æœ€æ–°éƒ¨ç½²é€šå¸¸åº”è¯¥æ¥è‡ªä½ çš„å­˜å‚¨åº“çš„`main`åˆ†æ”¯ã€‚åœ¨æˆ‘ä»¬çš„YAMLæ–‡ä»¶ä¸­ï¼Œè¿™å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å†…å®¹æŒ‡å®šï¼š
- en: '[PRE1]'
  id: totrans-28
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: Here the `push` key is used to specify that we want the action to be run on
    a push to the `main` branch and we use the `pull_request` key to specify we want
    the testing suite to also be run when a pull request is made to the main branch.
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™é‡Œä½¿ç”¨`push`å…³é”®å­—æŒ‡å®šæˆ‘ä»¬å¸Œæœ›åœ¨æ¨é€åˆ°`main`åˆ†æ”¯æ—¶è¿è¡Œè¯¥æ“ä½œï¼Œå¹¶ä½¿ç”¨`pull_request`å…³é”®å­—æŒ‡å®šæˆ‘ä»¬å¸Œæœ›åœ¨å‘ä¸»åˆ†æ”¯å‘èµ·æ‹‰å–è¯·æ±‚æ—¶ä¹Ÿè¿è¡Œæµ‹è¯•å¥—ä»¶ã€‚
- en: This ensures that any changes to the main branch are fully tested before any
    deployment takes place and is run whenever the changes are made public.
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™ç¡®ä¿äº†ä¸»åˆ†æ”¯ä¸Šçš„ä»»ä½•æ›´æ”¹åœ¨éƒ¨ç½²ä¹‹å‰éƒ½ç»è¿‡å…¨é¢æµ‹è¯•ï¼Œå¹¶ä¸”åœ¨æ›´æ”¹å…¬å¼€æ—¶ä¼šè¿è¡Œã€‚
- en: Create the job to run
  id: totrans-31
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: åˆ›å»ºè¦è¿è¡Œçš„ä½œä¸šã€‚
- en: Now that we have told GitHub when we want to run an action, we need to actually
    tell it what we actually want to run. This is done using the `jobs` key which
    specifies the job that will be run as part of the GitHub Action.
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: ç°åœ¨æˆ‘ä»¬å·²ç»å‘Šè¯‰GitHubæˆ‘ä»¬å¸Œæœ›ä½•æ—¶è¿è¡Œä¸€ä¸ªæ“ä½œï¼Œæˆ‘ä»¬éœ€è¦å®é™…å‘Šè¯‰å®ƒæˆ‘ä»¬å¸Œæœ›è¿è¡Œä»€ä¹ˆã€‚è¿™æ˜¯é€šè¿‡ä½¿ç”¨`jobs`å…³é”®å­—æ¥å®Œæˆçš„ï¼Œå®ƒæŒ‡å®šäº†ä½œä¸ºGitHub
    Actionçš„ä¸€éƒ¨åˆ†å°†è¦è¿è¡Œçš„ä½œä¸šã€‚
- en: 'Within this `job` we need to specify three main things:'
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨è¿™ä¸ª`job`ä¸­ï¼Œæˆ‘ä»¬éœ€è¦æŒ‡å®šä¸‰ä¸ªä¸»è¦å†…å®¹ï¼š
- en: The name of the job that we want to run
  id: totrans-34
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬å¸Œæœ›è¿è¡Œçš„ä½œä¸šåç§°ã€‚
- en: The platform we want the workflow to run on
  id: totrans-35
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬å¸Œæœ›å·¥ä½œæµè¿è¡Œçš„å¹³å°ã€‚
- en: The `steps` that we want to be undertaken as part of the workflow
  id: totrans-36
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å·¥ä½œæµä¸­æˆ‘ä»¬å¸Œæœ›æ‰§è¡Œçš„`steps`ã€‚
- en: This is done by first using the key `jobs:` followed by the name of the job
    we want to undertake. For now we can simply call this `build` .
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™é¦–å…ˆé€šè¿‡ä½¿ç”¨`jobs:`å…³é”®å­—åŠæˆ‘ä»¬æƒ³è¦è¿›è¡Œçš„å·¥ä½œçš„åç§°æ¥å®Œæˆã€‚ç°åœ¨æˆ‘ä»¬å¯ä»¥ç®€å•åœ°ç§°ä¹‹ä¸º`build`ã€‚
- en: 'Following the `build` key, we then need to specify what platform we want the
    job to run on. In our case we can specify `runs-on: ubuntu-latest` , assuming
    that Linux is a suitable platform for our testing suite.'
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: 'åœ¨`build`å…³é”®å­—ä¹‹åï¼Œæˆ‘ä»¬éœ€è¦æŒ‡å®šæˆ‘ä»¬å¸Œæœ›å·¥ä½œè¿è¡Œçš„å¹³å°ã€‚åœ¨æˆ‘ä»¬çš„æ¡ˆä¾‹ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥æŒ‡å®š`runs-on: ubuntu-latest`ï¼Œå‡è®¾Linuxæ˜¯æˆ‘ä»¬æµ‹è¯•å¥—ä»¶çš„åˆé€‚å¹³å°ã€‚'
- en: 'We then specify a series of steps that we want to undertake within this `job`
    . To run our testing suite we will need to:'
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: ç„¶åæˆ‘ä»¬æŒ‡å®šä¸€ç³»åˆ—æ­¥éª¤ï¼Œæˆ‘ä»¬å¸Œæœ›åœ¨è¿™ä¸ª `job` ä¸­è¿›è¡Œã€‚è¦è¿è¡Œæˆ‘ä»¬çš„æµ‹è¯•å¥—ä»¶ï¼Œæˆ‘ä»¬éœ€è¦ï¼š
- en: Checkout the repository to the run platform
  id: totrans-40
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å°†ä»£ç åº“æ£€å‡ºåˆ°è¿è¡Œå¹³å°
- en: Setup Python on the environment
  id: totrans-41
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: åœ¨ç¯å¢ƒä¸­è®¾ç½® Python
- en: Install the dependencies required to run the testing suite
  id: totrans-42
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å®‰è£…è¿è¡Œæµ‹è¯•å¥—ä»¶æ‰€éœ€çš„ä¾èµ–é¡¹
- en: Run the testing suite itself
  id: totrans-43
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: è¿è¡Œæµ‹è¯•å¥—ä»¶æœ¬èº«
- en: 'This can be done with the following commands:'
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™å¯ä»¥é€šè¿‡ä»¥ä¸‹å‘½ä»¤å®Œæˆï¼š
- en: '[PRE2]'
  id: totrans-45
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: 'Explaining these steps:'
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: è§£é‡Šè¿™äº›æ­¥éª¤ï¼š
- en: '`uses: actions/checkout@v3` tells the runner that we want to use the `actions/checkout@v3`
    functionality which checks out the repository code into the job''s workspace.'
  id: totrans-47
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`uses: actions/checkout@v3` å‘Šè¯‰è¿è¡Œå™¨æˆ‘ä»¬æƒ³è¦ä½¿ç”¨ `actions/checkout@v3` åŠŸèƒ½ï¼Œè¿™ä¼šå°†ä»£ç åº“çš„ä»£ç æ£€å‡ºåˆ°ä½œä¸šçš„å·¥ä½œåŒºã€‚'
- en: '`name: Set up Python 3.10` creates a step that setups the Python environment
    on the runner to use version 3.10.'
  id: totrans-48
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`name: Set up Python 3.10` åˆ›å»ºä¸€ä¸ªæ­¥éª¤ï¼Œè®¾ç½®è¿è¡Œå™¨ä¸Šçš„ Python ç¯å¢ƒä»¥ä½¿ç”¨ 3.10 ç‰ˆæœ¬ã€‚'
- en: '`name: Install dependencies` installs the necessary dependencies for the project
    which includes those specified in the `requirements.txt` file.'
  id: totrans-49
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`name: Install dependencies` å®‰è£…é¡¹ç›®æ‰€éœ€çš„ä¾èµ–é¡¹ï¼ŒåŒ…æ‹¬ `requirements.txt` æ–‡ä»¶ä¸­æŒ‡å®šçš„é‚£äº›ã€‚'
- en: '`name: Test with pytest` Runs the testing suite using the `pytest` command
    which will fail the job if a test doesnâ€™t pass.'
  id: totrans-50
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`name: Test with pytest` ä½¿ç”¨ `pytest` å‘½ä»¤è¿è¡Œæµ‹è¯•å¥—ä»¶ï¼Œå¦‚æœæµ‹è¯•æœªé€šè¿‡åˆ™ä¼šä½¿ä½œä¸šå¤±è´¥ã€‚'
- en: For this, we split up the steps using the `name` key which means that we can
    clearly identify at which point in our workflow, if any, fails. We can then use
    these names to be able to rectify any issues quickly and creates a jobs workflow
    that looks like the image below.
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸ºæ­¤ï¼Œæˆ‘ä»¬ä½¿ç”¨ `name` é”®å°†æ­¥éª¤æ‹†åˆ†ï¼Œè¿™æ„å‘³ç€æˆ‘ä»¬å¯ä»¥æ¸…æ¥šåœ°è¯†åˆ«åœ¨å·¥ä½œæµä¸­å“ªä¸ªç‚¹ï¼ˆå¦‚æœæœ‰çš„è¯ï¼‰å¤±è´¥ã€‚ç„¶åæˆ‘ä»¬å¯ä»¥ä½¿ç”¨è¿™äº›åç§°å¿«é€Ÿä¿®å¤ä»»ä½•é—®é¢˜ï¼Œå¹¶åˆ›å»ºä¸€ä¸ªå¦‚ä¸‹å›¾æ‰€ç¤ºçš„ä½œä¸šå·¥ä½œæµã€‚
- en: '![](../Images/dcf70df39e391c5e68eec6c5e6705c92.png)'
  id: totrans-52
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/dcf70df39e391c5e68eec6c5e6705c92.png)'
- en: Image by Author
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: ä½œè€…æä¾›çš„å›¾ç‰‡
- en: Adding a badge to your repository
  id: totrans-54
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: å‘ä½ çš„ä»£ç åº“æ·»åŠ å¾½ç« 
- en: Creating the above file will tell GitHub that we want to run the testing workflow
    for our repository but the anyone looking at our repository wonâ€™t necessarily
    see that straight away. To rectify that we can create a badge that will show up
    in our README markdown document to clearly show that our tests are passing.
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: åˆ›å»ºä¸Šè¿°æ–‡ä»¶å°†å‘Šè¯‰ GitHub æˆ‘ä»¬æƒ³è¦ä¸ºæˆ‘ä»¬çš„ä»£ç åº“è¿è¡Œæµ‹è¯•å·¥ä½œæµï¼Œä½†ä»»ä½•æŸ¥çœ‹æˆ‘ä»¬ä»£ç åº“çš„äººä¸ä¼šç«‹å³çœ‹åˆ°è¿™ä¸€ç‚¹ã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬å¯ä»¥åˆ›å»ºä¸€ä¸ªå¾½ç« ï¼Œå®ƒå°†å‡ºç°åœ¨æˆ‘ä»¬çš„
    README Markdown æ–‡æ¡£ä¸­ï¼Œæ¸…æ™°åœ°æ˜¾ç¤ºæˆ‘ä»¬çš„æµ‹è¯•æ­£åœ¨é€šè¿‡ã€‚
- en: '![](../Images/ffc51f73697446cece6faacc1e932c6a.png)'
  id: totrans-56
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/ffc51f73697446cece6faacc1e932c6a.png)'
- en: Image by Author
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: ä½œè€…æä¾›çš„å›¾ç‰‡
- en: 'This tells any new user at a single glance that the build on the main branch
    is stable and that the application is tested. The syntax for this badge follows:'
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™å¯ä»¥è®©ä»»ä½•æ–°ç”¨æˆ·ä¸€ç›®äº†ç„¶åœ°çŸ¥é“ä¸»åˆ†æ”¯ä¸Šçš„æ„å»ºæ˜¯ç¨³å®šçš„ï¼Œå¹¶ä¸”åº”ç”¨ç¨‹åºå·²è¢«æµ‹è¯•ã€‚æ­¤å¾½ç« çš„è¯­æ³•å¦‚ä¸‹ï¼š
- en: '[PRE3]'
  id: totrans-59
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: 'For my repository that I am currently developing, this translates into:'
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: å¯¹äºæˆ‘å½“å‰å¼€å‘çš„ä»£ç åº“ï¼Œè¿™è½¬åŒ–ä¸ºï¼š
- en: '[PRE4]'
  id: totrans-61
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: Where Iâ€™ve also added a link to the workflow file as well so that people looking
    at the repository can also see what this badge is clearly saying.
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘è¿˜æ·»åŠ äº†ä¸€ä¸ªé“¾æ¥åˆ°å·¥ä½œæµæ–‡ä»¶ï¼Œä»¥ä¾¿æŸ¥çœ‹ä»£ç åº“çš„äººä¹Ÿå¯ä»¥æ¸…æ¥šåœ°çœ‹åˆ°è¿™ä¸ªå¾½ç« æ‰€è¡¨ç¤ºçš„å†…å®¹ã€‚
- en: Conclusions
  id: totrans-63
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: ç»“è®º
- en: Testing your code is a key part of any software engineering or data science
    workflow but it can also be an easy step to forget before you push your changes
    to the main branch. To simply this process and ensure testing consistency across
    all developers, you can create a GitHub Action that will automate your testing
    workflow. In the article above we have shown how you can add this to your own
    repository in a few simple steps. An important part of this is telling new users
    of your application that you have tested your application, and this can come in
    the form of a badge that you can add to your README file.
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: æµ‹è¯•ä½ çš„ä»£ç æ˜¯ä»»ä½•è½¯ä»¶å·¥ç¨‹æˆ–æ•°æ®ç§‘å­¦å·¥ä½œæµçš„å…³é”®éƒ¨åˆ†ï¼Œä½†å®ƒä¹Ÿå¯èƒ½æ˜¯ä¸€ä¸ªå®¹æ˜“åœ¨æ¨é€æ›´æ”¹åˆ°ä¸»åˆ†æ”¯ä¹‹å‰è¢«å¿˜è®°çš„æ­¥éª¤ã€‚ä¸ºäº†ç®€åŒ–è¿™ä¸ªè¿‡ç¨‹å¹¶ç¡®ä¿æ‰€æœ‰å¼€å‘è€…ä¹‹é—´æµ‹è¯•çš„ä¸€è‡´æ€§ï¼Œä½ å¯ä»¥åˆ›å»ºä¸€ä¸ª
    GitHub Action æ¥è‡ªåŠ¨åŒ–ä½ çš„æµ‹è¯•å·¥ä½œæµã€‚åœ¨ä¸Šé¢çš„æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬å±•ç¤ºäº†å¦‚ä½•é€šè¿‡å‡ ä¸ªç®€å•çš„æ­¥éª¤å°†å…¶æ·»åŠ åˆ°ä½ è‡ªå·±çš„ä»£ç åº“ä¸­ã€‚ä¸€ä¸ªé‡è¦çš„éƒ¨åˆ†æ˜¯å‘Šè¯‰ä½ åº”ç”¨ç¨‹åºçš„æ–°ç”¨æˆ·ä½ å·²ç»æµ‹è¯•äº†ä½ çš„åº”ç”¨ç¨‹åºï¼Œè¿™å¯ä»¥ä»¥ä½ å¯ä»¥æ·»åŠ åˆ°
    README æ–‡ä»¶ä¸­çš„å¾½ç« å½¢å¼å‘ˆç°ã€‚
- en: 'An example of a testing workflow can be found in my repository:'
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘çš„ä»£ç åº“ä¸­å¯ä»¥æ‰¾åˆ°æµ‹è¯•å·¥ä½œæµçš„ç¤ºä¾‹ï¼š
- en: '[https://github.com/PhilipDW183/flask_petrol_map](https://github.com/PhilipDW183/flask_petrol_map)'
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: '[https://github.com/PhilipDW183/flask_petrol_map](https://github.com/PhilipDW183/flask_petrol_map)'
