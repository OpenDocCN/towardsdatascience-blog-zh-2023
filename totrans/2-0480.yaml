- en: Causal Python â€” Elon Muskâ€™s Tweet, Our Googling Habits, and Bayesian Synthetic
    Control
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: å› æœPythonâ€”â€”åŸƒéš†Â·é©¬æ–¯å…‹çš„æ¨æ–‡ï¼Œæˆ‘ä»¬çš„æœç´¢ä¹ æƒ¯ï¼Œä»¥åŠè´å¶æ–¯åˆæˆæ§åˆ¶
- en: åŸæ–‡ï¼š[https://towardsdatascience.com/causal-python-elon-musks-tweet-our-googling-habits-bayesian-synthetic-control-187114fc4aa8](https://towardsdatascience.com/causal-python-elon-musks-tweet-our-googling-habits-bayesian-synthetic-control-187114fc4aa8)
  id: totrans-1
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: åŸæ–‡ï¼š[https://towardsdatascience.com/causal-python-elon-musks-tweet-our-googling-habits-bayesian-synthetic-control-187114fc4aa8](https://towardsdatascience.com/causal-python-elon-musks-tweet-our-googling-habits-bayesian-synthetic-control-187114fc4aa8)
- en: Applying synthetic control with a Bayesian twist to quantify the impact of a
    tweet (using CausalPy)
  id: totrans-2
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: ä½¿ç”¨å¸¦æœ‰è´å¶æ–¯æ”¹è¿›çš„åˆæˆæ§åˆ¶é‡åŒ–æ¨æ–‡çš„å½±å“ï¼ˆä½¿ç”¨CausalPyï¼‰
- en: '[](https://aleksander-molak.medium.com/?source=post_page-----187114fc4aa8--------------------------------)[![Aleksander
    Molak](../Images/7fca5018f6ce88297fae31cef1fe0e6c.png)](https://aleksander-molak.medium.com/?source=post_page-----187114fc4aa8--------------------------------)[](https://towardsdatascience.com/?source=post_page-----187114fc4aa8--------------------------------)[![Towards
    Data Science](../Images/a6ff2676ffcc0c7aad8aaf1d79379785.png)](https://towardsdatascience.com/?source=post_page-----187114fc4aa8--------------------------------)
    [Aleksander Molak](https://aleksander-molak.medium.com/?source=post_page-----187114fc4aa8--------------------------------)'
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: '[](https://aleksander-molak.medium.com/?source=post_page-----187114fc4aa8--------------------------------)[![Aleksander
    Molak](../Images/7fca5018f6ce88297fae31cef1fe0e6c.png)](https://aleksander-molak.medium.com/?source=post_page-----187114fc4aa8--------------------------------)[](https://towardsdatascience.com/?source=post_page-----187114fc4aa8--------------------------------)[![Towards
    Data Science](../Images/a6ff2676ffcc0c7aad8aaf1d79379785.png)](https://towardsdatascience.com/?source=post_page-----187114fc4aa8--------------------------------)
    [Aleksander Molak](https://aleksander-molak.medium.com/?source=post_page-----187114fc4aa8--------------------------------)'
- en: Â·Published in [Towards Data Science](https://towardsdatascience.com/?source=post_page-----187114fc4aa8--------------------------------)
    Â·11 min readÂ·Jan 8, 2023
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: Â·å‘è¡¨äº[Towards Data Science](https://towardsdatascience.com/?source=post_page-----187114fc4aa8--------------------------------)
    Â·é˜…è¯»æ—¶é—´11åˆ†é’ŸÂ·2023å¹´1æœˆ8æ—¥
- en: --
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: --
- en: '![](../Images/aeed401fdb4cd97fd78b62ea9d006cd6.png)'
  id: totrans-6
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/aeed401fdb4cd97fd78b62ea9d006cd6.png)'
- en: Image by [Tolga AslantÃ¼rk](https://www.pexels.com/@tolgaaslanturk/) at [Pexels](https://www.pexels.com/photo/a-bird-flying-in-the-sky-11017085/)
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: å›¾ç‰‡ç”±[Tolga AslantÃ¼rk](https://www.pexels.com/@tolgaaslanturk/)åœ¨[Pexels](https://www.pexels.com/photo/a-bird-flying-in-the-sky-11017085/)æä¾›
- en: October 2022 brought a lot of novelty to Twitterâ€™s Headquarters in San Francisco
    (and a sink). Elon Musk, the CEO of Tesla and SpaceX became the new owner and
    the CEO of the company on October 27.
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: 2022å¹´10æœˆç»™Twitteræ—§é‡‘å±±æ€»éƒ¨ï¼ˆä»¥åŠä¸€ä¸ªæ°´æ§½ï¼‰å¸¦æ¥äº†è®¸å¤šæ–°å˜åŒ–ã€‚ç‰¹æ–¯æ‹‰å’ŒSpaceXçš„é¦–å¸­æ‰§è¡Œå®˜åŸƒéš†Â·é©¬æ–¯å…‹äº10æœˆ27æ—¥æˆä¸ºå…¬å¸æ–°ä»»æ‰€æœ‰è€…å’Œé¦–å¸­æ‰§è¡Œå®˜ã€‚
- en: Some audiences welcomed the change warmly while others remained skeptical.
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸€äº›è§‚ä¼—çƒ­çƒˆæ¬¢è¿è¿™ä¸€å˜åŒ–ï¼Œè€Œå¦ä¸€äº›åˆ™ä¿æŒæ€€ç–‘æ€åº¦ã€‚
- en: A day later, on October 28, Musk tweeted â€œ*the bird is freed*â€.
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸€å¤©åï¼Œå³10æœˆ28æ—¥ï¼Œé©¬æ–¯å…‹æ¨ç‰¹ä¸Šå‘äº†â€œ*é¸Ÿå„¿è¢«é‡Šæ”¾äº†*â€ã€‚
- en: How powerful a tweet can be?
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: æ¨æ–‡çš„å¨åŠ›æœ‰å¤šå¤§ï¼Ÿ
- en: Letâ€™s see!
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: è®©æˆ‘ä»¬çœ‹çœ‹å§ï¼
- en: '![](../Images/a6ce1b8901be7f13324a66b0f23244aa.png)'
  id: totrans-13
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/a6ce1b8901be7f13324a66b0f23244aa.png)'
- en: Image by [Laura Tancredi](https://www.pexels.com/@laura-tancredi/) at [Pexels](https://www.pexels.com/photo/curving-shaped-fragment-of-modern-building-7078717/).
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: å›¾ç‰‡ç”±[Laura Tancredi](https://www.pexels.com/@laura-tancredi/)åœ¨[Pexels](https://www.pexels.com/photo/curving-shaped-fragment-of-modern-building-7078717/)æä¾›ã€‚
- en: Objective
  id: totrans-15
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: ç›®æ ‡
- en: In this blog post weâ€™ll use [**CausalPy**](https://causalpy.readthedocs.io/en/latest/)
    â€” a brand new Python causal package from [PyMC Developers](https://medium.com/u/7c6b7b6803cd?source=post_page-----187114fc4aa8--------------------------------)
    ([https://www.pymc-labs.io](https://www.pymc-labs.io)) to estimate Muskâ€™s tweetâ€™s
    impact on our googling behaviors leveraging a powerful causal technique called
    **synthetic control.** Weâ€™ll discuss the basics of the methodâ€™s mechanics, implement
    it step-by-step, and analyze potential problems with our approach, linking to
    additional resources on the way.
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨è¿™ç¯‡åšæ–‡ä¸­ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨[**CausalPy**](https://causalpy.readthedocs.io/en/latest/)â€”â€”æ¥è‡ª[PyMC
    Developers](https://medium.com/u/7c6b7b6803cd?source=post_page-----187114fc4aa8--------------------------------)ï¼ˆ[https://www.pymc-labs.io](https://www.pymc-labs.io)ï¼‰çš„å…¨æ–°Pythonå› æœåŒ…ï¼Œæ¥ä¼°è®¡é©¬æ–¯å…‹çš„æ¨æ–‡å¯¹æˆ‘ä»¬æœç´¢è¡Œä¸ºçš„å½±å“ï¼Œè¿ç”¨ä¸€ç§å¼ºå¤§çš„å› æœæŠ€æœ¯å«åš**åˆæˆæ§åˆ¶**ã€‚æˆ‘ä»¬å°†è®¨è®ºè¯¥æ–¹æ³•çš„åŸºæœ¬åŸç†ï¼Œé€æ­¥å®æ–½ï¼Œå¹¶åˆ†ææˆ‘ä»¬æ–¹æ³•çš„æ½œåœ¨é—®é¢˜ï¼ŒåŒæ—¶é“¾æ¥åˆ°é¢å¤–çš„èµ„æºã€‚
- en: Ready?
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: å‡†å¤‡å¥½äº†å—ï¼Ÿ
- en: Introduction
  id: totrans-18
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: ä»‹ç»
- en: Early November 2022, I had a conference talk scheduled to talk about quantifying
    effects of interventions in time series data. I thought that it would be interesting
    to use a real-world example in the presentation and I recalled Muskâ€™s tweet. There
    was a lot of buzz on the internet around Twitterâ€™s acquisition and I wondered
    to what extent a tweet related to an event like this can influence our behaviors
    beyond traditional social media activities, for instance how does it impact how
    often we Google for â€œ*Twitter*â€?
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: '-   2022 å¹´ 11 æœˆåˆï¼Œæˆ‘å®‰æ’äº†ä¸€æ¬¡ä¼šè®®æ¼”è®²ï¼Œè®²è§£å¦‚ä½•é‡åŒ–æ—¶é—´åºåˆ—æ•°æ®ä¸­çš„å¹²é¢„æ•ˆæœã€‚æˆ‘è®¤ä¸ºåœ¨æ¼”è®²ä¸­ä½¿ç”¨ä¸€ä¸ªçœŸå®ä¸–ç•Œçš„ä¾‹å­ä¼šå¾ˆæœ‰è¶£ï¼Œäºæ˜¯æˆ‘æƒ³åˆ°äº†é©¬æ–¯å…‹çš„æ¨æ–‡ã€‚å…³äº
    Twitter æ”¶è´­æ¡ˆåœ¨äº’è”ç½‘ä¸Šå¼•å‘äº†å¾ˆå¤šè®¨è®ºï¼Œæˆ‘æƒ³çŸ¥é“è¿™æ ·çš„æ¨æ–‡åœ¨å¤šå¤§ç¨‹åº¦ä¸Šèƒ½å½±å“æˆ‘ä»¬çš„è¡Œä¸ºï¼Œè¶…è¶Šä¼ ç»Ÿçš„ç¤¾äº¤åª’ä½“æ´»åŠ¨ï¼Œä¾‹å¦‚å®ƒå¦‚ä½•å½±å“æˆ‘ä»¬æœç´¢â€œ*Twitter*â€çš„é¢‘ç‡ï¼Ÿ'
- en: '**Embed 1.** Elon Muskâ€™s tweet.'
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: '-   **åµŒå…¥ 1.** åŸƒéš†Â·é©¬æ–¯å…‹çš„æ¨æ–‡ã€‚'
- en: But first things first.
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: '-   ä½†é¦–å…ˆè¦è®²æ¸…æ¥šä¸€ä»¶äº‹ã€‚'
- en: Causality & Experiments
  id: totrans-22
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '-   å› æœå…³ç³»ä¸å®éªŒ'
- en: Causal analysis seeks to identify and/or quantify the effects of interventions
    (also known as treatments) on the outcomes of interest. We change something in
    the world and we want to understand how another thing changes as a result of our
    action. For example, a pharmaceutical company might be interested in determining
    the effect of a new drug on a particular group of patients. This might be challenging
    for a number of reasons, yet the most basic one is that itâ€™s impossible to observe
    the same patient both taking the drug and not taking it at the same time (this
    is known as the fundamental problem of causal inference).
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: '-   å› æœåˆ†ææ—¨åœ¨è¯†åˆ«å’Œ/æˆ–é‡åŒ–å¹²é¢„ï¼ˆä¹Ÿç§°ä¸ºå¤„ç†ï¼‰å¯¹æ„Ÿå…´è¶£ç»“æœçš„å½±å“ã€‚æˆ‘ä»¬åœ¨ä¸–ç•Œä¸Šæ”¹å˜ä¸€äº›ä¸œè¥¿ï¼Œæƒ³è¦ç†è§£æˆ‘ä»¬è¡ŒåŠ¨çš„ç»“æœå¦‚ä½•æ”¹å˜å…¶ä»–ä¸œè¥¿ã€‚ä¾‹å¦‚ï¼Œä¸€å®¶åˆ¶è¯å…¬å¸å¯èƒ½å¯¹ç¡®å®šæ–°è¯å¯¹ç‰¹å®šæ‚£è€…ç¾¤ä½“çš„æ•ˆæœæ„Ÿå…´è¶£ã€‚è¿™å¯èƒ½å› ä¸ºå¤šç§åŸå› è€Œå…·æœ‰æŒ‘æˆ˜æ€§ï¼Œä½†æœ€åŸºæœ¬çš„åŸå› æ˜¯æ— æ³•åœ¨åŒä¸€æ—¶é—´è§‚å¯Ÿåˆ°ä¸€ä¸ªæ‚£è€…åŒæ—¶æœç”¨è¯ç‰©å’Œä¸æœç”¨è¯ç‰©ï¼ˆè¿™è¢«ç§°ä¸ºå› æœæ¨æ–­çš„åŸºæœ¬é—®é¢˜ï¼‰ã€‚'
- en: People figured out many smart ways to overcome this challenge. The one considered
    a golden standard today is called a randomized experiment (or randomized controlled
    trial; **RCT**)Â¹. In an RCT participants (or other entities in general sometimes
    called ***units***) are randomly assigned to either the treatment group (with
    treatment) or the control group (without treatment)Â².
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: '-   äººä»¬æ‰¾åˆ°è®¸å¤šèªæ˜çš„æ–¹æ³•æ¥å…‹æœè¿™ä¸ªæŒ‘æˆ˜ã€‚å¦‚ä»Šè¢«è®¤ä¸ºæ˜¯é»„é‡‘æ ‡å‡†çš„æ–¹æ³•ç§°ä¸ºéšæœºå®éªŒï¼ˆæˆ–éšæœºå¯¹ç…§è¯•éªŒï¼›**RCT**ï¼‰Â¹ã€‚åœ¨ RCT ä¸­ï¼Œå‚ä¸è€…ï¼ˆæˆ–ä¸€èˆ¬æƒ…å†µä¸‹æœ‰æ—¶ç§°ä¸º
    ***å•ä½***) è¢«éšæœºåˆ†é…åˆ°æ²»ç–—ç»„ï¼ˆæ¥å—æ²»ç–—ï¼‰æˆ–å¯¹ç…§ç»„ï¼ˆä¸æ¥å—æ²»ç–—ï¼‰Â²ã€‚'
- en: '[](/causal-kung-fu-in-python-3-basic-techniques-to-jump-start-your-causal-inference-journey-tonight-ae09181704f7?source=post_page-----187114fc4aa8--------------------------------)
    [## Causal Python â€” 3 Simple Techniques to Jump-Start Your Causal Inference Journey
    Today'
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: '-   [](/causal-kung-fu-in-python-3-basic-techniques-to-jump-start-your-causal-inference-journey-tonight-ae09181704f7?source=post_page-----187114fc4aa8--------------------------------)
    [## å› æœ Python â€” 3 ç§ç®€å•æŠ€æœ¯ï¼ŒåŠ©åŠ›ä½ ä»Šå¤©å¼€å§‹å› æœæ¨æ–­ä¹‹æ—…'
- en: Learn 3 techniques for causal effect identification and implement them in Python
    without losing months, weeks or daysâ€¦
  id: totrans-26
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '-   å­¦ä¹  3 ç§å› æœæ•ˆåº”è¯†åˆ«æŠ€æœ¯ï¼Œå¹¶åœ¨ Python ä¸­å®ç°å®ƒä»¬ï¼Œè€Œæ— éœ€è€—è´¹å‡ ä¸ªæœˆã€å‡ å‘¨æˆ–å‡ å¤©çš„æ—¶é—´â€¦'
- en: towardsdatascience.com](/causal-kung-fu-in-python-3-basic-techniques-to-jump-start-your-causal-inference-journey-tonight-ae09181704f7?source=post_page-----187114fc4aa8--------------------------------)
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: '-   towardsdatascience.com](/causal-kung-fu-in-python-3-basic-techniques-to-jump-start-your-causal-inference-journey-tonight-ae09181704f7?source=post_page-----187114fc4aa8--------------------------------)'
- en: We expect that in a well-designed RCT randomization will balance the treatment
    and control groups in terms of [**confounders**](https://causalpython.io/#confounding)
    and other important characteristics and this approach is usually pretty successful!
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: '-   æˆ‘ä»¬æœŸæœ›åœ¨è®¾è®¡è‰¯å¥½çš„ RCT ä¸­ï¼ŒéšæœºåŒ–å°†å¹³è¡¡æ²»ç–—ç»„å’Œå¯¹ç…§ç»„åœ¨ [**æ··æ‚å› ç´ **](https://causalpython.io/#confounding)
    å’Œå…¶ä»–é‡è¦ç‰¹å¾æ–¹é¢çš„å·®å¼‚ï¼Œè¿™ç§æ–¹æ³•é€šå¸¸ç›¸å½“æˆåŠŸï¼'
- en: Unfortunately, experiments are not always available for economic, ethical or
    organizational reasons among others.
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: '-   ä¸å¹¸çš„æ˜¯ï¼Œç”±äºç»æµã€ä¼¦ç†æˆ–ç»„ç»‡ç­‰å¤šç§åŸå› ï¼Œå®éªŒå¹¶ä¸æ€»æ˜¯å¯ç”¨çš„ã€‚'
- en: What if weâ€¦
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: '-   å¦‚æœæˆ‘ä»¬â€¦'
- en: '![](../Images/7bf9992cbe8c8c61f93f098de58ad53a.png)'
  id: totrans-31
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/7bf9992cbe8c8c61f93f098de58ad53a.png)'
- en: Image by [Engin Akyurt](https://www.pexels.com/@enginakyurt/) @ [pexels.com](https://www.pexels.com/photo/red-synthetic-carpet-texture-14823277/)
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: '-   å›¾ç‰‡ç”± [Engin Akyurt](https://www.pexels.com/@enginakyurt/) @ [pexels.com](https://www.pexels.com/photo/red-synthetic-carpet-texture-14823277/)'
- en: Synthetic Control
  id: totrans-33
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '-   åˆæˆæ§åˆ¶'
- en: What if we can only observe the outcome under treatment but the control group
    is not available? Alberto Abadie and Javier Gardeazabal found themselves in this
    exact situation when trying to asses the economic cost of conflict in Basque Country
    (Abadie & Gardeazabal, 2003). Their paper gave birth to the method that we discuss
    today â€” synthetic control.
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: å¦‚æœæˆ‘ä»¬åªèƒ½è§‚å¯Ÿå¤„ç†ä¸‹çš„ç»“æœï¼Œè€Œæ§åˆ¶ç»„ä¸å¯ç”¨å‘¢ï¼Ÿé˜¿å°”è´æ‰˜Â·é˜¿å·´è¿ªå’Œå“ˆç»´å°”Â·åŠ å°”å¾·äºšè¨å·´å°”åœ¨è¯„ä¼°å·´æ–¯å…‹åœ°åŒºå†²çªçš„ç»æµæˆæœ¬æ—¶é‡åˆ°äº†è¿™ç§æƒ…å†µï¼ˆAbadie &
    Gardeazabal, 2003ï¼‰ã€‚ä»–ä»¬çš„è®ºæ–‡å­•è‚²äº†æˆ‘ä»¬ä»Šå¤©è®¨è®ºçš„æ–¹æ³•â€”â€”åˆæˆæ§åˆ¶ã€‚
- en: The basic idea behind the method is simple â€” if we donâ€™t have a control group,
    letâ€™s create one!
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™ä¸ªæ–¹æ³•èƒŒåçš„åŸºæœ¬æ€æƒ³å¾ˆç®€å•â€”â€”å¦‚æœæˆ‘ä»¬æ²¡æœ‰æ§åˆ¶ç»„ï¼Œå°±åˆ›é€ ä¸€ä¸ªï¼
- en: How?
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: å¦‚ä½•ï¼Ÿ
- en: One solution is to predict it.
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸€ä¸ªè§£å†³æ–¹æ¡ˆæ˜¯é¢„æµ‹å®ƒã€‚
- en: What if we take some other units that are *somehow similar* to our treated unit
    (but remain untreated) and use them as predictors? This is what synthetic control
    (almost exactly) is!
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: å¦‚æœæˆ‘ä»¬é€‰æ‹©ä¸€äº›*æŸç§ç¨‹åº¦ä¸Šç›¸ä¼¼*äºæˆ‘ä»¬çš„å¤„ç†å•ä½ï¼ˆä½†ä¿æŒæœªå¤„ç†çš„ï¼‰å¹¶å°†å®ƒä»¬ç”¨ä½œé¢„æµ‹å˜é‡å‘¢ï¼Ÿè¿™å°±æ˜¯åˆæˆæ§åˆ¶ï¼ˆå‡ ä¹å®Œå…¨ï¼‰æ‰€åšçš„ï¼
- en: These untreated units are sometimes referred to as the ***donor pool***. Remembering
    that weâ€™re in the realm of time series data, the basic synthetic control estimator
    is a weighted sum of untreated units. Weâ€™ll use an additional weight constraint
    that forces the weights to be between **0** and **1** and sum up to oneÂ².
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™äº›æœªå¤„ç†çš„å•ä½æœ‰æ—¶è¢«ç§°ä¸º***æèµ æ± ***ã€‚è®°ä½ï¼Œæˆ‘ä»¬å¤„äºæ—¶é—´åºåˆ—æ•°æ®çš„é¢†åŸŸï¼ŒåŸºæœ¬çš„åˆæˆæ§åˆ¶ä¼°è®¡å™¨æ˜¯æœªå¤„ç†å•ä½çš„åŠ æƒå’Œã€‚æˆ‘ä»¬å°†ä½¿ç”¨ä¸€ä¸ªé¢å¤–çš„æƒé‡çº¦æŸï¼Œå¼ºåˆ¶æƒé‡åœ¨**0**å’Œ**1**ä¹‹é—´ï¼Œå¹¶ä¸”åŠ èµ·æ¥ç­‰äºä¸€Â²ã€‚
- en: Each weight scales the contribution of each untreated unit to the outcome. You
    can think of it as a constrained linear regression over time.
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: æ¯ä¸ªæƒé‡è°ƒæ•´æ¯ä¸ªæœªå¤„ç†å•ä½å¯¹ç»“æœçš„è´¡çŒ®ã€‚ä½ å¯ä»¥æŠŠå®ƒçœ‹ä½œæ˜¯ä¸€ä¸ªæ—¶é—´ä¸Šçš„çº¦æŸçº¿æ€§å›å½’ã€‚
- en: We fit the model on pre-treatment observations and predict the value of the
    outcome post-treatment. This logic is based on an assumption that the donor pool
    variables were not influenced by the treatment. When this assumption is met, the
    predicted post-treatment control group should keep all of the pre-treatment characteristics
    unchanged (assuming that the donor pool variables are good enough predictors of
    the outcome).
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬åœ¨å¤„ç†å‰è§‚å¯Ÿæ•°æ®ä¸Šæ‹Ÿåˆæ¨¡å‹ï¼Œå¹¶é¢„æµ‹å¤„ç†åçš„ç»“æœå€¼ã€‚è¿™ä¸€é€»è¾‘åŸºäºä¸€ä¸ªå‡è®¾ï¼Œå³æèµ æ± å˜é‡æ²¡æœ‰å—åˆ°å¤„ç†çš„å½±å“ã€‚å½“è¿™ä¸ªå‡è®¾æˆç«‹æ—¶ï¼Œé¢„æµ‹çš„å¤„ç†åæ§åˆ¶ç»„åº”è¯¥ä¿æŒæ‰€æœ‰å¤„ç†å‰ç‰¹å¾ä¸å˜ï¼ˆå‡è®¾æèµ æ± å˜é‡è¶³å¤Ÿå¥½åœ°é¢„æµ‹ç»“æœï¼‰ã€‚
- en: If you want to see a step-by-step implementation of synthetic control with neatly
    presented math check [Matteo Courthoud](https://medium.com/u/666130fb420f?source=post_page-----187114fc4aa8--------------------------------)â€™s
    [blog post](/understanding-synthetic-control-methods-dd9a291885a1) and/or [Matheus
    Facure](https://medium.com/u/5a3f80e369d3?source=post_page-----187114fc4aa8--------------------------------)â€™s
    [chapter](https://matheusfacure.github.io/python-causality-handbook/15-Synthetic-Control.html)
    on synthetic control. If you want more applied research context check Scott Cunninghamâ€™s
    â€œ[Causal Inference â€” The Mixtape](https://amzn.to/3MOINqp)â€. For the Bayesian
    implementation (the one we use here) check [CausalPy source code](https://github.com/pymc-labs/CausalPy/blob/main/causalpy/pymc_models.py).
  id: totrans-42
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: å¦‚æœä½ æƒ³çœ‹åˆ°åˆæˆæ§åˆ¶çš„é€æ­¥å®ç°ä»¥åŠæ•´æ´å‘ˆç°çš„æ•°å­¦ï¼ŒæŸ¥çœ‹[Matteo Courthoud](https://medium.com/u/666130fb420f?source=post_page-----187114fc4aa8--------------------------------)â€™s
    [åšå®¢æ–‡ç« ](/understanding-synthetic-control-methods-dd9a291885a1)å’Œ/æˆ–[Matheus Facure](https://medium.com/u/5a3f80e369d3?source=post_page-----187114fc4aa8--------------------------------)â€™s
    [ç« èŠ‚](https://matheusfacure.github.io/python-causality-handbook/15-Synthetic-Control.html)å…³äºåˆæˆæ§åˆ¶ã€‚å¦‚æœä½ æƒ³è¦æ›´å¤šåº”ç”¨ç ”ç©¶çš„èƒŒæ™¯ï¼Œè¯·æŸ¥çœ‹Scott
    Cunninghamçš„â€œ[å› æœæ¨æ–­â€”â€”æ··åˆå¸¦](https://amzn.to/3MOINqp)â€ã€‚å¯¹äºè´å¶æ–¯å®ç°ï¼ˆæˆ‘ä»¬è¿™é‡Œä½¿ç”¨çš„ï¼‰ï¼Œè¯·æŸ¥çœ‹[CausalPyæºä»£ç ](https://github.com/pymc-labs/CausalPy/blob/main/causalpy/pymc_models.py)ã€‚
- en: '[](https://aleksander-molak.medium.com/yes-six-causality-books-that-will-get-you-from-zero-to-advanced-2023-f4d08718a2dd?source=post_page-----187114fc4aa8--------------------------------)
    [## Yes! Six Causality Books That Will Get You From Zero to Advanced (2023)'
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: '[](https://aleksander-molak.medium.com/yes-six-causality-books-that-will-get-you-from-zero-to-advanced-2023-f4d08718a2dd?source=post_page-----187114fc4aa8--------------------------------)
    [## æ˜¯çš„ï¼å…­æœ¬å› æœå…³ç³»ä¹¦ç±å°†ä½¿ä½ ä»é›¶åŸºç¡€åˆ°é«˜çº§ï¼ˆ2023ï¼‰'
- en: â€¦and you can get 3 of them completely for free if you want! ğŸ¤—
  id: totrans-44
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: â€¦å¦‚æœä½ æ„¿æ„ï¼Œå¯ä»¥å®Œå…¨å…è´¹è·å¾—å…¶ä¸­çš„ä¸‰æœ¬ä¹¦ï¼ğŸ¤—
- en: aleksander-molak.medium.com](https://aleksander-molak.medium.com/yes-six-causality-books-that-will-get-you-from-zero-to-advanced-2023-f4d08718a2dd?source=post_page-----187114fc4aa8--------------------------------)
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: aleksander-molak.medium.com](https://aleksander-molak.medium.com/yes-six-causality-books-that-will-get-you-from-zero-to-advanced-2023-f4d08718a2dd?source=post_page-----187114fc4aa8--------------------------------)
- en: Hypothesis
  id: totrans-46
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: å‡è®¾
- en: Going back to our tweet. My hypothesis was that Muskâ€™s broadly discussed tweet
    (â€œ*the bird is freed*â€) made people more interested in Twitter itself and news
    about it. Hence, weâ€™d expect to observe an increase in the number of searches
    for â€œ*Twitter*â€ relative to other social media platforms.
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: å›åˆ°æˆ‘ä»¬çš„æ¨æ–‡ã€‚æˆ‘å‡è®¾é©¬æ–¯å…‹å¹¿æ³›è®¨è®ºçš„æ¨æ–‡ï¼ˆâ€œ*å°é¸Ÿè‡ªç”±äº†*â€ï¼‰ä½¿äººä»¬å¯¹Twitteræœ¬èº«ä»¥åŠç›¸å…³æ–°é—»äº§ç”Ÿäº†æ›´å¤šå…´è¶£ã€‚å› æ­¤ï¼Œæˆ‘ä»¬æœŸæœ›è§‚å¯Ÿåˆ°ç›¸å¯¹äºå…¶ä»–ç¤¾äº¤åª’ä½“å¹³å°ï¼Œâ€œ*Twitter*â€çš„æœç´¢é‡æœ‰æ‰€å¢åŠ ã€‚
- en: In reality, this hypothesis is difficult to verify, as the outcome might be
    influenced not only by Muskâ€™s tweet but also by *other factors* (e.g. media publications
    on Twitter acquisition). Note that this is in fact a great example of how [**confounding**](https://causalpython.io/#confounding)
    can occur **in synthetic control** analysisÂ³ (Twitter acquisition causing Muskâ€™s
    tweet *and* causing increased interest in the platform). Which specification (**tweet**
    as a cause or **acquisition** as a cause) sounds more reasonable to you? Let me
    know in the comments!
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: å®é™…ä¸Šï¼Œè¿™ä¸€å‡è®¾å¾ˆéš¾éªŒè¯ï¼Œå› ä¸ºç»“æœå¯èƒ½ä¸ä»…å—åˆ°é©¬æ–¯å…‹æ¨æ–‡çš„å½±å“ï¼Œè¿˜å¯èƒ½å—åˆ°*å…¶ä»–å› ç´ *ï¼ˆä¾‹å¦‚åª’ä½“å¯¹Twitteræ”¶è´­çš„æŠ¥é“ï¼‰çš„å½±å“ã€‚è¯·æ³¨æ„ï¼Œè¿™å®é™…ä¸Šæ˜¯ä¸€ä¸ªå¾ˆå¥½çš„ä¾‹å­ï¼Œè¯´æ˜äº†[**æ··æ‚**](https://causalpython.io/#confounding)å¦‚ä½•åœ¨**åˆæˆæ§åˆ¶**åˆ†æä¸­å‘ç”ŸÂ³ï¼ˆTwitteræ”¶è´­å¯¼è‡´é©¬æ–¯å…‹çš„æ¨æ–‡*ä»¥åŠ*å¼•å‘å¯¹è¯¥å¹³å°çš„å…´è¶£å¢åŠ ï¼‰ã€‚ä½ è®¤ä¸ºå“ªç§è§„èŒƒï¼ˆ**æ¨æ–‡**ä½œä¸ºåŸå› æˆ–**æ”¶è´­**ä½œä¸ºåŸå› ï¼‰æ›´åˆç†ï¼Ÿè¯·åœ¨è¯„è®ºä¸­å‘Šè¯‰æˆ‘ï¼
- en: As this is a fun post, weâ€™ll *assume* that Musk tweetâ€™s influence on search
    behaviors is not confounded and that we can safely estimate it. If you decide
    to estimate the effect of Twitter acquisition on the number of searches for â€œ*Twitter*â€
    yourself, feel free to share your results with me on [LinkedIn](https://www.linkedin.com/in/aleksandermolak/)
    or join the Causal Python community (https://causalpython.io) and simply send
    me the results as a reply to one of our weekly emails.
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: ç”±äºè¿™æ˜¯ä¸€ä¸ªæœ‰è¶£çš„å¸–å­ï¼Œæˆ‘ä»¬å°†*å‡è®¾*é©¬æ–¯å…‹æ¨æ–‡å¯¹æœç´¢è¡Œä¸ºçš„å½±å“æ²¡æœ‰æ··æ‚ï¼Œå¹¶ä¸”æˆ‘ä»¬å¯ä»¥å®‰å…¨åœ°è¿›è¡Œä¼°è®¡ã€‚å¦‚æœä½ å†³å®šè‡ªå·±ä¼°è®¡Twitteræ”¶è´­å¯¹â€œ*Twitter*â€æœç´¢æ•°é‡çš„å½±å“ï¼Œè¯·éšæ—¶é€šè¿‡[LinkedIn](https://www.linkedin.com/in/aleksandermolak/)ä¸æˆ‘åˆ†äº«ä½ çš„ç»“æœï¼Œæˆ–è€…åŠ å…¥Causal
    Pythonç¤¾åŒºï¼ˆhttps://causalpython.ioï¼‰ï¼Œç›´æ¥å°†ç»“æœå›å¤åˆ°æˆ‘ä»¬çš„ä¸€å°æ¯å‘¨é‚®ä»¶ä¸­ã€‚
- en: Muskâ€™s Tweet in The Data
  id: totrans-50
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: æ•°æ®ä¸­çš„é©¬æ–¯å…‹æ¨æ–‡
- en: We use [Google Trends](https://www.google.com/url?sa=t&rct=j&q=&esrc=s&cd=&cad=rja&uact=8&ved=2ahUKEwiJ9YDPxa78AhVtSPEDHf1QD4MQFnoECBAQAQ&url=https%3A%2F%2Ftrends.google.com%2Ftrends%2F&usg=AOvVaw1Iv7kLi18t1S2QG52bC3rn)
    as a source of time series data representing the global number of daily searches.
    We are interested in how searches for â€œ[*Twitter*](https://twitter.com/AleksanderMolak)â€
    have changed, so we collect data for this search plus we collect data for â€œ*TikTokâ€*,
    â€œ*Instagramâ€* and â€œ[*LinkedIn*](https://www.linkedin.com/in/aleksandermolak/)*â€*
    to use them as our ***donor pool***.
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬ä½¿ç”¨[Google Trends](https://www.google.com/url?sa=t&rct=j&q=&esrc=s&cd=&cad=rja&uact=8&ved=2ahUKEwiJ9YDPxa78AhVtSPEDHf1QD4MQFnoECBAQAQ&url=https%3A%2F%2Ftrends.google.com%2Ftrends%2F&usg=AOvVaw1Iv7kLi18t1S2QG52bC3rn)ä½œä¸ºä»£è¡¨å…¨çƒæ¯æ—¥æœç´¢é‡çš„æ—¶é—´åºåˆ—æ•°æ®æ¥æºã€‚æˆ‘ä»¬å¯¹â€œ[*Twitter*](https://twitter.com/AleksanderMolak)â€çš„æœç´¢å˜åŒ–æ„Ÿå…´è¶£ï¼Œå› æ­¤æˆ‘ä»¬æ”¶é›†äº†è¿™ä¸ªæœç´¢çš„æ•°æ®ï¼ŒåŒæ—¶ä¹Ÿæ”¶é›†äº†â€œ*TikTok*â€ã€â€œ*Instagram*â€å’Œâ€œ[*LinkedIn*](https://www.linkedin.com/in/aleksandermolak/)*â€*çš„æ•°æ®ï¼Œä»¥ç”¨ä½œæˆ‘ä»¬çš„***æèµ æ± ***ã€‚
- en: Weâ€˜ll use the data for a period between May 15 and November 11, 2022.
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬å°†ä½¿ç”¨2022å¹´5æœˆ15æ—¥è‡³11æœˆ11æ—¥ä¹‹é—´çš„æ•°æ®ã€‚
- en: Letâ€™s see the plot.
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: è®©æˆ‘ä»¬çœ‹çœ‹å›¾è¡¨ã€‚
- en: '![](../Images/5ee1ea5a90878e1b900514f031bc3516.png)'
  id: totrans-54
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/5ee1ea5a90878e1b900514f031bc3516.png)'
- en: '**Figure 1\.** Data for *Twitter*, *LinkedIn*, TikTok and Instagram searches.
    Image by yours truly.'
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: '**å›¾ 1\.** *Twitter*ã€*LinkedIn*ã€TikTokå’ŒInstagramæœç´¢çš„æ•°æ®ã€‚å›¾åƒç”±æœ¬äººæä¾›ã€‚'
- en: We can see that Twitter and Instagram are the most searched for platforms. Thereâ€™s
    some correlation between them. We can also see that thereâ€™s a very strong seasonal
    component in LinkedIn searches with much less searches over the weekends, which
    makes sense given the professional character of the site.
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬å¯ä»¥çœ‹åˆ°Twitterå’ŒInstagramæ˜¯æœç´¢é‡æœ€å¤šçš„å¹³å°ã€‚å®ƒä»¬ä¹‹é—´å­˜åœ¨ä¸€å®šçš„ç›¸å…³æ€§ã€‚æˆ‘ä»¬è¿˜å¯ä»¥çœ‹åˆ°LinkedInçš„æœç´¢é‡å…·æœ‰éå¸¸å¼ºçš„å­£èŠ‚æ€§ç‰¹å¾ï¼Œå‘¨æœ«çš„æœç´¢é‡æ˜æ˜¾è¾ƒå°‘ï¼Œè¿™ä¸è¯¥ç½‘ç«™çš„èŒä¸šæ€§è´¨ç›¸ç¬¦ã€‚
- en: Musk posted his â€œ*the bird is freed*â€ tweet on October 28\. Letâ€™s add this information
    to the plot.
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: é©¬æ–¯å…‹åœ¨10æœˆ28æ—¥å‘å¸ƒäº†ä»–çš„â€œ*å°é¸Ÿè‡ªç”±äº†*â€æ¨æ–‡ã€‚è®©æˆ‘ä»¬æŠŠè¿™ä¸ªä¿¡æ¯æ·»åŠ åˆ°å›¾è¡¨ä¸­ã€‚
- en: '![](../Images/dc4b532f1fb1c9b16ad6fe77fb65896f.png)'
  id: totrans-58
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/dc4b532f1fb1c9b16ad6fe77fb65896f.png)'
- en: '**Figure 2.** Data for *Twitter*, *LinkedIn*, TikTok and Instagram searches
    including the treatment (black dotted line). Image by yours truly.'
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: '**å›¾ 2.** åŒ…æ‹¬å¤„ç†ï¼ˆé»‘è‰²è™šçº¿ï¼‰çš„*Twitter*ã€*LinkedIn*ã€TikTokå’ŒInstagramæœç´¢çš„æ•°æ®ã€‚å›¾åƒç”±æœ¬äººæä¾›ã€‚'
- en: We see that the sharp increase in searches for Twitter coincides with the day
    of Muskâ€™s tweet.
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬çœ‹åˆ°Twitteræœç´¢é‡çš„æ€¥å‰§å¢åŠ ä¸é©¬æ–¯å…‹æ¨æ–‡çš„å‘å¸ƒæ—¥ä¸€è‡´ã€‚
- en: Letâ€™s see how strong the effect is given a synthetically produced control group.
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: è®©æˆ‘ä»¬çœ‹çœ‹åœ¨åˆæˆäº§ç”Ÿçš„å¯¹ç…§ç»„ä¸‹æ•ˆæœæœ‰å¤šå¼ºã€‚
- en: Letâ€™s Model It!
  id: totrans-62
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: è®©æˆ‘ä»¬å»ºæ¨¡å§ï¼
- en: We start with the imports.
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬ä»å¯¼å…¥å¼€å§‹ã€‚
- en: '**Code block 1.** Importing the libraries.'
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: '**ä»£ç å— 1ã€‚** å¯¼å…¥åº“ã€‚'
- en: We follow [CausalPy documentation](https://causalpy.readthedocs.io/en/latest/)
    convention and import the library as `cp`. We import `pandas` to read the data
    and `matplotlib` to help us with plotting.
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬éµå¾ª[CausalPy æ–‡æ¡£](https://causalpy.readthedocs.io/en/latest/)çš„æƒ¯ä¾‹ï¼Œå¹¶å°†åº“å¯¼å…¥ä¸º`cp`ã€‚æˆ‘ä»¬å¯¼å…¥`pandas`æ¥è¯»å–æ•°æ®ï¼Œå¹¶å¯¼å…¥`matplotlib`æ¥å¸®åŠ©æˆ‘ä»¬ç»˜å›¾ã€‚
- en: We read in the data and cast index to date time (which helped us to generate
    the plots above and makes it easier to index the treatment but is not necessary).
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬è¯»å–æ•°æ®å¹¶å°†ç´¢å¼•è½¬æ¢ä¸ºæ—¥æœŸæ—¶é—´ï¼ˆè¿™å¸®åŠ©æˆ‘ä»¬ç”Ÿæˆäº†ä¸Šé¢çš„å›¾è¡¨ï¼Œå¹¶ä½¿å¾—ç´¢å¼•æ²»ç–—æ›´å®¹æ˜“ï¼Œä½†å¹¶éå¿…è¦ï¼‰ã€‚
- en: '**Code block 2.** Reading in the data and changing index to date time type.'
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: '**ä»£ç å— 2ã€‚** è¯»å–æ•°æ®å¹¶å°†ç´¢å¼•æ›´æ”¹ä¸ºæ—¥æœŸæ—¶é—´ç±»å‹ã€‚'
- en: Letâ€™s take a brief look at the data.
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: è®©æˆ‘ä»¬ç®€å•çœ‹ä¸€ä¸‹æ•°æ®ã€‚
- en: '![](../Images/8b3c485ce3b271f5b53bb4a9cfe794f7.png)'
  id: totrans-69
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/8b3c485ce3b271f5b53bb4a9cfe794f7.png)'
- en: '**Figure 3.** The first five rows of our dataset. Image by yours truly.'
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: '**å›¾ 3ã€‚** æˆ‘ä»¬æ•°æ®é›†çš„å‰äº”è¡Œã€‚å›¾ç‰‡ç”±æˆ‘æœ¬äººæä¾›ã€‚'
- en: As expected, we see four variables and a date time index. We will use â€œ*LinkedInâ€*,
    â€œ*TikTokâ€* and â€œ*Instagramâ€* searches as the donor pool signals.
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: æ­£å¦‚é¢„æœŸçš„é‚£æ ·ï¼Œæˆ‘ä»¬çœ‹åˆ°å››ä¸ªå˜é‡å’Œä¸€ä¸ªæ—¥æœŸæ—¶é—´ç´¢å¼•ã€‚æˆ‘ä»¬å°†ä½¿ç”¨â€œ*LinkedIn*â€ã€â€œ*TikTok*â€å’Œâ€œ*Instagram*â€æœç´¢ä½œä¸ºæèµ æ± ä¿¡å·ã€‚
- en: Letâ€™s store the treatment date in a variable and instantiate the model.
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: è®©æˆ‘ä»¬å°†æ²»ç–—æ—¥æœŸå­˜å‚¨åœ¨ä¸€ä¸ªå˜é‡ä¸­ï¼Œå¹¶å®ä¾‹åŒ–æ¨¡å‹ã€‚
- en: '**Code block 3.** Storing treatment date in a variable and instantiating the
    model.'
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: '**ä»£ç å— 3ã€‚** å°†æ²»ç–—æ—¥æœŸå­˜å‚¨åœ¨å˜é‡ä¸­å¹¶å®ä¾‹åŒ–æ¨¡å‹ã€‚'
- en: 'We use `WeightedSumFitter` model which will allow us to find weights for each
    of our donor pool variables in order to produce the best fit synthetic control.
    You might remember that we said earlier that we use two constraints to these weights:'
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬ä½¿ç”¨`WeightedSumFitter`æ¨¡å‹ï¼Œè¿™å°†å…è®¸æˆ‘ä»¬ä¸ºæ¯ä¸ªæèµ æ± å˜é‡æ‰¾åˆ°æƒé‡ï¼Œä»¥ç”Ÿæˆæœ€ä½³æ‹Ÿåˆçš„åˆæˆæ§åˆ¶ã€‚ä½ å¯èƒ½è¿˜è®°å¾—æˆ‘ä»¬ä¹‹å‰è¯´è¿‡ï¼Œæˆ‘ä»¬å¯¹è¿™äº›æƒé‡ä½¿ç”¨äº†ä¸¤ä¸ªçº¦æŸï¼š
- en: they should sum up to **1**
  id: totrans-75
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å®ƒä»¬åº”æ€»å’Œä¸º**1**ã€‚
- en: they should be between **0** and **1**
  id: totrans-76
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å®ƒä»¬åº”åœ¨**0**å’Œ**1**ä¹‹é—´ã€‚
- en: Note that if the 1st condition is true, the 2nd condition can be replaced by
    a less restrictive constraint of non-negativity; we used the more restrictive
    condition as it might be more intuitive for some readers.
  id: totrans-77
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: è¯·æ³¨æ„ï¼Œå¦‚æœç¬¬ä¸€ä¸ªæ¡ä»¶ä¸ºçœŸï¼Œåˆ™ç¬¬äºŒä¸ªæ¡ä»¶å¯ä»¥ç”¨æ›´ä¸ä¸¥æ ¼çš„éè´Ÿçº¦æŸä»£æ›¿ï¼›æˆ‘ä»¬ä½¿ç”¨äº†æ›´ä¸¥æ ¼çš„æ¡ä»¶ï¼Œå› ä¸ºå®ƒå¯èƒ½å¯¹ä¸€äº›è¯»è€…æ›´ç›´è§‚ã€‚
- en: Meeting these constraints can be achieved in multiple ways. If you checked one
    of the references we mentioned above (Matteoâ€™s blog or Matheusâ€™ book) you might
    have noticed that they both used constrained optimization to achieve this goal.
    As we use Bayesian approach, we need to encode these constraints at a distribution
    level. A distribution that is a great fit for our required constraints is [Dirichlet
    distribution](https://en.wikipedia.org/wiki/Dirichlet_distribution). Samples from
    Dirichlet distribution sum up to **1** and are non-negative. If this makes you
    think about beta distribution, thatâ€™s a great intuition! Dirichlet is a (multidimensional)
    generalization of beta.
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: æ»¡è¶³è¿™äº›çº¦æŸå¯ä»¥é€šè¿‡å¤šç§æ–¹å¼å®ç°ã€‚å¦‚æœä½ æŸ¥çœ‹äº†æˆ‘ä»¬ä¸Šé¢æåˆ°çš„å…¶ä¸­ä¸€ä¸ªå‚è€ƒèµ„æ–™ï¼ˆMatteo çš„åšå®¢æˆ– Matheus çš„ä¹¦ï¼‰ï¼Œä½ å¯èƒ½ä¼šæ³¨æ„åˆ°ä»–ä»¬éƒ½ä½¿ç”¨äº†çº¦æŸä¼˜åŒ–æ¥å®ç°è¿™ä¸ªç›®æ ‡ã€‚ç”±äºæˆ‘ä»¬ä½¿ç”¨è´å¶æ–¯æ–¹æ³•ï¼Œæˆ‘ä»¬éœ€è¦åœ¨åˆ†å¸ƒå±‚é¢ä¸Šå¯¹è¿™äº›çº¦æŸè¿›è¡Œç¼–ç ã€‚ä¸æˆ‘ä»¬æ‰€éœ€çº¦æŸéå¸¸åŒ¹é…çš„åˆ†å¸ƒæ˜¯[Dirichlet
    åˆ†å¸ƒ](https://en.wikipedia.org/wiki/Dirichlet_distribution)ã€‚Dirichlet åˆ†å¸ƒçš„æ ·æœ¬æ€»å’Œä¸º**1**ä¸”éè´Ÿã€‚å¦‚æœè¿™è®©ä½ æƒ³èµ·äº†è´å¡”åˆ†å¸ƒï¼Œé‚£æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„ç›´è§‰ï¼Dirichlet
    æ˜¯è´å¡”åˆ†å¸ƒçš„ï¼ˆå¤šç»´ï¼‰æ¨å¹¿ã€‚
- en: CausalPy will take care of initializing and fitting the distributions for us
    behind the scenes. Weâ€™re now ready to define and fit the model!
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
  zh: CausalPy å°†åœ¨åå°è´Ÿè´£åˆå§‹åŒ–å’Œæ‹Ÿåˆåˆ†å¸ƒã€‚æˆ‘ä»¬ç°åœ¨å‡†å¤‡å¥½å®šä¹‰å’Œæ‹Ÿåˆæ¨¡å‹äº†ï¼
- en: CausalPy supports R-style formulas for defining models. The formula `twitter
    ~ 0 + tiktok + linkedin + instgram` says that we want to model Twitter searches
    over time as a function of the â€œ*TikTokâ€*, â€œ*LinkedInâ€* and â€œ*Instagramâ€* searches.
    Zero in the beginning of the formula tells the model that we donâ€™t want to fit
    the intercept.
  id: totrans-80
  prefs: []
  type: TYPE_NORMAL
  zh: CausalPy æ”¯æŒ R é£æ ¼çš„å…¬å¼æ¥å®šä¹‰æ¨¡å‹ã€‚å…¬å¼`twitter ~ 0 + tiktok + linkedin + instgram`è¡¨ç¤ºæˆ‘ä»¬æƒ³è¦å°†
    Twitter æœç´¢éšæ—¶é—´çš„å˜åŒ–å»ºæ¨¡ä¸ºâ€œ*TikTok*â€ã€â€œ*LinkedIn*â€å’Œâ€œ*Instagram*â€æœç´¢çš„å‡½æ•°ã€‚å…¬å¼å¼€å¤´çš„é›¶å‘Šè¯‰æ¨¡å‹æˆ‘ä»¬ä¸æƒ³æ‹Ÿåˆæˆªè·ã€‚
- en: '**Code block 4.** Defining and fitting the model.'
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: '**ä»£ç å— 4ã€‚** å®šä¹‰å’Œæ‹Ÿåˆæ¨¡å‹ã€‚'
- en: 'We use `SyntheticControl` experiment object that will take care of model fitting
    and result generation for us. We pass four arguments to the constructor: dataset,
    treatment index, formula that defines the model and model object (we picked `WeightedSumFitter`).'
  id: totrans-82
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬ä½¿ç”¨`SyntheticControl`å®éªŒå¯¹è±¡ï¼Œå®ƒå°†è´Ÿè´£æ¨¡å‹æ‹Ÿåˆå’Œç»“æœç”Ÿæˆã€‚æˆ‘ä»¬å‘æ„é€ å‡½æ•°ä¼ é€’å››ä¸ªå‚æ•°ï¼šæ•°æ®é›†ã€æ²»ç–—ç´¢å¼•ã€å®šä¹‰æ¨¡å‹çš„å…¬å¼å’Œæ¨¡å‹å¯¹è±¡ï¼ˆæˆ‘ä»¬é€‰æ‹©äº†`WeightedSumFitter`ï¼‰ã€‚
- en: If youâ€™re running the code for yourself, youâ€™ll notice that it takes a while
    to initialize the sampler and sample the [chains](https://en.wikipedia.org/wiki/Markov_chain_Monte_Carlo),
    but after a minute or so we should be ready to plot the results.
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
  zh: å¦‚æœä½ è‡ªå·±è¿è¡Œä»£ç ï¼Œä½ ä¼šæ³¨æ„åˆ°åˆå§‹åŒ–é‡‡æ ·å™¨å¹¶é‡‡æ ·[é“¾æ¡](https://en.wikipedia.org/wiki/Markov_chain_Monte_Carlo)éœ€è¦ä¸€äº›æ—¶é—´ï¼Œä½†å¤§çº¦è¿‡ä¸€åˆ†é’Ÿåæˆ‘ä»¬åº”è¯¥å¯ä»¥å¼€å§‹ç»˜åˆ¶ç»“æœã€‚
- en: '[](https://amzn.to/3NiCbT3?source=post_page-----187114fc4aa8--------------------------------)
    [## Causal Inference and Discovery in Python: Unlock the secrets of modern causal
    machine learning withâ€¦'
  id: totrans-84
  prefs: []
  type: TYPE_NORMAL
  zh: '[](https://amzn.to/3NiCbT3?source=post_page-----187114fc4aa8--------------------------------)
    [## Pythonä¸­çš„å› æœæ¨æ–­ä¸å‘ç°ï¼šè§£é”ç°ä»£å› æœæœºå™¨å­¦ä¹ çš„ç§˜å¯†â€¦'
- en: 'Causal Inference and Discovery in Python: Unlock the secrets of modern causal
    machine learning with DoWhy, EconMLâ€¦'
  id: totrans-85
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: ã€ŠPythonä¸­çš„å› æœæ¨æ–­ä¸å‘ç°ã€‹ï¼šé€šè¿‡DoWhyã€EconMLè§£é”ç°ä»£å› æœæœºå™¨å­¦ä¹ çš„ç§˜å¯†â€¦â€¦
- en: amzn.to](https://amzn.to/3NiCbT3?source=post_page-----187114fc4aa8--------------------------------)
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
  zh: amzn.to](https://amzn.to/3NiCbT3?source=post_page-----187114fc4aa8--------------------------------)
- en: Results
  id: totrans-87
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: ç»“æœ
- en: Letâ€™s examine the results! The `results` object has a very convenient method
    called `.plot()` that allows us to summarize the results graphically in an efficient
    fashion.
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: è®©æˆ‘ä»¬æ¥æ£€æŸ¥ç»“æœï¼`results`å¯¹è±¡æœ‰ä¸€ä¸ªéå¸¸æ–¹ä¾¿çš„æ–¹æ³•å«åš`.plot()`ï¼Œå¯ä»¥æœ‰æ•ˆåœ°ä»¥å›¾å½¢æ–¹å¼æ€»ç»“ç»“æœã€‚
- en: '**Code block 5.** Plotting the results.'
  id: totrans-89
  prefs: []
  type: TYPE_NORMAL
  zh: '**ä»£ç å—5ã€‚** ç»˜åˆ¶ç»“æœã€‚'
- en: 'This gives us the following output:'
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™ç»™å‡ºäº†ä»¥ä¸‹è¾“å‡ºï¼š
- en: '![](../Images/bd446e359ac0a9c30c50af953c15e303.png)'
  id: totrans-91
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/bd446e359ac0a9c30c50af953c15e303.png)'
- en: '**Figure 4.** The results of our model. Image by yours truly.'
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: '**å›¾4ã€‚** æˆ‘ä»¬æ¨¡å‹çš„ç»“æœã€‚å›¾ç‰‡ç”±æœ¬äººæä¾›ã€‚'
- en: On the top of the plot we see the printout of pre-intervention Bayesian ***RÂ²***
    (Gelman et al., 2018) that quantifies how well the pre-treatment number of searches
    for Twitter is predicted by our donor pool variables.
  id: totrans-93
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨å›¾çš„é¡¶éƒ¨ï¼Œæˆ‘ä»¬çœ‹åˆ°å¤„ç†å‰è´å¶æ–¯***RÂ²***ï¼ˆGelmanç­‰ï¼Œ2018ï¼‰çš„æ‰“å°è¾“å‡ºï¼Œé‡åŒ–äº†æˆ‘ä»¬çš„æèµ è€…æ± å˜é‡å¯¹Twitterå¤„ç†å‰æœç´¢æ¬¡æ•°çš„é¢„æµ‹æ•ˆæœã€‚
- en: The topmost panel presents actual observations of the outcome variable (black
    dots), pre-treatment prediction of the outcome (dark blue line), donor pool variables
    (gray), our generated synthetic control (green), intervention time (vertical red
    line) and the effect of intervention (shaded blue region).
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: æœ€ä¸Šé¢çš„é¢æ¿å±•ç¤ºäº†ç»“æœå˜é‡çš„å®é™…è§‚å¯Ÿï¼ˆé»‘ç‚¹ï¼‰ã€å¤„ç†å‰ç»“æœçš„é¢„æµ‹ï¼ˆæ·±è“è‰²çº¿ï¼‰ã€æèµ è€…æ± å˜é‡ï¼ˆç°è‰²ï¼‰ã€æˆ‘ä»¬ç”Ÿæˆçš„åˆæˆæ§åˆ¶ï¼ˆç»¿è‰²ï¼‰ã€å¹²é¢„æ—¶é—´ï¼ˆå‚ç›´çº¢çº¿ï¼‰å’Œå¹²é¢„æ•ˆæœï¼ˆé˜´å½±è“è‰²åŒºåŸŸï¼‰ã€‚
- en: In the middle panel we see the **predicted causal impact** pre- and post-treatment.
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨ä¸­é—´é¢æ¿ä¸­ï¼Œæˆ‘ä»¬çœ‹åˆ°**é¢„æµ‹çš„å› æœå½±å“**åœ¨å¤„ç†å‰åçš„æƒ…å†µã€‚
- en: Finally, the bottom panel shows the **cumulative causal effect**.
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
  zh: æœ€åï¼Œåº•éƒ¨é¢æ¿å±•ç¤ºäº†**ç´¯ç§¯å› æœæ•ˆåº”**ã€‚
- en: Wrapping It Up!
  id: totrans-97
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: æ€»ç»“ä¸€ä¸‹ï¼
- en: Bayesian ***RÂ²*** of **0.385** indicates that the modelâ€™s pre-treatment fit
    is not very good (the perfect fit would have ***RÂ²*** of **1**)â´. This is not
    necessarily very surprising as our donor pool is small. Many practitioners would
    recommend using at least between 5 to 25 variables in your donor pool as a rule
    of thumb. We had only 3.
  id: totrans-98
  prefs: []
  type: TYPE_NORMAL
  zh: è´å¶æ–¯***RÂ²***ä¸º**0.385**è¡¨æ˜æ¨¡å‹çš„å¤„ç†å‰æ‹Ÿåˆæ•ˆæœä¸æ˜¯å¾ˆå¥½ï¼ˆå®Œç¾æ‹Ÿåˆçš„***RÂ²***ä¸º**1**ï¼‰â´ã€‚è€ƒè™‘åˆ°æˆ‘ä»¬çš„æèµ è€…æ± è¾ƒå°ï¼Œè¿™å¹¶ä¸ä»¤äººæƒŠè®¶ã€‚è®¸å¤šä»ä¸šè€…å»ºè®®ä½œä¸ºç»éªŒæ³•åˆ™ï¼Œæèµ è€…æ± ä¸­å˜é‡è‡³å°‘åº”åœ¨5åˆ°25ä¸ªä¹‹é—´ã€‚æˆ‘ä»¬åªæœ‰3ä¸ªã€‚
- en: On the other hand, we can be pretty sure that weâ€™re not overfitting, which might
    happen with larger sizes of donor pools (*vide* Abadie, 2021).
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: å¦ä¸€æ–¹é¢ï¼Œæˆ‘ä»¬å¯ä»¥éå¸¸ç¡®å®šæˆ‘ä»¬æ²¡æœ‰è¿‡æ‹Ÿåˆï¼Œè¿™åœ¨æèµ è€…æ± è¾ƒå¤§çš„æƒ…å†µä¸‹å¯èƒ½ä¼šå‘ç”Ÿï¼ˆ*å‚è§* Abadieï¼Œ2021ï¼‰ã€‚
- en: The post-treatment effect of Elon Muskâ€™s tweet (assuming that we agree thereâ€™s
    no hidden confounding in the analysis) is relatively large, indicating that his
    tweet was powerful enough to temporarily change our googling behaviors!
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
  zh: å¦‚æœæˆ‘ä»¬è®¤ä¸ºåˆ†æä¸­æ²¡æœ‰éšè—çš„æ··æ‚å› ç´ ï¼ŒåŸƒéš†Â·é©¬æ–¯å…‹çš„æ¨æ–‡çš„å¤„ç†åæ•ˆæœç›¸å¯¹è¾ƒå¤§ï¼Œè¡¨æ˜ä»–çš„æ¨æ–‡è¶³å¤Ÿå¼ºå¤§ï¼Œèƒ½å¤Ÿæš‚æ—¶æ”¹å˜æˆ‘ä»¬çš„æœç´¢è¡Œä¸ºï¼
- en: Note that the other hypothesis (Twitter acquisition rather than the tweet as
    a treatment) looks promising â€” did you notice the increase in the number of searches
    for â€œ*Twitter*â€ right before the intervention?
  id: totrans-101
  prefs: []
  type: TYPE_NORMAL
  zh: æ³¨æ„ï¼Œå¦ä¸€ç§å‡è®¾ï¼ˆTwitterè·å–è€Œéæ¨æ–‡ä½œä¸ºå¤„ç†ï¼‰çœ‹èµ·æ¥å¾ˆæœ‰å‰æ™¯â€”â€”ä½ æœ‰æ²¡æœ‰æ³¨æ„åˆ°åœ¨å¹²é¢„å‰â€œ*Twitter*â€çš„æœç´¢æ¬¡æ•°æœ‰æ‰€å¢åŠ ï¼Ÿ
- en: If you decide to check this hypothesis, **share your results** with me and the
    **community**!
  id: totrans-102
  prefs: []
  type: TYPE_NORMAL
  zh: å¦‚æœä½ å†³å®šæ£€éªŒè¿™ä¸ªå‡è®¾ï¼Œ**ä¸æˆ‘å’Œ** **ç¤¾åŒº**åˆ†äº«ä½ çš„ç»“æœå§ï¼
- en: About CausalPy
  id: totrans-103
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: å…³äºCausalPy
- en: '**CausalPy** is still in its baby years, but is steadily growing. I got a message
    from the library creators that some exciting new features are in the pipeline,
    including user-defined priors support for synthetic control. Also, thereâ€™s much
    more to the library than just this one method. Make sure to check the repository
    for the latest version & updates here: [https://github.com/pymc-labs/CausalPy](https://github.com/pymc-labs/CausalPy)'
  id: totrans-104
  prefs: []
  type: TYPE_NORMAL
  zh: '**CausalPy** ä»å¤„äºåˆæœŸé˜¶æ®µï¼Œä½†æ­£åœ¨ç¨³æ­¥æˆé•¿ã€‚æˆ‘æ”¶åˆ°å›¾ä¹¦é¦†åˆ›å»ºè€…çš„æ¶ˆæ¯ï¼Œè¡¨ç¤ºä¸€äº›ä»¤äººå…´å¥‹çš„æ–°åŠŸèƒ½æ­£åœ¨å¼€å‘ä¸­ï¼ŒåŒ…æ‹¬å¯¹åˆæˆæ§åˆ¶çš„ç”¨æˆ·å®šä¹‰å…ˆéªŒçš„æ”¯æŒã€‚æ­¤å¤–ï¼Œå›¾ä¹¦é¦†çš„åŠŸèƒ½ä¸ä»…é™äºè¿™ä¸€ç§æ–¹æ³•ã€‚ç¡®ä¿æŸ¥çœ‹æœ€æ–°ç‰ˆæœ¬å’Œæ›´æ–°ï¼Œè¯·è®¿é—®è¿™é‡Œï¼š[https://github.com/pymc-labs/CausalPy](https://github.com/pymc-labs/CausalPy)'
- en: '**Code** and **conda environment** file are available here:'
  id: totrans-105
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: '**ä»£ç **å’Œ**conda ç¯å¢ƒ**æ–‡ä»¶å¯åœ¨è¿™é‡Œè·å–ï¼š'
- en: '[](https://github.com/AlxndrMlk/blogs-code/tree/main/Causal%20Python%20-%20Did%20Elon%20Musk%27s%20Tweet%20Change%20Our%20Googling%C2%A0Habits?source=post_page-----187114fc4aa8--------------------------------)
    [## blogs-code/Causal Python - Did Elon Musk''s Tweet Change Our Googling Habits
    at main Â·â€¦'
  id: totrans-106
  prefs: []
  type: TYPE_NORMAL
  zh: '[](https://github.com/AlxndrMlk/blogs-code/tree/main/Causal%20Python%20-%20Did%20Elon%20Musk%27s%20Tweet%20Change%20Our%20Googling%C2%A0Habits?source=post_page-----187114fc4aa8--------------------------------)
    [## blogs-code/Causal Python - Elon Musk çš„æ¨æ–‡æ˜¯å¦æ”¹å˜äº†æˆ‘ä»¬çš„æœç´¢ä¹ æƒ¯?]'
- en: You can't perform that action at this time. You signed in with another tab or
    window. You signed out in another tab orâ€¦
  id: totrans-107
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: ç›®å‰æ‚¨æ— æ³•æ‰§è¡Œè¯¥æ“ä½œã€‚æ‚¨åœ¨å¦ä¸€ä¸ªæ ‡ç­¾æˆ–çª—å£ä¸­å·²ç™»å½•ã€‚æ‚¨åœ¨å¦ä¸€ä¸ªæ ‡ç­¾æˆ–çª—å£ä¸­å·²æ³¨é”€...
- en: github.com](https://github.com/AlxndrMlk/blogs-code/tree/main/Causal%20Python%20-%20Did%20Elon%20Musk%27s%20Tweet%20Change%20Our%20Googling%C2%A0Habits?source=post_page-----187114fc4aa8--------------------------------)
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
  zh: '[github.com](https://github.com/AlxndrMlk/blogs-code/tree/main/Causal%20Python%20-%20Did%20Elon%20Musk%27s%20Tweet%20Change%20Our%20Googling%C2%A0Habits?source=post_page-----187114fc4aa8--------------------------------)'
- en: Footnotes
  id: totrans-109
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: è„šæ³¨
- en: Â¹ There are experimental designs with more than one treatment and/or more than
    one control group, but we keep it simple here.
  id: totrans-110
  prefs: []
  type: TYPE_NORMAL
  zh: Â¹ è™½ç„¶å­˜åœ¨å¤šä¸ªå¤„ç†å’Œ/æˆ–å¤šä¸ªå¯¹ç…§ç»„çš„å®éªŒè®¾è®¡ï¼Œä½†åœ¨è¿™é‡Œæˆ‘ä»¬ä¿æŒç®€å•ã€‚
- en: 'Â² Note that these constraints are not necessary, but when the ***donor pool***
    variables take values both **above** *and* **below** the values of the outcome
    variable this forces the model not to extrapolate beyond the values that weâ€™ve
    observed. In our case this makes sense â€” vide Figure 1\. where *Instagram* is
    (most of the time) above *Twitter* and other platforms are below. Allowing the
    model to extrapolate is not incorrect, yet it posits a risk that the model will
    *hallucinate* how the variables should behave above their observed ranges. If
    this reminds you of the positivity assumption â€” thatâ€™s a great intuition! More
    about positivity and extrapolation here: [https://causalpython.io/#positivity](https://causalpython.io/#positivity)'
  id: totrans-111
  prefs: []
  type: TYPE_NORMAL
  zh: Â² è¯·æ³¨æ„ï¼Œè¿™äº›çº¦æŸå¹¶ä¸æ˜¯å¿…è¦çš„ï¼Œä½†å½“***æèµ è€…æ± ***å˜é‡çš„å€¼æ—¢**é«˜äº** *åˆ* **ä½äº**ç»“æœå˜é‡çš„å€¼æ—¶ï¼Œè¿™ä¼šè¿«ä½¿æ¨¡å‹ä¸å¯¹è¶…å‡ºæˆ‘ä»¬è§‚å¯Ÿåˆ°çš„å€¼çš„èŒƒå›´è¿›è¡Œå¤–æ¨ã€‚åœ¨æˆ‘ä»¬çš„æ¡ˆä¾‹ä¸­ï¼Œè¿™å¾ˆæœ‰æ„ä¹‰â€”â€”å‚è§å›¾
    1ï¼Œå…¶ä¸­*Instagram*ï¼ˆå¤§å¤šæ•°æ—¶å€™ï¼‰é«˜äº*Twitter*ï¼Œå…¶ä»–å¹³å°åˆ™ä½äºã€‚å…è®¸æ¨¡å‹è¿›è¡Œå¤–æ¨å¹¶ä¸é”™è¯¯ï¼Œä½†å®ƒå­˜åœ¨æ¨¡å‹*å¹»è§‰*å˜é‡å¦‚ä½•åœ¨å…¶è§‚å¯ŸèŒƒå›´ä¹‹å¤–è¡¨ç°çš„é£é™©ã€‚å¦‚æœè¿™è®©æ‚¨æƒ³èµ·äº†ç§¯ææ€§å‡è®¾â€”â€”é‚£æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„ç›´è§‰ï¼æœ‰å…³ç§¯ææ€§å’Œå¤–æ¨çš„æ›´å¤šä¿¡æ¯ï¼Œè¯·è®¿é—®ï¼š[https://causalpython.io/#positivity](https://causalpython.io/#positivity)
- en: Â³ Note that we could also say that this scenario violates a no-multiple-versions-of-treatment
    part of the [SUTVA](https://www.google.com/url?sa=t&rct=j&q=&esrc=s&cd=&cad=rja&uact=8&ved=2ahUKEwiGheHtmbb8AhVBTaQEHQgMDvkQFnoECC0QAQ&url=https%3A%2F%2Fen.wikipedia.org%2Fwiki%2FRubin_causal_model&usg=AOvVaw1k-P4Hoq71MjTTd0XFjId-)
    assumption, but I believe that confounding perspective is clearer and more intuitive.
  id: totrans-112
  prefs: []
  type: TYPE_NORMAL
  zh: Â³ è¯·æ³¨æ„ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥è¯´è¿™ç§æƒ…å†µè¿åäº†[SUTVA](https://www.google.com/url?sa=t&rct=j&q=&esrc=s&cd=&cad=rja&uact=8&ved=2ahUKEwiGheHtmbb8AhVBTaQEHQgMDvkQFnoECC0QAQ&url=https%3A%2F%2Fen.wikipedia.org%2Fwiki%2FRubin_causal_model&usg=AOvVaw1k-P4Hoq71MjTTd0XFjId-)å‡è®¾ä¸­çš„æ— å¤šé‡å¤„ç†ç‰ˆæœ¬éƒ¨åˆ†ï¼Œä½†æˆ‘è®¤ä¸ºæ··æ‚è§†è§’æ›´æ¸…æ™°ã€æ›´ç›´è§‚ã€‚
- en: â´ Keeping in mind that using ***RÂ²*** as a goodness-of-fit metric brings its
    own challenges.
  id: totrans-113
  prefs: []
  type: TYPE_NORMAL
  zh: â´ éœ€è¦è®°ä½çš„æ˜¯ï¼Œä½¿ç”¨***RÂ²***ä½œä¸ºæ‹Ÿåˆä¼˜åº¦æŒ‡æ ‡ä¼šå¸¦æ¥è‡ªèº«çš„æŒ‘æˆ˜ã€‚
- en: 'Read more on causality in Python:'
  id: totrans-114
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: äº†è§£æ›´å¤šå…³äº Python ä¸­å› æœå…³ç³»çš„å†…å®¹ï¼š
- en: '[](/causal-kung-fu-in-python-3-basic-techniques-to-jump-start-your-causal-inference-journey-tonight-ae09181704f7?source=post_page-----187114fc4aa8--------------------------------)
    [## Causal Python: 3 Simple Techniques to Jump-Start Your Causal Inference Journey
    Today'
  id: totrans-115
  prefs: []
  type: TYPE_NORMAL
  zh: '[](/causal-kung-fu-in-python-3-basic-techniques-to-jump-start-your-causal-inference-journey-tonight-ae09181704f7?source=post_page-----187114fc4aa8--------------------------------)
    [## Causal Python: 3 ä¸ªç®€å•æŠ€å·§æ¥å¿«é€Ÿå¯åŠ¨æ‚¨çš„å› æœæ¨æ–­ä¹‹æ—…]'
- en: Learn 3 techniques for causal effect identification and implement them in Python
    without losing months, weeks or daysâ€¦
  id: totrans-116
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: å­¦ä¹  3 ç§å› æœæ•ˆåº”è¯†åˆ«æŠ€å·§ï¼Œå¹¶åœ¨ Python ä¸­å®ç°å®ƒä»¬ï¼Œä¸ç”¨èŠ±è´¹å‡ ä¸ªæœˆã€å‡ å‘¨æˆ–å‡ å¤©çš„æ—¶é—´...
- en: 'towardsdatascience.com](/causal-kung-fu-in-python-3-basic-techniques-to-jump-start-your-causal-inference-journey-tonight-ae09181704f7?source=post_page-----187114fc4aa8--------------------------------)
    [](/beyond-the-basics-level-up-your-causal-discovery-skills-in-python-now-2023-cabe0b938715?source=post_page-----187114fc4aa8--------------------------------)
    [## Causal Python: Level Up Your Causal Discovery Skills in Python [Beyond the
    basics!] (2023)'
  id: totrans-117
  prefs: []
  type: TYPE_NORMAL
  zh: '[towardsdatascience.com](/causal-kung-fu-in-python-3-basic-techniques-to-jump-start-your-causal-inference-journey-tonight-ae09181704f7?source=post_page-----187114fc4aa8--------------------------------)
    [](/beyond-the-basics-level-up-your-causal-discovery-skills-in-python-now-2023-cabe0b938715?source=post_page-----187114fc4aa8--------------------------------)
    [## Causal Python: æå‡ä½ åœ¨ Python ä¸­çš„å› æœå‘ç°æŠ€èƒ½ [è¶…è¶ŠåŸºç¡€ï¼] (2023)'
- en: â€¦and unlock the potential of the best & most underrated Causal Discovery package
    in Python!
  id: totrans-118
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: â€¦å¹¶æŒ–æ˜ Python ä¸­æœ€ä¼˜ç§€ä¸”æœ€è¢«ä½ä¼°çš„å› æœå‘ç°åŒ…çš„æ½œåŠ›ï¼
- en: towardsdatascience.com](/beyond-the-basics-level-up-your-causal-discovery-skills-in-python-now-2023-cabe0b938715?source=post_page-----187114fc4aa8--------------------------------)
    [](https://aleksander-molak.medium.com/yes-six-causality-books-that-will-get-you-from-zero-to-advanced-2023-f4d08718a2dd?source=post_page-----187114fc4aa8--------------------------------)
    [## Yes! Six Causality Books That Will Get You From Zero to Advanced (2023)
  id: totrans-119
  prefs: []
  type: TYPE_NORMAL
  zh: '[towardsdatascience.com](/beyond-the-basics-level-up-your-causal-discovery-skills-in-python-now-2023-cabe0b938715?source=post_page-----187114fc4aa8--------------------------------)
    [](https://aleksander-molak.medium.com/yes-six-causality-books-that-will-get-you-from-zero-to-advanced-2023-f4d08718a2dd?source=post_page-----187114fc4aa8--------------------------------)
    [## æ˜¯çš„ï¼å…­æœ¬å› æœå…³ç³»ä¹¦ç±å°†å¸¦ä½ ä»é›¶åˆ°é«˜çº§ (2023)'
- en: â€¦and you can get 3 of them completely for free if you want! ğŸ¤—
  id: totrans-120
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: â€¦è€Œä¸”å¦‚æœä½ æ„¿æ„çš„è¯ï¼Œå¯ä»¥å®Œå…¨å…è´¹è·å¾—å…¶ä¸­çš„ä¸‰æœ¬ï¼ğŸ¤—
- en: aleksander-molak.medium.com](https://aleksander-molak.medium.com/yes-six-causality-books-that-will-get-you-from-zero-to-advanced-2023-f4d08718a2dd?source=post_page-----187114fc4aa8--------------------------------)
  id: totrans-121
  prefs: []
  type: TYPE_NORMAL
  zh: '[aleksander-molak.medium.com](https://aleksander-molak.medium.com/yes-six-causality-books-that-will-get-you-from-zero-to-advanced-2023-f4d08718a2dd?source=post_page-----187114fc4aa8--------------------------------)'
- en: References
  id: totrans-122
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: å‚è€ƒæ–‡çŒ®
- en: 'Abadie, A. (2021). Using Synthetic Controls: Feasibility, Data Requirements,
    and Methodological Aspects. *Journal of Economic Literature*.'
  id: totrans-123
  prefs: []
  type: TYPE_NORMAL
  zh: Abadie, A. (2021). ä½¿ç”¨åˆæˆæ§åˆ¶æ³•ï¼šå¯è¡Œæ€§ã€æ•°æ®è¦æ±‚å’Œæ–¹æ³•è®ºæ–¹é¢ã€‚*ç»æµæ–‡çŒ®æ‚å¿—*ã€‚
- en: 'Abadie, A., & Gardeazabal, J. (2003). The Economic Costs of Conflict: A Case
    Study of the Basque Country. *Public Choice & Political Economy eJournal*.'
  id: totrans-124
  prefs: []
  type: TYPE_NORMAL
  zh: Abadie, A., & Gardeazabal, J. (2003). å†²çªçš„ç»æµæˆæœ¬ï¼šä»¥å·´æ–¯å…‹åœ°åŒºä¸ºä¾‹ã€‚*å…¬å…±é€‰æ‹©ä¸æ”¿æ²»ç»æµå­¦ç”µå­æœŸåˆŠ*ã€‚
- en: Athey, S., & Imbens, G. (2017). [The State of Applied Econometrics â€” Causality
    and Policy Evaluation](https://arxiv.org/pdf/1607.00699.pdf). *Journal of Economic
    Perspectives 32*(2).
  id: totrans-125
  prefs: []
  type: TYPE_NORMAL
  zh: Athey, S., & Imbens, G. (2017). [åº”ç”¨è®¡é‡ç»æµå­¦çš„ç°çŠ¶â€”â€”å› æœå…³ç³»å’Œæ”¿ç­–è¯„ä¼°](https://arxiv.org/pdf/1607.00699.pdf)ã€‚*ç»æµå­¦è§†è§’æ‚å¿—
    32*(2)ã€‚
- en: Gelman, A., Goodrich, B., Gabry, J., & Vehtari, A. (2018). R-squared for Bayesian
    regression models. *The American Statistician.*
  id: totrans-126
  prefs: []
  type: TYPE_NORMAL
  zh: Gelman, A., Goodrich, B., Gabry, J., & Vehtari, A. (2018). è´å¶æ–¯å›å½’æ¨¡å‹çš„ R å¹³æ–¹ã€‚*ç¾å›½ç»Ÿè®¡å­¦å®¶*ã€‚
