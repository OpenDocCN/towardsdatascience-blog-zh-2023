# 解剖 Twitter 顶级声音的覆盖范围和影响力

> 原文：[https://towardsdatascience.com/dissecting-the-reach-and-impact-of-twitters-top-voices-52262ef58b40](https://towardsdatascience.com/dissecting-the-reach-and-impact-of-twitters-top-voices-52262ef58b40)

## 用数据科学绘制 Twitter 影响力的全景

## 深入探讨塑造 Twitter 最强大声音的关系和模式

[](https://johnadeojo.medium.com/?source=post_page-----52262ef58b40--------------------------------)[![John Adeojo](../Images/f6460fae462b055d36dce16fefcd142c.png)](https://johnadeojo.medium.com/?source=post_page-----52262ef58b40--------------------------------)[](https://towardsdatascience.com/?source=post_page-----52262ef58b40--------------------------------)[![Towards Data Science](../Images/a6ff2676ffcc0c7aad8aaf1d79379785.png)](https://towardsdatascience.com/?source=post_page-----52262ef58b40--------------------------------) [John Adeojo](https://johnadeojo.medium.com/?source=post_page-----52262ef58b40--------------------------------)

·发表于 [Towards Data Science](https://towardsdatascience.com/?source=post_page-----52262ef58b40--------------------------------) ·阅读时间 16 分钟·2023年4月6日

--

![](../Images/877907422ebf12aa0b47cd80c3a6882f.png)

图片由作者生成，Midjourney 提示：“一幅描绘 2023 年 Twitter 状况的巴洛克风格杰作”

# 介绍

Twitter 因为一些大型账户的影响力而成为众多争议的中心。前 100 个 Twitter 账户（按关注人数排序）总关注量估计约为 41 亿。我们已经看到 Twitter 的顶级声音如何左右政治观点、影响金融市场、设定趋势，甚至煽动仇恨。作为一名数据科学家，我自然对通过深入分析他们的推文能揭示出什么样的模式感到好奇。

本文的其余部分将探讨我如何通过检查这些账户之间的关系来理解其影响力的本质。我将使用聚类算法和统计分析来揭示集群内部及跨集群的模式。我希望能更深入地了解这些顶级声音所具有的影响力的性质。

*前 100 个 Twitter 账户* [*关注者数量的来源是 Social Blade（2023年3月）*](https://socialblade.com/twitter/top/100) *。*

*免责声明：此分析纯属探索性质，不应被视为定论。作者与提到的账户所有者没有任何关联，提供的见解也未得到他们的认可。*

# 网络应用

我喜欢在项目中分享应用程序，以使读者的体验更加互动和参与。我将聚类和统计分析功能构建成一个网页，读者可以在其中进行实验。你可以调整聚类算法的超参数，并亲自观察这些调整对分析的影响。我建议在进行这些操作之前先阅读相关内容，以便熟悉方法。

💻账户 [聚类应用](https://john-adeojo-twitter-in-scriptsstreamlit-appinfluence-app-16fgz2.streamlit.app/) — 这个应用可以在手机上使用，但在电脑上查看效果最佳。

*注意：由于库依赖问题，应用在 Streamlit 服务器上的编译效果与本地略有不同。应用中的聚类标签与博客文章中的显示有轻微不对齐，但聚类本身仍然相同。*

# 数据

我使用了 Twitter API 从每个账户提取了最新的 100 条公开推文。由于 Twitter 数据比较混乱，我在进行分析之前进行了常规的预处理，去除了 URL。

转发被排除在分析之外，因此重点仅在于每个账户的原创推文。这确实使得一些账户的推文数量少于 100 条。由于 Twitter API 的局限性，这一问题较难解决。

*请注意，这符合 Twitter 的服务条款。他们允许通过* [*其 API*](https://developer.twitter.com/en/developer-terms/agreement-and-policy)*分析和聚合公开可用的数据。数据允许用于* [*非商业和商业用途*](https://developer.twitter.com/en/developer-terms/commercial-terms#:~:text=Know%20that%20if%20you%20are,access%20are%20available%20for%20free).&text=Your%20product%20or%20service%20is%20monetized%20if%20you%20earn%20money%20from%20it.)*。*

# 目录

1.  **定义影响力**：我如何定义和量化影响力。

1.  **维度减少与聚类**：使用 UMAP 和 HDBSCAN 算法揭示数据中的隐藏结构。

1.  **统计分析**：对聚类进行深入的统计分析。

1.  **观察结果**：对聚类和统计分析结果的评论。

1.  **局限性与扩展**：对这种方法的局限性进行简要讨论，并探讨如何进行扩展。

# 1\. 定义影响力

第一步是明确影响力的定义。我将其概念化为两个主要类别，参与度和影响力。参与度估算了账户与其粉丝之间通过推文的互动情况。影响力估算了推文背后的情感和/或观点。

## 参与度指标

所有参与度指标都经过了调整，依据的是账户在分享推文时的粉丝数量，然后进行归一化处理。

+   **收藏次数**：推文被收藏的次数。

+   **转发次数**：推文被转发的次数。

+   **引用次数**：推文被引用的次数。

+   **回复数**：推文被回复的次数。

参与度指标

## 影响指标

影响指标通过对每条推文运行分类模型被细分为情感和情绪分布。之后，计算每个子类别在账户层面的分布。情感的子类别包括：积极、消极和中立。情绪的子类别包括：愤怒、快乐、乐观和悲伤。

用于在数据框中的推文上运行情感/情绪模型的模块。

*请注意，模块 TextCleaner 是我创建的，用于从推文中删除 URL。*

对每条推文进行情感和情绪分析，并在账户层面创建分布

*情感和情绪检测的输出。每个 user_id 指代一个账户。这在聚类之前会与账户层面的指标表进行合并。*

![](../Images/5297d531b167046ebda983596a70d87e.png)

作者提供的图片：账户层面的情感和情绪分布

## *关于大型语言模型的说明*

*我使用了 Twitter-roBERTa-base 来进行情绪和情感分类。研究人员对约 6000 万条推文进行了模型预训练，并分别对情绪识别和情感分析进行了微调¹。训练语料库由 Twitter 自动标注的推文（英语）组成。研究人员已发布了模型在所有任务上的性能指标。*

![](../Images/f91a89b6ad5d8583ec1b5851fd895bf1.png)

图片来自 Barbieri (2020)¹

# 2\. 维度降低与聚类

维度降低和聚类的目的是揭示隐藏的结构，因此，基于定义的影响指标来探讨账户之间的关系。我将详细描述我如何做到这一点。

统计所有影响指标后，我们有 12 个维度需要聚类。在这样的高维空间中进行聚类可能会遮蔽模式（参见 [维度诅咒](https://en.wikipedia.org/wiki/Curse_of_dimensionality)），更不用说它是不可能进行可视化的。我通过使用 UMAP 将 12 个维度减少到仅两个来解决这个问题。

## 使用 UMAP 进行维度降低

在高层次上，UMAP 使用图布局算法将数据从更高维空间降低到较低维空间，同时尽可能保持结构相似性。

> *你可以将这视为在较低维度中保留高维空间中的‘信息’。*

UMAP 不会完美地保留 12 个维度中的所有信息，但通过选择合适的超参数，它保留了足够的信息，给我们提供了数据结构的一些见解。选择合适的 UMAP 参数更像是一种艺术而非科学，我主要是调整参数，直到形成看似连贯的簇，考虑诸如样本量等因素。我将简要说明每个超参数及其对聚类的影响。

*这是一个很酷的* [*资源*](https://pair-code.github.io/understanding-umap/#:~:text=UMAP%2C%20at%20its%20core%2C%20works,as%20structurally%20similar%20as%20possible.) *可以帮助你更好地理解UMAP*

+   **n_neighbours**：在构建高维图时，确定每个数据点所考虑的最近邻居的数量。它调整数据的局部和全局结构。较小的值优先考虑局部结构，结果是更详细的聚类，而较大的值则强调全局结构，导致聚类更连通且不那么明显。

+   **min_distance**：控制低维嵌入中数据点之间的最小距离（由UMAP算法构造）。它决定了点的聚集程度。较小的值生成更紧凑的聚类，保留局部结构。较大的值则将聚类扩展开来，使得可视化全局关系更容易，但可能会丢失一些细节。

+   **距离度量**：UMAP算法使用距离度量来计算数据点之间的最小距离。由于12个维度是连续且归一化的（值范围在0到1之间），我选择使用欧氏距离。这一选择是合适的，因为欧氏距离测量两点之间的直线距离，有效地捕捉了归一化数据集中的关系。

## 使用HDBSCAN进行聚类

在降低度量空间的维度后，我能够应用聚类和随后的数据可视化。对于聚类，我利用了HDBSCAN算法，这是一种基于密度的聚类算法，可以有效地在二维空间中工作。

高层次上，HDBSCAN根据密度转换数据点之间的空间，构建距离加权图的最小生成树，形成聚类层次结构，然后提取稳定的聚类。我使用HDBSCAN是因为它的稳健性和简洁性。只有一个（重要的）超参数需要调整——最小聚类大小。

*HDBSCAN库的创建者提供了详尽的* [*文档*](https://hdbscan.readthedocs.io/en/latest/how_hdbscan_works.html) *供你进一步了解算法的内部工作原理。*

*我编写的生成聚类的模块：*

用于执行UMAP降维和聚类的模块

运行聚类分析

在账户数据上运行聚类生成了六个稳定的聚类。我将在下一节中使用一些统计分析来研究这些聚类。

![](../Images/3c6767f29993407f03033d8c04560b7d.png)

作者提供的图像：由聚类分析生成的账户聚类

你可以通过我建立的[网页应用](https://john-adeojo-twitter-in-scriptsstreamlit-appinfluence-app-16fgz2.streamlit.app/)自己实验聚类分析。

# 3. 统计分析

我对各个类别进行了深入分析，以揭示隐藏的关系。所有统计分析都以0.05的显著性水平进行评估。

## 谁在这些类别中？

此时，我认为列出每个类别中的个体账户是有意义的。这应该为随后的分析提供一些背景。

**第0类：政治类别——** 主要是政治家和世界领导人。令人惊讶的是，艾玛·沃特森和比尔·盖茨被包含在这个类别中……模型是否预测了他们未来职业志向的某些东西？两者都以政治活跃而闻名，因此这可能在他们的推文中有所体现。

[PRE0]

**第1类：新闻媒体（主要）——** 这主要是新闻媒体，但其中也包括一些名人。其中一些以其争议性的推文而闻名——这可能是为什么模型将他们与新闻媒体进行聚类的原因？

[PRE1]

**第2类：主要是体育组织——** 有趣的是，相当多的与体育相关的账户被包含在这个类别中：我认为除了两个，其他的都在这里。然而，难以将第2类仅仅归为体育，因为这里还有大量其他类型的账户。

*注：指的是团队和组织，而不是运动员本身。*

[PRE2]

**第3类：流行歌星和脱口秀主持人——** 第3类主要是流行歌星，但也包括一些电视名人，如奥普拉·温弗瑞和艾伦·德詹尼丝等。可以将这个类别大致归为娱乐类。这里只有一个组织，Instagram，因此我们可以非正式地将其归类为“明星”类别。

[PRE3]

**第4类：运动员——** 第4类主要是运动员，主要是足球运动员和板球运动员。除了谷歌、布兰妮·斯皮尔斯和尼尔·帕特里克·哈里斯，这个类别几乎完全一致。

[PRE4]

**第5类：主要是流行歌星——** 模式似乎是流行歌星，但这里也有相当多的名人和演员。明显的异常值有曼联和英超联赛。类似于第3类，你可以将其大致归为娱乐类。

[PRE5]

## 情感与情绪的卡方分析

类别与情感/情绪分布之间是否存在关联？为回答这个问题，我进行了[卡方](https://www.statisticshowto.com/probability-and-statistics/chi-square/)测试，以查看是否存在统计显著的关联。卡方检验比较了情感/情绪的预期分布（如果它们只是随机分配到各个类别）与实际数据中观察到的情况。我计算了每个类别和情感/情绪组合的标准化残差，以测量每个观察值与预期值的偏差（通过热图显示）。你可以将较高的标准化残差粗略解释为该类别对特定情感或情绪的‘更大’倾向。

*卡方统计量：2291.23，p值小于0.05*

![](../Images/a9754e01fa1ba62f667a0af9bb98be2b.png)

作者提供的图像：按簇分类的情绪标准残差

*卡方统计量：1535.78，p值小于0.05*

![](../Images/860d11e078efd376398c3b5a686a3fd5.png)

作者提供的图像：按簇分类的情感标准残差

## 参与度指标的统计分析

我想了解参与度指标在各个簇中的分布情况。我通过进行一系列统计测试来实现这一点。

**克鲁斯卡尔-沃利斯检验**：我对每个参与度指标进行了初步的克鲁斯卡尔-沃利斯检验，以了解各簇之间每个参与度指标的中位值是否存在统计显著差异。

*注：克鲁斯卡尔-沃利斯检验假设所有比较分布的形状相同，并且样本是随机且独立的。快速检查箱线图显示大多数分布是长尾的。克鲁斯卡尔-沃利斯检验应用于对数变换的调整后*参与度*指标。*

![](../Images/196490f68b3d6fee71a1a6d67251d4f1.png)![](../Images/cb148a69dae6f6bbba606338f9447d19.png)![](../Images/b8a850c1ca310a0f18f8603759f9218d.png)![](../Images/fc2d9661d704d0b5a95dfbfe55b8d2c0.png)

作者提供的图像：参与度指标分布的形状

克鲁斯卡尔-沃利斯检验的结果表明，各簇之间的参与度指标中位值存在统计显著差异。然而，它并未告诉我们哪些簇之间存在差异。我进行了些后续的统计测试，以确定成对的簇差异。

*注：p值小于0.05表示统计显著性*

[PRE6]

**邓恩检验**：邓恩检验是一种非参数后续检验，用于在克鲁斯卡尔-沃利斯检验后进行成对的多重比较。它在调整多重比较的同时比较两组之间排名数据的差异。邓恩检验的主要假设包括：

1.  **独立观察**：每组中的观察应该彼此独立。

1.  **序数或连续数据**：数据应该是序数或连续的。

1.  **组间方差（离散度）的同质性**：虽然与ANOVA等参数检验相比，邓恩检验对方差同质性的假设较不敏感，但它仍然假设数据的离散度在各组之间相似。如果这一假设被违反，测试结果可能不够可靠。

1.  **随机抽样**：数据应通过从感兴趣的总体中随机抽样获得。

邓恩检验告诉我们簇的中位值是否显著不同。对于p值为“NaN”的地方，中位数没有显著差异。为了简洁起见，我仅展示了对调整后收藏的邓恩检验结果。

[PRE7]

我生成了所有参与度指标的热图，显示统计上显著的中位数差异方向。为了便于解释，差异以每个粉丝的单位数计。差异表示为行减去列。

![](../Images/2dce724de3f9da58927544283e9d20d6.png)![](../Images/4712fa0fdacf19b8211db1f66602ef5f.png)

作者提供的图像：调整后的点赞和转发的中位数差异（差异表示为行（i）减去列（j））

![](../Images/05837f6f0ab36fcc56c5098f23f75589.png)![](../Images/7f767dd6f03c90c6afdb374d40a020a1.png)

作者提供的图像：调整后的引用和回复的中位数差异（差异表示为行（i）减去列（j））

# **4. 观察**

## **簇 0 — 政治簇**

**情感与情绪**：最引人注目的是愤怒的强标准残差（27）。在我看来，由于该簇中政治家的突出地位，这一点并不太令人惊讶——注意到乐观度在这里也很低。这是否会根据更广泛的经济和政治气候而变化？在撰写时，我们已经看到硅谷银行的崩溃、科技行业的大规模裁员、生活成本的增加。愤怒和低乐观度可能是这种情况的反映。

**参与度指标**：调整后的引用和回复的中位数值（几乎）始终高于其他簇，簇 3 除外。如果我要猜测的话，我会认为这一观察主要由政治辩论驱动。从箱形图中我们可以看到，簇 0 的异常值数量较少，这可能部分是由于该簇相对较小。

![](../Images/ea982c260ad61d7a5f7914886ddeba32.png)

作者提供的图像：簇 0 的词云

## **簇 1 — 新闻媒体：**

**情感与情绪**：负面和正面情绪的标准残差分别为 16 和 -17。这是合理的，因为该簇主要是新闻媒体。奇怪的是，喜悦和悲伤的正残差较高。这可能表明情感模型和情绪模型之间存在一些不一致，尽管仅凭此分析很难确定。中立性也强烈为正，这可能在传播金融新闻时是预期的。争议性公众人物的存在也可能贡献于观察到的残差。

**参与度指标**：簇 1 的中位参与度相对于其他簇始终较低。这可能与新闻媒体的强中立性有关。

![](../Images/e23bf4089805d55b5d3b471fe74b6171.png)

作者提供的图像：簇 1 的词云

## **簇 2 — 主要是体育媒体**

**情感与情绪**：这个集群有一个强烈的中性标准残差。它也有最低的负面残差和第二低的愤怒残差，但由第二高的乐观残差所平衡。对于体育媒体来说，乐观是有意义的，因为我想象这有很多宣传材料。

**互动指标**：类似于集群 1，有趣的是，它们都具有强烈的中性残差。这些集群在一定程度上被新闻/媒体主导而非个人，这可能驱动了较低的互动。

![](../Images/c72e7a5baf61dc4ba0d9c460d6bc132a.png)

作者图片：集群 2 的词云

## **集群 3 — 流行歌手和脱口秀主持人**

**情感与情绪**：集群 3 在娱乐方面较重。残差更倾向于正面情感和乐观。也许这很有意义，因为娱乐通常应该是轻松和有趣的。

**互动指标**：集群 3 的互动中位数在各方面都是最高的。通过查看箱型图，我们可以看到离群值的数量和幅度都大于其他集群。考虑到集群内的名字，这似乎并不令人惊讶，它似乎是所有集群中 A-list 名人账户的浓度最高的。离群值给了我们一些迹象，表明这个集群的推文相比之下更有可能“病毒式传播”。我会谨慎地认为这可能只是由于集群 3 相对其他集群的样本效应。然而，较大的中位数互动差异在一定程度上表明了病毒式传播。

![](../Images/81dbdd2c010b5e93c1bc56bc6614d7b7.png)

作者图片：集群 3 的词云

## **集群 4 — 运动员**

**情感与情绪**：主要是高度的积极性，一些愤怒，一些乐观，但关键是低悲伤。我认为这很好地捕捉了运动员的高能量特性。

**互动指标**：中位数关注者调整的转发、收藏和回复都高于除了集群 3 和 0 之外的所有集群。这可能与分享的内容类型有关。例如，这个集群可能有更多的视频内容。中位数引用也低于其他集群，这也许更多地证明了视频和图片内容相对于文字内容的存在。

![](../Images/29cc4347bcc01b6f1434731d9170bcdd.png)

作者图片：集群 4 的词云

## **集群 5 —** 主要是流行歌手

**情感与情绪**：该集群具有最低的愤怒和悲伤，以及最高的乐观和正面情感残差。它与集群 3 有相似之处。

**互动指标**：集群5是一个混合体，但与其他娱乐相关集群有类似的模式，只是从互动指标的角度来看效果稍弱。与集群3类似，这个集群在互动指标上有一些大的异常值。可以说，集群5实际上只是集群3的一个子集，从互动和情感的角度来看。

![](../Images/c6f161c636dd030afd504150ea6ab278.png)

作者提供的图像：集群5的词云

# 5\. 局限性与扩展

在结束之前，我应该讨论这种方法的局限性，实际上存在几种。

1.  由于我们仅查看每个账户的最后100条推文，因此这些集群不一定在时间上稳定。账户的发推方式可能会随着时间的推移而因复杂的外部情况而发生变化。可以将分析扩展以捕捉时间上的关系。

1.  该方法依赖于预训练的分类模型。尽管它们在最先进的基准测试中表现良好，但并不完美。尽管如此，将更多的影响指标如讽刺、仇恨言论检测纳入其中将会很有趣。

1.  聚类的结果可能会根据分析师选择的超参数而变化。将这种无监督机器学习方法与专业领域知识相结合总是有益的，以确保形成的聚类是合理的。与社交媒体专家合作，听取他们对生成的见解的看法，将会很有趣。

感谢阅读。

[](https://johnadeojo.medium.com/membership?source=post_page-----52262ef58b40--------------------------------) [## 通过我的推荐链接加入 Medium - 约翰·阿德约]

### 我分享数据科学项目、经验和专业知识，以帮助你在你的旅程中。你可以通过...

[johnadeojo.medium.com](https://johnadeojo.medium.com/membership?source=post_page-----52262ef58b40--------------------------------) [](https://www.john-adeojo.com/?source=post_page-----52262ef58b40--------------------------------) [## 首页 | 约翰·阿德约]

### 关于我 作为一名经验丰富的数据科学家和机器学习（ML）专家，我热衷于利用...

[www.john-adeojo.com](https://www.john-adeojo.com/?source=post_page-----52262ef58b40--------------------------------)

在 [LinkedIn](https://www.linkedin.com/in/john-adeojo/) 上关注我

# 引用

[1] Barbieri, Camacho-Collados, Neves, & Espinosa-Anke (2020年10月26日). TWEETEVAL: 统一基准与推文分类的比较评估。Snap Inc., Santa Monica, CA 90405, USA & 计算机科学与信息学学院, 卡迪夫大学, 英国。获取自 [https://arxiv.org/pdf/2010.12421.pdf](https://arxiv.org/pdf/2010.12421.pdf)

[2] Ostertagova, E., Ostertag, O., & Kováč, J. (2014). Kruskal-Wallis 检验的方法论与应用。《应用力学与材料》，611，115–120。

[3] Dinno, A. (2015). 使用 Dunn 检验在独立组中进行非参数配对多重比较。Stata Journal, 15, 292–300\. [https://doi.org/10.1177/1536867X1501500117](https://doi.org/10.1177/1536867X1501500117)
