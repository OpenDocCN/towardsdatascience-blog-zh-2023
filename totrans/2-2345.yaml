- en: Whatâ€™s new in Pandas 2.0?
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: Pandas 2.0 æœ‰ä»€ä¹ˆæ–°å˜åŒ–ï¼Ÿ
- en: åŸæ–‡ï¼š[https://towardsdatascience.com/whats-new-in-pandas-2-0-5df366eb0197](https://towardsdatascience.com/whats-new-in-pandas-2-0-5df366eb0197)
  id: totrans-1
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: åŸæ–‡ï¼š[https://towardsdatascience.com/whats-new-in-pandas-2-0-5df366eb0197](https://towardsdatascience.com/whats-new-in-pandas-2-0-5df366eb0197)
- en: The five things to know about the big release
  id: totrans-2
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: å…³äºè¿™æ¬¡é‡å¤§å‘å¸ƒçš„äº”ä»¶äº‹
- en: '[](https://jeffhale.medium.com/?source=post_page-----5df366eb0197--------------------------------)[![Jeff
    Hale](../Images/11d534200a7fdc5d997fa2ddbc66132b.png)](https://jeffhale.medium.com/?source=post_page-----5df366eb0197--------------------------------)[](https://towardsdatascience.com/?source=post_page-----5df366eb0197--------------------------------)[![Towards
    Data Science](../Images/a6ff2676ffcc0c7aad8aaf1d79379785.png)](https://towardsdatascience.com/?source=post_page-----5df366eb0197--------------------------------)
    [Jeff Hale](https://jeffhale.medium.com/?source=post_page-----5df366eb0197--------------------------------)'
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: '[](https://jeffhale.medium.com/?source=post_page-----5df366eb0197--------------------------------)[![Jeff
    Hale](../Images/11d534200a7fdc5d997fa2ddbc66132b.png)](https://jeffhale.medium.com/?source=post_page-----5df366eb0197--------------------------------)[](https://towardsdatascience.com/?source=post_page-----5df366eb0197--------------------------------)[![Towards
    Data Science](../Images/a6ff2676ffcc0c7aad8aaf1d79379785.png)](https://towardsdatascience.com/?source=post_page-----5df366eb0197--------------------------------)
    [Jeff Hale](https://jeffhale.medium.com/?source=post_page-----5df366eb0197--------------------------------)'
- en: Â·Published in [Towards Data Science](https://towardsdatascience.com/?source=post_page-----5df366eb0197--------------------------------)
    Â·5 min readÂ·Apr 10, 2023
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: Â·å‘è¡¨äº [Towards Data Science](https://towardsdatascience.com/?source=post_page-----5df366eb0197--------------------------------)
    Â·é˜…è¯»æ—¶é—´ 5 åˆ†é’ŸÂ·2023 å¹´ 4 æœˆ 10 æ—¥
- en: --
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: --
- en: Pandas 2.0 hit general availability on April 3, 2023\. Letâ€™s see what features
    are hotter than a Corgi in the sunshine. â˜€ï¸
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: Pandas 2.0 äº 2023 å¹´ 4 æœˆ 3 æ—¥æ­£å¼å‘å¸ƒã€‚è®©æˆ‘ä»¬çœ‹çœ‹å“ªäº›åŠŸèƒ½æ¯”é˜³å…‰ä¸‹çš„æŸ¯åŸºè¿˜è¦ç‚™æ‰‹å¯çƒ­ã€‚â˜€ï¸
- en: '![](../Images/64c4f87ef9ed00d3cb56323cded1e96c.png)'
  id: totrans-7
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/64c4f87ef9ed00d3cb56323cded1e96c.png)'
- en: 'Source: pixabay.com'
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: æ¥æºï¼špixabay.com
- en: Three years ago I wrote [Whatâ€™s new in Pandas 1.0](/whats-new-in-pandas-1-0-ffa99bd43a58).
    One pandemic and a bunch of AI advances later, here we are with pandas 2.0.
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸‰å¹´å‰ï¼Œæˆ‘å†™äº† [Pandas 1.0 æœ‰ä»€ä¹ˆæ–°å˜åŒ–](/whats-new-in-pandas-1-0-ffa99bd43a58)ã€‚ç»å†äº†ä¸€åœºå¤§æµè¡Œå’Œä¸€ç³»åˆ—
    AI è¿›å±•ä¹‹åï¼Œæˆ‘ä»¬è¿æ¥äº† pandas 2.0ã€‚
- en: Pandas is the standard, brain-friendly Python library for working with data.
    The 2.0 update is all about making pandas faster and more memory efficient. Memory
    is the number one reason people need to leave pandas for Dask, Ray, SQL databases,
    Spark DataFrames, and other tools. The more you can reduce memory use while working
    in pandas, the easier life is. ğŸ™‚
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: Pandas æ˜¯æ ‡å‡†çš„ã€è„‘åŠ›å‹å¥½çš„ Python æ•°æ®å¤„ç†åº“ã€‚2.0 æ›´æ–°çš„é‡ç‚¹æ˜¯è®© pandas æ›´å¿«ã€æ›´èŠ‚çœå†…å­˜ã€‚å†…å­˜æ˜¯äººä»¬éœ€è¦ç¦»å¼€ pandas
    è½¬å‘ Daskã€Rayã€SQL æ•°æ®åº“ã€Spark DataFrames å’Œå…¶ä»–å·¥å…·çš„ä¸»è¦åŸå› ã€‚å‡å°‘å†…å­˜ä½¿ç”¨ä¼šä½¿ pandas çš„ä½¿ç”¨å˜å¾—æ›´åŠ è½»æ¾ã€‚ğŸ™‚
- en: As you might expect with a major release version, pandas 2.0 has a number of
    significant changes. Letâ€™s dig in!
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: æ­£å¦‚ä½ å¯èƒ½æœŸæœ›çš„é‚£æ ·ï¼Œä½œä¸ºä¸€ä¸ªä¸»è¦ç‰ˆæœ¬ï¼Œpandas 2.0 æœ‰è®¸å¤šæ˜¾è‘—çš„å˜åŒ–ã€‚è®©æˆ‘ä»¬æ·±å…¥äº†è§£ä¸€ä¸‹ï¼
- en: pyarrow *ğŸâ¡ï¸*
  id: totrans-12
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: pyarrow *ğŸâ¡ï¸*
- en: If thereâ€™s one word to sum up this release itâ€™s *pyarrow.*
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: å¦‚æœç”¨ä¸€ä¸ªè¯æ¥æ€»ç»“è¿™æ¬¡å‘å¸ƒï¼Œé‚£å°±æ˜¯ *pyarrow*ã€‚
- en: Pandas was built using NumPy data structures for memory management. Now you
    have the option to us use [pyarrow](https://arrow.apache.org/docs/python/index.html)
    as your backing memory format.
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: Pandas æ˜¯ä½¿ç”¨ NumPy æ•°æ®ç»“æ„è¿›è¡Œå†…å­˜ç®¡ç†æ„å»ºçš„ã€‚ç°åœ¨ï¼Œä½ å¯ä»¥é€‰æ‹©ä½¿ç”¨ [pyarrow](https://arrow.apache.org/docs/python/index.html)
    ä½œä¸ºä½ çš„åå¤‡å†…å­˜æ ¼å¼ã€‚
- en: Using pyarrow means you a speed up and makes for more memory-efficient operations,
    because you can take advantage of the C++ implementation of [Arrow](https://arrow.apache.org/docs/cpp/index.html).
    Fun fact, the creator of pandas, [Wes McKinney](https://en.wikipedia.org/wiki/Wes_McKinney)
    went on to work on Arrow in 2016, after open sourcing pandas in 2009.
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: ä½¿ç”¨ pyarrow æ„å‘³ç€ä½ å¯ä»¥åŠ å¿«é€Ÿåº¦å¹¶æé«˜å†…å­˜ä½¿ç”¨æ•ˆç‡ï¼Œå› ä¸ºä½ å¯ä»¥åˆ©ç”¨ [Arrow](https://arrow.apache.org/docs/cpp/index.html)
    çš„ C++ å®ç°ã€‚æœ‰è¶£çš„æ˜¯ï¼Œpandas çš„åˆ›å§‹äºº [Wes McKinney](https://en.wikipedia.org/wiki/Wes_McKinney)
    åœ¨ 2009 å¹´å¼€æº pandas åï¼Œäº 2016 å¹´å¼€å§‹å‚ä¸ Arrow çš„å¼€å‘ã€‚
- en: Whatâ€™s Arrow? [Sebastian Raschk](https://twitter.com/rasbt) explains that itâ€™s
    â€œâ€¦an open-source and language-agnostic columnar data format to represent data
    in memory. It can enable zero-copy sharing of data between processes.â€
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: Arrow æ˜¯ä»€ä¹ˆï¼Ÿ [Sebastian Raschk](https://twitter.com/rasbt) è§£é‡Šé“ï¼Œå®ƒæ˜¯â€œâ€¦ä¸€ç§å¼€æºä¸”ä¸è¯­è¨€æ— å…³çš„åˆ—å¼æ•°æ®æ ¼å¼ï¼Œç”¨äºåœ¨å†…å­˜ä¸­è¡¨ç¤ºæ•°æ®ã€‚å®ƒå¯ä»¥å®ç°è¿›ç¨‹é—´çš„æ•°æ®é›¶æ‹·è´å…±äº«ã€‚â€
- en: Columnar data stores group columns of data together in memory, making for faster
    operations on tasks such as returning the mean of a column. Arrow datatypes also
    incorporate such useful concepts as null values, as discussed above.
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: åˆ—å¼æ•°æ®å­˜å‚¨å°†æ•°æ®åˆ—ç»„è£…åœ¨å†…å­˜ä¸­ï¼Œä»è€Œä½¿å¾—åœ¨è¯¸å¦‚è®¡ç®—åˆ—å‡å€¼ç­‰ä»»åŠ¡ä¸Šæ“ä½œæ›´å¿«ã€‚Arrow æ•°æ®ç±»å‹è¿˜åŒ…å«äº†å¦‚ç©ºå€¼ç­‰æœ‰ç”¨çš„æ¦‚å¿µï¼Œå¦‚ä¸Šæ‰€è¿°ã€‚
- en: Is pandas with pyarrow faster than other pandas alternatives? On a few task
    [Sebastian Raschka showed pandas could be faster](https://twitter.com/rasbt/status/1632090412117532672)
    than [polars](https://github.com/pola-rs/polars), a relatively new â€œLightning-fast
    DataFrame library for Rust and Pythonâ€ that also uses Arrow.
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: ä½¿ç”¨ pyarrow çš„ pandas æ¯”å…¶ä»– pandas æ›¿ä»£æ–¹æ¡ˆæ›´å¿«å—ï¼Ÿåœ¨ä¸€äº›ä»»åŠ¡ä¸Šï¼Œ[Sebastian Raschka æ˜¾ç¤º pandas å¯èƒ½æ¯”](https://twitter.com/rasbt/status/1632090412117532672)
    [polars](https://github.com/pola-rs/polars) æ›´å¿«ï¼Œpolars æ˜¯ä¸€ä¸ªç›¸å¯¹è¾ƒæ–°çš„â€œRust å’Œ Python çš„
    lightning-fast DataFrame åº“â€ï¼Œä¹Ÿä½¿ç”¨ Arrowã€‚
- en: 'Then Ritchie Vink, the author of the polars library, ran a comparison test
    on the [TPCH-10 benchmark](https://docs.deistercloud.com/content/Databases.30/TPCH%20Benchmark.90/index.xml?embedded=true),
    a larger, more relevant test for real-world data. See some of the results and
    discussion below:'
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: ç„¶åï¼Œpolars åº“çš„ä½œè€… Ritchie Vink å¯¹ [TPCH-10 åŸºå‡†æµ‹è¯•](https://docs.deistercloud.com/content/Databases.30/TPCH%20Benchmark.90/index.xml?embedded=true)
    è¿›è¡Œäº†æ¯”è¾ƒæµ‹è¯•ï¼Œè¿™æ˜¯ä¸€ä¸ªæ›´å¤§ã€æ›´ç›¸å…³çš„å®é™…æ•°æ®æµ‹è¯•ã€‚è¯·æŸ¥çœ‹ä»¥ä¸‹ä¸€äº›ç»“æœå’Œè®¨è®ºï¼š
- en: 'Source: [https://twitter.com/RitchieVink/status/1632334005264580608](https://twitter.com/RitchieVink/status/1632334005264580608)'
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: æ¥æºï¼š[https://twitter.com/RitchieVink/status/1632334005264580608](https://twitter.com/RitchieVink/status/1632334005264580608)
- en: Looks like pandas may still have a ways to go and that polars might be worth
    checking out if you havenâ€™t yet.
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: çœ‹èµ·æ¥ pandas å¯èƒ½è¿˜æœ‰ä¸€æ®µè·¯è¦èµ°ï¼Œå¦‚æœä½ è¿˜æ²¡æœ‰å°è¯•è¿‡ï¼Œpolars å¯èƒ½å€¼å¾—ä¸€è¯•ã€‚
- en: Using [Numba](https://pandas.pydata.org/docs/user_guide/enhancingperf.html#pandas-numba-engine)
    inside pandas is another option if you feel the need for speed. Regardless, the
    general advice to avoid premature optimization is sound.
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: å¦‚æœä½ è§‰å¾—éœ€è¦é€Ÿåº¦ï¼Œ[Numba](https://pandas.pydata.org/docs/user_guide/enhancingperf.html#pandas-numba-engine)
    æ˜¯å¦ä¸€ä¸ªé€‰é¡¹ã€‚åœ¨ä»»ä½•æƒ…å†µä¸‹ï¼Œé¿å…è¿‡æ—©ä¼˜åŒ–çš„æ™®éå»ºè®®æ˜¯åˆç†çš„ã€‚
- en: 'Hereâ€™s the code to use the pyrarrow backing format when reading in a CSV file:'
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: ä»¥ä¸‹æ˜¯ä½¿ç”¨ pyrarrow åç«¯æ ¼å¼è¯»å– CSV æ–‡ä»¶çš„ä»£ç ï¼š
- en: '[PRE0]'
  id: totrans-24
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: If you want to go deeper, Marc Garcia has a [nice post](https://datapythonista.me/blog/pandas-20-and-the-arrow-revolution-part-i)
    on the history of pandas memory structures and pyarrow support in pandas 2.0 (note
    that the syntax was updated between the pre-release version and general availability).
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: å¦‚æœä½ æƒ³æ·±å…¥äº†è§£ï¼ŒMarc Garcia æœ‰ä¸€ç¯‡[ä¸é”™çš„æ–‡ç« ](https://datapythonista.me/blog/pandas-20-and-the-arrow-revolution-part-i)ï¼Œä»‹ç»äº†
    pandas å†…å­˜ç»“æ„çš„å†å²ä»¥åŠ pandas 2.0 ä¸­å¯¹ pyarrow çš„æ”¯æŒï¼ˆæ³¨æ„ï¼Œåœ¨é¢„å‘å¸ƒç‰ˆæœ¬å’Œæ­£å¼å‘å¸ƒä¹‹é—´è¯­æ³•æœ‰æ‰€æ›´æ–°ï¼‰ã€‚
- en: nullable dtypes from the get go
  id: totrans-26
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: ä»ä¸€å¼€å§‹å°±æ”¯æŒå¯ç©ºæ•°æ®ç±»å‹
- en: All has not been easy with missing (null) values in pandas. Pandas was built
    on NumPy and NumPy didnâ€™t support null values for some data types.
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨ pandas ä¸­å¤„ç†ç¼ºå¤±ï¼ˆç©ºï¼‰å€¼å¹¶ä¸æ€»æ˜¯é‚£ä¹ˆå®¹æ˜“ã€‚Pandas æ˜¯å»ºç«‹åœ¨ NumPy ä¸Šçš„ï¼Œè€Œ NumPy å¯¹æŸäº›æ•°æ®ç±»å‹ä¸æ”¯æŒç©ºå€¼ã€‚
- en: For example, NumPy integer dtypes couldnâ€™t support null values. The introduction
    of a null value in an integer column led to automatic conversion of that column
    to a float dtype. One minute a column is an integer, the next minute itâ€™s a float.
    This was suboptimal, to say the least.
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: ä¾‹å¦‚ï¼ŒNumPy æ•´æ•°æ•°æ®ç±»å‹æ— æ³•æ”¯æŒç©ºå€¼ã€‚åœ¨æ•´æ•°åˆ—ä¸­å¼•å…¥ç©ºå€¼ä¼šå¯¼è‡´è¯¥åˆ—è‡ªåŠ¨è½¬æ¢ä¸ºæµ®ç‚¹æ•°æ®ç±»å‹ã€‚ä¸€åˆ†é’Ÿåˆ—æ˜¯æ•´æ•°ï¼Œä¸‹ä¸€åˆ†é’Ÿå˜æˆæµ®ç‚¹æ•°ã€‚è¿™è‡³å°‘å¯ä»¥è¯´æ˜¯ä¸ç†æƒ³çš„ã€‚
- en: 'Pandas 1.0 gave us nullable dtypes, but they took some work to use. Now, when
    you read data into your DataFrame you can specify you want nullable NumPy-backed
    dtypes like this:'
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: Pandas 1.0 ä¸ºæˆ‘ä»¬æä¾›äº†å¯ç©ºçš„æ•°æ®ç±»å‹ï¼Œä½†ä½¿ç”¨èµ·æ¥éœ€è¦ä¸€äº›å·¥ä½œã€‚ç°åœ¨ï¼Œå½“ä½ å°†æ•°æ®è¯»å–åˆ° DataFrame ä¸­æ—¶ï¼Œä½ å¯ä»¥æŒ‡å®šä½ æƒ³è¦å¯ç©ºçš„ NumPy
    æ”¯æŒçš„æ•°æ®ç±»å‹ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š
- en: '[PRE1]'
  id: totrans-30
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: 'UPDATE: Note that this syntax was updated since the 2.0 beta release.'
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: æ›´æ–°ï¼šæ³¨æ„ï¼Œè‡ª2.0 betaç‰ˆæœ¬ä»¥æ¥ï¼Œè¿™ç§è¯­æ³•å·²è¢«æ›´æ–°ã€‚
- en: Note that most, but not all `read_xxx` functions support nullable dtypes. See
    more [here](https://pandas.pydata.org/docs/whatsnew/v2.0.0.html#argument-dtype-backend-to-return-pyarrow-backed-or-numpy-backed-nullable-dtypes).
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: æ³¨æ„ï¼Œå¤§å¤šæ•°ï¼Œä½†ä¸æ˜¯æ‰€æœ‰çš„ `read_xxx` å‡½æ•°éƒ½æ”¯æŒå¯ç©ºçš„æ•°æ®ç±»å‹ã€‚æ›´å¤šä¿¡æ¯è¯·è§[è¿™é‡Œ](https://pandas.pydata.org/docs/whatsnew/v2.0.0.html#argument-dtype-backend-to-return-pyarrow-backed-or-numpy-backed-nullable-dtypes)ã€‚
- en: The `pyarrow` dtype gives you nullability from the get-go.
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: '`pyarrow` æ•°æ®ç±»å‹ä»ä¸€å¼€å§‹å°±æä¾›äº†ç©ºå€¼æ”¯æŒã€‚'
- en: More NumPy dtypes for indices
  id: totrans-34
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: æ›´å¤š NumPy æ•°æ®ç±»å‹ç”¨äºç´¢å¼•
- en: You now have a wider range of NumPy dtypes for pandas indices to reduce memory
    use. Now you can choose lower memory dtypes for indices. For example, you can
    specify the index to use 32-bit integers, saving 50% of the memory that you would
    have used previously, when 64-bit was the only option.
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: ç°åœ¨ï¼Œä½ å¯ä»¥ä¸º pandas ç´¢å¼•é€‰æ‹©æ›´å¤šçš„ NumPy æ•°æ®ç±»å‹ä»¥å‡å°‘å†…å­˜ä½¿ç”¨ã€‚ç°åœ¨ä½ å¯ä»¥é€‰æ‹©æ›´ä½å†…å­˜çš„æ•°æ®ç±»å‹ä½œä¸ºç´¢å¼•ã€‚ä¾‹å¦‚ï¼Œä½ å¯ä»¥æŒ‡å®šç´¢å¼•ä½¿ç”¨ 32
    ä½æ•´æ•°ï¼Œä»è€ŒèŠ‚çœä¹‹å‰åªèƒ½ä½¿ç”¨ 64 ä½æ•´æ•°æ—¶çš„ä¸€åŠå†…å­˜ã€‚
- en: '[PRE2]'
  id: totrans-36
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: Read more [here](https://pandas.pydata.org/pandas-docs/version/2.0/whatsnew/v2.0.0.html#index-can-now-hold-numpy-numeric-dtypes).
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: é˜…è¯»æ›´å¤š[è¿™é‡Œ](https://pandas.pydata.org/pandas-docs/version/2.0/whatsnew/v2.0.0.html#index-can-now-hold-numpy-numeric-dtypes)ã€‚
- en: copy-on-write mode
  id: totrans-38
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: å¤åˆ¶-on-å†™æ¨¡å¼
- en: Pandas is getting lazy. In a good way. ğŸ™‚ A slew of DataFrame and Series methods
    will no longer create a copy of the pandas object until needed. For example `df.head()`
    wonâ€™t create a new DataFrame with the first five rows, but instead just return
    a view of the first five rows.
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: Pandas å˜å¾—æ‡’æƒ°äº†ã€‚ä»¥ä¸€ç§å¥½çš„æ–¹å¼ã€‚ ğŸ™‚ å¤§é‡ DataFrame å’Œ Series æ–¹æ³•åœ¨éœ€è¦ä¹‹å‰ä¸ä¼šå†åˆ›å»º pandas å¯¹è±¡çš„å‰¯æœ¬ã€‚ä¾‹å¦‚ï¼Œ`df.head()`
    ä¸ä¼šåˆ›å»ºä¸€ä¸ªåŒ…å«å‰äº”è¡Œçš„æ–° DataFrameï¼Œè€Œåªæ˜¯è¿”å›å‰äº”è¡Œçš„è§†å›¾ã€‚
- en: 'These changes will save time and memory. Just use:'
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™äº›å˜åŒ–å°†èŠ‚çœæ—¶é—´å’Œå†…å­˜ã€‚åªéœ€ä½¿ç”¨ï¼š
- en: '[PRE3]'
  id: totrans-41
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: There are a few other ways you can set this behavior, because pandas loves to
    give you multiple ways to do things. â¤ï¸
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: ä½ å¯ä»¥é€šè¿‡å‡ ç§å…¶ä»–æ–¹å¼è®¾ç½®è¿™ä¸ªè¡Œä¸ºï¼Œå› ä¸º pandas å–œæ¬¢ç»™ä½ å¤šç§æ–¹æ³•æ¥å®Œæˆä»»åŠ¡ã€‚ â¤ï¸
- en: Installable extras
  id: totrans-43
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: å¯å®‰è£…çš„é¢å¤–åŠŸèƒ½
- en: Now you can install extra Python libraries that particular pandas callables
    rely on at the same time you install pandas. For example, running the following
    command will give you the libraries you need to work with Google Cloud Platform
    and Parquet file formats.
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: ç°åœ¨ä½ å¯ä»¥åœ¨å®‰è£… pandas æ—¶åŒæ—¶å®‰è£… pandas éœ€è¦çš„é¢å¤– Python åº“ã€‚ä¾‹å¦‚ï¼Œè¿è¡Œä»¥ä¸‹å‘½ä»¤å°†ä¸ºä½ æä¾›å¤„ç† Google Cloud Platform
    å’Œ Parquet æ–‡ä»¶æ ¼å¼æ‰€éœ€çš„åº“ã€‚
- en: '[PRE4]'
  id: totrans-45
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: âš ï¸ Make sure you donâ€™t forget the quotes!
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: âš ï¸ ç¡®ä¿ä¸è¦å¿˜è®°å¼•å·ï¼
- en: 'Here are the available install options:'
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™é‡Œæ˜¯å¯ç”¨çš„å®‰è£…é€‰é¡¹ï¼š
- en: all (for all the extras)
  id: totrans-48
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: all (æ‰€æœ‰é™„åŠ åŠŸèƒ½)
- en: performance
  id: totrans-49
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: performance
- en: computation
  id: totrans-50
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: computation
- en: timezone
  id: totrans-51
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: timezone
- en: fss
  id: totrans-52
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: fss
- en: aws
  id: totrans-53
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: aws
- en: gcp
  id: totrans-54
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: gcp
- en: excel
  id: totrans-55
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: excel
- en: parquet
  id: totrans-56
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: parquet
- en: feather
  id: totrans-57
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: feather
- en: hdf5
  id: totrans-58
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: hdf5
- en: spss
  id: totrans-59
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: spss
- en: postgresql
  id: totrans-60
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: postgresql
- en: mysql
  id: totrans-61
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: mysql
- en: sql-other
  id: totrans-62
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: sql-other
- en: html
  id: totrans-63
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: html
- en: xml
  id: totrans-64
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: xml
- en: plot
  id: totrans-65
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: plot
- en: output_formatting
  id: totrans-66
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: output_formatting
- en: clipboard
  id: totrans-67
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: clipboard
- en: compression
  id: totrans-68
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: compression
- en: test
  id: totrans-69
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: test
- en: Learn about the dependencies installed [here](https://pandas.pydata.org/docs/getting_started/install.html#install-dependencies).
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: äº†è§£å®‰è£…çš„ä¾èµ–é¡¹è¯·è®¿é—® [è¿™é‡Œ](https://pandas.pydata.org/docs/getting_started/install.html#install-dependencies)ã€‚
- en: Upgrading
  id: totrans-71
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: Upgrading
- en: 'To install pandas 2.0 in your virtual environment from PyPI, upgrade with this
    command:'
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: è¦åœ¨ä½ çš„è™šæ‹Ÿç¯å¢ƒä¸­ä» PyPI å®‰è£… pandas 2.0ï¼Œè¯·ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤è¿›è¡Œå‡çº§ï¼š
- en: '[PRE5]'
  id: totrans-73
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: Now youâ€™re on your way to faster, more memory-efficient data manipulation! ğŸ‰
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: ç°åœ¨ä½ å·²ç»å¼€å§‹æ›´å¿«ã€æ›´èŠ‚çœå†…å­˜çš„æ•°æ®å¤„ç†ä¹‹æ—…äº†ï¼ ğŸ‰
- en: Wrap
  id: totrans-75
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: Wrap
- en: Youâ€™ve seen the biggest changes in pandas 2.0\. There are other changes such
    as new date parameter names for `read_csv` and similar functions. [Check out the
    release post for all the details](https://pandas.pydata.org/pandas-docs/version/2.0/whatsnew/v2.0.0.html#configuration-option-mode-dtype-backend-to-return-pyarrow-backed-dtypes).
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: ä½ å·²ç»çœ‹åˆ° pandas 2.0 çš„æœ€å¤§å˜åŒ–äº†ã€‚è¿˜æœ‰å…¶ä»–å˜åŒ–ï¼Œæ¯”å¦‚ `read_csv` å’Œç±»ä¼¼å‡½æ•°çš„æ–°æ—¥æœŸå‚æ•°åç§°ã€‚ [æŸ¥çœ‹å‘å¸ƒå¸–å­äº†è§£æ‰€æœ‰ç»†èŠ‚](https://pandas.pydata.org/pandas-docs/version/2.0/whatsnew/v2.0.0.html#configuration-option-mode-dtype-backend-to-return-pyarrow-backed-dtypes)ã€‚
- en: Even with the new changes there will be the times when you donâ€™t have enough
    memory for your pandas DataFrame. For those times I shared eight tips to help
    in [this guide](/forgetful-pandas-98b50c1193a9).
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
  zh: å³ä½¿æœ‰äº†è¿™äº›æ–°å˜åŒ–ï¼Œå½“ä½ çš„ pandas DataFrame æ²¡æœ‰è¶³å¤Ÿçš„å†…å­˜æ—¶ä¹Ÿä¼šå‡ºç°é—®é¢˜ã€‚é’ˆå¯¹è¿™ç§æƒ…å†µï¼Œæˆ‘åœ¨ [è¿™ä»½æŒ‡å—](/forgetful-pandas-98b50c1193a9)
    ä¸­åˆ†äº«äº†å…«ä¸ªå¸®åŠ©ä½ åº”å¯¹çš„æŠ€å·§ã€‚
- en: If youâ€™re new to pandas, check out [Memorable Pandas](https://memorablepandas.com/),
    my introductory book on the library.
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: å¦‚æœä½ æ˜¯ pandas æ–°æ‰‹ï¼Œå¯ä»¥æŸ¥çœ‹æˆ‘çš„å…¥é—¨ä¹¦ç± [Memorable Pandas](https://memorablepandas.com/)ã€‚
- en: I hope you found this guide to pandas 2.0 changes to be helpful. If you did,
    please give it a share so other folks can find it, too! ğŸš€
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
  zh: å¸Œæœ›ä½ è§‰å¾—è¿™ä»½ pandas 2.0 å˜åŒ–æŒ‡å—å¯¹ä½ æœ‰å¸®åŠ©ã€‚å¦‚æœæœ‰ï¼Œè¯·åˆ†äº«ç»™å…¶ä»–äººï¼Œè®©ä»–ä»¬ä¹Ÿèƒ½æ‰¾åˆ°å®ƒï¼ ğŸš€
- en: I write about Python, data, and other tech topics. If youâ€™re into that stuff,
    [follow me](https://jeffhale.medium.com/) so you donâ€™t miss out!
  id: totrans-80
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘å†™å…³äº Pythonã€æ•°æ®å’Œå…¶ä»–æŠ€æœ¯è¯é¢˜çš„æ–‡ç« ã€‚å¦‚æœä½ å¯¹è¿™äº›æ„Ÿå…´è¶£ï¼Œ*è·Ÿéšæˆ‘* [follow me](https://jeffhale.medium.com/)ï¼Œè¿™æ ·ä½ å°±ä¸ä¼šé”™è¿‡æ›´æ–°ï¼
- en: '![](../Images/7a28dc434ef34199ac66bccca51578a1.png)'
  id: totrans-81
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/7a28dc434ef34199ac66bccca51578a1.png)'
- en: 'Source: pixabay.com'
  id: totrans-82
  prefs: []
  type: TYPE_NORMAL
  zh: æ¥æºï¼špixabay.com
- en: Happy coding!
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
  zh: ç¼–ç¨‹æ„‰å¿«ï¼
