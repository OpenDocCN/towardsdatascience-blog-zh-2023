- en: 'Seamless CI/CD Pipelines with GitHub Actions on GCP: Your Tools for Effective
    MLOps'
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: ä½¿ç”¨GitHub Actionsåœ¨GCPä¸Šå®ç°æ— ç¼CI/CDç®¡é“ï¼šä½ è¿›è¡Œæœ‰æ•ˆMLOpsçš„å·¥å…·
- en: åŸæ–‡ï¼š[https://towardsdatascience.com/seamless-ci-cd-pipelines-with-github-actions-on-gcp-your-tools-for-effective-mlops-96f676f72012](https://towardsdatascience.com/seamless-ci-cd-pipelines-with-github-actions-on-gcp-your-tools-for-effective-mlops-96f676f72012)
  id: totrans-1
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: åŸæ–‡ï¼š[https://towardsdatascience.com/seamless-ci-cd-pipelines-with-github-actions-on-gcp-your-tools-for-effective-mlops-96f676f72012](https://towardsdatascience.com/seamless-ci-cd-pipelines-with-github-actions-on-gcp-your-tools-for-effective-mlops-96f676f72012)
- en: '[THE FULL STACK 7-STEPS MLOPS FRAMEWORK](https://towardsdatascience.com/tagged/full-stack-mlops)'
  id: totrans-2
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: '[å®Œæ•´çš„7æ­¥éª¤MLOpsæ¡†æ¶](https://towardsdatascience.com/tagged/full-stack-mlops)'
- en: 'Lesson 7: Deploy All the ML Components to GCP. Build a CI/CD Pipeline Using
    Github Actions.'
  id: totrans-3
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: ç¬¬7èŠ‚ï¼šå°†æ‰€æœ‰æœºå™¨å­¦ä¹ ç»„ä»¶éƒ¨ç½²åˆ°GCPã€‚ä½¿ç”¨Github Actionsæ„å»ºCI/CDç®¡é“ã€‚
- en: '[](https://pauliusztin.medium.com/?source=post_page-----96f676f72012--------------------------------)[![Paul
    Iusztin](../Images/d07551a78fa87940220b49d9358f3166.png)](https://pauliusztin.medium.com/?source=post_page-----96f676f72012--------------------------------)[](https://towardsdatascience.com/?source=post_page-----96f676f72012--------------------------------)[![Towards
    Data Science](../Images/a6ff2676ffcc0c7aad8aaf1d79379785.png)](https://towardsdatascience.com/?source=post_page-----96f676f72012--------------------------------)
    [Paul Iusztin](https://pauliusztin.medium.com/?source=post_page-----96f676f72012--------------------------------)'
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: '[](https://pauliusztin.medium.com/?source=post_page-----96f676f72012--------------------------------)[![Paul
    Iusztin](../Images/d07551a78fa87940220b49d9358f3166.png)](https://pauliusztin.medium.com/?source=post_page-----96f676f72012--------------------------------)[](https://towardsdatascience.com/?source=post_page-----96f676f72012--------------------------------)[![Towards
    Data Science](../Images/a6ff2676ffcc0c7aad8aaf1d79379785.png)](https://towardsdatascience.com/?source=post_page-----96f676f72012--------------------------------)
    [Paul Iusztin](https://pauliusztin.medium.com/?source=post_page-----96f676f72012--------------------------------)'
- en: Â·Published in [Towards Data Science](https://towardsdatascience.com/?source=post_page-----96f676f72012--------------------------------)
    Â·19 min readÂ·Jun 15, 2023
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: Â·å‘è¡¨äº[Towards Data Science](https://towardsdatascience.com/?source=post_page-----96f676f72012--------------------------------)
    Â·19åˆ†é’Ÿé˜…è¯»Â·2023å¹´6æœˆ15æ—¥
- en: --
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: --
- en: '![](../Images/7c34e9ba645996ba5d4b808f1f130f93.png)'
  id: totrans-7
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/7c34e9ba645996ba5d4b808f1f130f93.png)'
- en: Photo by [Hassan Pasha](https://unsplash.com/@hpzworkz?utm_source=medium&utm_medium=referral)
    on [Unsplash](https://unsplash.com/?utm_source=medium&utm_medium=referral)
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: å›¾ç‰‡ç”±[å“ˆæ¡‘Â·å¸•æ²™](https://unsplash.com/@hpzworkz?utm_source=medium&utm_medium=referral)æä¾›ï¼Œæ¥æºäº[Unsplash](https://unsplash.com/?utm_source=medium&utm_medium=referral)
- en: This tutorial represents **lesson 7 out of a 7-lesson course** that will walk
    you step-by-step through how to **design, implement, and deploy an ML system**
    using **MLOps good practices**. During the course, you will build a production-ready
    model to forecast energy consumption levels for the next 24 hours across multiple
    consumer types from Denmark.
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: æœ¬æ•™ç¨‹æ˜¯**7èŠ‚è¯¾ç¨‹ä¸­çš„ç¬¬7èŠ‚**ï¼Œå°†é€æ­¥æŒ‡å¯¼ä½ å¦‚ä½•**è®¾è®¡ã€å®æ–½å’Œéƒ¨ç½²ä¸€ä¸ªæœºå™¨å­¦ä¹ ç³»ç»Ÿ**ï¼Œä½¿ç”¨**MLOpsè‰¯å¥½å®è·µ**ã€‚åœ¨è¯¾ç¨‹æœŸé—´ï¼Œä½ å°†æ„å»ºä¸€ä¸ªç”Ÿäº§å°±ç»ªçš„æ¨¡å‹ï¼Œä»¥é¢„æµ‹ä¸¹éº¦å¤šä¸ªæ¶ˆè´¹è€…ç±»å‹åœ¨æœªæ¥24å°æ—¶å†…çš„èƒ½æºæ¶ˆè€—æ°´å¹³ã€‚
- en: '*By the end of this course, you will understand all the fundamentals of designing,
    coding and deploying an ML system using a batch-serving architecture.*'
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: '*åˆ°è¯¾ç¨‹ç»“æŸæ—¶ï¼Œä½ å°†äº†è§£è®¾è®¡ã€ç¼–ç å’Œéƒ¨ç½²æœºå™¨å­¦ä¹ ç³»ç»Ÿçš„æ‰€æœ‰åŸºç¡€çŸ¥è¯†ï¼Œä½¿ç”¨æ‰¹é‡æœåŠ¡æ¶æ„ã€‚*'
- en: This course *targets mid/advanced machine learning engineers* who want to level
    up their skills by building their own end-to-end projects.
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: æœ¬è¯¾ç¨‹*é¢å‘ä¸­çº§/é«˜çº§æœºå™¨å­¦ä¹ å·¥ç¨‹å¸ˆ*ï¼Œé‚£äº›å¸Œæœ›é€šè¿‡æ„å»ºè‡ªå·±çš„ç«¯åˆ°ç«¯é¡¹ç›®æ¥æå‡æŠ€èƒ½çš„äººã€‚
- en: Nowadays, certificates are everywhere. Building advanced end-to-end projects
    that you can later show off is the best way to get recognition as a professional
    engineer.
  id: totrans-12
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: ç°åœ¨ï¼Œè¯ä¹¦æ— å¤„ä¸åœ¨ã€‚æ„å»ºé«˜çº§ç«¯åˆ°ç«¯é¡¹ç›®ï¼Œå¹¶åœ¨ä¹‹åå±•ç¤ºå‡ºæ¥ï¼Œæ˜¯è·å¾—ä¸“ä¸šå·¥ç¨‹å¸ˆè®¤å¯çš„æœ€ä½³æ–¹å¼ã€‚
- en: 'Table of Contents:'
  id: totrans-13
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: ç›®å½•ï¼š
- en: Course Introduction
  id: totrans-14
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: è¯¾ç¨‹ä»‹ç»
- en: Course Lessons
  id: totrans-15
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: è¯¾ç¨‹å†…å®¹
- en: Data Source
  id: totrans-16
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æ•°æ®æº
- en: 'Lesson 7: Deploy All the ML Components to GCP. Build a CI/CD Pipeline Using
    Github Actions.'
  id: totrans-17
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ç¬¬7èŠ‚ï¼šå°†æ‰€æœ‰æœºå™¨å­¦ä¹ ç»„ä»¶éƒ¨ç½²åˆ°GCPã€‚ä½¿ç”¨Github Actionsæ„å»ºCI/CDç®¡é“ã€‚
- en: 'Lesson 7: Code'
  id: totrans-18
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ç¬¬7èŠ‚ï¼šä»£ç 
- en: Conclusion
  id: totrans-19
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ç»“è®º
- en: References
  id: totrans-20
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å‚è€ƒæ–‡çŒ®
- en: Course Introduction
  id: totrans-21
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: è¯¾ç¨‹ä»‹ç»
- en: '***At the end of this 7 lessons course, you will know how to:***'
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: '***åœ¨è¿™ä¸ª7èŠ‚è¯¾ç¨‹çš„æœ€åï¼Œä½ å°†çŸ¥é“å¦‚ä½•ï¼š***'
- en: design a batch-serving architecture
  id: totrans-23
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: è®¾è®¡ä¸€ä¸ªæ‰¹é‡æœåŠ¡æ¶æ„
- en: use Hopsworks as a feature store
  id: totrans-24
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ä½¿ç”¨Hopsworksä½œä¸ºç‰¹å¾å­˜å‚¨
- en: design a feature engineering pipeline that reads data from an API
  id: totrans-25
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: è®¾è®¡ä¸€ä¸ªä»APIè¯»å–æ•°æ®çš„ç‰¹å¾å·¥ç¨‹ç®¡é“
- en: build a training pipeline with hyper-parameter tunning
  id: totrans-26
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æ„å»ºä¸€ä¸ªå¸¦æœ‰è¶…å‚æ•°è°ƒä¼˜çš„è®­ç»ƒç®¡é“
- en: use W&B as an ML Platform to track your experiments, models, and metadata
  id: totrans-27
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ä½¿ç”¨W&Bä½œä¸ºæœºå™¨å­¦ä¹ å¹³å°æ¥è·Ÿè¸ªä½ çš„å®éªŒã€æ¨¡å‹å’Œå…ƒæ•°æ®
- en: implement a batch prediction pipeline
  id: totrans-28
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å®ç°ä¸€ä¸ªæ‰¹é‡é¢„æµ‹ç®¡é“
- en: use Poetry to build your own Python packages
  id: totrans-29
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ä½¿ç”¨ Poetry æ¥æ„å»ºä½ è‡ªå·±çš„ Python åŒ…
- en: deploy your own private PyPi server
  id: totrans-30
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: éƒ¨ç½²ä½ è‡ªå·±çš„ç§äºº PyPi æœåŠ¡å™¨
- en: orchestrate everything with Airflow
  id: totrans-31
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ç”¨ Airflow ç¼–æ’ä¸€åˆ‡
- en: use the predictions to code a web app using FastAPI and Streamlit
  id: totrans-32
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ä½¿ç”¨é¢„æµ‹æ¥ç¼–å†™ä¸€ä¸ªä½¿ç”¨ FastAPI å’Œ Streamlit çš„ web åº”ç”¨
- en: use Docker to containerize your code
  id: totrans-33
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ä½¿ç”¨ Docker æ¥å®¹å™¨åŒ–ä½ çš„ä»£ç 
- en: use Great Expectations to ensure data validation and integrity
  id: totrans-34
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ä½¿ç”¨ Great Expectations æ¥ç¡®ä¿æ•°æ®éªŒè¯å’Œå®Œæ•´æ€§
- en: monitor the performance of the predictions over time
  id: totrans-35
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ç›‘æ§é¢„æµ‹æ€§èƒ½çš„å˜åŒ–
- en: deploy everything to GCP
  id: totrans-36
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å°†ä¸€åˆ‡éƒ¨ç½²åˆ° GCP
- en: build a CI/CD pipeline using GitHub Actions
  id: totrans-37
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ä½¿ç”¨ GitHub Actions æ„å»º CI/CD æµæ°´çº¿
- en: If that sounds like a lot, don't worry. After you cover this course, you will
    understand everything I said before. Most importantly, you will know WHY I used
    all these tools and how they work together as a system.
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: å¦‚æœè¿™å¬èµ·æ¥æœ‰ç‚¹å¤šï¼Œä¸ç”¨æ‹…å¿ƒã€‚å®Œæˆæœ¬è¯¾ç¨‹åï¼Œä½ å°†ç†è§£æˆ‘ä¹‹å‰æ‰€è¯´çš„ä¸€åˆ‡ã€‚æœ€é‡è¦çš„æ˜¯ï¼Œä½ å°†çŸ¥é“æˆ‘ä¸ºä»€ä¹ˆä½¿ç”¨è¿™äº›å·¥å…·ä»¥åŠå®ƒä»¬å¦‚ä½•ä½œä¸ºä¸€ä¸ªç³»ç»ŸååŒå·¥ä½œã€‚
- en: '**If you want to get the most out of this course,** [**I suggest you access
    the GitHub repository**](https://github.com/iusztinpaul/energy-forecasting) **containing
    all the lessons'' code. This course is designed to quickly read and replicate
    the code along the articles.**'
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: '**å¦‚æœä½ æƒ³å……åˆ†åˆ©ç”¨æœ¬è¯¾ç¨‹ï¼Œ** [**æˆ‘å»ºè®®ä½ è®¿é—®åŒ…å«æ‰€æœ‰è¯¾ç¨‹ä»£ç çš„ GitHub ä»“åº“**](https://github.com/iusztinpaul/energy-forecasting)
    **ã€‚æœ¬è¯¾ç¨‹è®¾è®¡æ—¨åœ¨å¿«é€Ÿé˜…è¯»å’Œå¤åˆ¶æ–‡ç« ä¸­çš„ä»£ç ã€‚**'
- en: By the end of the course, you will know how to implement the diagram below.
    Don't worry if something doesn't make sense to you. I will explain everything
    in detail.
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: åˆ°è¯¾ç¨‹ç»“æŸæ—¶ï¼Œä½ å°†çŸ¥é“å¦‚ä½•å®ç°ä¸‹é¢çš„å›¾ç¤ºã€‚å¦‚æœæœ‰ä»»ä½•å†…å®¹è®©ä½ å›°æƒ‘ï¼Œä¸ç”¨æ‹…å¿ƒï¼Œæˆ‘ä¼šè¯¦ç»†è§£é‡Šã€‚
- en: '![](../Images/4b5c3b0b8e2162ea8fd268ca745199ec.png)'
  id: totrans-41
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/4b5c3b0b8e2162ea8fd268ca745199ec.png)'
- en: Diagram of the architecture you will build during the course [Image by the Author].
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: ä½ å°†åœ¨è¯¾ç¨‹ä¸­æ„å»ºçš„æ¶æ„å›¾ [ä½œè€…æä¾›çš„å›¾ç‰‡]ã€‚
- en: By the **end of Lesson 7**, you will know how to manually deploy the 3 ML pipelines
    and the web app to GCP. Also, you will build a CI/CD pipeline that will automate
    the deployment process using GitHub Actions.
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: åˆ°**ç¬¬ 7 èŠ‚è¯¾ç»“æŸæ—¶**ï¼Œä½ å°†çŸ¥é“å¦‚ä½•æ‰‹åŠ¨å°† 3 ä¸ª ML æµæ°´çº¿å’Œ web åº”ç”¨éƒ¨ç½²åˆ° GCPã€‚æ­¤å¤–ï¼Œä½ è¿˜å°†æ„å»ºä¸€ä¸ª CI/CD æµæ°´çº¿ï¼Œä½¿ç”¨ GitHub
    Actions è‡ªåŠ¨åŒ–éƒ¨ç½²è¿‡ç¨‹ã€‚
- en: 'Course Lessons:'
  id: totrans-44
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: è¯¾ç¨‹å†…å®¹ï¼š
- en: '[Batch Serving. Feature Stores. Feature Engineering Pipelines.](https://medium.com/towards-data-science/a-framework-for-building-a-production-ready-feature-engineering-pipeline-f0b29609b20f)'
  id: totrans-45
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[æ‰¹é‡æœåŠ¡ã€‚ç‰¹å¾å­˜å‚¨ã€‚ç‰¹å¾å·¥ç¨‹æµæ°´çº¿ã€‚](https://medium.com/towards-data-science/a-framework-for-building-a-production-ready-feature-engineering-pipeline-f0b29609b20f)'
- en: '[Training Pipelines. ML Platforms. Hyperparameter Tuning.](https://medium.com/towards-data-science/a-guide-to-building-effective-training-pipelines-for-maximum-results-6fdaef594cee)'
  id: totrans-46
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[è®­ç»ƒæµæ°´çº¿ã€‚ML å¹³å°ã€‚è¶…å‚æ•°è°ƒä¼˜ã€‚](https://medium.com/towards-data-science/a-guide-to-building-effective-training-pipelines-for-maximum-results-6fdaef594cee)'
- en: '[Batch Prediction Pipeline. Package Python Modules with Poetry.](https://medium.com/towards-data-science/unlock-the-secret-to-efficient-batch-prediction-pipelines-using-python-a-feature-store-and-gcs-17a1462ca489)'
  id: totrans-47
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[æ‰¹é‡é¢„æµ‹æµæ°´çº¿ã€‚ç”¨ Poetry æ‰“åŒ… Python æ¨¡å—ã€‚](https://medium.com/towards-data-science/unlock-the-secret-to-efficient-batch-prediction-pipelines-using-python-a-feature-store-and-gcs-17a1462ca489)'
- en: '[Private PyPi Server. Orchestrate Everything with Airflow.](/unlocking-mlops-using-airflow-a-comprehensive-guide-to-ml-system-orchestration-880aa9be8cff)'
  id: totrans-48
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[ç§äºº PyPi æœåŠ¡å™¨ã€‚ç”¨ Airflow ç¼–æ’ä¸€åˆ‡ã€‚](/unlocking-mlops-using-airflow-a-comprehensive-guide-to-ml-system-orchestration-880aa9be8cff)'
- en: '[Data Validation for Quality and Integrity using GE. Model Performance Continuous
    Monitoring.](/ensuring-trustworthy-ml-systems-with-data-validation-and-real-time-monitoring-89ab079f4360)'
  id: totrans-49
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[ä½¿ç”¨ GE è¿›è¡Œæ•°æ®éªŒè¯ä»¥ç¡®ä¿è´¨é‡å’Œå®Œæ•´æ€§ã€‚æ¨¡å‹æ€§èƒ½æŒç»­ç›‘æ§ã€‚](/ensuring-trustworthy-ml-systems-with-data-validation-and-real-time-monitoring-89ab079f4360)'
- en: '[Consume and Visualize your Model''s Predictions using FastAPI and Streamlit.
    Dockerize Everything.](https://medium.com/towards-data-science/fastapi-and-streamlit-the-python-duo-you-must-know-about-72825def1243)'
  id: totrans-50
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[ä½¿ç”¨ FastAPI å’Œ Streamlit æ¶ˆè´¹å’Œå¯è§†åŒ–ä½ çš„æ¨¡å‹é¢„æµ‹ã€‚å°†ä¸€åˆ‡ Docker åŒ–ã€‚](https://medium.com/towards-data-science/fastapi-and-streamlit-the-python-duo-you-must-know-about-72825def1243)'
- en: '**Deploy All the ML Components to GCP. Build a CI/CD Pipeline Using Github
    Actions.**'
  id: totrans-51
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**å°†æ‰€æœ‰æœºå™¨å­¦ä¹ ç»„ä»¶éƒ¨ç½²åˆ° GCPã€‚ä½¿ç”¨ Github Actions æ„å»º CI/CD æµæ°´çº¿ã€‚**'
- en: '[[Bonus] Behind the Scenes of an â€˜Imperfectâ€™ ML Project â€” Lessons and Insights](https://medium.com/towards-data-science/imperfections-unveiled-the-intriguing-reality-behind-our-mlops-course-creation-6ff7d52ecb7e)'
  id: totrans-52
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '[[é™„åŠ å†…å®¹] ä¸€ä¸ªâ€˜ä¸å®Œç¾â€™çš„ ML é¡¹ç›®çš„å¹•å â€” ç»éªŒä¸è§è§£](https://medium.com/towards-data-science/imperfections-unveiled-the-intriguing-reality-behind-our-mlops-course-creation-6ff7d52ecb7e)'
- en: As Lesson 7 focuses on teaching you how to deploy all the components to GCP
    and build a CI/CD pipeline around it, for the full experience, we recommend you
    watch the other lessons of the [course](https://towardsdatascience.com/tagged/full-stack-mlops).
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: ç”±äºç¬¬ 7 è¯¾ä¸“æ³¨äºæ•™ä½ å¦‚ä½•å°†æ‰€æœ‰ç»„ä»¶éƒ¨ç½²åˆ° GCP å¹¶å›´ç»•å®ƒæ„å»º CI/CD ç®¡é“ï¼Œå› æ­¤ä¸ºäº†è·å¾—å®Œæ•´ä½“éªŒï¼Œæˆ‘ä»¬å»ºè®®ä½ è§‚çœ‹ [è¯¾ç¨‹](https://towardsdatascience.com/tagged/full-stack-mlops)
    çš„å…¶ä»–è¯¾ç¨‹ã€‚
- en: Check out [Lesson 4](/unlocking-mlops-using-airflow-a-comprehensive-guide-to-ml-system-orchestration-880aa9be8cff)
    to learn how to orchestrate the 3 ML pipelines using Airflow and [Lesson 6](https://medium.com/towards-data-science/fastapi-and-streamlit-the-python-duo-you-must-know-about-72825def1243)
    to see how to consume the model's predictions using FastAPI and Streamlit.
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: æŸ¥çœ‹ [ç¬¬ 4 è¯¾](/unlocking-mlops-using-airflow-a-comprehensive-guide-to-ml-system-orchestration-880aa9be8cff)
    äº†è§£å¦‚ä½•ä½¿ç”¨ Airflow ç¼–æ’ 3 ä¸ªæœºå™¨å­¦ä¹ ç®¡é“ï¼ŒæŸ¥çœ‹ [ç¬¬ 6 è¯¾](https://medium.com/towards-data-science/fastapi-and-streamlit-the-python-duo-you-must-know-about-72825def1243)
    äº†è§£å¦‚ä½•ä½¿ç”¨ FastAPI å’Œ Streamlit æ¶ˆè€—æ¨¡å‹çš„é¢„æµ‹ã€‚
- en: Data Source
  id: totrans-55
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: æ•°æ®æ¥æº
- en: We used a free & open API that provides hourly energy consumption values for
    all the energy consumer types within Denmark [1].
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬ä½¿ç”¨äº†ä¸€ä¸ªå…è´¹çš„å¼€æ”¾ APIï¼Œæä¾›äº†ä¸¹éº¦æ‰€æœ‰èƒ½æºæ¶ˆè´¹è€…ç±»å‹çš„æ¯å°æ—¶èƒ½è€—å€¼ [1]ã€‚
- en: They provide an intuitive interface where you can easily query and visualize
    the data. [You can access the data here](https://www.energidataservice.dk/tso-electricity/ConsumptionDE35Hour)
    [1].
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: å®ƒä»¬æä¾›äº†ä¸€ä¸ªç›´è§‚çš„ç•Œé¢ï¼Œä½ å¯ä»¥è½»æ¾æŸ¥è¯¢å’Œå¯è§†åŒ–æ•°æ®ã€‚ [ä½ å¯ä»¥åœ¨è¿™é‡Œè®¿é—®æ•°æ®](https://www.energidataservice.dk/tso-electricity/ConsumptionDE35Hour)
    [1]ã€‚
- en: 'The data has 4 main attributes:'
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: æ•°æ®æœ‰ 4 ä¸ªä¸»è¦å±æ€§ï¼š
- en: '**Hour UTC:** the UTC datetime when the data point was observed.'
  id: totrans-59
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**å°æ—¶ UTCï¼š** æ•°æ®ç‚¹è¢«è§‚å¯Ÿåˆ°çš„ UTC æ—¥æœŸæ—¶é—´ã€‚'
- en: '**Price Area:** Denmark is divided into two price areas: DK1 and DK2 â€” divided
    by the Great Belt. DK1 is west of the Great Belt, and DK2 is east of the Great
    Belt.'
  id: totrans-60
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**ä»·æ ¼åŒºåŸŸï¼š** ä¸¹éº¦è¢«åˆ†ä¸ºä¸¤ä¸ªä»·æ ¼åŒºåŸŸï¼šDK1 å’Œ DK2â€”â€”ç”±å¤§è´å°”ç‰¹æµ·å³¡åˆ†éš”ã€‚DK1 åœ¨å¤§è´å°”ç‰¹è¥¿ä¾§ï¼ŒDK2 åœ¨å¤§è´å°”ç‰¹ä¸œä¾§ã€‚'
- en: '**Consumer Type:** The consumer type is the Industry Code DE35, owned and maintained
    by Danish Energy.'
  id: totrans-61
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**æ¶ˆè´¹è€…ç±»å‹ï¼š** æ¶ˆè´¹è€…ç±»å‹æ˜¯è¡Œä¸šä»£ç  DE35ï¼Œç”±ä¸¹éº¦èƒ½æºå…¬å¸æ‹¥æœ‰å’Œç»´æŠ¤ã€‚'
- en: '**Total Consumption:** Total electricity consumption in kWh'
  id: totrans-62
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**æ€»æ¶ˆè´¹é‡ï¼š** æ€»ç”µåŠ›æ¶ˆè€—ï¼Œå•ä½ä¸ºåƒç“¦æ—¶ã€‚'
- en: '**Note:** The observations have a lag of 15 days! But for our demo use case,
    that is not a problem, as we can simulate the same steps as it would in real-time.'
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: '**æ³¨æ„ï¼š** è§‚å¯Ÿæ•°æ®æœ‰ 15 å¤©çš„æ»åï¼ä½†å¯¹äºæˆ‘ä»¬çš„æ¼”ç¤ºç”¨ä¾‹ï¼Œè¿™ä¸æ˜¯é—®é¢˜ï¼Œå› ä¸ºæˆ‘ä»¬å¯ä»¥æ¨¡æ‹Ÿä¸å®æ—¶æƒ…å†µç›¸åŒçš„æ­¥éª¤ã€‚'
- en: '![](../Images/4eab6debdb7ba94406b8d0a8e28e3438.png)'
  id: totrans-64
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/4eab6debdb7ba94406b8d0a8e28e3438.png)'
- en: A screenshot from our web app showing how we forecasted the energy consumption
    for area = 1 and consumer_type = 212 [Image by the Author].
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬çš„ Web åº”ç”¨æˆªå›¾ï¼Œå±•ç¤ºäº†æˆ‘ä»¬å¦‚ä½•é¢„æµ‹åŒºåŸŸ = 1 å’Œæ¶ˆè´¹è€…ç±»å‹ = 212 çš„èƒ½è€— [ä½œè€…æä¾›çš„å›¾ç‰‡]ã€‚
- en: 'The data points have an hourly resolution. For example: "2023â€“04â€“15 21:00Z",
    "2023â€“04â€“15 20:00Z", "2023â€“04â€“15 19:00Z", etc.'
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: æ•°æ®ç‚¹çš„åˆ†è¾¨ç‡ä¸ºæ¯å°æ—¶ã€‚ä¾‹å¦‚ï¼šâ€œ2023â€“04â€“15 21:00Zâ€ï¼Œâ€œ2023â€“04â€“15 20:00Zâ€ï¼Œâ€œ2023â€“04â€“15 19:00Zâ€ç­‰ç­‰ã€‚
- en: We will model the data as multiple time series. Each unique **price area** and
    **consumer type tuple represents its** unique time series.
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬å°†æ•°æ®å»ºæ¨¡ä¸ºå¤šä¸ªæ—¶é—´åºåˆ—ã€‚æ¯ä¸ªç‹¬ç‰¹çš„**ä»·æ ¼åŒºåŸŸ**å’Œ**æ¶ˆè´¹è€…ç±»å‹å…ƒç»„ä»£è¡¨å…¶**å”¯ä¸€çš„æ—¶é—´åºåˆ—ã€‚
- en: Thus, we will build a model that independently forecasts the energy consumption
    for the next 24 hours for every time series.
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: å› æ­¤ï¼Œæˆ‘ä»¬å°†æ„å»ºä¸€ä¸ªæ¨¡å‹ï¼Œç‹¬ç«‹é¢„æµ‹æ¯ä¸ªæ—¶é—´åºåˆ—çš„æœªæ¥ 24 å°æ—¶çš„èƒ½è€—ã€‚
- en: '*Check out the video below to better understand what the data looks like* ğŸ‘‡'
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: '*æŸ¥çœ‹ä¸‹é¢çš„è§†é¢‘ä»¥æ›´å¥½åœ°äº†è§£æ•°æ®çš„æ ·å­* ğŸ‘‡'
- en: Course & data source overview [Video by the Author].
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: è¯¾ç¨‹ä¸æ•°æ®æºæ¦‚è¿° [ä½œè€…æä¾›çš„è§†é¢‘]ã€‚
- en: 'Lesson 7: Deploy All the ML Components to GCP. Build a CI/CD Pipeline Using
    Github Actions.'
  id: totrans-71
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: ç¬¬ 7 è¯¾ï¼šå°†æ‰€æœ‰æœºå™¨å­¦ä¹ ç»„ä»¶éƒ¨ç½²åˆ° GCPã€‚ä½¿ç”¨ GitHub Actions æ„å»º CI/CD ç®¡é“ã€‚
- en: The goal of Lesson 7
  id: totrans-72
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: ç¬¬ 7 è¯¾çš„ç›®æ ‡
- en: 'Within Lesson 7, I will teach you 2 things:'
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨ç¬¬ 7 è¯¾ä¸­ï¼Œæˆ‘å°†æ•™ä½  2 ä»¶äº‹ï¼š
- en: How to manually deploy the 3 ML pipelines and the web app to GCP.
  id: totrans-74
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: å¦‚ä½•æ‰‹åŠ¨å°† 3 ä¸ªæœºå™¨å­¦ä¹ ç®¡é“å’Œ Web åº”ç”¨éƒ¨ç½²åˆ° GCPã€‚
- en: How to automate the deployment process with a CI/CD pipeline using GitHub Actions.
  id: totrans-75
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: å¦‚ä½•ä½¿ç”¨ GitHub Actions è‡ªåŠ¨åŒ–éƒ¨ç½²è¿‡ç¨‹ã€‚
- en: '![](../Images/a0fb9d4a6918ea3cfabd95f66a8c7fc3.png)'
  id: totrans-76
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/a0fb9d4a6918ea3cfabd95f66a8c7fc3.png)'
- en: Diagram of the final architecture with the Lesson 7 components highlighted in
    blue [Image by the Author].
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
  zh: æœ€ç»ˆæ¶æ„å›¾ï¼ŒLesson 7 çš„ç»„ä»¶ä»¥è“è‰²çªå‡ºæ˜¾ç¤º [ä½œè€…æä¾›çš„å›¾ç‰‡]ã€‚
- en: In other words, you will take everything you have done so far and show it to
    the world.
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: æ¢å¥è¯è¯´ï¼Œä½ å°†å±•ç¤ºåˆ°ç›®å‰ä¸ºæ­¢æ‰€åšçš„ä¸€åˆ‡ã€‚
- en: As long your work sits on your computer, it can be the best ML solution in the
    world, but unfortunately, it won't add any value.
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
  zh: åªè¦ä½ çš„å·¥ä½œåœç•™åœ¨ä½ çš„è®¡ç®—æœºä¸Šï¼Œå®ƒå¯èƒ½æ˜¯ä¸–ç•Œä¸Šæœ€å¥½çš„æœºå™¨å­¦ä¹ è§£å†³æ–¹æ¡ˆï¼Œä½†ä¸å¹¸çš„æ˜¯ï¼Œå®ƒä¸ä¼šå¸¦æ¥ä»»ä½•ä»·å€¼ã€‚
- en: Knowing how to deploy your code is critical to any project.
  id: totrans-80
  prefs: []
  type: TYPE_NORMAL
  zh: äº†è§£å¦‚ä½•éƒ¨ç½²ä½ çš„ä»£ç å¯¹ä»»ä½•é¡¹ç›®è‡³å…³é‡è¦ã€‚
- en: So rememberâ€¦
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: æ‰€ä»¥è®°ä½â€¦
- en: We will use GCP as the cloud provider and GitHub Actions as the CI/CD tool.
  id: totrans-82
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬å°†ä½¿ç”¨ GCP ä½œä¸ºäº‘æä¾›å•†ï¼ŒGitHub Actions ä½œä¸º CI/CD å·¥å…·ã€‚
- en: Theoretical Concepts & Tools
  id: totrans-83
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: ç†è®ºæ¦‚å¿µä¸å·¥å…·
- en: '**CI/CD:** CI/CD stands for continuous integration and continuous delivery.'
  id: totrans-84
  prefs: []
  type: TYPE_NORMAL
  zh: '**CI/CD:** CI/CD ä»£è¡¨æŒç»­é›†æˆå’ŒæŒç»­äº¤ä»˜ã€‚'
- en: The CI step mainly consists of building and testing your code every time you
    push code to git.
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: CI æ­¥éª¤ä¸»è¦åŒ…æ‹¬æ¯æ¬¡ä½ å°†ä»£ç æ¨é€åˆ° git æ—¶æ„å»ºå’Œæµ‹è¯•ä½ çš„ä»£ç ã€‚
- en: 'The CD step automatically deploys your code to multiple environments: dev,
    staging, and production.'
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
  zh: CD æ­¥éª¤ä¼šè‡ªåŠ¨å°†ä½ çš„ä»£ç éƒ¨ç½²åˆ°å¤šä¸ªç¯å¢ƒï¼šå¼€å‘ã€æµ‹è¯•å’Œç”Ÿäº§ã€‚
- en: Depending on your specific software requirements, you need or do not need all
    the specifications of a standard CI/CD pipeline.
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
  zh: æ ¹æ®ä½ çš„å…·ä½“è½¯ä»¶éœ€æ±‚ï¼Œä½ å¯èƒ½éœ€è¦æˆ–ä¸éœ€è¦æ ‡å‡† CI/CD ç®¡é“çš„æ‰€æœ‰è§„èŒƒã€‚
- en: For example, you might work on a proof of concept. Then a staging environment
    might be overkill. But having a dev and production CD pipeline will drastically
    improve your productivity.
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: ä¾‹å¦‚ï¼Œä½ å¯èƒ½æ­£åœ¨è¿›è¡Œä¸€ä¸ªæ¦‚å¿µéªŒè¯ã€‚ç„¶åæµ‹è¯•ç¯å¢ƒå¯èƒ½ä¼šæ˜¾å¾—å¤šä½™ã€‚ä½†æ‹¥æœ‰ä¸€ä¸ªå¼€å‘å’Œç”Ÿäº§ CD ç®¡é“å°†æå¤§åœ°æé«˜ä½ çš„ç”Ÿäº§åŠ›ã€‚
- en: '**GitHub Actions:** GitHub Actions is one of the most popular CI/CD tools out
    there in the wild. It is directly integrated into your GitHub repository. The
    sweet part is that you don''t need any VMs to run your CI/CD pipeline. Everything
    is running on GitHub''s computers.'
  id: totrans-89
  prefs: []
  type: TYPE_NORMAL
  zh: '**GitHub Actions:** GitHub Actions æ˜¯ç›®å‰æœ€æµè¡Œçš„ CI/CD å·¥å…·ä¹‹ä¸€ã€‚å®ƒç›´æ¥é›†æˆåœ¨ä½ çš„ GitHub ä»“åº“ä¸­ã€‚æœ€æ£’çš„æ˜¯ä½ ä¸éœ€è¦ä»»ä½•è™šæ‹Ÿæœºæ¥è¿è¡Œ
    CI/CD ç®¡é“ã€‚ä¸€åˆ‡éƒ½åœ¨ GitHub çš„è®¡ç®—æœºä¸Šè¿è¡Œã€‚'
- en: You need to specify a set of rules within a YAML file, and GitHub Actions will
    take care of the rest. I will show you how it works in this article.
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: ä½ éœ€è¦åœ¨ YAML æ–‡ä»¶ä¸­æŒ‡å®šä¸€ç»„è§„åˆ™ï¼ŒGitHub Actions å°†å¤„ç†å…¶ä½™çš„éƒ¨åˆ†ã€‚æˆ‘å°†åœ¨æœ¬æ–‡ä¸­å‘ä½ å±•ç¤ºå®ƒæ˜¯å¦‚ä½•å·¥ä½œçš„ã€‚
- en: '***GitHub Actions*** *is entirely* ***free*** *for public repositories. How
    awesome is that?*'
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
  zh: '***GitHub Actions*** *å®Œå…¨* ***å…è´¹*** *ç”¨äºå…¬å…±ä»“åº“ã€‚è¿™å¤šä¹ˆæ£’å•Šï¼Ÿ*'
- en: As a side note. Using GitHub Actions, you can trigger any job based on various
    repository events, but using it as a CI/CD tool is the most common use case.
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: é¡ºä¾¿æä¸€ä¸‹ã€‚ä½¿ç”¨ GitHub Actionsï¼Œä½ å¯ä»¥åŸºäºå„ç§ä»“åº“äº‹ä»¶è§¦å‘ä»»ä½•ä½œä¸šï¼Œä½†å°†å…¶ä½œä¸º CI/CD å·¥å…·ä½¿ç”¨æ˜¯æœ€å¸¸è§çš„ç”¨ä¾‹ã€‚
- en: 'Lesson 7: Code'
  id: totrans-93
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: ç¬¬ä¸ƒè¯¾ï¼šä»£ç 
- en: '[You can access the GitHub repository here.](https://github.com/iusztinpaul/energy-forecasting)'
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: '[ä½ å¯ä»¥åœ¨è¿™é‡Œè®¿é—® GitHub ä»“åº“ã€‚](https://github.com/iusztinpaul/energy-forecasting)'
- en: '**Note:** All the installation instructions are in the READMEs of the repository.
    Here you will jump straight to the code.'
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
  zh: '**æ³¨æ„ï¼š** æ‰€æœ‰çš„å®‰è£…è¯´æ˜éƒ½åœ¨ä»“åº“çš„ README ä¸­ã€‚è¿™é‡Œä½ å°†ç›´æ¥è·³è½¬åˆ°ä»£ç éƒ¨åˆ†ã€‚'
- en: '*The code and instructions for Lesson 7 are under the following:*'
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
  zh: '*ç¬¬ä¸ƒè¯¾çš„ä»£ç å’Œè¯´æ˜åœ¨ä»¥ä¸‹ä½ç½®ï¼š*'
- en: '[***deploy/***](https://github.com/iusztinpaul/energy-forecasting/tree/main/deploy)â€”
    Docker and shell deploying files'
  id: totrans-97
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[***deploy/***](https://github.com/iusztinpaul/energy-forecasting/tree/main/deploy)â€”
    Docker å’Œ shell éƒ¨ç½²æ–‡ä»¶'
- en: '[***.github/workflows***](https://github.com/iusztinpaul/energy-forecasting/tree/main/.github/workflows)
    â€” GitHub Actions CI/CD workflows'
  id: totrans-98
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[***.github/workflows***](https://github.com/iusztinpaul/energy-forecasting/tree/main/.github/workflows)
    â€” GitHub Actions CI/CD å·¥ä½œæµ'
- en: '[***README_DEPLOY***](https://github.com/iusztinpaul/energy-forecasting/blob/main/README_DEPLOY.md)
    â€” README dedicated to deploying the code to GCP'
  id: totrans-99
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[***README_DEPLOY***](https://github.com/iusztinpaul/energy-forecasting/blob/main/README_DEPLOY.md)
    â€” ç”¨äºå°†ä»£ç éƒ¨ç½²åˆ° GCP çš„ README'
- en: '***README_CICD*** â€” README dedicated to setting up the CI/CD pipeline'
  id: totrans-100
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '***README_CICD*** â€” ç”¨äºè®¾ç½® CI/CD ç®¡é“çš„ README'
- en: Prepare Credentials
  id: totrans-101
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: å‡†å¤‡å‡­è¯
- en: Directly storing credentials in your git repository is a huge security risk.
    That is why you will inject sensitive information using a **.env** file.
  id: totrans-102
  prefs: []
  type: TYPE_NORMAL
  zh: ç›´æ¥åœ¨ä½ çš„ git ä»“åº“ä¸­å­˜å‚¨å‡­è¯æ˜¯å·¨å¤§çš„å®‰å…¨éšæ‚£ã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆä½ éœ€è¦é€šè¿‡ **.env** æ–‡ä»¶æ³¨å…¥æ•æ„Ÿä¿¡æ¯ã€‚
- en: The **.env.default** is an example of all the variables you must configure.
    It is also helpful to store default values for attributes that are not sensitive
    (e.g., project name).
  id: totrans-103
  prefs: []
  type: TYPE_NORMAL
  zh: '**.env.default** æ˜¯ä½ å¿…é¡»é…ç½®çš„æ‰€æœ‰å˜é‡çš„ç¤ºä¾‹ã€‚å®ƒä¹Ÿæœ‰åŠ©äºå­˜å‚¨éæ•æ„Ÿå±æ€§çš„é»˜è®¤å€¼ï¼ˆä¾‹å¦‚ï¼Œé¡¹ç›®åç§°ï¼‰ã€‚'
- en: '![](../Images/87b81fc121cea9485a6b41dd4d656eb8.png)'
  id: totrans-104
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/87b81fc121cea9485a6b41dd4d656eb8.png)'
- en: A screenshot of the .env.default file [Image by the Author].
  id: totrans-105
  prefs: []
  type: TYPE_NORMAL
  zh: .env.default æ–‡ä»¶çš„æˆªå›¾ [ä½œè€…æä¾›çš„å›¾ç‰‡]ã€‚
- en: To replicate this article, you must set up all the infrastructure and services
    used during the [course](https://towardsdatascience.com/tagged/full-stack-mlops).
  id: totrans-106
  prefs: []
  type: TYPE_NORMAL
  zh: è¦å¤åˆ¶è¿™ç¯‡æ–‡ç« ï¼Œä½ å¿…é¡»è®¾ç½®è¯¾ç¨‹æœŸé—´ä½¿ç”¨çš„æ‰€æœ‰åŸºç¡€è®¾æ–½å’ŒæœåŠ¡ [è¯¾ç¨‹](https://towardsdatascience.com/tagged/full-stack-mlops)ã€‚
- en: '*2 main components can be deployed separately.*'
  id: totrans-107
  prefs: []
  type: TYPE_NORMAL
  zh: '*2 ä¸ªä¸»è¦ç»„ä»¶å¯ä»¥å•ç‹¬éƒ¨ç½²ã€‚*'
- en: '**#1\. The 3 ML pipelines:**'
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
  zh: '**#1\. ä¸‰ä¸ª ML ç®¡é“ï¼š**'
- en: Feature Pipeline
  id: totrans-109
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ç‰¹å¾ç®¡é“
- en: Training Pipeline
  id: totrans-110
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: è®­ç»ƒç®¡é“
- en: Batch Prediction Pipeline
  id: totrans-111
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æ‰¹é‡é¢„æµ‹ç®¡é“
- en: 'For **#1.**, you have to set up the following:'
  id: totrans-112
  prefs: []
  type: TYPE_NORMAL
  zh: å¯¹äº **#1.**ï¼Œä½ éœ€è¦è®¾ç½®ä»¥ä¸‹å†…å®¹ï¼š
- en: '[*Hopsworks*](https://www.hopsworks.ai/) *(free)* â€” Feature Store: [Lesson
    1](/a-framework-for-building-a-production-ready-feature-engineering-pipeline-f0b29609b20f)'
  id: totrans-113
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[*Hopsworks*](https://www.hopsworks.ai/) *(å…è´¹)* â€” ç‰¹å¾å­˜å‚¨ï¼š[Lesson 1](/a-framework-for-building-a-production-ready-feature-engineering-pipeline-f0b29609b20f)'
- en: '[*W&B*](https://wandb.ai/site) *(free)*â€” ML Platform: [Lesson 2](/a-guide-to-building-effective-training-pipelines-for-maximum-results-6fdaef594cee)'
  id: totrans-114
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[*W&B*](https://wandb.ai/site) *(å…è´¹)*â€” MLå¹³å°ï¼š[Lesson 2](/a-guide-to-building-effective-training-pipelines-for-maximum-results-6fdaef594cee)'
- en: '[*GCS buckets*](https://cloud.google.com/storage) *(free)* â€” Storage on GCP:
    [Lesson 3](/unlock-the-secret-to-efficient-batch-prediction-pipelines-using-python-a-feature-store-and-gcs-17a1462ca489)'
  id: totrans-115
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[*GCSæ¡¶*](https://cloud.google.com/storage) *(å…è´¹)* â€” GCPä¸Šçš„å­˜å‚¨ï¼š[Lesson 3](/unlock-the-secret-to-efficient-batch-prediction-pipelines-using-python-a-feature-store-and-gcs-17a1462ca489)'
- en: '[*Airflow*](https://airflow.apache.org/) *(free)*â€” Open source orchestration
    tool: [Lesson 4](/unlocking-mlops-using-airflow-a-comprehensive-guide-to-ml-system-orchestration-880aa9be8cff)'
  id: totrans-116
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[*Airflow*](https://airflow.apache.org/) *(å…è´¹)*â€” å¼€æºç¼–æ’å·¥å…·ï¼š[Lesson 4](/unlocking-mlops-using-airflow-a-comprehensive-guide-to-ml-system-orchestration-880aa9be8cff)'
- en: '**#2\. Web App:**'
  id: totrans-117
  prefs: []
  type: TYPE_NORMAL
  zh: '**#2\. Webåº”ç”¨ï¼š**'
- en: '[*FastAPI*](https://fastapi.tiangolo.com/) *backend (free)*: [Lesson 6](https://medium.com/towards-data-science/fastapi-and-streamlit-the-python-duo-you-must-know-about-72825def1243)'
  id: totrans-118
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[*FastAPI*](https://fastapi.tiangolo.com/) *åç«¯ï¼ˆå…è´¹ï¼‰*ï¼š[Lesson 6](https://medium.com/towards-data-science/fastapi-and-streamlit-the-python-duo-you-must-know-about-72825def1243)'
- en: '[*Streamlit*](https://streamlit.io/) *Predictions Dashboard (free)*: [Lesson
    6](https://medium.com/towards-data-science/fastapi-and-streamlit-the-python-duo-you-must-know-about-72825def1243)'
  id: totrans-119
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[*Streamlit*](https://streamlit.io/) *é¢„æµ‹ä»ªè¡¨ç›˜ï¼ˆå…è´¹ï¼‰*ï¼š[Lesson 6](https://medium.com/towards-data-science/fastapi-and-streamlit-the-python-duo-you-must-know-about-72825def1243)'
- en: '[*Streamlit*](https://streamlit.io/) *Monitoring Dashboard (free)*: [Lesson
    6](https://medium.com/towards-data-science/fastapi-and-streamlit-the-python-duo-you-must-know-about-72825def1243)'
  id: totrans-120
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[*Streamlit*](https://streamlit.io/) *ç›‘æ§ä»ªè¡¨ç›˜ï¼ˆå…è´¹ï¼‰*ï¼š[Lesson 6](https://medium.com/towards-data-science/fastapi-and-streamlit-the-python-duo-you-must-know-about-72825def1243)'
- en: Fortunately, for **#2.**, you have to set up only the GCP [GCS buckets](https://cloud.google.com/storage)
    used as storage.
  id: totrans-121
  prefs: []
  type: TYPE_NORMAL
  zh: å¹¸è¿çš„æ˜¯ï¼Œå¯¹äº**#2.**ï¼Œä½ åªéœ€è¦è®¾ç½®ç”¨ä½œå­˜å‚¨çš„GCP [GCSæ¡¶](https://cloud.google.com/storage)ã€‚
- en: But note that if you do only section **#2.**, you won't have any data to consume
    within your web app.
  id: totrans-122
  prefs: []
  type: TYPE_NORMAL
  zh: ä½†è¯·æ³¨æ„ï¼Œå¦‚æœä½ åªå®Œæˆ**#2.**éƒ¨åˆ†ï¼Œä½ çš„Webåº”ç”¨ä¸­ä¸ä¼šæœ‰ä»»ä½•æ•°æ®å¯ä¾›ä½¿ç”¨ã€‚
- en: We don't want to overflow this article with boring stuff, such as setting up
    credentials. Still, fortunately, if you're going to implement and replicate the
    entire [course](https://towardsdatascience.com/tagged/full-stack-mlops), you have
    step-by-step instructions in previous articles and the [GitHub README](https://github.com/iusztinpaul/energy-forecasting).
  id: totrans-123
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬ä¸æƒ³è®©è¿™ç¯‡æ–‡ç« å……æ»¡æ— èŠçš„å†…å®¹ï¼Œæ¯”å¦‚è®¾ç½®å‡­è¯ã€‚ä¸è¿‡å¹¸è¿çš„æ˜¯ï¼Œå¦‚æœä½ æ‰“ç®—å®ç°å’Œå¤åˆ¶æ•´ä¸ª[è¯¾ç¨‹](https://towardsdatascience.com/tagged/full-stack-mlops)ï¼Œä½ å¯ä»¥åœ¨ä¹‹å‰çš„æ–‡ç« ä¸­æ‰¾åˆ°ä¸€æ­¥æ­¥çš„è¯´æ˜å’Œ[GitHub
    README](https://github.com/iusztinpaul/energy-forecasting)ã€‚
- en: If you want to see (and not replicate) how we deployed our code to GCP and built
    the GitHub Actions workflows, you don't have to bother with any of the credentials.
    Just proceed to the following sections âœŒï¸
  id: totrans-124
  prefs: []
  type: TYPE_NORMAL
  zh: å¦‚æœä½ æƒ³æŸ¥çœ‹ï¼ˆè€Œä¸æ˜¯å¤åˆ¶ï¼‰æˆ‘ä»¬å¦‚ä½•å°†ä»£ç éƒ¨ç½²åˆ°GCPå¹¶æ„å»ºGitHub Actionså·¥ä½œæµï¼Œä½ æ— éœ€æ‹…å¿ƒä»»ä½•å‡­è¯ã€‚åªéœ€ç»§ç»­æŸ¥çœ‹ä»¥ä¸‹éƒ¨åˆ† âœŒï¸
- en: '**NOTE:** The only service that doesnâ€™t have a freemium plan is within this
    lesson. *When I wrote this course, deploying and testing the infrastructure on
    GCP cost me ~20$.* But I had a brand new GCP account that offered me 300$ in GCP
    credits, thus indirectly making it free of charge. Just remember to delete all
    the GCP resources when you are done, and you will be OK.'
  id: totrans-125
  prefs: []
  type: TYPE_NORMAL
  zh: '**æ³¨æ„ï¼š** å”¯ä¸€æ²¡æœ‰å…è´¹è®¡åˆ’çš„æœåŠ¡å°±åœ¨è¿™ä¸ªè¯¾ç¨‹ä¸­ã€‚*å½“æˆ‘ç¼–å†™è¿™ä¸ªè¯¾ç¨‹æ—¶ï¼Œéƒ¨ç½²å’Œæµ‹è¯•GCPä¸Šçš„åŸºç¡€è®¾æ–½èŠ±è´¹äº†æˆ‘å¤§çº¦20ç¾å…ƒã€‚* ä½†æˆ‘æœ‰ä¸€ä¸ªå…¨æ–°çš„GCPè´¦æˆ·ï¼Œæä¾›äº†300ç¾å…ƒçš„GCPä¿¡ç”¨ï¼Œå› æ­¤é—´æ¥ä½¿å…¶å…è´¹ã€‚åªè¦è®°å¾—åœ¨å®Œæˆååˆ é™¤æ‰€æœ‰GCPèµ„æºï¼Œä½ å°±ä¼šæ²¡é—®é¢˜çš„ã€‚'
- en: Manually Deploy to GCP
  id: totrans-126
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: æ‰‹åŠ¨éƒ¨ç½²åˆ°GCP
- en: 'So, let''s manually deploy the *2 main components* to GCP:'
  id: totrans-127
  prefs: []
  type: TYPE_NORMAL
  zh: æ‰€ä»¥ï¼Œè®©æˆ‘ä»¬æ‰‹åŠ¨å°†*2ä¸ªä¸»è¦ç»„ä»¶*éƒ¨ç½²åˆ°GCPï¼š
- en: ML Pipeline
  id: totrans-128
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: MLç®¡é“
- en: Web App
  id: totrans-129
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Webåº”ç”¨
- en: But, as a first step, let's *set up all the GCP resources we need for the deployment*.
    After, you will SSH to your machines and deploy your code.
  id: totrans-130
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸è¿‡ï¼Œä½œä¸ºç¬¬ä¸€æ­¥ï¼Œè®©æˆ‘ä»¬*è®¾ç½®æ‰€æœ‰éƒ¨ç½²æ‰€éœ€çš„GCPèµ„æº*ã€‚ä¹‹åï¼Œä½ å°†é€šè¿‡SSHè¿æ¥åˆ°ä½ çš„æœºå™¨å¹¶éƒ¨ç½²ä½ çš„ä»£ç ã€‚
- en: '[*For more info, access the GitHub deployment README.*](https://github.com/iusztinpaul/energy-forecasting/blob/main/README_DEPLOY.md)'
  id: totrans-131
  prefs: []
  type: TYPE_NORMAL
  zh: '[*æ›´å¤šä¿¡æ¯ï¼Œè¯·è®¿é—®GitHubéƒ¨ç½²READMEã€‚*](https://github.com/iusztinpaul/energy-forecasting/blob/main/README_DEPLOY.md)'
- en: '***Set Up Resources***'
  id: totrans-132
  prefs: []
  type: TYPE_NORMAL
  zh: '***è®¾ç½®èµ„æº***'
- en: 'Letâ€™s go to your GCP *energy_consumption* project and create the following
    resources:'
  id: totrans-133
  prefs: []
  type: TYPE_NORMAL
  zh: è®©æˆ‘ä»¬å»ä½ çš„GCP *energy_consumption* é¡¹ç›®ä¸­åˆ›å»ºä»¥ä¸‹èµ„æºï¼š
- en: Admin VM Service Account with IAP Access
  id: totrans-134
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: å…·æœ‰IAPè®¿é—®æƒé™çš„Admin VMæœåŠ¡è´¦æˆ·
- en: Expose Ports Firewall Rule
  id: totrans-135
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: å…¬å¼€ç«¯å£çš„é˜²ç«å¢™è§„åˆ™
- en: IAP for TCP Tunneling Firewall Rule
  id: totrans-136
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: IAP ç”¨äº TCP éš§é“çš„é˜²ç«å¢™è§„åˆ™
- en: VM for the Pipeline
  id: totrans-137
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: ç”¨äºç®¡é“çš„ VM
- en: VM for the Web App
  id: totrans-138
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: ç”¨äº Web åº”ç”¨çš„ VM
- en: External Static IP
  id: totrans-139
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: å¤–éƒ¨é™æ€ IP
- en: Donâ€™t get discouraged by the fancy names. You will have access to step-by-step
    guides using this article + the GCP documentation I will provide.
  id: totrans-140
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸è¦è¢«åä¸½çš„åç§°å“åˆ°ã€‚æ‚¨å°†é€šè¿‡è¿™ç¯‡æ–‡ç« å’Œæˆ‘æä¾›çš„ GCP æ–‡æ¡£è®¿é—®é€æ­¥æŒ‡å—ã€‚
- en: '**Note:** If you donâ€™t plan to replicate the infrastructure on your GCP infrastructure,
    skip the ***â€œSet Up Resourcesâ€*** section and go directly to â€œ***Deploy the ML
    Pipelineâ€***.'
  id: totrans-141
  prefs: []
  type: TYPE_NORMAL
  zh: '**æ³¨æ„ï¼š** å¦‚æœæ‚¨ä¸æ‰“ç®—åœ¨æ‚¨çš„ GCP åŸºç¡€è®¾æ–½ä¸Šå¤åˆ¶è¯¥åŸºç¡€è®¾æ–½ï¼Œè¯·è·³è¿‡ ***â€œè®¾ç½®èµ„æºâ€*** éƒ¨åˆ†ï¼Œç›´æ¥è¿›å…¥â€œ***éƒ¨ç½² ML ç®¡é“â€***ã€‚'
- en: '*#1\. Admin VM Service Account with IAP Access*'
  id: totrans-142
  prefs: []
  type: TYPE_NORMAL
  zh: '*#1\. å…·æœ‰ IAP è®¿é—®æƒé™çš„ç®¡ç†å‘˜ VM æœåŠ¡è´¦æˆ·*'
- en: We need a new GCP service account with admin rights & IAP access to the GCP
    VMs.
  id: totrans-143
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬éœ€è¦ä¸€ä¸ªæ–°çš„ GCP æœåŠ¡è´¦æˆ·ï¼Œå…·æœ‰ç®¡ç†å‘˜æƒé™å’Œå¯¹ GCP VMs çš„ IAP è®¿é—®æƒé™ã€‚
- en: 'You have to create a new service account and assign to it the following roles:'
  id: totrans-144
  prefs: []
  type: TYPE_NORMAL
  zh: æ‚¨å¿…é¡»åˆ›å»ºä¸€ä¸ªæ–°çš„æœåŠ¡è´¦æˆ·å¹¶åˆ†é…ä»¥ä¸‹è§’è‰²ï¼š
- en: Compute Instance Admin (v1)
  id: totrans-145
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: è®¡ç®—å®ä¾‹ç®¡ç†å‘˜ (v1)
- en: IAP-secured Tunnel User
  id: totrans-146
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: IAP ä¿æŠ¤çš„éš§é“ç”¨æˆ·
- en: Service Account Token Creator
  id: totrans-147
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æœåŠ¡è´¦æˆ·ä»¤ç‰Œåˆ›å»ºè€…
- en: Service Account User
  id: totrans-148
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æœåŠ¡è´¦æˆ·ç”¨æˆ·
- en: 'IAP stands for Identity-Aware Proxy. It is a way to create tunnels that route
    TCP traffic inside your private network. For your knowledge, you can read more
    about this topic using the following docs (you don''t have to understand it to
    proceed to the next steps):'
  id: totrans-149
  prefs: []
  type: TYPE_NORMAL
  zh: IAP ä»£è¡¨èº«ä»½æ„ŸçŸ¥ä»£ç†ã€‚è¿™æ˜¯ä¸€ç§åˆ›å»ºéš§é“ä»¥åœ¨æ‚¨çš„ç§æœ‰ç½‘ç»œå†…éƒ¨è·¯ç”± TCP æµé‡çš„æ–¹å¼ã€‚ä¸ºäº†æ‚¨çš„äº†è§£ï¼Œæ‚¨å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–‡æ¡£äº†è§£æ›´å¤šä¿¡æ¯ï¼ˆæ‚¨ä¸å¿…ç†è§£å®ƒæ‰èƒ½ç»§ç»­ä¸‹ä¸€æ­¥ï¼‰ï¼š
- en: '[Using IAP for TCP forwarding](https://cloud.google.com/iap/docs/using-tcp-forwarding)
    [2]'
  id: totrans-150
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[ä½¿ç”¨ IAP è¿›è¡Œ TCP è½¬å‘](https://cloud.google.com/iap/docs/using-tcp-forwarding)
    [2]'
- en: '[Overview of TCP forwarding](https://cloud.google.com/iap/docs/tcp-forwarding-overview)
    [3]'
  id: totrans-151
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[TCP è½¬å‘æ¦‚è¿°](https://cloud.google.com/iap/docs/tcp-forwarding-overview) [3]'
- en: '*#2\. Expose Ports Firewall Rule*'
  id: totrans-152
  prefs: []
  type: TYPE_NORMAL
  zh: '*#2\. å…¬å¼€ç«¯å£çš„é˜²ç«å¢™è§„åˆ™*'
- en: 'Create a firewall rule that exposes the following TCP ports: 8501, 8502, and
    8001.'
  id: totrans-153
  prefs: []
  type: TYPE_NORMAL
  zh: åˆ›å»ºä¸€ä¸ªé˜²ç«å¢™è§„åˆ™ï¼Œå…¬å¼€ä»¥ä¸‹ TCP ç«¯å£ï¼š8501ã€8502 å’Œ 8001ã€‚
- en: Also, add a *target tag* called *energy-forecasting-expose-ports*.
  id: totrans-154
  prefs: []
  type: TYPE_NORMAL
  zh: åŒæ—¶ï¼Œæ·»åŠ ä¸€ä¸ªåä¸º *energy-forecasting-expose-ports* çš„ *ç›®æ ‡æ ‡ç­¾*ã€‚
- en: 'Here are 2 docs that helped us create and configure the ports for the firewall
    rule:'
  id: totrans-155
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™é‡Œæœ‰ 2 ä¸ªæ–‡æ¡£å¸®åŠ©æˆ‘ä»¬åˆ›å»ºå’Œé…ç½®é˜²ç«å¢™è§„åˆ™çš„ç«¯å£ï¼š
- en: '[How to open a specific port such as 9090 in Google Compute Engine](https://stackoverflow.com/questions/21065922/how-to-open-a-specific-port-such-as-9090-in-google-compute-engine)
    [4]'
  id: totrans-156
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[å¦‚ä½•åœ¨ Google Compute Engine ä¸­æ‰“å¼€ç‰¹å®šç«¯å£ï¼Œä¾‹å¦‚ 9090](https://stackoverflow.com/questions/21065922/how-to-open-a-specific-port-such-as-9090-in-google-compute-engine)
    [4]'
- en: '[How to Open Firewall Ports on a GCP Compute Engine Instance](https://www.howtogeek.com/devops/how-to-open-firewall-ports-on-a-gcp-compute-engine-instance/)
    [5]'
  id: totrans-157
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[å¦‚ä½•åœ¨ GCP Compute Engine å®ä¾‹ä¸Šæ‰“å¼€é˜²ç«å¢™ç«¯å£](https://www.howtogeek.com/devops/how-to-open-firewall-ports-on-a-gcp-compute-engine-instance/)
    [5]'
- en: Here is what our firewall rule looks like ğŸ‘‡
  id: totrans-158
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™æ˜¯æˆ‘ä»¬çš„é˜²ç«å¢™è§„åˆ™çš„æ ·å­ ğŸ‘‡
- en: '![](../Images/97e2efc2f96dec4a2003b681538dc4a1.png)'
  id: totrans-159
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/97e2efc2f96dec4a2003b681538dc4a1.png)'
- en: Screenshot of the GCP "expose ports" firewall rule [Image by the Author].
  id: totrans-160
  prefs: []
  type: TYPE_NORMAL
  zh: GCP "å…¬å¼€ç«¯å£" é˜²ç«å¢™è§„åˆ™çš„æˆªå›¾ [ä½œè€…æä¾›çš„å›¾ç‰‡]ã€‚
- en: '*#3\. IAP for TCP Tunneling Firewall Rule*'
  id: totrans-161
  prefs: []
  type: TYPE_NORMAL
  zh: '*#3\. IAP ç”¨äº TCP éš§é“çš„é˜²ç«å¢™è§„åˆ™*'
- en: Now we will create a firewall rule allowing IAP for TCP Tunneling on all the
    VMs connected to the *default* network.
  id: totrans-162
  prefs: []
  type: TYPE_NORMAL
  zh: ç°åœ¨æˆ‘ä»¬å°†åˆ›å»ºä¸€ä¸ªé˜²ç«å¢™è§„åˆ™ï¼Œå…è®¸ IAP å¯¹æ‰€æœ‰è¿æ¥åˆ° *default* ç½‘ç»œçš„ VM è¿›è¡Œ TCP éš§é“ã€‚
- en: '[Step-by-step guide on how to create the IAP for TCP tunneling Firewall rule](https://cloud.google.com/iap/docs/using-tcp-forwarding#preparing_your_project_for_tcp_forwarding)
    [6].'
  id: totrans-163
  prefs: []
  type: TYPE_NORMAL
  zh: '[å¦‚ä½•åˆ›å»ºç”¨äº TCP éš§é“çš„ IAP é˜²ç«å¢™è§„åˆ™çš„é€æ­¥æŒ‡å—](https://cloud.google.com/iap/docs/using-tcp-forwarding#preparing_your_project_for_tcp_forwarding)
    [6]ã€‚'
- en: Here is what our firewall rule looks like ğŸ‘‡
  id: totrans-164
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™æ˜¯æˆ‘ä»¬çš„é˜²ç«å¢™è§„åˆ™çš„æ ·å­ ğŸ‘‡
- en: '![](../Images/b62ecb6aa11acc85634ecba689e6e98e.png)'
  id: totrans-165
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/b62ecb6aa11acc85634ecba689e6e98e.png)'
- en: Screenshot of the GCP "IAP TCP forwarding" firewall rule [Image by the Author].
  id: totrans-166
  prefs: []
  type: TYPE_NORMAL
  zh: GCP "IAP TCP è½¬å‘" é˜²ç«å¢™è§„åˆ™çš„æˆªå›¾ [ä½œè€…æä¾›çš„å›¾ç‰‡]ã€‚
- en: '*#4\. VM for the Pipeline*'
  id: totrans-167
  prefs: []
  type: TYPE_NORMAL
  zh: '*#4\. ç”¨äºç®¡é“çš„ VM*'
- en: Go to your GCP *energy_consumption* project -> VM Instances -> Create Instance.
  id: totrans-168
  prefs: []
  type: TYPE_NORMAL
  zh: è½¬åˆ°æ‚¨çš„ GCP *energy_consumption* é¡¹ç›® -> VM å®ä¾‹ -> åˆ›å»ºå®ä¾‹ã€‚
- en: 'Choose *e2-standard-2: 2 vCPU cores â€” 8 GB RAM* as your VM instance type.'
  id: totrans-169
  prefs: []
  type: TYPE_NORMAL
  zh: 'é€‰æ‹© *e2-standard-2: 2 vCPU æ ¸å¿ƒ â€” 8 GB RAM* ä½œä¸ºæ‚¨çš„ VM å®ä¾‹ç±»å‹ã€‚'
- en: 'Call it: *ml-pipeline*'
  id: totrans-170
  prefs: []
  type: TYPE_NORMAL
  zh: å‘½åä¸ºï¼š*ml-pipeline*
- en: Change the disk to *20 GB Storage*.
  id: totrans-171
  prefs: []
  type: TYPE_NORMAL
  zh: å°†ç£ç›˜æ›´æ”¹ä¸º *20 GB å­˜å‚¨*ã€‚
- en: Pick region *europe-west3 (Frankfurt)*` and zone *europe-west3-c.* Here,you
    can pick any other region & zone, but if it is your first time doing this, we
    suggest you do it like us.
  id: totrans-172
  prefs: []
  type: TYPE_NORMAL
  zh: é€‰æ‹©åŒºåŸŸ *europe-west3 (æ³•å…°å…‹ç¦)*` å’ŒåŒºåŸŸ *europe-west3-c.* åœ¨è¿™é‡Œï¼Œæ‚¨å¯ä»¥é€‰æ‹©ä»»ä½•å…¶ä»–åŒºåŸŸå’ŒåŒºåŸŸï¼Œä½†å¦‚æœè¿™æ˜¯æ‚¨ç¬¬ä¸€æ¬¡è¿™æ ·åšï¼Œæˆ‘ä»¬å»ºè®®æ‚¨åƒæˆ‘ä»¬ä¸€æ ·æ“ä½œã€‚
- en: 'Network: *default*'
  id: totrans-173
  prefs: []
  type: TYPE_NORMAL
  zh: ç½‘ç»œï¼š*default*
- en: Also, check the *HTTP* and *HTTPS* boxes and add the *energy-forecasting-expose-ports*
    custom firewall rule we did a few steps back.
  id: totrans-174
  prefs: []
  type: TYPE_NORMAL
  zh: æ­¤å¤–ï¼Œå‹¾é€‰ *HTTP* å’Œ *HTTPS* é€‰é¡¹ï¼Œå¹¶æ·»åŠ æˆ‘ä»¬åœ¨å‡ æ­¥å‰åˆ›å»ºçš„ *energy-forecasting-expose-ports* è‡ªå®šä¹‰é˜²ç«å¢™è§„åˆ™ã€‚
- en: 'Here are 2 docs that helped me create and configure the ports for the firewall
    rule:'
  id: totrans-175
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™é‡Œæœ‰ä¸¤ä¸ªæ–‡æ¡£å¸®åŠ©æˆ‘åˆ›å»ºå’Œé…ç½®é˜²ç«å¢™è§„åˆ™çš„ç«¯å£ï¼š
- en: '[How to open a specific port such as 9090 in Google Compute Engine](https://stackoverflow.com/questions/21065922/how-to-open-a-specific-port-such-as-9090-in-google-compute-engine)
    [4]'
  id: totrans-176
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[å¦‚ä½•åœ¨Google Compute Engineä¸­æ‰“å¼€ç‰¹å®šç«¯å£ï¼Œå¦‚9090](https://stackoverflow.com/questions/21065922/how-to-open-a-specific-port-such-as-9090-in-google-compute-engine)
    [4]'
- en: '[How to Open Firewall Ports on a GCP Compute Engine Instance](https://www.howtogeek.com/devops/how-to-open-firewall-ports-on-a-gcp-compute-engine-instance/)
    [5]'
  id: totrans-177
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[å¦‚ä½•åœ¨GCP Compute Engineå®ä¾‹ä¸Šæ‰“å¼€é˜²ç«å¢™ç«¯å£](https://www.howtogeek.com/devops/how-to-open-firewall-ports-on-a-gcp-compute-engine-instance/)
    [5]'
- en: '*#5\. VM for the Web App*'
  id: totrans-178
  prefs: []
  type: TYPE_NORMAL
  zh: '*#5\. Webåº”ç”¨ç¨‹åºçš„VM*'
- en: Now let's repeat a similar process for the Web App VM, but with slightly different
    settings.
  id: totrans-179
  prefs: []
  type: TYPE_NORMAL
  zh: ç°åœ¨ï¼Œè®©æˆ‘ä»¬å¯¹Webåº”ç”¨ç¨‹åºVMé‡å¤ç±»ä¼¼çš„è¿‡ç¨‹ï¼Œä½†è®¾ç½®ç•¥æœ‰ä¸åŒã€‚
- en: 'This time choose *e2-micro: 0.25 2 vCPU â€” 1 GB memory* as your VM instance
    type.'
  id: totrans-180
  prefs: []
  type: TYPE_NORMAL
  zh: 'è¿™æ¬¡é€‰æ‹© *e2-micro: 0.25 2 vCPU â€” 1 GB memory* ä½œä¸ºä½ çš„VMå®ä¾‹ç±»å‹ã€‚'
- en: 'Call it: *app*'
  id: totrans-181
  prefs: []
  type: TYPE_NORMAL
  zh: å‘½åä¸ºï¼š*app*
- en: Change the disk to *15 GB standard persisted disk*
  id: totrans-182
  prefs: []
  type: TYPE_NORMAL
  zh: å°†ç£ç›˜æ›´æ”¹ä¸º *15 GBæ ‡å‡†æŒä¹…ç£ç›˜*
- en: Pick region *europe-west3 (Frankfurt)* and zone *europe-west3-c.*
  id: totrans-183
  prefs: []
  type: TYPE_NORMAL
  zh: é€‰æ‹©åŒºåŸŸ *europe-west3 (Frankfurt)* å’ŒåŒºåŸŸ *europe-west3-c*ã€‚
- en: 'Network: *default*'
  id: totrans-184
  prefs: []
  type: TYPE_NORMAL
  zh: ç½‘ç»œï¼š*default*
- en: Also, check the *HTTP* and *HTTPS* boxes and add the *energy-forecasting-expose-ports*
    custom firewall rule we created a few steps back.
  id: totrans-185
  prefs: []
  type: TYPE_NORMAL
  zh: æ­¤å¤–ï¼Œå‹¾é€‰ *HTTP* å’Œ *HTTPS* é€‰é¡¹ï¼Œå¹¶æ·»åŠ æˆ‘ä»¬åœ¨å‡ æ­¥å‰åˆ›å»ºçš„ *energy-forecasting-expose-ports* è‡ªå®šä¹‰é˜²ç«å¢™è§„åˆ™ã€‚
- en: '*#6\. External Static IP*'
  id: totrans-186
  prefs: []
  type: TYPE_NORMAL
  zh: '*#6\. å¤–éƒ¨é™æ€IP*'
- en: This is the last piece of the puzzle.
  id: totrans-187
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™æ˜¯æœ€åä¸€å—æ‹¼å›¾ã€‚
- en: If we want the external IP for our web app to be static (aka not to change),
    we have to attach a static address to our web app VM.
  id: totrans-188
  prefs: []
  type: TYPE_NORMAL
  zh: å¦‚æœæˆ‘ä»¬å¸Œæœ›æˆ‘ä»¬çš„Webåº”ç”¨ç¨‹åºçš„å¤–éƒ¨IPä¿æŒé™æ€ï¼ˆå³ä¸æ›´æ”¹ï¼‰ï¼Œæˆ‘ä»¬å¿…é¡»ä¸ºWebåº”ç”¨ç¨‹åºVMé™„åŠ é™æ€åœ°å€ã€‚
- en: We suggest adding it only to the *app* VM we created a few steps ahead.
  id: totrans-189
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬å»ºè®®å°†å…¶ä»…æ·»åŠ åˆ°æˆ‘ä»¬ä¹‹å‰åˆ›å»ºçš„*app* VMä¸­ã€‚
- en: Also, adding a static external IP to the ml-pipeline VM is perfectly fine.
  id: totrans-190
  prefs: []
  type: TYPE_NORMAL
  zh: æ­¤å¤–ï¼Œä¸ºml-pipeline VMæ·»åŠ é™æ€å¤–éƒ¨IPæ˜¯å®Œå…¨å¯ä»¥çš„ã€‚
- en: '[Docs on reserving a static external IP address](https://cloud.google.com/compute/docs/ip-addresses/reserve-static-external-ip-address)
    [7].'
  id: totrans-191
  prefs: []
  type: TYPE_NORMAL
  zh: '[ä¿ç•™é™æ€å¤–éƒ¨IPåœ°å€çš„æ–‡æ¡£](https://cloud.google.com/compute/docs/ip-addresses/reserve-static-external-ip-address)
    [7]ã€‚'
- en: '*Now that the boring part is finished let''s start deploying the code ğŸ‘‡*'
  id: totrans-192
  prefs: []
  type: TYPE_NORMAL
  zh: '*ç°åœ¨æ¯ç‡¥çš„éƒ¨åˆ†ç»“æŸäº†ï¼Œæˆ‘ä»¬å¼€å§‹éƒ¨ç½²ä»£ç  ğŸ‘‡*'
- en: '**Deploy the ML Pipeline**'
  id: totrans-193
  prefs: []
  type: TYPE_NORMAL
  zh: '**éƒ¨ç½²MLç®¡é“**'
- en: As a first step, we must install the [gcloud GCP CLI tool](https://cloud.google.com/sdk/docs/install)
    to talk between our computer and the GCP VMs.
  id: totrans-194
  prefs: []
  type: TYPE_NORMAL
  zh: é¦–å…ˆï¼Œæˆ‘ä»¬å¿…é¡»å®‰è£… [gcloud GCP CLIå·¥å…·](https://cloud.google.com/sdk/docs/install) ä»¥ä¾¿åœ¨æˆ‘ä»¬çš„è®¡ç®—æœºå’ŒGCP
    VMä¹‹é—´è¿›è¡Œé€šä¿¡ã€‚
- en: To authenticate, we will use the service account configured with admin rights
    for VMs and IAP access to SSH.
  id: totrans-195
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸ºäº†è¿›è¡Œèº«ä»½éªŒè¯ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨é…ç½®äº†VMå’ŒIAP SSHè®¿é—®ç®¡ç†å‘˜æƒé™çš„æœåŠ¡å¸æˆ·ã€‚
- en: Now, we must tell the *gcloud GCP CLI* to use that *service account*.
  id: totrans-196
  prefs: []
  type: TYPE_NORMAL
  zh: ç°åœ¨ï¼Œæˆ‘ä»¬å¿…é¡»å‘Šè¯‰ *gcloud GCP CLI* ä½¿ç”¨é‚£ä¸ª *service account*ã€‚
- en: To do so, you must create a key for your service account and download it as
    a JSON file. Same as you did for the buckets service accounts â€” [here are some
    docs to refresh your mind](https://cloud.google.com/iam/docs/keys-create-delete)
    [8].
  id: totrans-197
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸ºæ­¤ï¼Œä½ å¿…é¡»ä¸ºä½ çš„æœåŠ¡å¸æˆ·åˆ›å»ºä¸€ä¸ªå¯†é’¥å¹¶å°†å…¶ä¸‹è½½ä¸ºJSONæ–‡ä»¶ã€‚ä¸ä¸ºå­˜å‚¨æ¡¶æœåŠ¡å¸æˆ·æ‰€åšçš„ç›¸åŒâ€”â€”[è¿™é‡Œæœ‰ä¸€äº›æ–‡æ¡£å¯ä»¥åˆ·æ–°ä½ çš„è®°å¿†](https://cloud.google.com/iam/docs/keys-create-delete)
    [8]ã€‚
- en: 'After you download the file, you have to run the following *gcloud* command
    in your terminal:'
  id: totrans-198
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸‹è½½æ–‡ä»¶åï¼Œä½ éœ€è¦åœ¨ç»ˆç«¯ä¸­è¿è¡Œä»¥ä¸‹ *gcloud* å‘½ä»¤ï¼š
- en: '[PRE0]'
  id: totrans-199
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: '[Check out this doc for more details about the *gcloud* auth command](https://cloud.google.com/sdk/gcloud/reference/auth/activate-service-account).'
  id: totrans-200
  prefs: []
  type: TYPE_NORMAL
  zh: '[æŸ¥çœ‹æ­¤æ–‡æ¡£ä»¥è·å–æœ‰å…³ *gcloud* èº«ä»½éªŒè¯å‘½ä»¤çš„æ›´å¤šè¯¦ç»†ä¿¡æ¯](https://cloud.google.com/sdk/gcloud/reference/auth/activate-service-account)ã€‚'
- en: Now whenever you run commands with *gcloud*, it will use this service account
    to authenticate.
  id: totrans-201
  prefs: []
  type: TYPE_NORMAL
  zh: ç°åœ¨ï¼Œæ¯å½“ä½ ä½¿ç”¨ *gcloud* è¿è¡Œå‘½ä»¤æ—¶ï¼Œå®ƒå°†ä½¿ç”¨æ­¤æœåŠ¡å¸æˆ·è¿›è¡Œèº«ä»½éªŒè¯ã€‚
- en: 'Now let''s connect through SSH to the *ml-pipeline* GCP VM you created a few
    steps ahead:'
  id: totrans-202
  prefs: []
  type: TYPE_NORMAL
  zh: ç°åœ¨ï¼Œè®©æˆ‘ä»¬é€šè¿‡SSHè¿æ¥åˆ°ä½ åœ¨å‡ æ­¥å‰åˆ›å»ºçš„*ml-pipeline* GCP VMï¼š
- en: '[PRE1]'
  id: totrans-203
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: '**NOTE 1:** Change the *zone* if you haven''t created a VM within the same
    zone as us.'
  id: totrans-204
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**æ³¨æ„ 1ï¼š** å¦‚æœä½ è¿˜æ²¡æœ‰åœ¨ä¸æˆ‘ä»¬ç›¸åŒçš„åŒºåŸŸåˆ›å»ºVMï¼Œè¯·æ›´æ”¹ *zone*ã€‚'
- en: '**NOTE 2:** Your *project-id* is NOT your *project name*. Go to your GCP projects
    list and find the project id.'
  id: totrans-205
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**æ³¨æ„ 2ï¼š** ä½ çš„ *project-id* ä¸æ˜¯ä½ çš„ *project name*ã€‚å‰å¾€ä½ çš„GCPé¡¹ç›®åˆ—è¡¨ï¼Œæ‰¾åˆ°é¡¹ç›®IDã€‚'
- en: Starting this point, if you configured the firewalls and service account correctly,
    as everything is Dockerized, all the steps will be 99% similar to those from the
    rest of the articles.
  id: totrans-206
  prefs: []
  type: TYPE_NORMAL
  zh: ä»æ­¤ç‚¹å¼€å§‹ï¼Œå¦‚æœä½ æ­£ç¡®é…ç½®äº†é˜²ç«å¢™å’ŒæœåŠ¡è´¦æˆ·ï¼Œç”±äºä¸€åˆ‡éƒ½å·² Docker åŒ–ï¼Œæ‰€æœ‰æ­¥éª¤å°†ä¸å…¶ä½™æ–‡ç« ä¸­çš„æ­¥éª¤ 99% ç›¸ä¼¼ã€‚
- en: Check out the Github README â€” [*Set Up Additional Tools*](https://github.com/iusztinpaul/energy-forecasting#tools)
    and [*Usage*](https://github.com/iusztinpaul/energy-forecasting#usage) sections
    for step-by-step instructions.
  id: totrans-207
  prefs: []
  type: TYPE_NORMAL
  zh: æŸ¥çœ‹ Github README â€” [*è®¾ç½®é™„åŠ å·¥å…·*](https://github.com/iusztinpaul/energy-forecasting#tools)
    å’Œ [*ä½¿ç”¨*](https://github.com/iusztinpaul/energy-forecasting#usage) éƒ¨åˆ†è·å–é€æ­¥è¯´æ˜ã€‚
- en: You can follow the same steps while you are connected with SSH to the *ml-pipeline*
    GCP machine.
  id: totrans-208
  prefs: []
  type: TYPE_NORMAL
  zh: å½“ä½ é€šè¿‡ SSH è¿æ¥åˆ° *ml-pipeline* GCP æœºå™¨æ—¶ï¼Œå¯ä»¥æŒ‰ç…§ç›¸åŒçš„æ­¥éª¤æ“ä½œã€‚
- en: Note that the GCP machine is using Linux as its OS. Thus, you can directly copy
    & paste the commands from the README regardless of the OS you use on your local
    device.
  id: totrans-209
  prefs: []
  type: TYPE_NORMAL
  zh: è¯·æ³¨æ„ï¼ŒGCP æœºå™¨ä½¿ç”¨çš„æ˜¯ Linux æ“ä½œç³»ç»Ÿã€‚å› æ­¤ï¼Œæ— è®ºä½ åœ¨æœ¬åœ°è®¾å¤‡ä¸Šä½¿ç”¨ä»€ä¹ˆæ“ä½œç³»ç»Ÿï¼Œéƒ½å¯ä»¥ç›´æ¥å¤åˆ¶å’Œç²˜è´´ README ä¸­çš„å‘½ä»¤ã€‚
- en: '![](../Images/32e7843fcd3316cc38aaff22d935fa92.png)'
  id: totrans-210
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/32e7843fcd3316cc38aaff22d935fa92.png)'
- en: Screenshot of connecting to the "app" VM using *gcloud* [Screenshot by the Author].
  id: totrans-211
  prefs: []
  type: TYPE_NORMAL
  zh: è¿æ¥åˆ° â€œappâ€ è™šæ‹Ÿæœºçš„æˆªå›¾ï¼Œä½¿ç”¨ *gcloud* [ä½œè€…æä¾›çš„æˆªå›¾]ã€‚
- en: You can safely repeat all the steps you've done setting *The Pipeline* locally
    using this SSH connection, ***but you have to keep in mind the following 3 edge
    cases*:**
  id: totrans-212
  prefs: []
  type: TYPE_NORMAL
  zh: ä½ å¯ä»¥å®‰å…¨åœ°é‡å¤ä½ åœ¨æœ¬åœ°è®¾ç½® *æµæ°´çº¿* æ—¶æ‰€åšçš„æ‰€æœ‰æ­¥éª¤ï¼Œä½¿ç”¨è¿™ä¸ª SSH è¿æ¥ï¼Œ***ä½†ä½ å¿…é¡»æ³¨æ„ä»¥ä¸‹ 3 ä¸ªè¾¹ç•Œæƒ…å†µ*ï¼š**
- en: '*#1\. Clone the code in the home directory of the VM*'
  id: totrans-213
  prefs: []
  type: TYPE_NORMAL
  zh: '*#1\. å°†ä»£ç å…‹éš†åˆ°è™šæ‹Ÿæœºçš„ä¸»ç›®å½•ä¸­*'
- en: 'Just SHH to the VM and run:'
  id: totrans-214
  prefs: []
  type: TYPE_NORMAL
  zh: åªéœ€ SSH åˆ°è™šæ‹Ÿæœºå¹¶è¿è¡Œï¼š
- en: '[PRE2]'
  id: totrans-215
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: '*#2\. Install Docker using the following commands:*'
  id: totrans-216
  prefs: []
  type: TYPE_NORMAL
  zh: '*#2\. ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å®‰è£… Dockerï¼š*'
- en: 'Install Docker:'
  id: totrans-217
  prefs: []
  type: TYPE_NORMAL
  zh: å®‰è£… Dockerï¼š
- en: '[PRE3]'
  id: totrans-218
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: 'Add sudo access to Docker:'
  id: totrans-219
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸º Docker æ·»åŠ  sudo æƒé™ï¼š
- en: '[PRE4]'
  id: totrans-220
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: 'Login again to your machine:'
  id: totrans-221
  prefs: []
  type: TYPE_NORMAL
  zh: å†æ¬¡ç™»å½•åˆ°ä½ çš„æœºå™¨ï¼š
- en: '[PRE5]'
  id: totrans-222
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: '[Check out these docs for the full instructions](https://tomroth.com.au/gcp-docker/)
    [9].'
  id: totrans-223
  prefs: []
  type: TYPE_NORMAL
  zh: '[æŸ¥çœ‹è¿™äº›æ–‡æ¡£è·å–å®Œæ•´çš„è¯´æ˜](https://tomroth.com.au/gcp-docker/) [9]ã€‚'
- en: '*#3\. Replace all* ***cp*** *commands with* ***gcloud******compute******scp****:*'
  id: totrans-224
  prefs: []
  type: TYPE_NORMAL
  zh: '*#3\. ç”¨* ***gcloud******compute******scp**** *æ›¿æ¢æ‰€æœ‰* ***cp*** *å‘½ä»¤ï¼š*'
- en: This command will help you to copy files from your local machine to the VM.
  id: totrans-225
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™ä¸ªå‘½ä»¤å°†å¸®åŠ©ä½ å°†æ–‡ä»¶ä»æœ¬åœ°æœºå™¨å¤åˆ¶åˆ°è™šæ‹Ÿæœºä¸­ã€‚
- en: 'For example, instead of running:'
  id: totrans-226
  prefs: []
  type: TYPE_NORMAL
  zh: ä¾‹å¦‚ï¼Œä»£æ›¿è¿è¡Œï¼š
- en: '[PRE6]'
  id: totrans-227
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: 'Run in a different terminal (not the one connected with SSH to your VM):'
  id: totrans-228
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨ä¸åŒçš„ç»ˆç«¯ä¸­è¿è¡Œï¼ˆä¸æ˜¯è¿æ¥åˆ°è™šæ‹Ÿæœºçš„ SSH ç»ˆç«¯ï¼‰ï¼š
- en: '[PRE7]'
  id: totrans-229
  prefs: []
  type: TYPE_PRE
  zh: '[PRE7]'
- en: This command will copy your local *admin-buckets.json* file to the *ml-pipeline*
    VM.
  id: totrans-230
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™ä¸ªå‘½ä»¤å°†æŠŠä½ æœ¬åœ°çš„ *admin-buckets.json* æ–‡ä»¶å¤åˆ¶åˆ° *ml-pipeline* è™šæ‹Ÿæœºä¸­ã€‚
- en: After setting up your code on the *ml-pipeline GCP VM,*go to your VM view from
    GCP and the *Network tags* section. There you will find the *External IP address*
    column, as shown in the image below. Copy that IP and attach port *8080* to it.
  id: totrans-231
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨ä½ è®¾ç½®å¥½ä»£ç ä¹‹åï¼Œå‰å¾€ GCP çš„è™šæ‹Ÿæœºè§†å›¾å’Œ *ç½‘ç»œæ ‡ç­¾* éƒ¨åˆ†ã€‚åœ¨é‚£é‡Œä½ ä¼šæ‰¾åˆ° *å¤–éƒ¨ IP åœ°å€* åˆ—ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚å¤åˆ¶è¯¥ IP å¹¶å°†ç«¯å£ *8080*
    é™„åŠ åˆ°å®ƒä¸Šé¢ã€‚
- en: 'For example, based on the *External IP address* from the image below, I accessed
    Airflow using this address: *35.207.134.188:8080*.'
  id: totrans-232
  prefs: []
  type: TYPE_NORMAL
  zh: ä¾‹å¦‚ï¼Œæ ¹æ®ä¸‹é¢å›¾ç‰‡ä¸­çš„ *å¤–éƒ¨ IP åœ°å€*ï¼Œæˆ‘ä½¿ç”¨ä»¥ä¸‹åœ°å€è®¿é—®äº† Airflowï¼š*35.207.134.188:8080*ã€‚
- en: '*Congrats! You connected to your own self-hosted Airflow application.*'
  id: totrans-233
  prefs: []
  type: TYPE_NORMAL
  zh: '*æ­å–œï¼ä½ å·²è¿æ¥åˆ°ä½ è‡ªå·±æ‰˜ç®¡çš„ Airflow åº”ç”¨ã€‚*'
- en: '**Note:** If it doesn''t connect, give it a few seconds to load properly.'
  id: totrans-234
  prefs: []
  type: TYPE_NORMAL
  zh: '**æ³¨æ„ï¼š** å¦‚æœæ— æ³•è¿æ¥ï¼Œè¯·ç¨ç­‰å‡ ç§’é’Ÿä»¥ä¾¿æ­£ç¡®åŠ è½½ã€‚'
- en: '![](../Images/761ce29a89b33a55d06a796a2a7a6037.png)'
  id: totrans-235
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/761ce29a89b33a55d06a796a2a7a6037.png)'
- en: Screenshot of the "app" GCP VM configurations [Image by the Author].
  id: totrans-236
  prefs: []
  type: TYPE_NORMAL
  zh: â€œappâ€ GCP è™šæ‹Ÿæœºé…ç½®çš„æˆªå›¾ [ä½œè€…æä¾›çš„å›¾ç‰‡]ã€‚
- en: '**Deploy the Web App**'
  id: totrans-237
  prefs: []
  type: TYPE_NORMAL
  zh: '**éƒ¨ç½² Web åº”ç”¨**'
- en: 'Let''s connect using SSH to the *â€œappâ€ GCP VM* you created a few steps ahead:'
  id: totrans-238
  prefs: []
  type: TYPE_NORMAL
  zh: è®©æˆ‘ä»¬ä½¿ç”¨ SSH è¿æ¥åˆ°ä½ åœ¨å‰é¢å‡ æ­¥åˆ›å»ºçš„ *â€œappâ€ GCP è™šæ‹Ÿæœº*ï¼š
- en: '[PRE8]'
  id: totrans-239
  prefs: []
  type: TYPE_PRE
  zh: '[PRE8]'
- en: '**NOTE 1:** Change the *zone* if you haven''t created a VM within the same
    zone as us.'
  id: totrans-240
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**æ³¨æ„ 1ï¼š** å¦‚æœä½ æ²¡æœ‰åœ¨ä¸æˆ‘ä»¬ç›¸åŒçš„åŒºåŸŸåˆ›å»ºè™šæ‹Ÿæœºï¼Œè¯·æ›´æ”¹ *åŒºåŸŸ*ã€‚'
- en: '**NOTE 2:** Your *project-id* is NOT your *project name*. Go to your GCP projects
    list and find the project id.'
  id: totrans-241
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**æ³¨æ„ 2ï¼š** ä½ çš„ *project-id* ä¸æ˜¯ä½ çš„ *é¡¹ç›®åç§°*ã€‚è¯·å‰å¾€ä½ çš„ GCP é¡¹ç›®åˆ—è¡¨ï¼Œæ‰¾åˆ°é¡¹ç›® IDã€‚'
- en: Here the process is similar to the one described in the *â€œ****Deploy the ML
    Pipelineâ€*** section*.*
  id: totrans-242
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™é‡Œçš„è¿‡ç¨‹ä¸ *â€œ****éƒ¨ç½² ML æµæ°´çº¿â€*** éƒ¨åˆ†æè¿°çš„ç±»ä¼¼*ã€‚
- en: You can deploy the web app following the steps described in [Lesson 6](https://medium.com/towards-data-science/fastapi-and-streamlit-the-python-duo-you-must-know-about-72825def1243)
    or in the GitHub repository's [Set Up Additional Tools](https://github.com/iusztinpaul/energy-forecasting#tools)
    & [Usage](https://github.com/iusztinpaul/energy-forecasting#usage) sections.
  id: totrans-243
  prefs: []
  type: TYPE_NORMAL
  zh: ä½ å¯ä»¥æŒ‰ç…§ [Lesson 6](https://medium.com/towards-data-science/fastapi-and-streamlit-the-python-duo-you-must-know-about-72825def1243)
    æˆ– GitHub ä»“åº“çš„ [è®¾ç½®é™„åŠ å·¥å…·](https://github.com/iusztinpaul/energy-forecasting#tools)
    å’Œ [ä½¿ç”¨æ–¹æ³•](https://github.com/iusztinpaul/energy-forecasting#usage) éƒ¨åˆ†æ¥éƒ¨ç½² Web åº”ç”¨ã€‚
- en: But donâ€™t forget to keep in mind the 3 edge cases described in the â€œ**Deploy
    the ML Pipelineâ€ section.**
  id: totrans-244
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: ä½†ä¸è¦å¿˜è®°å…³æ³¨ â€œ**éƒ¨ç½² ML æµæ°´çº¿**â€ éƒ¨åˆ†æè¿°çš„ 3 ä¸ªè¾¹ç•Œæƒ…å†µã€‚
- en: Please excuse me for referring you to so much external documentation on how
    to set up this stuff. The article is too long, and I didn't want to replicate
    the GCP Google documentation here.
  id: totrans-245
  prefs: []
  type: TYPE_NORMAL
  zh: è¯·åŸè°…æˆ‘å‚è€ƒäº†è¿™ä¹ˆå¤šå…³äºå¦‚ä½•è®¾ç½®è¿™äº›å†…å®¹çš„å¤–éƒ¨æ–‡æ¡£ã€‚æ–‡ç« å¤ªé•¿äº†ï¼Œæˆ‘ä¸æƒ³åœ¨è¿™é‡Œé‡å¤ GCP Google çš„æ–‡æ¡£ã€‚
- en: CI/CD Pipeline Using GitHub Actions (free)
  id: totrans-246
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: ä½¿ç”¨ GitHub Actions çš„ CI/CD æµæ°´çº¿ï¼ˆå…è´¹ï¼‰
- en: The GitHub Actions YAML files are under the [***.github/workflows***](https://github.com/iusztinpaul/energy-forecasting/tree/main/.github/workflows)
    directory.
  id: totrans-247
  prefs: []
  type: TYPE_NORMAL
  zh: GitHub Actions YAML æ–‡ä»¶ä½äº [***.github/workflows***](https://github.com/iusztinpaul/energy-forecasting/tree/main/.github/workflows)
    ç›®å½•ä¸‹ã€‚
- en: Firstly, let me explain the main components you have to know about a GitHub
    Actions file ğŸ‘‡
  id: totrans-248
  prefs: []
  type: TYPE_NORMAL
  zh: é¦–å…ˆï¼Œè®©æˆ‘è§£é‡Šä¸€ä¸‹ä½ éœ€è¦äº†è§£çš„ GitHub Actions æ–‡ä»¶çš„ä¸»è¦ç»„ä»¶ ğŸ‘‡
- en: Using the "**on -> push -> branches:"** section, you specify which branch to
    listen to for events. In this case, the GitHub Action is triggered when new code
    is committed to the **"main"** branch.
  id: totrans-249
  prefs: []
  type: TYPE_NORMAL
  zh: ä½¿ç”¨ "**on -> push -> branches:"** éƒ¨åˆ†ï¼Œä½ æŒ‡å®šè¦ç›‘å¬çš„åˆ†æ”¯äº‹ä»¶ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå½“æœ‰æ–°ä»£ç æäº¤åˆ° **"main"** åˆ†æ”¯æ—¶ï¼ŒGitHub
    Action å°†è¢«è§¦å‘ã€‚
- en: 'In the "**env: "**section, you can declare the environment variables you need
    inside the script.'
  id: totrans-250
  prefs: []
  type: TYPE_NORMAL
  zh: 'åœ¨ "**env: "** éƒ¨åˆ†ï¼Œä½ å¯ä»¥åœ¨è„šæœ¬ä¸­å£°æ˜æ‰€éœ€çš„ç¯å¢ƒå˜é‡ã€‚'
- en: In the **"jobs -> ci_cd -> steps:"** section, you will declare the CI/CD pipeline
    steps, which will run sequentially.
  id: totrans-251
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨ **"jobs -> ci_cd -> steps:"** éƒ¨åˆ†ï¼Œä½ å°†å£°æ˜ CI/CD æµæ°´çº¿æ­¥éª¤ï¼Œè¿™äº›æ­¥éª¤å°†æŒ‰é¡ºåºè¿è¡Œã€‚
- en: In the **"jobs -> ci_cd -> runs-on:"** section, you specify the image of the
    VM you want the steps to run on.
  id: totrans-252
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨ **"jobs -> ci_cd -> runs-on:"** éƒ¨åˆ†ï¼Œä½ éœ€è¦æŒ‡å®šæ­¥éª¤è¦è¿è¡Œçš„è™šæ‹Ÿæœºé•œåƒã€‚
- en: Now, let's take a look at some actual GitHub Action files ğŸ”¥
  id: totrans-253
  prefs: []
  type: TYPE_NORMAL
  zh: ç°åœ¨ï¼Œè®©æˆ‘ä»¬æ¥çœ‹ä¸€äº›å®é™…çš„ GitHub Action æ–‡ä»¶ ğŸ”¥
- en: '[**ML Pipeline GitHub Actions YAML file**](https://github.com/iusztinpaul/energy-forecasting/blob/main/.github/workflows/ci_cd_ml_pipeline.yml)'
  id: totrans-254
  prefs: []
  type: TYPE_NORMAL
  zh: '[**ML Pipeline GitHub Actions YAML æ–‡ä»¶**](https://github.com/iusztinpaul/energy-forecasting/blob/main/.github/workflows/ci_cd_ml_pipeline.yml)'
- en: The action will be triggered when new code is committed to the **"main"** branch,
    except for the web app directories and the YAML and Markdown files.
  id: totrans-255
  prefs: []
  type: TYPE_NORMAL
  zh: å½“æ–°ä»£ç æäº¤åˆ° **"main"** åˆ†æ”¯æ—¶ï¼Œé™¤äº† Web åº”ç”¨ç›®å½•å’Œ YAML åŠ Markdown æ–‡ä»¶å¤–ï¼Œè¯¥æ“ä½œå°†è¢«è§¦å‘ã€‚
- en: We added environment variables that contain information about the GCP project
    and VM.
  id: totrans-256
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬æ·»åŠ äº†åŒ…å« GCP é¡¹ç›®å’Œ VM ä¿¡æ¯çš„ç¯å¢ƒå˜é‡ã€‚
- en: 'As for the CI/CD steps, we mainly do 2 things:'
  id: totrans-257
  prefs: []
  type: TYPE_NORMAL
  zh: å¯¹äº CI/CD æ­¥éª¤ï¼Œæˆ‘ä»¬ä¸»è¦åšä¸¤ä»¶äº‹ï¼š
- en: configure the credentials & authenticate to GCP,
  id: totrans-258
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: é…ç½®å‡­è¯å¹¶è®¤è¯åˆ° GCPï¼Œ
- en: 'connect with SSH on the given GCP VM and run a command that: goes to the code
    directory, pulls the latest changes, builds the Python packages, and deploys them
    to the PyPi registry. Now Airflow will use the new Python packages the next time
    it runs.'
  id: totrans-259
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: é€šè¿‡ SSH è¿æ¥åˆ°æŒ‡å®šçš„ GCP VM å¹¶è¿è¡Œä¸€ä¸ªå‘½ä»¤ï¼Œè¯¥å‘½ä»¤ï¼šè¿›å…¥ä»£ç ç›®å½•ï¼Œæ‹‰å–æœ€æ–°æ›´æ”¹ï¼Œæ„å»º Python åŒ…ï¼Œå¹¶å°†å…¶éƒ¨ç½²åˆ° PyPi æ³¨å†Œè¡¨ã€‚ç°åœ¨ï¼ŒAirflow
    ä¸‹æ¬¡è¿è¡Œæ—¶å°†ä½¿ç”¨æ–°çš„ Python åŒ…ã€‚
- en: Basically, it does what you would have done manually, but now, everything is
    nicely automated using GitHub Actions.
  id: totrans-260
  prefs: []
  type: TYPE_NORMAL
  zh: åŸºæœ¬ä¸Šï¼Œå®ƒåšäº†ä½ æ‰‹åŠ¨å®Œæˆçš„å·¥ä½œï¼Œä½†ç°åœ¨ï¼Œä¸€åˆ‡éƒ½é€šè¿‡ GitHub Actions è‡ªåŠ¨åŒ–äº†ã€‚
- en: Note that you don't have to remember or know how to write a GitHub Actions file
    from scratch, as you can find already written templates for most of the use cases.
    For example, here is the [*google-github-actions/ssh-compute*](https://github.com/google-github-actions/ssh-compute)
    [11] repository we used to write the YAML file below.
  id: totrans-261
  prefs: []
  type: TYPE_NORMAL
  zh: è¯·æ³¨æ„ï¼Œä½ ä¸å¿…è®°ä½æˆ–çŸ¥é“å¦‚ä½•ä»é›¶ç¼–å†™ GitHub Actions æ–‡ä»¶ï¼Œå› ä¸ºä½ å¯ä»¥æ‰¾åˆ°å¤§å¤šæ•°ä½¿ç”¨åœºæ™¯çš„ç°æˆæ¨¡æ¿ã€‚ä¾‹å¦‚ï¼Œè¿™é‡Œæ˜¯æˆ‘ä»¬ç”¨æ¥ç¼–å†™ä¸‹é¢ YAML
    æ–‡ä»¶çš„ [*google-github-actions/ssh-compute*](https://github.com/google-github-actions/ssh-compute)
    [11] ä»“åº“ã€‚
- en: You will find similar templates for almost any use case you have in mind.
  id: totrans-262
  prefs: []
  type: TYPE_NORMAL
  zh: ä½ å¯ä»¥æ‰¾åˆ°å‡ ä¹ä»»ä½•ä½ æƒ³åˆ°çš„ä½¿ç”¨åœºæ™¯çš„ç±»ä¼¼æ¨¡æ¿ã€‚
- en: '[**Web App GitHub Actions YAML file**](https://github.com/iusztinpaul/energy-forecasting/blob/main/.github/workflows/ci_cd_web_app.yml)'
  id: totrans-263
  prefs: []
  type: TYPE_NORMAL
  zh: '[**Web App GitHub Actions YAML æ–‡ä»¶**](https://github.com/iusztinpaul/energy-forecasting/blob/main/.github/workflows/ci_cd_web_app.yml)'
- en: 'The Web App actions file is 90% the same as the one used for the ML pipeline,
    except for the following:'
  id: totrans-264
  prefs: []
  type: TYPE_NORMAL
  zh: Web åº”ç”¨çš„ actions æ–‡ä»¶ä¸ç”¨äº ML æµæ°´çº¿çš„æ–‡ä»¶ 90% ç›¸åŒï¼Œé™¤äº†ä»¥ä¸‹å†…å®¹ï¼š
- en: we ignore the ML pipeline files;
  id: totrans-265
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬å¿½ç•¥äº† ML æµæ°´çº¿æ–‡ä»¶ï¼›
- en: we run a docker command that builds and runs the web app.
  id: totrans-266
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬è¿è¡Œä¸€ä¸ªæ„å»ºå’Œè¿è¡Œ Web åº”ç”¨çš„ Docker å‘½ä»¤ã€‚
- en: 'But where does the "**${{ varsâ€¦ }}"** weird syntax come from? I will explain
    in just a sec, but what you have to know now is the following:'
  id: totrans-267
  prefs: []
  type: TYPE_NORMAL
  zh: ä½†â€œ**${{ varsâ€¦ }}"** è¿™ç§å¥‡æ€ªçš„è¯­æ³•æ¥è‡ªå“ªé‡Œï¼Ÿæˆ‘é©¬ä¸Šä¼šè§£é‡Šï¼Œä½†ä½ ç°åœ¨éœ€è¦çŸ¥é“çš„æ˜¯ï¼š
- en: â€œ**${{ vars.<name> }}â€:**variables set inside GitHub;
  id: totrans-268
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '"**${{ vars.<name> }}":** åœ¨ GitHub å†…éƒ¨è®¾ç½®çš„å˜é‡ï¼›'
- en: '![](../Images/206d07d81bb7ac16fc28daae15a6d535.png)'
  id: totrans-269
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/206d07d81bb7ac16fc28daae15a6d535.png)'
- en: â€œ**${{ secrets.<name> }}":** secrets set inside GitHub. Once a secret is set,
    you can't see it anymore (the variables you can);
  id: totrans-270
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '"**${{ secrets.<name> }}":** åœ¨ GitHub å†…éƒ¨è®¾ç½®çš„ç§˜å¯†ã€‚ä¸€æ—¦è®¾ç½®äº†ç§˜å¯†ï¼Œä½ å°†æ— æ³•å†çœ‹åˆ°å®ƒï¼ˆä½ å¯ä»¥çœ‹åˆ°å˜é‡ï¼‰ï¼›'
- en: '![](../Images/d2e0ca9a85083a9bb94604bdf3f1ce92.png)'
  id: totrans-271
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/d2e0ca9a85083a9bb94604bdf3f1ce92.png)'
- en: '"**${{ env.<name> }}":** environment variables set in the "env:" section.'
  id: totrans-272
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '"**${{ env.<name> }}":** åœ¨ "env:" éƒ¨åˆ†è®¾ç½®çš„ç¯å¢ƒå˜é‡ã€‚'
- en: '**Important Observation**'
  id: totrans-273
  prefs: []
  type: TYPE_NORMAL
  zh: '**é‡è¦è§‚å¯Ÿ**'
- en: The YAML file above doesn't contain the CI part, only the CD one.
  id: totrans-274
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸Šé¢çš„ YAML æ–‡ä»¶ä¸åŒ…å« CI éƒ¨åˆ†ï¼Œä»…åŒ…å« CD éƒ¨åˆ†ã€‚
- en: To follow good practices for a robust CI pipeline, you should run an action
    that builds the Docker images and pushes them to a Docker registry.
  id: totrans-275
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸ºäº†éµå¾ªç¨³å¥ CI æµæ°´çº¿çš„æœ€ä½³å®è·µï¼Œä½ åº”è¯¥è¿è¡Œä¸€ä¸ªæ„å»º Docker é•œåƒå¹¶å°†å…¶æ¨é€åˆ° Docker æ³¨å†Œè¡¨çš„æ“ä½œã€‚
- en: Afterward, you would SSH to a testing environment and run your test suit. As
    a final step, you would SSH to the production VM, pull the images and run them.
  id: totrans-276
  prefs: []
  type: TYPE_NORMAL
  zh: ä¹‹åï¼Œä½ å°†é€šè¿‡ SSH è¿›å…¥æµ‹è¯•ç¯å¢ƒå¹¶è¿è¡Œæµ‹è¯•å¥—ä»¶ã€‚æœ€åä¸€æ­¥ï¼Œä½ å°†é€šè¿‡ SSH è¿›å…¥ç”Ÿäº§è™šæ‹Ÿæœºï¼Œæ‹‰å–é•œåƒå¹¶è¿è¡Œå®ƒä»¬ã€‚
- en: The series got too long, and we wanted to keep it simple, but *the good news
    is that you learned all the necessary tools and principles to do what we described
    above*.
  id: totrans-277
  prefs: []
  type: TYPE_NORMAL
  zh: ç³»åˆ—å¤ªé•¿äº†ï¼Œæˆ‘ä»¬æƒ³ä¿æŒç®€å•ï¼Œä½† *å¥½æ¶ˆæ¯æ˜¯ä½ å·²ç»å­¦ä¼šäº†æ‰§è¡Œä¸Šè¿°æ“ä½œæ‰€éœ€çš„æ‰€æœ‰å·¥å…·å’ŒåŸåˆ™*ã€‚
- en: Set Secrets and Variables
  id: totrans-278
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: è®¾ç½® Secrets å’Œ Variables
- en: At this point, you have to fork the [energy-consumption repository](https://github.com/iusztinpaul/energy-forecasting/tree/main)
    to configure the GitHub Actions credentials with your own.
  id: totrans-279
  prefs: []
  type: TYPE_NORMAL
  zh: æ­¤æ—¶ï¼Œä½ éœ€è¦ fork [energy-consumption ä»“åº“](https://github.com/iusztinpaul/energy-forecasting/tree/main)
    ä»¥ç”¨ä½ è‡ªå·±çš„å‡­æ®é…ç½® GitHub Actionsã€‚
- en: '[Check out this doc to see how to fork a repository on GitHub](https://docs.github.com/en/get-started/quickstart/fork-a-repo)
    [10].'
  id: totrans-280
  prefs: []
  type: TYPE_NORMAL
  zh: '[æŸ¥çœ‹è¿™ç¯‡æ–‡æ¡£ä»¥äº†è§£å¦‚ä½•åœ¨ GitHub ä¸Š fork ä¸€ä¸ªä»“åº“](https://docs.github.com/en/get-started/quickstart/fork-a-repo)
    [10]ã€‚'
- en: '**Set Actions Variables**'
  id: totrans-281
  prefs: []
  type: TYPE_NORMAL
  zh: '**è®¾ç½® Actions å˜é‡**'
- en: 'Go to your forked repository. After click on: *"Settings -> Secrets and variables
    -> Actions."*'
  id: totrans-282
  prefs: []
  type: TYPE_NORMAL
  zh: è¿›å…¥ä½ çš„ fork ä»“åº“ã€‚ç‚¹å‡» *"Settings -> Secrets and variables -> Actions"*ã€‚
- en: Now, click "*Variables."* You can create a new variable by clicking *"New repository
    variable."* See the image below ğŸ‘‡
  id: totrans-283
  prefs: []
  type: TYPE_NORMAL
  zh: ç°åœ¨ï¼Œç‚¹å‡» "*Variables"*ã€‚ä½ å¯ä»¥é€šè¿‡ç‚¹å‡» *"New repository variable"* æ¥åˆ›å»ºä¸€ä¸ªæ–°å˜é‡ã€‚è§ä¸‹å›¾ ğŸ‘‡
- en: '![](../Images/77290affdaf28b1c0a7e8e582dde9ed8.png)'
  id: totrans-284
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/77290affdaf28b1c0a7e8e582dde9ed8.png)'
- en: Screenshot of how to create a new repository variable [Image by the Author].
  id: totrans-285
  prefs: []
  type: TYPE_NORMAL
  zh: åˆ›å»ºæ–°ä»“åº“å˜é‡çš„æˆªå›¾ [ä½œè€…æä¾›çš„å›¾ç‰‡]ã€‚
- en: '*You have to create 5 variables that the GitHub Actions scripts will use:*'
  id: totrans-286
  prefs: []
  type: TYPE_NORMAL
  zh: '*ä½ éœ€è¦åˆ›å»º 5 ä¸ª GitHub Actions è„šæœ¬å°†ä½¿ç”¨çš„å˜é‡ï¼š*'
- en: '***APP_INSTANCE_NAME***: the name of the web app VM. In our case, it is called
    "*app"*. The default should be OK if you use our recommended naming conventions.'
  id: totrans-287
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '***APP_INSTANCE_NAME***: Web åº”ç”¨è™šæ‹Ÿæœºçš„åç§°ã€‚åœ¨æˆ‘ä»¬çš„ä¾‹å­ä¸­ï¼Œå®ƒè¢«ç§°ä¸º "*app"*ã€‚å¦‚æœä½ ä½¿ç”¨æˆ‘ä»¬æ¨èçš„å‘½åçº¦å®šï¼Œé»˜è®¤å€¼åº”è¯¥æ²¡é—®é¢˜ã€‚'
- en: '**GCLOUD_PROJECT**: the ID of your GCP Project. Here, you have to change it
    with your project ID.'
  id: totrans-288
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**GCLOUD_PROJECT**: ä½  GCP é¡¹ç›®çš„ IDã€‚åœ¨è¿™é‡Œï¼Œä½ éœ€è¦ç”¨ä½ çš„é¡¹ç›® ID æ›¿æ¢å®ƒã€‚'
- en: '**ML_PIPELINE_INSTANCE_NAME**: the name of the ML pipeline VM. In our case,
    it is "*ml-pipeline"*. The default should be OK if you use our recommended naming
    conventions.'
  id: totrans-289
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**ML_PIPELINE_INSTANCE_NAME**: ML æµæ°´çº¿è™šæ‹Ÿæœºçš„åç§°ã€‚åœ¨æˆ‘ä»¬çš„ä¾‹å­ä¸­ï¼Œå®ƒæ˜¯ "*ml-pipeline"*ã€‚å¦‚æœä½ ä½¿ç”¨æˆ‘ä»¬æ¨èçš„å‘½åçº¦å®šï¼Œé»˜è®¤å€¼åº”è¯¥æ²¡é—®é¢˜ã€‚'
- en: '**USER:** the user you used to connect to the VMs while settings up the machine
    using the SSH connection. Mine was "*pauliusztin,"* but you must change it with
    yours. Go to the VM and run `echo $USER` .'
  id: totrans-290
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**USER:** ä½ ç”¨æ¥é€šè¿‡ SSH è¿æ¥åˆ°è™šæ‹Ÿæœºçš„ç”¨æˆ·ã€‚åœ¨è®¾ç½®æœºå™¨æ—¶æˆ‘ç”¨çš„æ˜¯ "*pauliusztin,*" ä½†ä½ å¿…é¡»ç”¨ä½ è‡ªå·±çš„ç”¨æˆ·åæ›¿æ¢å®ƒã€‚å»è™šæ‹Ÿæœºä¸Šè¿è¡Œ
    `echo $USER`ã€‚'
- en: '**ZONE**: the zone where you deployed the VMs. The default should be OK if
    you use our recommended naming conventions.'
  id: totrans-291
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**ZONE**: ä½ éƒ¨ç½²è™šæ‹Ÿæœºçš„åŒºåŸŸã€‚å¦‚æœä½ ä½¿ç”¨æˆ‘ä»¬æ¨èçš„å‘½åçº¦å®šï¼Œé»˜è®¤å€¼åº”è¯¥æ²¡é—®é¢˜ã€‚'
- en: '**Set Action Secrets**'
  id: totrans-292
  prefs: []
  type: TYPE_NORMAL
  zh: '**è®¾ç½® Action å¯†é’¥**'
- en: In the same *"Secrets and variables/Actions"* section, hit the *"Secrets"* tab.
  id: totrans-293
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨ç›¸åŒçš„ *"Secrets and variables/Actions"* éƒ¨åˆ†ï¼Œç‚¹å‡» *"Secrets"* æ ‡ç­¾ã€‚
- en: You can create a new secret by pressing the â€œ*New repository secretâ€* button.
  id: totrans-294
  prefs: []
  type: TYPE_NORMAL
  zh: ä½ å¯ä»¥é€šè¿‡ç‚¹å‡» "*New repository secret*" æŒ‰é’®æ¥åˆ›å»ºä¸€ä¸ªæ–°çš„ç§˜å¯†ã€‚
- en: These are similar to the variables we just completed, but after you fill in
    their values, you can't see them anymore. That is why these are called secrets.
  id: totrans-295
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™äº›ç±»ä¼¼äºæˆ‘ä»¬åˆšåˆšå®Œæˆçš„å˜é‡ï¼Œä½†åœ¨ä½ å¡«å†™å®ƒä»¬çš„å€¼åï¼Œä½ å°†æ— æ³•å†çœ‹åˆ°å®ƒä»¬ã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆè¿™äº›è¢«ç§°ä¸ºç§˜å¯†çš„åŸå› ã€‚
- en: Here is where you add all your sensitive information. In our case, the GCP credentials
    and private keys. See the image below ğŸ‘‡
  id: totrans-296
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™é‡Œæ˜¯ä½ æ·»åŠ æ‰€æœ‰æ•æ„Ÿä¿¡æ¯çš„åœ°æ–¹ã€‚åœ¨æˆ‘ä»¬çš„æ¡ˆä¾‹ä¸­ï¼Œå³ GCP å‡­æ®å’Œç§é’¥ã€‚è¯·å‚è§ä¸‹é¢çš„å›¾ç‰‡ ğŸ‘‡
- en: '![](../Images/711957b341193790f0d96ab36562a3cb.png)'
  id: totrans-297
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/711957b341193790f0d96ab36562a3cb.png)'
- en: Screenshot of how to create a new repository secret [Image by the Author].
  id: totrans-298
  prefs: []
  type: TYPE_NORMAL
  zh: åˆ›å»ºæ–°ä»“åº“ç§˜å¯†çš„æˆªå›¾ [å›¾ç‰‡æ¥æºï¼šä½œè€…]ã€‚
- en: The *GCP_CREDENTIALS* secret contains the content of the JSON key of your VM
    admin service account. By settings this up, the CI/CD pipeline will use that service
    account to authenticate to the VMs.
  id: totrans-299
  prefs: []
  type: TYPE_NORMAL
  zh: '*GCP_CREDENTIALS* ç§˜å¯†åŒ…å«äº†ä½ è™šæ‹Ÿæœºç®¡ç†å‘˜æœåŠ¡è´¦æˆ·çš„ JSON å¯†é’¥å†…å®¹ã€‚é€šè¿‡è®¾ç½®è¿™ä¸€ç‚¹ï¼ŒCI/CD æµæ°´çº¿å°†ä½¿ç”¨è¯¥æœåŠ¡è´¦æˆ·æ¥å¯¹è™šæ‹Ÿæœºè¿›è¡Œèº«ä»½éªŒè¯ã€‚'
- en: 'Because the content of the file is in JSON format, to format it properly, you
    have to do the following steps:'
  id: totrans-300
  prefs: []
  type: TYPE_NORMAL
  zh: ç”±äºæ–‡ä»¶å†…å®¹æ˜¯ JSON æ ¼å¼ï¼Œä¸ºäº†æ­£ç¡®æ ¼å¼åŒ–å®ƒï¼Œä½ éœ€è¦æ‰§è¡Œä»¥ä¸‹æ­¥éª¤ï¼š
- en: 'Install the ***jq*** CLI tool:'
  id: totrans-301
  prefs: []
  type: TYPE_NORMAL
  zh: å®‰è£… ***jq*** CLI å·¥å…·ï¼š
- en: '[PRE9]'
  id: totrans-302
  prefs: []
  type: TYPE_PRE
  zh: '[PRE9]'
- en: 'Format your JSON key file:'
  id: totrans-303
  prefs: []
  type: TYPE_NORMAL
  zh: æ ¼å¼åŒ–ä½ çš„ JSON å¯†é’¥æ–‡ä»¶ï¼š
- en: '[PRE10]'
  id: totrans-304
  prefs: []
  type: TYPE_PRE
  zh: '[PRE10]'
- en: Take the output of this command and create your *GCP_CREDENTIALS* secret with
    it.
  id: totrans-305
  prefs: []
  type: TYPE_NORMAL
  zh: è·å–æ­¤å‘½ä»¤çš„è¾“å‡ºå¹¶ç”¨å®ƒåˆ›å»ºä½ çš„ *GCP_CREDENTIALS* ç§˜å¯†ã€‚
- en: The *GCP_SSH_PRIVATE_KEY* is your GCP private SSH key (not your personal one
    â€” GCP creates an additional one automatically), which was created on your local
    computer when you used SSH to connect to the GCP VMs.
  id: totrans-306
  prefs: []
  type: TYPE_NORMAL
  zh: '*GCP_SSH_PRIVATE_KEY* æ˜¯ä½ çš„ GCP ç§æœ‰ SSH å¯†é’¥ï¼ˆä¸æ˜¯ä½ çš„ä¸ªäººå¯†é’¥ â€” GCP ä¼šè‡ªåŠ¨åˆ›å»ºä¸€ä¸ªé¢å¤–çš„ï¼‰ï¼Œå®ƒæ˜¯åœ¨ä½ ä½¿ç”¨ SSH
    è¿æ¥åˆ° GCP è™šæ‹Ÿæœºæ—¶åœ¨æœ¬åœ°è®¡ç®—æœºä¸Šåˆ›å»ºçš„ã€‚'
- en: 'To copy it, run the following:'
  id: totrans-307
  prefs: []
  type: TYPE_NORMAL
  zh: è¦å¤åˆ¶å®ƒï¼Œè¯·è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š
- en: '[PRE11]'
  id: totrans-308
  prefs: []
  type: TYPE_PRE
  zh: '[PRE11]'
- en: Copy the output from the terminal and create the *GCP_SSH_PRIVATE_KEY* variable.
  id: totrans-309
  prefs: []
  type: TYPE_NORMAL
  zh: å¤åˆ¶ç»ˆç«¯ä¸­çš„è¾“å‡ºå¹¶åˆ›å»º *GCP_SSH_PRIVATE_KEY* å˜é‡ã€‚
- en: '**Run the CI/CD Pipeline**'
  id: totrans-310
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: '**è¿è¡Œ CI/CD æµæ°´çº¿**'
- en: Now make any change to the code, push it to the main branch, and the GitHub
    Actions files should trigger automatically.
  id: totrans-311
  prefs: []
  type: TYPE_NORMAL
  zh: ç°åœ¨å¯¹ä»£ç è¿›è¡Œä»»ä½•æ›´æ”¹ï¼Œæ¨é€åˆ°ä¸»åˆ†æ”¯ï¼ŒGitHub Actions æ–‡ä»¶åº”è¯¥ä¼šè‡ªåŠ¨è§¦å‘ã€‚
- en: Check your GitHub repository's *â€œActionsâ€* tab to see their results.
  id: totrans-312
  prefs: []
  type: TYPE_NORMAL
  zh: æ£€æŸ¥ä½  GitHub ä»“åº“çš„ *â€œActionsâ€* æ ‡ç­¾é¡µä»¥æŸ¥çœ‹å…¶ç»“æœã€‚
- en: '![](../Images/2f0dbd5116f137e359a12e45ba458765.png)'
  id: totrans-313
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/2f0dbd5116f137e359a12e45ba458765.png)'
- en: Screenshot of the GitHub Actions running logs on GitHub [Image by the Author].
  id: totrans-314
  prefs: []
  type: TYPE_NORMAL
  zh: GitHub Actions è¿è¡Œæ—¥å¿—çš„æˆªå›¾ [å›¾ç‰‡æ¥æºï¼šä½œè€…]ã€‚
- en: Two actions will be triggered. One will build and deploy the *ml-pipeline* modules
    to your *ml-pipeline GCP VM*, and one will build and deploy the *web app* to your
    *app GCP VM*.
  id: totrans-315
  prefs: []
  type: TYPE_NORMAL
  zh: å°†è§¦å‘ä¸¤ä¸ªåŠ¨ä½œã€‚å…¶ä¸­ä¸€ä¸ªå°†æ„å»ºå’Œéƒ¨ç½² *ml-pipeline* æ¨¡å—åˆ°ä½ çš„ *ml-pipeline GCP VM*ï¼Œå¦ä¸€ä¸ªå°†æ„å»ºå’Œéƒ¨ç½² *web app*
    åˆ°ä½ çš„ *app GCP VM*ã€‚
- en: Conclusion
  id: totrans-316
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: ç»“è®º
- en: Congratulations! You finished the **last lesson** from the **Full Stack 7-Steps
    MLOps Framework** course. It means that now you are a full-stack ML engineer ğŸ”¥
  id: totrans-317
  prefs: []
  type: TYPE_NORMAL
  zh: æ­å–œä½ ï¼ä½ å®Œæˆäº† **Full Stack 7-Steps MLOps Framework** è¯¾ç¨‹çš„**æœ€åä¸€è¯¾**ã€‚è¿™æ„å‘³ç€ä½ ç°åœ¨æ˜¯ä¸€åå…¨æ ˆ ML
    å·¥ç¨‹å¸ˆ ğŸ”¥
- en: I apologize again for the highly technical article. It isn't a very entertaining
    read but a crucial step for finalizing this series.
  id: totrans-318
  prefs: []
  type: TYPE_NORMAL
  zh: å¯¹äºè¿™ç¯‡é«˜åº¦æŠ€æœ¯æ€§çš„æ–‡ç« ï¼Œæˆ‘å†æ¬¡è¡¨ç¤ºæ­‰æ„ã€‚å®ƒå¯èƒ½ä¸æ˜¯ä¸€ç¯‡éå¸¸æœ‰è¶£çš„é˜…è¯»ææ–™ï¼Œä½†å´æ˜¯å®Œæˆæœ¬ç³»åˆ—çš„å…³é”®æ­¥éª¤ã€‚
- en: 'In lesson 7, you learned how to:'
  id: totrans-319
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨ç¬¬ 7 è¯¾ä¸­ï¼Œä½ å­¦ä¹ äº†å¦‚ä½•ï¼š
- en: manually deploy the 3 ML pipelines to GCP;
  id: totrans-320
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æ‰‹åŠ¨å°† 3 ä¸ª ML æµæ°´çº¿éƒ¨ç½²åˆ° GCPï¼›
- en: manually deploy the web app to GCP;
  id: totrans-321
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æ‰‹åŠ¨å°† Web åº”ç”¨ç¨‹åºéƒ¨ç½²åˆ° GCPï¼›
- en: build a CI/CD pipeline to automate the deployment process using GitHub Actions.
  id: totrans-322
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æ„å»ºä¸€ä¸ª CI/CD æµæ°´çº¿ï¼Œä»¥ä½¿ç”¨ GitHub Actions è‡ªåŠ¨åŒ–éƒ¨ç½²è¿‡ç¨‹ã€‚
- en: Now that you understand how to add real business value by deploying your ML
    system and putting it to work, it is time to build your awesome ML project.
  id: totrans-323
  prefs: []
  type: TYPE_NORMAL
  zh: ç°åœ¨ä½ æ˜ç™½äº†å¦‚ä½•é€šè¿‡éƒ¨ç½²ä½ çš„ ML ç³»ç»Ÿå¹¶ä½¿å…¶å·¥ä½œæ¥å¢åŠ å®é™…ä¸šåŠ¡ä»·å€¼ï¼Œæ˜¯æ—¶å€™æ„å»ºä½ çš„ç²¾å½© ML é¡¹ç›®äº†ã€‚
- en: '*No project is perfectly built, and this one is no exception.*'
  id: totrans-324
  prefs: []
  type: TYPE_NORMAL
  zh: '*æ²¡æœ‰é¡¹ç›®æ˜¯å®Œç¾æ„å»ºçš„ï¼Œè¿™ä¸ªé¡¹ç›®ä¹Ÿä¸ä¾‹å¤–ã€‚*'
- en: Thus, [check out our bonus lesson](https://medium.com/towards-data-science/imperfections-unveiled-the-intriguing-reality-behind-our-mlops-course-creation-6ff7d52ecb7e)
    of **The** **Full Stack 7-Steps MLOps Framework** course, where we will *openly
    discuss other design choices* we could have taken to *improve the ML system built
    during this course*.
  id: totrans-325
  prefs: []
  type: TYPE_NORMAL
  zh: å› æ­¤ï¼Œ[æŸ¥çœ‹æˆ‘ä»¬é¢å¤–çš„è¯¾ç¨‹](https://medium.com/towards-data-science/imperfections-unveiled-the-intriguing-reality-behind-our-mlops-course-creation-6ff7d52ecb7e)
    **The** **Full Stack 7-Steps MLOps Framework** è¯¾ç¨‹ï¼Œæˆ‘ä»¬å°† *å…¬å¼€è®¨è®ºå…¶ä»–è®¾è®¡é€‰æ‹©*ï¼Œè¿™äº›é€‰æ‹©å¯ä»¥ç”¨æ¥ *æ”¹å–„åœ¨æœ¬è¯¾ç¨‹ä¸­æ„å»ºçš„
    ML ç³»ç»Ÿ*ã€‚
- en: I sincerely appreciate that you chose my course to learn MLE & MLOpsâœŒï¸
  id: totrans-326
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘çœŸè¯šåœ°æ„Ÿè°¢ä½ é€‰æ‹©æˆ‘çš„è¯¾ç¨‹æ¥å­¦ä¹  MLE å’Œ MLOpsâœŒï¸
- en: Letâ€™s connect on [LinkedIn](https://www.linkedin.com/in/pauliusztin/), and let
    me know if you have any questions or just share the awesome projects you built
    after this course.
  id: totrans-327
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨ [LinkedIn](https://www.linkedin.com/in/pauliusztin/) ä¸Šè”ç³»æˆ‘ï¼Œå¹¶å‘Šè¯‰æˆ‘å¦‚æœä½ æœ‰ä»»ä½•é—®é¢˜ï¼Œæˆ–è€…åˆ†äº«ä½ åœ¨å®Œæˆè¿™ä¸ªè¯¾ç¨‹åæ„å»ºçš„ç²¾å½©é¡¹ç›®ã€‚
- en: '[***Access the GitHub repository here.***](https://github.com/iusztinpaul/energy-forecasting)'
  id: totrans-328
  prefs: []
  type: TYPE_NORMAL
  zh: '[***åœ¨è¿™é‡Œè®¿é—® GitHub ä»“åº“ã€‚***](https://github.com/iusztinpaul/energy-forecasting)'
- en: ğŸ’¡ My goal is to help machine learning engineers level up in designing and productionizing
    ML systems. Follow me on [LinkedIn](https://www.linkedin.com/in/pauliusztin/)
    or subscribe to my [weekly newsletter](https://pauliusztin.substack.com/) for
    more insights!
  id: totrans-329
  prefs: []
  type: TYPE_NORMAL
  zh: ğŸ’¡ æˆ‘çš„ç›®æ ‡æ˜¯å¸®åŠ©æœºå™¨å­¦ä¹ å·¥ç¨‹å¸ˆåœ¨è®¾è®¡å’Œç”Ÿäº§æœºå™¨å­¦ä¹ ç³»ç»Ÿæ–¹é¢æå‡æ°´å¹³ã€‚å…³æ³¨æˆ‘ [LinkedIn](https://www.linkedin.com/in/pauliusztin/)
    æˆ–è®¢é˜…æˆ‘çš„ [æ¯å‘¨é€šè®¯](https://pauliusztin.substack.com/) ä»¥è·å–æ›´å¤šè§è§£ï¼
- en: ğŸ”¥ If you enjoy reading articles like this and wish to support my writing, consider
    [becoming a Medium member](https://pauliusztin.medium.com/membership). Using [my
    referral link](https://pauliusztin.medium.com/membership), you can support me
    without extra cost while enjoying limitless access to Medium's rich collection
    of stories.
  id: totrans-330
  prefs: []
  type: TYPE_NORMAL
  zh: ğŸ”¥ å¦‚æœä½ å–œæ¬¢é˜…è¯»è¿™æ ·çš„æ–‡ç« å¹¶å¸Œæœ›æ”¯æŒæˆ‘çš„å†™ä½œï¼Œè€ƒè™‘ [æˆä¸º Medium ä¼šå‘˜](https://pauliusztin.medium.com/membership)ã€‚ä½¿ç”¨
    [æˆ‘çš„æ¨èé“¾æ¥](https://pauliusztin.medium.com/membership)ï¼Œä½ å¯ä»¥åœ¨ä¸å¢åŠ é¢å¤–è´¹ç”¨çš„æƒ…å†µä¸‹æ”¯æŒæˆ‘ï¼ŒåŒæ—¶äº«å—å¯¹ Medium
    ä¸°å¯Œæ•…äº‹åº“çš„æ— é™è®¿é—®ã€‚
- en: '[](https://pauliusztin.medium.com/membership?source=post_page-----96f676f72012--------------------------------)
    [## Join Medium with my referral link - Paul Iusztin'
  id: totrans-331
  prefs: []
  type: TYPE_NORMAL
  zh: '[](https://pauliusztin.medium.com/membership?source=post_page-----96f676f72012--------------------------------)
    [## ä½¿ç”¨æˆ‘çš„æ¨èé“¾æ¥åŠ å…¥ Medium - ä¿ç½—Â·å°¤æ–¯ä¸'
- en: ğŸ¤– Join to get exclusive content about designing and building production-ready
    ML systems ğŸš€ Unlock full access toâ€¦
  id: totrans-332
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: ğŸ¤– åŠ å…¥ä»¥è·å–å…³äºè®¾è®¡å’Œæ„å»ºç”Ÿäº§å°±ç»ªçš„æœºå™¨å­¦ä¹ ç³»ç»Ÿçš„ç‹¬å®¶å†…å®¹ ğŸš€ è§£é”å®Œæ•´è®¿é—®â€¦
- en: pauliusztin.medium.com](https://pauliusztin.medium.com/membership?source=post_page-----96f676f72012--------------------------------)
  id: totrans-333
  prefs: []
  type: TYPE_NORMAL
  zh: pauliusztin.medium.com](https://pauliusztin.medium.com/membership?source=post_page-----96f676f72012--------------------------------)
- en: Thank you âœŒğŸ¼ !
  id: totrans-334
  prefs: []
  type: TYPE_NORMAL
  zh: è°¢è°¢ âœŒğŸ¼ ï¼
- en: References
  id: totrans-335
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: å‚è€ƒèµ„æ–™
- en: '[1] [Energy Consumption per DE35 Industry Code from Denmark API](https://www.energidataservice.dk/tso-electricity/ConsumptionDE35Hour),
    [Denmark Energy Data Service](https://www.energidataservice.dk/about/)'
  id: totrans-336
  prefs: []
  type: TYPE_NORMAL
  zh: '[1] [ä¸¹éº¦ API çš„ DE35 è¡Œä¸šä»£ç èƒ½æºæ¶ˆè€—](https://www.energidataservice.dk/tso-electricity/ConsumptionDE35Hour)ï¼Œ[ä¸¹éº¦èƒ½æºæ•°æ®æœåŠ¡](https://www.energidataservice.dk/about/)'
- en: '[2] [Using IAP for TCP forwarding](https://cloud.google.com/iap/docs/using-tcp-forwarding),
    GCP Docs'
  id: totrans-337
  prefs: []
  type: TYPE_NORMAL
  zh: '[2] [ä½¿ç”¨ IAP è¿›è¡Œ TCP è½¬å‘](https://cloud.google.com/iap/docs/using-tcp-forwarding)ï¼ŒGCP
    æ–‡æ¡£'
- en: '[3] [Overview of TCP forwarding](https://cloud.google.com/iap/docs/tcp-forwarding-overview),
    GCP Docs'
  id: totrans-338
  prefs: []
  type: TYPE_NORMAL
  zh: '[3] [TCP è½¬å‘æ¦‚è¿°](https://cloud.google.com/iap/docs/tcp-forwarding-overview)ï¼ŒGCP
    æ–‡æ¡£'
- en: '[4] Google Cloud Collective, [How to open a specific port such as 9090 in Google
    Compute Engine](https://stackoverflow.com/questions/21065922/how-to-open-a-specific-port-such-as-9090-in-google-compute-engine)
    (2017), Stackoverflow'
  id: totrans-339
  prefs: []
  type: TYPE_NORMAL
  zh: '[4] Google Cloud Collectiveï¼Œ[å¦‚ä½•åœ¨ Google Compute Engine ä¸­æ‰“å¼€ç‰¹å®šç«¯å£å¦‚ 9090](https://stackoverflow.com/questions/21065922/how-to-open-a-specific-port-such-as-9090-in-google-compute-engine)
    (2017)ï¼ŒStackoverflow'
- en: '[5] ANTHONY HEDDINGS, [How to Open Firewall Ports on a GCP Compute Engine Instance](https://www.howtogeek.com/devops/how-to-open-firewall-ports-on-a-gcp-compute-engine-instance/)
    (2020), How-To Geek'
  id: totrans-340
  prefs: []
  type: TYPE_NORMAL
  zh: '[5] ANTHONY HEDDINGSï¼Œ[å¦‚ä½•åœ¨ GCP Compute Engine å®ä¾‹ä¸Šæ‰“å¼€é˜²ç«å¢™ç«¯å£](https://www.howtogeek.com/devops/how-to-open-firewall-ports-on-a-gcp-compute-engine-instance/)
    (2020)ï¼ŒHow-To Geek'
- en: '[6] [Preparing your project for IAP TCP forwarding](https://cloud.google.com/iap/docs/using-tcp-forwarding#preparing_your_project_for_tcp_forwarding),
    GCP Docs'
  id: totrans-341
  prefs: []
  type: TYPE_NORMAL
  zh: '[6] [ä¸º IAP TCP è½¬å‘å‡†å¤‡æ‚¨çš„é¡¹ç›®](https://cloud.google.com/iap/docs/using-tcp-forwarding#preparing_your_project_for_tcp_forwarding)ï¼ŒGCP
    æ–‡æ¡£'
- en: '[7] [Reserve a static external IP address](https://cloud.google.com/compute/docs/ip-addresses/reserve-static-external-ip-address),
    GCP Docs'
  id: totrans-342
  prefs: []
  type: TYPE_NORMAL
  zh: '[7] [ä¿ç•™ä¸€ä¸ªé™æ€å¤–éƒ¨ IP åœ°å€](https://cloud.google.com/compute/docs/ip-addresses/reserve-static-external-ip-address)ï¼ŒGCP
    æ–‡æ¡£'
- en: '[8] [Create and delete service account keys](https://cloud.google.com/iam/docs/keys-create-delete),
    GCP Docs'
  id: totrans-343
  prefs: []
  type: TYPE_NORMAL
  zh: '[8] [åˆ›å»ºå’Œåˆ é™¤æœåŠ¡è´¦å·å¯†é’¥](https://cloud.google.com/iam/docs/keys-create-delete)ï¼ŒGCP
    æ–‡æ¡£'
- en: '[9] Tom Roth, [Install Docker on a Google Cloud virtual machine](https://tomroth.com.au/gcp-docker/)
    (2018), Tom Roth Blog'
  id: totrans-344
  prefs: []
  type: TYPE_NORMAL
  zh: '[9] Tom Rothï¼Œ[åœ¨ Google Cloud è™šæ‹Ÿæœºä¸Šå®‰è£… Docker](https://tomroth.com.au/gcp-docker/)
    (2018)ï¼ŒTom Roth åšå®¢'
- en: '[10] [Fork a repo](https://docs.github.com/en/get-started/quickstart/fork-a-repo),
    GitHub Docs'
  id: totrans-345
  prefs: []
  type: TYPE_NORMAL
  zh: '[10] [åˆ†å‰ä¸€ä¸ªä»“åº“](https://docs.github.com/en/get-started/quickstart/fork-a-repo)ï¼ŒGitHub
    æ–‡æ¡£'
- en: '[11] [GCP GitHub Actions Repository](https://github.com/google-github-actions/ssh-compute),
    GitHub'
  id: totrans-346
  prefs: []
  type: TYPE_NORMAL
  zh: '[11] [GCP GitHub Actions ä»“åº“](https://github.com/google-github-actions/ssh-compute)ï¼ŒGitHub'
