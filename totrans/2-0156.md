# 初学者友好的 MLOps 介绍

> 原文：[https://towardsdatascience.com/a-beginner-friendly-introduction-to-mlops-95282f25325c](https://towardsdatascience.com/a-beginner-friendly-introduction-to-mlops-95282f25325c)

## MLOps 的第一步

[](https://medium.com/@chimso1994?source=post_page-----95282f25325c--------------------------------)[![Chayma Zatout](../Images/341c45f53ddf73dc0851d547cc7cb55a.png)](https://medium.com/@chimso1994?source=post_page-----95282f25325c--------------------------------)[](https://towardsdatascience.com/?source=post_page-----95282f25325c--------------------------------)[![Towards Data Science](../Images/a6ff2676ffcc0c7aad8aaf1d79379785.png)](https://towardsdatascience.com/?source=post_page-----95282f25325c--------------------------------) [Chayma Zatout](https://medium.com/@chimso1994?source=post_page-----95282f25325c--------------------------------)

· 发布于 [Towards Data Science](https://towardsdatascience.com/?source=post_page-----95282f25325c--------------------------------) · 9 分钟阅读 · 2023年1月4日

--

![](../Images/d1a25fc18fe181535406d3367f668517.png)

由 [Sarah Dorweiler](https://unsplash.com/@sarahdorweiler?utm_source=medium&utm_medium=referral) 拍摄于 [Unsplash](https://unsplash.com/?utm_source=medium&utm_medium=referral)

我对 MLOps 已经有一段时间的兴趣了。我最初是从机器学习工程师那里了解到它的，当时我还是博士生，不知道它的存在。然而，我的好奇心被激发了，我开始学习它。回顾过去，我后悔没有早点了解它，以便优化我的机器学习工作流。

在这篇文章中，我将尝试提供一个初学者友好的 MLOps 介绍，并用简单的方式解释关键概念。作为一个起初也觉得难以理解的人，我明白需要一个更简单的入门介绍。我的希望是，阅读完这篇文章后，初学者能够更自如地阅读更高级的 MLOps 文档。

**目录：**

· [1\. 对 MLOps 的动机](#b624)

· [2\. 定义](#1c5a)

· [3\. MLOps 生命周期](#4504)

· [4\. MLOps 工作流](#fc3c)

∘ [4.1\. 商业问题](#9dcc)

∘ [4.2\. 数据工程](#73c3)

∘ [4.3\. 机器学习模型工程](#aabc)

∘ [4.4\. 代码工程](#b08f)

· [5\. 结论](#e4b0)

**我的 MLOps 教程：**

+   [*教程 1：MLOps 的关键起点：探索其基本组成部分*](/a-key-start-to-mlops-exploring-its-essential-components-27646238372d)

+   [*教程 2：初学者友好的 MLOps 工作流介绍*](/a-beginner-friendly-introduction-to-mlops-95282f25325c)

+   [*教程 3：MLOps 原则介绍*](https://medium.com/towards-data-science/introduction-to-mlops-principles-c5d73a00aa76)

+   [*教程 4：以 MLOps 为考虑构建您的机器学习项目*](https://medium.com/towards-data-science/structuring-your-machine-learning-project-with-mlops-in-mind-41a8d65987c9)

+   [*教程 5: 实践中的版本控制：数据、机器学习模型和代码*](https://medium.com/towards-data-science/version-controlling-in-practice-data-ml-model-and-code-e13c518067dc)

+   [*教程 6: 实践中的测试：代码、数据和机器学习模型*](/testing-in-practice-code-data-and-ml-model-cfb1ada81f6c)

+   [教程 7: 实践中的追踪：代码、数据和机器学习模型](/tracking-in-practice-code-data-and-ml-model-6787a881609c)

*[我将在发布相关文章时更新此列表]*

# 1\. 对 MLOps 的动机

由于机器学习技术在各种研究领域的成功，许多公司寻求将其纳入他们的软件系统，以提高效率并解决实际问题。然而，在生产环境中实施机器学习对许多公司来说可能是一个具有挑战性且耗时的过程。此外，一旦部署，模型必须被管理和维护，并且其性能必须被监控以确保其正常运作。这些任务在大型软件系统中尤为困难。

另一方面，软件工程师使用 DevOps（开发与运维）范式，这是一套促进开发与运维团队之间协作和沟通的实践和工具，以开发和管理他们的系统。这有助于保持开发速度和质量。MLOps 旨在将这些 DevOps 原则调整为机器学习系统。考虑到这一背景，MLOps 到底是什么呢？

# 2\. 定义

为了定义 MLOps，我们从检查各种定义开始：

**定义 1:**

> “MLOps（机器学习操作）是一个范式，包括最佳实践、概念集合以及在机器学习产品的端到端概念化、实施、监控、部署和可扩展性方面的开发文化。” *[1]*

**定义 2:**

> “将 DevOps 方法学扩展到包括机器学习和数据科学资产，作为 DevOps 生态系统中的第一类公民” *[2]*

**定义 3:**

> 我们可以使用机器学习工程（MLE）的定义，其中 MLE 是使用科学原则、工具和机器学习及传统软件工程技术来设计和构建复杂计算系统。MLE 包括从数据收集、模型构建到使模型可供产品或消费者使用的所有阶段。”（由 A.Burkov 提供） *[3].*

基于之前的定义，我们可以理解 MLOps 作为一套技术和实践，用于以高效、优化和有序的方式设计、构建和部署机器学习模型。这些技术和实践通常在 MLOps 生命周期的背景下进行讨论。

# 3\. MLOps 生命周期

![](../Images/5a7c4916cf7a858f26de94c5513bc108.png)

MLOps 生命周期 ([source](https://ml-ops.org/content/mlops-principles)) CC BY 4.0

MLOps生命周期包括MLOps范式中的步骤和技术，从设计和开发机器学习模型到在生产环境中部署，并随时间进行监控和维护。它通常分为三个主要阶段：

+   第一个阶段是**设计**过程，涉及定义业务问题、模型的要求及其预期用途。这通常涉及创建AI/ML画布。

+   第二个阶段是**模型开发**过程，包括数据和模型工程。

+   第三个阶段是**运维**过程，涵盖了模型的部署和维护。

在模型部署后，维持其性能是很重要的，因此这些阶段通常以循环的方式进行。这确保了模型的良好表现并且仍然满足在第一阶段定义的需求。现在我们已经讨论了MLOps生命周期的各个阶段，让我们深入了解MLOps工作流程，它概述了在每个阶段所执行的具体任务和活动。

# 4. MLOps工作流程

![](../Images/4e3c315df42101a29809349a654afe97.png)

MLOps工作流程

MLOps工作流程概述了开发、部署和维护机器学习模型的步骤。在理想的情况下，遵循工作流程就足够了：首先理解业务问题，然后选择、训练和部署模型。然而，现实世界中情况并非总是如此。在任何时候，都可能需要返回到之前的步骤。此外，模型部署后必须进行维护和监控，这就是为什么理解MLOps生命周期和MLOps工作流程都很重要。

## 4.1. 业务问题

![](../Images/7a94d9f5ac1fe253d8bdf385dd988980.png)

业务问题（工作流程图、AI画布和ML画布来自[来源](https://ml-ops.org/content/phase-zero) CC BY 4.0）

MLOps工作流程的第一步是理解业务问题，这涉及定义模型的输入和输出，以及过程和其各种子任务。为了构建这一过程，你可以使用AI（人工智能）画布或ML（机器学习）画布，这可以看作是组织MLOps工作流程的模板。AI画布通常提供ML/AI实现的高层次结构，而ML画布提供系统的高层描述和具体细节。你可以在[这里](https://ml-ops.org/content/phase-zero)阅读更多关于这些画布的信息。

**举个例子！** 假设为了改善其产品，一家乳制品公司希望收集消费者对其产品的反馈。为此，需要对消费者在社交媒体平台上对产品的评论进行情感分析。可以使用机器学习技术训练模型，将这些评论的情感分类为积极、消极或中性。这将使公司更好地了解客户对其产品的体验，并识别改进的领域。这个业务问题描述转化为AI画布和/或ML画布，以更清晰地呈现：

+   **预测/预测任务**：AI系统将分析文本输入并预测文本的情感（积极、消极或中性）。

+   **判断**：系统将使用自然语言处理技术来理解文本的含义和情感。

+   **行动/决策**：根据预测的情感，系统可能会采取不同的措施，例如标记负面评论以便进一步审查，或优先推广积极的社交媒体帖子。

+   **结果**：期望的结果是系统能够准确分类文本输入的情感，从而提高客户满意度、改善社交媒体互动或根据具体用例带来其他好处。

+   **训练**：系统将使用标注文本数据集进行训练，该数据集包含输入文本及其相应的情感标签。

+   **输入/数据来源**：系统将接受来自各种来源的文本输入，例如社交媒体帖子或客户评论。

+   **输出/预测**：系统将分析文本输入并预测文本的情感（积极、消极或中性）。

+   **反馈**：系统可能会结合用户或利益相关者的反馈，以改善其性能，例如通过调整自然语言处理算法的参数或向训练数据集中添加新数据。

+   **离线评估**：系统将使用标准评估指标，如精确度、召回率和F1得分进行评估，以确保其准确分类文本输入的情感。

+   **实时监控**：系统将会持续监控并根据需要进行更新，以确保其在时间的推移中继续准确地执行。

## 4.2\. 数据**工程**

![](../Images/eb0feafdbeff33bad8939fa6979fdf71.png)

数据工程

在了解了当前的业务问题后，MLOps工作流中的下一步是数据工程过程。这包括数据采集、探索和验证、数据清洗、数据标注和数据拆分。

+   **数据采集**涉及使用一系列技术来收集数据、创建备份、保护私人信息、创建元数据目录，并抽样测试集以避免数据窥探偏差。

+   为了**探索和验证数据集**，使用了一组统计和可视化技术。

+   收集到的数据通常存在噪声、包含异常值和缺失值。这些问题可能影响下一步，因此应用**数据清洗**步骤来解决它们。

+   **数据标注**是当选择的模型基于监督学习时所必需的。这一步可以手动、自动或半自动完成。

+   **数据拆分**是此过程的最后一步，涉及将数据划分为训练集、验证集和测试集。

## 4.3\. ML 模型**工程**

![](../Images/1061df7ede18794545ff5f8f83bf832d.png)

ML 模型工程

MLOps 工作流程的第三步是机器学习工程，其中包括模型训练、模型评估、模型测试和模型打包。

+   **训练模型**涉及特征工程、代码审查和版本控制，以及超参数调优。你可能会想知道为什么特征工程包含在这一步而不是前一步。原因在于，这一步测试了多种类型和架构的模型，因此特征工程通常并不相同。值得注意的是，在选择最合适的模型之前，会训练和测试多个模型。

+   **模型评估**涉及验证模型，以确保它符合在业务问题步骤中描述的业务目标。

+   在**模型测试**步骤中，使用初始测试集进行模型验收测试。

+   一旦模型被验证和测试，最后一步是**导出模型**为特定格式，以便可以提供给业务应用程序。

## **4.4\. 代码工程**

![](../Images/5fef6bbf3624758abe9cce4d1bed8474.png)

代码工程

在这一步，模型已准备好部署到生产环境。模型部署包括三个步骤：模型服务、性能监控和性能日志记录。

+   为了服务一个模型，必须考虑**服务**模式和部署策略。服务模式指的是模型如何集成到软件中，例如将其集成作为服务、依赖项、使用预计算服务、按需服务或混合服务。部署策略指的是将模型打包的方式，例如将其部署为 Docker 容器或无服务器函数。

+   **模型监控**涉及观察模型的整体行为，例如模型预测与之前模型表现的偏差。

+   **性能日志记录**涉及将模型预测的结果保存到日志记录中。

# 5\. 结论

在这篇文章中，我们简要介绍了 MLOps。我们讨论了 MLOps 的必要性，提出了各种定义，解释了 MLOps 生命周期，并描述了 MLOps 工作流程。如果你想了解更多关于 MLOps 的信息，我推荐访问 [ml-ops.org](https://ml-ops.org/)。

这是关于MLOps的第一篇文章，但肯定不是最后一篇！我将继续撰写关于MLOps及其各种技术的教程，并附带示例，敬请关注。如果您有任何问题或建议，请随时在下方留言。

# 参考文献

[1] Kreuzberger, D., Kühl, N., & Hirschl, S. 机器学习操作（mlops）：概述、定义和架构，2022\. doi: 10.48550\. *arXiv 预印本 arXiv.2205.02302*。

[2] [MLOps Roadmap 2020](https://github.com/cdfoundation/sig-mlops/blob/main/roadmap/2020/MLOpsRoadmap2020.md)

[3] [https://ml-ops.org/content/motivation#mlops-definition](https://ml-ops.org/content/motivation#mlops-definition)

# 图片来源

本文中所有未在标题中提及来源的图片和图形均由作者提供。
