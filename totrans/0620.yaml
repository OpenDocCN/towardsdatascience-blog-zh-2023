- en: Customer Satisfaction Measurement with N-gram and Sentiment Analysis
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 原文：[https://towardsdatascience.com/customer-satisfaction-measurement-with-n-gram-and-sentiment-analysis-547e291c13a6](https://towardsdatascience.com/customer-satisfaction-measurement-with-n-gram-and-sentiment-analysis-547e291c13a6)
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: Product reviews are an excellent source of information for qualified management
    decisions. Learn more about the right text mining techniques.
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: '[](https://petrkorab.medium.com/?source=post_page-----547e291c13a6--------------------------------)[![Petr
    Korab](../Images/9f3afb4b8985584981220e30f18e3b69.png)](https://petrkorab.medium.com/?source=post_page-----547e291c13a6--------------------------------)[](https://towardsdatascience.com/?source=post_page-----547e291c13a6--------------------------------)[![Towards
    Data Science](../Images/a6ff2676ffcc0c7aad8aaf1d79379785.png)](https://towardsdatascience.com/?source=post_page-----547e291c13a6--------------------------------)
    [Petr Korab](https://petrkorab.medium.com/?source=post_page-----547e291c13a6--------------------------------)'
  prefs: []
  type: TYPE_NORMAL
- en: ·Published in [Towards Data Science](https://towardsdatascience.com/?source=post_page-----547e291c13a6--------------------------------)
    ·7 min read·Apr 10, 2023
  prefs: []
  type: TYPE_NORMAL
- en: --
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/b3840212376207907bc28f06d766a7e6.png)'
  prefs: []
  type: TYPE_IMG
- en: Photo by Freepik on [Freepik](https://www.freepik.com/free-photo/collage-customer-experience-concept_25053683.htm#query=customer%20satisfaction%20data&position=5&from_view=search&track=ais)
  prefs: []
  type: TYPE_NORMAL
- en: Introduction
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Happy customers drive company growth. The five-word sentence explains everything
    about why we do our best to maximize customer satisfaction. Product reviews are
    one of the major data sources that large companies like [Amazon](https://www.amazon.com/gp/help/customer/display.html?nodeId=GL4WJF8BGV8VL6B8)
    and [Apple](https://www.apple.com/contact/feedback/#:~:text=To%20comment%20on%20a%20particular,and%20select%20the%20appropriate%20link.),
    middle-sized exporters including [Lentiamo](https://www.trustpilot.com/review/lentiamo.nl),
    and local companies running their Facebook pages collect. Reviews are typically
    collected repeatedly over time, and factors like quality shifts, marketing communications,
    and customer care friendliness impact the sentiment expressed by customers.
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/6977d39ba6520cc766fddc02138432ba.png)'
  prefs: []
  type: TYPE_IMG
- en: 'Note: Image by author, based on the review of Karim (2011), Baker and Wurgler
    (2006), Merrin et al. (2013), and Eachempat et al. (2022)'
  prefs: []
  type: TYPE_NORMAL
- en: The Business Intelligence (BI) role should be to analyze product reviews, identify
    potential problems, and develop hypotheses to solve them. In the next stage, these
    recommendations are scrutinized by other departments based on the company structure.
    ***This article will explain more closely the analytics of customer satisfaction
    measurement with product reviews data.***
  prefs: []
  type: TYPE_NORMAL
- en: 'The-end-to end process includes:'
  prefs: []
  type: TYPE_NORMAL
- en: How to make an exploratory analysis of time-series product reviews
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: How to quickly evaluate sentiment in product reviews over time
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: How to display the most frequent satisfaction factors over time
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: We'll work in Python, which most BI and data analysts routinely use.
  prefs: []
  type: TYPE_NORMAL
- en: 2\. Data
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Getting unscraped product reviews data with a flexible data license is generally
    difficult. Synthetic data from [**Fake Reviews Dataset**](https://osf.io/tyue9/)distributed
    with [Attribution 4.0 International license](https://creativecommons.org/licenses/by/4.0/)
    is an excellent option in this case.
  prefs: []
  type: TYPE_NORMAL
- en: 'The data looks like this:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/4f0fff266270e7a59e74b3309f8fa72a.png)'
  prefs: []
  type: TYPE_IMG
- en: Image 1\. Fake Reviews Dataset
  prefs: []
  type: TYPE_NORMAL
- en: The *text* column contains product reviews, and *period* marks the review date.
    The subset we’ll work with contains 3848 reviews of clothing, shoes, and jewelry
    products.
  prefs: []
  type: TYPE_NORMAL
- en: 3\. Exploratory data analysis (EDA)
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: EDA in this type of dataset should discover the **completeness** of the dataset
    for each period of interest and the **presence of noise** that does not bring
    valuable information – digits and special characters. We try to avoid the situation
    of highly imbalanced datasets containing very few reviews in some periods and
    noisy datasets with too many digits and special characters (/, @, &,;, ? etc.).
  prefs: []
  type: TYPE_NORMAL
- en: '**3.1\. Checking for data completeness**'
  prefs: []
  type: TYPE_NORMAL
- en: 'First, let’s check the data for completeness for each period. We make annual
    comparisons and therefore summarise the reviews for each year:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE0]'
  prefs: []
  type: TYPE_PRE
- en: 'A simple line pot shows the yearly review frequencies. It is not necessary
    to make any graph formatting here:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/f3b820a836451c68d6d81543eb6157ec.png)'
  prefs: []
  type: TYPE_IMG
- en: Image 2\. Yearly product review frequencies. Image by author.
  prefs: []
  type: TYPE_NORMAL
- en: The dataset is not largely imbalanced. We have about 200 and more reviews per
    year, which makes a solid dataset for sentient and n-gram analyses.
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '**3.2\. Calculating letter-to-other characters ratio**'
  prefs: []
  type: TYPE_NORMAL
- en: Next, let’s check if the data does not consist mainly of numbers and special
    characters, which could bias later text mining procedures.
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE1]'
  prefs: []
  type: TYPE_PRE
- en: 'We calculate *cleanness* and *dirtiness* (the opposite) metrics that show the
    ratios of letters to other characters (numbers, spaces, and special characters):'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE2]'
  prefs: []
  type: TYPE_PRE
- en: 'The print output is:'
  prefs: []
  type: TYPE_NORMAL
- en: dirtiness is 8.77 %
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: cleanness is 91.22 %
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: We have around 9 % of digits and special characters in the data. This volume
    of noise should not bias sentiment analysis in the later stage.
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: 4\. Customer satisfaction measurement
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'Text mining attempts to find out: (1) how the customers’ sentiment developed
    over time and (2) which factors contributed to changes in customer satisfaction.
    We’ll use [Arabica](https://pypi.org/project/arabica/), a Python library for time-series
    text mining, to explore both.'
  prefs: []
  type: TYPE_NORMAL
- en: '***EDIT Jul 2023****: Arabica has been updated. Check the* [***documentation***](https://arabica.readthedocs.io/en/latest/index.html)
    *for the full list of parameters.*'
  prefs: []
  type: TYPE_NORMAL
- en: 4.1\. Sentiment analysis
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: Arabica offers `coffee_break` module for sentiment and breakpoint analysis.
    Its [documentation](https://arabica.readthedocs.io/en/latest/Breakpoint%20identification.html)
    provides more details about the models and methodology of sentiment evaluation.
  prefs: []
  type: TYPE_NORMAL
- en: 'This code cleans data from punctuation and numbers, removes other redundant
    strings (*“<br />”, “/n”,* and *“Another Long String”* are used as examples),
    calculates sentiment for each review, aggregates the sentiment by year, and identifies
    two major break points in the sentiment time series:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE3]'
  prefs: []
  type: TYPE_PRE
- en: 'The line plot with sentiment and breakpoints:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/eb95de263586e8882ceb9d892b94e597.png)'
  prefs: []
  type: TYPE_IMG
- en: Image 3\. Sentiment analysis with breakpoints. Image by author.
  prefs: []
  type: TYPE_NORMAL
- en: 'We can see fluctuations in sentiment over time. These changes are not rapid
    as sentiment varies [0.6: 0.7]. The higher value of sentiment, the better customers
    perceive the products (and the opposite).'
  prefs: []
  type: TYPE_NORMAL
- en: In 1991 and 2000, there were positive and negative breakpoints in sentiment.
    In the next stage, let’s check what caused these shifts.
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: 4.2\. Factors driving customer satisfaction
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: We’ll use a heatmap of n-gram-frequencies from the `cappuccino` module to visually
    derive the factors that influenced customers’ sentiment. Read the [documentation](https://arabica.readthedocs.io/en/latest/Heatmap.html)
    for more technical details.
  prefs: []
  type: TYPE_NORMAL
- en: 'This code plots a heatmap of the eight most frequent bigrams (i.e., two consecutive
    words) in each year. The data pre-processing includes cleaning from English stopwords,
    numbers, and three unwanted strings (*“<br />”, “/n”*, and *“Another Long String”*).
    Punctuation and blank rows are removed automatically:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE4]'
  prefs: []
  type: TYPE_PRE
- en: 'The bigram heatmap:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/4f9fc7c55bc244f4812a2fab01a32ab9.png)'
  prefs: []
  type: TYPE_IMG
- en: Image 4\. Bigram heatmap. Image by author.
  prefs: []
  type: TYPE_NORMAL
- en: 'Bigram frequencies indicate that:'
  prefs: []
  type: TYPE_NORMAL
- en: '***2000s drop*** (missing *“would recommend”, “fits perfectly”, and “fit perfect”*
    in the top 8), and high frequencies of *“wide foot”* and *“size fit”* suggest
    that we might be selling products to people that do not fit their size of foot.
    Note that we removed stop words such as *“don’t”*.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Conclusions
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: This type of text-mining analytics should help make qualified **data-informed
    decisions** and improve the quality of our products and services. Based on the
    analytical results, we determine a set of hypotheses about what might be wrong
    and where is space for improvement.
  prefs: []
  type: TYPE_NORMAL
- en: 'From the text mining analysis in this article, we can see potential problems
    with product quality. The products fit worse our customers’ current needs. Receiving
    the reviews in 2001, the analysts should formulate a set of problem hypotheses
    such as:'
  prefs: []
  type: TYPE_NORMAL
- en: '*The new shoes don’t fit well.*'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '*We don’t sell wide-foot shoes, but customers demand them.*'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '*There’s a quality problem in the production of new products.*'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Many other potential problem hypotheses arise since you know your products better
    than anyone else. Other departments (Marketing, Customer Care, Logistics, ..)
    should find out where the problem is, then react with specific improvements, and
    fix the problem. The response, of course, depends on the company’s size and structure
    and other firm-specific factors.
  prefs: []
  type: TYPE_NORMAL
- en: The jupyter notebook with the code and data is on my [GitHub](https://github.com/PetrKorab/Customer-Satisfaction-Measurement-with-N-gram-and-Sentiment-Analysis).
  prefs: []
  type: TYPE_NORMAL
- en: '*Did you like the article? You can invite me* [*for coffee*](https://www.buymeacoffee.com/petrkorab)
    *and support my writing. You can also subscribe to my* [*email list*](https://medium.com/subscribe/@petrkorab)
    *to get notified about my new articles. Thanks!*'
  prefs: []
  type: TYPE_NORMAL
- en: References
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Baker, M., Wurgler, J., 2006\. Investor sentiment and the cross-section of stock
    returns. *Journal of Finance* 61 (4).
  prefs: []
  type: TYPE_NORMAL
- en: Eachempati, P., Srivastava, P. R., Kumar A., Munoz, J., Dursun D., 2022\. [Can
    customer sentiment impact firm value?](https://www.sciencedirect.com/science/article/abs/pii/S0040162521006995?via%3Dihub=)
    An integrated text mining approach. *Technological Forecasting & Social Change*
    174 (1).
  prefs: []
  type: TYPE_NORMAL
- en: 'Karim, B., 2011\. Corporate name change and shareholder wealth effect: empirical
    evidence in the French stock market. *Journal of Asset Management* 12 (3).'
  prefs: []
  type: TYPE_NORMAL
- en: Merrin, R. P., Hoffmann, A. O., Pennings, J. M., 2013\. Customer satisfaction
    as a buffer against sentimental stock-price corrections. *Marketing Letters* 24
    (1).
  prefs: []
  type: TYPE_NORMAL
