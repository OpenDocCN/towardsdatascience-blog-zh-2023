# 如何将 Pandas DataFrame 写入 CSV 文件

> 原文：[https://towardsdatascience.com/pandas-to-csv-aab4ac27c455](https://towardsdatascience.com/pandas-to-csv-aab4ac27c455)

## 利用将 pandas DataFrames 写入 CSV 文件时提供的所有选项

[](https://gmyrianthous.medium.com/?source=post_page-----aab4ac27c455--------------------------------)[![Giorgos Myrianthous](../Images/ff4b116e4fb9a095ce45eb064fde5af3.png)](https://gmyrianthous.medium.com/?source=post_page-----aab4ac27c455--------------------------------)[](https://towardsdatascience.com/?source=post_page-----aab4ac27c455--------------------------------)[![Towards Data Science](../Images/a6ff2676ffcc0c7aad8aaf1d79379785.png)](https://towardsdatascience.com/?source=post_page-----aab4ac27c455--------------------------------) [Giorgos Myrianthous](https://gmyrianthous.medium.com/?source=post_page-----aab4ac27c455--------------------------------)

·发布于 [Towards Data Science](https://towardsdatascience.com/?source=post_page-----aab4ac27c455--------------------------------) ·阅读时间5分钟·2023年1月13日

--

![](../Images/881b8b4f1e7bf014f76b61f5f78e7900.png)

图片由 [Hello I’m Nik](https://unsplash.com/fr/@helloimnik?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText) 提供，来源于 [Unsplash](https://unsplash.com/photos/l4ADb9OVqTY?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText)

在使用 pandas 时，一个非常常见的任务是将 DataFrame 导出到 CSV 文件。

在本文中，我们将演示如何将 pandas DataFrame 写入 CSV 文件。此外，我们还将展示如何使用 pandas API 的各种选项来处理缺失值、日期时间格式、压缩，以及处理 CSV 文件中 DataFrame 时可能需要的其他功能。

现在让我们创建一个示例 DataFrame，我们将在本教程中使用并引用它，以演示将 pandas DataFrame 导出为 CSV 文件的几种不同选项。

[PRE0]

## 将 pandas DataFrame 导出为 CSV 文件

要将 pandas DataFrame 导出为 `csv` 文件，你只需调用 `pandas.DataFrame.to_csv()` 函数并提供输出文件名：

[PRE1]

**输出**

[PRE2]

## 更改默认分隔符

如果你想更改默认分隔符（ `,` ），则需要提供 `sep` 参数。以下示例将 pandas DataFrame 持久化到一个 CSV 文件中，其中列值将使用制表符分隔：

[PRE3]

**输出**

[PRE4]

## 排除索引

在前面的示例中，你可能已经注意到，除了列名和数值外，索引也会被保留。如果你想去掉它，只需提供 `index=False` 参数：

[PRE5]

**输出**

[PRE6]

## 移除标题

同样，你可以通过传递 `header=False` 来去掉标题（即列名）。

[PRE7]

**输出**

[PRE8]

## 只写出一部分列

有时，你可能只想导出 DataFrame 对象中的一部分列。你可以通过在 `columns` 参数中指定所需的列来选择要持久化的列：

[PRE9]

**输出**

[PRE10]

## 指定日期时间对象的格式

在我们的示例 DataFrame 中，列 `colD` 的类型为 `datetime`，默认情况下，它将以 `YYYY-MM-DD` 格式导出。你可以在 `date_format` 参数中指定所需的日期格式。

[PRE11]

**输出**

[PRE12]

如果你有兴趣了解更多关于如何处理 Python 中日期时间对象格式的内容，你可以阅读我最近在 Medium 上的一篇文章。

[](/datetime-format-pandas-541c661d41c2?source=post_page-----aab4ac27c455--------------------------------) [## 如何更改 Pandas 中的日期时间格式

### 在 Python 和 pandas 中处理日期时间

towardsdatascience.com](/datetime-format-pandas-541c661d41c2?source=post_page-----aab4ac27c455--------------------------------)

## 更改 NaN 值写入 CSV 文件的方式

默认情况下，`to_csv()` 函数会将缺失值导出为空字符。`na_rep` 参数可以用来指定 `NaN` 值的所需输出格式：

[PRE13]

**输出**

[PRE14]

## 其他选项

对于大型 DataFrame，你可能需要将输出压缩为 `zip` 格式。为此，你可以在 `compression` 参数中指定所需的压缩策略。

[PRE15]

其他一些压缩策略包括 `'zip'`、`'gzip'`、`'bz2'`、`'zstd'`、`'tar'`。

最后，要更改文件格式编码，你可以利用 `encoding` 参数：

[PRE16]

## 最后的思考

总结来说，本文展示了将 pandas DataFrame 写入 CSV 文件时的各种选项。从更改默认分隔符、排除索引、移除标题、仅写入部分列、指定日期时间对象的格式，到更改 NaN 值写入 CSV 文件的方式。

pandas API 提供了多种选项来处理将 DataFrame 持久化到 CSV 文件中的不同场景。这使得它成为一个强大的数据处理和分析工具。根据本文提供的知识，你应该能够轻松而准确地将你的 DataFrame 导出到 CSV 文件中。

[**成为会员**](https://gmyrianthous.medium.com/membership) **，阅读 Medium 上的每个故事。你的会员费用直接支持我和你阅读的其他作者。你还将获得对 Medium 上每个故事的全面访问权限。**

[](https://gmyrianthous.medium.com/membership?source=post_page-----aab4ac27c455--------------------------------) [## 使用我的推荐链接加入 Medium — Giorgos Myrianthous

### 作为 Medium 会员，你的部分会员费用会分配给你阅读的作者，并且你可以全面访问每个故事…

gmyrianthous.medium.com](https://gmyrianthous.medium.com/membership?source=post_page-----aab4ac27c455--------------------------------)

**你可能也感兴趣的相关文章**

[](/diagrams-as-code-python-d9cbaa959ed5?source=post_page-----aab4ac27c455--------------------------------) [## Python 中的代码图示

### 创建 Python 云系统架构图

towardsdatascience.com](/diagrams-as-code-python-d9cbaa959ed5?source=post_page-----aab4ac27c455--------------------------------) [](/args-kwargs-python-d9c71b220970?source=post_page-----aab4ac27c455--------------------------------) [## *args 和 **kwargs 在 Python 中的使用

### 讨论位置参数和关键字参数之间的区别以及如何在 Python 中使用 *args 和 **kwargs

towardsdatascience.com](/args-kwargs-python-d9c71b220970?source=post_page-----aab4ac27c455--------------------------------)
