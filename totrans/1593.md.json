["```py\n[SalesYTD] =\n  VAR YTDDates = DATESYTD('Date'[Date])\n\nRETURN\n  CALCULATE(\n      [Sum Online Sales]\n      ,YTDDates\n      )\n```", "```py\nEVALUATE\n  ADDCOLUMNS(\n        VALUES(Customer[CustomerKey])\n          ,\"AverageSales\", CALCULATE( AVERAGEX( 'Online Sales'\n          ,('Online Sales'[UnitPrice] * 'Online Sales'[SalesQuantity])-'Online Sales'[DiscountAmount]\n          )\n        )\n      )\nORDER BY [AverageSales] DESC\n```", "```py\nDEFINE\n  MEASURE 'All Measures'[AverageSalePerCustomer] =\n    VAR AverageSalesPerCust =\n            ADDCOLUMNS (\n                VALUES ( Customer[CustomerKey] ),\n                \"AverageSales\",\n                -- Calculate the Average Sales per Customer using the Filter Context provided by ADDCOLUMNS()\n                CALCULATE (\n                  AVERAGEX (\n                    'Online Sales',\n                    ( 'Online Sales'[UnitPrice] * 'Online Sales'[SalesQuantity] ) - 'Online Sales'[DiscountAmount]\n                    )\n                  )\n                )\nRETURN\n  -- Calculate a sum of all the rows calculated in the previous step\n  SUM ( AverageSalesPerCust[AverageSales] )\n\nEVALUATE\n  -- Get the list of all Months and call the Measures defined above for each month\n  ADDCOLUMNS (\n      SUMMARIZECOLUMNS (\n            'Date'[Year Month Short Name] \n            ),\n            \"AverageSalePerCustomer\", [AverageSalePerCustomer]\n      )\nORDER BY 'Date'[Year Month Short Name]\n```", "```py\nSUMX(AverageSalesPerCust\n    ,[AverageSales])\n```", "```py\nDEFINE\n  MEASURE 'All Measures'[AverageSalePerCustomer] =\n    VAR AverageSalesPerCust =\n      ADDCOLUMNS (\n        VALUES ( Customer[CustomerKey] ),\n        \"AverageSales\",\n        CALCULATE (\n            AVERAGEX (\n              'Online Sales',\n              ( 'Online Sales'[UnitPrice] * 'Online Sales'[SalesQuantity] ) - 'Online Sales'[DiscountAmount]\n              )\n            )\n          )\n\n    VAR AvgSalesOver0 =\n      -- Wrap the intermediary table variable in FILTER() to make it usable by aggregation function\n      FILTER (\n          AverageSalesPerCust\n          ,[AverageSales] > 0\n          )\n\nRETURN\n  SUMX (\n      AvgSalesOver0,\n      [AverageSales]\n      )\n\nEVALUATE\n  ADDCOLUMNS (\n      SUMMARIZECOLUMNS (\n            'Date'[Year Month Short Name]\n            ),\n            \"AverageSalePerCustomer\", [AverageSalePerCustomer]\n        )\n  -- Order by the calculated column\n  ORDER BY [Year Month Short Name] DESC\n```", "```py\nDEFINE\n  MEASURE 'All Measures'[AverageSalePerCustomer] =\n        VAR AverageSalesPerCust =\n          CALCULATETABLE (\n            ADDCOLUMNS (\n                VALUES ( Customer[CustomerKey] ),\n                \"AverageSales\",\n                CALCULATE (\n                  AVERAGEX (\n                    'Online Sales',\n                      ( 'Online Sales'[UnitPrice] * 'Online Sales'[SalesQuantity] ) - 'Online Sales'[DiscountAmount]\n                    )\n                  )\n                )\n                -- Add a Dummy filter\n                ,Customer[CustomerKey] <> 0\n              )\n\nVAR AvgSalesOver0 =\n    FILTER (\n        AverageSalesPerCust,\n        [AverageSales] > 0\n        )\n\nRETURN\n  SUMX (\n      AvgSalesOver0\n      ,[AverageSales]\n      )\n\nEVALUATE\n  ADDCOLUMNS (\n    SUMMARIZECOLUMNS (\n            'Date'[Year Month Short Name]\n            ),\n            \"AverageSalePerCustomer\", [AverageSalePerCustomer]\n          )\n  -- Order by the calculated column is possible\n  ORDER BY [Year Month Short Name] DESC\n```", "```py\nVAR AvgSalesOver0 =\n    FILTER (\n          AverageSalesPerCust\n          -- Dummy-Filter \n          ,1 = 1\n          )\n```", "```py\nDEFINE\n  MEASURE 'All Measures'[AverageSalePerCustomer] =\n    VAR <TableVariable> =\n          <Definition of the Table>\n\n    VAR <FilterOfTable> =\n        FILTER(\n            <TableVariable>\n            ,1=1 - Dummy Filter\n            )\nRETURN\n  <AggregationWithXFunction over <FilterOfTable> >\n```", "```py\nDEFINE\nMEASURE 'All Measures'[AverageSalePerCustomer] =\n    VAR <TableVariable> =\n      FILTER(\n          <Definition of the Table>\n          , 1=1 - Dummy Filter\n          )\nRETURN\n  <AggregationWithXFunction over <TableVariable> >\n```"]