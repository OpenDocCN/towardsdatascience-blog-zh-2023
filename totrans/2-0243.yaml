- en: A Tableau Calculus for the Analysis of Experiments
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: å®éªŒåˆ†æçš„è¡¨æ ¼å¾®ç§¯åˆ†
- en: åŸæ–‡ï¼š[https://towardsdatascience.com/a-tableau-calculus-for-the-analysis-of-experiments-53655dd04eb8](https://towardsdatascience.com/a-tableau-calculus-for-the-analysis-of-experiments-53655dd04eb8)
  id: totrans-1
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: åŸæ–‡ï¼š[https://towardsdatascience.com/a-tableau-calculus-for-the-analysis-of-experiments-53655dd04eb8](https://towardsdatascience.com/a-tableau-calculus-for-the-analysis-of-experiments-53655dd04eb8)
- en: Unravelling the Fundamental Data Structure of Experimental Analysis
  id: totrans-2
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: è§£å¼€å®éªŒåˆ†æçš„åŸºæœ¬æ•°æ®ç»“æ„
- en: '[](https://dataneversleeps.medium.com/?source=post_page-----53655dd04eb8--------------------------------)[![Jared
    M. Maruskin, PhD](../Images/771dcac046565d4760077afecb3fadef.png)](https://dataneversleeps.medium.com/?source=post_page-----53655dd04eb8--------------------------------)[](https://towardsdatascience.com/?source=post_page-----53655dd04eb8--------------------------------)[![Towards
    Data Science](../Images/a6ff2676ffcc0c7aad8aaf1d79379785.png)](https://towardsdatascience.com/?source=post_page-----53655dd04eb8--------------------------------)
    [Jared M. Maruskin, PhD](https://dataneversleeps.medium.com/?source=post_page-----53655dd04eb8--------------------------------)'
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: '[](https://dataneversleeps.medium.com/?source=post_page-----53655dd04eb8--------------------------------)[![Jared
    M. Maruskin, PhD](../Images/771dcac046565d4760077afecb3fadef.png)](https://dataneversleeps.medium.com/?source=post_page-----53655dd04eb8--------------------------------)[](https://towardsdatascience.com/?source=post_page-----53655dd04eb8--------------------------------)[![Towards
    Data Science](../Images/a6ff2676ffcc0c7aad8aaf1d79379785.png)](https://towardsdatascience.com/?source=post_page-----53655dd04eb8--------------------------------)
    [Jared M. Maruskin, PhD](https://dataneversleeps.medium.com/?source=post_page-----53655dd04eb8--------------------------------)'
- en: Â·Published in [Towards Data Science](https://towardsdatascience.com/?source=post_page-----53655dd04eb8--------------------------------)
    Â·21 min readÂ·Oct 3, 2023
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: Â·å‘å¸ƒåœ¨[Towards Data Science](https://towardsdatascience.com/?source=post_page-----53655dd04eb8--------------------------------)
    Â·21 min readÂ·2023å¹´10æœˆ3æ—¥
- en: --
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: --
- en: '![](../Images/b26caa5a37392803d3b6c958678d500a.png)'
  id: totrans-6
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/b26caa5a37392803d3b6c958678d500a.png)'
- en: Photo by [Markus Spiske](https://unsplash.com/@markusspiske?utm_source=medium&utm_medium=referral)
    on [Unsplash](https://unsplash.com/?utm_source=medium&utm_medium=referral)
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: ç…§ç‰‡ç”±[Markus Spiske](https://unsplash.com/@markusspiske?utm_source=medium&utm_medium=referral)æ‹æ‘„ï¼Œå‘å¸ƒåœ¨[Unsplash](https://unsplash.com/?utm_source=medium&utm_medium=referral)
- en: Experimental analysis often involves analyzing groups containing varying numbers
    of elements; for example, a different number of units for each treatment assignment
    within each stratum. We therefore encounter objects that are *like matrices*,
    except they are not perfect rectangular blocks; i.e., they are not always â€œfilled.â€
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: å®éªŒåˆ†æé€šå¸¸æ¶‰åŠåˆ†æåŒ…å«ä¸åŒæ•°é‡å…ƒç´ çš„ç»„ï¼›ä¾‹å¦‚ï¼Œæ¯ä¸ªå±‚æ¬¡ä¸­çš„æ¯ç§å¤„ç†åˆ†é…çš„å•ä½æ•°é‡ä¸åŒã€‚å› æ­¤ï¼Œæˆ‘ä»¬é‡åˆ°çš„å¯¹è±¡*ç±»ä¼¼äºçŸ©é˜µ*ï¼Œä½†å®ƒä»¬ä¸æ˜¯å®Œç¾çš„çŸ©å½¢å—ï¼›å³ï¼Œå®ƒä»¬å¹¶ä¸æ€»æ˜¯â€œå¡«æ»¡â€ã€‚
- en: 'In this note, we define a new structure, called a *tableau*, which can be regarded
    as a partially filled matrix, and seek to formalize the operations on tableaus
    that are used in the analysis of experiment. We then show how *tableau notation*
    can be used to express the key equations in a variety of statistical contexts,
    including stratification, clustering, and the sum-of-squares decomposition. Moreover,
    we express these equations in both an *invariant* and *index* form:'
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨è¿™ç¯‡ç¬”è®°ä¸­ï¼Œæˆ‘ä»¬å®šä¹‰äº†ä¸€ç§æ–°çš„ç»“æ„ï¼Œç§°ä¸º*è¡¨æ ¼*ï¼Œå®ƒå¯ä»¥è¢«è§†ä¸ºéƒ¨åˆ†å¡«å……çš„çŸ©é˜µï¼Œå¹¶å¯»æ±‚å½¢å¼åŒ–åœ¨å®éªŒåˆ†æä¸­ä½¿ç”¨çš„è¡¨æ ¼æ“ä½œã€‚æˆ‘ä»¬ç„¶åå±•ç¤ºäº†å¦‚ä½•åœ¨å„ç§ç»Ÿè®¡èƒŒæ™¯ä¸­ä½¿ç”¨*è¡¨æ ¼ç¬¦å·*æ¥è¡¨è¾¾å…³é”®æ–¹ç¨‹ï¼ŒåŒ…æ‹¬åˆ†å±‚ã€èšç±»å’Œå¹³æ–¹å’Œåˆ†è§£ã€‚æ­¤å¤–ï¼Œæˆ‘ä»¬å°†è¿™äº›æ–¹ç¨‹ä»¥*ä¸å˜*å’Œ*ç´¢å¼•*å½¢å¼è¡¨è¾¾ï¼š
- en: '*invariant notation (coordinate-free form)* â€” defined in terms of *objects*
    and *operators*, much like the matrix-vector product Aâ‹…x, and'
  id: totrans-10
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '*ä¸å˜ç¬¦å·ï¼ˆæ— åæ ‡å½¢å¼ï¼‰* â€” ä»¥*å¯¹è±¡*å’Œ*è¿ç®—ç¬¦*çš„å½¢å¼å®šä¹‰ï¼Œå°±åƒçŸ©é˜µ-å‘é‡ç§¯Aâ‹…xä¸€æ ·ï¼Œ'
- en: '*index notation (coordinate form)* â€” defined explicitly in terms of indexed
    arrays and summation of multiple indices, much like expressing the matrix-vector
    product as *âˆ‘â±¼Aáµ¢â±¼ xâ±¼.*'
  id: totrans-11
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '*ç´¢å¼•ç¬¦å·ï¼ˆåæ ‡å½¢å¼ï¼‰* â€” æ˜ç¡®ä»¥ç´¢å¼•æ•°ç»„å’Œå¤šé‡ç´¢å¼•çš„æ±‚å’Œå½¢å¼å®šä¹‰ï¼Œå°±åƒå°†çŸ©é˜µ-å‘é‡ç§¯è¡¨ç¤ºä¸º*âˆ‘â±¼Aáµ¢â±¼ xâ±¼*ä¸€æ ·ã€‚'
- en: Outline
  id: totrans-12
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: å¤§çº²
- en: 'This post consists of four main sections:'
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: æœ¬æ–‡ç”±å››ä¸ªä¸»è¦éƒ¨åˆ†ç»„æˆï¼š
- en: Review of classic notation, the pros and cons;
  id: totrans-14
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: ç»å…¸ç¬¦å·çš„å›é¡¾ï¼Œä¼˜ç¼ºç‚¹ï¼›
- en: Theoretical development of the Tableau Calculus;
  id: totrans-15
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: è¡¨æ ¼å¾®ç§¯åˆ†çš„ç†è®ºå‘å±•ï¼›
- en: Application to Experiments (completely randomized, block-randomized, adjustment
    formula, cluster-randomized, block-cluster, and ANOVA sum of squares decomposition);
  id: totrans-16
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: å®éªŒçš„åº”ç”¨ï¼ˆå®Œå…¨éšæœºåŒ–ã€å—éšæœºåŒ–ã€è°ƒæ•´å…¬å¼ã€é›†ç¾¤éšæœºåŒ–ã€å—é›†ç¾¤å’ŒANOVAå¹³æ–¹å’Œåˆ†è§£ï¼‰ï¼›
- en: Python implementation
  id: totrans-17
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: Pythonå®ç°
- en: 'Classic Notation: Pros and Cons'
  id: totrans-18
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: ç»å…¸ç¬¦å·ï¼šä¼˜ç¼ºç‚¹
- en: 'In experimental analysis, there are three main styles of notation that are
    commonly used:'
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨å®éªŒåˆ†æä¸­ï¼Œå¸¸ç”¨çš„ç¬¦å·é£æ ¼æœ‰ä¸‰ç§ï¼š
- en: '*classic notation â€”* treatment assignment is explicitly enumerated: unit *(ijk)*
    describes the *k*th unit in the *j*th stratum of the *i*th treatment group (see
    [1], [2], and [5]);'
  id: totrans-20
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '*ç»å…¸è®°å·* â€” å¤„ç†åˆ†é…è¢«æ˜ç¡®åˆ—å‡ºï¼šå•å…ƒ*(ijk)*æè¿°äº†ç¬¬*i*ä¸ªå¤„ç†ç»„ç¬¬*j*å±‚ä¸­çš„ç¬¬*k*ä¸ªå•å…ƒï¼ˆè§ [1]ï¼Œ[2] å’Œ [5]ï¼‰ï¼›'
- en: '*assignment notation* â€” the assignment mechanism is treated as an independent
    variable, and we consider sums over quantities like *Záµ¢Yáµ¢* or *Záµ¢â±¼ Yáµ¢â±¼* (see [2],
    [3], and [4]); and'
  id: totrans-21
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '*åˆ†é…è®°å·* â€” åˆ†é…æœºåˆ¶è¢«è§†ä¸ºä¸€ä¸ªç‹¬ç«‹å˜é‡ï¼Œæˆ‘ä»¬è€ƒè™‘å¯¹ *Záµ¢Yáµ¢* æˆ– *Záµ¢â±¼ Yáµ¢â±¼* ç­‰é‡çš„æ±‚å’Œï¼ˆè§ [2]ï¼Œ[3] å’Œ [4]ï¼‰ï¼›å’Œ'
- en: '*set notation* â€” explicit variables referring to treatment and control sets;
    *Yáµ—* and *Yá¶œ*, or *Yâºâ±¼* for the aggregate sums of the *j*th cluster, and then
    *Yâºâ‚œ and Yâº_c* for the set of aggregate sums for treatment and control clusters,
    etc. (see [5]).'
  id: totrans-22
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '*é›†åˆè®°å·* â€” æ˜¾å¼å˜é‡æŒ‡ä»£å¤„ç†å’Œå¯¹ç…§é›†åˆï¼›*Yáµ—* å’Œ *Yá¶œ*ï¼Œæˆ–è€… *Yâºâ±¼* ç”¨äºç¬¬ *j* ä¸ªç°‡çš„æ€»å’Œï¼Œç„¶å *Yâºâ‚œ* å’Œ *Yâº_c*
    ç”¨äºå¤„ç†å’Œå¯¹ç…§ç°‡çš„æ€»å’Œé›†åˆï¼Œç­‰ç­‰ï¼ˆè§ [5]ï¼‰ã€‚'
- en: Classic notation allows one to express formula in the most compact manner, as
    treatment assignment is directly indexed in the response array, which is useful
    in describing stratification, multi-level experiments, and ANOVA. However, this
    notation is philosophically unsettling as the enumeration of units directly depends
    on the treatment assignment.
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: ç»å…¸è®°å·å…è®¸ä»¥æœ€ç´§å‡‘çš„æ–¹å¼è¡¨è¾¾å…¬å¼ï¼Œå› ä¸ºå¤„ç†åˆ†é…åœ¨å“åº”æ•°ç»„ä¸­ç›´æ¥ç´¢å¼•ï¼Œè¿™åœ¨æè¿°åˆ†å±‚ã€å¤šå±‚å®éªŒå’Œæ–¹å·®åˆ†æä¸­éå¸¸æœ‰ç”¨ã€‚ç„¶è€Œï¼Œè¿™ç§è®°å·åœ¨å“²å­¦ä¸Šä»¤äººä¸å®‰ï¼Œå› ä¸ºå•å…ƒçš„åˆ—ä¸¾ç›´æ¥ä¾èµ–äºå¤„ç†åˆ†é…ã€‚
- en: Assignment notation, on the other hand, enumerates units without regard to treatment
    assignment, but requires an auxiliary assignment mechanism *Z* and a doubling
    of the number of multi-summations, with one set of sums containing a factor *Z*
    and the other a factor *(1-Z)*. This has the shortcoming that it is not amenable
    to multi-level design.
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: å¦ä¸€æ–¹é¢ï¼Œåˆ†é…è®°å·åˆ—ä¸¾äº†å•å…ƒè€Œä¸è€ƒè™‘å¤„ç†åˆ†é…ï¼Œä½†éœ€è¦ä¸€ä¸ªè¾…åŠ©çš„åˆ†é…æœºåˆ¶ *Z* å’ŒåŒå€çš„å¤šé‡æ±‚å’Œï¼Œå…¶ä¸­ä¸€ç»„æ±‚å’ŒåŒ…å«å› å­ *Z*ï¼Œå¦ä¸€ç»„åˆ™åŒ…å«å› å­ *(1-Z)*ã€‚è¿™ä¸€ç‚¹çš„ä¸è¶³ä¹‹å¤„åœ¨äºä¸é€‚ç”¨äºå¤šå±‚æ¬¡è®¾è®¡ã€‚
- en: 'Finally, set notation simplifies things a great deal, but requires special
    definitions for every different set: in clustering, *Yâºâ±¼* is the aggregate sum
    for the *j*th cluster, and *Yâºâ‚œ={Yâºâ±¼ : zâ±¼=1}*, but these are not used in block
    design, etc; i.e., we have to keep defining different notation to refer to different
    groups, subgroups, or sums of a single fundamental underlying object.'
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: 'æœ€åï¼Œé›†åˆè®°å·å¤§å¤§ç®€åŒ–äº†é—®é¢˜ï¼Œä½†éœ€è¦ä¸ºæ¯ä¸ªä¸åŒçš„é›†åˆæä¾›ç‰¹æ®Šå®šä¹‰ï¼šåœ¨èšç±»ä¸­ï¼Œ*Yâºâ±¼* æ˜¯ç¬¬ *j* ä¸ªç°‡çš„æ€»å’Œï¼Œ*Yâºâ‚œ={Yâºâ±¼ : zâ±¼=1}*ï¼Œä½†è¿™äº›åœ¨åŒºç»„è®¾è®¡ä¸­æœªä½¿ç”¨ï¼›å³æˆ‘ä»¬å¿…é¡»ä¸æ–­å®šä¹‰ä¸åŒçš„è®°å·æ¥æŒ‡ä»£ä¸åŒçš„ç»„ã€å­ç»„æˆ–å•ä¸€åŸºæœ¬å¯¹è±¡çš„æ€»å’Œã€‚'
- en: 'Tableau notation seeks the best of each world: its basic worldview is consistent
    with assignment notation, but we define a structure called a tableau and a set
    of operations that allows one to write equations in an invariant form, which can
    be understood across contexts without having to define specific sets each time.
    Moreover, we take the novel interpretation of the assignment mechanism as a *mask*,
    such that we may consider the *subtableaus* consisting of treatment and control
    assignments, and then apply our basic operations on these subtableaus to express
    key statistical formula.'
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: Tableau è®°å·åŠ›æ±‚å…¼å…·å„æ–¹é¢ä¼˜ç‚¹ï¼šå…¶åŸºæœ¬ä¸–ç•Œè§‚ä¸åˆ†é…è®°å·ä¸€è‡´ï¼Œä½†æˆ‘ä»¬å®šä¹‰äº†ä¸€ç§ç§°ä¸º tableau çš„ç»“æ„ä»¥åŠä¸€ç»„æ“ä½œï¼Œè¿™ä½¿å¾—å¯ä»¥ä»¥ä¸å˜çš„å½¢å¼ä¹¦å†™æ–¹ç¨‹ï¼Œè¿™æ ·å¯ä»¥åœ¨ä¸åŒèƒŒæ™¯ä¸‹ç†è§£è€Œæ— éœ€æ¯æ¬¡å®šä¹‰ç‰¹å®šé›†åˆã€‚æ­¤å¤–ï¼Œæˆ‘ä»¬å°†åˆ†é…æœºåˆ¶çš„å…¨æ–°è§£é‡Šè§†ä¸º*æ©ç *ï¼Œä»è€Œå¯ä»¥è€ƒè™‘åŒ…å«å¤„ç†å’Œå¯¹ç…§åˆ†é…çš„*å­è¡¨æ ¼*ï¼Œç„¶ååœ¨è¿™äº›å­è¡¨æ ¼ä¸Šåº”ç”¨åŸºæœ¬æ“ä½œä»¥è¡¨è¾¾å…³é”®ç»Ÿè®¡å…¬å¼ã€‚
- en: Tableau Notation
  id: totrans-27
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: Tableau è®°å·
- en: 'Getting Started: Tableaus, Shapes, and Index Spaces'
  id: totrans-28
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: å…¥é—¨ï¼šè¡¨æ ¼ã€å½¢çŠ¶å’Œç´¢å¼•ç©ºé—´
- en: Recall that an *l*-dimensional matrix is a rectangular array structure specified
    by its side lengths *(nâ‚, â€¦, nâ‚—).* Its *nâ‚â€¦nâ‚—* components are indexed by an index
    space
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: è®°ä½ï¼Œ*l* ç»´çŸ©é˜µæ˜¯ç”±å…¶è¾¹é•¿*(nâ‚, â€¦, nâ‚—)*æŒ‡å®šçš„çŸ©å½¢æ•°ç»„ç»“æ„ã€‚å…¶ *nâ‚â€¦nâ‚—* ç»„ä»¶ç”±ä¸€ä¸ªç´¢å¼•ç©ºé—´ç´¢å¼•ã€‚
- en: An *l*-dimensional *tableau* *T* is an *l*-dimensional array indexed by values
    in a bounded set *I âŠ‚ â„¤Ë¡â‚Š* of positive integer arrays called the index space.
    So a tableau is just a partially filled matrix.
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸€ä¸ª *l* ç»´ *tableau* *T* æ˜¯ä¸€ä¸ªç”±æ­£æ•´æ•°æ•°ç»„çš„æœ‰é™é›†åˆ *I âŠ‚ â„¤Ë¡â‚Š* ä¸­çš„å€¼ç´¢å¼•çš„ *l* ç»´æ•°ç»„ã€‚æ‰€ä»¥ tableau åªæ˜¯ä¸€ä¸ªéƒ¨åˆ†å¡«å……çš„çŸ©é˜µã€‚
- en: We say that a tableau *T* is in *standard form* if each index ranges from 1
    to some terminal integer (without skipping) and if the range of index *iâ‚–* depends
    only on the values of the *(k-1)* preceding indices. An *l*-dimensional tableau
    in standard form may be described by its *shape Î·Ë¡*, which is itself an *(l-1)*-dimensional
    standard tableau, defined such that *Î¹=(iâ‚,â€¦,iâ‚—)âˆˆI* if and only if *(iâ‚,â€¦,iâ‚—â‚‹â‚)âˆˆI(Î·Ë¡)*
    and *iâ‚— âˆˆ {1,â€¦, Î·Ë¡_{iâ‚,â€¦,iâ‚—â‚‹â‚}}*.
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬è¯´ä¸€ä¸ªè¡¨æ ¼ *T* æ˜¯ *æ ‡å‡†å½¢å¼* å¦‚æœæ¯ä¸ªç´¢å¼•çš„èŒƒå›´ä» 1 åˆ°æŸä¸ªç»ˆç«¯æ•´æ•°ï¼ˆæ²¡æœ‰è·³è¿‡ï¼‰ï¼Œå¹¶ä¸”ç´¢å¼• *iâ‚–* çš„èŒƒå›´ä»…ä¾èµ–äº *ï¼ˆk-1ï¼‰* ä¸ªå‰é¢çš„ç´¢å¼•çš„å€¼ã€‚ä¸€ä¸ª
    *l*-ç»´æ ‡å‡†å½¢å¼çš„è¡¨æ ¼å¯ä»¥ç”±å…¶ *å½¢çŠ¶ Î·Ë¡* æè¿°ï¼Œ*Î·Ë¡* æœ¬èº«æ˜¯ä¸€ä¸ª *(l-1)*-ç»´æ ‡å‡†è¡¨æ ¼ï¼Œå®šä¹‰ä¸ºå½“ä¸”ä»…å½“ *Î¹=(iâ‚,â€¦,iâ‚—)âˆˆI* å½“ä¸”ä»…å½“
    *(iâ‚,â€¦,iâ‚—â‚‹â‚)âˆˆI(Î·Ë¡)* ä¸” *iâ‚— âˆˆ {1,â€¦, Î·Ë¡_{iâ‚,â€¦,iâ‚—â‚‹â‚}}*ã€‚
- en: Alternatively, the shape is given by a sequence of tableaus *âŸ¨Î·Â¹,â€¦,Î·Ë¡âŸ©*, such
    that *Î·áµ* is a *(k-1)*-dimensional tableau defined inductively as the shape of
    *Î·áµâºÂ¹*, for *k=(l-1),â€¦,1*. The tableau *Î·áµ* thus determines the range of the index
    *iâ‚–*, as it depends on the preceding indices. This defines the index space inductively
    by the relations *iâ‚âˆˆ{1,â€¦Î·Â¹}* and
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ–è€…ï¼Œå½¢çŠ¶ç”±ä¸€ç³»åˆ—è¡¨æ ¼ *âŸ¨Î·Â¹,â€¦,Î·Ë¡âŸ©* ç»™å‡ºï¼Œå…¶ä¸­ *Î·áµ* æ˜¯ä¸€ä¸ª *(k-1)*-ç»´è¡¨æ ¼ï¼Œé€šè¿‡é€’å½’åœ°å®šä¹‰ä¸º *Î·áµâºÂ¹* çš„å½¢çŠ¶ï¼Œé€‚ç”¨äº *k=(l-1),â€¦,1*ã€‚å› æ­¤ï¼Œè¡¨æ ¼
    *Î·áµ* ç¡®å®šäº†ç´¢å¼• *iâ‚–* çš„èŒƒå›´ï¼Œå› ä¸ºå®ƒä¾èµ–äºå‰é¢çš„ç´¢å¼•ã€‚è¿™é€šè¿‡å…³ç³» *iâ‚âˆˆ{1,â€¦Î·Â¹}* é€’å½’åœ°å®šä¹‰äº†ç´¢å¼•ç©ºé—´ã€‚
- en: for *k=2, â€¦, l*. Notice how the range of each index may depend on the values
    of the preceding indices.
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: å¯¹äº *k=2, â€¦, l*ã€‚æ³¨æ„æ¯ä¸ªç´¢å¼•çš„èŒƒå›´å¯èƒ½ä¾èµ–äºå‰é¢çš„ç´¢å¼•çš„å€¼ã€‚
- en: In experimentation, we always *start* in standard form; i.e., the standard form
    is the enumeration of the experimental units within clusters, strata, etc. Our
    definition of tableau is, however, more general, to accommodate other structures
    we will encounter in a bit (namely, *masked tableaus*, which, in the context of
    experimentation, are the subset of components assigned to treatment or control;
    more on this later).
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨å®éªŒä¸­ï¼Œæˆ‘ä»¬æ€»æ˜¯ *ä»æ ‡å‡†å½¢å¼å¼€å§‹*ï¼›å³ï¼Œæ ‡å‡†å½¢å¼æ˜¯å¯¹é›†ç¾¤ã€å±‚æ¬¡ç­‰ä¸­çš„å®éªŒå•å…ƒçš„æšä¸¾ã€‚ç„¶è€Œï¼Œæˆ‘ä»¬çš„è¡¨æ ¼å®šä¹‰æ›´ä¸ºä¸€èˆ¬ï¼Œä»¥é€‚åº”æˆ‘ä»¬ç¨åå°†é‡åˆ°çš„å…¶ä»–ç»“æ„ï¼ˆå³
    *æ©è”½è¡¨æ ¼*ï¼Œåœ¨å®éªŒçš„èƒŒæ™¯ä¸‹ï¼Œå®ƒä»¬æ˜¯åˆ†é…ç»™å¤„ç†æˆ–å¯¹ç…§çš„ç»„ä»¶çš„å­é›†ï¼›æ›´å¤šå†…å®¹ç¨åä»‹ç»ï¼‰ã€‚
- en: '**Example 1\.** As a simple example, consider a 3-dimensional tableau *T*,
    with shape *Î·Â³* as shown below.'
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: '**ç¤ºä¾‹ 1\.** ä½œä¸ºä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼Œè€ƒè™‘ä¸€ä¸ªå½¢çŠ¶ä¸º *Î·Â³* çš„ä¸‰ç»´è¡¨æ ¼ *T*ï¼Œå¦‚ä¸‹æ‰€ç¤ºã€‚'
- en: '![](../Images/502b5e5f593bcaa06d553475ccafd9bf.png)'
  id: totrans-36
  prefs: []
  type: TYPE_IMG
  zh: '![](../Images/502b5e5f593bcaa06d553475ccafd9bf.png)'
- en: Table 1\. The shape Î·Â³ of a 3-dimensional tableau T; Image by the Author.
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: è¡¨ 1\. ä¸‰ç»´è¡¨æ ¼ T çš„å½¢çŠ¶ Î·Â³ï¼›å›¾åƒç”±ä½œè€…æä¾›ã€‚
- en: Here, *Î·Â¹=5*, and *Î·Â²=âŸ¨ 5, 2, 3, 2, 4 âŸ©* represents the number of elements in
    each row. For example, when *i=3* and *j=2*, the component *k* would range *k=1,â€¦,
    22*, and so forth.
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™é‡Œï¼Œ*Î·Â¹=5*ï¼Œè€Œ *Î·Â²=âŸ¨ 5, 2, 3, 2, 4 âŸ©* è¡¨ç¤ºæ¯è¡Œä¸­çš„å…ƒç´ æ•°é‡ã€‚ä¾‹å¦‚ï¼Œå½“ *i=3* å’Œ *j=2* æ—¶ï¼Œç»„ä»¶ *k* çš„èŒƒå›´æ˜¯
    *k=1,â€¦, 22*ï¼Œä¾æ­¤ç±»æ¨ã€‚
- en: p-Cells; Outer and Inner Index Spaces
  id: totrans-39
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: p-å•å…ƒæ ¼ï¼›å¤–éƒ¨å’Œå†…éƒ¨ç´¢å¼•ç©ºé—´
- en: For any *p=1, â€¦, l*, a *p*-cell of a tableau *T* is a subtableau consisting
    of all units that share the first *p* components; i.e., an individual *p*-cell
    is specified by *Î¹â‚š = (iâ‚, â€¦, iâ‚š)*, which we shall denote *T_[iâ‚, â€¦, iâ‚š]*. In
    the context of experimentation, the *cells*, without reference to a *p*, are typically
    assumed to be the *penultimate cells* with *p=l-1*. A *p*-cell is a *q*-dimensional
    tableau, with *q=l-p*, indexed over the space
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: å¯¹äºä»»ä½• *p=1, â€¦, l*ï¼Œä¸€ä¸ªè¡¨æ ¼ *T* çš„ *p*-å•å…ƒæ ¼æ˜¯ä¸€ä¸ªå­è¡¨æ ¼ï¼ŒåŒ…å«æ‰€æœ‰å…±äº«å‰ *p* ä¸ªç»„ä»¶çš„å•å…ƒï¼›å³ï¼Œå•ä¸ª *p*-å•å…ƒæ ¼ç”± *Î¹â‚š
    = (iâ‚, â€¦, iâ‚š)* æŒ‡å®šï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸º *T_[iâ‚, â€¦, iâ‚š]*ã€‚åœ¨å®éªŒçš„èƒŒæ™¯ä¸‹ï¼Œ*cells*ï¼Œä¸å‚è€ƒ *p*ï¼Œé€šå¸¸è¢«å‡å®šä¸º *å€’æ•°ç¬¬äºŒå•å…ƒæ ¼*ï¼Œå…¶ä¸­
    *p=l-1*ã€‚ä¸€ä¸ª *p*-å•å…ƒæ ¼æ˜¯ä¸€ä¸ª *q*-ç»´è¡¨æ ¼ï¼Œ*q=l-p*ï¼Œåœ¨ç©ºé—´ä¸Šè¿›è¡Œç´¢å¼•ã€‚
- en: which we refer to as the *outer index space* at *Î¹â‚š*. The set of all *p*-cells
    is indexed by the *inner index space*
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬å°†å…¶ç§°ä¸º *å¤–éƒ¨ç´¢å¼•ç©ºé—´* åœ¨ *Î¹â‚š*ã€‚æ‰€æœ‰ *p*-å•å…ƒæ ¼çš„é›†åˆç”± *å†…éƒ¨ç´¢å¼•ç©ºé—´* è¿›è¡Œç´¢å¼•ã€‚
- en: where *Î â‚š* is the projection operator. In this way, for any *p*, we may *loosely*
    think of the index space as the *bundle structure*
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: å…¶ä¸­ *Î â‚š* æ˜¯æŠ•å½±ç®—å­ã€‚è¿™æ ·ï¼Œå¯¹äºä»»ä½• *p*ï¼Œæˆ‘ä»¬å¯ä»¥ *loosely* å°†ç´¢å¼•ç©ºé—´çœ‹ä½œ *bundle structure*
- en: 'where the fibers *I_[Î¹â‚š]* vary based on the location *Î¹â‚š* of the base. (*Note:
    I use the word* loosely*, as the fibers, though of the same dimension, are in
    general of different shape as we vary location in the base space, which is why
    they depend on Î¹â‚š*.)'
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: å…¶ä¸­ *I_[Î¹â‚š]* çš„çº¤ç»´æ ¹æ®åŸºç‚¹ *Î¹â‚š* çš„ä½ç½®è€Œå˜åŒ–ã€‚(*æ³¨æ„ï¼šæˆ‘ä½¿ç”¨è¿™ä¸ªè¯* loosely*ï¼Œå› ä¸ºè¿™äº›çº¤ç»´è™½ç„¶ç»´åº¦ç›¸åŒï¼Œä½†åœ¨åŸºç©ºé—´ä¸­ä½ç½®å˜åŒ–æ—¶å½¢çŠ¶é€šå¸¸ä¸åŒï¼Œè¿™å°±æ˜¯å®ƒä»¬ä¾èµ–äº
    Î¹â‚š* çš„åŸå› ã€‚)
- en: In continuing the example from the previous section, the cell at *(3,2)* would
    consist of the (unseen) 1-dimensional array of 22 components, whereas the cell
    at *(3,1)* would only contain 10 components. The inner space *Iâ‚‚* would consist
    of the 16 permutations of *(ij)* defined in the the shape tableau shown in the
    table.
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨ç»§ç»­å‰ä¸€èŠ‚çš„ä¾‹å­æ—¶ï¼Œ*(3,2)* å¤„çš„å•å…ƒå°†åŒ…å«æœªæ˜¾ç¤ºçš„ 22 ä¸ªç»„ä»¶çš„ä¸€ç»´æ•°ç»„ï¼Œè€Œ *(3,1)* å¤„çš„å•å…ƒä»…åŒ…å« 10 ä¸ªç»„ä»¶ã€‚å†…éƒ¨ç©ºé—´ *Iâ‚‚*
    åŒ…å«è¡¨ä¸­æ˜¾ç¤ºçš„ *(ij)* çš„ 16 ç§æ’åˆ—ã€‚
- en: 'Similarly, the 1-cell at *i=4* would consist of the 2-dimensional tableau indexed
    by the outer space at *i=4* given by {*1}* Ã— *{1,â€¦,5} âˆª {2} Ã— {1,â€¦,15}*. The inner
    space *Iâ‚* is just the enumeration of the rows: *Iâ‚={1,2,3,4,5}*.'
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: ç±»ä¼¼åœ°ï¼Œ*i=4* å¤„çš„ 1-å•å…ƒå°†æ˜¯ä¸€ä¸ª 2-ç»´è¡¨ï¼Œç”±å¤–éƒ¨ç©ºé—´ *i=4* ç´¢å¼•ï¼Œç»™å‡º {*1}* Ã— *{1,â€¦,5} âˆª {2} Ã— {1,â€¦,15}*ã€‚å†…éƒ¨ç©ºé—´
    *Iâ‚* åªæ˜¯è¡Œçš„æšä¸¾ï¼š*Iâ‚={1,2,3,4,5}*ã€‚
- en: Total and Partial Sums
  id: totrans-46
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: æ€»å’Œä¸éƒ¨åˆ†å’Œ
- en: The *total sum* of a tableau *T*, denoted *T*âˆ˜, is the sum of all its components.
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸€ä¸ªè¡¨ *T* çš„ *æ€»å’Œ*ï¼Œè®°ä½œ *T*âˆ˜ï¼Œæ˜¯å…¶æ‰€æœ‰ç»„ä»¶çš„æ€»å’Œã€‚
- en: The total sum of a given *p*-cell *(iâ‚â€¦iâ‚š)* is referred to as a *q*-partial
    sum of *T*, as it requires a total of *q=l-p* summations, and is defined by
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: ç»™å®šçš„ *p*-å•å…ƒ *(iâ‚â€¦iâ‚š)* çš„æ€»å’Œç§°ä¸º *q*-éƒ¨åˆ†å’Œçš„ *T*ï¼Œå› ä¸ºå®ƒéœ€è¦ *q=l-p* æ¬¡æ±‚å’Œï¼Œå¹¶ç”±ä»¥ä¸‹å®šä¹‰
- en: where the second equality holds whenever *T* is in standard form.
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: ç¬¬äºŒä¸ªç­‰å¼åœ¨ *T* å¤„äºæ ‡å‡†å½¢å¼æ—¶æˆç«‹ã€‚
- en: For a given *p*, we may therefore construct a *p*-tableau consisting of all
    *q*-partial sums of *T*, denoted by *âŠ•_q T* or *T_(q)*, such that the *Î¹â‚š* component
    is defined as
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: å› æ­¤ï¼Œå¯¹äºç»™å®šçš„ *p*ï¼Œæˆ‘ä»¬å¯ä»¥æ„é€ ä¸€ä¸ªç”±æ‰€æœ‰ *q*-éƒ¨åˆ†å’Œç»„æˆçš„ *p*-è¡¨ï¼Œç”¨ *âŠ•_q T* æˆ– *T_(q)* è¡¨ç¤ºï¼Œå…¶ä¸­ *Î¹â‚š* ç»„ä»¶è¢«å®šä¹‰ä¸º
- en: for all *Î¹â‚š âˆˆ I*.
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: å¯¹äºæ‰€æœ‰ *Î¹â‚š âˆˆ I*ã€‚
- en: 'In summary, for *p+q=l*:'
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: æ€»ç»“æ¥è¯´ï¼Œå¯¹äº *p+q=l*ï¼š
- en: a *p*-cell at *Î¹â‚š* is a *q*-dimensional subtableau *T_[Î¹â‚š]* defined over the
    outer index space *I[Î¹â‚š]*, for which the first *p* indices are held fixed; and
  id: totrans-53
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ä¸€ä¸ª *p*-å•å…ƒåœ¨ *Î¹â‚š* å¤„æ˜¯ä¸€ä¸ªå®šä¹‰åœ¨å¤–éƒ¨ç´¢å¼•ç©ºé—´ *I[Î¹â‚š]* ä¸Šçš„ *q*-ç»´å­è¡¨ *T_[Î¹â‚š]*ï¼Œå…¶ä¸­å‰ *p* ä¸ªç´¢å¼•ä¿æŒå›ºå®šï¼›å¹¶ä¸”
- en: the *q*th partial sum *âŠ•_qT* or *T_(q)* is a *p*-dimensional tableau defined
    on the inner index space *Iâ‚š*, as the total sum of the individual *p*-cells.
  id: totrans-54
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ç¬¬ *q* ä¸ªéƒ¨åˆ†å’Œ *âŠ•_qT* æˆ– *T_(q)* æ˜¯ä¸€ä¸ªå®šä¹‰åœ¨å†…éƒ¨ç´¢å¼•ç©ºé—´ *Iâ‚š* ä¸Šçš„ *p*-ç»´è¡¨ï¼Œä½œä¸ºå•ä¸ª *p*-å•å…ƒçš„æ€»å’Œã€‚
- en: In general, whenever we have an operator *ğ’ª* acting on a *p*-cell, it acts on
    the *q*-dimensional *outer index space* (i.e., the fibers), and the result varies
    over the *p*-dimensional *inner index space* (i.e., the base); so that, for instance,
    we would regard the quantity *ğ’ª(T_{[Î¹â‚š]})* as a *p*-tableau over *Iâ‚š*.
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: é€šå¸¸æƒ…å†µä¸‹ï¼Œæ¯å½“æˆ‘ä»¬æœ‰ä¸€ä¸ªæ“ä½œç¬¦ *ğ’ª* å¯¹ä¸€ä¸ª *p*-å•å…ƒè¿›è¡Œä½œç”¨æ—¶ï¼Œå®ƒä¼šä½œç”¨äº *q*-ç»´çš„ *å¤–éƒ¨ç´¢å¼•ç©ºé—´*ï¼ˆå³ï¼Œçº¤ç»´ï¼‰ï¼Œè€Œç»“æœåˆ™åœ¨ *p*-ç»´çš„
    *å†…éƒ¨ç´¢å¼•ç©ºé—´*ï¼ˆå³ï¼ŒåŸºï¼‰ä¸­å˜åŒ–ï¼›ä¾‹å¦‚ï¼Œæˆ‘ä»¬ä¼šå°†é‡ *ğ’ª(T_{[Î¹â‚š]})* è§†ä½œ *Iâ‚š* ä¸Šçš„ *p*-è¡¨ã€‚
- en: Unity Tableaus and Counts
  id: totrans-56
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: å•ä½è¡¨å’Œè®¡æ•°
- en: 'A *unity tableau* is a constant tableau with value 1\. Given a tableau *T*,
    its associated unity tableau *U* is just a unity tableau with the same shape.
    The partial sums of *U* are the counts of the corresponding *p*-cells:'
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸€ä¸ª *å•ä½è¡¨* æ˜¯ä¸€ä¸ªå¸¸æ•°è¡¨ï¼Œå€¼ä¸º 1ã€‚ç»™å®šä¸€ä¸ªè¡¨ *T*ï¼Œå…¶å…³è”çš„å•ä½è¡¨ *U* åªæ˜¯ä¸€ä¸ªå…·æœ‰ç›¸åŒå½¢çŠ¶çš„å•ä½è¡¨ã€‚*U* çš„éƒ¨åˆ†å’Œæ˜¯å¯¹åº”çš„ *p*-å•å…ƒçš„è®¡æ•°ï¼š
- en: We will refer to this tableau as *náµ–* when we wish to refer to it in invariant
    form.
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: å½“æˆ‘ä»¬å¸Œæœ›ä»¥ä¸å˜å½¢å¼å¼•ç”¨æ­¤è¡¨æ—¶ï¼Œæˆ‘ä»¬å°†å…¶ç§°ä¸º *náµ–*ã€‚
- en: Average and Variance
  id: totrans-59
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: å¹³å‡å€¼å’Œæ–¹å·®
- en: For any tableau *T* with *n=|T|* components, we may define its average as
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: å¯¹äºä»»ä½•å…·æœ‰ *n=|T|* ç»„ä»¶çš„è¡¨ *T*ï¼Œæˆ‘ä»¬å¯ä»¥å°†å…¶å¹³å‡å€¼å®šä¹‰ä¸º
- en: and its weighted average as
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: åŠå…¶åŠ æƒå¹³å‡å€¼ä¸º
- en: 'Note that the *squares* *(T â€” Î¼(T))Â²* constitute a tableau with the same shape
    as *T*. We therefore define the following *sums of squares*:'
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: æ³¨æ„ï¼Œ*å¹³æ–¹* *(T â€” Î¼(T))Â²* å½¢æˆäº†ä¸€ä¸ªä¸ *T* å…·æœ‰ç›¸åŒå½¢çŠ¶çš„è¡¨ã€‚å› æ­¤ï¼Œæˆ‘ä»¬å®šä¹‰ä»¥ä¸‹ *å¹³æ–¹å’Œ*ï¼š
- en: '(standard and weighted; note that, unlike in the definition of the weighted
    average, weights here are *not* automatically normalized). And, finally, the sample
    variance and variance:'
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: ï¼ˆæ ‡å‡†å’ŒåŠ æƒï¼›è¯·æ³¨æ„ï¼Œä¸åŠ æƒå¹³å‡çš„å®šä¹‰ä¸åŒï¼Œè¿™é‡Œçš„æƒé‡*ä¸æ˜¯*è‡ªåŠ¨å½’ä¸€åŒ–çš„ï¼‰ã€‚æœ€åï¼Œæ ·æœ¬æ–¹å·®å’Œæ–¹å·®ï¼š
- en: When applying any of these operations to individual *p*-cells, we think of the
    *p*-cell as fixed, for the purpose of the operation, but then allow the *p*-cell
    to vary through *Iâ‚š* once the operation is complete. For instance, *SS(T_[iâ‚ â€¦
    iâ‚š])* should be regarded as a *p*-tableau over the inner space *Iâ‚š*, though the
    actual sum-of-squares operations are carried out over the individual outer spaces
    *I_[iâ‚â€¦iâ‚š]*.
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: å½“å¯¹å•ç‹¬çš„ *p*-å•å…ƒåº”ç”¨è¿™äº›æ“ä½œæ—¶ï¼Œæˆ‘ä»¬å°† *p*-å•å…ƒè§†ä¸ºå›ºå®šï¼Œä½œä¸ºæ“ä½œçš„ç›®çš„ï¼Œä½†åœ¨æ“ä½œå®Œæˆåå…è®¸ *p*-å•å…ƒé€šè¿‡ *Iâ‚š* å˜åŒ–ã€‚ä¾‹å¦‚ï¼Œ*SS(T_[iâ‚
    â€¦ iâ‚š])* åº”è¢«è§†ä¸ºåœ¨å†…éƒ¨ç©ºé—´ *Iâ‚š* ä¸Šçš„ *p*-è¡¨ï¼Œå°½ç®¡å®é™…çš„å¹³æ–¹å’Œæ“ä½œæ˜¯åœ¨å•ä¸ªå¤–éƒ¨ç©ºé—´ *I_[iâ‚â€¦iâ‚š]* ä¸Šè¿›è¡Œçš„ã€‚
- en: 'Addition and Multiplication of Tableaus: Special Cases'
  id: totrans-65
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: è¡¨çš„åŠ æ³•å’Œä¹˜æ³•ï¼šç‰¹æ®Šæƒ…å†µ
- en: Addition and multiplication are typically defined componentwise (which, in the
    special case of matrices, reduces to matrix sums and Hadamard products). There
    are, however, two special cases.
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: åŠ æ³•å’Œä¹˜æ³•é€šå¸¸æŒ‰ç»„ä»¶å®šä¹‰ï¼ˆåœ¨ç‰¹æ®Šçš„çŸ©é˜µæƒ…å†µä¸‹ï¼Œå‡å°‘ä¸ºçŸ©é˜µå’ŒåŠ Hadamard ä¹˜ç§¯ï¼‰ã€‚ç„¶è€Œï¼Œæœ‰ä¸¤ä¸ªç‰¹æ®Šæƒ…å†µã€‚
- en: Consider two tableaus *T* and *S*, with index spaces *I_T* and *I_S*. Then the
    *outer sum T+S* is defined over the union index space *I_T âˆª I_S*, using the convention
    that *x +* **null** *= x.*
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: è€ƒè™‘ä¸¤ä¸ª tableaus *T* å’Œ *S*ï¼Œå®ƒä»¬çš„ç´¢å¼•ç©ºé—´åˆ†åˆ«ä¸º *I_T* å’Œ *I_S*ã€‚é‚£ä¹ˆ *å¤–éƒ¨å’Œ T+S* åœ¨è”åˆç´¢å¼•ç©ºé—´ *I_T âˆª
    I_S* ä¸Šå®šä¹‰ï¼Œé‡‡ç”¨çš„çº¦å®šæ˜¯ *x +* **null** *= x*ã€‚
- en: 'If *A* is a *p*-tableau defined over the inner index space *Iâ‚š* of a second
    tableau *T*, of greater dimension, then the (outer-cast) product *AT* is defined
    in the natural way:'
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: å¦‚æœ *A* æ˜¯åœ¨ä¸€ä¸ªæ›´é«˜ç»´åº¦çš„ç¬¬äºŒä¸ª tableau *T* çš„å†…éƒ¨ç´¢å¼•ç©ºé—´ *Iâ‚š* ä¸Šå®šä¹‰çš„ *p*-tableauï¼Œé‚£ä¹ˆ (å¤–éƒ¨æŠ•å½±) ä¹˜ç§¯ *AT*
    æŒ‰è‡ªç„¶æ–¹å¼å®šä¹‰ï¼š
- en: i.e., the tableau *A* is â€œcastâ€ to the higher space, and then multiplication
    is carried out componentwise. (This will be useful in the context of cluster randomization,
    where the assignment is done at the cluster level, and thus represents a lower-dimensional
    tableau than the full response tableau.)
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: å³ï¼Œtableau *A* è¢«â€œæŠ•å°„â€åˆ°æ›´é«˜çš„ç©ºé—´ï¼Œç„¶åæŒ‰ç»„ä»¶è¿›è¡Œä¹˜æ³•ã€‚ï¼ˆè¿™åœ¨ç¾¤ä½“éšæœºåŒ–çš„èƒŒæ™¯ä¸‹ä¼šå¾ˆæœ‰ç”¨ï¼Œå› ä¸ºåˆ†é…æ˜¯åœ¨ç¾¤ä½“çº§åˆ«è¿›è¡Œçš„ï¼Œå› æ­¤è¡¨ç¤ºä¸€ä¸ªæ¯”å®Œæ•´å“åº”
    tableau æ›´ä½ç»´åº¦çš„ tableauã€‚ï¼‰
- en: Masks
  id: totrans-70
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: æ©ç 
- en: A *mask M* of a tableau *T* is a binary tableau of the same shape, or the shape
    of any inner index space. Its complement is also a mask, defined by *Má¶œ=1-M =
    Â¬M*.
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: tableau *T* çš„ *æ©ç  M* æ˜¯å…·æœ‰ç›¸åŒå½¢çŠ¶çš„äºŒè¿›åˆ¶ tableauï¼Œæˆ–ä»»ä½•å†…éƒ¨ç´¢å¼•ç©ºé—´çš„å½¢çŠ¶ã€‚å…¶è¡¥é›†ä¹Ÿæ˜¯ä¸€ä¸ªæ©ç ï¼Œç”± *Má¶œ=1-M =
    Â¬M* å®šä¹‰ã€‚
- en: A mask and its complement sum to the unity tableau and therefore create a partition.
    In general, we say that the set of masks *{Mâ‚, â€¦, Mâ‚˜}* forms a partition of *I*
    if *Mâ‚+â€¦+Mâ‚˜ = U*, where *U* is the unity tableau over *I*. (Notice the use of
    the *outer sum*, as the masks are defined over mutually exclusive subsets of the
    index space.)
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸€ä¸ªæ©ç åŠå…¶è¡¥é›†çš„å’Œæ„æˆå•ä½ tableauï¼Œä»è€Œåˆ›å»ºä¸€ä¸ªåˆ†åŒºã€‚ä¸€èˆ¬æ¥è¯´ï¼Œå¦‚æœ *{Mâ‚, â€¦, Mâ‚˜}* å½¢æˆ *I* çš„ä¸€ä¸ªåˆ†åŒºï¼Œå½“ä¸”ä»…å½“ *Mâ‚+â€¦+Mâ‚˜
    = U*ï¼Œå…¶ä¸­ *U* æ˜¯ *I* ä¸Šçš„å•ä½ tableauã€‚ï¼ˆæ³¨æ„ä½¿ç”¨*å¤–éƒ¨å’Œ*ï¼Œå› ä¸ºæ©ç å®šä¹‰åœ¨ç´¢å¼•ç©ºé—´çš„äº’æ–¥å­é›†ä¸Šã€‚ï¼‰
- en: The *masked tableau* *MT* (alternatively *T[M]*) is the subtableau of *T* formed
    by restricting the index space to the set
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: '*æ©ç  tableau* *MT*ï¼ˆä¹Ÿå¯å†™ä½œ *T[M]*ï¼‰æ˜¯é€šè¿‡å°†ç´¢å¼•ç©ºé—´é™åˆ¶ä¸ºé›†åˆå½¢æˆçš„ *T* çš„å­tableau'
- en: 'Unlike componentwise multiplication, the magnitude of a masked tableau is not
    the magnitude of the original tableau, but the magnitude of the reduced space,
    which is equivalent to the total sum of the mask: *|MT| = Mâˆ˜*.'
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸é€é¡¹ä¹˜æ³•ä¸åŒï¼Œæ©ç  tableau çš„å¤§å°ä¸æ˜¯åŸå§‹ tableau çš„å¤§å°ï¼Œè€Œæ˜¯ç¼©å‡ç©ºé—´çš„å¤§å°ï¼Œè¿™ç­‰åŒäºæ©ç çš„æ€»å’Œï¼š*|MT| = Mâˆ˜*ã€‚
- en: '*Note: in our definition, the Truth values of a mask select the â€œactiveâ€ components
    of the underlying tableau, which is the opposite convention used in numpy masked
    arrays*.'
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
  zh: '*æ³¨æ„ï¼šåœ¨æˆ‘ä»¬çš„å®šä¹‰ä¸­ï¼Œæ©ç çš„çœŸå€¼é€‰æ‹©äº†åº•å±‚ tableau çš„â€œæ´»åŠ¨â€ç»„ä»¶ï¼Œè¿™ä¸ numpy æ©ç æ•°ç»„ä½¿ç”¨çš„ç›¸åçº¦å®šä¸åŒ*ã€‚'
- en: Tableau Notation for Experiments
  id: totrans-76
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: Tableau è¯•éªŒçš„è®°å·
- en: In relation to experiments,
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
  zh: å…³äºå®éªŒï¼Œ
- en: experimental design consists of determining a shape *Î·* and randomization procedure
    for selecting an assignment mechanism *Z*, often constrained by its fixed partial
    sums, which we will denote using *a*;
  id: totrans-78
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: å®éªŒè®¾è®¡åŒ…æ‹¬ç¡®å®šå½¢çŠ¶ *Î·* å’Œé€‰æ‹©åˆ†é…æœºåˆ¶ *Z* çš„éšæœºåŒ–ç¨‹åºï¼Œé€šå¸¸ç”±å…¶å›ºå®šçš„éƒ¨åˆ†å’Œçº¦æŸï¼Œæˆ‘ä»¬å°†ç”¨ *a* è¡¨ç¤ºï¼›
- en: the responses of individual units are stored in a tableau *Y* with shape *Î·*;
    and
  id: totrans-79
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: å„ä¸ªå•å…ƒçš„ååº”å­˜å‚¨åœ¨å½¢çŠ¶ä¸º *Î·* çš„ tableau *Y* ä¸­ï¼›ä»¥åŠ
- en: the assignment mechanism *Z* is a mask over *Y*.
  id: totrans-80
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: åˆ†é…æœºåˆ¶ *Z* æ˜¯ *Y* ä¸Šçš„ä¸€ä¸ªæ©ç ã€‚
- en: If we consider the *potential outcomes* Y(1)=Y(Z=1) and Y(0)=Y(Z=0), the actual
    response is given by
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: å¦‚æœæˆ‘ä»¬è€ƒè™‘ *æ½œåœ¨ç»“æœ* Y(1)=Y(Z=1) å’Œ Y(0)=Y(Z=0)ï¼Œå®é™…ååº”ç”±ä¸‹å¼ç»™å‡º
- en: '*Y = ZY(1) + (1-Z)Y(0).*'
  id: totrans-82
  prefs: []
  type: TYPE_NORMAL
  zh: '*Y = ZY(1) + (1-Z)Y(0)ã€‚*'
- en: 'Notice the difference in interpretation provided here: *ZY(1)* and *(1-Z)Y(0)*
    are the *masked* potential outcomes, and are therefore defined on their corresponding
    non-overlapping subtableaus.'
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
  zh: æ³¨æ„è¿™é‡Œæä¾›çš„è§£é‡Šå·®å¼‚ï¼š*ZY(1)* å’Œ *(1-Z)Y(0)* æ˜¯ *æ©ç * æ½œåœ¨ç»“æœï¼Œå› æ­¤å®ƒä»¬åœ¨å„è‡ªä¸é‡å çš„å­tableaux ä¸Šå®šä¹‰ã€‚
- en: 'In general, the goal of experimentation is to estimate the *total treatment
    effect* (which I will refer to as either *Î”* or *Ï„*):'
  id: totrans-84
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸€èˆ¬æ¥è¯´ï¼Œå®éªŒçš„ç›®æ ‡æ˜¯ä¼°è®¡ *æ€»å¤„ç†æ•ˆåº”*ï¼ˆæˆ‘å°†ç§°ä¹‹ä¸º *Î”* æˆ– *Ï„*ï¼‰ï¼š
- en: This is, however, unobservable, as we may only know the response under treatment
    or the response under control for any single experimental unit.
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: ç„¶è€Œï¼Œè¿™ç§æƒ…å†µæ˜¯ä¸å¯è§‚å¯Ÿçš„ï¼Œå› ä¸ºæˆ‘ä»¬åªèƒ½çŸ¥é“ä»»ä½•å•ä¸€å®éªŒå•å…ƒä¸‹çš„å¤„ç†ååº”æˆ–å¯¹ç…§ååº”ã€‚
- en: For multi-level experiments with *m* possible treatment assignments (including
    control), we instead let *Z* be a *categorical tableau*, with categories enumerated
    *1, â€¦, m*, and then define the set of masks
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
  zh: å¯¹äºå…·æœ‰ *m* ç§å¯èƒ½å¤„ç†åˆ†é…ï¼ˆåŒ…æ‹¬å¯¹ç…§ï¼‰çš„å¤šçº§å®éªŒï¼Œæˆ‘ä»¬è®© *Z* ä¸ºä¸€ä¸ª *åˆ†ç±»è¡¨æ ¼*ï¼Œå…¶ä¸­ç±»åˆ«ç¼–å·ä¸º *1, â€¦, m*ï¼Œç„¶åå®šä¹‰æ©ç é›†
- en: for *z=1,â€¦, m*, such that we may express the potential outcomes formula as
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
  zh: å¯¹äº *z=1,â€¦, m*ï¼Œæˆ‘ä»¬å¯ä»¥å°†æ½œåœ¨ç»“æœå…¬å¼è¡¨ç¤ºä¸º
- en: Completely Randomized Design
  id: totrans-88
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: å®Œå…¨éšæœºè®¾è®¡
- en: In a completely randomized design, we consider a set of *n* units, of which
    we will randomly assign *a* to the treatment group. The response *Y* is a 1-dimensional
    tableau ranging *i=1,â€¦, n*, and the assignment mechanism *Z* is a 1-dimensional
    mask of the same size, chosen at random from the space *ğ”¹â¿*, subject to the constraint
    *||Z||â‚ = a*. If we define the masked tableaus for treatment and control as
  id: totrans-89
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨å®Œå…¨éšæœºè®¾è®¡ä¸­ï¼Œæˆ‘ä»¬è€ƒè™‘ä¸€ç»„ *n* å•å…ƒï¼Œå…¶ä¸­æˆ‘ä»¬å°†éšæœºåˆ†é… *a* åˆ°å¤„ç†ç»„ã€‚å“åº” *Y* æ˜¯ä¸€ä¸ªèŒƒå›´ä¸º *i=1,â€¦, n* çš„ä¸€ç»´è¡¨æ ¼ï¼Œåˆ†é…æœºåˆ¶
    *Z* æ˜¯ä¸€ä¸ªç›¸åŒå¤§å°çš„ä¸€ç»´æ©ç ï¼Œä»ç©ºé—´ *ğ”¹â¿* éšæœºé€‰æ‹©ï¼Œæ»¡è¶³çº¦æŸ *||Z||â‚ = a*ã€‚å¦‚æœæˆ‘ä»¬å®šä¹‰å¤„ç†å’Œå¯¹ç…§çš„æ©ç è¡¨æ ¼ä¸º
- en: 'we may express the classic *difference-in-means estimator* as:'
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬å¯ä»¥å°†ç»å…¸çš„ *å‡å€¼å·®å¼‚ä¼°è®¡é‡* è¡¨ç¤ºä¸ºï¼š
- en: Note our interpretation of *Yáµ—* and *Yá¶œ* as subtableaus of the response tableau.
    Thus, the treatment and control averages may be expressed in index notation as
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
  zh: æ³¨æ„æˆ‘ä»¬å¯¹ *Yáµ—* å’Œ *Yá¶œ* çš„è§£é‡Šä¸ºå“åº”è¡¨æ ¼çš„å­è¡¨æ ¼ã€‚å› æ­¤ï¼Œå¤„ç†å’Œå¯¹ç…§å¹³å‡å€¼å¯ä»¥ç”¨ç´¢å¼•ç¬¦å·è¡¨ç¤ºä¸º
- en: Because of our interpretation of *ZY* as a masked tableau, we divide by *a=Zâˆ˜*,
    the number of treatment units, and not *n*; similarly for *(1-Z)Y*.
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: ç”±äºæˆ‘ä»¬å°† *ZY* è§£é‡Šä¸ºæ©ç è¡¨æ ¼ï¼Œæˆ‘ä»¬é™¤ä»¥ *a=Zâˆ˜*ï¼Œå³å¤„ç†å•å…ƒçš„æ•°é‡ï¼Œè€Œä¸æ˜¯ *n*ï¼›å¯¹ *(1-Z)Y* ä¹Ÿæ˜¯ç±»ä¼¼ã€‚
- en: The *T* statistic is defined by
  id: totrans-93
  prefs: []
  type: TYPE_NORMAL
  zh: '*T* ç»Ÿè®¡é‡å®šä¹‰ä¸º'
- en: where the within-group mean squared error is defined by
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: å…¶ä¸­ç»„å†…å‡æ–¹è¯¯å·®å®šä¹‰ä¸º
- en: Note we are just applying the sum-of-squares operator over the treatment and
    control subtableaus obtained by the assignment mask and its complement. In coordinates,
    this is may be expressed as
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
  zh: æ³¨æ„ï¼Œæˆ‘ä»¬åªæ˜¯å¯¹é€šè¿‡åˆ†é…æ©ç åŠå…¶è¡¥å……è·å¾—çš„å¤„ç†å’Œå¯¹ç…§å­è¡¨æ ¼åº”ç”¨å¹³æ–¹å’Œæ“ä½œã€‚åœ¨åæ ‡ä¸­ï¼Œè¿™å¯ä»¥è¡¨è¾¾ä¸º
- en: Under the null hypothesis of no effect, the test statistic *T* is distributed
    as a *t* distribution with *n-2* degrees of freedom.
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨æ— æ•ˆå‡è®¾ä¸‹ï¼Œæ£€éªŒç»Ÿè®¡é‡ *T* æœä»è‡ªç”±åº¦ä¸º *n-2* çš„ *t* åˆ†å¸ƒã€‚
- en: Block-Randomized Design
  id: totrans-97
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: å—éšæœºè®¾è®¡
- en: In a block-randomized design, we first partition the experimental units into
    a collection of *s* strata. We then index the units by *(ij)*, where *i=1,â€¦,s*
    refers to the stratum and *j=1,â€¦,náµ¢* refers to the *j*th element in the *i*th
    stratum. Next, we impose the constraint that we will randomly assign *aáµ¢* units
    to treatment for the *i*th stratum, subject to the *balancing property*, which
    requires each stratum to contain the same fraction of treatment units; i.e., the
    propensity *Ï€áµ¢=aáµ¢/náµ¢* is independent of *i*. (This is necessary for the difference-in-means
    estimator, as defined above, to be unbiased.)
  id: totrans-98
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨å—éšæœºè®¾è®¡ä¸­ï¼Œæˆ‘ä»¬é¦–å…ˆå°†å®éªŒå•å…ƒåˆ’åˆ†ä¸º *s* ä¸ªå±‚æ¬¡ã€‚ç„¶åï¼Œæˆ‘ä»¬é€šè¿‡ *(ij)* ç´¢å¼•è¿™äº›å•å…ƒï¼Œå…¶ä¸­ *i=1,â€¦,s* è¡¨ç¤ºå±‚æ¬¡ï¼Œ*j=1,â€¦,náµ¢*
    è¡¨ç¤ºç¬¬ *i* ä¸ªå±‚æ¬¡ä¸­çš„ç¬¬ *j* ä¸ªå…ƒç´ ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬æ–½åŠ çº¦æŸï¼Œéšæœºåˆ†é… *aáµ¢* å•å…ƒåˆ°ç¬¬ *i* ä¸ªå±‚æ¬¡çš„å¤„ç†ç»„ï¼Œæ»¡è¶³ *å¹³è¡¡å±æ€§*ï¼Œè¦æ±‚æ¯ä¸ªå±‚æ¬¡åŒ…å«ç›¸åŒæ¯”ä¾‹çš„å¤„ç†å•å…ƒï¼›å³ï¼Œå€¾å‘
    *Ï€áµ¢=aáµ¢/náµ¢* ä¸ *i* ç‹¬ç«‹ã€‚ï¼ˆè¿™å¯¹äºä¸Šè¿°å®šä¹‰çš„å‡å€¼å·®å¼‚ä¼°è®¡é‡æ˜¯æ— åçš„ã€‚ï¼‰
- en: Our arrangement of units defines an *l*-shape *Î·=âŸ¨s, náµ¢âŸ©*, and so our assignment
    mechanism *Z* is chosen at random over two dimensional tableaus with shape *Î·*,
    subject to the constraint that *aáµ¢=Záµ¢âˆ˜= Ï€ náµ¢* are fixed.
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬çš„å•å…ƒå®‰æ’å®šä¹‰äº†ä¸€ä¸ª *l*-å½¢ *Î·=âŸ¨s, náµ¢âŸ©*ï¼Œå› æ­¤æˆ‘ä»¬çš„åˆ†é…æœºåˆ¶ *Z* æ˜¯åœ¨å½¢çŠ¶ä¸º *Î·* çš„äºŒç»´è¡¨æ ¼ä¸Šéšæœºé€‰æ‹©çš„ï¼Œæ»¡è¶³ *aáµ¢=Záµ¢âˆ˜=
    Ï€ náµ¢* æ˜¯å›ºå®šçš„ã€‚
- en: The formula for the *T*-statistic is unchanged, except now the treatment and
    control averages are given by
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
  zh: '*T* ç»Ÿè®¡é‡çš„å…¬å¼ä¿æŒä¸å˜ï¼Œåªæ˜¯ç°åœ¨å¤„ç†å’Œå¯¹ç…§çš„å¹³å‡å€¼ç”±ä»¥ä¸‹ç»™å‡º'
- en: and the MSW is given by
  id: totrans-101
  prefs: []
  type: TYPE_NORMAL
  zh: MSW ç”±ä»¥ä¸‹ç»™å‡º
- en: Note that the sum of squares operate on the 1-cells, fixed for each stratum,
    and masked by the assignment mechanism (treatment) or its complement (control).
    In index notation, this is equivalent to
  id: totrans-102
  prefs: []
  type: TYPE_NORMAL
  zh: æ³¨æ„ï¼Œå¹³æ–¹å’Œæ“ä½œä½œç”¨äº1-å•å…ƒï¼Œåœ¨æ¯ä¸ªå±‚æ¬¡ä¸Šå›ºå®šï¼Œå¹¶è¢«åˆ†é…æœºåˆ¶ï¼ˆå¤„ç†ï¼‰æˆ–å…¶è¡¥å……ï¼ˆå¯¹ç…§ï¼‰æ©ç›–ã€‚åœ¨ç´¢å¼•ç¬¦å·ä¸­ï¼Œè¿™ç­‰ä»·äº
- en: 'The treatment and control stratum averages are defined in the obvious way:'
  id: totrans-103
  prefs: []
  type: TYPE_NORMAL
  zh: å¤„ç†å’Œå¯¹ç…§å±‚æ¬¡çš„å¹³å‡å€¼ä»¥æ˜æ˜¾çš„æ–¹å¼å®šä¹‰ï¼š
- en: 'Note what we mentioned before: the operation of averaging is carried out over
    the *outer index space*, as it is acting on the 1-cells at *i*. The result is
    then free to vary over the *inner index space*, defined by *I_1={1, â€¦, s}.*'
  id: totrans-104
  prefs: []
  type: TYPE_NORMAL
  zh: æ³¨æ„æˆ‘ä»¬ä¹‹å‰æåˆ°çš„ï¼šå¹³å‡æ“ä½œåœ¨ *å¤–éƒ¨ç´¢å¼•ç©ºé—´* ä¸Šè¿›è¡Œï¼Œå› ä¸ºå®ƒä½œç”¨äº *i* çš„ 1-å•å…ƒã€‚ç»“æœå¯ä»¥åœ¨ *å†…éƒ¨ç´¢å¼•ç©ºé—´* ä¸Šå˜åŒ–ï¼Œç”± *I_1={1,
    â€¦, s}* å®šä¹‰ã€‚
- en: Under the null hypothesis of no effect, the test statistic *T* is distributed
    as a *t*-distribution with *n-2s* degrees of freedom.
  id: totrans-105
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨æ— æ•ˆå‡è®¾ä¸‹ï¼Œæµ‹è¯•ç»Ÿè®¡é‡*T*çš„åˆ†å¸ƒä¸ºå…·æœ‰*n-2s*è‡ªç”±åº¦çš„*t*åˆ†å¸ƒã€‚
- en: The Adjustment Formula
  id: totrans-106
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: è°ƒæ•´å…¬å¼
- en: 'When the *balancing property* does not hold, which is often the case in observational
    studies (*natural experiments*), we replace the difference-in-means estimator
    defined above with the *adjustment formula*:'
  id: totrans-107
  prefs: []
  type: TYPE_NORMAL
  zh: å½“*å¹³è¡¡å±æ€§*ä¸æˆç«‹æ—¶ï¼Œè¿™åœ¨è§‚å¯Ÿæ€§ç ”ç©¶ï¼ˆ*è‡ªç„¶å®éªŒ*ï¼‰ä¸­å¸¸è§ï¼Œæˆ‘ä»¬ç”¨*è°ƒæ•´å…¬å¼*æ›¿ä»£ä¸Šè¿°å®šä¹‰çš„å‡å€¼å·®å¼‚ä¼°è®¡é‡ï¼š
- en: The adjustment formula is obtained by taking the *weighted* average of each
    stratumâ€™s observed classic *difference-in-means* estimator, using the number *náµ¢*
    of units in each stratum as weights.
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
  zh: è°ƒæ•´å…¬å¼æ˜¯é€šè¿‡å–æ¯ä¸ªå±‚æ¬¡è§‚å¯Ÿåˆ°çš„ç»å…¸*å‡å€¼å·®å¼‚*ä¼°è®¡é‡çš„*åŠ æƒ*å¹³å‡æ¥è·å¾—çš„ï¼Œä½¿ç”¨æ¯ä¸ªå±‚æ¬¡ä¸­å•ä½æ•°*náµ¢*ä½œä¸ºæƒé‡ã€‚
- en: Cluster-Randomized Design
  id: totrans-109
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: é›†ç¾¤éšæœºåŒ–è®¾è®¡
- en: Cluster-randomization is similar to block design, except the assignment is done
    *at the cluster level*, not at individual unit level within each stratum. This
    is common in quasi-experiments, where individual level randomization is impractical
    or impossible; for example, with *out-of-home (OOH)* marketing efforts, where
    randomization may be conducted at the *city* level.
  id: totrans-110
  prefs: []
  type: TYPE_NORMAL
  zh: é›†ç¾¤éšæœºåŒ–ç±»ä¼¼äºåŒºç»„è®¾è®¡ï¼Œåªä¸è¿‡åˆ†é…æ˜¯åœ¨*é›†ç¾¤çº§åˆ«*è¿›è¡Œçš„ï¼Œè€Œä¸æ˜¯åœ¨æ¯ä¸ªå±‚æ¬¡å†…çš„å•ç‹¬å•ä½çº§åˆ«ã€‚è¿™åœ¨å‡†å®éªŒä¸­å¾ˆå¸¸è§ï¼Œå½“ä¸ªä½“çº§åˆ«çš„éšæœºåŒ–ä¸åˆ‡å®é™…æˆ–ä¸å¯èƒ½æ—¶ï¼›ä¾‹å¦‚ï¼Œåœ¨*æˆ·å¤–ï¼ˆOOHï¼‰*å¸‚åœºæ¨å¹¿æ´»åŠ¨ä¸­ï¼ŒéšæœºåŒ–å¯èƒ½åœ¨*åŸå¸‚*çº§åˆ«è¿›è¡Œã€‚
- en: In this case, our response is a 2-tableau *Y*, ranging *i=1,â€¦, c* and *j=1,â€¦,
    náµ¢*, where there are *náµ¢* units in the *i*th cluster, for each of *c* clusters.
  id: totrans-111
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬çš„å“åº”æ˜¯ä¸€ä¸ª2ç»´è¡¨æ ¼*Y*ï¼ŒèŒƒå›´ä¸º*i=1,â€¦, c*å’Œ*j=1,â€¦, náµ¢*ï¼Œå…¶ä¸­*i*ä¸ªé›†ç¾¤ä¸­æœ‰*náµ¢*ä¸ªå•ä½ï¼Œæ¯ä¸ª*c*ä¸ªé›†ç¾¤ã€‚
- en: The assignment mechanism, however, is a 1-tableau *Z,* defined at random over
    the innder index space *Iâ‚={1,â€¦,c}*, subject to the constraint *||Z||â‚=a.* Note
    the importance of the â€œouter-castâ€ multiplication rule, as our masked responses
    can still be described by *Yáµ— = ZY* and *Yá¶œ = (1-Z)Y*. Note also that the variable
    *a=Zâˆ˜* represents the total *number of clusters* assigned to the treatment group.
    This is logical, as the treatment units are the *clusters*, not the individuals.
    The estimator for the total treatment effect is then given in its invariant form
    by
  id: totrans-112
  prefs: []
  type: TYPE_NORMAL
  zh: ç„¶è€Œï¼Œåˆ†é…æœºåˆ¶æ˜¯ä¸€ä¸ª1ç»´è¡¨æ ¼*Z*ï¼Œåœ¨å†…ç´¢å¼•ç©ºé—´*Iâ‚={1,â€¦,c}*ä¸Šéšæœºå®šä¹‰ï¼Œå—çº¦æŸ*||Z||â‚=a*ã€‚æ³¨æ„â€œå¤–éƒ¨ä¹˜æ³•â€è§„åˆ™çš„é‡è¦æ€§ï¼Œå› ä¸ºæˆ‘ä»¬çš„æ©è”½å“åº”ä»ç„¶å¯ä»¥é€šè¿‡*Yáµ—
    = ZY*å’Œ*Yá¶œ = (1-Z)Y*æ¥æè¿°ã€‚è¿˜è¦æ³¨æ„ï¼Œå˜é‡*a=Zâˆ˜*è¡¨ç¤ºåˆ†é…åˆ°æ²»ç–—ç»„çš„*é›†ç¾¤æ€»æ•°*ã€‚è¿™æ˜¯åˆç†çš„ï¼Œå› ä¸ºæ²»ç–—å•ä½æ˜¯*é›†ç¾¤*ï¼Œè€Œä¸æ˜¯ä¸ªä½“ã€‚æ€»ä½“æ²»ç–—æ•ˆæœçš„ä¼°è®¡é‡ä»¥å…¶ä¸å˜å½¢å¼ç»™å‡º
- en: Note the partial sums are carried out first, followed by averaging over the
    treatment and control clusters. (The version on the right may seem more intuitive
    here, though the left is the â€œmostâ€ invariant form.)
  id: totrans-113
  prefs: []
  type: TYPE_NORMAL
  zh: æ³¨æ„ï¼Œéƒ¨åˆ†å’Œé¦–å…ˆè®¡ç®—ï¼Œç„¶ååœ¨æ²»ç–—å’Œå¯¹ç…§é›†ç¾¤ä¹‹é—´å¹³å‡ã€‚ï¼ˆå³ä¾§ç‰ˆæœ¬åœ¨è¿™é‡Œå¯èƒ½æ›´ç›´è§‚ï¼Œå°½ç®¡å·¦ä¾§æ˜¯â€œæœ€â€ä¸å˜å½¢å¼ã€‚ï¼‰
- en: This is just an application of the Thompson-Horwitz estimator, using propensities
    *a/c* for the treatment clusters and *(a-c)/a* for the control clusters. In index
    notation, this is equivalent to
  id: totrans-114
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™åªæ˜¯ä½¿ç”¨æ²»ç–—é›†ç¾¤çš„*a/c*å€¾å‘å’Œå¯¹ç…§é›†ç¾¤çš„*(a-c)/a*å€¾å‘çš„æ±¤æ™®æ£®-éœç»´èŒ¨ä¼°è®¡é‡çš„ä¸€ä¸ªåº”ç”¨ã€‚åœ¨ç´¢å¼•ç¬¦å·ä¸­ï¼Œè¿™ç­‰åŒäº
- en: Block-Cluster Randomized Design
  id: totrans-115
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: åŒºç»„é›†ç¾¤éšæœºåŒ–è®¾è®¡
- en: In a block-cluster design, the clusters are first grouped into strata. This
    may be useful, for example, in grouping similarly sized cities together within
    a country, to ensure there is balance in the treatment assignment.
  id: totrans-116
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨åŒºç»„-é›†ç¾¤è®¾è®¡ä¸­ï¼Œé›†ç¾¤é¦–å…ˆè¢«åˆ†ç»„åˆ°å±‚æ¬¡ä¸­ã€‚è¿™åœ¨ä¾‹å¦‚å°†ç±»ä¼¼å¤§å°çš„åŸå¸‚åˆ†ç»„åˆ°ä¸€ä¸ªå›½å®¶å†…æ—¶å¯èƒ½æ˜¯æœ‰ç”¨çš„ï¼Œä»¥ç¡®ä¿æ²»ç–—åˆ†é…çš„å¹³è¡¡ã€‚
- en: The individual at *(ijk)* is the *k*th unit in cluster *(ij)*, which is the
    *j*th cluster in stratum *i,* for *i=1,â€¦,s*, *j=1,â€¦,cáµ¢*, and *k=1,â€¦,náµ¢â±¼*. Thus
    the response is described by a 3-tableau *Y* of shape *Î·=âŸ¨s, cáµ¢, náµ¢â±¼âŸ©*. The assignment
    mechanism *Z* is a 2-tableau of shape *Î·=âŸ¨s, cáµ¢âŸ©*; i.e., over the inner space
    *Iâ‚‚*, selected at random subject to the constraint that *aáµ¢* clusters within the
    *i*th stratum be assigned to treatment, yielding a propensity of *Ï€áµ¢=aáµ¢/cáµ¢*.
  id: totrans-117
  prefs: []
  type: TYPE_NORMAL
  zh: '*(ijk)*å¤„çš„ä¸ªä½“æ˜¯é›†ç¾¤*(ij)*ä¸­çš„*k*ä¸ªå•ä½ï¼Œé›†ç¾¤*(ij)*æ˜¯å±‚æ¬¡*i*ä¸­çš„*j*ä¸ªé›†ç¾¤ï¼Œå…¶ä¸­*i=1,â€¦,s*ï¼Œ*j=1,â€¦,cáµ¢*ï¼Œ*k=1,â€¦,náµ¢â±¼*ã€‚å› æ­¤ï¼Œå“åº”ç”±å½¢çŠ¶ä¸º*Î·=âŸ¨s,
    cáµ¢, náµ¢â±¼âŸ©*çš„3ç»´è¡¨æ ¼*Y*æè¿°ã€‚åˆ†é…æœºåˆ¶*Z*æ˜¯å½¢çŠ¶ä¸º*Î·=âŸ¨s, cáµ¢âŸ©*çš„2ç»´è¡¨æ ¼ï¼›å³ï¼Œåœ¨å†…ç©ºé—´*Iâ‚‚*ä¸Šéšæœºé€‰æ‹©ï¼Œå—é™äºåœ¨*i*å±‚æ¬¡å†…çš„*aáµ¢*é›†ç¾¤è¢«åˆ†é…åˆ°æ²»ç–—ç»„ï¼Œäº§ç”Ÿ*Ï€áµ¢=aáµ¢/cáµ¢*çš„å€¾å‘ã€‚'
- en: The masked quantities *Yáµ—=ZY* and *Yá¶œ=(1-Z)Y* still make sense, given our outer-case
    product rule.
  id: totrans-118
  prefs: []
  type: TYPE_NORMAL
  zh: ç»™å®šæˆ‘ä»¬çš„å¤–éƒ¨æ¡ˆä¾‹ä¹˜æ³•è§„åˆ™ï¼Œæ©è”½é‡*Yáµ—=ZY*å’Œ*Yá¶œ=(1-Z)Y*ä»ç„¶æ˜¯æœ‰æ„ä¹‰çš„ã€‚
- en: The estimate of total treatment effect is given by
  id: totrans-119
  prefs: []
  type: TYPE_NORMAL
  zh: æ€»ä½“æ²»ç–—æ•ˆæœçš„ä¼°è®¡ç”±ä¸‹å¼ç»™å‡º
- en: Note the similarity between this formula, the simple cluster formula, and the
    adjustment formula. We start by performing the first partial sum within each cluster
    *before* averaging; we next average over the clusters within each stratum (hence
    dividing by *aáµ¢* and *cáµ¢-aáµ¢*, respectively), and then, finally, we apply the adjustment
    formula to average across strata.
  id: totrans-120
  prefs: []
  type: TYPE_NORMAL
  zh: æ³¨æ„è¿™ä¸ªå…¬å¼ã€ç®€å•ç°‡å…¬å¼å’Œè°ƒæ•´å…¬å¼ä¹‹é—´çš„ç›¸ä¼¼æ€§ã€‚æˆ‘ä»¬é¦–å…ˆåœ¨æ¯ä¸ªç°‡å†…æ‰§è¡Œç¬¬ä¸€æ¬¡éƒ¨åˆ†å’Œ*before*å¹³å‡ï¼›æ¥ä¸‹æ¥ï¼Œåœ¨æ¯ä¸ªå±‚å†…å¯¹ç°‡è¿›è¡Œå¹³å‡ï¼ˆå› æ­¤åˆ†åˆ«é™¤ä»¥*aáµ¢*å’Œ*cáµ¢-aáµ¢*ï¼‰ï¼Œæœ€åï¼Œæˆ‘ä»¬åº”ç”¨è°ƒæ•´å…¬å¼ä»¥åœ¨å±‚é—´è¿›è¡Œå¹³å‡ã€‚
- en: 'To break-down these operations in detail:'
  id: totrans-121
  prefs: []
  type: TYPE_NORMAL
  zh: è¯¦ç»†åˆ†è§£è¿™äº›æ“ä½œï¼š
- en: '*Yáµ—=ZY* is the masked subtableau consisting of treatment units, a 3-dimensional
    tableau still enumerated by *(ijk)*;'
  id: totrans-122
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '*Yáµ—=ZY* æ˜¯æ©è”½çš„å­è¡¨æ ¼ï¼Œç”±å¤„ç†å•å…ƒç»„æˆï¼Œä¸€ä¸ª3ç»´è¡¨æ ¼ä»ç„¶æŒ‰*(ijk)*æšä¸¾ï¼›'
- en: '*âŠ•â‚Yáµ—* is the first partial sum, obtained by summing the response of all treated
    units within the *(ij)*th cluster, thus yielding a 2-dimensional tableau of *aggregated
    responses*;'
  id: totrans-123
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '*âŠ•â‚Yáµ—* æ˜¯ç¬¬ä¸€æ¬¡éƒ¨åˆ†å’Œï¼Œé€šè¿‡å¯¹*(ij)*ç°‡å†…æ‰€æœ‰å¤„ç†å•å…ƒçš„å“åº”æ±‚å’Œå¾—åˆ°ï¼Œä»è€Œå¾—åˆ°ä¸€ä¸ª*èšåˆå“åº”*çš„2ç»´è¡¨æ ¼ï¼›'
- en: '*âŠ•â‚Yáµ—_[i]* is the 1-cell (indexed by *j*), comprised of the aggregated responses
    for each treatment cluster within the cell;'
  id: totrans-124
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '*âŠ•â‚Yáµ—_[i]* æ˜¯1-å•å…ƒï¼ˆç”±*j*ç´¢å¼•ï¼‰ï¼Œç”±æ¯ä¸ªå¤„ç†ç°‡å†…çš„èšåˆå“åº”ç»„æˆï¼›'
- en: '*Î¼(âŠ•â‚Yáµ—_[i])* is obtained by averaging the cluster-level aggregated responses
    over each stratum, yielding a 1-dimensional tableau indexed by stratum *i*;'
  id: totrans-125
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '*Î¼(âŠ•â‚Yáµ—_[i])* æ˜¯é€šè¿‡å¯¹æ¯å±‚çš„ç°‡çº§èšåˆå“åº”è¿›è¡Œå¹³å‡å¾—åˆ°çš„ï¼Œå¾—åˆ°ä¸€ä¸ªæŒ‰å±‚* i* ç´¢å¼•çš„1ç»´è¡¨æ ¼ï¼›'
- en: the final average is the weighted stratum averages of the difference *Î¼(âŠ•â‚Yáµ—_[i])
    â€” Î¼(âŠ•â‚Yá¶œ_[i]).*
  id: totrans-126
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: æœ€ç»ˆå¹³å‡å€¼æ˜¯åŠ æƒçš„å±‚å¹³å‡å€¼ï¼Œè®¡ç®—å…¬å¼ä¸º*Î¼(âŠ•â‚Yáµ—_[i]) â€” Î¼(âŠ•â‚Yá¶œ_[i])*ã€‚
- en: In index notation, this is equivalent to
  id: totrans-127
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨ç´¢å¼•ç¬¦å·ä¸­ï¼Œè¿™ç­‰ä»·äº
- en: Itâ€™s kinda magic.
  id: totrans-128
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™æœ‰ç‚¹åƒé­”æ³•ã€‚
- en: ANOVA Sum of Squares Decomposition
  id: totrans-129
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: æ–¹å·®åˆ†æå¹³æ–¹å’Œåˆ†è§£
- en: In ANOVA, we are interested in the decomposition of the total sum of squares
    into the between-group and within-group sums of squares. Here, we have *m* groups,
    where the *i*th group has *náµ¢* units. The response *Y* is indexed by *(ij)* over
    this range.
  id: totrans-130
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨æ–¹å·®åˆ†æï¼ˆANOVAï¼‰ä¸­ï¼Œæˆ‘ä»¬å…³å¿ƒçš„æ˜¯æ€»å¹³æ–¹å’Œçš„åˆ†è§£ï¼Œåˆ†ä¸ºç»„é—´å¹³æ–¹å’Œå’Œç»„å†…å¹³æ–¹å’Œã€‚è¿™é‡Œï¼Œæˆ‘ä»¬æœ‰*m*ç»„ï¼Œå…¶ä¸­ç¬¬*i*ç»„æœ‰*náµ¢*ä¸ªå•å…ƒã€‚å“åº”*Y*æŒ‰*(ij)*çš„èŒƒå›´è¿›è¡Œç´¢å¼•ã€‚
- en: The total sum of squares (SST) is given by
  id: totrans-131
  prefs: []
  type: TYPE_NORMAL
  zh: æ€»å¹³æ–¹å’Œï¼ˆSSTï¼‰ç”±ä»¥ä¸‹å…¬å¼ç»™å‡º
- en: The decomposition rule shows that this is equivalent to the sum of the between-group
    (SSB) and within-group sums (SSW) of squares. The SSW is given by
  id: totrans-132
  prefs: []
  type: TYPE_NORMAL
  zh: åˆ†è§£è§„åˆ™è¡¨æ˜è¿™ç­‰åŒäºç»„é—´å¹³æ–¹å’Œï¼ˆSSBï¼‰å’Œç»„å†…å¹³æ–¹å’Œï¼ˆSSWï¼‰çš„æ€»å’Œã€‚SSWç”±ä»¥ä¸‹å…¬å¼ç»™å‡º
- en: (Note this matches the formula we obtained for MSW in the block-randomized design.)
    The sum of squares is applied to the individual 1-cells (groups), and the result
    is totaled across groups.
  id: totrans-133
  prefs: []
  type: TYPE_NORMAL
  zh: ï¼ˆæ³¨æ„è¿™ä¸æˆ‘ä»¬åœ¨å—éšæœºè®¾è®¡ä¸­è·å¾—çš„MSWå…¬å¼ç›¸åŒ¹é…ã€‚ï¼‰å¹³æ–¹å’Œåº”ç”¨äºå„ä¸ª1-å•å…ƒï¼ˆç»„ï¼‰ï¼Œç»“æœåœ¨ç»„é—´æ±‡æ€»ã€‚
- en: The SSB is given by
  id: totrans-134
  prefs: []
  type: TYPE_NORMAL
  zh: SSBç”±ä»¥ä¸‹å…¬å¼ç»™å‡º
- en: Here, the group averages are computed first, and then a (weighted) sum-of-squares
    is performed across the group averages.
  id: totrans-135
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™é‡Œï¼Œé¦–å…ˆè®¡ç®—ç»„å¹³å‡å€¼ï¼Œç„¶ååœ¨ç»„å¹³å‡å€¼ä¸Šè¿›è¡Œï¼ˆåŠ æƒï¼‰å¹³æ–¹å’Œæ“ä½œã€‚
- en: Expressed in tableau notation, the sum of squares decomposition is given by
  id: totrans-136
  prefs: []
  type: TYPE_NORMAL
  zh: ç”¨è¡¨æ ¼ç¬¦å·è¡¨ç¤ºï¼Œå¹³æ–¹å’Œåˆ†è§£ç”±ä»¥ä¸‹å…¬å¼ç»™å‡º
- en: Python Implementation
  id: totrans-137
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: Python å®ç°
- en: 'A Python implementation is provided below. This consits of three classes: a
    Tableau class, which is then subclassed to a CountTableau and a Mask class. A
    CountTableau object is constructed for every Tableau object, which can be used
    to obtain the cell counts. The Mask class overwrites the __init__ method, to assert
    all values passed in are Boolean, and the __mul__ method, to modify the count
    of the masked return object.'
  id: totrans-138
  prefs: []
  type: TYPE_NORMAL
  zh: ä»¥ä¸‹æä¾›äº†Pythonå®ç°ã€‚å®ƒç”±ä¸‰ä¸ªç±»ç»„æˆï¼šä¸€ä¸ªTableauç±»ï¼Œæ¥ç€æ˜¯CountTableauå’ŒMaskç±»çš„å­ç±»ã€‚æ¯ä¸ªTableauå¯¹è±¡æ„é€ ä¸€ä¸ªCountTableauå¯¹è±¡ï¼Œç”¨äºè·å–å•å…ƒè®¡æ•°ã€‚Maskç±»é‡å†™äº†__init__æ–¹æ³•ï¼Œä»¥æ–­è¨€ä¼ å…¥çš„æ‰€æœ‰å€¼éƒ½æ˜¯å¸ƒå°”å€¼ï¼Œå¹¶é‡å†™äº†__mul__æ–¹æ³•ï¼Œä»¥ä¿®æ”¹è¢«æ©è”½çš„è¿”å›å¯¹è±¡çš„è®¡æ•°ã€‚
- en: '[PRE0]'
  id: totrans-139
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: The __iter__ method uses recursion to iterate through the tableau, in the style
    of key, value pairs (much like enumerate(some_list) or k, v in some_dict.items()).
    Moreover, we implement a __call__ method, which can be used in conjunction with
    iteration, such that **for k, v in T(2):** would iterate through the inner index
    space *Iâ‚‚*, returning the fibers *T_{Î¹â‚š}*, for each *Î¹â‚šâˆˆ Iâ‚‚*.
  id: totrans-140
  prefs: []
  type: TYPE_NORMAL
  zh: __iter__æ–¹æ³•ä½¿ç”¨é€’å½’éå†è¡¨æ ¼ï¼Œä»¥é”®å€¼å¯¹çš„å½¢å¼ï¼ˆç±»ä¼¼äºenumerate(some_list)æˆ–k, v in some_dict.items()ï¼‰ã€‚æ­¤å¤–ï¼Œæˆ‘ä»¬å®ç°äº†__call__æ–¹æ³•ï¼Œå¯ä»¥ä¸è¿­ä»£ç»“åˆä½¿ç”¨ï¼Œè¿™æ ·**for
    k, v in T(2):** å°±ä¼šéå†å†…å±‚ç´¢å¼•ç©ºé—´*Iâ‚‚*ï¼Œè¿”å›æ¯ä¸ª*Î¹â‚šâˆˆ Iâ‚‚*çš„çº¤ç»´*T_{Î¹â‚š}*ã€‚
- en: Similarly, both the *mean* and *sumSquares* methods take an optional argument
    *p*, for which the calculation would be conducted over the fibers, and a *p*-dimensional
    tableau over the inner index space returned.
  id: totrans-141
  prefs: []
  type: TYPE_NORMAL
  zh: ç±»ä¼¼åœ°ï¼Œ*mean*å’Œ*sumSquares*æ–¹æ³•éƒ½æ¥å—ä¸€ä¸ªå¯é€‰çš„å‚æ•°*p*ï¼Œè®¡ç®—å°†ä¼šåœ¨çº¤ç»´ä¸Šè¿›è¡Œï¼Œå¹¶è¿”å›ä¸€ä¸ªåœ¨å†…ç´¢å¼•ç©ºé—´ä¸Šçš„*p*-ç»´tableauã€‚
- en: Addition is defined for *A+B* if *A* is higher-dimensional than *B*, which is
    required for sum of squares computation. Multiplication is the opposite, *AB*
    is defined as long as *A* is lower-dimensional than *B*. This is required for
    compatibility with left-multiplying by a lower-dimensional mask, as required for
    cluster analysis.
  id: totrans-142
  prefs: []
  type: TYPE_NORMAL
  zh: å¦‚æœ*A*çš„ç»´åº¦é«˜äº*B*ï¼Œåˆ™å®šä¹‰*A+B*ï¼Œè¿™å¯¹äºå¹³æ–¹å’Œè®¡ç®—æ˜¯å¿…éœ€çš„ã€‚ä¹˜æ³•åˆ™ç›¸åï¼Œåªè¦*A*çš„ç»´åº¦ä½äº*B*ï¼Œåˆ™å®šä¹‰*AB*ã€‚è¿™å¯¹äºä¸ä½ç»´æ©ç çš„å·¦ä¹˜å…¼å®¹æ€§æ˜¯å¿…éœ€çš„ï¼Œè¿™åœ¨èšç±»åˆ†æä¸­æ˜¯å¿…éœ€çš„ã€‚
- en: We also implemented the __getitem__ and __setitem__. The former has some coolness,
    unlike nested arrays, we can use notation T[1,2,3] to get the *p*-cell at *(1,2,3)*.
    (We donâ€™t even need to fill the remaining dimensions with *:*s; e.g., *T[1,2,3]*
    will do, for a 5-dimensional tableau, without needing to write *T[1,2,3,:,:]*!
    And this is better than working with the original nested arrays, which require
    A[1][2][3].) The __setitem__ uses recursion to set values, and you can even pass
    a subtableau of the appropriate shape here.
  id: totrans-143
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬è¿˜å®ç°äº†__getitem__å’Œ__setitem__ã€‚å‰è€…æœ‰ä¸€äº›é…·ç‚«çš„åœ°æ–¹ï¼Œä¸åµŒå¥—æ•°ç»„ä¸åŒï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ç¬¦å·T[1,2,3]æ¥è·å–ä½äº*(1,2,3)*çš„*p*-å•å…ƒã€‚ï¼ˆæˆ‘ä»¬ç”šè‡³ä¸éœ€è¦ç”¨*:*å¡«å……å…¶ä½™ç»´åº¦ï¼›ä¾‹å¦‚ï¼Œå¯¹äº5ç»´çš„tableauï¼Œ*T[1,2,3]*å°±å¯ä»¥ï¼Œè€Œæ— éœ€å†™*T[1,2,3,:,:]*ï¼è¿™æ¯”å¤„ç†åŸå§‹åµŒå¥—æ•°ç»„æ›´å¥½ï¼Œåè€…éœ€è¦A[1][2][3]ã€‚ï¼‰__setitem__ä½¿ç”¨é€’å½’è®¾ç½®å€¼ï¼Œæ‚¨ç”šè‡³å¯ä»¥åœ¨è¿™é‡Œä¼ é€’ä¸€ä¸ªé€‚å½“å½¢çŠ¶çš„å­tableauã€‚
- en: Basic operations are illustrated below.
  id: totrans-144
  prefs: []
  type: TYPE_NORMAL
  zh: åŸºæœ¬æ“ä½œå¦‚ä¸‹æ‰€ç¤ºã€‚
- en: '[PRE1]'
  id: totrans-145
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: A simulation of a block design is given below. We used 5 strata, with a treatment
    propensity of 30%. In our simulation, the treatment effect was a constant 10;
    strata responses were normally distributed with std 10, and strata means were
    separated in increments of 10\. Each strata contained a random number of units
    between 400 and 500\. We measured a difference-in-means of 9.7 and rejected the
    null hypothesis with 95% confidence.
  id: totrans-146
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸‹é¢ç»™å‡ºäº†ä¸€ä¸ªå—è®¾è®¡çš„æ¨¡æ‹Ÿã€‚æˆ‘ä»¬ä½¿ç”¨äº†5ä¸ªå±‚æ¬¡ï¼Œå¤„ç†å€¾å‘ä¸º30%ã€‚åœ¨æˆ‘ä»¬çš„æ¨¡æ‹Ÿä¸­ï¼Œå¤„ç†æ•ˆåº”æ˜¯ä¸€ä¸ªæ’å®šçš„10ï¼›å±‚æ¬¡å“åº”æœä»æ ‡å‡†å·®ä¸º10çš„æ­£æ€åˆ†å¸ƒï¼Œå±‚æ¬¡å‡å€¼æŒ‰10çš„å¢é‡åˆ†éš”ã€‚æ¯ä¸ªå±‚æ¬¡åŒ…å«400åˆ°500ä¹‹é—´çš„éšæœºå•ä½ã€‚æˆ‘ä»¬æµ‹é‡äº†å‡å€¼å·®å¼‚ä¸º9.7ï¼Œå¹¶ä»¥95%çš„ç½®ä¿¡åº¦æ‹’ç»äº†åŸå‡è®¾ã€‚
- en: '[PRE2]'
  id: totrans-147
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: Finally, an example of cluster design is given.
  id: totrans-148
  prefs: []
  type: TYPE_NORMAL
  zh: æœ€åï¼Œç»™å‡ºäº†ä¸€ä¸ªèšç±»è®¾è®¡çš„ç¤ºä¾‹ã€‚
- en: '[PRE3]'
  id: totrans-149
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: A few notes about the cluster example. First, we made the cluster means super
    close together. The variance of the estimator for stratification depends primarily
    upon the within strata variance, whereas in the case of clustering, it depends
    on the between cluster variance. Since we only simulated a small number of clusters,
    this is a very low power result. Finally, note that the formula for tau_hat only
    works because of the *if not any* logic towards the end of the *sum* method of
    our *Tableau* class; otherwise the partial sum would reset the count tableau,
    and this would result in dividing by the total number of clusters, not the masked
    number of clusters.
  id: totrans-150
  prefs: []
  type: TYPE_NORMAL
  zh: å…³äºèšç±»ç¤ºä¾‹çš„ä¸€äº›è¯´æ˜ã€‚é¦–å…ˆï¼Œæˆ‘ä»¬è®©èšç±»å‡å€¼éå¸¸æ¥è¿‘ã€‚å±‚æ¬¡åŒ–çš„ä¼°è®¡é‡æ–¹å·®ä¸»è¦ä¾èµ–äºå±‚æ¬¡å†…çš„æ–¹å·®ï¼Œè€Œåœ¨èšç±»çš„æƒ…å†µä¸‹ï¼Œå®ƒä¾èµ–äºèšç±»é—´çš„æ–¹å·®ã€‚ç”±äºæˆ‘ä»¬ä»…æ¨¡æ‹Ÿäº†å°‘é‡èšç±»ï¼Œè¿™æ˜¯ä¸€é¡¹éå¸¸ä½åŠŸæ•ˆçš„ç»“æœã€‚æœ€åï¼Œè¯·æ³¨æ„ï¼Œ`tau_hat`çš„å…¬å¼ä¹‹æ‰€ä»¥æœ‰æ•ˆï¼Œæ˜¯å› ä¸ºæˆ‘ä»¬*Tableau*ç±»çš„*sum*æ–¹æ³•æœ«å°¾çš„*if
    not any*é€»è¾‘ï¼›å¦åˆ™éƒ¨åˆ†å’Œä¼šé‡ç½®è®¡æ•°è¡¨ï¼Œè¿™ä¼šå¯¼è‡´é™¤ä»¥æ€»èšç±»æ•°ï¼Œè€Œä¸æ˜¯è¢«æ©ç›–çš„èšç±»æ•°ã€‚
- en: But could we resist doing an example of a block-cluster design? Here we let
    the cluster means vary by strata, and we show how to implement the block-cluster
    formula.
  id: totrans-151
  prefs: []
  type: TYPE_NORMAL
  zh: ä½†æˆ‘ä»¬èƒ½å¦æŠµæŒ¡ä½åšä¸€ä¸ªå—èšç±»è®¾è®¡çš„ç¤ºä¾‹ï¼Ÿåœ¨è¿™é‡Œï¼Œæˆ‘ä»¬è®©èšç±»å‡å€¼æŒ‰å±‚æ¬¡å˜åŒ–ï¼Œå¹¶å±•ç¤ºå¦‚ä½•å®ç°å—èšç±»å…¬å¼ã€‚
- en: '[PRE4]'
  id: totrans-152
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: Conclusion
  id: totrans-153
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: ç»“è®º
- en: We defined an explicit algebraic structure called a *tableau,* which is essentially
    a partially filled matrix, and various operations on it.
  id: totrans-154
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ªæ˜¾å¼çš„ä»£æ•°ç»“æ„å«åš*tableau*ï¼Œå®ƒæœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªéƒ¨åˆ†å¡«å……çš„çŸ©é˜µï¼Œå¹¶å¯¹å…¶è¿›è¡Œäº†å„ç§æ“ä½œã€‚
- en: For a given dimension *p*, we defined the inner and outer index spaces, and
    showed how operators applied to *p*-cells should operate over the outer index
    space, returning quantities that vary over the inner index space.
  id: totrans-155
  prefs: []
  type: TYPE_NORMAL
  zh: å¯¹äºç»™å®šç»´åº¦*p*ï¼Œæˆ‘ä»¬å®šä¹‰äº†å†…å¤–ç´¢å¼•ç©ºé—´ï¼Œå¹¶å±•ç¤ºäº†å¦‚ä½•åœ¨å¤–ç´¢å¼•ç©ºé—´ä¸Šåº”ç”¨æ“ä½œç¬¦å¯¹*p*-å•å…ƒè¿›è¡Œæ“ä½œï¼Œè¿”å›åœ¨å†…ç´¢å¼•ç©ºé—´ä¸Šå˜åŒ–çš„é‡ã€‚
- en: We showed how these basic operations proliferate experimental analysis, by examining
    a variety of key statistical formula (difference-in-means, *T*-statistics, estimated
    treatment effect for cluster randomization, within-group and between-group sums
    of squares) and casting them into both invariant and index forms.
  id: totrans-156
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬é€šè¿‡æ£€æŸ¥å„ç§å…³é”®ç»Ÿè®¡å…¬å¼ï¼ˆå‡å€¼å·®å¼‚ã€*T*ç»Ÿè®¡é‡ã€é›†ç¾¤éšæœºåŒ–çš„ä¼°è®¡å¤„ç†æ•ˆæœã€ç»„å†…å’Œç»„é—´å¹³æ–¹å’Œï¼‰ï¼Œå±•ç¤ºäº†è¿™äº›åŸºæœ¬æ“ä½œå¦‚ä½•ä¿ƒè¿›å®éªŒåˆ†æï¼Œå¹¶å°†å…¶è½¬åŒ–ä¸ºä¸å˜å½¢å¼å’ŒæŒ‡æ•°å½¢å¼ã€‚
- en: Finally, we provided a Python implementation of our Tableau data structure,
    and showed how key formula can be executed using a few lines of code.
  id: totrans-157
  prefs: []
  type: TYPE_NORMAL
  zh: æœ€åï¼Œæˆ‘ä»¬æä¾›äº†æˆ‘ä»¬çš„Tableauæ•°æ®ç»“æ„çš„Pythonå®ç°ï¼Œå¹¶å±•ç¤ºäº†å¦‚ä½•ä½¿ç”¨å‡ è¡Œä»£ç æ‰§è¡Œå…³é”®å…¬å¼ã€‚
- en: References
  id: totrans-158
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: å‚è€ƒæ–‡çŒ®
- en: '[1] P.D. Berger, R.E. Mauer, and G.B. Celli, *Experimental Design: With Applications
    in Management, Engineering, and the Sciences* (2018), 2nd ed., Springer.'
  id: totrans-159
  prefs: []
  type: TYPE_NORMAL
  zh: '[1] P.D. Berger, R.E. Mauer, å’Œ G.B. Celli, *å®éªŒè®¾è®¡ï¼šåœ¨ç®¡ç†ã€å·¥ç¨‹å’Œç§‘å­¦ä¸­çš„åº”ç”¨*ï¼ˆ2018å¹´ï¼‰ï¼Œç¬¬2ç‰ˆï¼ŒSpringerã€‚'
- en: '[2] J. Maruskin, [*Fundamentals of Data Science Trilogy: Experiment, Model,
    Learn*](https://www.amazon.com/Fundamentals-Data-Science-Trilogy-Experiment-Model-Learn/dp/1941043038/ref=sr_1_5?crid=23E5N6RECFXJF&keywords=jared+maruskin&qid=1695921221&sprefix=jared+maruski%2Caps%2C245&sr=8-5)(2022),
    Cayenne Canyon Press.'
  id: totrans-160
  prefs: []
  type: TYPE_NORMAL
  zh: '[2] J. Maruskin, [*æ•°æ®ç§‘å­¦ä¸‰éƒ¨æ›²ï¼šå®éªŒã€æ¨¡å‹ã€å­¦ä¹ *](https://www.amazon.com/Fundamentals-Data-Science-Trilogy-Experiment-Model-Learn/dp/1941043038/ref=sr_1_5?crid=23E5N6RECFXJF&keywords=jared+maruskin&qid=1695921221&sprefix=jared+maruski%2Caps%2C245&sr=8-5)ï¼ˆ2022å¹´ï¼‰ï¼ŒCayenne
    Canyon Pressã€‚'
- en: '[3] P.R. Rosenbaum, *Observational Studies* (2002), 2nd ed., Springer.'
  id: totrans-161
  prefs: []
  type: TYPE_NORMAL
  zh: '[3] P.R. Rosenbaum, *è§‚å¯Ÿç ”ç©¶*ï¼ˆ2002å¹´ï¼‰ï¼Œç¬¬2ç‰ˆï¼ŒSpringerã€‚'
- en: '[4] P.D. Rosenbaum, *Design of Observational Studies* (2020), 2nd ed., Springer.'
  id: totrans-162
  prefs: []
  type: TYPE_NORMAL
  zh: '[4] P.D. Rosenbaum, *è§‚å¯Ÿç ”ç©¶çš„è®¾è®¡*ï¼ˆ2020å¹´ï¼‰ï¼Œç¬¬2ç‰ˆï¼ŒSpringerã€‚'
- en: '[5] M. Saveski, J. Pouget-Abadie, G. Saint-Jacques, W. Duan, S. Ghosh, Y. Xu,
    E.M. Airoldi, [Detecting Network Effects: Randomizing Over Randomized Experiments](https://www.kdd.org/kdd2017/papers/view/detecting-network-effects-randomizing-over-randomized-experiments)
    (2017), KDD Research Paper, Halifax, NS, Canada.'
  id: totrans-163
  prefs: []
  type: TYPE_NORMAL
  zh: '[5] M. Saveski, J. Pouget-Abadie, G. Saint-Jacques, W. Duan, S. Ghosh, Y. Xu,
    E.M. Airoldi, [æ£€æµ‹ç½‘ç»œæ•ˆåº”ï¼šåœ¨éšæœºåŒ–å®éªŒä¸­éšæœºåŒ–](https://www.kdd.org/kdd2017/papers/view/detecting-network-effects-randomizing-over-randomized-experiments)ï¼ˆ2017å¹´ï¼‰ï¼ŒKDDç ”ç©¶è®ºæ–‡ï¼Œå“ˆåˆ©æ³•å…‹æ–¯ï¼ŒåŠ æ‹¿å¤§ã€‚'
- en: '[6] D. Selvamutha and D. Das, *Introduction to Statistical Methods, Design
    of Experiments, and Statistical Quality Control* (2018) Springer.'
  id: totrans-164
  prefs: []
  type: TYPE_NORMAL
  zh: '[6] D. Selvamutha å’Œ D. Das, *ç»Ÿè®¡æ–¹æ³•ã€å®éªŒè®¾è®¡å’Œç»Ÿè®¡è´¨é‡æ§åˆ¶å¯¼è®º*ï¼ˆ2018å¹´ï¼‰ï¼ŒSpringerã€‚'
- en: '*Unless otherwise noted, all images by the Author.*'
  id: totrans-165
  prefs: []
  type: TYPE_NORMAL
  zh: '*é™¤éå¦æœ‰è¯´æ˜ï¼Œæ‰€æœ‰å›¾ç‰‡å‡ç”±ä½œè€…æä¾›ã€‚*'
