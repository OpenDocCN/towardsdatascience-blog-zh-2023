# 一个学术研究（以及其他数据类型）的推荐系统！

> 原文：[https://towardsdatascience.com/a-recommendation-system-for-academic-research-and-other-data-types-db5c5a68f1f5](https://towardsdatascience.com/a-recommendation-system-for-academic-research-and-other-data-types-db5c5a68f1f5)

## 实施自然语言处理和图论来比较和推荐不同类型的文档

[](https://ben-mccloskey20.medium.com/?source=post_page-----db5c5a68f1f5--------------------------------)[![本杰明·麦克洛斯基](../Images/7118f5933f2affe2a7a4d3375452fa4c.png)](https://ben-mccloskey20.medium.com/?source=post_page-----db5c5a68f1f5--------------------------------)[](https://towardsdatascience.com/?source=post_page-----db5c5a68f1f5--------------------------------)[![Towards Data Science](../Images/a6ff2676ffcc0c7aad8aaf1d79379785.png)](https://towardsdatascience.com/?source=post_page-----db5c5a68f1f5--------------------------------) [本杰明·麦克洛斯基](https://ben-mccloskey20.medium.com/?source=post_page-----db5c5a68f1f5--------------------------------)

·发布于 [Towards Data Science](https://towardsdatascience.com/?source=post_page-----db5c5a68f1f5--------------------------------) ·阅读时间15分钟·2023年3月29日

--

![](../Images/0dd61847b82293c61235cf84a6d1f226.png)

照片由 [Shubham Dhage](https://unsplash.com/@theshubhamdhage?utm_source=medium&utm_medium=referral) 在 [Unsplash](https://unsplash.com/?utm_source=medium&utm_medium=referral) 提供

# 介绍

许多人现在开发的项目通常都从第一个关键步骤开始：*积极研究*。投资于别人所做的工作并在此基础上构建对你的项目增加价值至关重要。你不仅要从他人的结论中学习，还要找出在你的项目中*不应该做*的事情，以确保成功。

在我完成论文的过程中，我开始收集各种类型的研究文件。例如，我有不同的学术出版物的合集，以及包含不同实验结果的Excel表格。当我完成论文的研究时，我在想：**是否有办法创建一个推荐系统，比较我档案中的所有研究，并帮助指导我下一个项目？**

事实上，确实有！

*注意：这不仅适用于你可能从各种搜索引擎收集的所有研究资料的存储库，也适用于你拥有的包含各种不同文档的目录。*

# 设置

我和我的团队使用Python 3开发了这个推荐系统。也要向他们致敬！我们在这里取得了很棒的成就。

有很多API支持这个推荐系统，研究每个具体的API可以执行的操作可能对你的学习有益。

[PRE0]

## 障碍

我必须克服的一大难题是推荐机器比较不同类型文件的能力。例如，我想看看一个 Excel 电子表格中的信息是否与 PowerPoint 和学术 PDF 期刊中的信息相似或相关。做到这一点的诀窍是将每种文件类型读取到 Python 中，并将每个对象转换为一个单一的字符串。这*规范化*了所有数据，并允许计算相似性度量。

## PDF 阅读类

我们将首先关注的课程是**pdfReader**类，它可以将 PDF 格式化为可在 Python 中读取的格式。在所有文件格式中，我认为 PDF 是最重要的之一，因为许多从研究库（如 Google Scholar）下载的期刊文章都是 PDF 格式的。

[PRE1]

## Microsoft PowerPoint 阅读器

**pptReader** 类能够将 Microsoft PowerPoint 文件读取到 Python 中。

[PRE2]

## Microsoft Word 文档阅读器

**wordDocReader** 类可以用于在 Python 中读取 Microsoft Word 文档。它利用了[*doc2txt*](https://pypi.org/project/doc2text/) API，并返回给定 Word 文档中位于的文本/信息的字符串。

[PRE3]

## Microsoft Excel 阅读器

有时研究人员会将他们的结果以 Excel 表格的形式随出版物一起提供。能够读取列名，甚至是数值，可能有助于推荐与你搜索内容相似的结果。例如，如果你在研究某只股票的过去表现？也许你会在历史表现的 Excel 表格中搜索名称和符号。这种推荐系统会向你推荐这个 Excel 表格，以帮助你的研究。

[PRE4]

**csvReader** 类将允许将 CSV 文件包含在你的数据库中，并在系统的推荐中使用。

[PRE5]

这是一个有用的类。不是很多人会考虑到 PowerPoint 演示文稿中存储着有价值的信息。这些演示文稿主要是为了将关键观点和信息可视化展示给观众。以下课程将帮助你将数据库中的任何 PowerPoint 文件与其他信息体关联，希望能引导你找到相关的工作。

[PRE6]

本系统的最终课程是一个 Microsoft Word 文档阅读器。Word 文档是另一个宝贵的信息来源。许多人会撰写报告，以 Word 文档格式表示他们的发现和想法。

[PRE7]

今天项目中使用的课程就到这里了。**请注意：** 还有许多其他文件类型可以用来增强你的推荐系统。当前版本的代码正在开发中，将接受图像并尝试将其与数据库中的其他文档关联！

# 数据处理

## 预处理

让我们看看如何预处理这些数据。这个推荐系统是为一个学术研究库构建的，因此使用自然语言处理（NLP）指导的预处理步骤来分解文本是非常重要的。

数据处理类被简单地称为*datapreprocessor*，类中的第一个函数是一个词性标记器。

[PRE8]

这个函数为单词标记词性，这在项目后续阶段会非常有用。

第二步，有一个函数执行许多我们已经见过的标准NLP步骤。这些步骤包括：

1.  将每个单词都转为小写

1.  去掉标点符号

1.  去掉数字（*我只想查看非数字信息。如果需要，可以省略此步骤*）

1.  停用词移除。

1.  词形还原。**在这一过程中，get_wordnet_pos()函数对于包含词性非常有用！**

[PRE9]

接下来，有一个函数可以将所有文件读入系统中。

[PRE10]

**由于这是该系统的第一个版本，我想强调一下代码可以调整以包含许多其他文件类型！**

下一个函数被称为**database_preprocess()**，用于处理给定数据库中的所有文件。输入是一个文件列表，每个文件都有其关联的文本字符串（已处理）。这些文本字符串随后使用**sklearn的tfidfVectorizer**进行*向量化*。这到底是什么？基本上，它会根据每个给定单词的频率，将所有文本转换为不同的特征向量。我们这样做是为了通过与向量算术相关的相似度公式查看文档的相关性。

[PRE11]

创建一个基于数据库的向量化器的原因是，当用户给出一个需要在数据库中搜索的术语列表时，这些单词将根据其在数据库中的频率被向量化。**这是当前系统的最大弱点。随着数据库规模的增加，计算相似度所需的时间和计算资源将增加，从而减慢系统速度**。在质量控制会议上提出的一个建议是使用强化学习来推荐不同的数据文章。

接下来，我们可以使用一个输入处理器，将任何提供的单词处理成向量。这类似于你在搜索引擎中输入请求的过程。

[PRE12]

由于数据库中的所有信息及给定的信息都将是向量，我们可以使用**余弦相似度**来计算向量之间的角度。角度越接近0，两个向量的相似度就越低。

[PRE13]

一旦找到两个向量之间的相似度分数，便可以创建搜索词与数据库中文档之间的排名。

[PRE14]

向量文件列表是我们之前从文件中创建的向量列表。查询向量是正在搜索的词的向量。之前创建了文件字典，它使用文件名作为键，文件文本作为值。计算相似度后，会创建一个排名，优先推荐与查询词最相似的信息。注意，如果推荐结果超过3个怎么办？结合**网络与图论**的元素将为系统增加额外的计算优势，并生成更有信心的推荐。

## 页面排名理论

让我们稍作绕道，回顾一下页面排名理论。别误会，余弦相似度是测量向量之间相似性的强大计算方法，但将页面排名融入你的推荐算法，可以进行多个向量（你数据库中的数据）之间的相似性比较。

页面排名最初由拉里·佩奇（Larry Page）设计，用于对网站进行排名并衡量其重要性[1]。基本思想是，如果更多的网站链接到一个网站，那么这个网站可以被认为是“更重要的”。借鉴这一思想，如果图中的一个节点到其他节点的边距离减少，该节点可以被认为更重要。节点相对于图中其他节点的整体距离越短，该节点就越重要。

今天我们将使用页面排名的一种变体，称为*特征向量中心性*。*特征向量中心性*类似于页面排名，它衡量图中节点之间的连接，为更强的连接分配更高的分数。最大不同点？*特征向量中心性*会考虑与给定节点连接的节点的重要性，以估计该节点的相对重要性。这就好比说，认识许多重要人物的人，可能自己也通过这些强大的关系变得非常重要。总体而言，这两个算法在实现方式上非常相似。

对于这个数据库，在计算出向量之后，可以将它们放入图中，其中它们的边距离由它们与其他向量的相似度决定。

[PRE15]

好了，接下来呢？我们有使用数据库中每个数据点之间的余弦相似度创建的推荐，以及通过特征向量中心性算法计算的推荐。我们应该输出哪些推荐？**两者都输出！**

[PRE16]

这个脚本的最终功能将根据余弦相似度和特征向量中心性加权不同的推荐。目前，80% 的权重将分配给余弦相似度生成的推荐，20% 的权重将分配给特征向量中心性生成的推荐。最终的推荐可以根据这些权重进行计算，并汇总生成代表系统中所有相似度计算的推荐。开发者可以轻松调整权重，以反映他们认为更重要的推荐批次。

# 示例

让我们用这段代码做一个快速示例。我的数据库中的文档都以之前讨论的格式存在，并涉及机器学习的不同领域。数据库中更多的文档与*生成对抗网络（GANs）*相关，因此我预计当查询词为“生成对抗网络”时，这些文档会被优先推荐。

[PRE17]

运行这段代码会生成以下推荐，并附上每个推荐的权重值。

**[(‘GAN_presentation.pptx’, 0.3411272882084124), (‘Using GANs to Augment UAV Data_V2.docx’, 0.16293615818015078), (‘GANS_DAY_1.docx’, 0.12546058188955278), (‘ml_pdf.pdf’, 0.10864164490536887)]**

再试一次。如果我查询“机器学习”会怎么样？

**[(‘ml_pdf.pdf’, 0.31244922151487337), (‘GAN_presentation.pptx’, 0.18170070184645432), (‘GANS_DAY_1.docx’, 0.14825501243059303), (‘Using GANs to Augment UAV Data_V2.docx’, 0.1309153863914564)]**

啊哈！正如预期的那样，第一个推荐文档是机器学习的介绍性简报！我仅使用了 7 个文档作为示例，添加的文档越多，收到的推荐也会越多！

# 结论

今天我们探讨了如何为你收集的文件创建推荐系统（尤其是当你收集研究材料用于项目时）。该系统的主要特点是，通过采用特征向量中心性算法计算向量的余弦相似度，从而提供更简洁、更好的推荐。今天试试看，希望这能帮助你更好地理解你拥有的数据之间的相关性。

**如果你喜欢今天的阅读内容，请关注我，并告诉我是否有其他你希望我探讨的主题！如果你没有 Medium 账号，可以通过我的链接** [**这里**](https://ben-mccloskey20.medium.com/membership) **注册（这样我会收到少量佣金）！此外，你还可以在** [**LinkedIn**](https://www.linkedin.com/in/benjamin-mccloskey-169975a8/) **上添加我，或随时联系我！感谢你的阅读！**

## 来源

1.  [https://www.geeksforgeeks.org/page-rank-algorithm-implementation/](https://www.geeksforgeeks.org/page-rank-algorithm-implementation/)

1.  完整代码：[https://github.com/benmccloskey/Research_recommend_model/blob/main/app.py](https://github.com/benmccloskey/Research_recommend_model/blob/main/app.py)
