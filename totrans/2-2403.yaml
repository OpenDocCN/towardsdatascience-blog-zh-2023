- en: 'Writing Songs with GPT-4: Part 3, Melodies'
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: ÂéüÊñáÔºö[https://towardsdatascience.com/writing-songs-with-gpt-4-part-3-melodies-848ab3614e7a](https://towardsdatascience.com/writing-songs-with-gpt-4-part-3-melodies-848ab3614e7a)
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: How to use the latest language model from OpenAI to help write melodies for
    new songs
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: '[](https://robgon.medium.com/?source=post_page-----848ab3614e7a--------------------------------)[![Robert
    A. Gonsalves](../Images/96b4da0f602a1cd9d1e1d2917868cbee.png)](https://robgon.medium.com/?source=post_page-----848ab3614e7a--------------------------------)[](https://towardsdatascience.com/?source=post_page-----848ab3614e7a--------------------------------)[![Towards
    Data Science](../Images/a6ff2676ffcc0c7aad8aaf1d79379785.png)](https://towardsdatascience.com/?source=post_page-----848ab3614e7a--------------------------------)
    [Robert A. Gonsalves](https://robgon.medium.com/?source=post_page-----848ab3614e7a--------------------------------)'
  prefs: []
  type: TYPE_NORMAL
- en: ¬∑Published in [Towards Data Science](https://towardsdatascience.com/?source=post_page-----848ab3614e7a--------------------------------)
    ¬∑11 min read¬∑Jun 14, 2023
  prefs: []
  type: TYPE_NORMAL
- en: --
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/2fd003f55bc5aa702c3c6d2e59705b42.png)'
  prefs: []
  type: TYPE_IMG
- en: '**‚Äúa woman standing, wearing headphones, looking at a computer screen, while
    singing into a professional microphone,‚Äù** I*mage created using an AI image creation
    program,* Midjourney, and edited by the author'
  prefs: []
  type: TYPE_NORMAL
- en: This is the third and final article in my series on using GPT-4 [1] to compose
    music. My [first article](/writing-songs-with-gpt-4-part-1-lyrics-3728da678482)
    covered writing lyrics for songs, and my [second article](https://medium.com/towards-data-science/writing-songs-with-gpt-4-part-2-chords-173cfda0e5a1)
    delved into composing chords to go along with lyrics. In this article, after a
    brief introduction to GPT-4, I‚Äôll show you how to coax the model to create melodies
    for songs with chords and lyrics. I‚Äôll wrap up with a general discussion and offer
    some next steps for composing music with AI.
  prefs: []
  type: TYPE_NORMAL
- en: Intro to GPT-4
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: GPT-4 is the latest large language model from OpenAI. It‚Äôs available in the
    paid version of their ChatGPT service, which costs US$20 per month. The model
    is an improvement on their previous iteration, GPT-3.5\. Here‚Äôs an excerpt of
    what OpenAI says about the new model on their [GPT4 landing site](https://openai.com/gpt-4).
  prefs: []
  type: TYPE_NORMAL
- en: GPT-4 is more creative and collaborative than ever before. It can generate,
    edit, and iterate with users on creative and technical writing tasks, such as
    composing songs, writing screenplays, or learning a user‚Äôs writing style. ‚Ä¶ We
    spent 6 months making GPT-4 safer and more aligned. GPT-4 is 82% less likely to
    respond to requests for disallowed content and 40% more likely to produce factual
    responses than GPT-3.5 on our internal evaluations - OpenAI
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: OK, they listed ‚Äúcomposing songs‚Äù as one of their examples of creative tasks.
    They also mentioned the model being more ‚Äúaligned,‚Äù which is OpenAI‚Äôs buzzword
    for making AI models follow human values and intent. You can read more about this
    in their [technical report](https://arxiv.org/pdf/2303.08774.pdf).
  prefs: []
  type: TYPE_NORMAL
- en: As I mentioned in my earlier articles on GPT-4, OpenAI collects users‚Äô prompts
    and responses by default and may use them to improve future models. However, you
    can opt out of this data collection by submitting this form, [here](https://docs.google.com/forms/d/e/1FAIpQLScrnC-_A7JFs4LbIuzevQ_78hVERlNqqCPCt3d8XqnKOfdRdQ/viewform).
  prefs: []
  type: TYPE_NORMAL
- en: Creating Melodies with GPT-4
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Currently, large language models only deal with text in and text out. However,
    OpenAI is working on extending GPT-4 to use images in prompts. This model is not
    available to the public yet, but it is available in a beta version of an app called
    [Be My Eyes](https://openai.com/customer-stories/be-my-eyes). The app helps people
    who are blind or have low vision with daily tasks by analyzing pictures and reading
    a text description of the scene.
  prefs: []
  type: TYPE_NORMAL
- en: For this article, I explored various ways to get the model to compose melodies
    using text formats. I found the best format for this is using guitar tablature
    (or tab) notation.
  prefs: []
  type: TYPE_NORMAL
- en: Guitar Tabs
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: Musicians use guitar tabs to transcribe notes and chords for stringed instruments
    as plain text. Instead of the usual musical notes on a staff, guitar tabs show
    which frets are used over time for the strings on an instrument. For example,
    here‚Äôs the first line of ‚ÄúHappy Birthday to You‚Äù as a six-stringed guitar tab.
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/db33d091facc444421c3a93123e99095.png)'
  prefs: []
  type: TYPE_IMG
- en: '**Guitar Tab of the Melody for ‚ÄúHappy Birthday‚Äù** Image by Author'
  prefs: []
  type: TYPE_NORMAL
- en: Time is on the horizontal axis; the strings are on the vertical axis from the
    lowest at the bottom to the highest at the top. The numbers represent which fret
    to play at points in time. A bigger number corresponds to a higher note. After
    experimenting with this, I found that there were enough guitar tabs with the corresponding
    commentary found in the web-based training data to allow language models to compose
    in this format.
  prefs: []
  type: TYPE_NORMAL
- en: Interacting with GPT-4
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: Using the example song from my first two articles, I asked GPT-4 to compose
    a melody one part at a time. Here‚Äôs how the first interaction went.
  prefs: []
  type: TYPE_NORMAL
- en: '*RobG: Write a melody for the song Dogs and Cats in guitar tab format. Play
    one note for each syllable.*'
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: ''
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '*[G] Dogs and cats, they [C] roam the streets'
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '[Em] Furry friends with [D] hearts that beat'
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '[G] Claws and paws, they [C] rule the land'
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '[Em] Tails a-waggin‚Äô, [D] they understand*'
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: ''
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '*GPT-4:*'
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: I‚Äôm an AI text-based model, so I can‚Äôt create or play a sound. But I can give
    you an example of how you might put these chords to a simple melody using guitar
    tab format, each note for each syllable.
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: ''
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: The basic chords provided are G, C, Em, and D. I‚Äôll use the G major scale as
    the melody foundation.
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: ''
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: 'Remember, in tab format, the lines represent the strings of a guitar (from
    low E on bottom to high E on top), and the numbers represent which fret to play
    on that string. Here‚Äôs a simple example:'
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '[PRE0]'
  prefs: []
  type: TYPE_PRE
- en: This is just a very simple example and the melody might not fully capture the
    spirit of your lyrics, but I hope it helps as a starting point. You may want to
    adjust the rhythm and melody to suit your song better.
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: This is interesting. It‚Äôs a two-part musical phrase that is repeated twice.
    But on closer inspection, you can see that there are too many syllables in the
    phrases; it has twelve+eleven when it should be seven+seven. Also, the vertical
    lines don‚Äôt line up. I repeated the process for the second verse and cleaned up
    the phrases a bit in a text editor to look like this.
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE1]'
  prefs: []
  type: TYPE_PRE
- en: I wrote some Python code [here](https://colab.research.google.com/github/robgon-art/ml-tabify/blob/main/tab2midi.ipynb)
    to convert guitar tabs to MIDI files, so I could play them back to hear how they
    sounded. The code is based on a similar project by Brian Caffey [2]. Here‚Äôs the
    complete score.
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/8d8cf53a469fb6a7f1f2593caae1d865.png)'
  prefs: []
  type: TYPE_IMG
- en: '**The Score for Dogs and Cats**, Image by Author'
  prefs: []
  type: TYPE_NORMAL
- en: And here‚Äôs what the song sounds like. I used [Band-in-a-Box](https://www.pgmusic.com/)
    by PG Music to arrange the song with piano, guitar, bass, and drums. Feel free
    to sing along. üòÄ
  prefs: []
  type: TYPE_NORMAL
- en: '**Dogs and Cats**, Song by Author'
  prefs: []
  type: TYPE_NORMAL
- en: It‚Äôs simple but catchy, kinda like a nursery song. The first note is a bit odd
    in that it is an E, which would make the G chord effectively a G6\. And this occurs
    with every instance of the G chord, too. I think the best thing about the tune
    is the variation the third time through with the Am and G. Up next, I‚Äôll show
    you how I created melodies for a ska song.
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/57be80d0f3ce3a100eeb63addacd780a.png)'
  prefs: []
  type: TYPE_IMG
- en: '**‚Äúalbum cover for a ska band, black and white,‚Äù** Midjourney Image, Edited
    by Author'
  prefs: []
  type: TYPE_NORMAL
- en: Creating a Vocal Melody for a Full Song
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: To test this method further, I created lead melodies for the song ‚ÄúDance with
    the Fear,‚Äù which was developed in the first two articles in this series. The lyrics
    and chords are based on the song ‚Äú[Grow](https://www.youtube.com/watch?v=aL3N7j_wXPk)‚Äù
    by the ska band [The Agents](https://www.facebook.com/theagentsri/), which I used
    with their permission. I managed to get GPT-4 to create a melody for the new song,
    one section at a time.
  prefs: []
  type: TYPE_NORMAL
- en: Creating the Verse
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: Like the method I used above, I asked GPT-4 to create a melody for the verse
    and provided it with the chords and lyrics. I hit the regenerate button several
    times and examined the results before settling on this one.
  prefs: []
  type: TYPE_NORMAL
- en: '*RobG: Write a guitar tab for the melody of the verse for this ska song, playing
    only one note at a time.*'
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: ''
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '[Em] Waking up to a [G] brand new day,'
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '[D] Feeling the fear but [A] not turning away,'
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '[Em] Facing the unknown, [G] that‚Äôs where we‚Äôll start,'
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '[D] With an open mind and [A] a fearless heart.'
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: ''
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '*GPT-4:*'
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: Here is a simple guitar tab for the melody of the verse, playing one note at
    a time
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '[PRE2]'
  prefs: []
  type: TYPE_PRE
- en: Please note that this tab is a simplified version of the melody, and you can
    further modify and embellish it as you see fit for your performance or arrangement.
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: Here‚Äôs what the melody sounds like.
  prefs: []
  type: TYPE_NORMAL
- en: '**Dance with the Fear**, **Verse**, Music by Author'
  prefs: []
  type: TYPE_NORMAL
- en: In general, it‚Äôs pretty good. It established a theme for the first phrase and
    has a nice resolution for the second phrase. But, once again, it created too many
    notes for the lyrics.
  prefs: []
  type: TYPE_NORMAL
- en: Creating the Pre-Chorus
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: A pre-chorus is a melody that leads into the chorus of a song. Note that the
    ChatGPT user interface included the context of previous interactions in the session,
    so I could be a bit more brief in my prompt to generate the melody for the pre-chorus.
  prefs: []
  type: TYPE_NORMAL
- en: '*Write a melody for the pre-chorus.*'
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: ''
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '*[Am] No more hiding, [C] no more doubts,'
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '[G] It‚Äôs time to let our [D] courage out.*'
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: ''
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '*GPT-4*'
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: 'Sure, I can provide a simple melody for the pre-chorus using the provided chord
    progression. Here‚Äôs the tab:'
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '[PRE3]'
  prefs: []
  type: TYPE_PRE
- en: This melody uses the A minor, C Major, G Major, and D Major scales respectively.
    As always, feel free to modify this as you see fit for your performance.
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: I‚Äôm sure it meant the word ‚Äúchords‚Äù instead of ‚Äúscales‚Äù in its response since
    the melody it generated is in G Major. Just to be sure, I asked for clarification.
  prefs: []
  type: TYPE_NORMAL
- en: '*RobG: Did you mean to use the word ‚Äúscales‚Äù?*'
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: ''
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '*GPT-4:* My apologies for any confusion. I meant to say that the melody notes
    are based on the respective chords, not scales.'
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: OK, that cleared things up. As for the melody, I got the sense that the many
    notes it wrote could be interpreted as held notes. In other words, a string of
    four eighth notes could be played as a one half note. This reflects a limitation
    of the guitar tab format in that the note lengths are not expressed. Seen through
    this lens, the melody is good. Here is the melody for the pre-chorus, as written
    originally and after I converted some of the repeated notes to single ones with
    longer durations.
  prefs: []
  type: TYPE_NORMAL
- en: '**Dance with the Fear, Pre-Chorus**, Song by Author'
  prefs: []
  type: TYPE_NORMAL
- en: OK, the second take sounds better with the held notes. Here are the lyrics and
    chords again for reference.
  prefs: []
  type: TYPE_NORMAL
- en: '[Am] No more hiding, [C] no more doubts,'
  prefs: []
  type: TYPE_NORMAL
- en: '[G] It‚Äôs time to let our [D] courage out.'
  prefs: []
  type: TYPE_NORMAL
- en: All Four Parts
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: I repeated the process for the chorus and the bridge and assembled the parts
    into a single score with the chords played on a piano. Here are the four parts
    of the song.
  prefs: []
  type: TYPE_NORMAL
- en: '**Dance with the Fear, All Parts**, Song by Author'
  prefs: []
  type: TYPE_NORMAL
- en: For this version of the song, I cleaned up all of the repeated notes to make
    them match the rhythm and meter of the lyrics. Overall, the quality of the melodies
    is good. There were no sour notes and the phrases gell with the underlying chords.
  prefs: []
  type: TYPE_NORMAL
- en: Up next, you can hear the song with an actual human singer.
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/1051fc6a3ef01d1d8c1709d40bf0b7e8.png)'
  prefs: []
  type: TYPE_IMG
- en: '**Kate Li Sings Dance with the Fea**r, Image by Author'
  prefs: []
  type: TYPE_NORMAL
- en: I am very grateful to my friend and colleague, Kate Li, who sang the tune for
    this article. She transposed the song up six half-steps to go from G to D-flat
    to accommodate her vocal range. I used Band-in-a-box to fill out the instrumentation
    with piano, guitar, horns, bass, and drums. Here‚Äôs the finished song.
  prefs: []
  type: TYPE_NORMAL
- en: '**Dance with the Fear,** Song by Author'
  prefs: []
  type: TYPE_NORMAL
- en: Kate did great singing the main vocal track and adding harmonies for the choruses.
    She brought a lot of emotional punch to the bridge with the rising melody and
    provided some nice adlibs for the outro. Please let me know your thoughts on the
    song here or on [SoundCloud](https://soundcloud.com/robgonsalves/dance-with-the-fear-final?si=88d83c25c8f148c3b37b93107705a83d&utm_source=clipboard&utm_medium=text&utm_campaign=social_sharing).
  prefs: []
  type: TYPE_NORMAL
- en: Discussion
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: It took a little work, but I got GPT-4 to generate melodies for new songs. The
    guitar tab format is tricky to work with, but it‚Äôs currently the best way to go.
    When OpenAI releases its version of GPT-4 with vision, I hope it had seen pages
    of sheet music to help assist with composing melodies.
  prefs: []
  type: TYPE_NORMAL
- en: Comparing the three music composition tasks I set out to do in this series,
    analyzing and generating chords in the [second articl](https://medium.com/towards-data-science/writing-songs-with-gpt-4-part-2-chords-173cfda0e5a1)e
    worked the best. Although imperfect, the language model has deep knowledge of
    music theory and can easily create new and innovative chord progressions.
  prefs: []
  type: TYPE_NORMAL
- en: Analyzing and creating lyrics for songs, discussed in the [first article](https://medium.com/towards-data-science/writing-songs-with-gpt-4-part-1-lyrics-3728da678482),
    was also easy to do with GPT-4, but the generated lyrics were often simple and
    clich√©d. Although the system knows how to rhyme, it takes some work to direct
    the system to create unique, exciting, and meaningful lyrics.
  prefs: []
  type: TYPE_NORMAL
- en: Source Code
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: The source code for this project is available on [GitHub](https://github.com/robgon-art/ml-tabify).
  prefs: []
  type: TYPE_NORMAL
- en: '![](../Images/0d2a80456e428a4647f6b9c6698b8bb8.png)'
  prefs: []
  type: TYPE_IMG
- en: '**Creative Commons Attribution Sharealike**'
  prefs: []
  type: TYPE_NORMAL
- en: Acknowledgments
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: I want to thank Kate Li for singing the song for this article. I also thank
    Pete Fayan from the Agents for his engagement with this project. Finally, I thank
    Jennifer Lim for reviewing the article and providing feedback.
  prefs: []
  type: TYPE_NORMAL
- en: More on Writing Songs with GPT-4
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Here are the first two articles in this series.
  prefs: []
  type: TYPE_NORMAL
- en: '[](/writing-songs-with-gpt-4-part-1-lyrics-3728da678482?source=post_page-----848ab3614e7a--------------------------------)
    [## Writing Songs with GPT-4: Part 1, Lyrics'
  prefs: []
  type: TYPE_NORMAL
- en: How to use the latest language model from OpenAI to help write lyrics for original
    songs
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: 'towardsdatascience.com](/writing-songs-with-gpt-4-part-1-lyrics-3728da678482?source=post_page-----848ab3614e7a--------------------------------)
    [](/writing-songs-with-gpt-4-part-2-chords-173cfda0e5a1?source=post_page-----848ab3614e7a--------------------------------)
    [## Writing Songs with GPT-4: Part 2, Chords'
  prefs: []
  type: TYPE_NORMAL
- en: How to use the latest large language model from OpenAI to help compose chords
    for original songs
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: towardsdatascience.com](/writing-songs-with-gpt-4-part-2-chords-173cfda0e5a1?source=post_page-----848ab3614e7a--------------------------------)
  prefs: []
  type: TYPE_NORMAL
- en: References
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: '[1] OpenAI, [GPT-4 Technical Report](https://arxiv.org/pdf/2303.08774.pdf)
    (2023)'
  prefs: []
  type: TYPE_NORMAL
- en: '[2] B. Caffey, [Generating MIDI files from guitar tablatures with Python and
    regular expressions](https://briancaffey.github.io/2018/04/26/generating-music-from-guitar-tabs-with-python.html/)
    (2018)'
  prefs: []
  type: TYPE_NORMAL
